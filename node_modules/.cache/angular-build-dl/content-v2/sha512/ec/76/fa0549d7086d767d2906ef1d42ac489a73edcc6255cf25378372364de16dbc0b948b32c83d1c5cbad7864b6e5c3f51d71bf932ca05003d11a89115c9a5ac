{"version":3,"sources":["./src/app/components/lexicon-panel/lexicon-panel.component.ts","./src/app/components/lexicon-panel/lexicon-panel.component.html","./src/app/components/link-panel/same-as/same-as.component.ts","./src/app/components/link-panel/same-as/same-as.component.html","./src/app/components/attestation-panel/form-panel/form-panel.component.ts","./src/app/components/attestation-panel/form-panel/form-panel.component.html","./src/app/components/lexicon-panel/document-system-tree/lexical-entry-tree/lexical-entry-tree.component.ts","./src/app/components/lexicon-panel/document-system-tree/lexical-entry-tree/lexical-entry-tree.component.html","./src/app/components/lexicon-panel/text-detail/epigraphy-detail/epigraphy-tab/epigraphy-form/search-form/search-form.component.ts","./src/app/components/lexicon-panel/text-detail/epigraphy-detail/epigraphy-tab/epigraphy-form/search-form/search-form.component.html","./src/app/services/document-system/document-system.service.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/synsem-tab/synsem-tab.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/synsem-tab/synsem-tab.component.html","./src/app/components/lexicon-panel/text-detail/edit-detail/decomposition-tab/decomposition-tab.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/decomposition-tab/decomposition-tab.component.html","./src/app/views/home-page/home-page.component.ts","./src/app/views/home-page/home-page.component.html","./src/app/services/auth/auth.service.ts","./src/environments/environment.ts","./src/app/components/lexicon-panel/document-system-tree/skos-tree/skos-tree.component.ts","./src/app/components/lexicon-panel/document-system-tree/skos-tree/skos-tree.component.html","./src/app/components/profiles-table/profiles-table.component.ts","./src/app/components/profiles-table/profiles-table.component.html","./src/app/services/annotator/annotator.service.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/vartrans-tab/vartrans-tab.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/vartrans-tab/vartrans-tab.component.html","./src/app/components/lexicon-panel/text-detail/edit-detail/core-tab/core-tab.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/core-tab/core-tab.component.html","./src/app/components/lexicon-panel/text-detail/edit-detail/vartrans-tab/lexical-entry-vartrans-form/lexical-entry-vartrans-form.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/vartrans-tab/lexical-entry-vartrans-form/lexical-entry-vartrans-form.component.html","./src/app/components/lexicon-panel/document-system-tree/language-manager/language-manager.component.ts","./src/app/components/lexicon-panel/document-system-tree/language-manager/language-manager.component.html","./src/app/services/bibliography-service/bibliography.service.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/synsem-tab/lexical-entry-synsem-form/lexical-entry-synsem-form.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/synsem-tab/lexical-entry-synsem-form/lexical-entry-synsem-form.component.html","./src/app/components/profiles-table/validator/password-match.ts","./src/app/services/concept/concept.service.ts","./src/app/views/login-page/login-page.component.ts","./src/app/views/login-page/login-page.component.html","./src/app/app.component.ts","./src/app/app.component.html","./src/app/components/lexicon-panel/text-detail/edit-detail/etymology-tab/etymology-form/etymology-form.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/etymology-tab/etymology-form/etymology-form.component.html","./src/app/views/lexicon-page/lexicon-page.component.ts","./src/app/views/lexicon-page/lexicon-page.component.html","./src/app/components/lexicon-panel/document-system-tree/lexical-entry-tree/interfaces/lexical-entry-interface.ts","./src/app/components/lexicon-panel/document-system-tree/text-tree/text-tree.component.ts","./src/app/components/lexicon-panel/document-system-tree/text-tree/text-tree.component.html","./src/app/components/lexicon-panel/text-detail/edit-detail/decomposition-tab/lexical-entry-decomp-form/lexical-entry-decomp-form.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/decomposition-tab/lexical-entry-decomp-form/lexical-entry-decomp-form.component.html","./src/app/components/lexicon-panel/text-detail/edit-detail/dictionary-tab/dictionary-tab.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/dictionary-tab/dictionary-tab.component.html","./src/app/app.module.ts","./src/app/components/metadata-panel/metadata-panel.component.ts","./src/app/components/metadata-panel/metadata-panel.component.html","./src/app/components/lexicon-panel/text-detail/edit-detail/edit-detail.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/edit-detail.component.html","./src/app/services/expander/expander.service.ts","./src/app/components/lexicon-panel/text-detail/epigraphy-detail/epigraphy-tab/epigraphy-form/epigraphy-form.component.ts","./src/app/components/lexicon-panel/text-detail/epigraphy-detail/epigraphy-tab/epigraphy-form/epigraphy-form.component.html","./src/app/components/lexicon-panel/text-detail/edit-detail/core-tab/concept-set-core-form/concept-set-core-form.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/core-tab/concept-set-core-form/concept-set-core-form.component.html","./src/app/components/lexicon-panel/text-detail/epigraphy-detail/epigraphy-detail.component.ts","./src/app/components/lexicon-panel/text-detail/epigraphy-detail/epigraphy-detail.component.html","./src/app/components/lexicon-panel/document-system-tree/document-system-tree.component.ts","./src/app/components/lexicon-panel/document-system-tree/document-system-tree.component.html","./src/app/components/bibliography-panel/bibliography-panel.component.ts","./src/app/components/bibliography-panel/bibliography-panel.component.html","./src/app/services/initializer/app-init.ts","./src/app/components/note-panel/note-panel.component.ts","./src/app/components/note-panel/note-panel.component.html","./src/app/services/lexical-entries/lexical-entries.service.ts","./src/app/views/unauthorized-page/unauthorized-page/unauthorized-page.component.ts","./src/app/views/unauthorized-page/unauthorized-page/unauthorized-page.component.html","./src/app/components/navbar/navbar.component.ts","./src/app/components/navbar/navbar.component.html","./src/app/components/lexicon-panel/text-detail/edit-detail/etymology-tab/etymology-tab.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/etymology-tab/etymology-tab.component.html","./src/app/components/lexicon-panel/text-detail/text-detail.component.ts","./src/app/components/lexicon-panel/text-detail/text-detail.component.html","./src/app/services/guard/auth.guard.ts","./src/app/components/lexicon-panel/text-detail/epigraphy-detail/epigraphy-tab/epigraphy-tab.component.ts","./src/app/components/lexicon-panel/text-detail/epigraphy-detail/epigraphy-tab/epigraphy-tab.component.html","./src/app/views/page-not-found/page-not-found.component.ts","./src/app/views/page-not-found/page-not-found.component.html","./src/app/components/link-panel/see-also/see-also.component.ts","./src/app/components/link-panel/see-also/see-also.component.html","./src/app/views/profile-page/profile-page.component.ts","./src/app/views/profile-page/profile-page.component.html","./src/app/components/lexicon-panel/text-detail/edit-detail/core-tab/lexical-concept-form/lexical-concept-form.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/core-tab/lexical-concept-form/lexical-concept-form.component.html","./src/app/components/lexicon-panel/text-detail/edit-detail/core-tab/sense-core-form/sense-core-form.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/core-tab/sense-core-form/sense-core-form.component.html","./src/app/components/lexicon-panel/text-detail/edit-detail/vartrans-tab/sense-vartrans-form/sense-vartrans-form.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/vartrans-tab/sense-vartrans-form/sense-vartrans-form.component.html","./src/app/components/attestation-panel/attestation-panel.component.ts","./src/app/components/attestation-panel/attestation-panel.component.html","./src/app/views/search-page/search-page.component.ts","./src/app/views/search-page/search-page.component.html","./src/app/app-routing.module.ts","./src/app/services/lila/lila.service.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/core-tab/form-core-form/form-core-form.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/core-tab/form-core-form/form-core-form.component.html","./src/app/components/data-search-form/data-search-form.component.ts","./src/app/components/data-search-form/data-search-form.component.html","./src/app/components/lexicon-panel/text-detail/edit-detail/core-tab/lexical-entry-core-form/cognate-panel/cognate-panel.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/core-tab/lexical-entry-core-form/cognate-panel/cognate-panel.component.html","./src/app/components/lexicon-panel/text-detail/edit-detail/core-tab/lexical-entry-core-form/lexical-entry-core-form.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/core-tab/lexical-entry-core-form/lexical-entry-core-form.component.html","./src/main.ts","./$_lazy_route_resource lazy namespace object","./src/app/components/link-panel/link-panel.component.ts","./src/app/components/link-panel/link-panel.component.html"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-lexicon-panel',\n  templateUrl: './lexicon-panel.component.html',\n  styleUrls: ['./lexicon-panel.component.scss']\n})\nexport class LexiconPanelComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","\n\n<div class=\"container-fluid\" >\n    <div class=\"row\" >\n        <div class=\"col-md-4 p-1\" >\n            <app-document-system-tree></app-document-system-tree>\n        </div>\n        <div class=\"col-md-8 p-1\" >\n            <app-text-detail></app-text-detail>\n        </div>\n    </div>\n</div>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, Input, OnDestroy, OnInit, QueryList, SimpleChanges, ViewChildren } from '@angular/core';\nimport { FormArray, FormBuilder, FormControl, FormGroup } from '@angular/forms';\nimport { Subject, Subscription } from 'rxjs';\nimport { debounceTime, takeUntil } from 'rxjs/operators';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\nimport { ToastrService } from 'ngx-toastr';\nimport { LilaService } from 'src/app/services/lila/lila.service';\nimport { NgSelectComponent } from '@ng-select/ng-select';\n\n@Component({\n  selector: 'app-same-as',\n  templateUrl: './same-as.component.html',\n  styleUrls: ['./same-as.component.scss']\n})\nexport class SameAsComponent implements OnInit, OnDestroy {\n\n  @Input() sameAsData: any[] | any;\n\n  private subject: Subject<any> = new Subject();\n  private subject_input: Subject<any> = new Subject();\n  subscription: Subscription;\n  object: any;\n  searchResults = [];\n  filterLoading = false;\n\n  sameas_subscription: Subscription;\n\n  destroy$ : Subject<any> = new Subject();\n\n  @ViewChildren('sameAsSelect') sameAsList: QueryList<NgSelectComponent>;\n\n\n  memorySameAs = [];\n  isSense;\n  isForm;\n  isLexEntry;\n  isLexicalConcept;\n\n  disableAddSameAs = false;\n\n  sameAsForm = new FormGroup({\n    sameAsArray: new FormArray([this.createSameAsEntry()]),\n    isEtymon: new FormControl(null),\n    isCognate: new FormControl(null)\n  })\n\n  sameAsArray: FormArray;\n\n  constructor(private formBuilder: FormBuilder,\n    private lexicalService: LexicalEntriesService,\n    private toastr: ToastrService,\n    private lilaService: LilaService) {\n  }\n\n  ngOnInit() {\n    this.sameAsForm = this.formBuilder.group({\n      sameAsArray: this.formBuilder.array([]),\n      isEtymon: false,\n      isCognate: false,\n    })\n\n    this.subject.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      data => {\n        this.onSearchFilter(data)\n      }\n    )\n\n    this.sameas_subscription = this.lexicalService.triggerSameAs$.subscribe(\n      data => {\n        console.log(data);\n        if ((data != undefined || data != null) && this.object != undefined) {\n          this.object.type = data;\n          if (typeof (this.object.type) != \"string\") {\n            let isCognate = this.object.type.find(element => element == 'Cognate');\n            if (isCognate) {\n              this.sameAsForm.get('isCognate').setValue(true, { emitEvent: false })\n            } else {\n              this.sameAsForm.get('isCognate').setValue(false, { emitEvent: false })\n            }\n\n            let isEtymon = this.object.type.find(element => element == 'Etymon');\n            if (isEtymon) {\n              this.sameAsForm.get('isEtymon').setValue(true, { emitEvent: false })\n            } else {\n              this.sameAsForm.get('isEtymon').setValue(false, { emitEvent: false })\n            }\n          } else {\n            if (this.object.type == 'Cognate') {\n              this.sameAsForm.get('isCognate').setValue(true, { emitEvent: false })\n            } else {\n              this.sameAsForm.get('isCognate').setValue(false, { emitEvent: false })\n            }\n\n            if (this.object.type == 'Etymon') {\n              this.sameAsForm.get('isEtymon').setValue(true, { emitEvent: false })\n            } else {\n              this.sameAsForm.get('isEtymon').setValue(false, { emitEvent: false })\n            }\n          }\n        }\n      }, error => {\n        console.log(error)\n      }\n    )\n\n    this.subject_input.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      data => {\n        this.onChangeSameAsByInput(data['value'], data['i'])\n      }\n    )\n\n    this.triggerTooltip();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    setTimeout(() => {\n      if (changes.sameAsData.currentValue != undefined) {\n        this.object = changes.sameAsData.currentValue;\n        this.sameAsArray = this.sameAsForm.get('sameAsArray') as FormArray;\n        this.sameAsArray.clear();\n\n        this.memorySameAs = [];\n        console.log(this.object)\n        this.disableAddSameAs = false;\n\n        this.object.array.forEach(element => {\n          this.addSameAsEntry(element.entity, element.linkType == 'external')\n          this.memorySameAs.push(element.entity);\n        });\n\n        //console.log(this.memorySameAs)\n        if (this.object.type != undefined) {\n          if (typeof (this.object.type) != \"string\") {\n            let isCognate = this.object.type.find(element => element == 'Cognate');\n            if (isCognate) {\n              this.sameAsForm.get('isCognate').setValue(true, { emitEvent: false })\n            } else {\n              this.sameAsForm.get('isCognate').setValue(false, { emitEvent: false })\n            }\n\n            let isEtymon = this.object.type.find(element => element == 'Etymon');\n            if (isEtymon) {\n              this.sameAsForm.get('isEtymon').setValue(true, { emitEvent: false })\n            } else {\n              this.sameAsForm.get('isEtymon').setValue(false, { emitEvent: false })\n            }\n          } else {\n            if (this.object.type == 'Cognate') {\n              this.sameAsForm.get('isCognate').setValue(true, { emitEvent: false })\n            } else {\n              this.sameAsForm.get('isCognate').setValue(false, { emitEvent: false })\n            }\n\n            if (this.object.type == 'Etymon') {\n              this.sameAsForm.get('isEtymon').setValue(true, { emitEvent: false })\n            } else {\n              this.sameAsForm.get('isEtymon').setValue(false, { emitEvent: false })\n            }\n          }\n\n        }\n\n\n        if (this.object.lexicalEntry != undefined) {\n          this.isLexEntry = true;\n          this.isForm = false;\n          this.isSense = false;\n          this.isLexicalConcept = false;\n        } else if (this.object.form != undefined) {\n          this.isLexEntry = false;\n          this.isForm = true;\n          this.isSense = false;\n          this.isLexicalConcept = false;\n        } else if (this.object.sense != undefined) {\n          this.isLexEntry = false;\n          this.isForm = false;\n          this.isSense = true;\n          this.isLexicalConcept = false;\n        } else if (this.object.lexicalConcept != undefined) {\n          this.isLexEntry = false;\n          this.isForm = false;\n          this.isSense = false;\n          this.isLexicalConcept = true;\n        }\n\n      } else {\n        this.object = null;\n      }\n    }, 10);\n  }\n\n  async onChangeSameAsByInput(value, index) {\n    if (value.trim() != '') {\n      var selectedValues = value;\n      var lexicalElementId = '';\n      let parameters = {};\n      if (this.object.lexicalEntry != undefined) {\n        lexicalElementId = this.object.lexicalEntry;\n      } else if (this.object.form != undefined) {\n        lexicalElementId = this.object.form;\n      } else if (this.object.sense != undefined) {\n        lexicalElementId = this.object.sense;\n      } else if (this.object.etymology != undefined) {\n        lexicalElementId = this.object.etymology;\n      } else if (this.object.lexicalConcept != undefined) {\n        lexicalElementId = this.object.lexicalConcept;\n      }\n\n      //console.log(this.memorySameAs[index])\n      if (this.memorySameAs[index] == undefined || this.memorySameAs[index] == \"\") {\n        parameters = {\n          type: \"reference\",\n          relation: \"http://www.w3.org/2002/07/owl#sameAs\",\n          value: selectedValues\n        }\n\n\n        \n      } else {\n        let oldValue = this.memorySameAs[index];\n        parameters = {\n          type: \"reference\",\n          relation: \"http://www.w3.org/2002/07/owl#sameAs\",\n          value: selectedValues,\n          currentValue: oldValue\n        }\n\n      }\n\n      try {\n        let data = await this.lexicalService.updateGenericRelation(lexicalElementId, parameters).toPromise();\n      } catch (e) {\n        console.log(e)\n        this.disableAddSameAs = false;\n        if (e.status == 200) {\n          this.memorySameAs[index] = selectedValues;\n          this.memorySameAs.push(selectedValues);\n          this.toastr.success('sameAs updated', '', {\n            timeOut: 5000,\n          });\n\n          this.sameAsArray.at(index).get('entity').setValue(selectedValues, {emitEvent: false});\n          this.sameAsArray.at(index).get('inferred').setValue(true, {emitEvent: false})\n          this.sameAsArray.at(index).get('lila').setValue(false, {emitEvent: false})\n        } else {\n          this.toastr.error(e.error, 'Error', {\n            timeOut: 5000,\n          });\n        }\n      }\n    }\n\n  }\n\n  async onChangeSameAs(sameAs, index) {\n    console.log(sameAs.selectedItems);\n    let lexicalElementId = '';\n\n    if (this.object.lexicalEntry != undefined) {\n      lexicalElementId = this.object.lexicalEntry;\n    } else if (this.object.form != undefined) {\n      lexicalElementId = this.object.form;\n    } else if (this.object.sense != undefined) {\n      lexicalElementId = this.object.sense;\n    } else if (this.object.etymology != undefined) {\n      lexicalElementId = this.object.etymology;\n    }\n    if (sameAs.selectedItems.length != 0) {\n      let parameters = {};\n      var selectedValues = sameAs.selectedItems[0].value.lexicalEntry;\n\n      if (selectedValues == undefined) {\n        sameAs.selectedItems[0].value.lexicalEntry;\n      }\n\n\n      if (this.memorySameAs[index] == undefined || this.memorySameAs[index] == \"\") {\n        parameters = {\n          type: \"reference\",\n          relation: \"http://www.w3.org/2002/07/owl#sameAs\",\n          value: selectedValues\n        }\n\n\n       \n      } else {\n        let oldValue = this.memorySameAs[index];\n        parameters = {\n          type: \"reference\",\n          relation: \"http://www.w3.org/2002/07/owl#sameAs\",\n          value: selectedValues,\n          currentValue: oldValue\n        }\n\n      }\n      console.log(parameters)\n      try {\n        let data = await this.lexicalService.updateGenericRelation(lexicalElementId, parameters).toPromise();\n      } catch (e) {\n        console.log(e)\n        if (e.status == 200) {\n          this.memorySameAs[index] = selectedValues;\n          this.memorySameAs.push(selectedValues);\n          this.sameAsArray.at(index).get('entity').setValue(selectedValues, {emitEvent: false});\n          this.sameAsArray.at(index).get('inferred').setValue(true, {emitEvent: false})\n          this.toastr.success('SeeAlso updated', '', {\n            timeOut: 5000,\n          });\n        } else {\n          this.toastr.error(e.error, 'Error', {\n            timeOut: 5000,\n          });\n        }\n      }\n\n    }\n\n\n  }\n\n  async onSearchFilter(data) {\n    this.filterLoading = true;\n    this.searchResults = [];\n\n    let value = data.value;\n    let index = data.index;\n    console.log(data)\n    this.sameAsArray = this.sameAsForm.get('sameAsArray') as FormArray;\n    let isLila = this.sameAsArray.at(index).get('lila').value;\n\n    if (!isLila) {\n      if (this.object.lexicalEntry != undefined) {\n        let parameters = {\n          text: data,\n          searchMode: \"startsWith\",\n          type: \"\",\n          pos: \"\",\n          formType: \"entry\",\n          author: \"\",\n          lang: \"\",\n          status: \"\",\n          offset: 0,\n          limit: 500\n        }\n        try {\n          let lex_entry_list = await this.lexicalService.getLexicalEntriesList(parameters).toPromise();\n          this.searchResults = lex_entry_list['list']\n          console.log(this.searchResults)\n          this.filterLoading = false;\n        } catch (e) {\n          console.log(e);\n          if (e.status != 200) {\n            this.toastr.error('Something went wrong', 'Error', { timeOut: 5000 });\n          }\n          this.filterLoading = false;\n        }\n\n\n\n      } else if (this.object.form != undefined) {\n        let parameters = {\n          text: data,\n          searchMode: \"startsWith\",\n          representationType: \"writtenRep\",\n          author: \"\",\n          offset: 0,\n          limit: 500\n        }\n        console.log(parameters);\n        try {\n          let forms_list = await this.lexicalService.getFormList(parameters).toPromise();\n          this.searchResults = forms_list['list']\n          console.log(this.searchResults)\n          this.filterLoading = false;\n        } catch (e) {\n          console.log(e);\n          if (e.status != 200) {\n            this.toastr.error('Something went wrong', 'Error', { timeOut: 5000 });\n          }\n          this.filterLoading = false;\n        }\n\n\n      } else if (this.object.sense != undefined) {\n        let parameters = {\n          text: data,\n          searchMode: \"startsWith\",\n          type: \"\",\n          pos: \"\",\n          formType: \"entry\",\n          author: \"\",\n          lang: \"\",\n          status: \"\",\n          offset: 0,\n          limit: 500\n        }\n\n        try {\n          let senses_list = await this.lexicalService.getSensesList(parameters).toPromise();\n          this.searchResults = senses_list['list']\n          console.log(this.searchResults)\n          this.filterLoading = false;\n        } catch (e) {\n          console.log(e);\n          if (e.status != 200) {\n            this.toastr.error('Something went wrong', 'Error', { timeOut: 5000 });\n          }\n          this.filterLoading = false;\n        }\n      }\n    } else if (isLila) {\n      this.searchResults = [];\n      if (this.sameAsForm.get('isEtymon').value) {\n\n        try {\n          let etymon_list = await this.lilaService.queryEtymon(value).toPromise();\n          if (etymon_list.list.length > 0) {\n            const map = etymon_list.list.map(etym => (\n              {\n                label: etym[2]?.value,\n                language: etym[1]?.value,\n                lexicalEntry: etym[0]?.value\n              })\n            )\n            this.searchResults = map;\n            console.log(this.searchResults)\n          }\n        } catch (e) {\n          console.log(e);\n          if (e.status != 200) {\n            this.toastr.error('Something went wrong', 'Error', { timeOut: 5000 });\n          }\n          this.filterLoading = false;\n        }\n      }\n\n\n      if (this.sameAsForm.get('isCognate').value) {\n        try{\n          let cognates_list = await this.lilaService.queryCognate(value).toPromise();\n          if (cognates_list.list.length > 0) {\n\n\n            const map = cognates_list.list.map(element => (\n              {\n                label: this.object.label,\n                labelValue: element[0].value,\n                pos: element[1].value\n              })\n            )\n\n            map.forEach(element => {\n              let tmpLblVal = element.labelValue.split('/');\n              let labelValue = tmpLblVal[tmpLblVal.length - 1];\n\n              let tmpLblPos = element.pos.split('/');\n              let pos = tmpLblPos[tmpLblPos.length - 1];\n\n\n              element.labelElement = labelValue;\n              element.labelPos = pos;\n\n            });\n\n\n\n            this.searchResults = map;\n            console.log(this.searchResults)\n\n          }\n        }catch(e){\n          console.log(e);\n          if (e.status != 200) {\n            this.toastr.error('Something went wrong', 'Error', { timeOut: 5000 });\n          }\n          this.filterLoading = false;\n        }\n        \n      }\n    }\n\n\n    console.log(data)\n\n  }\n\n  /* triggerLilaSearch(index){\n    \n    \n    setTimeout(() => {\n      this.sameAsArray = this.sameAsForm.get('sameAsArray') as FormArray;\n      if(this.sameAsArray.at(index).get('lila').value){\n        const element = Array.from(this.sameAsList)[index];\n\n       \n      }\n      \n\n    })\n  }\n */\n\n  deleteData() {\n    this.searchResults = [];\n  }\n\n  triggerSameAsInput(evt, i) {\n    if (evt.target != undefined) {\n      let value = evt.target.value;\n      this.subject_input.next({ value, i })\n    }\n  }\n\n  triggerSameAs(evt, i) {\n    console.log(evt.target.value)\n    if (evt.target != undefined) {\n      this.subject.next({ value: evt.target.value, index: i })\n    }\n  }\n\n  triggerTooltip() {\n    setTimeout(() => {\n      //@ts-ignore\n      $('.same-as-tooltip').tooltip({\n        trigger: 'hover'\n      });\n    }, 500);\n  }\n\n  createSameAsEntry(e?, i?) {\n    if (e == undefined) {\n      return this.formBuilder.group({\n        entity: null,\n        inferred: false,\n        lila: false\n      })\n    } else {\n      return this.formBuilder.group({\n        entity: e,\n        inferred: i,\n        lila: false\n      })\n    }\n\n  }\n\n  addSameAsEntry(e?, i?) {\n\n\n    this.sameAsArray = this.sameAsForm.get('sameAsArray') as FormArray;\n    if (e == undefined) {\n      this.disableAddSameAs = true;\n      this.sameAsArray.push(this.createSameAsEntry());\n    } else {\n      this.sameAsArray.push(this.createSameAsEntry(e, i));\n    }\n\n\n\n    this.triggerTooltip();\n\n\n  }\n\n  async removeElement(index) {\n    this.sameAsArray = this.sameAsForm.get('sameAsArray') as FormArray;\n    const lexical_entity = this.sameAsArray.at(index).get('entity').value;\n    this.disableAddSameAs = false;\n    let lexicalElementId = '';\n\n    if (this.object.lexicalEntry != undefined) {\n      lexicalElementId = this.object.lexicalEntry;\n    } else if (this.object.form != undefined) {\n      lexicalElementId = this.object.form;\n    } else if (this.object.sense != undefined) {\n      lexicalElementId = this.object.sense;\n    } else if (this.object.etymology != undefined) {\n      lexicalElementId = this.object.etymology;\n    } else if (this.object.lexicalConcept != undefined) {\n      lexicalElementId = this.object.lexicalConcept;\n    }\n    let parameters = {\n      relation: 'http://www.w3.org/2002/07/owl#sameAs',\n      value: lexical_entity\n    }\n\n    try{\n      let delete_request = await this.lexicalService.deleteLinguisticRelation(lexicalElementId, parameters).toPromise();\n\n      this.toastr.success(\"SameAs Removed\", '', {\n        timeOut: 5000,\n      });\n    }catch(e){\n      if (e.status == 200) {\n        this.toastr.success(\"SameAs Removed\", '', {\n          timeOut: 5000,\n        });\n      } else {\n        this.toastr.error(e.error.text, 'Error', {\n          timeOut: 5000,\n        });\n      }\n    }\n\n    \n    this.memorySameAs.splice(index, 1)\n    this.sameAsArray.removeAt(index);\n  }\n\n  ngOnDestroy(): void {\n    this.sameas_subscription.unsubscribe();\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n\n}\n","\n\n<form [formGroup]=\"sameAsForm\">\n    <div class=\"form-group row mt-3\">\n        <div class=\"input-group col-sm-12\">\n            <div class=\"card\">\n                <span class=\"text-id\">SAME AS</span>\n                <a (click)=\"addSameAsEntry()\" [ngClass]=\"{no_pointer: disableAddSameAs}\" class=\"pointer\"><span class=\"collapse-icon\"><i\n                            class=\"fa fa-plus-square\"></i></span></a>\n                <div class=\"card-body\">\n                    <div formArrayName=\"sameAsArray\" class=\"mt-3\">\n                        <div *ngFor=\"let sameAs of sameAsForm.get('sameAsArray')['controls']; let i = index\">\n                            <div [formGroupName]=\"i\">\n                                <div class=\"d-flex\">\n                                    <div class=\"form-group row ml-2  mr-2 w-100\" *ngIf=\"{switch : false}; let variable\">\n                                        <div class=\"input-group\" *ngIf=\"{boolean : sameAs.get('inferred').value}; let inf\">\n                                            <ng-select [isOpen]=\"dropdown\" #sameAsSelect formControlName=\"entity\" name=\"entity\"\n                                                (change)=\"onChangeSameAs(sameAsSelect, i)\" (focus)=\"deleteData()\"\n                                                (keyup)=\"triggerSameAs($event, i)\" bindValue=\"label\" class=\"resizeNgSelect\" [items]=\"searchResults\"\n                                                bindLabel=\"label\" placeholder=\"Search entity\" appendTo=\"body\"\n                                                [hidden]=\"!sameAs.get('lila').value\" [readonly]=\"inf.boolean\">\n                                                <ng-template ng-option-tmp let-item=\"item\" let-search=\"searchTerm\">\n                                           \n                                                    <div class=\"card-body p-0\">\n                                                        <span class=\"card-title m-0\" [ngOptionHighlight]=\"search\">{{item.label}}</span>\n                                                        <span style=\"color: blue;\">@{{item.language}}</span>\n                                                        <small class=\"card-text\">\n                                                           \n                                        \n                                                        </small>\n                                                       \n                                                    </div>\n                                        \n                                                </ng-template>\n                                               \n                                            </ng-select>\n                                            \n                                            <input formControlName=\"entity\" name=\"entity\" type=\"text\"\n                                                class=\"form-control \" (keyup)=\"triggerSameAsInput($event, i)\"\n                                                placeholder=\"Insert URI\" [hidden]=\"sameAs.get('lila').value\">\n\n                                            <div class=\"input-group-append\">\n                                               <!--  <div class=\"input-group-append ml-2 form-check\">\n                                                    <input class=\"form-check-input same-as-tooltip\" type=\"checkbox\"\n                                                        (change)=\"variable.switch=!variable.switch\"\n                                                        data-toggle=\"tooltip\" data-placement=\"bottom\"\n                                                        data-trigger=\"hover\"\n                                                        title=\"Clicca per inserire un URI manualmente\">\n                                                    <label class=\"form-check-label\" for=\"extCheck\"></label>\n                                                </div> -->\n                                                \n                                                <div class=\"input-group-append ml-2\" *ngIf=\"(sameAsForm.get('isCognate').value || sameAsForm.get('isEtymon').value) && (!inf.boolean && !sameAs.get('inferred').value)\">\n                                                    <div class=\"btn-group-toggle\" data-toggle=\"buttons\" placement=\"top\" ngbTooltip=\"Enable LiLa endpoint\" title=\"Enable LiLa endpoint\" >\n                                                        <label class=\"btn btn-secondary\" >\n                                                          <input  type=\"checkbox\" autocomplete=\"off\" autocomplete=\"off\" formControlName=\"lila\" name=\"lila\" style=\"border-radius: .3rem;\" > \n                                                            <!-- <img src=\"../../../../../../../assets/images/graphql.png\" alt=\"Avatar\" class=\"image\" style=\"height: 20px;\" /> -->\n                                                            <i class=\"fas fa-project-diagram\"></i>\n                                                        </label>\n                                                    </div>\n                                                </div>\n                                                <div class=\"input-group-append ml-2\" *ngIf=\"inf.boolean\">\n                                                    <a [href]=\"sameAs.get('entity').value\" target=\"_blank\"  class=\"btn btn-primary\"\n                                                        type=\"button\"><i class=\"fas fa-external-link-alt\"></i></a>\n                                                </div>\n                                                <div class=\"input-group-append ml-2\">\n                                                    <button (click)=\"removeElement(i)\" class=\"btn btn-danger\"\n                                                        type=\"button\"><i class=\"fa fa-trash-alt\"></i></button>\n                                                </div>\n                                            </div>\n\n                                           \n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</form>","import { Component, Input, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { ModalComponent } from 'ng-modal-lib';\nimport { Subscription } from 'rxjs';\nimport { debounceTime, first } from 'rxjs/operators';\nimport { AnnotatorService } from 'src/app/services/annotator/annotator.service';\n\n@Component({\n  selector: 'app-form-panel',\n  templateUrl: './form-panel.component.html',\n  styleUrls: ['./form-panel.component.scss']\n})\nexport class FormPanelComponent implements OnInit, OnDestroy {\n  public formId: string;\n  public label : any;\n  public subscription: Subscription;\n  public formData : any;\n  public id : any;\n\n  @ViewChild('formPanelModal', {static: false}) formPanelModal: ModalComponent;\n  \n  constructor(private annotatorService : AnnotatorService) { }\n\n  ngOnInit(): void {\n    \n  }\n\n  ngOnDestroy() : void {\n    this.subscription.unsubscribe();\n  }\n\n\n  triggerFormPanel(data?){\n    setTimeout(() => {\n      this.formPanelModal.show();\n      \n    }, 100);\n    \n  }\n\n  onCloseModal(idForm){\n    this.annotatorService.closePanelForm(idForm);\n    console.log(this.annotatorService.getAllPanelForms())\n  }\n}\n","<app-modal #formPanelModal style=\"top: 10%;\" class=\"modal-demo\" [maximizable]=\"false\" [inViewport]=\"true\"  [backdrop]=\"false\" class=\"panelFormData\" (closeModal)=\"onCloseModal(id)\">\n    <ng-container class=\"app-modal-header\">{{label}}</ng-container>\n    <ng-container class=\"app-modal-body\">\n       <app-form-core-form [formData]=\"formData\"></app-form-core-form>\n    </ng-container>\n    <!-- <ng-container class=\"app-modal-footer\">\n        <button type=\"button\" class=\"button button3\"\n            (click)=\"formPanelModal.hide()\">Delete</button>\n        <button type=\"button\" class=\"button button1\"\n            (click)=\"formPanelModal.hide()\">Save</button>\n        <button type=\"button\" class=\"button button2\"\n            style=\"float: right;\" (click)=\"formPanelModal.hide()\">Close\n        </button>\n    </ng-container> -->\n</app-modal>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { ApplicationRef, Component, ElementRef, Input, OnDestroy, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { TreeNode, TreeModel, TREE_ACTIONS, KEYS, IActionMapping, ITreeOptions, ITreeState } from '@circlon/angular-tree-component';\nimport { formTypeEnum, LexicalEntryRequest, searchModeEnum, typeEnum } from './interfaces/lexical-entry-interface'\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { ContextMenuComponent } from 'ngx-contextmenu';\n\nimport * as _ from 'underscore';\ndeclare var $: JQueryStatic;\n\n\nimport { debounceTime, take, takeUntil } from 'rxjs/operators';\nimport { ExpanderService } from 'src/app/services/expander/expander.service';\nimport { Subject, Subscription } from 'rxjs';\nimport { ToastrService } from 'ngx-toastr';\n\n\nconst actionMapping: IActionMapping = {\n  mouse: {\n\n    dblClick: (tree, node, $event) => {\n      if (node.hasChildren) {\n        TREE_ACTIONS.TOGGLE_EXPANDED(tree, node, $event);\n      }\n    },\n    click: (tree, node, $event) => {\n\n      TREE_ACTIONS.TOGGLE_ACTIVE(tree, node, $event);\n      TREE_ACTIONS.TOGGLE_EXPANDED(tree, node, $event);\n    },\n    contextMenu: (tree, node, $event) => {\n\n      TREE_ACTIONS.TOGGLE_ACTIVE(tree, node, $event);\n      TREE_ACTIONS.TOGGLE_EXPANDED(tree, node, $event);\n    },\n  }\n};\n\n@Component({\n  selector: 'app-lexical-entry-tree',\n  templateUrl: './lexical-entry-tree.component.html',\n  styleUrls: ['./lexical-entry-tree.component.scss']\n})\n\nexport class LexicalEntryTreeComponent implements OnInit, OnDestroy {\n  state!: ITreeState;\n  show = false;\n  modalShow = false;\n  flagAuthor = false;\n  searchIconSpinner = false;\n  viewPort: any;\n  titlePopover = \"Search examples\"\n  popoverWildcards = \"<span><b>Multiple character wildcard search:</b></span>&nbsp;<span><i>te*</i></span><br><span><b>Single character wildcard search:</b></span>&nbsp;<span><i>te?t</i></span><br> <b>Fuzzy search:</b></span>&nbsp;<span><i>test~</i></span><br><b>Weighted fuzzy search:</b></span>&nbsp;<span><i>test~0.8</i></span>\"\n  labelView = true;\n  idView = false;\n  offset = 0;\n  limit = 500;\n  interval;\n\n  destroy$ : Subject<boolean> = new Subject();\n\n  @ViewChild(ContextMenuComponent) public basicMenu: ContextMenuComponent;\n  /* sub : Subscription; */\n\n  counter = 0;\n\n  @Input() triggerShowTree: any;\n  @ViewChild('lexicalEntry') lexicalEntryTree: any;\n\n  nodes;\n  languages;\n  types;\n  authors;\n  partOfSpeech;\n  selectedNodeId;\n  status = [{ \"label\": \"false\", \"count\": 0 }, { \"label\": \"true\", \"count\": 0 }];\n  parameters: LexicalEntryRequest = {\n    text: \"\",\n    searchMode: searchModeEnum.startsWith,\n    type: \"\",\n    pos: \"\",\n    formType: \"entry\",\n    author: \"\",\n    lang: \"\",\n    status: \"\",\n    offset: this.offset,\n    limit: this.limit\n  }\n\n\n  options: ITreeOptions = {\n    useVirtualScroll: true,\n    scrollOnActivate: false,\n    nodeHeight: 13,\n    actionMapping,\n    getChildren: this.getChildren.bind(this)\n  };\n\n\n  filterForm = new FormGroup({\n    text: new FormControl(''),\n    searchMode: new FormControl('startsWith'),\n    type: new FormControl(''),\n    pos: new FormControl(''),\n    formType: new FormControl('entry'),\n    author: new FormControl(''),\n    lang: new FormControl(''),\n    status: new FormControl('')\n  });\n\n  initialValues = this.filterForm.value;\n\n  copySubject: Subject<string> = new Subject();\n\n  delete_req_subscription : Subscription;\n  add_sub_subscription : Subscription;\n  copy_subject_subscription : Subscription;\n  refresh_filter_subscription : Subscription;\n  get_lex_entry_list_subscription : Subscription;\n  get_languages_subscription : Subscription;\n  get_types_subscription : Subscription;\n  get_authors_subscription : Subscription;\n  get_pos_subscription : Subscription;\n  get_status_subscription : Subscription;\n\n  constructor(private expander: ExpanderService, \n              private renderer: Renderer2, \n              private element: ElementRef, \n              private lexicalService: LexicalEntriesService, \n              private toastr: ToastrService) {\n\n    var refreshTooltip = setInterval((val) => {\n      //console.log('called'); \n      //@ts-ignore\n      $('.lexical-tooltip').tooltip('disable');\n      //@ts-ignore\n      $('.lexical-tooltip').tooltip('enable');\n      //@ts-ignore\n      $('.note-tooltip').tooltip('disable');\n      //@ts-ignore\n      $('.note-tooltip').tooltip('enable');\n    }, 2000)\n  }\n\n  ngOnInit(): void {\n\n    this.viewPort = this.element.nativeElement.querySelector('tree-viewport');\n    this.renderer.addClass(this.viewPort, 'search-results');\n\n    this.onChanges();\n\n    this.delete_req_subscription = this.lexicalService.deleteReq$.subscribe(\n      signal => {\n\n        ////console.log(\"richiesta eliminazione lexical entry\");\n        if (signal != null) {\n          this.lexEntryDeleteReq(signal);\n        }\n\n      }\n    )\n\n    this.add_sub_subscription = this.lexicalService.addSubReq$.subscribe(\n      signal => {\n\n        if (signal != null) {\n          this.addSubElement(signal)\n        }\n      }\n    )\n\n    this.copy_subject_subscription = this.copySubject.pipe(debounceTime(500), takeUntil(this.destroy$)).subscribe(v => {\n      let selBox = document.createElement('textarea');\n      selBox.style.position = 'fixed';\n      selBox.style.left = '0';\n      selBox.style.top = '0';\n      selBox.style.opacity = '0';\n      selBox.value = v;\n      document.body.appendChild(selBox);\n      selBox.focus();\n      selBox.select();\n      document.execCommand('copy');\n      document.body.removeChild(selBox);\n\n      this.toastr.info('URI copied', 'Info', {\n        timeOut: 5000,\n      });\n    })\n\n    this.refresh_filter_subscription = this.lexicalService.refreshFilter$.subscribe(\n      signal => {\n\n        if (signal != null) {\n\n          this.get_lex_entry_list_subscription = this.lexicalService.getLexicalEntriesList(this.parameters).pipe(takeUntil(this.destroy$)).subscribe(\n            data => {\n              this.counter = data['totalHits'];\n            },\n            error => {\n              //console.log(error)\n            }\n          );\n\n\n          this.get_languages_subscription = this.lexicalService.getLanguages().pipe(takeUntil(this.destroy$)).subscribe(\n            data => {\n\n              this.languages = data;\n            }\n          );\n\n          this.get_types_subscription = this.lexicalService.getTypes().pipe(takeUntil(this.destroy$)).subscribe(\n            data => {\n              this.types = data;\n            }\n          );\n\n          this.get_authors_subscription = this.lexicalService.getAuthors().pipe(takeUntil(this.destroy$)).subscribe(\n            data => {\n              this.authors = data;\n            }\n          );\n\n          this.get_pos_subscription = this.lexicalService.getPos().pipe(takeUntil(this.destroy$)).subscribe(\n            data => {\n              this.partOfSpeech = data;\n            }\n          )\n\n          this.get_status_subscription = this.lexicalService.getStatus().pipe(takeUntil(this.destroy$)).subscribe(\n            data => {\n              this.status = data;\n            }\n          )\n\n\n        }\n      }\n    )\n\n    /* //console.log(this.parameters) */\n    this.get_lex_entry_list_subscription = this.lexicalService.getLexicalEntriesList(this.parameters).pipe(takeUntil(this.destroy$)).subscribe(\n      data => {\n        this.nodes = data['list'];\n        this.counter = data['totalHits'];\n      },\n      error => {\n        //console.log(error)\n      }\n    );\n\n    this.get_languages_subscription = this.lexicalService.getLanguages().subscribe(\n      data => {\n        this.languages = data;\n      }\n    );\n\n    this.get_types_subscription = this.lexicalService.getTypes().subscribe(\n      data => {\n        this.types = data;\n      }\n    );\n\n    this.get_authors_subscription = this.lexicalService.getAuthors().subscribe(\n      data => {\n        this.authors = data;\n      }\n    );\n\n    this.get_pos_subscription = this.lexicalService.getPos().subscribe(\n      data => {\n        this.partOfSpeech = data;\n      }\n    )\n\n    this.get_status_subscription = this.lexicalService.getStatus().subscribe(\n      data => {\n        this.status = data;\n      }\n    )\n  }\n\n  onChanges() {\n    this.filterForm.valueChanges.pipe(debounceTime(500), takeUntil(this.destroy$)).subscribe(searchParams => {\n      this.offset = 0;\n      this.lexicalEntriesFilter(searchParams);\n    })\n  }\n\n  addSubElement(signal?) {\n\n    setTimeout(() => {\n      let instanceName;\n      let lex = signal.lex;\n      let data = signal.data;\n      console.log(lex)\n      console.log(data)\n      switch (lex.request) {\n        case 'form': instanceName = 'form'; break;\n        case 'sense': instanceName = 'sense'; break;\n        case 'etymology': instanceName = 'etymology'; break;\n        case 'subterm': instanceName = 'lexicalEntry'; break;\n        case 'constituent': instanceName = 'component'; break;\n      }\n      this.lexicalEntryTree.treeModel.getNodeBy(x => {\n        if (lex.lexicalEntry != undefined) {\n          if (x.data.lexicalEntry === lex.lexicalEntry) {\n            if (x.data.children == undefined && !x.isExpanded) {\n              x.expand();\n              var that = this;\n              this.interval = setInterval((val) => {\n                if (x.data.children != undefined) {\n                  this.lexicalEntryTree.treeModel.getNodeBy(y => {\n                    if (y.data[instanceName] != undefined) {\n                      /* console.log(y.data[instanceName]) */\n                      if (y.data['creator'] == x.data.creator) {\n                        y.data['flagAuthor'] = false;\n                      } else {\n                        y.data['flagAuthor'] = true;\n                      }\n                      if (y.data[instanceName] === data[instanceName]) {\n                        y.setActiveAndVisible();\n                        clearInterval(that.interval)\n                        return true;\n                      } else {\n                        return false;\n                      }\n                    } else {\n                      return false;\n                    }\n                  })\n                }\n              }, 3000)\n\n            } else if (x.data.children != undefined) {\n              let checkExistence = x.data.children.filter(element => {\n                return element.label === lex.request\n              });\n              if (checkExistence.length == 1) {\n                x.data.children.filter(element => {\n                  if (element.label === lex.request) {\n                    if (lex.request == 'sense') {\n                      data['label'] = 'no definition'\n                      data['definition'] = 'no definition'\n                    } else if (lex.request == 'etymology') {\n                      data['label'] = \"Etymology of: \" + lex.parentNodeLabel;\n                      console.log(data['label'])\n                    } else if (lex.request == 'subterm') {\n                      data.label = data.label;\n                      data.children = null;\n                      data.hasChildren = false;\n                    } else if (lex.request == 'constituent') {\n                      data.label = '';\n                      data.children = null;\n                      data.hasChildren = false;\n                    } else {\n                      data['label'] = data[instanceName];\n                    }\n                    /* console.log(data['creator'] == x.data.creator);\n                    console.log(data['creator'], x.data.creator) */\n\n                    if (data['creator'] == x.data.creator) {\n                      data['flagAuthor'] = false;\n                    } else {\n                      data['flagAuthor'] = true;\n                    }\n\n                    element.count++;\n                    element.children.push(data);\n                    this.lexicalEntryTree.treeModel.update();\n                    this.lexicalEntryTree.treeModel.getNodeBy(y => {\n                      if (y.data.etymology == undefined && y.data.label === data['label'] && lex.request != 'subterm') {\n                        y.setActiveAndVisible();\n                      } else if (y.data.etymology != undefined && y.data.etymology === data['etymology'] && lex.request != 'subterm') {\n                        y.setActiveAndVisible();\n                      }\n                    })\n                    return true;\n                  } else {\n                    return false;\n                  }\n                });\n              } else if (checkExistence.length == 0) {\n                let node = {\n                  hasChildren: true,\n                  label: lex.request,\n                  children: [],\n                  count: 0\n                }\n                x.data.children.push(node);\n                x.data.children.sort(function (a, b) {\n                  var textA = a.label.toUpperCase();\n                  var textB = b.label.toUpperCase();\n                  return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\n                })\n                this.lexicalEntryTree.treeModel.update();\n                x.data.children.filter(element => {\n                  if (element.label === lex.request) {\n                    console.log(data['creator'], x.data.reator)\n                    if (data['creator'] == x.data.creator) {\n                      data['flagAuthor'] = false;\n                    } else {\n                      data['flagAuthor'] = true;\n                    }\n\n                    if (lex.request == 'sense') {\n                      data['definition'] = 'no definition';\n                      data.label = 'no definintion'\n                    } else if (lex.request == 'subterm') {\n                      data.label = data.label;\n                      data.children = null;\n                      data.hasChildren = false;\n                    } else {\n                      data['label'] = data[instanceName];\n                    }\n\n                    if (lex.request == 'subterm') {\n                      data.children == null;\n                      data.hasChildren = false;\n                      data.label = data.label;\n                    }\n\n                    if (lex.request == 'constituent') {\n                      data.children == null;\n                      data.label = '';\n                    }\n\n                    element.count++;\n                    element.children.push(data);\n                    this.lexicalEntryTree.treeModel.update();\n                    this.lexicalEntryTree.treeModel.getNodeBy(y => {\n                      if (y.data.label === data['label'] && lex.request != 'subterm') { /* && lex.request != 'subterm' */\n                        y.setActiveAndVisible();\n                      }\n                    })\n                    return true;\n                  } else {\n                    return false;\n                  }\n                });\n              }\n            } else {\n              return false;\n            }\n            return true;\n          } else {\n            return false;\n          }\n        } else {\n          return false;\n        }\n      })\n    }, 300);\n  }\n\n  lexEntryDeleteReq(signal?) {\n\n\n\n    this.lexicalEntryTree.treeModel.getNodeBy(x => {\n      if (signal.lexicalEntry != undefined && signal.form == undefined && signal.sense == undefined) {\n        if (x.data.lexicalEntry === signal.lexicalEntry) {\n\n          x.parent.data.children.splice(x.parent.data.children.indexOf(x.data), 1);\n\n          let countSubterm = x.parent.data.count;\n          if (countSubterm != 0) {\n            x.parent.data.count--;\n            countSubterm--;\n          }\n\n          //this.lexicalEntryTree.treeModel.update();\n          if (this.nodes.length == 0) {\n            this.lexicalEntriesFilter(this.parameters);\n          }\n\n\n\n          if (countSubterm == 0) {\n            x.parent.parent.data.children.splice(x.parent.parent.data.children.indexOf(x.parent.data), 1)\n          }\n          console.log(x.parent)\n\n          this.lexicalEntryTree.treeModel.update()\n\n          return true;\n        } else {\n          return false;\n        }\n      } else if (signal.form != undefined) {\n        if (x.data.form === signal.form) {\n\n          x.parent.data.children.splice(x.parent.data.children.indexOf(x.data), 1);\n          let countForm = x.parent.data.count;\n          if (countForm != 0) {\n            x.parent.data.count--;\n            countForm--;\n          }\n\n          if (countForm == 0) {\n            x.parent.parent.data.children.splice(x.parent.parent.data.children.indexOf(x.parent.data), 1)\n          }\n          console.log(x.parent)\n\n          this.lexicalEntryTree.treeModel.update()\n\n          return true;\n        } else {\n          return false;\n        }\n      } else if (signal.sense != undefined) {\n        if (x.data.sense === signal.sense) {\n\n          x.parent.data.children.splice(x.parent.data.children.indexOf(x.data), 1);\n          let countSense = x.parent.data.count;\n          if (countSense != 0) {\n            x.parent.data.count--;\n            countSense--;\n          }\n\n          if (countSense == 0) {\n            x.parent.parent.data.children.splice(x.parent.parent.data.children.indexOf(x.parent.data), 1)\n          }\n          console.log(x.parent)\n\n          this.lexicalEntryTree.treeModel.update()\n\n          return true;\n        } else {\n          return false;\n        }\n      } else if (signal.etymology != undefined) {\n        if (x.data.etymology === signal.etymology.etymology) {\n          x.parent.data.children.splice(x.parent.data.children.indexOf(x.data), 1);\n          let countSense = x.parent.data.count;\n          if (countSense != 0) {\n            x.parent.data.count--;\n            countSense--;\n          }\n\n          if (countSense == 0) {\n            x.parent.parent.data.children.splice(x.parent.parent.data.children.indexOf(x.parent.data), 1)\n          }\n          console.log(x.parent)\n\n          this.lexicalEntryTree.treeModel.update()\n\n          return true;\n        } else {\n          return false;\n        }\n      } else if (signal.componentInstanceName != undefined) {\n        if (x.data.componentInstanceName === signal.componentInstanceName) {\n          x.parent.data.children.splice(x.parent.data.children.indexOf(x.data), 1);\n          let countSense = x.parent.data.count;\n          if (countSense != 0) {\n            x.parent.data.count--;\n            countSense--;\n          }\n\n          if (countSense == 0) {\n            x.parent.parent.data.children.splice(x.parent.parent.data.children.indexOf(x.parent.data), 1)\n          }\n          console.log(x.parent)\n\n          this.lexicalEntryTree.treeModel.update()\n\n          return true;\n        } else {\n          return false;\n        }\n      } else if (signal.subtermInstanceName != undefined) {\n        let parent = signal.parentNodeInstanceName;\n        if (x.data.lexicalEntry == signal.parentNodeInstanceName) {\n          console.log(x)\n          let children = x.data.children;\n\n          if (children.length >= 1) {\n            Array.from(children).forEach((y: any) => {\n              if (y.lexicalEntry == signal.subtermInstanceName) {\n\n                console.log(y, x)\n\n                x.data.children.splice(x.data.children.indexOf(y), 1);\n\n                let countSubterm = x.data.count;\n                if (countSubterm != 0) {\n                  x.data.count--;\n                  countSubterm--;\n                }\n\n                if (this.nodes.length == 0) {\n                  this.lexicalEntriesFilter(this.parameters);\n                }\n\n\n\n                if (countSubterm == 0) {\n                  x.parent.data.children.splice(x.parent.data.children.indexOf(x.data), 1)\n                }\n\n                this.lexicalEntryTree.treeModel.update()\n                return true\n\n              } else {\n                return false\n              }\n            })\n          }\n        }\n      } else {\n        return false;\n      }\n      return false;\n    })\n\n\n  }\n\n  lexicalEntriesFilter(newPar) {\n\n    setTimeout(() => {\n      const viewPort_prova = this.element.nativeElement.querySelector('tree-viewport') as HTMLElement;\n      viewPort_prova.scrollTop = 0\n    }, 300);\n\n    this.searchIconSpinner = true;\n    let parameters = newPar;\n    parameters['offset'] = this.offset;\n    parameters['limit'] = this.limit;\n    console.log(parameters)\n    this.lexicalService.getLexicalEntriesList(newPar).pipe(takeUntil(this.destroy$)).subscribe(\n      data => {\n        console.log(data)\n        if (data['list'].length > 0) {\n          this.show = false;\n        } else {\n          this.show = true;\n        }\n        this.nodes = data['list'];\n        this.counter = data['totalHits'];\n        this.lexicalEntryTree.treeModel.update();\n        this.updateTreeView();\n        this.searchIconSpinner = false;\n      },\n      error => {\n        console.log(error)\n      }\n    )\n  }\n\n  getParameters() {\n    return this.initialValues;\n  }\n\n  ngAfterViewInit(): void {\n    //@ts-ignore\n    $('[data-toggle=\"popover\"]').popover({\n      html: true,\n      title: this.titlePopover,\n      content: this.popoverWildcards\n    });\n  }\n\n  resetFields() {\n    this.initialValues.text = '';\n    this.parameters.text = '';\n    this.offset = 0;\n    this.filterForm.reset(this.initialValues, { emitEvent: false });\n    setTimeout(() => {\n      //this.filterForm.get('text').setValue('', {eventEmit : false});\n      this.lexicalEntriesFilter(this.parameters);\n      this.lexicalEntryTree.treeModel.update();\n      //this.updateTreeView();\n      /* this.lexicalService.sendToCoreTab(null);\n      this.lexicalService.sendToRightTab(null); */\n    }, 500);\n\n  }\n\n  updateTreeView() {\n\n    setTimeout(() => {\n      this.lexicalEntryTree.sizeChanged();\n      //@ts-ignore\n      $('.lexical-tooltip').tooltip();\n    }, 1000);\n  }\n\n  onEvent = ($event: any) => {\n\n    console.log($event)\n    setTimeout(() => {\n      //@ts-ignore\n      $('.lexical-tooltip').tooltip();\n    }, 2000);\n\n    if ($event.eventName == 'activate' && $event.node.data.lexicalEntry != undefined\n      && $event.node.data.form == undefined\n      && $event.node.data.sense == undefined\n      && $event.node.data.etymology == undefined\n      && $event.node.data.lexicalEntry != this.selectedNodeId) {\n      //this.lexicalService.sendToCoreTab($event.node.data);\n      let idLexicalEntry = $event.node.data.lexicalEntry;\n      this.lexicalService.getLexEntryData(idLexicalEntry).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n\n          console.log(data);\n          this.selectedNodeId = $event.node.data.lexicalEntry;\n          this.lexicalService.sendToCoreTab(data);\n          this.lexicalService.sendToRightTab(data);\n          this.lexicalService.sendToEtymologyTab(null);\n          this.lexicalService.updateCoreCard({ lastUpdate: data['lastUpdate'], creationDate: data['creationDate'] });\n\n          \n\n          if (!this.expander.isEditTabOpen() && !this.expander.isEpigraphyTabOpen()) {\n            if (!this.expander.isEditTabExpanded() && !this.expander.isEpigraphyTabExpanded()) {\n\n              this.expander.expandCollapseEdit(true);\n              this.expander.openCollapseEdit(true);\n            }\n          } else if (!this.expander.isEditTabOpen() && this.expander.isEpigraphyTabOpen()) {\n            if (!this.expander.isEditTabExpanded() && this.expander.isEpigraphyTabExpanded()) {\n              this.expander.expandCollapseEpigraphy(false);\n              this.expander.openCollapseEdit(true)\n            }\n          }\n\n\n          //@ts-ignore\n          $(\"#coreTabModal\").modal(\"show\");\n          $('.modal-backdrop').appendTo('.core-tab-body');\n          //@ts-ignore\n          $('#coreTabModal').modal({ backdrop: 'static', keyboard: false })\n          $('body').removeClass(\"modal-open\")\n          $('body').css(\"padding-right\", \"\");\n\n          if (data.note != undefined) {\n            if (data.note != \"\") {\n              this.lexicalService.triggerNotePanel(true);\n            } else {\n              this.lexicalService.triggerNotePanel(false);\n            }\n          }\n        },\n        error => {\n          console.log(error)\n        }\n      )\n    } else if ($event.eventName == 'activate'\n      && $event.node.data.form != undefined\n      && $event.node.data.form != this.selectedNodeId) {\n\n      let formId = $event.node.data.form;\n\n      this.lexicalService.getFormData(formId, 'core').pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data)\n          this.selectedNodeId = $event.node.data.form;\n          data['parentNodeLabel'] = $event.node.parent.parent.data.label;\n          data['parentNodeInstanceName'] = $event.node.parent.parent.data.lexicalEntry;\n          this.lexicalService.sendToCoreTab(data)\n          this.lexicalService.sendToEtymologyTab(null);\n          this.lexicalService.sendToRightTab(data);\n          this.lexicalService.updateCoreCard({ lastUpdate: data['lastUpdate'], creationDate: data['creationDate'] })\n          //@ts-ignore\n          $(\"#coreTabModal\").modal(\"show\");\n          $('.modal-backdrop').appendTo('.core-tab-body');\n          //@ts-ignore\n          $('#coreTabModal').modal({ backdrop: 'static', keyboard: false })\n          $('body').removeClass(\"modal-open\")\n          $('body').css(\"padding-right\", \"\");\n\n\n          \n          // this.lexicalService.sendToAttestationPanel(null);\n          // this.lexicalService.triggerAttestationPanel(false);\n\n          if (!this.expander.isEditTabOpen() && !this.expander.isEpigraphyTabOpen()) {\n            if (!this.expander.isEditTabExpanded() && !this.expander.isEpigraphyTabExpanded()) {\n\n              this.expander.expandCollapseEdit(true);\n              this.expander.openCollapseEdit(true);\n            }\n          } else if (!this.expander.isEditTabOpen() && this.expander.isEpigraphyTabOpen()) {\n            if (!this.expander.isEditTabExpanded() && this.expander.isEpigraphyTabExpanded()) {\n              this.expander.expandCollapseEpigraphy(false);\n              this.expander.openCollapseEdit(true)\n            }\n          }\n\n          if (data.note != undefined) {\n            if (data.note != \"\") {\n              this.lexicalService.triggerNotePanel(true);\n            } else {\n              this.lexicalService.triggerNotePanel(false);\n            }\n          }\n        },\n        error => {\n          //console.log(error)\n        }\n      )\n\n    } else if ($event.eventName == 'activate'\n      && $event.node.data.sense != undefined\n      && $event.node.data.sense != this.selectedNodeId) {\n\n      let senseId = $event.node.data.sense;\n\n      this.lexicalService.getSenseData(senseId, 'core').pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          this.selectedNodeId = $event.node.data.sense;\n          data['parentNodeLabel'] = $event.node.parent.parent.data.label;\n          data['parentNodeInstanceName'] = $event.node.parent.parent.data.lexicalEntry;\n          data['type'] = $event.node.parent.parent.data.type;\n          console.log(data)\n          this.lexicalService.sendToCoreTab(data)\n          this.lexicalService.sendToEtymologyTab(null);\n          this.lexicalService.sendToRightTab(data);\n          this.lexicalService.updateCoreCard({ lastUpdate: data['lastUpdate'], creationDate: data['creationDate'] })\n\n          // this.lexicalService.sendToAttestationPanel(null);\n          // this.lexicalService.triggerAttestationPanel(false);\n          //@ts-ignore\n          $(\"#coreTabModal\").modal(\"show\");\n          $('.modal-backdrop').appendTo('.core-tab-body');\n          //@ts-ignore\n          $('#coreTabModal').modal({ backdrop: 'static', keyboard: false })\n          $('body').removeClass(\"modal-open\")\n          $('body').css(\"padding-right\", \"\");\n\n          if (!this.expander.isEditTabOpen() && !this.expander.isEpigraphyTabOpen()) {\n            if (!this.expander.isEditTabExpanded() && !this.expander.isEpigraphyTabExpanded()) {\n\n              this.expander.expandCollapseEdit(true);\n              this.expander.openCollapseEdit(true);\n            }\n          } else if (!this.expander.isEditTabOpen() && this.expander.isEpigraphyTabOpen()) {\n            if (!this.expander.isEditTabExpanded() && this.expander.isEpigraphyTabExpanded()) {\n              this.expander.expandCollapseEpigraphy(false);\n              this.expander.openCollapseEdit(true)\n            }\n          }\n\n          if (data.note != undefined) {\n            if (data.note != \"\") {\n              this.lexicalService.triggerNotePanel(true);\n            } else {\n              this.lexicalService.triggerNotePanel(false);\n            }\n          }\n        },\n        error => {\n          //console.log(error)\n        }\n      )\n    } else if ($event.eventName == 'activate'\n      && $event.node.data.etymology != undefined\n      && $event.node.data.etymology != this.selectedNodeId) {\n\n      let etymologyId = $event.node.data.etymology;\n\n      this.lexicalService.getEtymologyData(etymologyId).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          this.selectedNodeId = $event.node.data.etymology;\n          data['parentNodeLabel'] = $event.node.parent.parent.data.label;\n          data['parentNodeInstanceName'] = $event.node.parent.parent.data.lexicalEntry;\n          console.log(data)\n          data['type'] = $event.node.parent.parent.data.type;\n          // this.lexicalService.sendToAttestationPanel(null);\n          // this.lexicalService.triggerAttestationPanel(false);\n\n          //this.lexicalService.sendToCoreTab(null);\n          this.lexicalService.sendToEtymologyTab(data);\n          this.lexicalService.sendToRightTab(data);\n          this.lexicalService.updateCoreCard({ lastUpdate: data['etymology']['lastUpdate'], creationDate: data['etymology']['creationDate'] })\n          //@ts-ignore\n          $(\"#etymologyTabModal\").modal(\"show\");\n          $('.modal-backdrop').appendTo('.etym-tab-body');\n          //@ts-ignore\n          $('#etymologyTabModal').modal({ backdrop: 'static', keyboard: false })\n          $('body').removeClass(\"modal-open\")\n          $('body').css(\"padding-right\", \"\");\n\n          if (!this.expander.isEditTabOpen() && !this.expander.isEpigraphyTabOpen()) {\n            if (!this.expander.isEditTabExpanded() && !this.expander.isEpigraphyTabExpanded()) {\n\n              this.expander.expandCollapseEdit(true);\n              this.expander.openCollapseEdit(true);\n            }\n          } else if (!this.expander.isEditTabOpen() && this.expander.isEpigraphyTabOpen()) {\n            if (!this.expander.isEditTabExpanded() && this.expander.isEpigraphyTabExpanded()) {\n              this.expander.expandCollapseEpigraphy(false);\n              this.expander.openCollapseEdit(true)\n            }\n          }\n\n          if (data.note != undefined) {\n            if (data.note != \"\") {\n              this.lexicalService.triggerNotePanel(true);\n            } else {\n              this.lexicalService.triggerNotePanel(false);\n            }\n          }\n        },\n        error => {\n          console.log(error)\n        }\n      )\n    } else if ($event.eventName == 'activate'\n      && $event.node.data.component != undefined\n      && $event.node.data.componentInstanceName != this.selectedNodeId) {\n\n      let compId = $event.node.data.componentInstanceName;\n      let parentInstanceLabel = $event.node.parent.parent.data.label;\n      let parentInstanceName = $event.node.parent.parent.data.lexicalEntry;\n\n      this.lexicalService.getLexEntryData(parentInstanceName).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          this.selectedNodeId = $event.node.data.parentNodeInstanceName;\n\n          console.log(data)\n          //this.lexicalService.sendToCoreTab(data);\n          //this.lexicalService.sendToEtymologyTab(data);\n          //this.lexicalService.sendToDecompTab(data);\n          this.lexicalService.sendToRightTab(data);\n          // this.lexicalService.sendToAttestationPanel(null);\n          // this.lexicalService.triggerAttestationPanel(false);\n          this.lexicalService.updateCoreCard({ lastUpdate: data['lastUpdate'], creationDate: data['creationDate'] })\n          //@ts-ignore\n          $(\"#etymologyTabModal\").modal(\"show\");\n          $('.modal-backdrop').appendTo('.etym-tab-body');\n          //@ts-ignore\n          $('#etymologyTabModal').modal({ backdrop: 'static', keyboard: false })\n          $('body').removeClass(\"modal-open\")\n          $('body').css(\"padding-right\", \"\");\n\n          if (!this.expander.isEditTabOpen() && !this.expander.isEpigraphyTabOpen()) {\n            if (!this.expander.isEditTabExpanded() && !this.expander.isEpigraphyTabExpanded()) {\n\n              this.expander.expandCollapseEdit(true);\n              this.expander.openCollapseEdit(true);\n            }\n          } else if (!this.expander.isEditTabOpen() && this.expander.isEpigraphyTabOpen()) {\n            if (!this.expander.isEditTabExpanded() && this.expander.isEpigraphyTabExpanded()) {\n              this.expander.expandCollapseEpigraphy(false);\n              this.expander.openCollapseEdit(true)\n            }\n          }\n\n          if (data.note != undefined) {\n            if (data.note != \"\") {\n              this.lexicalService.triggerNotePanel(true);\n            } else {\n              this.lexicalService.triggerNotePanel(false);\n            }\n          }\n        },\n        error => {\n          console.log(error)\n        }\n      )\n    }\n\n  };\n\n  onKey = ($event: any) => {\n    var that = this;\n    setTimeout(function () {\n      var results = document.body.querySelectorAll('tree-node-collection > div')[1].children.length;\n      if (results == 0) {\n        that.show = true;\n      } else {\n        that.show = false;\n      }\n    }, 5);\n  };\n\n  async onScrollDown(treeModel: TreeModel) {\n\n    this.offset += 500;\n    this.modalShow = true;\n\n    //@ts-ignore\n    $(\"#lazyLoadingModal\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.tree-view');\n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n\n    let parameters = this.filterForm.value;\n    parameters['offset'] = this.offset;\n    parameters['limit'] = this.limit;\n\n    try {\n      let get_entry_list = await this.lexicalService.getLexicalEntriesList(parameters).toPromise();\n      //@ts-ignore\n      $('#lazyLoadingModal').modal('hide');\n      $('.modal-backdrop').remove();\n      for (var i = 0; i < get_entry_list['list'].length; i++) {\n        this.nodes.push(get_entry_list['list'][i]);\n      };\n      //this.counter = this.nodes.length;\n      this.lexicalEntryTree.treeModel.update();\n      this.updateTreeView();\n      this.modalShow = false;\n\n      setTimeout(() => {\n        //@ts-ignore\n        $('#lazyLoadingModal').modal('hide');\n        $('.modal-backdrop').remove();\n      }, 300);\n    } catch (error) {\n      console.log(error)\n      \n    }\n  }\n\n  async getChildren(node: any) {\n    let newNodes: any;\n    if (node.data.lexicalEntry != undefined) {\n\n      try {\n        let instance = node.data.lexicalEntry;\n        let data = await this.lexicalService.getLexEntryElements(instance).toPromise();\n        console.log(data['elements'])\n        data[\"elements\"] = data[\"elements\"].filter(function (obj) {\n          return obj.count != 0 && (obj.label != 'lexicalConcept' && obj.label != 'concept');\n        })\n        newNodes = data[\"elements\"].map((c) => Object.assign({}, c));\n\n        if (Object.keys(newNodes).length > 0) {\n\n          for (const element of newNodes) {\n\n            if (element.label == 'form') {\n              let form_data = await this.lexicalService.getLexEntryForms(instance).toPromise();\n              element.isExpanded = true;\n              element.children = [];\n\n              form_data.forEach(form => {\n                element.children.push(form);\n              });\n            } else if (element.label == 'sense') {\n              let sense_data = await this.lexicalService.getSensesList(instance).toPromise();\n              element.isExpanded = true;\n              element.children = [];\n              sense_data.forEach(sense => {\n                element.children.push(sense);\n              });\n            } else if (element.label == 'etymology') {\n              let etymology_data = await this.lexicalService.getEtymologies(instance).toPromise();\n              element.isExpanded = true;\n              element.children = [];\n              etymology_data.forEach(etym => {\n                element.children.push(etym);\n              });\n            } else if (element.label == 'subterm') {\n              let subterm_data = await this.lexicalService.getSubTerms(instance).toPromise();\n              element.isExpanded = true;\n              element.children = [];\n              subterm_data.forEach(subterm => {\n                subterm.hasChildren = false;\n                element.children.push(subterm);\n              });\n            }\n\n          }\n          return newNodes;\n        } else {\n          this.toastr.info('No childs for this node', 'Info', { timeOut: 5000 });\n          return newNodes;\n        }\n        \n      } catch (error) {\n        console.log(error)\n        if(error.status != 200){\n          this.toastr.error(\"Something went wrong, please check the log\", \"Error\", {timeOut: 5000})\n        }\n      }\n      \n\n\n    }\n\n  }\n\n\n  /* To copy any Text */\n  copyText(val: object) {\n    console.log(val)\n\n    let value = '';\n    if (val['lexicalEntry'] != undefined && val['sense'] == undefined && val['etymology'] == undefined && val['form'] == undefined) {\n      value = val['lexicalEntry']\n    } else if (val['form'] != undefined) {\n      value = val['form']\n    } else if (val['sense'] != undefined) {\n      value = val['sense']\n    } else if (val['etymology'] != undefined) {\n      value = val['etymology']\n    }\n    this.copySubject.next(value);\n  }\n\n  ngOnDestroy(): void {\n    this.delete_req_subscription.unsubscribe();\n    this.add_sub_subscription.unsubscribe();\n    this.copy_subject_subscription.unsubscribe();\n    this.refresh_filter_subscription.unsubscribe();\n    this.get_lex_entry_list_subscription.unsubscribe();\n    this.get_languages_subscription.unsubscribe();\n    this.get_types_subscription.unsubscribe();\n    this.get_authors_subscription.unsubscribe();\n    this.get_pos_subscription.unsubscribe();\n    this.get_status_subscription.unsubscribe();\n\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n}","\n\n<form [formGroup]=\"filterForm\">\n    <div class=\"input-group col-md-12 mt-1 p-0\">\n        <input formControlName=\"text\" id=\"filterLexicalEntry\" name=\"text\" type=\"text\" class=\"form-control\"\n            placeholder=\"Search\" [value]=\"filterForm.get('text').value\"/>\n        <div class=\"input-group-append\">\n            <span class=\"input-group-text loading_icon_append\" id=\"basic-addon2\">\n                <div class=\"spinner-border spinner-border-sm m-1\" role=\"status\" *ngIf=\"searchIconSpinner\">\n                    <span class=\"sr-only\">Loading...</span>\n                </div>\n            </span>\n        </div>\n        <div id=\"buttons-container\" class=\"input-group-append\">\n            <button class=\"btn  btn-sm btn-info btn-block filter-button\" type=\"button\" data-toggle=\"popover\"\n                data-placement=\"bottom\" data-trigger=\"hover\"><i class=\"fa fa-question\"></i></button>\n            <button  class=\"btn btn-sm btn-secondary btn-block filter-button\" type=\"button\" value=\"Filter\" title=\"Filter\"\n                container=\"body\" placement=\"bottom\" ngbTooltip=\"Show lexical entries filter\" data-toggle=\"collapse\" data-target=\"#filterCollapse\" aria-expanded=\"false\"\n                aria-controls=\"filterCollapse\"><i class=\"fa fa-filter\"></i></button>\n            <button container=\"body\" placement=\"right\" ngbTooltip=\"Reset form fields\" class=\"btn btn-sm btn-danger btn-block reset-button\" type=\"button\" value=\"Reset\" title=\"Reset\"\n                (click)=\"resetFields();\" style=\"border-top-right-radius: .25rem; border-bottom-right-radius: .25rem;\"><i\n                    class=\"fa fa-times\"></i></button>\n            <button class=\"btn btn-block counter-button\" type=\"button\"><span\n                    class=\"font-weight-bold font-italic text-muted\">{{counter}}</span></button>\n        </div>\n    </div>\n\n\n    <div class=\"d-flex flex-wrap mt-3\">\n        <div class=\"col-md-6 col-sm-3\">\n            <div class=\"form-check\">\n                <input formControlName=\"searchMode\" class=\"form-check-input\" type=\"radio\" name=\"searchMode\"\n                    id=\"equalsRadio\" value=\"equals\">\n                <label class=\"form-check-label\" for=\"equalsRadio\">\n                    Equals\n                </label>\n            </div>\n        </div>\n        <div class=\"col-md-6 col-sm-3\">\n            <div class=\"form-check\">\n                <input formControlName=\"searchMode\" class=\"form-check-input\" type=\"radio\" name=\"searchMode\"\n                    id=\"startRadio\" value=\"startsWith\">\n                <label class=\"form-check-label\" for=\"startRadio\">\n                    Starts\n                </label>\n            </div>\n        </div>\n        <div class=\"col-md-6 col-sm-3\">\n            <div class=\"form-check\">\n                <input formControlName=\"searchMode\" class=\"form-check-input\" type=\"radio\" name=\"searchMode\"\n                    id=\"containsRadio\" value=\"contains\">\n                <label class=\"form-check-label\" for=\"containsRadio\">\n                    Contains\n                </label>\n            </div>\n        </div>\n        <div class=\"col-md-6 col-sm-3\">\n            <div class=\"form-check\">\n                <input formControlName=\"searchMode\" class=\"form-check-input\" type=\"radio\" name=\"searchMode\"\n                    id=\"endRadio\" value=\"end\">\n                <label class=\"form-check-label\" for=\"endRadio\">\n                    Ends\n                </label>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"collapse multi-collapse\" id=\"filterCollapse\">\n        <div class=\"d-flex flex-wrap mt-3\">\n            <div class=\"col-md-6 col-sm-12\">\n                <select formControlName=\"type\" class=\"form-control\" id=\"type\" name=\"type\">\n                    <option value=\"\">Type</option>\n                    <option *ngFor=\"let type of types\" [value]=\"type.label\">{{type.label}} - {{type.count}}</option>\n                </select>\n            </div>\n            <div class=\"col-md-6 col-sm-12\">\n                <div class=\"d-md-none mt-3\"></div>\n                <select formControlName=\"pos\" class=\"form-control\" id=\"pos\" name=\"pos\">\n                    <option value=\"\">Pos</option>\n                    <option *ngFor=\"let ps of partOfSpeech\" [value]=\"ps.label\">{{ps.label}} - {{ps.count}} </option>\n                </select>\n            </div>\n        </div>\n\n        <div class=\"d-flex flex-wrap mt-3\">\n            <div class=\"col-md-6 col-sm-12\">\n                <div class=\"d-md-none mt-3\"></div>\n                <select formControlName=\"formType\" class=\"form-control\" id=\"formType\" name=\"formType\">\n                    <option value=\"entry\">Entry</option>\n                    <option value=\"flexed\">Flexed</option>\n                </select>\n            </div>\n            <div class=\"col-md-6 col-sm-12\">\n                <div class=\"d-md-none mt-3\"></div>\n                <select formControlName=\"author\" class=\"form-control\" id=\"author\" name=\"author\">\n                    <option value=\"\">Author</option>\n                    <option *ngFor=\"let auth of authors\" [value]=\"auth.label\">{{auth.label}} - {{auth.count}}</option>\n                </select>\n            </div>\n        </div>\n        <div class=\"d-flex flex-wrap mt-3\">\n            <div class=\"col-md-6 col-sm-12\">\n                <div class=\"d-md-none mt-3\"></div>\n                <select formControlName=\"lang\" class=\"form-control\" id=\"lang\" name=\"lang\">\n                    <option value=\"\">Language</option>\n                    <option *ngFor=\"let lang of languages\" [value]=\"lang.label\">{{lang.label}} - {{lang.count}}\n                    </option>\n                </select>\n            </div>\n            <div class=\"col-md-6 col-sm-12\">\n                <div class=\"d-md-none mt-3\"></div>\n                <select formControlName=\"status\" class=\"form-control\" id=\"status\" name=\"status\">\n                    <option value=\"\">Status</option>\n                    <option value=\"working\">working</option>\n                    <option value=\"completed\">completed</option>\n                    <option value=\"reviewed\">reviewed</option>\n                </select>\n            </div>\n        </div>\n    </div>\n</form>\n\n\n<!-- INFINITE SCROLL AND TREE VIEW -->\n<div class=\"col-md-12 mt-3 rounded border border-secondary tree-view\" infiniteScroll [infiniteScrollDistance]=\"0.4\"\n    [infiniteScrollThrottle]=\"150\" [infiniteScrollContainer]=\"'.search-results'\" [fromRoot]=\"true\"\n    (scrolled)=\"onScrollDown(lexicalEntry.treeModel)\" style=\"height: calc(100vh - 21rem); overflow-x: auto;\">\n\n    <div id=\"lazyLoadingModal\" class=\"modal fade\" role=\"dialog\">\n        <div class=\"modal-dialog\">\n\n            <!-- Modal content-->\n            <div class=\"modal-content\">\n                <div class=\"modal-body\">\n                    <div class=\"d-flex justify-content-center\">\n                        <div class=\"spinner-border\" role=\"status\">\n                            <span class=\"sr-only\">Loading...</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    </div>\n\n    <p class=\"mx-3\" *ngIf=\"show\">Nessun risultato</p>\n    <tree-root #lexicalEntry [(state)]=\"state\" [nodes]=\"nodes\" [options]=\"options\" [focused]=\"true\"\n        (activate)=\"onEvent($event)\" (deactivate)=\"onEvent($event)\" class=\"lexicalEntryTree\">\n        \n        <ng-template #treeNodeWrapperTemplate let-node let-index=\"index\">\n            <div class=\"node-wrapper\"  style=\"justify-content: space-between; padding: 0px 15px;\" > <!-- [style.padding-left]=\"node.getNodePadding()\" -->\n                <div>\n                    <tree-node-expander [node]=\"node\" *ngIf=\"node.data.hasChildren == true\"></tree-node-expander>\n                    <div class=\"node-content-wrapper\" [class.node-content-wrapper-active]=\"node.isActive\"\n                        [class.node-content-wrapper-focused]=\"node.isFocused\" (click)=\"node.mouseAction('click', $event)\"\n                        (dblclick)=\"node.mouseAction('dblClick', $event)\" [contextMenu]=\"basicMenu\" [contextMenuSubject]=\"node.data\">\n    \n                        <span\n                            *ngIf=\"node.data.count == undefined && labelView && node.data.component == undefined && node.data.etymology == undefined && node.data.definition == undefined && node.data.type!='canonicalForm' && node.data.sense == undefined\">{{\n                            node.data.label}} </span>\n                        <span\n                            *ngIf=\"node.data.count == undefined && idView && node.data.definition == undefined && node.data.form == undefined && node.data.type!='canonicalForm' && node.data.sense == undefined && node.data.etymology == undefined\">{{\n                            node.data.lexicalEntry }} </span>\n    \n                        <span\n                            *ngIf=\"node.data.count == undefined && labelView && node.data.definition == undefined && node.data.type=='canonicalForm' && node.data.sense == undefined\"><b>{{\n                                node.data.label }}</b></span>\n                        <span\n                            *ngIf=\"node.data.count == undefined && idView && node.data.definition == undefined && node.data.type=='canonicalForm' && node.data.sense == undefined\"><b>{{\n                                node.data.form }}</b></span>\n                        <span\n                            *ngIf=\"node.data.count == undefined && idView && node.data.definition == undefined && node.data.type!='canonicalForm' && node.data.sense == undefined\">{{\n                            node.data.form }}</span>\n\n                        <!-- <span *ngIf=\"node.data.count == undefined && idView && node.data.definition != undefined\">\n                            {{ node.data.sense }}</span> -->\n\n                       \n\n                        <span *ngIf=\"node.data.count == undefined && idView && node.data.etymology != undefined\">{{\n                            node.data.etymology }}</span>\n\n                        <span *ngIf=\"node.data.count == undefined && labelView && node.data.etymology != undefined\">{{\n                            node.data.label }}</span>\n\n                        <span *ngIf=\"node.data.count == undefined && labelView && node.data.component != undefined && node.data.label == ''\">\n                           Anonimous component</span>\n\n                        <span *ngIf=\"node.data.count == undefined && labelView && node.data.component != undefined && node.data.label != ''\">\n                            {{node.data.label}}</span>\n                        \n                        <span *ngIf=\"node.data.count == undefined && idView && node.data.component != undefined\">\n                            {{node.data.component}}</span>\n    \n                        <span class=\"lexical-tooltip\"\n                            *ngIf=\"node.data.count == undefined && labelView && node.data.definition != undefined\"\n                             placement=\"top\" [ngbTooltip]=\"node.data.definition\">\n                                {{node.data.definition == '' ? node.data.label : ''}}\n                                {{node.data.definition.length > 10 ? (node.data.definition | slice:0:10) +'...' : node.data.definition}}\n                            </span>\n                        <span class=\"lexical-tooltip\"\n                            *ngIf=\"node.data.count == undefined && idView && node.data.definition != undefined\"\n                             placement=\"top\" [ngbTooltip]=\"node.data.definition\">{{ node.data.sense\n                            }}</span>\n    \n                        <span *ngIf=\"node.data.count != undefined\"><i><span\n                                    style=\"color: #6e6e6e\">{{node.data.label}}</span></i>&nbsp;({{ node.data.count\n                            }})</span>\n                        <span *ngIf=\"node.data.writtenRep != ''\">{{ node.data.writtenRep }}</span>\n                        <sub *ngIf=\"labelView && node.data.sense == undefined\">{{node.data.pos}}</sub>\n                        <span *ngIf=\"node.data.language != null && labelView\" class=\"lang\">@{{node.data.language}}</span>\n                        \n                    </div>\n                   \n                    \n                </div>\n                \n                <div class=\"icons-container\">\n                    <div style=\"width: 30%;\">\n                        <i *ngIf=\"node.data.note != '' && node.data.note != null\"\n                            class=\"far fa-comment-dots note-tooltip note_{{node.data.id}}\" data-toggle=\"tooltip\"\n                            data-html=\"true\" [title]=\"node.data.note\"></i>\n                    </div>\n                    <div style=\"width: 30%;\">\n                        <i *ngIf=\"node.data.lexicalEntry != undefined && !flagAuthor && node.data.status == 'working'\"\n                            class=\"fas fa-user lexical-tooltip\" data-toggle=\"tooltip\" data-html=\"true\"\n                            [title]=\"node.data.creator\"></i>\n\n                        <i *ngIf=\"node.data.lexicalEntry != undefined && !flagAuthor && node.data.status == 'completed'\"\n                            class=\"fas fa-user lexical-tooltip\" data-toggle=\"tooltip\" data-html=\"true\"\n                            [title]=\"node.data.author\"></i>\n\n                        <i *ngIf=\"node.data.lexicalEntry != undefined && !flagAuthor && node.data.status == 'reviewed'\"\n                            class=\"fas fa-user lexical-tooltip\" data-toggle=\"tooltip\" data-html=\"true\"\n                            [title]=\"node.data.revisor\"></i>\n\n                        <i *ngIf=\"node.data.form != undefined && node.data.flagAuthor\"\n                            class=\"fas fa-user lexical-tooltip\" data-toggle=\"tooltip\" data-html=\"true\"\n                            [title]=\"node.data.creator\"></i>\n                        <i *ngIf=\"node.data.sense != undefined && node.data.flagAuthor\"\n                            class=\"fas fa-user lexical-tooltip\" data-toggle=\"tooltip\" data-html=\"true\"\n                            [title]=\"node.data.creator\"></i>\n                            <i *ngIf=\"node.data.etymology != undefined && node.data.flagAuthor\"\n                            class=\"fas fa-user lexical-tooltip\" data-toggle=\"tooltip\" data-html=\"true\"\n                            [title]=\"node.data.creator\"></i>\n                    </div>\n                    <div style=\"width: 30%;\">\n                        <i *ngIf=\"node.data.status != undefined && node.data.status == 'working'\" class=\"fa fa-circle\"\n                            style=\"color:red;\"></i>\n                        <i *ngIf=\"node.data.status != undefined && node.data.status == 'completed'\" class=\"fa fa-circle\"\n                            style=\"color:yellow;\"></i>\n                        <i *ngIf=\"node.data.status != undefined && node.data.status == 'reviewed'\"\n                            class=\"fa fa-circle lexical-tooltip\" style=\"color: green;\" data-toggle=\"tooltip\"\n                            data-html=\"true\" [title]=\"node.data.revisor\"></i>\n                    </div>\n\n                </div>\n            </div>\n        </ng-template>\n        <context-menu>\n\n            <!-- FOLDER CONTEXT MENU -->\n            <ng-template contextMenuItem let-item (execute)=\"copyText($event.item)\">\n              Copy URI\n            </ng-template>\n        </context-menu>\n        <ng-template #loadingTemplate let-loadingNode>\n            <div *ngIf=\"loadingNode.hasChildren\">\n                <div class=\"spinner-border spinner-border-sm m-1\" role=\"status\">\n                    <span class=\"sr-only\">Loading...</span>\n                </div>\n            </div>\n        </ng-template>\n    </tree-root>\n\n    \n</div>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, Input, OnDestroy, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { NgSelectComponent } from '@ng-select/ng-select';\nimport { data } from 'jquery';\nimport { ToastrService } from 'ngx-toastr';\nimport { Subject, Subscription } from 'rxjs';\nimport { debounceTime, takeUntil } from 'rxjs/operators';\nimport { AnnotatorService } from 'src/app/services/annotator/annotator.service';\nimport { AuthService } from 'src/app/services/auth/auth.service';\nimport { DocumentSystemService } from 'src/app/services/document-system/document-system.service';\nimport { ExpanderService } from 'src/app/services/expander/expander.service';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\n\n@Component({\n  selector: 'app-search-form',\n  templateUrl: './search-form.component.html',\n  styleUrls: ['./search-form.component.scss']\n})\nexport class SearchFormComponent implements OnInit, OnDestroy {\n  private search_subject: Subject<any> = new Subject();\n  private search_lex_entries_subject: Subject<any> = new Subject();\n  searchResults: any[];\n  lex_searchResuts: any[];\n  languages = [];\n  morphologyData = [];\n  lexEntryTypesData: any;\n  typesData: any;\n  addTagFormText: any;\n  creator: any;\n\n\n  search_subscription: Subscription;\n  get_languages_subscription: Subscription;\n  get_morphology_subscription: Subscription;\n  get_lex_entry_type_subscription: Subscription;\n  get_form_type_subscription: Subscription;\n\n  constructor(private formBuilder: FormBuilder, \n              private modalService: NgbModal, \n              private toastr: ToastrService, \n              private annotatorService: AnnotatorService, \n              private lexicalService: LexicalEntriesService, \n              private expander: ExpanderService, \n              private renderer: Renderer2, \n              private auth: AuthService,\n              private documentService : DocumentSystemService) { }\n\n  @Input() bind;\n  @ViewChild('addFormModal') addFormModal: any;\n  @ViewChild('select_form') select_form: NgSelectComponent;\n  @ViewChild('search_lexicalEntry') search_lexicalEntry: NgSelectComponent;\n  loader = false;\n  modalStep = 0;\n\n  stepOneForm = new FormGroup({\n    existOrNot: new FormControl('', Validators.required),\n  })\n\n  stepTwoForm = new FormGroup({\n    lexicalEntry: new FormControl('', Validators.required)\n  })\n\n  stepThreeForm = new FormGroup({\n    label: new FormControl('', Validators.required),\n    type: new FormControl('', Validators.required),\n    language: new FormControl('', Validators.required),\n    pos: new FormControl('', Validators.required),\n  });\n\n  stepFourForm = new FormGroup({\n    writtenForm: new FormControl('', Validators.required),\n    type: new FormControl('', Validators.required),\n  });\n\n  statusForm = new FormGroup({\n    lexicalEntryCreation: new FormControl(''),\n    attachingLanguage: new FormControl(''),\n    attachingType: new FormControl(''),\n    attachingLabel: new FormControl(''),\n    attachingPos: new FormControl(''),\n    creatingForm: new FormControl(''),\n    attachingWrittenForm: new FormControl(''),\n    attachingFormType: new FormControl(''),\n    finish: new FormControl(''),\n    error: new FormControl(null)\n  })\n\n  destroy$: Subject<boolean> = new Subject();\n\n  ngOnInit(): void {\n    setTimeout(() => {\n      //console.log(this.select_form);\n    }, 1000);\n\n    if (this.auth.getLoggedUser()['preferred_username'] != undefined) {\n      this.creator = this.auth.getLoggedUser()['preferred_username'];\n    }\n\n    this.search_lex_entries_subject.pipe(debounceTime(1000)).subscribe(\n      data => {\n        this.onSearchLexicalEntriesFilter(data)\n      }\n    )\n\n    this.search_subject.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      data => {\n        this.onSearchFilter(data)\n      }\n    )\n\n    this.get_languages_subscription = this.lexicalService.getLexiconLanguages().subscribe(\n      data => {\n        this.languages = [];\n        for (var i = 0; i < data.length; i++) {\n          this.languages[i] = data[i]\n        }\n      }\n    );\n\n    this.get_morphology_subscription = this.lexicalService.getMorphologyData().subscribe(\n      data => {\n        /* this.morphologyData = data; */\n\n        let morphoData = data;\n\n        this.morphologyData = morphoData.filter((x : any) => {\n          if (x.propertyId == 'http://www.lexinfo.net/ontology/3.0/lexinfo#partOfSpeech') {\n            return true;\n          } else {\n            return false;\n          }\n        })\n\n        this.morphologyData = this.morphologyData[0]['propertyValues'];\n      }\n    )\n\n    this.get_lex_entry_type_subscription = this.lexicalService.getLexEntryTypes().subscribe(\n      data => {\n        //console.log(data)\n        this.lexEntryTypesData = data;\n\n      }\n    )\n\n    this.get_form_type_subscription = this.lexicalService.getFormTypes().subscribe(\n      data => {\n        this.typesData = data;\n        //console.log(this.typesData)\n      },\n      error => {\n        //console.log(error)\n      }\n    )\n\n    this.annotatorService.triggerSearch$.subscribe(\n      request => {\n        console.log(request);\n        if (request != null) {\n          this.bindSelection(request);\n        }\n      }, error => {\n\n      }\n    ).unsubscribe();\n\n\n    this.stepOneForm = this.formBuilder.group({\n      existOrNot: ['', Validators.required]\n    })\n\n    this.stepTwoForm = this.formBuilder.group({\n      lexicalEntry: ['', Validators.required]\n    })\n\n    this.stepThreeForm = this.formBuilder.group({\n      label: ['', Validators.required],\n      type: ['', Validators.required],\n      language: ['', Validators.required],\n      pos: ['', Validators.required],\n    });\n\n    this.stepFourForm = this.formBuilder.group({\n      writtenForm: ['', Validators.required],\n      type: ['', Validators.required]\n    });\n\n    this.statusForm = this.formBuilder.group({\n      lexicalEntryCreation: ['pause'],\n      attachingLanguage: ['pause'],\n      attachingType: ['pause'],\n      attachingLabel: ['pause'],\n      attachingPos: ['pause'],\n      creatingForm: ['pause'],\n      attachingWrittenForm: ['pause'],\n      attachingFormType: ['pause'],\n      finish: ['pause'],\n      error: [null]\n    })\n  }\n\n\n  triggerSearch(evt) {\n    //console.log(evt)\n    if (evt.target != undefined && evt.key != 'Control') {\n\n      this.search_subject.next(evt.target.value)\n    }\n  }\n\n  triggerSearchLexicalEntries(evt) {\n    if (evt.target != undefined && evt.key != 'Control') {\n\n      this.search_lex_entries_subject.next(evt.target.value)\n    }\n  }\n\n  async onSearchFilter(data) {\n    this.searchResults = [];\n    /* console.log(data) */\n    let parameters = {\n      text: data,\n      searchMode: \"startsWith\",\n      representationType: \"writtenRep\",\n      author: \"\",\n      offset: 0,\n      limit: 500\n    }\n    console.log(parameters)\n    if (data != undefined) { /* && data.length >= 3 */\n\n      try {\n        let form_list = await this.lexicalService.getFormList(parameters).toPromise();\n        this.searchResults = form_list['list'];\n        this.loader = false;\n\n      } catch (error) {\n        console.log(error)\n        this.loader = false;\n      }\n    }\n\n  }\n\n  async onSearchLexicalEntriesFilter(data) {\n    this.searchResults = [];\n    /* console.log(data) */\n    let parameters = {\n      text: data,\n      searchMode: \"startsWith\",\n      type: \"\",\n      pos: \"\",\n      formType: \"entry\",\n      author: \"\",\n      lang: \"\",\n      status: \"\",\n      offset: 0,\n      limit: 500\n    }\n\n    console.log(parameters)\n    if (data != \"\") { /* && data.length >= 3 */\n\n      try {\n        let lex_list = await this.lexicalService.getLexicalEntriesList(parameters).toPromise();\n        this.lex_searchResuts = lex_list['list'];\n        this.loader = false;\n      } catch (error) {\n        console.log(error)\n      }\n\n    }\n\n  }\n\n  clearAll() {\n    this.select_form.handleClearClick();\n  }\n\n  clearAllLexicalEntries() {\n    this.search_lexicalEntry.handleClearClick();\n  }\n\n  bindSelection(req) {\n    this.loader = true;\n    setTimeout(() => {\n      this.select_form.filter(req);\n      this.onSearchFilter(req)\n    }, 100);\n\n  }\n\n\n\n\n  handleForm(ngSelect, $event) {\n\n    if (ngSelect instanceof NgSelectComponent) {\n      if (ngSelect.selectedItems.length > 0) {\n        /* console.log(ngSelect.selectedItems[0]) */\n        let label;\n        if (ngSelect.selectedItems[0]['value']['form'] != undefined) {\n          label = ngSelect.selectedItems[0]['value']['form'];\n        } else {\n          label = ngSelect.selectedItems[0].label;\n        }\n        this.onChangeForm(ngSelect.selectedItems[0]['value'])\n      }\n    } /* else {\n        let label = evt.target.value;\n        this.form_subject.next({ name: label})\n    } */\n  }\n\n\n  async onChangeForm(data) {\n\n    //TODO: aggiungere leiden\n\n    let parameters = {}\n    let idPopover = this.bind.selectedPopover.tokenId;\n    let tokenData = this.bind.object[idPopover];\n    let element_id = this.bind.epiData.element_id;\n    let textSelection = this.bind.message;\n    let selectionSpan = this.bind.spanSelection;\n    let formValue = data.form;\n\n\n    let xmlNode = this.bind.epiData.xmlDoc.querySelectorAll('[*|id=\\'' + tokenData.xmlid + '\\']')[0].outerHTML;\n    let object = {\n      xmlString: xmlNode\n    }\n    let leidenToken = '';\n    try {\n      let convert_to_leiden = await this.documentService.testConvertItAnt(object).toPromise();\n      console.log(convert_to_leiden);\n      let raw = convert_to_leiden['xml'];\n      let bodyResponse = new DOMParser().parseFromString(raw, \"text/html\").body;\n      \n      bodyResponse.childNodes.forEach(\n        x => {\n          if (x.nodeName != undefined) {\n            if (x.nodeName == '#text') {\n              leidenToken += x.nodeValue.replace('\\n', '');\n            }\n          }\n        }\n      )\n    } catch (error) {\n\n    }\n\n\n\n    if (this.creator == undefined) {\n      this.creator = '';\n    }\n\n    console.log(selectionSpan)\n    console.log(textSelection)\n    if (textSelection != '' && textSelection != undefined) {\n      //console.log(111)\n      parameters[\"value\"] = formValue;\n      parameters[\"layer\"] = \"attestation\";\n      parameters[\"attributes\"] = {\n        author: this.creator,\n        creator: this.creator,\n        note: \"\",\n        confidence: 1,\n        timestamp: new Date().getTime().toString(),\n        bibliography: [],\n        validity: \"\",\n        externalRef: \"\",\n        leiden : leidenToken,\n        node_id: tokenData.id,\n        label: data.label,\n        lexicalEntry: data.lexicalEntry\n      };\n      parameters[\"spans\"] = [\n        {\n          start: selectionSpan.start.toString(),\n          end: selectionSpan.end.toString()\n        }\n      ];\n      parameters[\"id\"] = tokenData.node;\n    } else if (textSelection == '' && !Array.isArray(selectionSpan) && !this.bind.isEmptyFile) {\n      parameters[\"value\"] = formValue;\n      parameters[\"layer\"] = \"attestation\";\n      parameters[\"attributes\"] = {\n        author: this.creator,\n        creator: this.creator,\n        note: \"\",\n        confidence: 1,\n        timestamp: new Date().getTime().toString(),\n        bibliography: [],\n        leiden : leidenToken,\n        validity: \"\",\n        externalRef: \"\",\n        node_id: tokenData.id,\n        label: data.label,\n        lexicalEntry: data.lexicalEntry\n      };\n      parameters[\"spans\"] = [\n        {\n          start: tokenData.begin.toString(),\n          end: tokenData.end.toString()\n        }\n      ];\n      parameters[\"id\"] = tokenData.node;\n    } else if (Array.isArray(selectionSpan)) { //MULTIWORD\n      parameters[\"value\"] = formValue;\n      parameters[\"layer\"] = \"attestation\";\n      parameters[\"attributes\"] = {\n        author: this.creator,\n        creator: this.creator,\n        note: \"\",\n        confidence: 1,\n        timestamp: new Date().getTime().toString(),\n        bibliography: [],\n        validity: \"\",\n        externalRef: \"\",\n        leiden : leidenToken,\n        node_id: tokenData.id,\n        label: data.label,\n        lexicalEntry: data.lexicalEntry\n      };\n      parameters[\"spans\"] = selectionSpan\n      parameters[\"id\"] = tokenData.node;\n    } else if (this.bind.isEmptyFile) {\n      parameters[\"value\"] = formValue;\n      parameters[\"layer\"] = \"attestation\";\n      parameters[\"attributes\"] = {\n        author: this.creator,\n        creator: this.creator,\n        note: \"\",\n        confidence: 1,\n        timestamp: new Date().getTime().toString(),\n        bibliography: [],\n        validity: \"\",\n        leiden : leidenToken,\n        externalRef: \"\",\n        node_id: undefined,\n        label: data.label,\n        lexicalEntry: data.lexicalEntry\n      };\n      parameters[\"spans\"] = [\n        {\n          start: 0,\n          end: 0\n        }\n      ];\n      parameters[\"id\"] = element_id;\n    }\n    //console.log(idPopover, tokenData, data);\n\n    console.log(parameters)\n\n    let identifier;\n\n    if (!this.bind.isEmptyFile) {\n      identifier = tokenData.node;\n    } else {\n      identifier = element_id\n    }\n\n    try {\n      let add_annotation_request = await this.annotatorService.addAnnotation(parameters, identifier).toPromise()\n      console.log(data);\n      this.bind.annotationArray.push(add_annotation_request.annotation);\n\n      if (!this.bind.isEmptyFile) {\n        this.bind.populateLocalAnnotation(tokenData);\n      } else {\n        this.bind.populateLocalAnnotation(add_annotation_request.annotation)\n      }\n\n\n      if (!this.bind.isEmptyFile) {\n        this.bind.object.forEach(element => {\n          if (add_annotation_request.annotation.attributes.node_id == element.id) {\n            let positionElement = element.position;\n            let elementHTML = document.getElementsByClassName('token-' + (positionElement - 1))[0]\n            this.renderer.addClass(elementHTML, 'annotation');\n          }\n        });\n      }\n\n\n      this.toastr.success('New attestation created', 'Info', {\n        timeOut: 5000\n      })\n    } catch (error) {\n      if (error.status != 200) {\n        this.toastr.error('Error on create new attestation', 'Error', {\n          timeOut: 5000\n        })\n      }\n    }\n  }\n\n  addNewForm = (form: string) => {\n    this.addTagFormText = form;\n\n\n    let index = this.bind.selectedPopover.tokenId;\n    let popover = this.bind.spanPopovers.toArray()[index];\n\n    if (popover != undefined) {\n      if (popover.isOpen()) {\n        popover.close();\n      }\n    }\n\n    this.modalService.open(this.addFormModal, {\n      size: 'lg',\n      windowClass: 'dark-modal',\n      beforeDismiss: () => {\n        if (this.stepOneForm.touched || this.stepTwoForm.touched || this.stepThreeForm.touched || this.stepFourForm.touched) {\n          if (!confirm('There are unsaved changes. Do you really want to quit without saving?')) {\n            return false;\n          } else {\n            this.stepOneForm.reset();\n            this.stepOneForm.markAsUntouched();\n            this.stepOneForm.markAsPristine();\n\n            this.stepTwoForm.reset();\n            this.stepTwoForm.markAsUntouched();\n            this.stepTwoForm.markAsPristine();\n\n            this.stepThreeForm.reset();\n            this.stepThreeForm.markAsUntouched();\n            this.stepThreeForm.markAsPristine();\n\n            this.stepFourForm.reset();\n            this.stepFourForm.markAsUntouched();\n            this.stepFourForm.markAsPristine();\n\n            this.statusForm.reset();\n            this.statusForm.markAsPristine();\n            this.statusForm.markAsUntouched();\n            return true;\n          }\n\n        } else {\n          this.stepOneForm.reset();\n          this.stepOneForm.markAsUntouched();\n          this.stepOneForm.markAsPristine();\n\n          this.stepTwoForm.reset();\n          this.stepTwoForm.markAsUntouched();\n          this.stepTwoForm.markAsPristine();\n\n          this.stepThreeForm.reset();\n          this.stepThreeForm.markAsUntouched();\n          this.stepThreeForm.markAsPristine();\n\n          this.stepFourForm.reset();\n          this.stepFourForm.markAsUntouched();\n          this.stepFourForm.markAsPristine();\n          return true;\n        }\n      }\n    });\n    this.modalStep = 1;\n\n  }\n\n  nextStep() {\n    if (this.modalStep == 1) {\n      if (this.stepOneForm.get('existOrNot').value == 'new') {\n        this.modalStep = 3;\n      } else {\n        this.modalStep = 2;\n      }\n\n      if (this.stepTwoForm.touched) {\n        this.stepTwoForm.reset();\n        this.stepTwoForm.markAsUntouched();\n        this.stepTwoForm.markAsPristine();\n        this.clearAll();\n      }\n\n      if (this.stepThreeForm.touched) {\n        this.stepThreeForm.reset();\n        this.stepThreeForm.markAsUntouched();\n        this.stepThreeForm.markAsPristine();\n      }\n\n      if (this.stepFourForm.touched) {\n        this.stepFourForm.reset();\n        this.stepFourForm.markAsUntouched();\n        this.stepFourForm.markAsPristine();\n      }\n\n    } else if (this.modalStep == 3) {\n      this.modalStep += 1;\n      if (this.stepTwoForm.touched) {\n        this.stepTwoForm.reset();\n        this.stepTwoForm.markAsUntouched();\n        this.stepTwoForm.markAsPristine();\n\n        this.clearAll();\n      }\n\n      if (this.stepFourForm.touched) {\n        this.stepFourForm.reset();\n        this.stepFourForm.markAsUntouched();\n        this.stepFourForm.markAsPristine();\n      }\n\n      this.stepFourForm.get('writtenForm').patchValue(this.addTagFormText, { emitEvent: false });\n\n    } else if (this.modalStep == 2) {\n      this.modalStep = 4;\n      if (this.stepThreeForm.touched) {\n        this.stepThreeForm.reset();\n        this.stepThreeForm.markAsUntouched();\n        this.stepThreeForm.markAsPristine();\n      }\n\n      if (this.stepFourForm.touched) {\n        this.stepFourForm.reset();\n        this.stepFourForm.markAsUntouched();\n        this.stepFourForm.markAsPristine();\n      }\n\n      this.stepFourForm.get('writtenForm').patchValue(this.addTagFormText, { emitEvent: false });\n    } else {\n      this.modalStep += 1;\n\n      if (this.modalStep == 6) {\n        this.wizardFactory();\n      }\n\n      if (this.modalStep > 6) {\n        this.modalStep = 6;\n      }\n    }\n\n  }\n\n  previousStep() {\n    if (this.modalStep == 2) {\n      this.modalStep -= 1;\n    } else if (this.modalStep == 3) {\n      this.modalStep = 1;\n    } else if (this.modalStep == 4) {\n\n      if (this.stepThreeForm.touched) {\n        this.modalStep = 3;\n      } else if (this.stepTwoForm.touched) {\n        this.modalStep = 2;\n      }\n    } else if (this.modalStep == 5) {\n      this.modalStep -= 1;\n    }\n  }\n\n  async wizardFactory() {\n\n    //TODO: attaccargli token alla fine\n\n    //nuova lexical entry\n    if (this.stepThreeForm.touched) {\n\n      //lexical entry creazion\n      this.statusForm.get('lexicalEntryCreation').patchValue('pending', { emitEvent: false });\n\n      try {\n        let new_lex_entry_request = await this.lexicalService.newLexicalEntry().toPromise();\n\n        this.statusForm.get('lexicalEntryCreation').patchValue('ok', { emitEvent: false })\n        this.statusForm.get('attachingLanguage').patchValue('pending', { emitEvent: false })\n\n        //attaching language\n        let lexId = new_lex_entry_request['lexicalEntry'];\n        let lang = this.stepThreeForm.get('language').value;\n        let parameters = {\n          relation: 'http://www.w3.org/ns/lemon/lime#entry',\n          value: lang\n        }\n\n        try {\n          let update_lang_new_lex_request = await this.lexicalService.updateLexicalEntry(lexId, parameters).toPromise();\n        } catch (error) {\n\n          if (error.status == 200) {\n            this.statusForm.get('attachingLanguage').patchValue('ok', { emitEvent: false });\n            //attaching type\n            this.statusForm.get('attachingType').patchValue('pending', { emitEvent: false });\n            let type = this.stepThreeForm.get('type').value;\n            let parameters = {\n              relation: 'http://www.w3.org/1999/02/22-rdf-syntax-ns#type',\n              value: type\n            }\n\n            try {\n              let attach_type_req = await this.lexicalService.updateLexicalEntry(lexId, parameters).toPromise()\n            } catch (error) {\n              if (error.status == 200) {\n                this.statusForm.get('attachingType').patchValue('ok', { emitEvent: false });\n\n                this.statusForm.get('attachingLabel').patchValue('pending', { emitEvent: false });\n                //attaching label\n                let label = this.stepThreeForm.get('label').value;\n                let parameters = {\n                  relation: 'http://www.w3.org/2000/01/rdf-schema#label',\n                  value: label\n                };\n\n                try {\n                  let attach_label = await this.lexicalService.updateLexicalEntry(lexId, parameters).toPromise();\n\n                } catch (error) {\n                  if (error.status == 200) {\n                    this.statusForm.get('attachingLabel').patchValue('ok', { emitEvent: false });\n                    //attaching pos\n                    this.statusForm.get('attachingPos').patchValue('pending', { emitEvent: false });\n\n                    let pos = this.stepThreeForm.get('pos').value;\n                    let parameters = {\n                      type: 'morphology',\n                      relation: 'http://www.lexinfo.net/ontology/3.0/lexinfo#partOfSpeech',\n                      value: pos\n                    }\n\n                    try {\n                      let attach_pos = await this.lexicalService.updateLinguisticRelation(lexId, parameters).toPromise();\n                    } catch (error) {\n                      if (error.status == 200) {\n                        this.statusForm.get('attachingPos').patchValue('ok', { emitEvent: false });\n\n                        //creating form\n                        this.statusForm.get('creatingForm').patchValue('pending', { emitEvent: false });\n\n                        try {\n                          let create_form = await this.lexicalService.createNewForm(lexId).toPromise();\n                          console.log(create_form);\n                          let formId = create_form.form;\n                          let formData = create_form;\n                          this.statusForm.get('creatingForm').patchValue('ok', { emitEvent: false });\n\n\n                          //attaching writtenRep to form\n                          this.statusForm.get('attachingWrittenForm').patchValue('pending', { emitEvent: false });\n                          let writtenRep = this.stepFourForm.get('writtenForm').value;\n                          let parameters = {\n                            relation: 'http://www.w3.org/ns/lemon/ontolex#writtenRep',\n                            value: writtenRep\n                          }\n\n                          try {\n                            let attach_written_rep = await this.lexicalService.updateForm(formId, parameters).toPromise();\n                          } catch (error) {\n                            if (error.status == 200) {\n                              this.statusForm.get('attachingWrittenForm').patchValue('ok', { emitEvent: false });\n                              //attach type to form\n                              this.statusForm.get('attachingFormType').patchValue('pending', { emitEvent: false });\n                              let typeForm = this.stepFourForm.get('type').value;\n\n                              let parameters = {\n                                relation: 'http://www.w3.org/1999/02/22-rdf-syntax-ns#type',\n                                value: typeForm\n                              }\n\n                              try {\n                                let attach_type_form = await this.lexicalService.updateForm(formId, parameters).toPromise();\n                                this.statusForm.get('attachingFormType').patchValue('ok', { emitEvent: false });\n                                this.statusForm.get('finish').patchValue('ok', { emitEvent: false });\n                              } catch (error) {\n                                if (error.status == 200) {\n                                  this.statusForm.get('attachingFormType').patchValue('ok', { emitEvent: false });\n                                  this.statusForm.get('finish').patchValue('ok', { emitEvent: false });\n\n\n                                  let parameters = {}\n                                  let idPopover = this.bind.selectedPopover.tokenId;\n                                  let tokenData = this.bind.object[idPopover];\n                                  let element_id = this.bind.epiData.element_id;\n                                  let textSelection = this.bind.message;\n                                  let selectionSpan = this.bind.spanSelection;\n                                  let formValue = formId;\n\n                                  let xmlNode = this.bind.epiData.xmlDoc.querySelectorAll('[*|id=\\'' + tokenData.xmlid + '\\']')[0].outerHTML;\n                                  let object = {\n                                    xmlString: xmlNode\n                                  }\n                                  let leidenToken = '';\n                                  try {\n                                    let convert_to_leiden = await this.documentService.testConvertItAnt(object).toPromise();\n                                    console.log(convert_to_leiden);\n                                    let raw = convert_to_leiden['xml'];\n                                    let bodyResponse = new DOMParser().parseFromString(raw, \"text/html\").body;\n                                    \n                                    bodyResponse.childNodes.forEach(\n                                      x => {\n                                        if (x.nodeName != undefined) {\n                                          if (x.nodeName == '#text') {\n                                            leidenToken += x.nodeValue.replace('\\n', '');\n                                          }\n                                        }\n                                      }\n                                    )\n                                  } catch (error) {\n\n                                  }\n\n\n\n                                  if (this.creator == undefined) {\n                                    this.creator = '';\n                                  }\n\n\n                                  parameters[\"value\"] = formValue;\n                                  parameters[\"layer\"] = \"attestation\";\n                                  parameters[\"attributes\"] = {\n                                    author: this.creator,\n                                    creator: this.creator,\n                                    note: \"\",\n                                    confidence: 1,\n                                    timestamp: new Date().getTime().toString(),\n                                    bibliography: [],\n                                    leiden : leidenToken,\n                                    validity: \"\",\n                                    externalRef: \"\",\n                                    node_id: tokenData.id,\n                                    label: writtenRep,\n                                    lexicalEntry: formData.lexicalEntry\n                                  };\n                                  parameters[\"spans\"] = [\n                                    {\n                                      start: tokenData.begin.toString(),\n                                      end: tokenData.end.toString()\n                                    }\n                                  ];\n                                  parameters[\"id\"] = tokenData.node;\n\n\n                                  let identifier;\n\n                                  if (!this.bind.isEmptyFile) {\n                                    identifier = tokenData.node;\n                                  } else {\n                                    identifier = element_id\n                                  }\n\n                                  try {\n                                    let add_annotation_request = await this.annotatorService.addAnnotation(parameters, identifier).toPromise()\n                                    console.log(data);\n                                    this.bind.annotationArray.push(add_annotation_request.annotation);\n                              \n                                    if (!this.bind.isEmptyFile) {\n                                      this.bind.populateLocalAnnotation(tokenData);\n                                    } else {\n                                      this.bind.populateLocalAnnotation(add_annotation_request.annotation)\n                                    }\n                              \n                              \n                                    if (!this.bind.isEmptyFile) {\n                                      this.bind.object.forEach(element => {\n                                        if (add_annotation_request.annotation.attributes.node_id == element.id) {\n                                          let positionElement = element.position;\n                                          let elementHTML = document.getElementsByClassName('token-' + (positionElement - 1))[0]\n                                          this.renderer.addClass(elementHTML, 'annotation');\n                                        }\n                                      });\n                                    }\n                              \n                              \n                                    this.toastr.success('New attestation created', 'Info', {\n                                      timeOut: 5000\n                                    })\n                                  } catch (error) {\n                                    if (error.status != 200) {\n                                      this.toastr.error('Error on create new attestation', 'Error', {\n                                        timeOut: 5000\n                                      })\n                                    }\n                                  }\n                                } else {\n                                  this.toastr.error(\"Error on attaching form type\", \"Error\", { timeOut: 5000 })\n                                }\n                              }\n\n                            } else {\n                              this.toastr.error(\"Error on attaching writtenRep\", \"Error\", { timeOut: 5000 })\n                            }\n                          }\n                        } catch (error) {\n                          this.toastr.error(\"Error on creating new form\", \"Error\", { timeOut: 5000 })\n                        }\n                      } else {\n                        this.toastr.error(\"Error on attaching POS\", \"Error\", { timeOut: 5000 })\n                      }\n                    }\n                  } else {\n                    this.toastr.error(\"Error on attaching label\", \"Error\", { timeOut: 5000 })\n                  }\n                }\n              } else {\n                this.toastr.error(\"Error on attaching type\", \"Error\", { timeOut: 5000 })\n              }\n\n            }\n          } else {\n            this.toastr.error(error.error.message, \"Error\")\n          }\n\n        }\n      } catch (error) {\n        this.toastr.error(\"Error on creating lexical entry\", \"Error\")\n      }\n    } else if (this.stepTwoForm.touched) { //lexical entry esistente\n\n      let lexId = this.stepTwoForm.get('lexicalEntry').value;\n      //creating form\n      this.statusForm.get('creatingForm').patchValue('pending', { emitEvent: false });\n\n      try {\n        let create_new_form = await this.lexicalService.createNewForm(lexId).toPromise();\n        console.log(create_new_form);\n\n        let formId = create_new_form.form;\n\n        this.statusForm.get('creatingForm').patchValue('ok', { emitEvent: false });\n\n\n        //attaching writtenRep to form\n        this.statusForm.get('attachingWrittenForm').patchValue('pending', { emitEvent: false });\n        let writtenRep = this.stepFourForm.get('writtenForm').value;\n        let parameters = {\n          relation: 'http://www.w3.org/ns/lemon/ontolex#writtenRep',\n          value: writtenRep\n        }\n\n        try {\n          let attach_written_rep = await this.lexicalService.updateForm(formId, parameters).toPromise();\n        } catch (error) {\n          if (error.status == 200) {\n            this.statusForm.get('attachingWrittenForm').patchValue('ok', { emitEvent: false });\n            //attach type to form\n            this.statusForm.get('attachingFormType').patchValue('pending', { emitEvent: false });\n            let typeForm = this.stepFourForm.get('type').value;\n\n            let parameters = {\n              relation: 'http://www.w3.org/1999/02/22-rdf-syntax-ns#type',\n              value: typeForm\n            }\n\n            try {\n              let attach_type = await this.lexicalService.updateForm(formId, parameters).toPromise();\n              this.statusForm.get('attachingFormType').patchValue('ok', { emitEvent: false });\n              this.statusForm.get('finish').patchValue('ok', { emitEvent: false });\n            } catch (error) {\n              if (error.status == 200) {\n                this.statusForm.get('attachingFormType').patchValue('ok', { emitEvent: false });\n                this.statusForm.get('finish').patchValue('ok', { emitEvent: false });\n\n\n                let parameters = {}\n                let idPopover = this.bind.selectedPopover.tokenId;\n                let tokenData = this.bind.object[idPopover];\n                let element_id = this.bind.epiData.element_id;\n                let textSelection = this.bind.message;\n                let selectionSpan = this.bind.spanSelection;\n                let formValue = formId;\n\n                let xmlNode = this.bind.epiData.xmlDoc.querySelectorAll('[*|id=\\'' + tokenData.xmlid + '\\']')[0].outerHTML;\n                let object = {\n                  xmlString: xmlNode\n                }\n                let leidenToken = '';\n                try {\n                  let convert_to_leiden = await this.documentService.testConvertItAnt(object).toPromise();\n                  console.log(convert_to_leiden);\n                  let raw = convert_to_leiden['xml'];\n                  let bodyResponse = new DOMParser().parseFromString(raw, \"text/html\").body;\n                  \n                  bodyResponse.childNodes.forEach(\n                    x => {\n                      if (x.nodeName != undefined) {\n                        if (x.nodeName == '#text') {\n                          leidenToken += x.nodeValue.replace('\\n', '');\n                        }\n                      }\n                    }\n                  )\n                } catch (error) {\n\n                }\n\n\n\n                if (this.creator == undefined) {\n                  this.creator = '';\n                }\n\n\n                parameters[\"value\"] = formValue;\n                parameters[\"layer\"] = \"attestation\";\n                parameters[\"attributes\"] = {\n                  author: this.creator,\n                  creator: this.creator,\n                  note: \"\",\n                  confidence: 1,\n                  timestamp: new Date().getTime().toString(),\n                  bibliography: [],\n                  leiden : leidenToken,\n                  validity: \"\",\n                  externalRef: \"\",\n                  node_id: tokenData.id,\n                  label: writtenRep,\n                  lexicalEntry: lexId\n                };\n                parameters[\"spans\"] = [\n                  {\n                    start: tokenData.begin.toString(),\n                    end: tokenData.end.toString()\n                  }\n                ];\n                parameters[\"id\"] = tokenData.node;\n\n\n                let identifier;\n\n                if (!this.bind.isEmptyFile) {\n                  identifier = tokenData.node;\n                } else {\n                  identifier = element_id\n                }\n\n                try {\n                  let add_annotation_request = await this.annotatorService.addAnnotation(parameters, identifier).toPromise()\n                  console.log(data);\n                  this.bind.annotationArray.push(add_annotation_request.annotation);\n            \n                  if (!this.bind.isEmptyFile) {\n                    this.bind.populateLocalAnnotation(tokenData);\n                  } else {\n                    this.bind.populateLocalAnnotation(add_annotation_request.annotation)\n                  }\n            \n            \n                  if (!this.bind.isEmptyFile) {\n                    this.bind.object.forEach(element => {\n                      if (add_annotation_request.annotation.attributes.node_id == element.id) {\n                        let positionElement = element.position;\n                        let elementHTML = document.getElementsByClassName('token-' + (positionElement - 1))[0]\n                        this.renderer.addClass(elementHTML, 'annotation');\n                      }\n                    });\n                  }\n            \n            \n                  this.toastr.success('New attestation created', 'Info', {\n                    timeOut: 5000\n                  })\n                } catch (error) {\n                  if (error.status != 200) {\n                    this.toastr.error('Error on create new attestation', 'Error', {\n                      timeOut: 5000\n                    })\n                  }\n                }\n              } else {\n                this.toastr.error(\"Error on attaching type\", \"Error\", { timeOut: 5000 })\n              }\n            }\n          } else {\n            this.toastr.error(\"Error on attaching writtenRep\", \"Error\", { timeOut: 5000 })\n          }\n        }\n      } catch (error) {\n        if (error.status != 200) {\n          this.toastr.error(\"Error on creating new form\", \"Error\", { timeOut: 5000 });\n        }\n      }\n    }\n  }\n\n  ngOnDestroy(): void {\n    //this.search_subscription.unsubscribe();\n    this.get_languages_subscription.unsubscribe();\n    this.get_morphology_subscription.unsubscribe();\n    this.get_lex_entry_type_subscription.unsubscribe();\n    this.get_form_type_subscription.unsubscribe();\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n\n}\n","<div class=\"input-group col-xl-12 searchSelect\" #search_form_container>\n    <ng-select #select_form name=\"entity\" [addTag]=\"addNewForm\" [clearable]=\"false\" (focus)=\"true\" bindValue=\"label\"\n        bindLabel=\"label\" placeholder=\"Search form\" appendTo=\".token_modal\" (keyup)=\"triggerSearch($event)\"\n        [items]=\"searchResults\" (change)=\"handleForm(select_form, search_form_container)\" [loading]=\"loader\">\n        <!--  -->\n        <!-- && cog.get('type').value != 'external' -->\n        <!-- \"\n     -->\n        <!-- (focus)=\"deleteData()\" -->\n        <!-- -->\n        <ng-template ng-option-tmp let-item=\"item\" let-search=\"searchTerm\">\n            <!--     <div>\n    <span>{{item.label}} </span><span style=\"color: blue;\">@{{item.language}}</span>\n</div> -->\n            <div class=\"card-body p-0\">\n                <h6 class=\"card-title m-0\" [ngOptionHighlight]=\"search\">{{item.label}}</h6>\n                <!-- <p class=\"card-subtitle mb-2 text-muted\">{{item.type}}</p> -->\n                <small *ngFor=\"let sub of item.morphology\">\n                    <span *ngIf=\"sub.trait == 'case' || sub.trait == 'gender' || sub.trait == 'number' || sub.trait == 'partOfSpeech'\">\n                        {{sub.trait}} : {{sub.value.split('#')[1]}} <br>\n                    </span>\n                </small>\n                <small class=\"card-text\">\n                    <!-- <img height=\"15\" width=\"15\" [src]=\"item.avatar\"/> -->\n                    <!-- LexicalEntry: {{item.lexicalEntryInstanceName}} -->\n\n                </small>\n                <!--  <div *ngIf=\"item.name === 'Pavilnys'\">\n        <a href=\"#\" class=\"card-link\">Card link</a>\n        <a href=\"#\" class=\"card-link\">Another link</a>\n    </div> -->\n            </div>\n\n        </ng-template>\n    </ng-select>\n\n    <div class=\"input-group-append ml-2\">\n        <button (click)=\"clearAll()\" class=\"btn btn-danger\" type=\"button\">Clear</button>\n    </div>\n</div>\n\n<ng-template #addFormModal let-modal>\n    <div class=\"modal-header\">\n        <h4 class=\"modal-title\" id=\"modal-basic-title\">Wizard</h4>\n        <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"modal.dismiss('Cross click')\">\n            <span aria-hidden=\"true\">&times;</span>\n        </button>\n    </div>\n\n    <form [formGroup]=\"stepOneForm\" *ngIf=\"modalStep == 1\">\n        <div class=\"modal-body\">\n            <!-- {{modalStep}} -->\n            <div class=\"form-group\" >\n                <p>To create a new lexical form it is necessary to have a reference lexical entry. Select one of the two options:</p>\n                <div class=\"form-check form-check-inline\">\n                    <input class=\"form-check-input\" formControlName=\"existOrNot\" name=\"existOrNot\" type=\"radio\" value=\"new\">\n                    <label class=\"form-check-label\" for=\"existOrNot\">Create new lexical entry</label>\n                </div>\n                <div class=\"form-check form-check-inline\">\n                    <input class=\"form-check-input\" formControlName=\"existOrNot\" name=\"existOrNot\" type=\"radio\" value=\"exist\">\n                    <label class=\"form-check-label\" for=\"existOrNot\">Choose one existing lexical entry</label>\n                </div>\n            </div>\n            \n        </div>\n        <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"previousStep()\"\n                [disabled]=\"modalStep == 1\">Previous</button>\n            <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"nextStep()\" [disabled]=\"stepOneForm.invalid\">Next</button>\n        </div>  \n       \n    </form>\n\n    <form [formGroup]=\"stepTwoForm\"  *ngIf=\"modalStep == 2\">\n        {{stepTwoForm.value | json}}\n        <div class=\"modal-body\">\n            <!-- {{modalStep}} -->\n            <p>Choose a lexical entry:</p>\n            <div class=\"input-group searchSelect\">\n                <ng-select #search_lexicalEntry formControlName=\"lexicalEntry\" name=\"lexicalEntry\" [clearable]=\"false\" (focus)=\"true\" bindValue=\"lexicalEntry\"\n                bindLabel=\"label\" placeholder=\"Search form\" appendTo=\"body\" (keyup)=\"triggerSearchLexicalEntries($event)\"\n                [items]=\"lex_searchResuts\" [loading]=\"loader\"> </ng-select>\n                \n                <div class=\"input-group-append ml-2\">\n                    <button (click)=\"clearAll()\" class=\"btn btn-danger\" type=\"button\">Clear</button>\n                </div>\n            </div>\n            \n        </div>\n        <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"previousStep()\"\n                [disabled]=\"modalStep == 1\">Previous</button>\n            <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"nextStep()\" [disabled]=\"stepTwoForm.invalid\">Next</button>\n        </div>  \n       \n    </form>\n\n    <form [formGroup]=\"stepThreeForm\"  *ngIf=\"modalStep == 3\">\n        <div class=\"modal-body\">\n            <!-- {{modalStep}} -->\n            <p>Enter basic info for lexical entry creation:</p>\n            <div class=\"form-row\">\n                <div class=\"col-md-4 mb-3\">\n                    <label for=\"label\">Label</label>\n                    <input type=\"text\" class=\"form-control\" formControlName=\"label\" name=\"label\" id=\"label\" required>\n                    <div class=\"invalid-feedback\">\n                        Please provide a valid state.\n                    </div>\n                </div>\n                <div class=\"col-md-3 mb-3\">\n                    <label for=\"label\">Type</label>\n                    <select class=\"custom-select\" formControlName=\"type\" name=\"type\" id=\"type\" required>\n                        <option selected value=\"\">Select type</option>\n                        <option *ngFor=\"let type of lexEntryTypesData\" [value]=\"type.valueId\">{{type.valueLabel}}</option>\n                    </select>\n                    <div class=\"invalid-feedback\">\n                        Please provide a valid state.\n                    </div>\n                </div>\n                <div class=\"col-md-2 mb-3\">\n                    <label for=\"label\">Language</label>\n                    <select class=\"custom-select\" formControlName=\"language\" name=\"language\" id=\"language\" required>\n                        <option selected value=\"\">Select language</option>\n                        <option *ngFor=\"let lang of languages\" [value]=\"lang.label\">{{lang.label}}</option>\n                    </select>\n                    <div class=\"invalid-feedback\">\n                        Please provide a valid state.\n                    </div>\n                </div>\n                <div class=\"col-md-3 mb-3\">\n                    <label for=\"label\">Part of Speech</label>\n                    <select class=\"custom-select\" formControlName=\"pos\" name=\"pos\" id=\"pos\" required>\n                        <option selected value=\"\">Select pos</option>\n                        <option *ngFor=\"let pos of morphologyData\" [value]=\"pos.valueId\">{{pos.valueLabel}}</option>\n                    </select>\n                    <div class=\"invalid-feedback\">\n                        Please provide a valid state.\n                    </div>\n                </div>\n            </div>\n            <!-- <div class=\"form-row\">\n                \n            </div> -->\n            \n        </div>\n        <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"previousStep()\"\n                [disabled]=\"modalStep == 1\">Previous</button>\n            <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"nextStep()\" [disabled]=\"stepThreeForm.invalid\">Next</button>\n        </div>  \n       \n    </form>\n\n    <form [formGroup]=\"stepFourForm\"  *ngIf=\"modalStep == 4\">\n        <div class=\"modal-body\">\n            <p>Enter basic info for form creation:</p>\n            <div class=\"form-row\">\n                <div class=\"col-md-4 mb-3\">\n                    <label for=\"label\">Written Form</label>\n                    <input type=\"text\" class=\"form-control\" formControlName=\"writtenForm\" name=\"writtenForm\" id=\"writtenForm\" required>\n                    <div class=\"invalid-feedback\">\n                        Please provide a valid state.\n                    </div>\n                </div>\n                <div class=\"col-md-3 mb-3\">\n                    <label for=\"label\">Type</label>\n                    <select class=\"custom-select\" formControlName=\"type\" name=\"type\" id=\"type\" required>\n                        <option selected value=\"\">Select type</option>\n                        <option *ngFor=\"let type of typesData\" [value]=\"type.valueId\">{{type.valueLabel}}</option>\n                    </select>\n                    <div class=\"invalid-feedback\">\n                        Please provide a valid state.\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"previousStep()\">Previous</button>\n            <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"nextStep()\" [disabled]=\"stepFourForm.invalid\">Next</button>\n        </div>  \n    </form>\n\n    <div *ngIf=\"modalStep == 5\">\n        <div class=\"modal-body\">\n            <p>Summary:</p>\n\n            <div class=\"row\">\n                <div class=\"col-4\">\n                    <p>Lexical form to create</p>\n                </div>\n                <div class=\"col-8\">\n                    <p>{{stepFourForm.get('writtenForm').value}}  -  {{stepFourForm.get('type').value}}</p>\n               </div>\n            </div>\n\n            <div class=\"row\" *ngIf=\"stepTwoForm.touched\">\n                <div class=\"col-4\">\n                    <p>Lexical Entry to be attached</p>\n                </div>\n                <div class=\"col-8\">\n                    <p>{{stepTwoForm.get('lexicalEntry').value}}</p>\n               </div>\n            </div>\n\n            <div class=\"row\" *ngIf=\"stepThreeForm.touched\">\n                <div class=\"col-4\">\n                    <p>New lexical entry to be attached</p>\n                </div>\n                <div class=\"col-8\">\n                    <p>{{stepThreeForm.get('label').value}}</p>\n               </div>\n            </div>\n\n\n        </div>\n        <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"previousStep()\">Previous</button>\n            <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"nextStep()\">Proceed</button>\n        </div>\n    </div>\n\n\n    <form [formGroup]=\"statusForm\"  *ngIf=\"modalStep == 6\">\n        <div class=\"modal-body\">\n            <p>Summary:</p>\n            \n            <div class=\"row\" *ngIf=\"stepThreeForm.touched\">\n                <div class=\"col-4\">\n                    <p [ngClass]=\"{'text-muted': statusForm.get('lexicalEntryCreation').value == 'pause'}\">Lexical entry creation</p>\n                </div>\n                <div class=\"col-8\">\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('lexicalEntryCreation').value == 'pause'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-pause-circle fa-2x\" style=\"color: gray;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('lexicalEntryCreation').value == 'pending'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"spinner-border mr-auto ml-auto\" role=\"status\" aria-hidden=\"true\"></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('lexicalEntryCreation').value == 'ok'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-check-circle fa-2x\" style=\"color: green;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('lexicalEntryCreation').value == 'error'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-times-circle fa-2x\" style=\"color: red;\"></i></div>\n                    </div>\n               </div>\n            </div>\n\n            <div class=\"row\" *ngIf=\"stepThreeForm.touched\">\n                <div class=\"col-4\">\n                    <p [ngClass]=\"{'text-muted': statusForm.get('attachingLanguage').value == 'pause'}\">Attaching language</p>\n                </div>\n                <div class=\"col-8\">\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingLanguage').value == 'pause'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-pause-circle fa-2x\" style=\"color: gray;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingLanguage').value == 'pending'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"spinner-border mr-auto ml-auto\" role=\"status\" aria-hidden=\"true\"></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingLanguage').value == 'ok'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-check-circle fa-2x\" style=\"color: green;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingLanguage').value == 'error'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-times-circle fa-2x\" style=\"color: red;\"></i></div>\n                    </div>\n               </div>\n            </div>\n\n            <div class=\"row\" *ngIf=\"stepThreeForm.touched\">\n                <div class=\"col-4\">\n                    <p [ngClass]=\"{'text-muted': statusForm.get('attachingType').value == 'pause'}\">Attaching type</p>\n                </div>\n                <div class=\"col-8\">\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingType').value == 'pause'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-pause-circle fa-2x\" style=\"color: gray;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingType').value == 'pending'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"spinner-border mr-auto ml-auto\" role=\"status\" aria-hidden=\"true\"></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingType').value == 'ok'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-check-circle fa-2x\" style=\"color: green;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingType').value == 'error'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-times-circle fa-2x\" style=\"color: red;\"></i></div>\n                    </div>\n               </div>\n            </div>\n\n            <div class=\"row\" *ngIf=\"stepThreeForm.touched\">\n                <div class=\"col-4\">\n                    <p [ngClass]=\"{'text-muted': statusForm.get('attachingLabel').value == 'pause'}\">Attaching label</p>\n                </div>\n                <div class=\"col-8\">\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingLabel').value == 'pause'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-pause-circle fa-2x\" style=\"color: gray;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingLabel').value == 'pending'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"spinner-border mr-auto ml-auto\" role=\"status\" aria-hidden=\"true\"></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingLabel').value == 'ok'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-check-circle fa-2x\" style=\"color: green;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingLabel').value == 'error'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-times-circle fa-2x\" style=\"color: red;\"></i></div>\n                    </div>\n               </div>\n            </div>\n\n            <div class=\"row\" *ngIf=\"stepThreeForm.touched\">\n                <div class=\"col-4\">\n                    <p [ngClass]=\"{'text-muted': statusForm.get('attachingPos').value == 'pause'}\">Attaching part of speech</p>\n                </div>\n                <div class=\"col-8\">\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingPos').value == 'pause'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-pause-circle fa-2x\" style=\"color: gray;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingPos').value == 'pending'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"spinner-border mr-auto ml-auto\" role=\"status\" aria-hidden=\"true\"></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingPos').value == 'ok'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-check-circle fa-2x\" style=\"color: green;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingPos').value == 'error'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-times-circle fa-2x\" style=\"color: red;\"></i></div>\n                    </div>\n               </div>\n            </div>\n\n            <div class=\"row\">\n                <div class=\"col-4\">\n                    <p [ngClass]=\"{'text-muted': statusForm.get('creatingForm').value == 'pause'}\">Creating form</p>\n                </div>\n                <div class=\"col-8\">\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('creatingForm').value == 'pause'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-pause-circle fa-2x\" style=\"color: gray;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('creatingForm').value == 'pending'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"spinner-border mr-auto ml-auto\" role=\"status\" aria-hidden=\"true\"></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('creatingForm').value == 'ok'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-check-circle fa-2x\" style=\"color: green;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('creatingForm').value == 'error'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-times-circle fa-2x\" style=\"color: red;\"></i></div>\n                    </div>\n               </div>\n            </div>\n\n            <div class=\"row\">\n                <div class=\"col-4\">\n                    <p [ngClass]=\"{'text-muted': statusForm.get('attachingWrittenForm').value == 'pause'}\">Attaching written form property</p>\n                </div>\n                <div class=\"col-8\">\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingWrittenForm').value == 'pause'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-pause-circle fa-2x\" style=\"color: gray;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingWrittenForm').value == 'pending'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"spinner-border mr-auto ml-auto\" role=\"status\" aria-hidden=\"true\"></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingWrittenForm').value == 'ok'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-check-circle fa-2x\" style=\"color: green;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingWrittenForm').value == 'error'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-times-circle fa-2x\" style=\"color: red;\"></i></div>\n                    </div>\n               </div>\n            </div>\n\n            <div class=\"row\">\n                <div class=\"col-4\">\n                    <p [ngClass]=\"{'text-muted': statusForm.get('attachingFormType').value == 'pause'}\">Attaching type property</p>\n                </div>\n                <div class=\"col-8\">\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingFormType').value == 'pause'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-pause-circle fa-2x\" style=\"color: gray;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingFormType').value == 'pending'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"spinner-border mr-auto ml-auto\" role=\"status\" aria-hidden=\"true\"></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingFormType').value == 'ok'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-check-circle fa-2x\" style=\"color: green;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingFormType').value == 'error'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-times-circle fa-2x\" style=\"color: red;\"></i></div>\n                    </div>\n               </div>\n            </div>\n\n            <div class=\"row\">\n                <div class=\"col-4\">\n                    <p [ngClass]=\"{'text-muted': statusForm.get('finish').value == 'pause'}\">Finish</p>\n                </div>\n                <div class=\"col-8\">\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('finish').value == 'pause'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-pause-circle fa-2x\" style=\"color: gray;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('finish').value == 'pending'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"spinner-border mr-auto ml-auto\" role=\"status\" aria-hidden=\"true\"></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('finish').value == 'ok'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-check-circle fa-2x\" style=\"color: green;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('finish').value == 'error'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-times-circle fa-2x\" style=\"color: red;\"></i></div>\n                    </div>\n               </div>\n            </div>\n        </div>\n        <div class=\"modal-footer\">\n            <!-- <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"previousStep()\">Previous</button> -->\n            <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"modal.close('finish')\" [disabled]=\"statusForm.get('finish').value != 'ok'\">Close</button>\n        </div>\n    </form>\n    \n    \n</ng-template>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { timeout } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DocumentSystemService {\n\n  private baseUrl_document = \"/cash_itant/api/\"\n\n  private _epigraphyData: BehaviorSubject<object> = new BehaviorSubject(null);\n  private _epigraphyTextData: BehaviorSubject<string> = new BehaviorSubject(null);\n  private _epigraphyLeidenData: BehaviorSubject<any> = new BehaviorSubject(null);\n  private _epigraphyTranslationData: BehaviorSubject<any> = new BehaviorSubject(null);\n  private _metadataData : BehaviorSubject<object> = new BehaviorSubject(null);\n  private _triggerMetadataPanel : BehaviorSubject<boolean> = new BehaviorSubject(null);\n\n  epigraphyData$ = this._epigraphyData.asObservable();\n  epigraphyTextData$ = this._epigraphyTextData.asObservable();\n  epigraphyLeidenData$ = this._epigraphyLeidenData.asObservable();\n  epigraphyTranslationData$ = this._epigraphyTranslationData.asObservable();\n  metadataData$ = this._metadataData.asObservable();\n  triggerMetadataPanel$ = this._triggerMetadataPanel.asObservable();\n\n  constructor(private http: HttpClient) { }\n\n  sendToEpigraphyTab(object: object) {\n    this._epigraphyData.next(object)\n  } \n\n  sendTextToEpigraphyTab(string : string){\n    this._epigraphyTextData.next(string);\n  }\n\n  sendTranslationToEpigraphyTab(array : any){\n    this._epigraphyTranslationData.next(array);\n  }\n\n  sendLeidenToEpigraphyTab(string : any){\n    this._epigraphyLeidenData.next(string);\n  }\n\n  sendToMetadataPanel(object : object){\n    this._metadataData.next(object);\n  }\n\n  triggerMetadataPanel(bool: boolean){\n    this._triggerMetadataPanel.next(bool);\n  }\n\n  //GET /api/getDocumentSystem  ---> return document system\n  getDocumentSystem(): Observable<any> {\n    return this.http.get(this.baseUrl_document + \"public/getDocumentSystem?requestUUID=11\")\n  }\n\n  //POST /api/crud/addFolder --> add folder to document system\n  addFolder(parameters): Observable<any> {\n    return this.http.post(this.baseUrl_document + \"crud/addFolder\", parameters)\n  }\n\n  //POST /api/crud/removeFolder --> remove Folder folder from document system\n  removeFolder(parameters): Observable<any> {\n    return this.http.post(this.baseUrl_document + \"crud/removeFolder\", parameters)\n  }\n\n  //POST /api/crud/moveFolder --> move Folder to another folder\n  moveFolder(parameters): Observable<any> {\n    return this.http.post(this.baseUrl_document + \"crud/moveFolder\", parameters)\n  }\n\n  //POST /api/crud/renameFolder --> rename folder\n  renameFolder(parameters): Observable<any> {\n    return this.http.post(this.baseUrl_document + \"crud/renameFolder\", parameters)\n  }\n\n\n  //POST /api/crud/uploadFile --> upload text\n  uploadFile(parameters, element_id, request_uuid): Observable<any> {\n    return this.http.post(this.baseUrl_document + \"crud/uploadFile?requestUUID=\"+request_uuid+\"&element-id=\"+element_id+\"\", parameters)\n  }\n\n  //POST /api/crud/removeFile --> upload text\n  removeFile(parameters): Observable<any> {\n    return this.http.post(this.baseUrl_document + \"crud/removeFile\", parameters)\n  }\n\n  //POST /api/crud/renameFile --> upload text\n  renameFile(parameters): Observable<any> {\n    return this.http.post(this.baseUrl_document + \"crud/renameFile\", parameters)\n  }\n\n  //POST /api/crud/moveFileTo --> move file to another folder\n  moveFileTo(parameters): Observable<any> {\n    return this.http.post(this.baseUrl_document + \"crud/moveFileTo\", parameters)\n  }\n\n  //POST /api/crud/copyFileTo --> move file to another folder\n  copyFileTo(parameters): Observable<any> {\n    return this.http.post(this.baseUrl_document + \"crud/copyFileTo\", parameters)\n  }\n\n  //POST /api/crud/downloadFile --> move file to another folder\n  downloadFile(parameters): Observable<any> {\n    return this.http.post(this.baseUrl_document + \"crud/downloadFile\", parameters)\n  }\n\n  //POST /api/crud/updateMetadata --> move file to another folder\n  updateMetadata(parameters): Observable<any> {\n    return this.http.post(this.baseUrl_document + \"crud/updateMetadata\", parameters)\n  }\n  \n  //POST /api/crud/deleteMetadata --> move file to another folder\n  deleteMetadata(parameters): Observable<any> {\n    return this.http.post(this.baseUrl_document + \"crud/deleteMetadata\", parameters)\n  }\n\n  //POST /api/public/search --> move file to another folder\n  searchAttestations(formId): Observable<any> {\n    return this.http.post(this.baseUrl_document + \"public/search?query=\"+encodeURIComponent('[attestation=\"'+formId+'\"]'), null)\n  }\n\n  //POST /api/crud/createFile --> create file\n  createFile(parameters): Observable<any> {\n    return this.http.post(this.baseUrl_document + \"crud/createFile\", parameters)\n  }\n\n\n  getContent(nodeId) : Observable<any> {\n    return this.http.get(this.baseUrl_document + \"public/getcontent?requestUUID=11&nodeid=\"+nodeId);\n  }\n\n\n  testConvert(parameters) : Observable<any> {\n    return this.http.post('/leiden_itant/', parameters).pipe(\n      timeout(10000)\n    );\n  }\n\n  testConvertItAnt(parameters) : Observable<any> {\n    return this.http.post('/leiden_itant/', parameters).pipe(\n      timeout(10000)\n    );\n  }\n\n  updateFileMetadata(parameters, element_id, request_uuid): Observable<any> {\n    return this.http.post(this.baseUrl_document + \"crud/updateFileMetadata?requestUUID=\"+request_uuid+\"&element-id=\"+element_id+\"\", parameters)\n  }\n}\n","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, ElementRef, OnDestroy, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { ExpanderService } from 'src/app/services/expander/expander.service';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\n\nimport {\n  animate,\n  style,\n  transition,\n  trigger,\n  state\n} from \"@angular/animations\";\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-synsem-tab',\n  templateUrl: './synsem-tab.component.html',\n  styleUrls: ['./synsem-tab.component.scss'],\n  animations: [\n    trigger('slideInOut', [\n      state('in', style({\n        height: 'calc(100vh - 17rem)',\n        \n      })),\n      state('out', style({\n        height: 'calc(50vh - 12.5rem)',\n      })),\n      transition('in => out', animate('400ms ease-in-out')),\n      transition('out => in', animate('400ms ease-in-out'))\n    ])\n  ]\n})\nexport class SynsemTabComponent implements OnInit, OnDestroy {\n\n  lock = 0;\n  object: any;\n  exp_trig = '';\n  lexicalEntryData : any;\n  isLexicalEntry = false;\n\n  expander_epigraphy_subscription : Subscription;\n  expander_edit_subscription : Subscription;\n\n  @ViewChild('expander') expander_body: ElementRef;\n\n  constructor(private lexicalService: LexicalEntriesService, private expand: ExpanderService, private rend : Renderer2) { }\n\n  ngOnInit(): void {\n   /*  this.lexicalService.coreData$.subscribe(\n      object => {\n        if(this.object != object){\n          this.lexicalEntryData = null;\n        }\n        this.object = object\n        \n        if(this.object != null){\n          if(this.object.lexicalEntry != undefined && this.object.sense == undefined){\n            this.isLexicalEntry = true;\n            this.lexicalEntryData = object;\n          }else if(this.object.form != undefined){\n            this.isLexicalEntry = false;\n            this.lexicalEntryData = null;\n            this.object = null;\n          }else if(this.object.sense != undefined){\n            this.isLexicalEntry = false;\n            this.lexicalEntryData = null;\n            this.object = null;\n          }\n        }\n      }\n    ); */\n    \n    this.expander_edit_subscription = this.expand.expEdit$.subscribe(\n      trigger => {\n        if(trigger){\n          let isEditExpanded = this.expand.isEditTabExpanded();\n          let isEpigraphyExpanded = this.expand.isEpigraphyTabExpanded();\n\n          if(!isEpigraphyExpanded){\n            this.exp_trig = 'in';\n            this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(100vh - 17rem)')\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(100vh - 17rem)')\n          }else{\n            this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 12.5rem)');\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)');\n            this.exp_trig = 'in';\n          }\n          \n        }else if(trigger==null){\n          return;\n        }else{\n          this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 12.5rem)');\n          this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)');\n          this.exp_trig = 'out';\n        }\n      }\n    );\n\n    this.expander_epigraphy_subscription = this.expand.expEpigraphy$.subscribe(\n      trigger => {\n        setTimeout(() => {\n          if(trigger){\n            this.exp_trig = 'in';\n            this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 12.5rem)')\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)')\n          }else if(trigger==null){\n            return;\n          }else{\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)');\n            this.exp_trig = 'out';\n          }\n        }, 100);\n        \n      }\n    );\n  }\n\n  changeStatus() {\n    if (this.lock < 2) {\n      this.lock++;\n    } else if (this.lock > 1) {\n      this.lock--;\n    }\n    setTimeout(() => {\n      //@ts-ignore\n      $('.locked-tooltip').tooltip({\n        trigger: 'hover'\n      });\n    }, 10);\n  }\n\n  ngOnDestroy(): void {\n      this.expander_edit_subscription.unsubscribe();\n      this.expander_epigraphy_subscription.unsubscribe();\n  }\n\n}\n","\n\n<div id=\"cardsAccordion\" class=\"accordion\" [hidden]=\"object == null\">\n    <div class=\"card my-2\">\n        <div class=\"card-header\">\n            <h5 class=\"mb-0 w-100 d-flex justify-content-between align-self-center\">\n                <div>\n                    <span class=\"btn\">\n                        CREATED BY foo ON 11/12/2020 15:15\n                    </span>\n                </div>\n                <div>\n                    <button class=\"btn btn-link\">\n                        <i class=\"fa fa-trash\"></i>\n                    </button>\n                    <button class=\"btn btn-link\" (click)=\"changeStatus()\">\n                        <i class=\"fa fa-circle\" *ngIf=\"lock==0\" style=\"color: red\"></i>\n                        <i class=\"fa fa-circle\" *ngIf=\"lock==1\" style=\"color: yellow\"></i>\n                        <i class=\"fa fa-circle locked-tooltip\" *ngIf=\"lock==2\" data-toggle=\"tooltip\"\n                            data-placement=\"bottom\" data-html=\"true\" title=\"Locked tooltip\" style=\"color:green;\"></i>\n                    </button>\n                </div>\n            </h5>\n        </div>\n        <div #expander [@slideInOut]=\"exp_trig\" class=\"card-body\">\n            <app-lexical-entry-synsem-form [lexData]=\"lexicalEntryData\" *ngIf=\"isLexicalEntry\"></app-lexical-entry-synsem-form>\n        </div>\n        <div class=\"card-footer text-muted\">\n            <div class=\"w-100 d-flex justify-content-between align-items-center\">\n                <div>\n                    <span>LAST UPDATE ON 15/12/2020 14:30 BY foo</span>\n                </div>\n                <div class=\"btn-group dropup dropleft\">\n                    <button class=\"btn btn-success\" type=\"button\" id=\"dropdownAddLemma\" data-toggle=\"dropdown\"\n                        aria-haspopup=\"true\" aria-expanded=\"false\"> <i class=\"fas fa-plus\"></i> </button>\n                    <div class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"dropdownAddLemma\">\n                        <a class=\"dropdown-item\" href=\"#\">Add Form</a>\n                        <a class=\"dropdown-item\" href=\"#\">Add Sense</a>\n                        <a class=\"dropdown-item\" href=\"#\">Add Frame</a>\n                        <a class=\"dropdown-item\" href=\"#\">Add Lexical Concept</a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, ElementRef, OnDestroy, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { LexicalEntriesService } from '../../../../../services/lexical-entries/lexical-entries.service';\nimport { ExpanderService } from 'src/app/services/expander/expander.service';\n\nimport {\n  animate,\n  style,\n  transition,\n  trigger,\n  state\n} from \"@angular/animations\";\nimport { ToastrService } from 'ngx-toastr';\nimport { Subject, Subscription } from 'rxjs';\nimport { take, takeUntil } from 'rxjs/operators';\n\n\n@Component({\n  selector: 'app-decomposition-tab',\n  templateUrl: './decomposition-tab.component.html',\n  styleUrls: ['./decomposition-tab.component.scss'],\n  animations: [\n    trigger('slideInOut', [\n      state('in', style({\n        height: 'calc(100vh - 17rem)',\n\n      })),\n      state('out', style({\n        height: 'calc(50vh - 12.5rem)',\n      })),\n      transition('in => out', animate('400ms ease-in-out')),\n      transition('out => in', animate('400ms ease-in-out'))\n    ])\n  ]\n})\nexport class DecompositionTabComponent implements OnInit, OnDestroy {\n\n  lock = 0;\n  object: any;\n  exp_trig = '';\n\n  creationDate;\n  lastUpdate;\n\n  isLexicalEntry = false;\n  searchIconSpinner = false;\n\n  decompData: any;\n  destroy$: Subject<boolean> = new Subject();\n  core_data_subscription: Subscription;\n  decomp_data_subscription: Subscription;\n  expand_edit_subscription: Subscription;\n  expand_epigraphy_subscription: Subscription;\n\n  @ViewChild('expander') expander_body: ElementRef;\n\n  constructor(private toastr: ToastrService, private lexicalService: LexicalEntriesService, private expand: ExpanderService, private rend: Renderer2) { }\n\n  ngOnInit(): void {\n    /* this.core_data_subscription = this.lexicalService.coreData$.subscribe(\n      object => {\n        this.object = null;\n        if(this.object != object){\n          this.decompData = null;\n        }\n        this.object = object\n        \n        if(this.object != null){\n          if(this.object.lexicalEntry != undefined && this.object.sense == undefined){\n            this.isLexicalEntry = true;\n            this.decompData = object;\n\n            this.creationDate = object['creationDate'];\n            this.lastUpdate = object['lastUpdate']\n          }else if(this.object.form != undefined){\n            this.isLexicalEntry = false;\n            this.decompData = null;\n            this.object = null;\n          }else if(this.object.sense != undefined){\n            this.isLexicalEntry = false;\n            this.decompData = null;\n            this.object = null;\n          }\n        }\n      }\n    ); */\n\n    this.decomp_data_subscription = this.lexicalService.decompData$.subscribe(\n      object => {\n        this.object = null;\n        if (this.object != object) {\n          this.decompData = null;\n        }\n        this.object = object\n\n        if (this.object != null) {\n          if (this.object.lexicalEntry != undefined && this.object.sense == undefined) {\n            this.isLexicalEntry = true;\n            this.decompData = object;\n\n            this.creationDate = object['creationDate'];\n            this.lastUpdate = object['lastUpdate']\n          } else if (this.object.form != undefined) {\n            this.isLexicalEntry = false;\n            this.decompData = null;\n            this.object = null;\n          } else if (this.object.sense != undefined) {\n            this.isLexicalEntry = false;\n            this.decompData = null;\n            this.object = null;\n          }\n        }\n      }\n    );\n\n\n    this.expand_edit_subscription = this.expand.expEdit$.subscribe(\n      trigger => {\n        setTimeout(() => {\n          if (trigger) {\n            let isEditExpanded = this.expand.isEditTabExpanded();\n            let isEpigraphyExpanded = this.expand.isEpigraphyTabExpanded();\n\n            if (!isEpigraphyExpanded) {\n              this.exp_trig = 'in';\n              this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(100vh - 17rem)')\n              this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(100vh - 17rem)')\n            } else {\n              this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 12.5rem)');\n              this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)');\n              this.exp_trig = 'in';\n            }\n\n          } else if (trigger == null) {\n            return;\n          } else {\n            this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 12.5rem)');\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)');\n            this.exp_trig = 'out';\n          }\n        }, 100);\n\n      }\n    );\n\n    this.expand_epigraphy_subscription = this.expand.expEpigraphy$.subscribe(\n      trigger => {\n        setTimeout(() => {\n          if (trigger) {\n            this.exp_trig = 'in';\n            this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 12.5rem)')\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)')\n          } else if (trigger == null) {\n            return;\n          } else {\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)');\n            this.exp_trig = 'out';\n          }\n        }, 100);\n\n      }\n    );\n  }\n\n  /* changeStatus() {\n    if (this.lock < 2) {\n      this.lock++;\n    } else if (this.lock > 1) {\n      this.lock--;\n    }\n\n    if(this.lock==2){\n      setTimeout(() => {\n        //@ts-ignore\n        $('.locked-tooltip').tooltip({\n          trigger: 'hover'\n        });\n      }, 10);\n    }else if(this.lock < 2){\n      setTimeout(() => {\n        //@ts-ignore\n        $('.locked-tooltip').tooltip('disable');\n      }, 10);\n    }\n    \n  } */\n\n  addNewForm() {\n    this.searchIconSpinner = true;\n    /* console.log(this.object) */\n    this.object['request'] = 'form'\n    if (this.isLexicalEntry) {\n      let lexicalId = this.object.lexicalEntry;\n      this.lexicalService.createNewForm(lexicalId).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          this.toastr.success('Form added correctly', '', {\n            timeOut: 5000,\n          });\n          console.log(data);\n          if (data['creator'] == this.object.creator) {\n            data['flagAuthor'] = false;\n          } else {\n            data['flagAuthor'] = true;\n          }\n          this.lexicalService.addSubElementRequest({ 'lex': this.object, 'data': data });\n          this.searchIconSpinner = false;\n        }, error => {\n          console.log(error)\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n          this.searchIconSpinner = false;\n        }\n      )\n    }\n\n  }\n\n  addNewSense() {\n    this.searchIconSpinner = true;\n    this.object['request'] = 'sense'\n    if (this.isLexicalEntry) {\n      let lexicalId = this.object.lexicalEntry;\n      this.lexicalService.createNewSense(lexicalId).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          if (data['creator'] == this.object.creator) {\n            data['flagAuthor'] = false;\n          } else {\n            data['flagAuthor'] = true;\n          }\n          this.lexicalService.addSubElementRequest({ 'lex': this.object, 'data': data });\n          this.searchIconSpinner = false;\n          this.toastr.success('Sense added correctly', '', {\n            timeOut: 5000,\n          });\n        }, error => {\n          this.searchIconSpinner = false;\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n\n        }\n      )\n    }/* else if(this.isSense){\n      let parentNodeInstanceName = this.object.parentNodeInstanceName;\n      this.object['lexicalEntry'] = parentNodeInstanceName\n      this.object['request'] = 'sense'\n      //console.log(this.object);\n      this.lexicalService.createNewSense(parentNodeInstanceName).subscribe(\n        data=>{\n          if(data['creator'] == this.object.creator){\n            data['flagAuthor'] = false;\n          }else{\n            data['flagAuthor'] = true;\n          }\n          this.lexicalService.addSubElementRequest({'lex' : this.object, 'data' : data});\n          this.searchIconSpinner = false;\n          this.toastr.success('Sense added correctly', '', {\n            timeOut: 5000,\n          });\n        },error=> {\n          this.searchIconSpinner = false;\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n        }\n      )\n    }else if(this.isForm){\n      let parentNodeInstanceName = this.object.parentNodeInstanceName;\n      this.object['lexicalEntry'] = parentNodeInstanceName\n      this.object['request'] = 'sense'\n      //console.log(this.object);\n      this.lexicalService.createNewSense(parentNodeInstanceName).subscribe(\n        data=>{\n          if(data['creator'] == this.object.creator){\n            data['flagAuthor'] = false;\n          }else{\n            data['flagAuthor'] = true;\n          }\n          this.lexicalService.addSubElementRequest({'lex' : this.object, 'data' : data});\n          this.searchIconSpinner = false;\n          this.toastr.success('Sense added correctly', '', {\n            timeOut: 5000,\n          });\n          //this.lexicalService.refreshLexEntryTree();\n        },error=> {\n          this.searchIconSpinner = false;\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n          //this.lexicalService.refreshLexEntryTree();\n        }\n      )\n    } */\n\n  }\n\n  addNewEtymology() {\n    this.searchIconSpinner = true;\n    this.object['request'] = 'etymology'\n    let parentNodeInstanceName = '';\n    if (this.object.lexicalEntry != undefined\n      && this.object.senseInstanceName == undefined) {\n      console.log(1)\n      parentNodeInstanceName = this.object.lexicalEntry;\n    }/* else if(this.object.formInstanceName != undefined){\n      parentNodeInstanceName = this.object.parentNodeInstanceName;\n      this.object['lexicalEntry'] = parentNodeInstanceName\n      console.log(2)\n    }else if(this.object.senseInstanceName != undefined){\n      parentNodeInstanceName = this.object.parentNodeInstanceName;\n      this.object['lexicalEntry'] = parentNodeInstanceName\n      console.log(3)\n    } */\n\n    console.log(parentNodeInstanceName)\n    this.lexicalService.createNewEtymology(parentNodeInstanceName).pipe(takeUntil(this.destroy$)).subscribe(\n      data => {\n        console.log(data)\n        if (data['creator'] == this.object.creator) {\n          data['flagAuthor'] = false;\n        } else {\n          data['flagAuthor'] = true;\n        }\n        this.lexicalService.addSubElementRequest({ 'lex': this.object, 'data': data });\n        this.searchIconSpinner = false;\n        this.toastr.success('Etymology added correctly', '', {\n          timeOut: 5000,\n        });\n      }, error => {\n        this.searchIconSpinner = false;\n      }\n    )\n\n  }\n\n  ngOnDestroy(): void {\n    //this.core_data_subscription.unsubscribe();\n    this.expand_edit_subscription.unsubscribe();\n    this.expand_epigraphy_subscription.unsubscribe();\n\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n\n}\n","\n\n<div id=\"cardsAccordion\" class=\"accordion\" [hidden]=\"object == null\">\n    <div class=\"card my-2\">\n        <div class=\"card-header\">\n            <h5 class=\"mb-0 w-100 d-flex justify-content-between align-self-center\">\n                <div>\n                    <span class=\"btn\" *ngIf=\"object != null\">\n                        CREATED BY {{object.creator}} ON {{creationDate | date :'dd/MM/yyyy hh:mm:ss'}}\n                    </span>\n                </div>\n                <div>\n                    <div class=\"spinner-border spinner-border-sm m-1\" role=\"status\" *ngIf=\"searchIconSpinner\">\n                        <span class=\"sr-only\">Loading...</span>\n                    </div>\n                    <!-- <button class=\"btn btn-link\">\n                        <i class=\"fa fa-trash\"></i>\n                    </button> -->\n                    <!-- <button class=\"btn btn-link\" (click)=\"changeStatus()\">\n                        <i class=\"fa fa-circle\" *ngIf=\"lock==0\" style=\"color: red\"></i>\n                        <i class=\"fa fa-circle\" *ngIf=\"lock==1\" style=\"color: yellow\"></i>\n                        <i class=\"fa fa-circle locked-tooltip\" *ngIf=\"lock==2\" data-toggle=\"tooltip\"\n                            data-placement=\"bottom\" data-html=\"true\" title=\"Locked tooltip\" style=\"color:green;\"></i>\n                    </button> -->\n                </div>\n            </h5>\n        </div>\n        <div #expander [@slideInOut]=\"exp_trig\" class=\"card-body\">\n            \n            <app-lexical-entry-decomp-form [decData]=\"decompData\" *ngIf=\"isLexicalEntry\"></app-lexical-entry-decomp-form>\n            \n        </div>\n        <div class=\"card-footer text-muted\">\n            <div class=\"w-100 d-flex justify-content-between align-items-center\">\n                <div *ngIf=\"object != null\">\n                    <span>LAST UPDATE ON {{lastUpdate | date :'dd/MM/yyyy hh:mm:ss'}} BY {{object.revisor}}</span>\n                </div>\n                <div class=\"btn-group dropup dropleft\">\n                    <button class=\"btn btn-success\" type=\"button\" id=\"dropdownAddLemma\" data-toggle=\"dropdown\"\n                        aria-haspopup=\"true\" aria-expanded=\"false\"> <i class=\"fas fa-plus\"></i> </button>\n                    <div class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"dropdownAddLemma\">\n                        <button class=\"dropdown-item\" title=\"add new form\" (click)=\"addNewForm()\">Add Form</button>\n                        <button class=\"dropdown-item\" title=\"add new sense\" (click)=\"addNewSense()\">Add Sense</button>\n                        <button class=\"dropdown-item\" title=\"add new etymology\" (click)=\"addNewEtymology()\">Add Etymology</button>\n                        <!-- <button class=\"dropdown-item\" title=\"add new bibliography item\" (click)=\"showBiblioModal()\" disabled>Add Bibliography</button> -->\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-home-page',\n  templateUrl: './home-page.component.html',\n  styleUrls: ['./home-page.component.scss']\n})\nexport class HomePageComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","\n\n<div class=\"cover-container d-flex w-100 p-3 mx-auto flex-column text-center\">\n\n    <div class=\"starter-template\">\n        <h3>Institute for Computational Linguistics (ILC)</h3>\n        <p class=\"lead\">\"A. Zampolli CNR - Pisa, Italy\"<br> <a href=\"http://www.ilc.cnr.it\" target=\"_blank\">www.ilc.cnr.it</a></p>\n        <img class=\"logo\" src=\"../../../assets/images/LexOIcon.png\" width=\"100\"/>\n        <h5 class=\"title\">epilexo v1.0</h5>\n        \n    </div>\n    <footer class=\"mastfoot\">\n        <div class=\"inner\">\n          <p>Institute for Computational Linguistics \"A. Zampolli\", Pisa <br/> <a href=\"https://www.ilc.cnr.it.com/\">http://ilc.cnr.it</a></p>\n        </div>\n    </footer>\n</div>\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { KeycloakService } from 'keycloak-angular';\nimport { KeycloakProfile, KeycloakTokenParsed } from 'keycloak-js';\nimport { from, Observable } from 'rxjs';\nimport { environment } from 'src/environments/environment';\n\n@Injectable()\nexport class AuthService {\n\n  private baseUrl = environment.keycloak.issuer;\n  private realmId = environment.keycloak.realm;\n  private clientId = environment.keycloak.clientId;\n  \n\n\n  constructor(private keycloakService: KeycloakService, private http: HttpClient) {}\n\n  public getLoggedUser(): KeycloakTokenParsed | undefined {\n    try {\n      const userDetails: KeycloakTokenParsed | undefined = this.keycloakService.getKeycloakInstance()\n        .idTokenParsed;\n      return userDetails;\n    } catch (e) {\n      console.error(\"Exception\", e);\n      return undefined;\n    }\n  }\n\n  public isLoggedIn() : Promise<boolean> {\n    return this.keycloakService.isLoggedIn();\n  }\n\n  public loadUserProfile() : Promise<KeycloakProfile> {\n    return this.keycloakService.loadUserProfile();\n  }\n\n  public login() : void {\n    this.keycloakService.login();\n  }\n\n  public logout() : void {\n  \n    this.keycloakService.logout();\n  }\n\n  public redirectToProfile(): void {\n    this.keycloakService.getKeycloakInstance().accountManagement();\n  }\n\n  public getUsername(): any {\n    if(this.getLoggedUser() != undefined){\n      return this.getLoggedUser()['preferred_username'];\n    }else{\n      window.location.reload();\n      return null;\n    }\n    \n  }\n\n  public getCurrentUserRole(): string[] {\n    return this.keycloakService.getKeycloakInstance().realmAccess.roles;\n  }\n\n  public searchUser(search?): any {\n    let string = this.baseUrl + 'admin/realms/' + this.realmId + '/users';\n    if(search != undefined){\n      string += '?search='+search;\n    }\n    return this.http.get(string);\n  }\n\n  public getUserByUsername(username?): any {\n    let string = this.baseUrl + 'admin/realms/' + this.realmId + '/users';\n    if(username != undefined){\n      string += '?username='+username;\n    }\n    return this.http.get(string);\n  }\n\n\n  public getUserRoles(userId: string, clientId: string): any {\n    //let string = this.baseUrl + 'admin/realms/' + this.realmId + '/users/' + id + '/role-mappings/realm';\n    let string = this.baseUrl + 'admin/realms/' + this.realmId + '/users/'+ userId +'/role-mappings/clients/' + clientId;\n    return this.http.get(string)\n  }\n\n  public getAllClientsRoles(id: string): any {\n    let string = this.baseUrl + 'admin/realms/' + this.realmId  + '/clients/' + id + '/roles/';\n    return this.http.get(string)\n  }\n\n\n  public getClientsInfo(): any {\n    let string = this.baseUrl + 'admin/realms/' + this.realmId + '/clients/';\n    return this.http.get(string)\n  }\n\n  public getUserInfo(id): any {\n    let string = this.baseUrl + 'admin/realms/' + this.realmId + '/users/' + id;\n    return this.http.get(string);\n  }\n\n  public getUsersByRole(id, role_name){\n    \n    let string = this.baseUrl + 'admin/realms/' + this.realmId + '/clients/' + id + '/roles/' + role_name +'/users';\n    return this.http.get(string);\n  }\n\n  public createUser(parameters) {\n    let string = this.baseUrl +'admin/realms/' + this.realmId + '/users/';\n    return this.http.post(string, parameters)\n  }\n\n  public deleteUser(idUser : string) {\n    let string = this.baseUrl +'admin/realms/' + this.realmId + '/users/' + idUser;\n    return this.http.delete(string)\n  }\n\n  public updateUser(idUser : string, body) {\n    let string = this.baseUrl +'admin/realms/' + this.realmId + '/users/' + idUser;\n    return this.http.put(string, body)\n  }\n\n  public assignRolesToUser(userId, clientId, parameters) {\n    let string = this.baseUrl +'admin/realms/' + this.realmId + '/users/' + userId + '/role-mappings/clients/' + clientId ;\n    return this.http.post(string, parameters)\n  }\n\n  public deleteRolesToUser(userId, clientId, parameters) {\n    let options = { headers: new HttpHeaders().set('Content-Type', 'application/json'), body: parameters };\n    let string = this.baseUrl +'admin/realms/' + this.realmId + '/users/' + userId + '/role-mappings/clients/' + clientId ;\n    return this.http.delete(string, options)\n  }\n}","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  keycloak: {\n    // Url of the Identity Provider\n    issuer: 'https://digitant.ilc.cnr.it/auth_itant/',\n\n    // Realm\n    realm: 'princnr',\n\n    // The SPA's id. \n    // The SPA is registerd with this id at the auth-server\n    clientId: 'princlient',\n  }\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { Component, ElementRef, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { FormGroup, FormControl, FormBuilder } from '@angular/forms';\nimport { IActionMapping, TREE_ACTIONS, KEYS, ITreeState, ITreeOptions, TreeModel, TreeNode } from '@circlon/angular-tree-component';\nimport { NgbActiveModal, NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\nimport { ContextMenuComponent } from 'ngx-contextmenu';\nimport { ToastrService } from 'ngx-toastr';\nimport { Subject } from 'rxjs';\nimport { debounceTime, takeUntil, tap, timeout } from 'rxjs/operators';\nimport { BibliographyService } from 'src/app/services/bibliography-service/bibliography.service';\nimport { ConceptService } from 'src/app/services/concept/concept.service';\nimport { ExpanderService } from 'src/app/services/expander/expander.service';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\nimport { v4 } from 'uuid';\n\nconst actionMapping: IActionMapping = {\n  mouse: {\n    /* dblClick: (tree, node, $event) => {\n      if (node.hasChildren) {\n        TREE_ACTIONS.TOGGLE_EXPANDED(tree, node, $event);\n      }\n    }, */\n    click: (tree, node, $event) => {\n      $event.shiftKey\n        ? TREE_ACTIONS.TOGGLE_ACTIVE_MULTI(tree, node, $event)\n        : TREE_ACTIONS.TOGGLE_ACTIVE(tree, node, $event);\n\n      if (node.data.rename_mode) {\n        $event.preventDefault();\n      }/* else{\n        TREE_ACTIONS.TOGGLE_ACTIVE(tree, node, $event);\n      } */\n    },\n    expanderClick: (tree, node, $event) => {\n      if (node.data.rename_mode) {\n        $event.preventDefault();\n      } else {\n        //console.log(node);\n        TREE_ACTIONS.TOGGLE_EXPANDED(tree, node, $event);\n      }\n    }\n    /* contextMenu: (tree, node, $event) => {\n      //$event.preventDefault();\n      //alert(`context menu for ${node.data.name}`);\n      TREE_ACTIONS.TOGGLE_ACTIVE(tree, node, $event);\n    } */\n  },\n  keys: {\n    [KEYS.ENTER]: (tree, node, $event) => alert(`This is ${node.data.name}`)\n  }\n};\n\n\n@Component({\n  selector: 'app-skos-tree',\n  templateUrl: './skos-tree.component.html',\n  styleUrls: ['./skos-tree.component.scss']\n})\nexport class SkosTreeComponent implements OnInit, OnDestroy {\n\n  state!: ITreeState;\n  @ViewChild('skosTree') skosTree: any;\n  @ViewChild('lexicalConceptRemoverModal') lexicalConceptRemoverModal;\n  @ViewChild(ContextMenuComponent) public skosMenu: ContextMenuComponent;\n\n  selectedNodeId;\n  destroy$: Subject<boolean> = new Subject();\n\n\n\n  searchIconSpinner = false;\n  initialValues\n  skosFilterForm = new FormGroup({\n    search_text: new FormControl(null),\n    search_mode: new FormControl(null)\n  })\n\n  counter = 0;\n  skos_nodes = [];\n  show = false;\n  offset: number;\n  modalShow: boolean;\n  limit: any;\n\n  processRequestForm : FormGroup;\n\n  nodeToRemove : any;\n\n  options: ITreeOptions = {\n    getChildren: this.getChildren.bind(this),\n    actionMapping,\n    allowDrag: (node) => {\n      return node.data.conceptSet == undefined;\n    },\n    allowDrop: (element, { parent, index }) => {\n      // return true / false based on element, to.parent, to.index. e.g.\n      //console.log(element, parent, index, parent.data.type == 'folder')\n      return element.data.conceptSet == undefined;\n    },\n    getNodeClone: (node) => ({\n      ...node.data,\n      id: v4(),\n      name: `copy of ${node.data.name}`\n    })\n  };\n  \n  \n\n  constructor(private element: ElementRef,\n    private formBuilder: FormBuilder,\n    private lexicalService: LexicalEntriesService,\n    private conceptService: ConceptService,\n    private expander: ExpanderService,\n    private toastr: ToastrService,\n    private biblioService : BibliographyService,\n    private modalService: NgbModal,\n\n  ) { }\n\n  ngOnInit(): void {\n\n    this.processRequestForm = this.formBuilder.group(\n      {\n        oneOrAll : new FormControl('one'),\n      }\n    )\n    \n    this.skosFilterForm = this.formBuilder.group({\n      search_text: new FormControl(null),\n      search_mode: new FormControl('startsWith')\n    })\n    this.onChanges();\n    this.initialValues = this.skosFilterForm.value\n    this.loadTree();\n    this.conceptService.deleteSkosReq$.pipe(takeUntil(this.destroy$)).subscribe(\n      signal => {\n\n        if (signal != null) {\n          this.skosDeleteRequest(signal);\n        }\n\n      }\n    )\n\n    this.conceptService.addSubReq$.subscribe(\n      signal => {\n\n        if (signal != null) {\n          this.addSubElement(signal)\n        }\n      }\n    )\n  }\n\n\n  onChanges() {\n\n    this.skosFilterForm.valueChanges.pipe(debounceTime(500), takeUntil(this.destroy$)).subscribe(searchParams => {\n      console.log(searchParams)\n      this.searchFilter(searchParams)\n    })\n  }\n\n  onEvent = ($event: any) => {\n    console.log($event);\n\n    if ($event.eventName == 'activate' &&\n      $event.node.data.conceptSet != undefined /* &&\n      this.selectedNodeId != $event.node.data.conceptSet */) {\n\n      /* setTimeout(() => {\n        this.selectedNodeId = $event.node.data.conceptSet;\n        this.lexicalService.sendToCoreTab($event.node.data);\n        this.lexicalService.sendToRightTab($event.node.data);\n        this.lexicalService.updateCoreCard({ lastUpdate: $event.node.data['lastUpdate'], creationDate: $event.node.data['creationDate'] })\n        if (!this.expander.isEditTabOpen() && !this.expander.isEpigraphyTabOpen()) {\n          if (!this.expander.isEditTabExpanded() && !this.expander.isEpigraphyTabExpanded()) {\n\n            this.expander.expandCollapseEdit(true);\n            this.expander.openCollapseEdit(true);\n          }\n        } else if (!this.expander.isEditTabOpen() && this.expander.isEpigraphyTabOpen()) {\n          if (!this.expander.isEditTabExpanded() && this.expander.isEpigraphyTabExpanded()) {\n            this.expander.expandCollapseEpigraphy(false);\n            this.expander.openCollapseEdit(true)\n          }\n        }\n      }, 10); */\n    } else if ($event.eventName == 'activate' &&\n      $event.node.data.lexicalConcept != undefined /* &&\n      this.selectedNodeId != $event.node.data.lexicalConcept */) {\n\n      let instance = $event.node.data.lexicalConcept;\n      this.conceptService.getLexicalConceptData(instance).pipe(takeUntil(this.destroy$)).subscribe(\n        data=> {\n          this.selectedNodeId = data.lexicalConcept;\n          this.lexicalService.sendToCoreTab(data);\n          this.lexicalService.sendToRightTab(data);\n          console.log(data)\n          this.lexicalService.updateCoreCard({ lastUpdate: data['lastUpdate'], creationDate: $event.node.data['creationDate'] })\n          if (!this.expander.isEditTabOpen() && !this.expander.isEpigraphyTabOpen()) {\n            if (!this.expander.isEditTabExpanded() && !this.expander.isEpigraphyTabExpanded()) {\n\n              this.expander.expandCollapseEdit(true);\n              this.expander.openCollapseEdit(true);\n            }\n          } else if (!this.expander.isEditTabOpen() && this.expander.isEpigraphyTabOpen()) {\n            if (!this.expander.isEditTabExpanded() && this.expander.isEpigraphyTabExpanded()) {\n              this.expander.expandCollapseEpigraphy(false);\n              this.expander.openCollapseEdit(true)\n            }\n          }\n\n          if (data.note != undefined) {\n            if (data.note != \"\") {\n              this.lexicalService.triggerNotePanel(true);\n            } else {\n              this.lexicalService.triggerNotePanel(false);\n            }\n          }\n        },\n        \n        error=>{\n          console.log(error)\n        }\n      );\n    }\n  }\n\n  isConceptSet = (item: any): boolean => {\n    return item.conceptSet != undefined && item.conceptSet != '';\n  }\n\n  isLexicalConcept = (item: any): boolean => {\n    return item.lexicalConcept != undefined && item.lexicalConcept != '';\n  }\n\n  onMoveNode($event) {\n    console.log($event);\n    \n    if ($event != undefined) {\n      //console.log(evt);\n      \n\n      let node_source = $event.node.lexicalConcept;\n      let node_target = $event.to.parent.lexicalConcept;\n\n      let parameters = {\n        relation : \"http://www.w3.org/2004/02/skos/core#narrower\",\n        source : node_source,\n        target : node_target\n      }\n\n      if(node_target != undefined){\n        this.conceptService.updateSemanticRelation(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n          next=>{\n            console.log(next);\n          },error=>{\n            console.log(error);\n            if(error.status == 200){\n              this.toastr.success('Lexical concept moved', '', {timeOut : 5000})\n            }else{\n              this.toastr.error(error.error, '', {timeOut : 5000})\n            }\n          },()=>{\n            console.log('complete')\n          }\n        )\n      }else{\n        let from_node = $event.from.parent.lexicalConcept;\n\n        let parameters = {\n          relation : \"http://www.w3.org/2004/02/skos/core#narrower\",\n          value : from_node,\n\n        }\n\n        if(from_node != undefined){\n          this.conceptService.deleteRelation(node_source, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n            data=>{\n              console.log(data);\n              this.toastr.success('Lexical Concept moved', '', {timeOut : 5000})\n            },\n            error=>{\n              console.log(error);\n              if(error.status == 200){\n                this.toastr.success('Lexical Concept moved', '', {timeOut : 5000})\n              }else{\n                this.toastr.error('Error on moving Lexical Concept')\n              }\n            }\n          )\n        }\n        \n      }\n\n      \n    }\n\n  }\n\n  async loadTree() {\n    let conceptSets = []\n    let rootConceptSets = [];\n    let tmp = [];\n\n    /* try {\n      conceptSets = await this.conceptService.getConceptSets().toPromise().then(\n        response => response.list\n      );\n\n    } catch (error) {\n      console.log(error)\n    } */\n\n\n    try {\n      rootConceptSets = await this.conceptService.getRootLexicalConcepts().toPromise().then(\n        response => response.list\n      );\n\n    } catch (error) {\n      console.log(error)\n    }\n\n\n    /* if (conceptSets.length > 0) {\n      conceptSets.map(\n        element => element['hasChildren'] = true\n      )\n      this.skos_nodes = conceptSets;\n    } */\n\n    if (rootConceptSets.length > 0 && conceptSets.length == 0) {\n      rootConceptSets.map(\n        element => {\n          element['hasChildren'] = true,\n          element['children'] = undefined;\n        },\n      )\n\n      this.skos_nodes = rootConceptSets;\n    }\n\n    \n\n    this.counter = this.skos_nodes.length;\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n\n  onScrollDown(treeModel: TreeModel) {\n\n\n    this.offset += 500;\n    this.modalShow = true;\n\n    //@ts-ignore\n    $(\"#lazyLoadingModal\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.tree-view');\n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n\n    let parameters = this.skosFilterForm.value;\n    parameters['offset'] = this.offset;\n    parameters['limit'] = this.limit;\n\n    /* this.lexicalService.getLexicalEntriesList(parameters).pipe(debounceTime(200), takeUntil(this.destroy$)).subscribe(\n      data => {\n        //@ts-ignore\n        $('#lazyLoadingModal').modal('hide');\n        $('.modal-backdrop').remove();\n        for (var i = 0; i < data['list'].length; i++) {\n          this.skos_nodes.push(data['list'][i]);\n        };\n        //this.counter = this.skos_nodes.length;\n        this.skosTree.treeModel.update();\n        this.updateTreeView();\n        this.modalShow = false;\n\n        setTimeout(() => {\n          //@ts-ignore\n          $('#lazyLoadingModal').modal('hide');\n          $('.modal-backdrop').remove();\n        }, 300);\n      },\n      error => {\n\n      }\n    ) */\n  }\n\n  updateTreeView() {\n\n\n    setTimeout(() => {\n      this.counter = this.skos_nodes.length;\n      this.skosTree.sizeChanged();\n\n    }, 1000);\n  }\n\n  resetFields() {\n    this.skosFilterForm.reset(this.initialValues, { emitEvent: false });\n    setTimeout(() => {\n      this.loadTree();\n      this.skosTree.treeModel.update();\n      this.updateTreeView();\n\n    }, 500);\n  }\n\n\n  searchFilter(newPar) {\n    \n    this.skos_nodes = [];\n\n    setTimeout(() => {\n      const viewPort_prova = this.element.nativeElement.querySelector('tree-viewport') as HTMLElement;\n      viewPort_prova.scrollTop = 0\n    }, 300);\n\n    let search_text = newPar.search_text != null ? newPar.search_text : '';\n    this.searchIconSpinner = true;\n    let parameters = {\n      text: search_text,\n      searchMode: newPar.search_mode,\n      labelType: \"prefLabel\",\n      author: \"\",\n      offset: 0,\n      limit: 500\n    }\n\n    this.conceptService.conceptFilter(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n      data => {\n        console.log(data)\n\n        if (data.list.length > 0) {\n          let filter_lang = [];\n          filter_lang = data.list.filter(\n            element => element.language != 'null'\n          )\n\n          filter_lang.forEach(\n            el=> {\n              el['hasChildren'] = true;\n              el['children'] = [];\n            }\n          )\n\n          console.log(filter_lang)\n          this.skos_nodes = filter_lang;\n\n          \n          \n        } else{\n          this.skos_nodes = [];\n        }\n\n      }, error => {\n        console.log(error)\n        \n      }\n    )\n\n    \n    this.searchIconSpinner = false;\n\n\n  }\n\n  async getChildren(node: any) {\n    let newNodes: any;\n    if (node.data.conceptSet != undefined || node.data.lexicalConcept != undefined) {\n\n      try {\n        let instance = node.data.conceptSet != undefined ? node.data.conceptSet : node.data.lexicalConcept;\n\n        let data = await this.conceptService.getLexicalConcepts(instance).toPromise();\n        console.log(data)\n\n        newNodes = data['list'].map((c) => Object.assign({}, c));\n\n        if (Object.keys(newNodes).length > 0) {\n\n          for (const element of newNodes) {\n\n            element['children'] = undefined;\n            element['hasChildren'] = true;\n            \n\n          }\n          return newNodes;\n        } else {\n          this.toastr.info('No childs for this node', 'Info', { timeOut: 5000 });\n          \n          return newNodes;\n        }\n\n      } catch (error) {\n        console.log(error)\n        if (error.status != 200) {\n          this.toastr.error(\"Something went wrong, please check the log\", \"Error\", { timeOut: 5000 })\n        }\n      }\n\n\n\n    }\n\n  }\n\n \n\n  processRequest(){\n    \n    let request = this.processRequestForm.get('oneOrAll').value;\n    if(request == 'one'){\n      this.deleteLexicalConcept(this.nodeToRemove, true);\n    }else{\n      this.deleteLexicalConceptRecursive(this.nodeToRemove)\n      return;\n      \n    }\n  }\n  \n  deleteLexicalConceptRecursive(item){\n    \n    let lexicalConceptID = item.lexicalConcept;\n    this.searchIconSpinner = true;\n\n    this.conceptService.deleteLexicalConcept(lexicalConceptID, true).pipe(takeUntil(this.destroy$)).subscribe(\n      data=> {\n        console.log(data)\n      },error=>{\n        console.log(error);\n        if(error.status != 200){\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n        }else{\n          this.toastr.success(lexicalConceptID + ' and all his children deleted correctly', '', {\n            timeOut: 5000,\n          });\n          this.searchIconSpinner = false;\n          this.conceptService.deleteRequest(item);\n          this.lexicalService.sendToCoreTab(null);\n          this.lexicalService.sendToRightTab(null);\n          this.biblioService.sendDataToBibliographyPanel(null);\n\n          this.expander.expandCollapseEdit(false);\n          this.expander.openCollapseEdit(false)\n          if (this.expander.isEpigraphyOpen) {\n            this.expander.expandCollapseEpigraphy();\n          }\n          this.nodeToRemove = null;\n        }\n      }\n    )\n  }\n\n  deleteLexicalConcept(item, force?){\n    \n    let lexicalConceptID = item.lexicalConcept;\n    this.searchIconSpinner = true;\n\n    if(item.children != undefined && item.children.length > 0 && (force == undefined)){\n      this.nodeToRemove = item;\n      setTimeout(() => {\n        this.modalService.open(this.lexicalConceptRemoverModal, {centered: true})\n\n      }, 1000);\n      \n    }else if(item.children == undefined && (force == undefined)){\n      this.conceptService.getLexicalConcepts(lexicalConceptID).pipe(takeUntil(this.destroy$)).subscribe(\n        data=>{\n          console.log(data);\n          \n          if(data!= undefined){\n            if(data.list.length > 0){\n              this.nodeToRemove = item;\n              setTimeout(() => {\n                this.modalService.open(this.lexicalConceptRemoverModal, {centered: true})\n\n              }, 100);\n            }else{\n              this.conceptService.deleteLexicalConcept(lexicalConceptID).pipe(takeUntil(this.destroy$)).subscribe(\n                data=> {\n                  console.log(data)\n                },error=>{\n                  console.log(error);\n                  if(error.status != 200){\n                    this.toastr.error(error.error, 'Error', {\n                      timeOut: 5000,\n                    });\n                  }else{\n                    this.toastr.success(lexicalConceptID + 'deleted correctly', '', {\n                      timeOut: 5000,\n                    });\n                    this.searchIconSpinner = false;\n                    this.conceptService.deleteRequest(item);\n                    this.lexicalService.sendToCoreTab(null);\n                    this.lexicalService.sendToRightTab(null);\n                    this.biblioService.sendDataToBibliographyPanel(null);\n          \n                    this.expander.expandCollapseEdit(false);\n                    this.expander.openCollapseEdit(false)\n                    if (this.expander.isEpigraphyOpen) {\n                      this.expander.expandCollapseEpigraphy();\n                    }\n                  }\n                }\n              )\n            }\n          }\n          \n        },error=>{\n          console.log(error);\n          if(error.status == 200){\n            setTimeout(() => {\n              this.modalService.open(this.lexicalConceptRemoverModal, {centered: true})\n\n            }, 100);\n          }else{\n            this.toastr.error(error.error, 'Error', {timeOut : 5000})\n          }\n        }\n      )\n    }else{\n      this.conceptService.deleteLexicalConcept(lexicalConceptID).pipe(takeUntil(this.destroy$)).subscribe(\n        data=> {\n          console.log(data)\n        },error=>{\n          console.log(error);\n          if(error.status != 200){\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n          }else{\n            this.toastr.success(lexicalConceptID + 'deleted correctly', '', {\n              timeOut: 5000,\n            });\n            this.searchIconSpinner = false;\n            this.conceptService.deleteRequest(item);\n            this.lexicalService.sendToCoreTab(null);\n            this.lexicalService.sendToRightTab(null);\n            this.biblioService.sendDataToBibliographyPanel(null);\n  \n            this.expander.expandCollapseEdit(false);\n            this.expander.openCollapseEdit(false)\n            if (this.expander.isEpigraphyOpen) {\n              this.expander.expandCollapseEpigraphy();\n            }\n          }\n        }\n      )\n    }\n    \n  }\n\n  skosDeleteRequest(signal?) {\n\n\n\n    this.skosTree.treeModel.getNodeBy(x => {\n      if (signal.conceptSet != undefined && signal.lexicalConcept == undefined) {\n        if (x.data.conceptSet === signal.conceptSet) {\n\n          x.parent.data.children.splice(x.parent.data.children.indexOf(x.data), 1);\n\n          this.skosTree.treeModel.update()\n\n          setTimeout(() => {\n            this.counter = this.skosTree.treeModel.nodes.length;\n          }, 1000);\n\n          return true;\n        } else {\n          return false;\n        }\n      } else if (signal.lexicalConcept != undefined) {\n        if (x.data.lexicalConcept === signal.lexicalConcept) {\n\n          x.parent.data.children.splice(x.parent.data.children.indexOf(x.data), 1);\n\n          this.skosTree.treeModel.update()\n          setTimeout(() => {\n            this.counter = this.skosTree.treeModel.nodes.length;\n          }, 1000);\n\n          return true;\n        } else {\n          return false;\n        }\n\n      } else {\n        return false;\n      }\n    })\n\n\n  }\n\n  addSubElement(signal?) {\n\n    setTimeout(() => {\n      let instanceName;\n      let lex = signal.lex;\n      let data = signal.data;\n      console.log(lex)\n      console.log(data)\n      \n      this.skosTree.treeModel.getNodeBy(x => {\n        if (lex.lexicalConcept != undefined) {\n          if (x.data.lexicalConcept === lex.lexicalConcept) {\n            if (x.data.children == undefined) {\n              x.data.children = [];\n              x.data.children.push(data);\n              x.expand();\n              \n              this.skosTree.treeModel.update();\n              this.skosTree.treeModel.getNodeBy(y => {\n                if (y.data.lexicalConcept != undefined && y.data.lexicalConcept === data.lexicalConcept) {\n                  y.setActiveAndVisible();\n                }\n              })\n              \n              return true;\n            } else {\n              x.data.children.push(data);\n              x.expand();\n              this.skosTree.treeModel.update();\n              this.skosTree.treeModel.getNodeBy(y => {\n                if (y.data.lexicalConcept != undefined && y.data.lexicalConcept === data.lexicalConcept) {\n                  y.setActiveAndVisible();\n                }\n              })\n              return true;\n            }\n          } else {\n            return false;\n          }\n        } else {\n          return false;\n        }\n      })\n    }, 300);\n  }\n\n  addLexicalConcept(parentNode: any, type : string) {\n\n    if(parentNode){\n      let relation = \"http://www.w3.org/2004/02/skos/core#narrower\";\n      \n      this.conceptService.createNewLexicalConcept().pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data);\n          if (data != undefined) {\n            /* this.toastr.info('New Concept Set added', '', {\n              timeOut: 5000,\n            }); */\n            \n            let parameters = {\n              relation : relation,\n              source : data['lexicalConcept'],\n              target : parentNode['lexicalConcept']\n            }\n\n            data['hasChildren'] = true;  \n            \n            if(type == 'conceptSet'){\n              this.conceptService.updateSchemeProperty(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n                data=> {\n                  console.log(data);\n                },error=>{\n                  console.log(error);\n                  if(error.status == 200){\n                    if(parentNode.children == undefined) parentNode.children = [];\n                    parentNode.children.push(data);\n                    this.toastr.success('Added Lexical Concept', '', {timeOut : 5000});\n                    this.skosTree.treeModel.update()\n                    this.skosTree.treeModel.getNodeBy(y => {\n                      if (y.data.lexicalConcept != undefined) {    \n                        if (y.data.lexicalConcept === data.lexicalConcept) {\n                          y.setActiveAndVisible();\n                          return true;\n                        } else {\n                          return false;\n                        }\n                      } else {\n                        return false;\n                      }\n                    })\n                    setTimeout(() => {\n                      this.counter = this.skosTree.treeModel.nodes.length;\n                    }, 1000);\n                  }\n                }\n              );\n            }else{\n              this.conceptService.updateSemanticRelation(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n                data=> {\n                  console.log(data);\n                },error=>{\n                  console.log(error);\n                  if(error.status == 200){\n                    if(parentNode.children == undefined) parentNode.children = [];\n                    parentNode.children.push(data);\n                    this.toastr.success('Added Lexical Concept', '', {timeOut : 5000});\n                    this.skosTree.treeModel.update()\n                    this.skosTree.treeModel.getNodeBy(y => {\n                      if (y.data.lexicalConcept != undefined) {    \n                        if (y.data.lexicalConcept === data.lexicalConcept) {\n                          y.setActiveAndVisible();\n                          return true;\n                        } else {\n                          return false;\n                        }\n                      } else {\n                        return false;\n                      }\n                    })\n                    setTimeout(() => {\n                      this.counter = this.skosTree.treeModel.nodes.length;\n                    }, 1000);\n                  }\n                }\n              );\n            }\n            \n            \n\n            /* this.skos_nodes.push(data);\n            this.updateTreeView();\n            this.skosTree.treeModel.update();\n            this.skosTree.treeModel.getNodeById(data.id).setActiveAndVisible(); */\n          }\n  \n        }, error => {\n          console.log(error)\n          this.toastr.error('Error when creating new Concept Set', '', {\n            timeOut: 5000,\n          });\n        }\n      )\n\n      /* let parameters = {\n        relation : relation,\n        source : //nuovo lexical concept,\n        target : //conceptSet target\n      }\n      this.conceptService.updateSchemeProperty() */\n    }\n    \n  }\n\n  addNewConceptSet() {\n    this.conceptService.createNewConceptSet().pipe(takeUntil(this.destroy$)).subscribe(\n      data => {\n        console.log(data);\n        if (data != undefined) {\n          this.toastr.info('New Concept Set added', '', {\n            timeOut: 5000,\n          });\n          data['hasChildren'] = true;\n          this.skos_nodes.push(data);\n          this.updateTreeView();\n          this.skosTree.treeModel.update();\n          this.skosTree.treeModel.getNodeById(data.id).setActiveAndVisible();\n        }\n\n      }, error => {\n        console.log(error)\n        this.toastr.error('Error when creating new Concept Set', '', {\n          timeOut: 5000,\n        });\n      }\n    )\n  }\n\n}\n","<form [formGroup]=\"skosFilterForm\">\n  <div class=\"input-group col-md-12 mt-2 px-1\">\n    <input formControlName=\"search_text\" id=\"filterConcept\" name=\"search_text\" type=\"text\" class=\"form-control\"\n      placeholder=\"Search\" />\n    <div class=\"input-group-append\">\n      <span class=\"input-group-text loading_icon_append border-left-0\" id=\"basic-addon2\">\n        <div class=\"spinner-border spinner-border-sm m-1\" role=\"status\" *ngIf=\"searchIconSpinner\">\n          <span class=\"sr-only\">Loading...</span>\n        </div>\n      </span>\n    </div>\n    <div id=\"buttons-container\" class=\"input-group-append\">\n\n      <!-- <button class=\"btn btn-sm btn-secondary btn-block filter-button\" type=\"button\" value=\"Filter\" title=\"Filter\"\n        data-toggle=\"collapse\" data-target=\"#conceptFilterCollapse\" aria-expanded=\"false\"\n        aria-controls=\"conceptFilterCollapse\"><i class=\"fa fa-filter\"></i></button> -->\n      <button class=\"btn btn-sm btn-danger btn-block reset-button\" type=\"button\" value=\"Reset\" title=\"Reset\"\n        (click)=\"resetFields();\" style=\"border-top-right-radius: .25rem; border-bottom-right-radius: .25rem;\"><i\n          class=\"fa fa-times\"></i></button>\n      <button class=\"btn btn-sm btn-block counter-button\" type=\"button\"><span\n          class=\"font-weight-bold font-italic text-muted\">{{counter}}</span></button>\n    </div>\n  </div>\n\n  <div class=\"d-flex flex-wrap mt-3\">\n\n    <div class=\"col-md-6 col-sm-6\">\n      <div class=\"form-check\">\n        <input formControlName=\"search_mode\" class=\"form-check-input\" type=\"radio\" name=\"search_mode\" id=\"startsRadio\"\n          value=\"startsWith\">\n        <label class=\"form-check-label\" for=\"startsRadio\">\n          Starts\n        </label>\n      </div>\n    </div>\n    <div class=\"col-md-6 col-sm-6\">\n      <div class=\"form-check\">\n        <input formControlName=\"search_mode\" class=\"form-check-input\" type=\"radio\" name=\"search_mode\" id=\"containsRadio\"\n          value=\"contains\">\n        <label class=\"form-check-label\" for=\"containsRadio\">\n          Contains\n        </label>\n      </div>\n    </div>\n\n  </div>\n\n</form>\n\n<!-- <div class=\"d-flex flex-wrap mt-3 col-md-12\">\n    <div class=\"input-group justify-content-end\">\n      <div class=\"input-group-append\">\n        <button class=\"btn btn-light btn-block filter-button\" title=\"Add new child for selected node\"><i\n            class=\"fas fa-plus 2x\"></i></button>\n        <button class=\"btn btn-light btn-block reset-button\" type=\"button\" value=\"Reset\"\n          title=\"Add new sibling for selected node\"\n          style=\"border-top-right-radius: .25rem; border-bottom-right-radius: .25rem;\"><i\n            class=\"fas fa-user-plus 2x\"></i></button>\n        <button class=\"btn btn-light btn-block reset-button\" type=\"button\" value=\"Reset\" title=\"Delete selected node\"\n          style=\"border-top-right-radius: .25rem; border-bottom-right-radius: .25rem;\"><i\n            class=\"fas fa-times-circle 2x\"></i></button>\n  \n      </div>\n    </div>\n  </div> -->\n\n\n<div id=\"skos-tree\" class=\"col-md-12 mt-3 rounded border border-secondary tree-view\" infiniteScroll\n  [infiniteScrollDistance]=\"0.4\" [infiniteScrollThrottle]=\"150\" [fromRoot]=\"true\"\n  (scrolled)=\"onScrollDown(skosTree.treeModel)\">\n  <!-- [infiniteScrollContainer]=\"'.search-results'\" -->\n  <p *ngIf=\"show\">Nessun risultato</p>\n\n  <tree-root #skosTree [nodes]=\"skos_nodes\" [options]=\"options\" [focused]=\"true\" (activate)=\"onEvent($event)\"\n    (moveNode)=\"onMoveNode($event)\">\n    <ng-template #treeNodeTemplate let-node let-index=\"index\">\n\n      <div [contextMenu]=\"skosMenu\" [contextMenuSubject]=\"node.data\">\n        <span  *ngIf=\"node.data.conceptSet != undefined\">\n          <i class=\"fas fa-cubes fa-lg\"></i> <b class=\"ml-2\">{{ node.data.defaultLabel.split('#')[1] == undefined ? node.data.defaultLabel : node.data.defaultLabel.split('#')[1] }} </b>\n        </span>\n  \n        <span  *ngIf=\"node.data.lexicalConcept != undefined\">\n          <i class=\"fas fa-cube fa-lg\"></i> <span class=\"font-italic ml-2\">{{ node.data.defaultLabel.split('#')[1] == undefined ? node.data.defaultLabel : node.data.defaultLabel.split('#')[1] }} </span>\n        </span>\n      </div>\n     \n\n    </ng-template>\n    <ng-template #loadingTemplate let-loadingNode>\n      <div *ngIf=\"loadingNode.hasChildren\">\n        <div class=\"spinner-border spinner-border-sm m-1\" role=\"status\">\n          <span class=\"sr-only\">Loading...</span>\n        </div>\n      </div>\n    </ng-template>\n  </tree-root>\n\n  <context-menu>\n\n    <!-- FOLDER CONTEXT MENU -->\n    \n\n    <ng-template contextMenuItem let-item [visible]=\"isLexicalConcept\" (execute)=\"addLexicalConcept($event.item, 'lexicalConcept')\">\n      Add Lexical Concept (child)\n    </ng-template>\n\n\n    <ng-template contextMenuItem let-item [visible]=\"isLexicalConcept\" (execute)=\"deleteLexicalConcept($event.item)\">\n      Delete Lexical Concept\n\n     \n    </ng-template>\n    \n  </context-menu>\n</div>\n\n\n<ng-template #lexicalConceptRemoverModal let-modal *ngIf=\"nodeToRemove != null\">\n  <div class=\"modal-header\">\n    <h4 class=\"modal-title\" id=\"modal-basic-title\">Profile update</h4>\n    <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"modal.close('')\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    You want to delete only {{nodeToRemove.defaultLabel}} or ALL their children?\n\n    <form [formGroup]=\"processRequestForm\">\n      <div class=\"form-check\">\n        <input class=\"form-check-input\" type=\"radio\" formControlName=\"oneOrAll\" id=\"onlyOne\" value=\"one\" checked>\n        <label class=\"form-check-label\" for=\"onlyOne\">\n          Delete only {{nodeToRemove.defaultLabel}}\n        </label>\n      </div>\n      <div class=\"form-check\">\n        <input class=\"form-check-input\" type=\"radio\" formControlName=\"oneOrAll\" id=\"allChildren\" value=\"all\">\n        <label class=\"form-check-label\" for=\"allChildren\">\n          Delete {{nodeToRemove.defaultLabel}} and all their children\n        </label>\n      </div>\n    </form>\n    \n  </div>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"modal.close('')\">Cancel</button>\n    <button type=\"button\" class=\"btn btn-danger\" (click)=\"processRequest(); modal.close()\">Yes</button>\n  </div>\n</ng-template>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { HttpClient } from '@angular/common/http';\nimport { Component, OnInit, AfterViewInit, ViewChild, OnChanges, SimpleChanges, ElementRef, Input, OnDestroy } from '@angular/core';\nimport { AbstractControl, FormArray, FormBuilder, FormControl, FormGroup, ValidationErrors, ValidatorFn, Validators } from '@angular/forms';\nimport { NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\nimport { KeycloakService } from 'keycloak-angular';\nimport { Subject } from 'rxjs';\nimport { debounceTime, takeUntil } from 'rxjs/operators';\nimport { AuthService } from 'src/app/services/auth/auth.service';\nimport { ConfirmedValidator } from './validator/password-match';\n\n@Component({\n  selector: 'app-profiles-table',\n  templateUrl: './profiles-table.component.html',\n  styleUrls: ['./profiles-table.component.scss']\n})\nexport class ProfilesTableComponent implements OnInit, OnChanges, OnDestroy {\n\n  message = '';\n  users = [];\n  private idClient;\n  private selected_idUser;\n  private modalRef: NgbModalRef;\n  private temporaryId: string;\n  public isPopulated = false;\n  public creationRequest = false;\n  public itsMe = null;\n\n  private initialValue: any;\n\n\n  selectedRoles = [];\n  filterSelectedRoles = [];\n  roles: any[] = [];\n  //rolesNames = ['ADMIN', 'USER', 'REVIEWER'];\n\n  @ViewChild('user_list') user_list: ElementRef;\n  @ViewChild('button_create') button_create: ElementRef;\n  @Input() isNotTheSameId: boolean;\n\n\n  userDetailForm = new FormGroup({\n    id: new FormControl(null),\n    username: new FormControl(null, Validators.required),\n    email: new FormControl(null, Validators.required),\n    password: new FormControl(null),\n    repeat_password: new FormControl(null),\n    roles: new FormArray([]),\n    enabled: new FormControl(null, Validators.required)\n  })\n  destroy$: Subject<boolean> = new Subject();\n  private search_subject: Subject<any> = new Subject();\n  roles_array: FormArray;\n\n  constructor(private httpClient: HttpClient, private auth: AuthService, private formBuilder: FormBuilder, private modalService: NgbModal, private keycloakService: KeycloakService) { }\n\n\n  ngOnInit(): void {\n\n    //this.keycloakService.isTokenExpired();\n    //this.keycloakService.updateToken(15);\n    this.userDetailForm = this.formBuilder.group({\n      id: new FormControl(null),\n      username: new FormControl(null, [Validators.required, Validators.minLength(3)]),\n      email: new FormControl(null, [Validators.required, Validators.minLength(3), Validators.pattern('^[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$')]),\n      password: new FormControl(null, [Validators.required, Validators.minLength(8)]),\n      repeat_password: new FormControl(null, [Validators.required]),\n      roles: [],\n      enabled: new FormControl(false, [Validators.required]),\n    }, { validator: ConfirmedValidator('password', 'repeat_password') });\n\n    this.auth.getClientsInfo().subscribe(\n      data => {\n        if (data != undefined && Array.isArray(data)) {\n          /* this.idClient = data[0].id; */\n          data.forEach(element => {\n            if (element.clientId == 'princlient') {\n              this.idClient = element.id;\n            }\n          })\n        }\n      },\n      error => { console.log(error) }\n    )\n\n\n    var checkIdTimer = setInterval((val) => {\n      try {\n        if (this.idClient != undefined) {\n\n          this.auth.getAllClientsRoles(this.idClient).subscribe(\n            data => {\n              let array = [];\n              data.forEach((element, i) => {\n                if (element.name.toUpperCase() == element.name) {\n                  array.push({ name: element.name, id: element.id });\n                };\n              });\n              console.log(array)\n              array.forEach((c, i) => {\n                this.roles.push({ id: i, name: c.name, role_id: c.id });\n              });\n\n\n              this.getUsersByRole(array);\n\n              // this.selectedRoles = ['ADMIN', 'USER']\n            },\n            error => { console.log(error) }\n          )\n\n          clearInterval(checkIdTimer)\n        } else {\n          clearInterval(checkIdTimer)\n        }\n\n      } catch (e) {\n        console.log(e)\n      }\n    }, 500)\n\n\n\n\n\n    /* this.rolesNames.forEach((c, i) => {\n      this.roles.push({ id: i, name: c });\n    }); */\n\n\n    this.auth.searchUser().subscribe(\n      data => {\n        //this.users = data;\n        if (data != undefined) {\n          Array.from(data).forEach((usr: any) => {\n            if (usr.username != undefined) {\n              if (usr.username != 'prinadmin') {\n                this.users.push(usr);\n              }\n            }\n          })\n        }\n      }, error => {\n        console.log(error)\n      }\n    )\n\n\n    this.search_subject.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      data => {\n        this.searchUsers(data);\n      }\n    )\n\n\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    console.log(changes)\n  }\n\n  public getUsersByRole(roles_array) {\n\n    roles_array.forEach(element => {\n\n\n      this.auth.getUsersByRole(this.idClient, element.name).subscribe(\n        (data: any[]) => {\n          //console.log(element, data);\n\n          data.forEach(usr => {\n            this.users.filter(obj => {\n              if (obj.id == usr.id) {\n                obj[element.name] = true;\n                obj['haveRoles'] = true;\n              }\n            })\n          })\n\n        }, error => {\n          console.log(error)\n        }\n      )\n    });\n\n  }\n\n  searchUsers(data?) {\n    // console.log(data)\n    this.auth.searchUser(data).subscribe(\n      data => {\n        console.log(data);\n        this.users = data;\n\n        let array = [];\n\n        this.roles.forEach(\n          element => { array.push(element) }\n        )\n        this.getUsersByRole(array)\n      }, error => {\n        console.log(error)\n      }\n    )\n  }\n\n  triggerSearch(event?) {\n    if (event != undefined) {\n      let value = event.target.value;\n      this.search_subject.next(value);\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n\n  userDetail(id) {\n    if (id != undefined) {\n      this.selected_idUser = id;\n\n      this.button_create.nativeElement.classList.remove('active');\n\n      this.auth.getUserInfo(id).subscribe(\n        responseUserInfo => {\n          //console.log(responseUserInfo);\n\n          this.auth.getUserRoles(this.selected_idUser, this.idClient).subscribe(\n            responseUserRoles => {\n              //console.log(responseUserRoles)\n\n              if (responseUserRoles != undefined && Array.isArray(responseUserRoles)) {\n                let filter = responseUserRoles.filter(element => element.name.toUpperCase() === element.name);\n\n                const extractRoleName = (obj) => {\n                  return obj.name;\n                }\n\n                let id = responseUserInfo.id;\n                let username = responseUserInfo.username;\n                let roles = filter.map(extractRoleName);\n                let enabled = responseUserInfo.enabled;\n                let email = responseUserInfo.email;\n                console.log(\"RUOLI\", roles);\n                this.populateForm(id, username, email, roles, enabled)\n              }\n            }, errorUserRoles => {\n              console.log(errorUserRoles)\n            }\n          )\n        }, error => {\n          console.log(error)\n        }\n      )\n    }\n  }\n\n  populateForm(id, username, email, roles, enabled) {\n\n\n    this.userDetailForm = this.formBuilder.group({\n      id: new FormControl(id),\n      username: new FormControl(username, [Validators.required, Validators.minLength(3)]),\n      email: new FormControl(email, [Validators.required, Validators.minLength(3), Validators.pattern('^[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$')]),\n      password: new FormControl(null),\n      repeat_password: new FormControl(null),\n      roles: [],\n      enabled: new FormControl(enabled, [Validators.required]),\n    }, { validator: ConfirmedValidator('password', 'repeat_password') });\n\n\n\n\n\n    this.selectedRoles = roles;\n    this.creationRequest = false;\n    this.isPopulated = true;\n\n    setTimeout(() => {\n      this.initialValue = this.userDetailForm.value;\n    }, 500);\n\n\n    this.itsMe = this.auth.getLoggedUser().sub == this.selected_idUser;\n\n\n  }\n\n  markAsTouched() {\n    this.userDetailForm.markAsTouched();\n  }\n\n  updateUser() {\n    if (this.userDetailForm.valid && !(JSON.stringify(this.initialValue) == JSON.stringify(this.userDetailForm.value))) {\n      let parameters = {\n        enabled: this.userDetailForm.get('enabled').value,\n        email: this.userDetailForm.get('email').value,\n        username: this.userDetailForm.get('username').value,\n      }\n      console.log(parameters);\n\n      this.auth.updateUser(this.selected_idUser, parameters).subscribe(\n        data => {\n          console.log(data);\n\n          if (JSON.stringify(this.initialValue.roles) != JSON.stringify(this.userDetailForm.get('roles').value)) {\n\n            /* if(this.selectedRoles.length == 0){\n              let object = [];\n              let obj = {};\n              this.roles.forEach(roles=>{\n                obj = {\n                  id : roles.role_id,\n                  name: roles.name\n                }\n                object.push(obj);\n\n                console.log(object)\n                this.auth.deleteRolesToUser(this.selected_idUser, this.idClient, object).subscribe(\n                  data=>{\n                    console.log(data);\n                    this.users.forEach(element => {\n                      if(element.id == this.selected_idUser){\n                        element[obj['name']] = false;\n                        element['haveRoles'] = false;\n                      }\n                    });\n\n                    this.userDetail(this.selected_idUser);\n                  },\n                  error=>{console.log(error)}\n                );\n\n                object = [];\n              })\n\n\n              \n            }else{\n\n              \n\n            } */\n\n\n            let initialRoles = this.initialValue.roles;\n            let updatedRoles = this.userDetailForm.get('roles').value;\n\n            let difference = updatedRoles.filter(x => !initialRoles.includes(x));\n            let removeDiff = initialRoles.filter(x => !updatedRoles.includes(x));\n\n            console.log(difference, removeDiff);\n\n            if (difference.length != 0) {\n              difference.forEach(element => {\n\n                let object = [];\n                let obj = {};\n                this.roles.forEach(roles => {\n                  if (element == roles.name) {\n                    obj = {\n                      id: roles.role_id,\n                      name: roles.name\n                    }\n\n                    object.push(obj);\n                    console.log(object)\n                    this.auth.assignRolesToUser(this.selected_idUser, this.idClient, object).subscribe(\n                      data => {\n                        console.log(data);\n                        this.users.forEach(element => {\n                          if (element.id == this.selected_idUser) {\n                            element[obj['name']] = true;\n                            element['haveRoles'] = true;\n                          }\n                        });\n                        this.userDetail(this.selected_idUser);\n                      },\n                      error => { console.log(error) }\n                    )\n\n                    object = [];\n\n                  }\n                })\n\n\n\n\n              });\n            } else if (removeDiff.length != 0) {\n              removeDiff.forEach(element => {\n                let object = [];\n                let obj = {};\n                this.roles.forEach(roles => {\n                  if (element == roles.name) {\n                    obj = {\n                      id: roles.role_id,\n                      name: roles.name\n                    }\n                    object.push(obj);\n\n                    console.log(object)\n                    this.auth.deleteRolesToUser(this.selected_idUser, this.idClient, object).subscribe(\n                      data => {\n                        console.log(data);\n                        this.users.forEach(element => {\n                          if (element.id == this.selected_idUser) {\n                            element[obj['name']] = false;\n                            element['haveRoles'] = false;\n                          }\n                        });\n\n                        this.userDetail(this.selected_idUser);\n                      },\n                      error => { console.log(error) }\n                    );\n\n                    object = [];\n                  }\n\n\n                })\n              });\n\n            }\n          }\n        },\n        error => {\n          console.log(error)\n        }\n      )\n    } else {\n      alert(\"No update. There are same info\")\n    }\n\n  }\n\n\n  registerUser() {\n    console.log(this.userDetailForm)\n    if (this.userDetailForm.valid) {\n      let parameters = {\n        /* id: this.temporaryId, */\n        enabled: this.userDetailForm.get('enabled').value,\n        email: this.userDetailForm.get('email').value,\n        username: this.userDetailForm.get('username').value,\n        credentials: [\n          {\n            type: \"password\",\n            value: this.userDetailForm.get('password').value,\n            temporary: false\n          }\n        ]\n      }\n\n      console.log(parameters);\n\n      this.auth.createUser(parameters).subscribe(\n        data => {\n          console.log(data);\n\n          this.auth.getUserByUsername(this.userDetailForm.get('username').value).subscribe(\n            data => {\n              console.log(data);\n              if (data != undefined) {\n\n                this.cleanActiveLinks();\n                data.forEach(newUser => {\n\n                  if (this.selectedRoles.length > 0) {\n\n\n                    this.selectedRoles.forEach(element => {\n\n                      let object = [];\n                      let obj = {};\n                      this.roles.forEach(roles => {\n                        if (element == roles.name) {\n                          obj = {\n                            id: roles.role_id,\n                            name: roles.name\n                          }\n\n                          object.push(obj);\n                        }\n                      })\n\n\n\n                      console.log(object)\n                      this.auth.assignRolesToUser(newUser.id, this.idClient, object).subscribe(\n                        data => {\n                          console.log(data);\n                          this.users.forEach(element => {\n                            if (element.id == newUser.id) {\n                              element[obj['name']] = true;\n                              element['haveRoles'] = true;\n                            }\n                          });\n                        },\n                        error => { console.log(error) }\n                      )\n                    });\n\n\n                  }\n\n\n\n                  this.users.push(newUser);\n\n                  this.userDetail(newUser.id);\n\n\n                  setTimeout(() => {\n                    this.activeNewUserLink(this.userDetailForm.get('username').value)\n                  }, 100);\n\n                });\n\n\n              }\n            },\n            error => {\n              console.log(error)\n            }\n          )\n        },\n        error => {\n          console.log(error)\n        }\n      )\n    }\n  }\n\n  resetForm() {\n    this.userDetailForm.reset();\n    this.userDetailForm.markAsUntouched();\n    this.userDetailForm.markAsPristine();\n  }\n\n  deleteUser() {\n    console.log(this.selected_idUser);\n\n    this.auth.deleteUser(this.selected_idUser).subscribe(\n      data => {\n        console.log(data)\n        let filtered = this.users.filter(\n          element => element.id != this.selected_idUser\n        )\n\n        this.users = filtered;\n\n        this.cleanActiveLinks();\n        this.userDetailForm.reset();\n        this.isPopulated = false;\n        this.creationRequest = false;\n\n        this.modalRef.close();\n      },\n      error => { console.log(error) }\n    )\n\n\n  }\n\n\n  /* addRoles(role){\n    this.rolesArray = this.userDetailForm.get('roles') as FormArray;\n    if(role == undefined){\n      this.rolesArray.push(this.createRoles());\n    }else{\n      this.rolesArray.push(this.createRoles(role));\n    }\n  } */\n\n\n  createNewUser() {\n\n    this.cleanActiveLinks();\n    this.selected_idUser = null;\n\n    const makeId = function makeid() {\n      var result = '';\n      var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n      var charactersLength = characters.length;\n      for (var i = 0; i < 9; i++) {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\n      }\n\n      result += '-'\n\n      for (var j = 0; j < 5; j++) {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\n      }\n\n      result += '-'\n\n      for (var l = 0; l < 5; l++) {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\n      }\n\n      result += '-'\n\n      for (var m = 0; m < 13; m++) {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\n      }\n\n      return result;\n    }\n\n    this.temporaryId = makeId();\n\n\n    this.userDetailForm = this.formBuilder.group({\n      id: new FormControl(this.temporaryId),\n      username: new FormControl(null, [Validators.required, Validators.minLength(3)]),\n      email: new FormControl(null, [Validators.required, Validators.minLength(3), Validators.pattern('^[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$')]),\n      password: new FormControl(null, [Validators.required, Validators.minLength(8)]),\n      repeat_password: new FormControl(null, [Validators.required]),\n      roles: [],\n      enabled: new FormControl(false, [Validators.required]),\n    }, { validator: ConfirmedValidator('password', 'repeat_password') });\n    this.creationRequest = true;\n    this.isPopulated = true;\n    this.selectedRoles = [];\n\n    this.itsMe = false;\n  }\n\n  cleanActiveLinks() {\n    var links = this.user_list.nativeElement.querySelectorAll('a')\n    links.forEach(element => {\n      if (element.classList.contains('active')) {\n        element.classList.remove('active');\n      }\n    });\n  }\n\n  activeNewUserLink(username) {\n    var links = this.user_list.nativeElement.querySelectorAll('a')\n    links.forEach(element => {\n      //      console.log(element.innerText, username)\n      if (element.innerText == username) {\n        element.classList.add('active');\n      }\n\n    });\n  }\n\n\n  findInvalidControls() {\n    const invalid = [];\n    const controls = this.userDetailForm.controls;\n    for (const name in controls) {\n      if (controls[name].invalid) {\n        invalid.push(name);\n      }\n    }\n\n\n    return invalid;\n  }\n\n  open(content) {\n\n    this.modalRef = this.modalService.open(content)\n  }\n\n  /* addTagFn(name) {\n    return { name: name, tag: true };\n  } */\n}\n","<div class=\"row h-100\">\n\n  <!-- USER LIST -->\n  <div class=\"col-lg-3 pb-3\">\n    <div class=\"card h-100\">\n      <div class=\"card-header d-flex justify-content-between\">\n        <div class=\"d-flex align-items-center\">\n          Users\n        </div>\n        <button #button_create type=\"button\" class=\"btn btn-primary btn-sm\" (click)=\"createNewUser()\" data-toggle=\"list\"\n          href=\"#user-detail\" role=\"tab\" aria-controls=\"home\"><i class=\"fas fa-plus-square\"></i> Create</button>\n\n      </div>\n      <div class=\"card-body\">\n\n        <!-- SEARCH BAR -->\n        <div class=\"input-group\">\n          <span class=\"input-group-prepend\">\n            <div class=\"input-group-text bg-transparent border-right-0\"><i class=\"fa fa-search\"></i></div>\n            <!-- <button class=\"btn btn-secondary btn-block filter-button\" type=\"button\" value=\"Filter\" title=\"Filter\"\n              data-toggle=\"collapse\" data-target=\"#filterUserCollapse\" aria-expanded=\"false\"\n              aria-controls=\"filterUserCollapse\"><i class=\"fa fa-filter\"></i></button> -->\n          </span>\n          <input class=\"form-control py-2 border-left-0 border\" type=\"text\" id=\"example-search-input\"\n            (keyup)=\"triggerSearch($event)\">\n        </div>\n\n        <!-- <div class=\"collapse multi-collapse\" id=\"filterUserCollapse\">\n          <div class=\"form-group row mt-3 \">\n            <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Roles:</label>\n            <div class=\"input-group col-lg-9\">\n              <ng-select [multiple]=\"true\" [(ngModel)]=\"filterSelectedRoles\" [ngModelOptions]=\"{standalone: true}\">\n                <ng-option *ngFor=\"let role of roles\" [value]=\"role.name\">{{role.name}}</ng-option>\n              </ng-select>\n            </div>\n          </div>\n        </div> -->\n\n\n        <!-- USER-LIST -->\n        <div class=\"list-group mt-2 user-list\" id=\"list-tab\" role=\"tablist\" #user_list>\n          <a class=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\"\n            id=\"users-list\" data-toggle=\"list\" href=\"#user-detail\" role=\"tab\" aria-controls=\"home\"\n            *ngFor=\"let usr of users\" (click)=\"userDetail(usr.id)\">\n            {{usr.username}}\n            <span class=\"badge badge-primary badge-pill\" *ngIf=\"usr.haveRoles != undefined\">\n              <div class=\"d-flex justify-content-between align-items-center\">\n                <i class=\"fas fa-crown m-2\" *ngIf=\"usr.ADMIN\"></i>\n                <i class=\"fas fa-user m-2\" *ngIf=\"usr.USER\"></i>\n              </div>\n            </span>\n          </a>\n        </div>\n\n      </div>\n      <!-- <div class=\"card-footer text-muted\">\n        2 days ago\n      </div> -->\n    </div>\n  </div>\n\n  <!-- USER DETAILS -->\n\n\n  <div class=\"col-lg-9 pb-3\" [hidden]=\"!isPopulated\">\n    <div class=\"card h-100\">\n      <div class=\"card-header d-flex justify-content-between\">\n        <div class=\"d-flex align-items-center\">\n          User details\n        </div>\n\n      </div>\n      <div class=\"card-body\">\n\n        <div class=\"tab-content h-100\" id=\"nav-tabContent\">\n          <div class=\"tab-pane fade h-100\" id=\"user-detail\" role=\"tabpanel\" aria-labelledby=\"users-list\">\n\n            <form [formGroup]=\"userDetailForm\" class=\"h-100 d-flex flex-column\">\n              <div class=\"form-group row ml-2 mt-3 mr-2\" *ngIf=\"!creationRequest\">\n                <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">ID:</label>\n                <div class=\"input-group col-lg-9\">\n                  <input id=\"id\" formControlName=\"id\" name=\"id\" type=\"text\" class=\"form-control\" placeholder=\"\"\n                    disabled>\n                  <!-- <div class=\"invalid-feedback\" style=\"display: block;\">\n                        Please, insert at least three characters.\n                    </div> -->\n                </div>\n              </div>\n\n              <!-- {{creationRequest}} -->\n              <div class=\"form-group row ml-2 mt-3 mr-2\">\n                <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Username:</label>\n                <div class=\"input-group col-lg-9\">\n                  <input id=\"username\" formControlName=\"username\" name=\"username\" type=\"text\" class=\"form-control\"\n                    placeholder=\"\" *ngIf=\"!creationRequest\" disabled>\n                  <input id=\"username\" formControlName=\"username\" name=\"username\" type=\"text\" class=\"form-control\"\n                    placeholder=\"\" *ngIf=\"creationRequest\">\n                  <div class=\"invalid-feedback\" style=\"display: block;\" *ngIf=\"userDetailForm.get('username').invalid\">\n                        Please insert at least 4 characters\n                    </div>\n                </div>\n              </div>\n\n              <div class=\"form-group row ml-2 mt-3 mr-2\">\n                <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Email:</label>\n                <div class=\"input-group col-lg-9\">\n                  <input id=\"email\" formControlName=\"email\" name=\"email\" type=\"text\" class=\"form-control\" \n                    placeholder=\"\">\n                  <div class=\"invalid-feedback\" style=\"display: block;\" *ngIf=\"userDetailForm.get('email').invalid\">\n                        Please, insert a valid email address.\n                    </div>\n                </div>\n              </div>\n\n              <div class=\"form-group row ml-2 mt-3 mr-2\">\n                <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Password:</label>\n                <div class=\"input-group col-lg-9\">\n                  <input id=\"password\" formControlName=\"password\" name=\"password\" type=\"password\" class=\"form-control\"\n                    placeholder=\"\">\n                  <div class=\"invalid-feedback\" style=\"display: block;\" *ngIf=\"userDetailForm.get('password').invalid\">\n                        Please, insert at least 8 characters.\n                    </div>\n                </div>\n              </div>\n\n              <div class=\"form-group row ml-2 mt-3 mr-2\">\n                <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Repeat password:</label>\n                <div class=\"input-group col-lg-9\">\n                  <input id=\"repeat_password\" formControlName=\"repeat_password\" name=\"repeat_password\" type=\"password\"\n                    class=\"form-control\" placeholder=\"\">\n                  <div class=\"invalid-feedback\" style=\"display: block;\"  *ngIf=\"userDetailForm.get('repeat_password').invalid\">\n                        Password not matching.\n                    </div>\n                </div>\n              </div>\n\n              <div class=\"form-group row ml-2 mt-3 mr-2\">\n                <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Roles:</label>\n                <div class=\"input-group col-lg-9\">\n                  <ng-select [multiple]=\"true\" formControlName=\"roles\" (change)=\"markAsTouched()\" [(ngModel)]=\"selectedRoles\" > <!-- [ngModelOptions]=\"{standalone: true}\" -->\n                    <ng-option *ngFor=\"let role of roles\" [value]=\"role.name\">{{role.name}}</ng-option>\n                    <!-- <ng-option [value]=\"'custom'\">Custom</ng-option> -->\n                  </ng-select>\n                </div>\n              </div>\n\n              <div class=\"form-group row ml-2 mt-3 mr-2\">\n                <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Enabled:</label>\n                <div class=\"custom-control custom-switch col-lg-9\" style=\"padding-left: 3.25rem !important;\">\n                  <input type=\"checkbox\" class=\"custom-control-input\" id=\"customSwitch1\" formControlName=\"enabled\"\n                    name=\"enabled\">\n                  <label class=\"custom-control-label\" for=\"customSwitch1\"></label>\n                </div>\n              </div>\n              <div class=\"form-group row ml-2 mt-auto mr-2\">\n                <div class=\"col-lg-3\">\n                  <button type=\"button\" class=\"btn btn-danger\" (click)=\"open(deleteModal)\" *ngIf=\"!creationRequest && !itsMe\">Delete User</button>\n                </div>\n                \n                <!-- <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Enabled:</label> -->\n                <!-- <div class=\"custom-control custom-switch col-lg-9\" style=\"padding-left: 3.25rem !important;\">\n                  <input type=\"checkbox\" class=\"custom-control-input\" id=\"customSwitch1\" formControlName=\"enabled\"\n                    name=\"enabled\">\n                  <label class=\"custom-control-label\" for=\"customSwitch1\"></label>\n                </div> -->\n              </div>\n\n              <div>\n                <!-- {{userDetailForm.value | json}} -->\n                <!-- {{initialValues.value}} -->\n                <!-- {{userDetailForm.valid | json}}\n                {{findInvalidControls() | json}} -->\n                \n              </div>\n            </form>\n\n          </div>\n        </div>\n\n      </div>\n      <div class=\"card-footer text-muted d-flex justify-content-end\">\n        <button class=\"btn btn-primary mr-2\" [disabled]=\"userDetailForm.invalid || userDetailForm.pristine\" (click)=\"registerUser()\" *ngIf=\"creationRequest\">\n          <i class=\"fas fa-save\"></i> \n          Register\n        </button>\n        <button class=\"btn btn-primary mr-2\" [disabled]=\"userDetailForm.invalid || userDetailForm.pristine\" (click)=\"updateUser()\" *ngIf=\"!creationRequest\">\n          <i class=\"fas fa-save\"></i> \n          Update\n        </button>\n        <button type=\"button\" class=\"btn btn-secondary\" (click)=\"resetForm()\" [disabled]=\"!creationRequest || !userDetailForm.touched\"><i class=\"fas fa-times\"></i> Cancel</button>\n      </div>\n    </div>\n  </div>\n\n</div>\n\n\n<ng-template #deleteModal let-modal>\n  <div class=\"modal-header\">\n      <h4 class=\"modal-title\" id=\"modal-basic-title\">Wizard</h4>\n      <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"modal.dismiss('Cross click')\">\n          <span aria-hidden=\"true\">&times;</span>\n      </button>\n  </div>\n\n  <div class=\"modal-body\">\n      Are you sure to delete this user?\n  </div>\n      \n  <div class=\"modal-footer\">\n      <button type=\"button\" class=\"btn btn-outline-dark\" >No</button>\n      <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"deleteUser()\">Yes</button>\n  </div>  \n  \n     \n  \n</ng-template>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AnnotatorService {\n  private baseUrl = \"/cash_itant/api/\"\n\n\n  constructor(private http: HttpClient) { }\n  \n  private _triggerSearch: BehaviorSubject<any> = new BehaviorSubject(null);\n  private _deleteAnnoRequest: BehaviorSubject<any> = new BehaviorSubject(null);\n  private _getIdText: BehaviorSubject<any> = new BehaviorSubject(null);\n\n  private arrayPanelFormsData = {};\n\n\n  triggerSearch$ = this._triggerSearch.asObservable();\n  deleteAnnoReq$ = this._deleteAnnoRequest.asObservable();\n  getIdText$ = this._getIdText.asObservable();\n\n  triggerSearch(string : string) {\n    this._triggerSearch.next(string)\n  } \n\n  deleteAnnotationRequest(id : number, node_id : number){\n    this._deleteAnnoRequest.next({id, node_id})\n  }\n\n  getIdText(object: any){\n    this._getIdText.next(object);\n  }\n\n  getPanelForm(id_annotation) : object{\n    return this.arrayPanelFormsData[id_annotation];\n  }\n\n  getAllPanelForms() : object {\n    return this.arrayPanelFormsData;\n  }\n\n  closePanelForm(id_annotation) : void {\n    this.arrayPanelFormsData[id_annotation] = undefined;\n  }\n\n  newPanelForm(id_annotation) : void {\n    this.arrayPanelFormsData[id_annotation] = {};\n    this.arrayPanelFormsData[id_annotation].data = undefined;\n    this.arrayPanelFormsData[id_annotation].isOpen = undefined;\n\n  }\n\n  getTokens(id: number) : Observable<any> {\n    return this.http.get(this.baseUrl + 'public/token?requestUUID=test123&nodeid='+id);\n  }\n\n  getText(id: number) : Observable<any> {\n    return this.http.get(this.baseUrl + 'public/gettext?requestUUID=test123&nodeid='+id);\n  }\n\n  addAnnotation(parameters : object, id : number) : Observable<any>{\n    return this.http.post(this.baseUrl + 'annotation?requestUUID=test123&nodeid='+id, parameters);\n  }\n\n  getAnnotation(id : number) : Observable<any>{\n    return this.http.get(this.baseUrl + 'public/annotation?requestUUID=test123&nodeid='+id);\n  }\n\n  deleteAnnotation(id: number) : Observable<any> {\n    return this.http.delete(this.baseUrl + 'annotate?requestUUID=test123&annotationID='+id);\n  }\n\n  updateAnnotation(annotation : object) : Observable<any>{\n    return this.http.put(this.baseUrl + 'annotation?requestUUID=test123', annotation);\n  }\n\n}\n","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, ElementRef, OnDestroy, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { ExpanderService } from 'src/app/services/expander/expander.service';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\n\nimport {\n  animate,\n  style,\n  transition,\n  trigger,\n  state\n} from \"@angular/animations\";\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-vartrans-tab',\n  templateUrl: './vartrans-tab.component.html',\n  styleUrls: ['./vartrans-tab.component.scss'],\n  animations: [\n    trigger('slideInOut', [\n      state('in', style({\n        height: 'calc(100vh - 17rem)',\n        \n      })),\n      state('out', style({\n        height: 'calc(50vh - 12.5rem)',\n      })),\n      transition('in => out', animate('400ms ease-in-out')),\n      transition('out => in', animate('400ms ease-in-out'))\n    ])\n  ]\n})\nexport class VartransTabComponent implements OnInit, OnDestroy {\n\n  lock = 0;\n  object: any;\n  exp_trig = '';\n\n  lexicalEntryData : any;\n  senseData : any;\n\n  isLexicalEntry = false;\n  isSense = false;\n\n  expand_edit_subscription : Subscription; \n  expand_epi_subscription : Subscription;\n  @ViewChild('expander') expander_body: ElementRef;\n\n  constructor(private lexicalService: LexicalEntriesService, private expand: ExpanderService, private rend : Renderer2) { }\n\n  ngOnInit(): void {\n   \n    \n    this.expand_edit_subscription = this.expand.expEdit$.subscribe(\n      trigger => {\n        if(trigger){\n          let isEditExpanded = this.expand.isEditTabExpanded();\n          let isEpigraphyExpanded = this.expand.isEpigraphyTabExpanded();\n\n          if(!isEpigraphyExpanded){\n            this.exp_trig = 'in';\n            this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(100vh - 17rem)')\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(100vh - 17rem)')\n          }else{\n            this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 12.5rem)');\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)');\n            this.exp_trig = 'in';\n          }\n          \n        }else if(trigger==null){\n          return;\n        }else{\n          this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 12.5rem)');\n          this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)');\n          this.exp_trig = 'out';\n        }\n      }\n    );\n\n    this.expand_epi_subscription = this.expand.expEpigraphy$.subscribe(\n      trigger => {\n        setTimeout(() => {\n          if(trigger){\n            this.exp_trig = 'in';\n            this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 12.5rem)')\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)')\n          }else if(trigger==null){\n            return;\n          }else{\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)');\n            this.exp_trig = 'out';\n          }\n        }, 100);\n        \n      }\n    );\n  }\n\n  changeStatus() {\n    if (this.lock < 2) {\n      this.lock++;\n    } else if (this.lock > 1) {\n      this.lock--;\n    }\n    setTimeout(() => {\n      //@ts-ignore\n      $('.locked-tooltip').tooltip({\n        trigger: 'hover'\n      });\n    }, 10);\n  }\n\n  ngOnDestroy(): void {\n    this.expand_edit_subscription.unsubscribe();\n    this.expand_epi_subscription.unsubscribe();\n  }\n\n}\n","\n\n<div id=\"cardsAccordion\" class=\"accordion\" [hidden]=\"object == null\">\n    <div class=\"card my-2\">\n        <div class=\"card-header\">\n            <h5 class=\"mb-0 w-100 d-flex justify-content-between align-self-center\">\n                <div>\n                    <span class=\"btn\">\n                        CREATED BY foo ON 11/12/2020 15:15\n                    </span>\n                </div>\n                <div>\n                    <button class=\"btn btn-link\">\n                        <i class=\"fa fa-trash\"></i>\n                    </button>\n                    <button class=\"btn btn-link\" (click)=\"changeStatus()\">\n                        <i class=\"fa fa-circle\" *ngIf=\"lock==0\" style=\"color: red\"></i>\n                        <i class=\"fa fa-circle\" *ngIf=\"lock==1\" style=\"color: yellow\"></i>\n                        <i class=\"fa fa-circle locked-tooltip\" *ngIf=\"lock==2\" data-toggle=\"tooltip\"\n                            data-placement=\"bottom\" data-html=\"true\" title=\"Locked tooltip\" style=\"color:green;\"></i>\n                    </button>\n                </div>\n            </h5>\n        </div>\n        <div #expander [@slideInOut]=\"exp_trig\" class=\"card-body\">\n            <app-lexical-entry-vartrans-form [lexData]=\"lexicalEntryData\" *ngIf=\"isLexicalEntry\"></app-lexical-entry-vartrans-form>\n            <app-sense-vartrans-form [senseData]=\"senseData\" *ngIf=\"isSense\"></app-sense-vartrans-form>\n        </div>\n        <div class=\"card-footer text-muted\">\n            <div class=\"w-100 d-flex justify-content-between align-items-center\">\n                <div>\n                    <span>LAST UPDATE ON 15/12/2020 14:30 BY foo</span>\n                </div>\n                <div class=\"btn-group dropup dropleft\">\n                    <button class=\"btn btn-success\" type=\"button\" id=\"dropdownAddLemma\" data-toggle=\"dropdown\"\n                        aria-haspopup=\"true\" aria-expanded=\"false\"> <i class=\"fas fa-plus\"></i> </button>\n                    <div class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"dropdownAddLemma\">\n                        <a class=\"dropdown-item\" href=\"#\">Add Form</a>\n                        <a class=\"dropdown-item\" href=\"#\">Add Sense</a>\n                        <a class=\"dropdown-item\" href=\"#\">Add Frame</a>\n                        <a class=\"dropdown-item\" href=\"#\">Add Lexical Concept</a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, ElementRef, OnDestroy, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { LexicalEntriesService } from '../../../../../services/lexical-entries/lexical-entries.service';\nimport { ExpanderService } from 'src/app/services/expander/expander.service';\nimport { ToastrService } from 'ngx-toastr';\n\nimport {\n  animate,\n  style,\n  transition,\n  trigger,\n  state\n} from \"@angular/animations\";\nimport { debounceTime, take, takeUntil } from 'rxjs/operators';\nimport { ModalComponent } from 'ng-modal-lib';\nimport { BibliographyService } from 'src/app/services/bibliography-service/bibliography.service';\nimport { Subject, Subscription } from 'rxjs';\nimport { ConceptService } from 'src/app/services/concept/concept.service';\n\n@Component({\n  selector: 'app-core-tab',\n  templateUrl: './core-tab.component.html',\n  styleUrls: ['./core-tab.component.scss'],\n  animations: [\n    trigger('slideInOut', [\n      state('in', style({\n        height: 'calc(100vh - 17rem)',\n\n      })),\n      state('out', style({\n        height: 'calc(50vh - 10rem)',\n      })),\n      transition('in => out', animate('400ms ease-in-out')),\n      transition('out => in', animate('400ms ease-in-out'))\n    ])\n  ]\n})\nexport class CoreTabComponent implements OnInit, OnDestroy {\n\n  lock = 0;\n  object: any;\n  exp_trig = '';\n\n  isLexicalEntry = false;\n  isForm = false;\n  isSense = false;\n  isLexicalConcept = false;\n  isEtymology = false;\n  isConceptSet = false;\n  searchIconSpinner = false;\n  goBack = false;\n\n  bibliography = [];\n  selectedItem;\n\n  selectedLexicalElement;\n\n  lexicalEntryData: any;\n  formData: any;\n  senseData: any;\n  lexicalConceptData: any;\n  conceptSetData : any;\n\n  lastUpdateDate: any;\n  creationDate: any;\n  creator: any;\n  revisor: any;\n\n  start = 0;\n  sortField = 'title';\n  direction = 'asc';\n  memorySort = { field: '', direction: '' }\n  queryTitle = '';\n  queryMode = 'titleCreatorYear';\n  destroy$: Subject<boolean> = new Subject();\n  core_data_subscription: Subscription;\n  expand_edit_subscription: Subscription;\n  expand_epi_subscription: Subscription;\n  update_core_card_subscription: Subscription;\n  spinner_subscription: Subscription;\n  search_subject_subscription: Subscription;\n  biblio_bootstrap_subscription: Subscription;\n\n  private searchSubject: Subject<any> = new Subject();\n\n  @ViewChild('expander') expander_body: ElementRef;\n  @ViewChild('addBibliography', { static: false }) modal: ModalComponent;\n  @ViewChild('table_body') tableBody: ElementRef;\n  @ViewChild('searchBiblio') searchBiblio: ElementRef;\n\n  constructor(private lexicalService: LexicalEntriesService, \n              private biblioService: BibliographyService, \n              private expand: ExpanderService, \n              private rend: Renderer2, \n              private toastr: ToastrService,\n              private conceptService : ConceptService) \n  { }\n\n  ngOnInit(): void {\n\n    this.core_data_subscription = this.lexicalService.coreData$.subscribe(\n      object => {\n        if (this.object != object) {\n          this.lexicalEntryData = null;\n          this.conceptSetData = null;\n          this.lexicalConceptData = null;\n          this.formData = null;\n          this.senseData = null;\n\n        }\n        this.object = object\n        /* console.log(this.object) */\n        if (this.object != null) {\n          setTimeout(() => {\n            //@ts-ignore\n            $('#coreTabModal').modal('hide');\n            $('.modal-backdrop').remove();\n            var timer = setInterval((val) => {\n              try {\n                //@ts-ignore\n                $('#coreTabModal').modal('hide');\n                if (!$('#coreTabModal').is(':visible')) {\n                  clearInterval(timer)\n                }\n\n              } catch (e) {\n                console.log(e)\n              }\n            }, 10)\n          }, 500);\n          this.creator = this.object.creator;\n          this.revisor = this.object.revisor;\n\n          if (this.object.lexicalEntry != undefined && this.object.sense == undefined && this.object.form == undefined) {\n            this.isLexicalEntry = true;\n            this.isForm = false;\n            this.isSense = false;\n            this.lexicalEntryData = object;\n            this.formData = null;\n            this.lexicalConceptData = null;\n            this.isLexicalConcept = false;\n            this.isConceptSet = false;\n          } else if (this.object.form != undefined && this.object.sense == undefined) {\n            this.isLexicalEntry = false;\n            this.isForm = true;\n            this.isSense = false;\n            this.formData = object;\n            this.lexicalEntryData = null;\n            this.lexicalConceptData = null;\n            this.isLexicalConcept = false;\n            this.isConceptSet = false;\n          } else if (this.object.sense != undefined) {\n            this.isLexicalEntry = false;\n            this.isForm = false;\n            this.isSense = true;\n            this.senseData = object;\n            this.formData = null;\n            this.lexicalEntryData = null;\n            this.lexicalConceptData = null;\n            this.isLexicalConcept = false;\n            this.isConceptSet = false;\n          } else if (this.object.lexicalConcept != undefined && this.object.sense == undefined) {\n            this.isLexicalEntry = false;\n            this.isForm = false;\n            this.isSense = false;\n            this.isLexicalConcept = true;\n            this.senseData = null;\n            this.formData = null;\n            this.lexicalEntryData = null;\n            this.lexicalConceptData = object;\n            this.isConceptSet = false;\n          } else if(this.object.conceptSet != undefined){\n            this.isConceptSet = true;\n            this.isLexicalEntry = false;\n            this.isForm = false;\n            this.isSense = false;\n            this.isLexicalConcept = false;\n            this.conceptSetData = object;\n            this.senseData = null;\n            this.formData = null;\n            this.lexicalEntryData = null;\n            this.lexicalConceptData = null;\n          }else if(this.object.lexicalConcept == undefined && this.object.etymology != undefined){\n            this.isEtymology = true;\n            this.isConceptSet = false;\n            this.isLexicalConcept = false;\n          }\n\n          this.creationDate = this.object.creationDate;\n          this.lastUpdateDate = this.object.lastUpdate;\n\n          switch (this.object.status) {\n            case 'working': {\n              this.lock = 0;\n              this.goBack = false;\n              setTimeout(() => {\n                //@ts-ignore\n                $('.locked-tooltip').tooltip('disable');\n              }, 10);\n              break;\n            }\n            case 'completed': {\n              this.lock = 1;\n              this.goBack = false;\n              setTimeout(() => {\n                //@ts-ignore\n                $('.locked-tooltip').tooltip('disable');\n              }, 10);\n              break;\n            }\n            case 'reviewed': {\n              this.lock = 2;\n              this.goBack = true;\n              setTimeout(() => {\n                //@ts-ignore\n                $('.locked-tooltip').tooltip('enable');\n                //@ts-ignore\n                $('.locked-tooltip').tooltip({\n                  trigger: 'hover'\n                });\n              }, 50);\n              break;\n            }\n          }\n\n        }\n      }\n    );\n\n    this.expand_edit_subscription = this.expand.expEdit$.subscribe(\n      trigger => {\n        /* console.log(\"trigger core-tab: \", trigger) */\n        setTimeout(() => {\n          if (trigger) {\n            let isEditExpanded = this.expand.isEditTabExpanded();\n            let isEpigraphyExpanded = this.expand.isEpigraphyTabExpanded();\n\n            /* console.log(isEditExpanded);\n            console.log(isEpigraphyExpanded) */\n\n\n            if (!isEpigraphyExpanded) {\n              this.exp_trig = 'in';\n              this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(100vh - 17rem)')\n              this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(100vh - 17rem)')\n            } else {\n              this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 10rem)');\n              this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 10rem)');\n              this.exp_trig = 'in';\n            }\n\n\n\n          } else if (trigger == null) {\n            return;\n          } else {\n            this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 10rem)');\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 10rem)');\n            this.exp_trig = 'out';\n          }\n        }, 100);\n\n      }\n    );\n\n    this.expand_epi_subscription = this.expand.expEpigraphy$.subscribe(\n      trigger => {\n        setTimeout(() => {\n          if (trigger) {\n            this.exp_trig = 'in';\n            this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 10rem)')\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 10rem)')\n          } else if (trigger == null) {\n            return;\n          } else {\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 10rem)');\n            this.exp_trig = 'out';\n          }\n        }, 100);\n\n      }\n    );\n\n    this.update_core_card_subscription = this.lexicalService.updateCoreCardReq$.subscribe(\n      data => {\n        console.log(data)\n        if (data != null) {\n          this.lastUpdateDate = data['lastUpdate']\n          if (data['creationDate'] != undefined) {\n            this.creationDate = data['creationDate']\n          }\n        }\n      }\n    )\n\n    this.spinner_subscription = this.lexicalService.spinnerAction$.subscribe(\n      data => {\n        if (data == 'on') {\n          this.searchIconSpinner = true;\n        } else {\n          this.searchIconSpinner = false;\n        }\n      },\n      error => {\n\n      }\n    )\n\n    this.search_subject_subscription = this.searchSubject.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      data => {\n        this.queryTitle = data.query;\n        data.queryMode ? this.queryMode = 'everything' : this.queryMode = 'titleCreatorYear';\n        this.searchBibliography(this.queryTitle, this.queryMode);\n      }\n    )\n\n    //@ts-ignore\n    $(\"#biblioModal\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.ui-modal');\n    //@ts-ignore\n    $('#biblioModal').modal({ backdrop: 'static', keyboard: false })\n\n    $('.modal-backdrop').css('height', 'inherit');\n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n\n    this.biblio_bootstrap_subscription = this.biblioService.bootstrapData(this.start, this.sortField, this.direction).subscribe(\n      data => {\n        this.memorySort = { field: this.sortField, direction: this.direction }\n        this.bibliography = data;\n        this.bibliography.forEach(element => {\n          element['selected'] = false;\n        })\n\n\n        //@ts-ignore\n        $('#biblioModal').modal('hide');\n        $('.modal-backdrop').remove();\n      }, error => {\n        console.log(error)\n      }\n    )\n  }\n\n  changeStatus() {\n\n    //console.log(this.goBack)\n\n    if (!this.goBack) {\n      this.lock++;\n      if (this.lock == 2) {\n        this.goBack = true;\n      }\n    } else if (this.goBack) {\n      this.lock--;\n      if (this.lock == 0) {\n        this.goBack = false;\n      }\n    }\n\n    this.searchIconSpinner = true;\n    let lexicalId = this.object.lexicalEntry;\n    //console.log(this.lock)\n    switch (this.lock) {\n      case 0: {\n        let parameters = {\n          relation: \"http://www.w3.org/2003/06/sw-vocab-status/ns#term_status\",\n          value: \"working\"\n        }\n        this.lexicalService.updateLexicalEntry(lexicalId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n          data => {\n            this.searchIconSpinner = false;\n            data['request'] = 0;\n            this.lexicalService.updateCoreCard(data)\n            this.lexicalService.refreshAfterEdit(data);\n            setTimeout(() => {\n              //@ts-ignore\n              $('.locked-tooltip').tooltip('disable');\n            }, 10);\n          },\n          error => {\n            this.searchIconSpinner = false;\n            const data = this.object;\n            data['request'] = 0;\n            data['new_status'] = 'working'\n            this.lexicalService.refreshAfterEdit(data);\n            this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n            setTimeout(() => {\n              //@ts-ignore\n              $('.locked-tooltip').tooltip('disable');\n            }, 10);\n          }\n        )\n      }; break;\n      case 1: {\n        let parameters = {\n          relation: \"http://www.w3.org/2003/06/sw-vocab-status/ns#term_status\",\n          value: \"completed\"\n        }\n        this.lexicalService.updateLexicalEntry(lexicalId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n          data => {\n\n            this.searchIconSpinner = false;\n            data['request'] = 0;\n            this.lexicalService.updateCoreCard(data)\n            this.lexicalService.refreshAfterEdit(data);\n            setTimeout(() => {\n              //@ts-ignore\n              $('.locked-tooltip').tooltip('disable');\n            }, 10);\n          },\n          error => {\n            this.searchIconSpinner = false;\n            if(error.status == 200){\n              const data = this.object;\n              data['request'] = 0;\n              data['new_status'] = 'completed'\n              this.lexicalService.refreshAfterEdit(data);\n              this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n              setTimeout(() => {\n                //@ts-ignore\n                $('.locked-tooltip').tooltip('disable');\n              }, 10);\n\n              this.toastr.success('Status changed correctly', '', {timeOut: 5000})\n            }else{\n              this.toastr.error(error.error, 'Error', {timeOut: 5000})\n            }\n            \n          }\n        )\n      }; break;\n      case 2: {\n        let parameters = {\n          relation: \"http://www.w3.org/2003/06/sw-vocab-status/ns#term_status\",\n          value: \"reviewed\"\n        }\n        this.lexicalService.updateLexicalEntry(lexicalId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n          data => {\n            this.searchIconSpinner = false;\n            data['request'] = 0;\n            data['new_status'] = 'reviewed'\n            this.lexicalService.updateCoreCard(data)\n            this.lexicalService.refreshAfterEdit(data);\n            setTimeout(() => {\n              //@ts-ignore\n              $('.locked-tooltip').tooltip('enable');\n              //@ts-ignore\n              $('.locked-tooltip').tooltip({\n                trigger: 'hover'\n              });\n            }, 50);\n          },\n          error => {\n\n            this.searchIconSpinner = false;\n            const data = this.object;\n            data['request'] = 0;\n            data['new_status'] = 'reviewed'\n            this.lexicalService.refreshAfterEdit(data);\n            this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n            setTimeout(() => {\n              //@ts-ignore\n              $('.locked-tooltip').tooltip('enable');\n              //@ts-ignore\n              $('.locked-tooltip').tooltip({\n                trigger: 'hover'\n              });\n            }, 50);\n          }\n        )\n      }; break;\n    }\n\n  }\n\n  deleteConceptSet(){\n    this.searchIconSpinner = true;\n    let conceptSetId = this.object.conceptSet\n    this.conceptService.deleteConceptSet(conceptSetId).pipe(takeUntil(this.destroy$)).subscribe(\n      data => {\n        //console.log(data)\n        this.searchIconSpinner = false;\n        this.conceptService.deleteRequest(this.object);\n        this.conceptSetData = null;\n        this.isConceptSet = false;\n        this.object = null;\n        this.lexicalService.sendToCoreTab(null);\n        this.lexicalService.sendToRightTab(null);\n        this.biblioService.sendDataToBibliographyPanel(null);\n\n        this.expand.expandCollapseEdit(false);\n        this.expand.openCollapseEdit(false)\n        if (this.expand.isEpigraphyOpen) {\n          this.expand.expandCollapseEpigraphy();\n        }\n        \n      }, error => {\n        //console.log(error)\n        this.searchIconSpinner = false;\n        \n        \n\n        if(error.status != 200){\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n        }else{\n          this.toastr.success(conceptSetId + 'deleted correctly', '', {\n            timeOut: 5000,\n          });\n          this.searchIconSpinner = false;\n          this.conceptService.deleteRequest(this.object);\n          this.conceptSetData = null;\n          this.isConceptSet = false;\n          this.object = null;\n          this.lexicalService.sendToCoreTab(null);\n          this.lexicalService.sendToRightTab(null);\n          this.biblioService.sendDataToBibliographyPanel(null);\n\n          this.expand.expandCollapseEdit(false);\n          this.expand.openCollapseEdit(false)\n          if (this.expand.isEpigraphyOpen) {\n            this.expand.expandCollapseEpigraphy();\n          }\n        }\n\n        \n      }\n    )\n  }\n\n  deleteLexicalConcept(){\n    this.searchIconSpinner = true;\n    let lexicalConceptID = this.object.lexicalConcept;\n\n    this.conceptService.deleteLexicalConcept(lexicalConceptID).pipe(takeUntil(this.destroy$)).subscribe(\n      data=> {\n        console.log(data)\n      },error=>{\n        console.log(error);\n        if(error.status != 200){\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n        }else{\n          this.toastr.success(lexicalConceptID + 'deleted correctly', '', {\n            timeOut: 5000,\n          });\n          this.searchIconSpinner = false;\n          this.conceptService.deleteRequest(this.object);\n          this.conceptSetData = null;\n          this.isConceptSet = false;\n          this.object = null;\n          this.lexicalService.sendToCoreTab(null);\n          this.lexicalService.sendToRightTab(null);\n          this.biblioService.sendDataToBibliographyPanel(null);\n\n          this.expand.expandCollapseEdit(false);\n          this.expand.openCollapseEdit(false)\n          if (this.expand.isEpigraphyOpen) {\n            this.expand.expandCollapseEpigraphy();\n          }\n        }\n      }\n    )\n  }\n\n  deleteLexicalEntry() {\n    this.searchIconSpinner = true;\n    let lexicalId = this.object.lexicalEntry\n    this.lexicalService.deleteLexicalEntry(lexicalId).pipe(takeUntil(this.destroy$)).subscribe(\n      data => {\n        //console.log(data)\n        this.searchIconSpinner = false;\n        this.lexicalService.deleteRequest(this.object);\n        this.lexicalEntryData = null;\n        this.isLexicalEntry = false;\n        this.object = null;\n        this.lexicalService.refreshLangTable();\n        this.lexicalService.refreshFilter({ request: true })\n        this.lexicalService.sendToCoreTab(null);\n        this.lexicalService.sendToRightTab(null);\n        this.biblioService.sendDataToBibliographyPanel(null);\n\n        this.expand.expandCollapseEdit(false);\n        this.expand.openCollapseEdit(false)\n        if (this.expand.isEpigraphyOpen) {\n          this.expand.expandCollapseEpigraphy();\n        }\n        this.toastr.success(lexicalId + 'deleted correctly', '', {\n          timeOut: 5000,\n        });\n      }, error => {\n        //console.log(error)\n        this.searchIconSpinner = false;\n        \n        \n\n        if(error.status != 200){\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n        }else{\n          this.toastr.success(lexicalId + 'deleted correctly', '', {\n            timeOut: 5000,\n          });\n        }\n\n        this.searchIconSpinner = false;\n        this.lexicalService.deleteRequest(this.object);\n        this.lexicalEntryData = null;\n        this.isLexicalEntry = false;\n        this.object = null;\n        this.lexicalService.refreshLangTable();\n        this.lexicalService.refreshFilter({ request: true })\n        this.lexicalService.sendToCoreTab(null);\n        this.lexicalService.sendToRightTab(null);\n        this.biblioService.sendDataToBibliographyPanel(null);\n\n        this.expand.expandCollapseEdit(false);\n        this.expand.openCollapseEdit(false)\n        if (this.expand.isEpigraphyOpen) {\n          this.expand.expandCollapseEpigraphy();\n        }\n      }\n    )\n  }\n\n  deleteForm() {\n    this.searchIconSpinner = true;\n    let lexicalId = this.object.form;\n    this.lexicalService.deleteForm(lexicalId).pipe(takeUntil(this.destroy$)).subscribe(\n      data => {\n        this.searchIconSpinner = false;\n        this.lexicalService.sendToCoreTab(null)\n        this.lexicalService.deleteRequest(this.object);\n        this.isForm = false;\n        this.object = null;\n        this.toastr.success(lexicalId + 'deleted correctly', '', {\n          timeOut: 5000,\n        });\n      }, error => {\n        console.log(error)\n        this.searchIconSpinner = false;\n        this.lexicalService.deleteRequest(this.object);\n        if (error.status != 200) {\n          this.toastr.error(error.message, 'Error', { timeOut: 5000 })\n        }else {\n          this.toastr.success(lexicalId + 'deleted correctly', '', {\n            timeOut: 5000,\n          });\n        }\n        this.lexicalService.sendToCoreTab(null)\n\n      }\n    )\n  }\n\n  deleteSense() {\n    this.searchIconSpinner = true;\n    let lexicalId = this.object.sense;\n\n    this.lexicalService.deleteSense(lexicalId).pipe(takeUntil(this.destroy$)).subscribe(\n      data => {\n        console.log(data)\n        /* this.searchIconSpinner = false;\n        this.lexicalService.deleteRequest(this.object);\n        this.isSense = false;\n        this.object = null;\n        this.lexicalService.sendToCoreTab(null)\n\n        this.toastr.success(lexicalId + 'deleted correctly', '', {\n          timeOut: 5000,\n        }); */\n      }, error => {\n        console.log(error)\n        if(error.status == 200){\n          this.searchIconSpinner = false;\n          this.toastr.success(lexicalId + 'deleted correctly', '', {\n            timeOut: 5000,\n          });\n          this.lexicalService.deleteRequest(this.object);\n          this.lexicalService.sendToCoreTab(null)\n\n        }else{\n          this.toastr.error('Error on deleting' + lexicalId, '', {\n            timeOut: 5000,\n          });\n        }\n        \n      }\n    )\n  }\n\n  addNewForm() {\n    this.searchIconSpinner = true;\n    /* console.log(this.object) */\n    this.object['request'] = 'form'\n    if (this.isLexicalEntry) {\n      let lexicalId = this.object.lexicalEntry;\n      this.lexicalService.createNewForm(lexicalId).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          this.toastr.success('Form added correctly', '', {\n            timeOut: 5000,\n          });\n          console.log(data);\n          if (data['creator'] == this.object.creator) {\n            data['flagAuthor'] = false;\n          } else {\n            data['flagAuthor'] = true;\n          }\n          this.lexicalService.addSubElementRequest({ 'lex': this.object, 'data': data });\n          this.searchIconSpinner = false;\n        }, error => {\n          console.log(error)\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n          this.searchIconSpinner = false;\n        }\n      )\n    } else if (this.isForm) {\n      let parentNodeInstanceName = this.object.parentNodeInstanceName;\n      //console.log(this.object);\n      this.object['request'] = 'form';\n      this.object['lexicalEntry'] = parentNodeInstanceName\n      this.lexicalService.createNewForm(parentNodeInstanceName).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          if (data['creator'] == this.object.creator) {\n            data['flagAuthor'] = false;\n          } else {\n            data['flagAuthor'] = true;\n          }\n          this.lexicalService.addSubElementRequest({ 'lex': this.object, 'data': data });\n          this.searchIconSpinner = false;\n          this.toastr.success('Form added correctly', '', {\n            timeOut: 5000,\n          });\n        }, error => {\n          //console.log(error)\n          this.searchIconSpinner = false;\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n        }\n      )\n    } else if (this.isSense) {\n      let parentNodeInstanceName = this.object.parentNodeInstanceName;\n      this.object['request'] = 'form';\n      this.object['lexicalEntry'] = parentNodeInstanceName\n      //console.log(this.object);\n      this.lexicalService.createNewForm(parentNodeInstanceName).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          if (data['creator'] == this.object.creator) {\n            data['flagAuthor'] = false;\n          } else {\n            data['flagAuthor'] = true;\n          }\n          this.lexicalService.addSubElementRequest({ 'lex': this.object, 'data': data });\n          this.searchIconSpinner = false;\n          this.toastr.success('Form added correctly', '', {\n            timeOut: 5000,\n          });\n        }, error => {\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n          this.searchIconSpinner = false;\n        }\n      )\n    }\n\n  }\n\n  addLexicalConcept(){\n    this.searchIconSpinner = true;\n    this.object['request'] = 'lexicalConcept';\n\n    this.conceptService.createNewLexicalConcept().pipe(takeUntil(this.destroy$)).subscribe(\n      data=>{\n        if (data['creator'] == this.object.creator) {\n          data['flagAuthor'] = false;\n        } else {\n          data['flagAuthor'] = true;\n        }\n\n        let parameters = {\n          relation : \"http://www.w3.org/2004/02/skos/core#narrower\",\n          source : data['lexicalConcept'],\n          target : this.object['lexicalConcept']\n        }\n        this.conceptService.updateSemanticRelation(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n          data=> {\n            console.log(data);\n          },error=>{\n            console.log(error);\n            if(error.status == 200){\n              data['children'] = undefined;\n              data['hasChildren'] = true;\n              this.conceptService.addSubElementRequest({ 'lex': this.object, 'data': data });\n              this.searchIconSpinner = false;\n              this.toastr.success('Lexical Concept added correctly', '', {\n                timeOut: 5000,\n              });\n            }else{\n              this.toastr.error(error.error, 'Error', {\n                timeOut: 5000,\n              });\n            }\n          }\n        );\n\n      },error=> {\n        this.searchIconSpinner = false;\n        this.toastr.error(error.error, 'Error', {\n          timeOut: 5000,\n        });\n      }\n    )\n  }\n\n  addNewSense() {\n    this.searchIconSpinner = true;\n    this.object['request'] = 'sense'\n    if (this.isLexicalEntry) {\n      let lexicalId = this.object.lexicalEntry;\n      this.lexicalService.createNewSense(lexicalId).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          if (data['creator'] == this.object.creator) {\n            data['flagAuthor'] = false;\n          } else {\n            data['flagAuthor'] = true;\n          }\n          this.lexicalService.addSubElementRequest({ 'lex': this.object, 'data': data });\n          this.searchIconSpinner = false;\n          this.toastr.success('Sense added correctly', '', {\n            timeOut: 5000,\n          });\n        }, error => {\n          this.searchIconSpinner = false;\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n\n        }\n      )\n    } else if (this.isSense) {\n      let parentNodeInstanceName = this.object.parentNodeInstanceName;\n      this.object['lexicalEntry'] = parentNodeInstanceName\n      this.object['request'] = 'sense'\n      //console.log(this.object);\n      this.lexicalService.createNewSense(parentNodeInstanceName).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          if (data['creator'] == this.object.creator) {\n            data['flagAuthor'] = false;\n          } else {\n            data['flagAuthor'] = true;\n          }\n          this.lexicalService.addSubElementRequest({ 'lex': this.object, 'data': data });\n          this.searchIconSpinner = false;\n          this.toastr.success('Sense added correctly', '', {\n            timeOut: 5000,\n          });\n        }, error => {\n          this.searchIconSpinner = false;\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n        }\n      )\n    } else if (this.isForm) {\n      let parentNodeInstanceName = this.object.parentNodeInstanceName;\n      this.object['lexicalEntry'] = parentNodeInstanceName\n      this.object['request'] = 'sense'\n      //console.log(this.object);\n      this.lexicalService.createNewSense(parentNodeInstanceName).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          if (data['creator'] == this.object.creator) {\n            data['flagAuthor'] = false;\n          } else {\n            data['flagAuthor'] = true;\n          }\n          this.lexicalService.addSubElementRequest({ 'lex': this.object, 'data': data });\n          this.searchIconSpinner = false;\n          this.toastr.success('Sense added correctly', '', {\n            timeOut: 5000,\n          });\n          //this.lexicalService.refreshLexEntryTree();\n        }, error => {\n          this.searchIconSpinner = false;\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n          //this.lexicalService.refreshLexEntryTree();\n        }\n      )\n    }\n\n  }\n\n  addNewEtymology() {\n    this.searchIconSpinner = true;\n    this.object['request'] = 'etymology'\n    let parentNodeInstanceName = '';\n    if (this.object.lexicalEntry != undefined\n      && this.object.sense == undefined && this.object.form == undefined) {\n      console.log(1)\n      parentNodeInstanceName = this.object.lexicalEntry;\n    } else if (this.object.form != undefined) {\n      parentNodeInstanceName = this.object.parentNodeInstanceName;\n      this.object['lexicalEntry'] = parentNodeInstanceName\n      console.log(2)\n    } else if (this.object.sense != undefined) {\n      parentNodeInstanceName = this.object.parentNodeInstanceName;\n      this.object['lexicalEntry'] = parentNodeInstanceName\n      console.log(3)\n    }\n\n    console.log(parentNodeInstanceName)\n    this.lexicalService.createNewEtymology(parentNodeInstanceName).pipe(takeUntil(this.destroy$)).subscribe(\n      data => {\n        console.log(data)\n        if (data['creator'] == this.object.creator) {\n          data['flagAuthor'] = false;\n        } else {\n          data['flagAuthor'] = true;\n        }\n        this.lexicalService.addSubElementRequest({ 'lex': this.object, 'data': data });\n        this.searchIconSpinner = false;\n        this.toastr.success('Etymology added correctly', '', {\n          timeOut: 5000,\n        });\n      }, error => {\n        this.searchIconSpinner = false;\n      }\n    )\n\n  }\n\n  showBiblioModal() {\n    this.modal.show();\n  }\n\n  addBibliographyItem(item?) {\n    //@ts-ignore\n    $(\"#biblioModal\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.ui-modal');\n    //@ts-ignore\n    $('#biblioModal').modal({ backdrop: 'static', keyboard: false })\n\n    $('.modal-backdrop').css('height', 'inherit');\n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n\n    let instance = '';\n    if (this.object.lexicalEntry != undefined\n      && this.object.sense == undefined\n      && this.object.form == undefined) {\n      instance = this.object.lexicalEntry;\n    } else if (this.object.form != undefined) {\n      instance = this.object.form;\n    } else if (this.object.sense != undefined) {\n      instance = this.object.sense;\n    }\n\n    if (item != undefined) {\n\n      let id = item.data.key != undefined ? item.data.key : '';\n      let title = item.data.title.replace(\"\\\"\", '') != undefined ? item.data.title : '';\n      let author;\n\n      item.data.creators.forEach(element => {\n        if (element.creatorType == 'author') {\n          author = element.lastName + ' ' + element.firstName;\n          return true;\n        } else {\n          return false;\n        }\n      });\n      author = author != undefined ? author : ''\n      let date = item.data.date != undefined ? item.data.date : '';\n      let url = item.data.url != undefined ? item.data.url : ''\n      let seeAlsoLink = '';\n\n      let parameters = {\n        id: id,\n        title: title,\n        author: author,\n        date: date,\n        url: url,\n        seeAlsoLink: seeAlsoLink\n      }\n      console.log(instance, parameters)\n      this.lexicalService.addBibliographyData(instance, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data);\n          setTimeout(() => {\n            //@ts-ignore\n            $('#biblioModal').modal('hide');\n            $('.modal-backdrop').remove();\n            this.toastr.success('Item added, check bibliography panel', '', {\n              timeOut: 5000,\n            });\n            this.biblioService.triggerPanel(data)\n            setTimeout(() => {\n              this.modal.hide();\n            }, 10);\n          }, 300);\n          this.biblioService.sendDataToBibliographyPanel(data);\n        }, error => {\n          console.log(error)\n          if (typeof (error.error) == 'string' && error.error.length < 1000) {\n            this.toastr.error(error.error, '', {\n              timeOut: 5000,\n            });\n          } else {\n            this.toastr.error(error.statusText, '', {\n              timeOut: 5000,\n            });\n          }\n\n          setTimeout(() => {\n            //@ts-ignore\n            $('#biblioModal').modal('hide');\n            $('.modal-backdrop').remove();\n\n            setTimeout(() => {\n              this.modal.hide();\n            }, 10);\n          }, 300);\n\n        }\n      )\n    }\n\n  }\n\n  checkIfCreatorExist(item?) {\n    return item.some(element => element.creatorType === 'author')\n  }\n\n  triggerSearch(evt, query, queryMode) {\n    if (evt.key != 'Control' && evt.key != 'Shift' && evt.key != 'Alt') {\n      this.searchSubject.next({ query, queryMode })\n    }\n  }\n\n  searchBibliography(query?: string, queryMode?: any) {\n    this.start = 0;\n    this.selectedItem = null;\n    //@ts-ignore\n    $(\"#biblioModal\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.table-body');\n    //@ts-ignore\n    $('#biblioModal').modal({ backdrop: 'static', keyboard: false })\n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n    this.tableBody.nativeElement.scrollTop = 0;\n    if (this.queryTitle != '') {\n      this.biblioService.filterBibliography(this.start, this.sortField, this.direction, this.queryTitle, this.queryMode).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data);\n          this.bibliography = [];\n          data.forEach(element => {\n            this.bibliography.push(element)\n          });\n          //@ts-ignore\n          $('#biblioModal').modal('hide');\n          $('.modal-backdrop').remove();\n        },\n        error => {\n          console.log(error)\n        }\n      )\n    } else {\n      this.biblioService.filterBibliography(this.start, this.sortField, this.direction, this.queryTitle, this.queryMode).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data);\n          this.bibliography = [];\n          data.forEach(element => {\n            this.bibliography.push(element)\n          });\n          //@ts-ignore\n          $('#biblioModal').modal('hide');\n          $('.modal-backdrop').remove();\n        },\n        error => {\n          console.log(error)\n        }\n      )\n    }\n  }\n\n  onScrollDown() {\n    //@ts-ignore\n    $(\"#biblioModal\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.table-body');\n    //@ts-ignore\n    $('#biblioModal').modal({ backdrop: 'static', keyboard: false })\n    $('.modal-backdrop').appendTo('.table-body');\n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n\n    this.start += 25;\n\n    if (this.queryTitle != '') {\n      this.biblioService.filterBibliography(this.start, this.sortField, this.direction, this.queryTitle, this.queryMode).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data)\n          //@ts-ignore\n          $('#biblioModal').modal('hide');\n          $('.modal-backdrop').remove();\n          data.forEach(element => {\n            this.bibliography.push(element)\n          });\n        }, error => {\n          console.log(error)\n        }\n      )\n    } else {\n      this.biblioService.filterBibliography(this.start, this.sortField, this.direction, this.queryTitle, this.queryMode).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n\n          data.forEach(element => {\n            this.bibliography.push(element)\n          });\n\n          //@ts-ignore\n          $('#biblioModal').modal('hide');\n          $('.modal-backdrop').remove();\n        }, error => {\n          console.log(error)\n        }\n      );\n    }\n\n\n  }\n\n  selectItem(evt, i) {\n    /* console.log(evt, i); */\n    if (evt.shiftKey) {\n\n    }\n    this.bibliography.forEach(element => {\n      if (element.key == i.key) {\n        element.selected = !element.selected;\n        element.selected ? this.selectedItem = element : this.selectedItem = null;\n        return true;\n      } else {\n        element.selected = false;\n        return false;\n      }\n    })\n\n  }\n\n  sortBibliography(evt?, val?) {\n\n\n    if (this.memorySort.field == val) {\n      if (this.direction == 'asc') {\n        this.direction = 'desc'\n        this.memorySort.direction = 'desc';\n      } else {\n        this.direction = 'asc';\n        this.memorySort.direction = 'asc';\n      }\n    } else {\n      this.sortField = val;\n      this.direction = 'asc';\n      this.memorySort = { field: this.sortField, direction: this.direction };\n    }\n\n    //@ts-ignore\n    $(\"#biblioModal\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.table-body');\n    //@ts-ignore\n    $('#biblioModal').modal({ backdrop: 'static', keyboard: false })\n    $('.modal-backdrop').appendTo('.table-body');\n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n    this.start = 0;\n    this.tableBody.nativeElement.scrollTop = 0;\n\n    this.biblioService.filterBibliography(this.start, this.sortField, this.direction, this.queryTitle, this.queryMode).pipe(takeUntil(this.destroy$)).subscribe(\n      data => {\n        console.log(data)\n        this.bibliography = [];\n        //@ts-ignore\n        $('#biblioModal').modal('hide');\n        $('.modal-backdrop').remove();\n        data.forEach(element => {\n          this.bibliography.push(element)\n        });\n      }, error => {\n        console.log(error)\n      }\n    )\n\n  }\n\n  onCloseModal() {\n    this.selectedItem = null;\n    this.start = 0;\n    this.sortField = 'title';\n    this.direction = 'asc';\n    this.tableBody.nativeElement.scrollTop = 0;\n    this.memorySort = { field: this.sortField, direction: this.direction }\n    this.biblioService.bootstrapData(this.start, this.sortField, this.direction).pipe(takeUntil(this.destroy$)).subscribe(\n      data => {\n        this.bibliography = data;\n        this.bibliography.forEach(element => {\n          element['selected'] = false;\n        })\n\n\n      }, error => {\n        console.log(error)\n      }\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.core_data_subscription.unsubscribe();\n    this.expand_edit_subscription.unsubscribe();\n    this.expand_epi_subscription.unsubscribe();\n    this.update_core_card_subscription.unsubscribe();\n    this.spinner_subscription.unsubscribe();\n    this.search_subject_subscription.unsubscribe();\n    this.biblio_bootstrap_subscription.unsubscribe();\n\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n}\n","\n<div id=\"cardsAccordion\" class=\"accordion\" [hidden]=\"object == null\">\n\n    <div class=\"card my-2\">\n        <div class=\"card-header\">\n            <h5 class=\"mb-0 w-100 d-flex justify-content-between align-self-center\">\n                <div>\n                    <span class=\"btn\" *ngIf=\"object != null\">\n                        <span *ngIf=\"isLexicalEntry\">\n                            Lexical Entry\n                        </span>\n                        <span *ngIf=\"isSense\">\n                            Sense\n                        </span>\n                        <span *ngIf=\"isForm\">\n                            Form\n                        </span>\n                        <span *ngIf=\"isEtymology\">\n                            Etymology\n                        </span>\n                        <span *ngIf=\"isConceptSet\">\n                            Concept Set\n                        </span>\n                        <span *ngIf=\"isLexicalConcept\">\n                            Lexical Concept\n                        </span>\n                        CREATED BY {{creator}} ON {{creationDate | date :'dd/MM/yyyy hh:mm:ss'}}\n                    </span>\n                </div>\n                <div>\n                    <div class=\"spinner-border spinner-border-sm m-1\" role=\"status\" *ngIf=\"searchIconSpinner\">\n                        <span class=\"sr-only\">Loading...</span>\n                    </div>\n                    <button class=\"btn btn-link\" *ngIf=\"isLexicalEntry\" (click)=\"removeElementModal.show()\">\n                        <i class=\"fa fa-trash\"></i>\n                    </button>\n                    <button class=\"btn btn-link\" *ngIf=\"isForm\" title=\"delete form\" (click)=\"removeElementModal.show()\">\n                        <i class=\"fa fa-trash\"></i>\n                    </button>\n                    <button class=\"btn btn-link\" *ngIf=\"isSense\" title=\"delete sense\"\n                        (click)=\"removeElementModal.show()\">\n                        <i class=\"fa fa-trash\"></i>\n                    </button>\n                    <button class=\"btn btn-link\" *ngIf=\"isConceptSet\" title=\"delete conceptSet\"\n                        (click)=\"removeElementModal.show()\">\n                        <i class=\"fa fa-trash\"></i>\n                    </button>\n                    <button class=\"btn btn-link\" *ngIf=\"isLexicalConcept\" title=\"delete lexical Concept\"\n                        (click)=\"removeElementModal.show()\">\n                        <i class=\"fa fa-trash\"></i>\n                    </button>\n                    <button class=\"btn btn-link\" (click)=\"changeStatus()\" *ngIf=\"isLexicalEntry\">\n                        <i class=\"fa fa-circle\" [hidden]=\"lock!=0\" style=\"color: red\"></i>\n                        <i class=\"fa fa-circle\" [hidden]=\"lock!=1\" style=\"color: yellow\"></i>\n                        <i class=\"fa fa-circle locked-tooltip\" [hidden]=\"lock!=2\" data-toggle=\"tooltip\"\n                            data-placement=\"bottom\" data-html=\"true\" title=\"Locked tooltip\" style=\"color:green;\"></i>\n                    </button>\n                </div>\n            </h5>\n        </div>\n        <div #expander [@slideInOut]=\"exp_trig\" class=\"card-body core-tab-body\">\n            \n            <div id=\"coreTabModal\" class=\"modal fade\" role=\"dialog\">\n                <div class=\"modal-dialog\">\n\n                    <!-- Modal content-->\n                    <div class=\"modal-content\">\n                        <div class=\"modal-body\">\n                            <div class=\"d-flex justify-content-center\">\n                                <div class=\"spinner-border\" role=\"status\">\n                                    <span class=\"sr-only\">Loading...</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n            <app-lexical-entry-core-form [lexData]=\"lexicalEntryData\" *ngIf=\"isLexicalEntry\"></app-lexical-entry-core-form>\n            <app-form-core-form [formData]=\"formData\" *ngIf=\"isForm\"></app-form-core-form>\n            <app-sense-core-form [senseData]=\"senseData\" *ngIf=\"isSense\"></app-sense-core-form>\n            <app-lexical-concept-form [lexicalConceptData]=\"lexicalConceptData\" *ngIf=\"isLexicalConcept\"></app-lexical-concept-form>\n            <app-concept-set-core-form [conceptSetData]=\"conceptSetData\" *ngIf=\"isConceptSet\"></app-concept-set-core-form>\n        </div>\n        <div class=\"card-footer text-muted\">\n            <div class=\"w-100 d-flex justify-content-between align-items-center\">\n                <div *ngIf=\"object != null\">\n                    <span class=\"pl-2\">LAST UPDATE ON {{lastUpdateDate | date :'dd/MM/yyyy hh:mm:ss'}}</span>\n                </div>\n                <div class=\"btn-group dropup dropleft\">\n                    <button class=\"btn btn-success\" type=\"button\" id=\"dropdownAddLemma\" data-toggle=\"dropdown\"\n                        aria-haspopup=\"true\" aria-expanded=\"false\"> <i class=\"fas fa-plus\"></i> </button>\n                    <div class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"dropdownAddLemma\">\n                        <button class=\"dropdown-item\" *ngIf=\"!isConceptSet && !isLexicalConcept\" title=\"add new form\" (click)=\"addNewForm()\">Add Form</button>\n                        <button class=\"dropdown-item\" *ngIf=\"!isConceptSet && !isLexicalConcept\" title=\"add new sense\" (click)=\"addNewSense()\">Add Sense</button>\n                        <button class=\"dropdown-item\" *ngIf=\"!isConceptSet && !isLexicalConcept\" title=\"add new etymology\" (click)=\"addNewEtymology()\">Add Etymology</button>\n                        <button class=\"dropdown-item\" *ngIf=\"!isConceptSet && !isLexicalConcept\" title=\"add new bibliography item\" (click)=\"showBiblioModal()\">Add Bibliography</button>\n                        <button class=\"dropdown-item\" *ngIf=\"isConceptSet\" title=\"add new Lexical Concept (child)\" (click)=\"addLexicalConcept()\">Add Lexical Concept (child)</button>\n                        <button class=\"dropdown-item\" *ngIf=\"isLexicalConcept\" title=\"add new Lexical Concept (child)\" (click)=\"addLexicalConcept()\">Add Lexical Concept (child)</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<app-modal #removeElementModal class=\"remove_element_modal\">\n    <ng-container class=\"app-modal-header\"></ng-container>\n    <ng-container class=\"app-modal-body\">\n        <div class=\"card\">\n            <div class=\"card-body\" *ngIf=\"object != null\">\n                <div class=\"form-group row ml-2 mt-3 mr-2\" *ngIf=\"isLexicalEntry\">\n                    <label for=\"inputLabel\" class=\"col-lg-12 col-form-label\"\n                        style=\"font-size: 12px; text-align: center\">Are you sure to delete {{object.label}}?</label>\n                </div>\n                <div class=\"form-group row ml-2 mt-3 mr-2\" *ngIf=\"isForm\">\n                    <label for=\"inputLabel\" class=\"col-lg-12 col-form-label\"\n                        style=\"font-size: 12px; text-align: center\">Are you sure to delete\n                        {{object.label[0]['propertyValue']}}?</label>\n                </div>\n                <div class=\"form-group row ml-2 mt-3 mr-2\" *ngIf=\"isSense\">\n                    <label for=\"inputLabel\" class=\"col-lg-12 col-form-label\"\n                        style=\"font-size: 12px; text-align: center\">Are you sure to delete\n                        {{object.sense}}?</label>\n                </div>\n                <div class=\"form-group row ml-2 mt-3 mr-2\" *ngIf=\"isConceptSet\">\n                    <label for=\"inputLabel\" class=\"col-lg-12 col-form-label\"\n                        style=\"font-size: 12px; text-align: center\">Are you sure to delete\n                        {{object.conceptSet}}?</label>\n                </div>\n                <div class=\"form-group row ml-2 mt-3 mr-2\" *ngIf=\"isLexicalConcept\">\n                    <label for=\"inputLabel\" class=\"col-lg-12 col-form-label\"\n                        style=\"font-size: 12px; text-align: center\">Are you sure to delete\n                        {{object.lexicalConcept}}?</label>\n                </div>\n                <div class=\"form-group row ml-2 mt-3 mr-2 justify-content-md-center\">\n                    <div class=\"input-group col-lg-5 justify-content-md-center\"\n                        style=\"align-items: center; text-align: center;\">\n                        <div class=\"input-group-append ml-2\" *ngIf=\"isLexicalEntry\">\n                            <button class=\"btn btn-success\" type=\"button\"\n                                (click)=\"deleteLexicalEntry(); removeElementModal.hide()\"><i\n                                    class=\"fas fa-check\"></i></button>\n                        </div>\n                        <div class=\"input-group-append ml-2\" *ngIf=\"isConceptSet\">\n                            <button class=\"btn btn-success\" type=\"button\"\n                                (click)=\"deleteConceptSet(); removeElementModal.hide()\"><i\n                                    class=\"fas fa-check\"></i></button>\n                        </div>\n                        <div class=\"input-group-append ml-2\" *ngIf=\"isLexicalConcept\">\n                            <button class=\"btn btn-success\" type=\"button\"\n                                (click)=\"deleteLexicalConcept(); removeElementModal.hide()\"><i\n                                    class=\"fas fa-check\"></i></button>\n                        </div>\n                        <div class=\"input-group-append ml-2\" *ngIf=\"isForm\">\n                            <button class=\"btn btn-success\" type=\"button\"\n                                (click)=\"deleteForm(); removeElementModal.hide()\"><i class=\"fas fa-check\"></i></button>\n                        </div>\n                        <div class=\"input-group-append ml-2\" *ngIf=\"isSense\">\n                            <button class=\"btn btn-success\" type=\"button\"\n                                (click)=\"deleteSense(); removeElementModal.hide()\"><i class=\"fas fa-check\"></i></button>\n                        </div>\n                        <div class=\"input-group-append ml-2\">\n                            <button class=\"btn btn-danger\" type=\"button\" (click)=\"removeElementModal.hide()\"><i\n                                    class=\"fas fa-times\"></i></button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </ng-container>\n</app-modal>\n\n<app-modal #addBibliography class=\"biblio_modal\" [backdrop]=\"false\" [inViewport]=\"true\" (closeModal)=\"onCloseModal()\">\n\n    <ng-container class=\"app-modal-header\">\n        <img src=\"../../../../../../assets/images/zotero_logo.png\">\n        <span class=\"ml-2 biblio-header-title\">Library: PRIN Italia Antica</span>\n    </ng-container>\n\n    <ng-container class=\"app-modal-body\">\n        <!-- SEARCH BAR -->\n        <div class=\"w-25 pt-1 pb-1\">\n            <div class=\"input-group mb-3\" *ngIf=\"{switch : false}; let variable\">\n                <div class=\"input-group-prepend\">\n                    <button class=\"btn btn-outline-secondary dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\"\n                        aria-haspopup=\"true\" aria-expanded=\"false\"><i class=\"fa fa-search\"></i></button>\n                    <div class=\"dropdown-menu\">\n                        <a [class.disable_click_fire]=\"!variable.switch\" class=\"dropdown-item\" style=\"cursor: pointer;\"\n                            (click)=\"variable.switch = false; searchBibliography(searchBiblio.value, variable.switch);\">Normal</a>\n                        <a [class.disable_click_fire]=\"variable.switch\" class=\"dropdown-item\" style=\"cursor: pointer;\"\n                            (click)=\"variable.switch = true; searchBibliography(searchBiblio.value, variable.switch);\">Full\n                            Text</a>\n                    </div>\n                </div>\n                <input #searchBiblio (keyup)=\"triggerSearch($event, searchBiblio.value, variable.switch)\" type=\"text\"\n                    class=\"form-control\" aria-label=\"Text input with dropdown button\"\n                    [placeholder]=\"variable.switch ?'Title, creator, year + Full Text' : 'Title, creator, year'\"\n                    style=\"font-size: 12px;\">\n            </div>\n\n        </div>\n        <!-- {{'start: '+start + ' sortField: '+ sortField + ' direction: '+ direction + ' queryTitle: '+ queryTitle + ' queryMode: '+ queryMode}} -->\n\n        <!-- SKELETON CONTAINER -->\n        <div class=\"container-fluid\">\n            <div class=\"row\">\n                <div class=\"col-md-8 pl-0\">\n\n\n                    <!-- TABLE -->\n                    <div class=\"table-responsive table-body\">\n                        <div id=\"biblioModal\" class=\"modal fade\" role=\"dialog\">\n                            <div class=\"modal-dialog\">\n\n                                <!-- Modal content-->\n                                <div class=\"modal-content\">\n                                    <div class=\"modal-body\">\n                                        <div class=\"d-flex justify-content-center\">\n                                            <div class=\"spinner-border\" role=\"status\">\n                                                <span class=\"sr-only\">Loading...</span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n\n                            </div>\n                        </div>\n                        \n                        <table class=\"table table-striped table-hover\" [hidden]=\"bibliography.length == 0\">\n                            <thead>\n                                <tr>\n                                    <th scope=\"col\" style=\"width: 50%; cursor: pointer;\" (click)=\"sortBibliography($event, 'title')\">\n                                        <span>Title</span>\n                                        <span class=\"float-right\">\n                                            <i class=\"fas fa-sort-up\" *ngIf=\"direction == 'asc' && sortField == 'title'\"></i>\n                                            <i class=\"fas fa-sort-down\" *ngIf=\"direction == 'desc' && sortField == 'title'\"></i>\n                                        </span>\n                                    </th>\n                                    <th scope=\"col\" style=\"width: 30%; cursor: pointer;\" (click)=\"sortBibliography($event, 'creator')\">\n                                        <span>Creator</span>\n                                        <span class=\"float-right\">\n                                            <i class=\"fas fa-sort-up\" *ngIf=\"direction == 'asc' && sortField == 'creator'\"></i>\n                                            <i class=\"fas fa-sort-down\" *ngIf=\"direction == 'desc' && sortField == 'creator'\"></i>\n                                        </span>\n                                    </th>\n                                    <th scope=\"col\" style=\"width: 20%; cursor: pointer;\" (click)=\"sortBibliography($event, 'date')\">\n                                        <span>Date</span>\n                                        <span class=\"float-right\">\n                                            <i class=\"fas fa-sort-up\" *ngIf=\"direction == 'asc' && sortField == 'date'\"></i>\n                                            <i class=\"fas fa-sort-down\" *ngIf=\"direction == 'desc' && sortField == 'date'\"></i>\n                                        </span>\n                                    </th>\n                                </tr>\n                            </thead>\n                            <tbody #table_body infiniteScroll [infiniteScrollDistance]=\"0.4\"\n                                [infiniteScrollThrottle]=\"150\" [scrollWindow]=\"false\" (scrolled)=\"onScrollDown()\">\n\n\n                                <tr *ngFor=\"let item of bibliography\" (click)=\"selectItem($event, item)\"\n                                    [ngClass]=\"item?.selected ? 'selected' : ''\" style=\"cursor: pointer;\">\n                                    <td style=\"width: 50%\">\n                                        <span *ngIf=\"item.data.itemType == 'book'\" class=\"pl-1 pr-1\">\n                                            <i class=\"fas fa-book\"></i>\n                                        </span>\n                                        <span *ngIf=\"item.data.itemType == 'bookSection'\" class=\"pl-1 pr-1\">\n                                            <i class=\"fas fa-book-open\"></i>\n                                        </span>\n                                        <span *ngIf=\"item.data.itemType == 'journalArticle'\" class=\"pl-1 pr-1\">\n                                            <i class=\"far fa-newspaper\"></i>\n                                        </span>\n                                        <span *ngIf=\"item.data.itemType == 'note'\" class=\"pl-1 pr-1\">\n                                            <i class=\"far fa-clipboard\"></i>\n                                        </span>\n                                        <span *ngIf=\"item.data.itemType == 'attachment'\" class=\"pl-1 pr-1\">\n                                            <i class=\"fas fa-paperclip\"></i>\n                                        </span>\n                                        <span *ngIf=\"item.data.itemType == 'conferencePaper'\" class=\"pl-1 pr-1\">\n                                            <i class=\"fas fa-chalkboard-teacher\"></i>\n                                        </span>\n                                        <span\n                                            *ngIf=\"item.data.title != undefined && item.data.title != ''\">{{item.data.title |titlecase}}</span>\n                                        <span *ngIf=\"item.data.title == undefined || item.data.title == ''\"\n                                            class=\"font-italic\">No title</span>\n                                    </td>\n                                    <td style=\"width: 30%\">\n                                        <span *ngIf=\"item.data.creators != undefined\">\n                                            <span *ngFor=\"let author of item.data.creators; let i = index\">\n                                                <span *ngIf=\"author.creatorType == 'author'\">\n                                                    {{author.lastName | titlecase}} {{author.firstName | titlecase}} \n                                                </span>\n                                            </span>\n                                            <span *ngIf=\"!checkIfCreatorExist(item.data.creators)\"\n                                                class=\"font-italic\">No data</span>\n                                        </span>\n                                        <span *ngIf=\"item.data.creators == undefined\" class=\"font-italic\">No data</span>\n                                    </td>\n                                    <td style=\"width: 20%\">\n                                        <span *ngIf=\"item.data.date != undefined && item.data.date != ''\">\n                                            {{item.data.date | titlecase}}\n                                        </span>\n                                        <span *ngIf=\"item.data.date == undefined || item.data.date == ''\"\n                                            class=\"font-italic\">\n                                            No info\n                                        </span>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <p class=\"font-italic text-muted no-results\" *ngIf=\"bibliography.length == 0\">No results</p>\n                    </div>\n\n\n                </div>\n                <div class=\"col-md-4\" style=\"font-size: 14px;\">\n                    <div class=\"row\">\n                        <div class=\"col-md-12 item-description\"\n                            style=\"height: calc(100vh - 37rem); overflow: auto; font-size: 13px;\">\n                            <div *ngIf=\"!selectedItem\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-12\">\n                                        <p class=\"text-muted text-center align-middle mb-1 font-italic\">\n                                            No item selected\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div *ngIf=\"selectedItem\">\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.itemType != '' && selectedItem.data.itemType != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Item type\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.itemType | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.title != '' && selectedItem.data.title != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Title\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.title | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.creators != undefined && selectedItem.data.creators.length > 0 && checkIfCreatorExist(selectedItem.data.creators)\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Author\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <span *ngFor=\"let author of selectedItem.data.creators\">\n                                            <span *ngIf=\"author.creatorType == 'author'\">\n                                                <p class=\"font-weight-normal mb-1\">\n                                                    {{author.firstName | titlecase}} {{author.lastName | titlecase}}\n                                                </p>\n                                            </span>\n                                        </span>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.creators != undefined && selectedItem.data.creators.length > 0\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Editor\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <span *ngFor=\"let editor of selectedItem.data.creators\">\n                                            <span *ngIf=\"editor.creatorType == 'editor'\">\n                                                <p class=\"font-weight-normal mb-1\">\n                                                    {{editor.firstName | titlecase}} {{editor.lastName | titlecase}}\n                                                </p>\n                                            </span>\n                                        </span>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.publicationTitle != '' && selectedItem.data.publicationTitle != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Publication\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.publicationTitle | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.publisher != '' && selectedItem.data.publisher != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Publisher\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.publisher | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.issue != '' && selectedItem.data.issue != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Issue\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.issue | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.pages != '' && selectedItem.data.pages != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Pages\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.pages | titlecase }}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.place != '' && selectedItem.data.place != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Place\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.place | titlecase }}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.date != '' && selectedItem.data.pages != date\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Date\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.date | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.journalAbbreviation != '' && selectedItem.data.journalAbbreviation != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Journal Abbr\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.journalAbbreviation | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.DOI != '' && selectedItem.data.DOI != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            <a class=\"text-muted\" href=\"{{'https://doi.org/'+selectedItem.data.DOI}}\"\n                                                target=\"_blank\">DOI <i class=\"fas fa-external-link-alt\"></i></a>\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.DOI | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.ISSN != '' && selectedItem.data.ISSN != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            ISSN\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.ISSN | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.url != '' && selectedItem.data.url != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            <a class=\"text-muted\" href=\"{{selectedItem.data.url}}\" target=\"_blank\">URL\n                                                <i class=\"fas fa-external-link-alt\"></i></a>\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.url}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.accessDate != '' && selectedItem.data.accessDate != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Accessed\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.accessDate}}\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-md-12\" style=\"height: calc(40vh - 10rem); overflow: auto; font-size: 13px;\">\n                            <div *ngIf=\"!selectedItem\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-12\">\n                                        <p class=\"text-muted text-center align-middle mb-1 font-italic\">\n                                            No item selected\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div\n                                *ngIf=\"selectedItem && (selectedItem.data.abstractNote == '' || selectedItem.data.abstractNote == undefined)\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-12\">\n                                        <p class=\"text-muted text-center align-middle mb-1 font-italic\">\n                                            No info\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div\n                                *ngIf=\"selectedItem && (selectedItem.data.abstractNote != '' && selectedItem.data.abstractNote != undefined)\">\n                                <p class=\"text-muted font-weight-bold\">\n                                    Abstract\n                                </p>\n                                <p class=\"font-weight-normal\">\n                                    {{selectedItem.data.abstractNote}}\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-md-12 d-flex justify-content-end\">\n                    <button class=\"btn btn-secondary w-25\" [disabled]=\"!selectedItem\" (click)=\"addBibliographyItem(selectedItem)\">Save</button>\n                    <!-- <button class=\"btn btn-secondary\" (click)=\"addBibliography.hide()\">Close</button> -->\n                </div>\n            </div>\n        </div>\n    </ng-container>\n\n    <ng-container class=\"app-modal-footer\">\n    </ng-container>\n</app-modal>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, Input, OnDestroy, OnInit, SimpleChanges } from '@angular/core';\nimport { Subject, Subscription } from 'rxjs';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\n\nimport { FormBuilder, FormGroup, FormArray, FormControl } from '@angular/forms';\nimport { debounceTime, takeUntil } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-lexical-entry-vartrans-form',\n  templateUrl: './lexical-entry-vartrans-form.component.html',\n  styleUrls: ['./lexical-entry-vartrans-form.component.scss']\n})\nexport class LexicalEntryVartransFormComponent implements OnInit, OnDestroy {\n\n  switchInput = false;\n  subscription: Subscription;\n  object: any;\n  peopleLoading = false;\n  counter = 0;\n  componentRef: any;\n\n  destroy$ : Subject<boolean> = new Subject();\n\n  @Input() lexData : any;\n\n  vartransForm = new FormGroup({\n    label: new FormControl(''),\n    translatableAs: new FormArray([this.createTranslatableAs()]),\n    lexicalRelationDirect: new FormArray([this.createLexicalRelationDirect()]),\n    lexicalRelationIndirect: new FormArray([this.createLexicalRelationIndirect()])\n  })\n\n  translatableAs: FormArray;\n  lexicalRelationDirect: FormArray;\n  lexicalRelationIndirect: FormArray;\n  lexicalRelationIndirectSub : FormArray;\n\n  constructor( private lexicalService: LexicalEntriesService, private formBuilder: FormBuilder) {\n  }\n\n  ngOnInit() {\n    \n    this.vartransForm = this.formBuilder.group({\n      label: '',\n      translatableAs: this.formBuilder.array([this.createTranslatableAs()]),\n      lexicalRelationDirect: this.formBuilder.array([this.createLexicalRelationDirect()]),\n      lexicalRelationIndirect: this.formBuilder.array([])\n    })\n    this.onChanges();\n    this.loadPeople();\n    this.triggerTooltip();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    setTimeout(()=> {\n      if(this.object != changes.lexData.currentValue){\n        if(this.lexicalRelationIndirect != null){\n          this.lexicalRelationIndirect.clear();\n        }\n      }\n      this.loadPeople();\n      this.object = changes.lexData.currentValue;\n      if(this.object != null){\n        this.vartransForm.get('label').setValue(this.object.label, {emitEvent:false});\n        this.addLexicalRelationIndirect();\n      }\n      this.triggerTooltip();\n  }, 10)\n  }\n\n  triggerTooltip(){\n    setTimeout(() => {\n      //@ts-ignore\n      $('.vartrans-tooltip').tooltip({\n        trigger : 'hover'\n      });\n    }, 500);\n  }\n\n  private loadPeople() {\n    /* this.peopleLoading = true;\n    this.dataService.getPeople().subscribe(x => {\n      this.people = x;\n      this.peopleLoading = false;\n    }); */\n  }\n\n  onChanges(): void {\n    this.vartransForm.valueChanges.pipe(debounceTime(200), takeUntil(this.destroy$)).subscribe(searchParams => {\n      /* //console.log(searchParams) */\n    })\n  }\n\n  createTranslatableAs(): FormGroup {\n    return this.formBuilder.group({\n      entity: ''\n    })\n  }\n\n  addTranslatableAs() {\n    this.translatableAs = this.vartransForm.get('translatableAs') as FormArray;\n    this.translatableAs.push(this.createTranslatableAs());\n    this.triggerTooltip();\n  }\n\n  removeTranslatableAs(index) {\n    this.translatableAs = this.vartransForm.get('translatableAs') as FormArray;\n    this.translatableAs.removeAt(index);\n  }\n\n  addLexicalRelationDirect() {\n    this.lexicalRelationDirect = this.vartransForm.get('lexicalRelationDirect') as FormArray;\n    this.lexicalRelationDirect.push(this.createLexicalRelationDirect());\n    this.triggerTooltip();\n  }\n\n  removeLexicalRelationDirect(index) {\n    this.lexicalRelationDirect = this.vartransForm.get('lexicalRelationDirect') as FormArray;\n    this.lexicalRelationDirect.removeAt(index);\n  }\n\n  addLexicalRelationIndirect() {\n    this.lexicalRelationIndirect = this.vartransForm.get('lexicalRelationIndirect') as FormArray;\n    this.lexicalRelationIndirect.push(this.createLexicalRelationIndirect());\n    this.triggerTooltip();\n  }\n\n  removeLexicalRelationIndirect(index) {\n    this.lexicalRelationIndirect = this.vartransForm.get('lexicalRelationIndirect') as FormArray;\n    this.lexicalRelationIndirect.removeAt(index);\n  }\n\n  addLexicalRelationIndirectSub(index) {\n    const control = (<FormArray>this.vartransForm.controls['lexicalRelationIndirect']).at(index).get('sub_rel') as FormArray;\n    control.insert(index, this.createSubLexicalRelationIndirect())\n    this.triggerTooltip();\n  }\n\n  removeLexicalRelationIndirectSub(index, iy) {\n    const control = (<FormArray>this.vartransForm.controls['lexicalRelationIndirect']).at(index).get('sub_rel') as FormArray;\n    control.removeAt(iy);\n  }\n\n  createLexicalRelationDirect(): FormGroup {\n    return this.formBuilder.group({\n      relation: '',\n      entity: ''\n    })\n  }\n\n  createLexicalRelationIndirect(): FormGroup {\n    return this.formBuilder.group({\n      a_entity: '',\n      relation: '',\n      b_entity: '',\n      sub_rel: new FormArray([])\n    })\n  }\n\n  createSubLexicalRelationIndirect(): FormGroup {\n    return this.formBuilder.group({\n      sub_relation: 'eee',\n      sub_entity: ''\n    })\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n}\n","\n\n<form [formGroup]=\"vartransForm\" *ngIf=\"object!=null\">\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <label for=\"inputLabel\" class=\"col-xl-3 col-form-label\">Label:</label>\n        <div class=\"input-group col-xl-5\">\n            <input formControlName=\"label\" name=\"label\" type=\"text\" class=\"form-control\" placeholder=\"\">\n        </div>\n    </div>\n    \n    <!-- TRANSLATABLE AS -->\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <div class=\"input-group col-xl-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>TRANSLATABLE AS</b></span>\n                <a class=\"pointer\" (click)=\"addTranslatableAs()\"><span class=\"collapse-icon\"><i class=\"fa fa-plus-square\"></i></span></a>\n\n                <div class=\"card-body\">\n                    <div class=\"form-group row ml-2 mt-3 mr-2\" formArrayName=\"translatableAs\" *ngFor=\"let trans of vartransForm.get('translatableAs')['controls']; let i = index\">\n                        <div class=\"input-group col-xl-9\" *ngIf=\"{switch : false}; let variable\" [formGroupName]=\"i\">\n                            <ng-select formControlName=\"entity\" name=\"entity\" [items]=\"people\" bindValue=\"name\" bindLabel=\"name\" placeholder=\"Search entity\" appendTo=\"body\"\n                                [loading]=\"peopleLoading\" *ngIf=\"!variable.switch\">\n                            </ng-select>\n                            <input formControlName=\"entity\" name=\"entity\" type=\"text\" class=\"form-control\" placeholder=\"Insert URI\" *ngIf=\"variable.switch\">\n                            <div class=\"input-group-append ml-3 form-check\">\n                                <input class=\"form-check-input vartrans-tooltip\" type=\"checkbox\" (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\" data-placement=\"bottom\" data-trigger=\"hover\" title=\"Clicca per inserire un URI manualmente\">\n                            </div>\n                            <div class=\"input-group-append ml-2\">\n                                <button class=\"btn btn-primary\" type=\"button\"><i\n                                        class=\"fa fa-external-link-alt\" (click)=\"modalRoot.show()\"></i></button>\n                                        <app-modal #modalRoot class=\"modal-demo\" [maximizable]=\"true\" [backdrop]=\"false\">\n                                            <ng-container class=\"app-modal-header\">Demo modal</ng-container>\n                                            <ng-container class=\"app-modal-body\">\n                                                <h3>MODAL DIALOG</h3>\n                                                <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.\n                                                    Lorem Ipsum has been the industrys standard dummy text ever since the 1500s.</p>\n                                            </ng-container>\n                                            <ng-container class=\"app-modal-footer\">\n                                                <button type=\"button\" class=\"button button3\" (click)=\"modalRoot.hide()\">Delete</button>\n                                                <button type=\"button\" class=\"button button1\" (click)=\"modalRoot.hide()\">Save</button>\n                                                <button type=\"button\" class=\"button button2\" style=\"float: right;\"\n                                                    (click)=\"modalRoot.hide()\">Close\n                                                </button>\n                                            </ng-container>\n                                        </app-modal>\n                            </div>\n                            <div class=\"input-group-append ml-2\">\n                                <button (click)=\"removeTranslatableAs(i)\" class=\"btn btn-danger\" type=\"button\"><i class=\"fa fa-trash-alt\"></i></button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <!-- LEXICAL RELATION DIRECT -->\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <div class=\"input-group col-xl-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>LEXICAL RELATION</b><span class=\"badge badge-primary ml-2\">DIRECT</span></span>\n                <a (click)=\"addLexicalRelationDirect()\" class=\"pointer\"><span class=\"collapse-icon\"><i class=\"fa fa-plus-square\"></i></span></a>\n\n                <div class=\"card-body\">\n                    <div class=\"form-group row ml-2 mt-3 mr-2\" formArrayName=\"lexicalRelationDirect\" *ngFor=\"let direct of vartransForm.get('lexicalRelationDirect')['controls']; let i = index\">\n                        <div class=\"col-xl-5\" [formGroupName]=\"i\">\n                            <select class=\"form-control\" formControlName=\"relation\" name=\"relation\">\n                                <option>Relations...</option>\n                                <option>...</option>\n                            </select>\n                        </div>\n                        <div class=\"input-group col-xl-7\" *ngIf=\"{switch : false}; let variable\" [formGroupName]=\"i\">\n                            <ng-select formControlName=\"entity\" name=\"entity\" [items]=\"people\" bindValue=\"name\" bindLabel=\"name\" placeholder=\"Search entity\" appendTo=\"body\"\n                                [loading]=\"peopleLoading\" *ngIf=\"!variable.switch\">\n                            </ng-select>\n                            <input formControlName=\"entity\" name=\"entity\" type=\"text\" class=\"form-control\" placeholder=\"Insert URI\" *ngIf=\"variable.switch\">\n                            <div class=\"input-group-append ml-3 form-check\">\n                                <input class=\"form-check-input vartrans-tooltip\" type=\"checkbox\" (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\" data-placement=\"bottom\" data-trigger=\"hover\" title=\"Clicca per inserire un URI manualmente\">\n                            </div>\n                            <div class=\"input-group-append ml-2\">\n                                <button class=\"btn btn-primary\" type=\"button\"><i\n                                        class=\"fa fa-external-link-alt\" (click)=\"modalRoot.show()\"></i></button>\n                                <app-modal #modalRoot class=\"modal-demo\" [maximizable]=\"true\" [backdrop]=\"false\">\n                                    <ng-container class=\"app-modal-header\">Demo modal</ng-container>\n                                    <ng-container class=\"app-modal-body\">\n                                        <h3>MODAL DIALOG</h3>\n                                        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.\n                                            Lorem Ipsum has been the industrys standard dummy text ever since the 1500s.</p>\n                                    </ng-container>\n                                    <ng-container class=\"app-modal-footer\">\n                                        <button type=\"button\" class=\"button button3\" (click)=\"modalRoot.hide()\">Delete</button>\n                                        <button type=\"button\" class=\"button button1\" (click)=\"modalRoot.hide()\">Save</button>\n                                        <button type=\"button\" class=\"button button2\" style=\"float: right;\"\n                                            (click)=\"modalRoot.hide()\">Close\n                                        </button>\n                                    </ng-container>\n                                </app-modal>\n                            </div>\n                            <div class=\"input-group-append ml-2\">\n                                <button (click)=\"removeLexicalRelationDirect(i)\" class=\"btn btn-danger\" type=\"button\"><i class=\"fa fa-trash-alt\"></i></button>\n                            </div>\n                        </div>\n                    </div>\n                   \n                </div>\n            </div>\n        </div>\n    </div>\n\n\n    <!-- LEXICAL RELATION INDIRECT -->\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <div class=\"input-group col-xl-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>LEXICAL RELATION</b><span class=\"badge badge-primary ml-2\">INDIRECT</span></span>\n                <a class=\"pointer\" (click)=\"addLexicalRelationIndirect()\"><span class=\"collapse-icon\"><i class=\"fa fa-plus-square\"></i></span></a>\n                <div class=\"card-body\">\n                    <div formArrayName=\"lexicalRelationIndirect\">\n                        <div *ngFor=\"let indirect of vartransForm['controls'].lexicalRelationIndirect['controls']; let i = index\">\n                            <div [formGroupName]=\"i\">\n                                <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                    <div class=\"col-xl-3\">\n                                        <input type=\"text\" class=\"form-control\" formControlName=\"a_entity\" name=\"a_entity\">\n                                    </div>\n                                    <div class=\"col-xl-3\">\n                                        <select class=\"form-control\" formControlName=\"relation\" name=\"relation\">\n                                            <option>Relation</option>\n                                            <option>...</option>\n                                        </select>\n                                    </div>\n                                    <div class=\"input-group col-xl-6\" *ngIf=\"{switch : false}; let variable\">\n                                        <ng-select formControlName=\"b_entity\" name=\"b_entity\" [items]=\"people\" class=\"resizeNgSelect\" bindValue=\"name\" bindLabel=\"name\" placeholder=\"Search entity\" appendTo=\"body\"\n                                            [loading]=\"peopleLoading\" *ngIf=\"!variable.switch\">\n                                        </ng-select>\n                                        <input formControlName=\"b_entity\" name=\"b_entity\" type=\"text\" class=\"form-control\" placeholder=\"Insert URI\" *ngIf=\"variable.switch\">\n                                        <div class=\"input-group-append ml-3 form-check\">\n                                            <input class=\"form-check-input vartrans-tooltip\" type=\"checkbox\" (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\" data-placement=\"bottom\" data-trigger=\"hover\" title=\"Clicca per inserire un URI manualmente\">\n                                        </div>\n                                        <div class=\"input-group-append ml-2\">\n                                            <button class=\"btn btn-primary\" type=\"button\"><i\n                                                    class=\"fa fa-external-link-alt\"></i></button>\n                                        </div>\n                                        <div class=\"input-group-append ml-2\">\n                                            <button (click)=\"removeLexicalRelationIndirect(i)\" class=\"btn btn-danger\" type=\"button\"><i class=\"fa fa-trash-alt\"></i></button>\n                                        </div>\n                                        <div class=\"input-group-append ml-2\">\n                                            <button (click)=\"addLexicalRelationIndirectSub(i)\" class=\"btn btn-outline-primary\" type=\"button\"><i class=\"fa fa-plus\"></i></button>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div formArrayName=\"sub_rel\">\n                                    <div *ngFor=\"let sub of indirect['controls'].sub_rel['controls']; let j = index\">\n                                        <div [formGroupName]=\"j\">\n                                            <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                                <div class=\"col-xl-3\" ></div>\n                                                <div class=\"col-xl-3\">\n                                                    <select class=\"form-control\" formControlName=\"sub_relation\" name=\"sub_relation\">\n                                                        <option>{{sub.value['sub_relation']}}</option>\n                                                        <option>...</option>\n                                                    </select>\n                                                </div>\n                                                <div class=\"input-group col-xl-6\" *ngIf=\"{switch : false}; let variable\">\n                                                    <ng-select formControlName=\"sub_entity\" name=\"sub_entity\" [items]=\"people\" class=\"resizeNgSelect\" bindLabel=\"name\" bindValue=\"name\" placeholder=\"Search entity\" appendTo=\"body\"\n                                                        [loading]=\"peopleLoading\" *ngIf=\"!variable.switch\">\n                                                    </ng-select>\n                                                    <input formControlName=\"sub_entity\" name=\"sub_entity\" type=\"text\" class=\"form-control\" id=\"inputDenotes\" placeholder=\"Insert URI\" *ngIf=\"variable.switch\">\n                                                    <div class=\"input-group-append ml-3 form-check\">\n                                                        <input class=\"form-check-input vartrans-tooltip\" type=\"checkbox\" (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\" data-placement=\"bottom\" data-trigger=\"hover\" title=\"Clicca per inserire un URI manualmente\">\n                                                    </div>\n                                                    <div class=\"input-group-append ml-2\">\n                                                        <button class=\"btn btn-primary\" type=\"button\"><i\n                                                                class=\"fa fa-external-link-alt\"></i></button>\n                                                    </div>\n                                                    <div class=\"input-group-append ml-2\">\n                                                        <button (click)=\"removeLexicalRelationIndirectSub(i, j)\" class=\"btn btn-danger\" type=\"button\"><i class=\"fa fa-trash-alt\"></i></button>\n                                                    </div>\n                                                    <div class=\"input-group-append ml-2\">\n                                                        <button  class=\"btn btn-outline-primary invisible\" type=\"button\"><i class=\"fa fa-plus\"></i></button>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>  \n                    </div>           \n                </div>\n            </div>\n        </div>\n    </div>\n</form>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, OnDestroy, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Subject, Subscription } from 'rxjs';\nimport { debounceTime, take, takeUntil } from 'rxjs/operators';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\nimport { ToastrService } from 'ngx-toastr';\n\n@Component({\n  selector: 'app-language-manager',\n  templateUrl: './language-manager.component.html',\n  styleUrls: ['./language-manager.component.scss']\n})\nexport class LanguageManagerComponent implements OnInit, OnDestroy {\n\n  languageList = [];\n  editLangArray = [];\n  isValid = false;\n  loadingService = false;\n  removeMessage;\n  destroy$ : Subject<boolean> = new Subject();\n  linkedLexicalEntries : string;\n\n  private subject: Subject<any> = new Subject();\n  /* public urlRegex = /(^|\\s)((https?:\\/\\/.+))/ */\n\n  editLangForm = new FormGroup({\n    description: new FormControl(''),\n    lexvo : new FormControl('', [Validators.required, Validators.minLength(3)]),\n    label: new FormControl('', [Validators.required, Validators.minLength(2), Validators.maxLength(3)])\n  })\n\n  refresh_lang_table_subscription : Subscription;\n  subject_subscription : Subscription;\n\n  constructor(private lexicalService: LexicalEntriesService, private toastr: ToastrService) { }\n\n\n  ngOnInit(): void {\n\n    /* this.loadLangData(); */\n\n    /*  this.onChanges(); */\n    this.refresh_lang_table_subscription = this.lexicalService.refreshLangTable$.subscribe(\n      data => {\n        /* //console.log(\"refresh\"); */\n        this.loadLangData();\n      }, error => {\n        //console.log(\"no refresh\")\n      }\n    )\n\n    this.subject_subscription = this.subject.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      data => {\n        this.onEditLanguage(data)\n      }\n    )\n  }\n\n\n  loadLangData() {\n    this.lexicalService.getLexiconLanguages().pipe(takeUntil(this.destroy$)).subscribe(\n      data => {\n        /* //console.log(data) */\n        this.languageList = data;\n      }, error => {\n        //console.log(error)\n      }\n    )\n  }\n\n  onSubmit(inputValue: string) {\n    //console.log(inputValue.match(/^[A-Za-z]{2,3}$/))\n    if (inputValue.match(/^[A-Za-z]{2,3}$/)) {\n      this.isValid = true;\n      this.loadingService = true;\n      \n      this.lexicalService.createNewLanguage(inputValue).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data)\n          this.loadingService = false;\n          this.lexicalService.refreshFilter({request: true});\n          this.lexicalService.updateLangSelect({request: true});\n          this.lexicalService.refreshLangTable();\n          this.toastr.info('Language '+ data['label'] + ' created', '', {\n            timeOut: 5000,\n          });\n\n        }, error => {\n          console.log(error)\n          this.loadingService = false;\n          this.lexicalService.refreshLangTable();\n          this.lexicalService.refreshFilter({request: true});\n          this.lexicalService.updateLangSelect({request: true});\n        }\n      )\n    } else {\n      this.isValid = false;\n    }\n  }\n\n  triggerEdit(i, v) {\n    this.subject.next({ i, v })\n  }\n\n  onEditLanguage(data) {\n    \n    if(data['v'].trim() != ''){\n      if (data['i'] == \"description\") {\n        let langId = this.editLangArray['language'];\n        let parameters = {\n          relation: 'http://purl.org/dc/terms/description',\n          value: data['v']\n        }\n  \n        this.lexicalService.updateLanguage(langId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n          data => {\n            console.log(data)\n            this.lexicalService.refreshLangTable();\n            this.lexicalService.refreshFilter({request : true})\n          }, error => {\n            console.log(error)\n            this.lexicalService.refreshLangTable();\n            this.lexicalService.refreshFilter({request : true})\n            if(error.status == 200){\n              this.toastr.info('Description for '+langId+' updated', '', {\n                timeOut: 5000,\n              });\n            }else{\n              this.toastr.error(error.error, 'Error', {\n                timeOut: 5000,\n              });\n            }\n          }\n        )\n      } else if (data['i'] == \"lexvo\") {\n        //console.log(data)\n        let langId = this.editLangArray['language'];\n        let parameters = {\n          relation: 'http://purl.org/dc/terms/language',\n          value: data['v']\n        }\n  \n        this.lexicalService.updateLanguage(langId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n          data => {\n            console.log(data)\n            this.lexicalService.refreshLangTable();\n            this.lexicalService.refreshFilter({request : true})\n          }, error => {\n            console.log(error)\n            this.lexicalService.refreshLangTable();\n            this.lexicalService.refreshFilter({request : true})\n            if(error.status == 200){\n              this.toastr.info('Description for '+langId+' updated', '', {\n                timeOut: 5000,\n              });\n            }else{\n              this.toastr.error(error.error, 'Error', {\n                timeOut: 5000,\n              });\n            }\n          }\n        )\n      }else if (data['i'] == \"label\") {\n        if(this.editLangForm.get('label').valid){\n          let langId = this.editLangArray['language'];\n          let parameters = {\n            relation: 'http://www.w3.org/ns/lemon/lime#language',\n            value: data['v']\n          }\n    \n          this.lexicalService.updateLanguage(langId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n            data => {\n              console.log(data)\n              this.lexicalService.refreshLangTable();\n            }, error => {\n              console.log(error)\n              this.lexicalService.refreshLangTable();\n              if(error.status == 200){\n                this.toastr.info('Description for '+langId+' updated', '', {\n                  timeOut: 5000,\n                });\n              }else{\n                this.toastr.error(error.error, 'Error', {\n                  timeOut: 5000,\n                });\n              }\n            }\n          )\n        }else{\n          this.toastr.error('Not valid string for label field', 'Error', {\n            timeOut: 5000,\n          });\n        }\n        \n      }\n    }else{\n      this.toastr.error(\"Don't insert empty value\", 'Error', {\n        timeOut: 5000,\n      });\n    }\n    \n  }\n\n  editLang(index) {\n    this.editLangArray = this.languageList[index]\n    this.editLangForm.get('description').setValue(this.editLangArray['description'], { eventEmit: false })\n    this.editLangForm.get('lexvo').setValue(this.editLangArray['lexvo'], { eventEmit: false })\n    this.editLangForm.get('label').setValue(this.editLangArray['label'], { eventEmit: false })\n    //console.log(this.editLangArray)\n  }\n\n  checkEditValid(index) {\n    return this.editLangForm.get(index).valid;\n  }\n\n  removeLang(index) {\n    this.removeMessage = this.languageList[index]['language']\n  }\n\n  async showLinkedLexicalEntries(index){\n    this.linkedLexicalEntries = '';\n    console.log(this.languageList[index]);\n    let lexvo = this.languageList[index].lexvo != '' ? this.languageList[index].lexvo : this.languageList[index].label;\n\n    let parameters = {\n      text: '',\n      searchMode: \"startsWith\",\n      type: \"\",\n      pos: \"\",\n      formType: \"entry\",\n      author: \"\",\n      lang: lexvo,\n      status: \"\",\n      offset: 0,\n      limit: 500\n  }\n\n    let filtered_lex_entries = await this.lexicalService.getLexicalEntriesList(parameters).toPromise();\n\n    filtered_lex_entries.list.forEach(element => {\n      this.linkedLexicalEntries += element.lexicalEntry + '\\n';\n    });\n\n    document.getElementById('lexical-entries-linked-list').innerHTML = this.linkedLexicalEntries;\n  }\n\n  deleteLangRequest(){\n    let langId = this.removeMessage;\n    this.lexicalService.deleteLanguage(langId).pipe(takeUntil(this.destroy$)).subscribe(\n      data=>{\n        console.log(data);\n        this.lexicalService.refreshLangTable();\n        this.lexicalService.refreshFilter({request : true})\n        this.toastr.info('Language ' +langId+' removed', '', {\n          timeOut: 5000,\n        });\n      },error=>{\n        console.log(error);\n        this.lexicalService.refreshLangTable();\n        this.lexicalService.refreshFilter({request : true})\n        this.toastr.error(error.error, 'Error', {\n          timeOut: 5000,\n        });\n      }\n    )\n  }\n\n  ngOnDestroy(): void {\n      this.refresh_lang_table_subscription.unsubscribe();\n      this.subject_subscription.unsubscribe();\n\n      this.destroy$.next(true);\n      this.destroy$.complete();\n  }\n\n}\n","\n\n<div class=\"card\">\n    <span class=\"text-id\"><b>LANGUAGE LIST</b></span>\n    <a class=\"pointer\" (click)=\"addLanguageModal.show()\"><span class=\"collapse-icon\"><i\n                class=\"fa fa-plus-square\"></i></span></a>\n    <div class=\"card-body\">\n        <div class=\"form-group row ml-3 mt-3 mr-3 mb-0\">\n            <table class=\"table table_language table-bordered  table-hover\">\n                <thead>\n                    <tr>\n                        <th scope=\"col\">#</th>\n                        <th scope=\"col\">Label</th>\n                        <th scope=\"col\">Creator</th>\n                        <th scope=\"col\">Description</th>\n                        <th scope=\"col\">Entries</th>\n                        <th scope=\"col\">Actions</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr *ngFor=\"let lang of languageList; let i = index\">\n                        <th scope=\"row\">{{i+1}}</th>\n                        <td>{{lang['label']}}</td>\n                        <td>{{lang['creator'] != \"\" ? lang['creator'] : '<'+'empty'+'>'}}</td>\n                        <td>{{lang['description'] != \"\" ? (lang['description'] | slice:0:50) +'...' : '<'+'empty'+'>'}}\n                        </td>\n                        <td>{{lang['entries']}}</td>\n                        <td>\n                            <span><button class=\"btn btn-primary mr-1\" (click)=\"editLang(i); editLangModal.show()\"><i\n                                        class=\"fas fa-edit\"></i></button></span>\n                            <span><button class=\"btn btn-danger ml-1\" (click)=\"removeLang(i); removeLangModal.show()\"><i\n                                        class=\"fas fa-trash-alt\"></i></button></span>\n                            <span>\n                                <button class=\"btn btn-secondary ml-1\" (click)=\"showLinkedLexicalEntries(i); lexEntryModal.show()\" alt=\"show linked entries\">\n                                    <i class=\"fas fa-eye\"></i>\n                                </button>\n                            </span>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>\n\n<app-modal #removeLangModal class=\"remove_languages_modal\">\n    <ng-container class=\"app-modal-header\"></ng-container>\n    <ng-container class=\"app-modal-body\">\n        <div class=\"card\">\n            <div class=\"card-body\">\n                <div class=\"form-group row ml-2 mt-3 mr-2\">\n                    <label for=\"inputLabel\" class=\"col-lg-12 col-form-label\" style=\"font-size: 12px; text-align: center\">Are you sure to delete {{removeMessage}}?</label>\n                </div>\n                <div class=\"form-group row ml-2 mt-3 mr-2 justify-content-md-center\">\n                    <div class=\"input-group col-lg-5 justify-content-md-center\" style=\"align-items: center; text-align: center;\">\n                        <div class=\"input-group-append ml-2\">\n                            <button class=\"btn btn-success\" type=\"button\" (click)=\"deleteLangRequest(); removeLangModal.hide()\"><i\n                                    class=\"fas fa-check\"></i></button>\n                        </div>\n                        <div class=\"input-group-append ml-2\">\n                            <button class=\"btn btn-danger\" type=\"button\" (click)=\"removeLangModal.hide()\"><i\n                                    class=\"fas fa-times\"></i></button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </ng-container>\n</app-modal>\n\n<app-modal #lexEntryModal class=\"lex_entry_modal\">\n    <ng-container class=\"app-modal-header\"></ng-container>\n    <ng-container class=\"app-modal-body\">\n        <div class=\"card\" *ngIf=\"editLangArray\">\n            <span class=\"text-id\"><b>LEXICAL ENTRIES</b></span>\n            <!-- <a class=\"pointer\" (click)=\"addLanguageModal.show()\"><span class=\"collapse-icon\"><i\n                        class=\"fa fa-plus-square\"></i></span></a> -->\n            <div class=\"card-body\">\n                <textarea id=\"lexical-entries-linked-list\" class=\"w-100\" cols=\"30\" rows=\"10\" readonly [hidden]=\"linkedLexicalEntries == ''\"></textarea>\n            </div>\n        </div>\n    </ng-container>\n</app-modal>\n\n\n<app-modal #editLangModal class=\"edit_languages_modal\" >\n    <ng-container class=\"app-modal-header\"></ng-container>\n    <ng-container class=\"app-modal-body\">\n        <div class=\"card\" *ngIf=\"editLangArray\">\n            <span class=\"text-id\"><b>LANGUAGE EDITOR</b></span>\n            <!-- <a class=\"pointer\" (click)=\"addLanguageModal.show()\"><span class=\"collapse-icon\"><i\n                        class=\"fa fa-plus-square\"></i></span></a> -->\n            <div class=\"card-body\">\n                <form [formGroup]=\"editLangForm\">\n                    <div *ngFor=\"let item of editLangArray | keyvalue\">\n                        <div class=\"form-group row ml-2 mt-3 mr-2\" *ngIf=\"item.key == 'description' || item.key == 'label' || item.key == 'lexvo'\">\n                            <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\" style=\"font-size: 12px;\">{{item.key}}</label>\n                            <div class=\"input-group col-lg-9\" style=\"align-items: center;\">\n                                <input #inputLang type=\"text\" class=\"form-control\" placeholder=\"\" [value]=\"item.value\" [formControlName]=\"item.key\" [name]=\"item.key\" (keyup)=\"triggerEdit(item.key, inputLang.value)\">\n                                <div class=\"invalid-feedback\" *ngIf=\"!checkEditValid(item.key)\" style=\"display: block; font-size: 9px;\">\n                                    Invalid Field\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </ng-container>\n</app-modal>\n\n\n\n\n<app-modal #addLanguageModal class=\"add_languages_modal\">\n    <ng-container class=\"app-modal-header\"></ng-container>\n    <ng-container class=\"app-modal-body\">\n        <div class=\"card\">\n            <div class=\"card-body\">\n                <div class=\"form-group row ml-2 mt-3 mr-2\">\n                    <label for=\"inputLabel\" class=\"col-lg-5 col-form-label\" style=\"font-size: 12px;\">Insert a language\n                        code (max 2-3 chars):</label>\n                    <div class=\"input-group col-lg-7\" style=\"align-items: center;\">\n                        <input #inputAddLanguage id=\"label\" type=\"text\" class=\"form-control\" placeholder=\"\" #langValue>\n                        <div class=\"input-group-append ml-2\">\n                            <button class=\"btn btn-success\" type=\"button\" (click)=\"onSubmit(langValue.value); addLanguageModal.hide()\"\n                            [disabled]=\"inputAddLanguage.value.length < 2 || inputAddLanguage.value.length > 3\"><i\n                                    class=\"fas fa-check\"></i></button>\n                        </div>\n                        <div class=\"spinner-border spinner-border-sm m-1\" role=\"status\" *ngIf=\"loadingService\">\n                            <span class=\"sr-only\">Loading...</span>\n                        </div>\n                        <div class=\"invalid-feedback\" *ngIf=\"!isValid\" style=\"display: block; font-size: 9px;\">\n                            Please, insert at least three characters.\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </ng-container>\n</app-modal>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BibliographyService {\n\n  constructor(private http: HttpClient) { }\n\n\n  private baseUrl = \"https://api.zotero.org/groups/2552746/items\";\n  \n  private _addBiblioItem: BehaviorSubject<any> = new BehaviorSubject(null);\n  private _triggerPanel: BehaviorSubject<object> = new BehaviorSubject(null);\n  addBiblioReq$ = this._addBiblioItem.asObservable();\n  triggerPanel$ = this._triggerPanel.asObservable();\n\n  sendDataToBibliographyPanel(object: any) {\n    this._addBiblioItem.next(object)\n  }\n\n  triggerPanel(object: object) {\n    this._triggerPanel.next(object)\n  } \n\n  bootstrapData(start? : number, sortField? : string, direction? : string) : Observable<any> {\n    return this.http.get(this.baseUrl + '?limit=25&start='+start+'&sort='+sortField+'&direction='+direction+'&v=3');\n  }\n\n  filterBibliography(start? : number, sortField? : string, direction? : string, query?, queryMode?) : Observable<any> {\n    return this.http.get(this.baseUrl + '?limit=25&q='+query+'&qmode='+queryMode+'&start='+start+'&sort='+sortField+'&direction='+direction+'&v=3');\n  }\n\n}\n","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, Input, OnDestroy, OnInit, SimpleChanges } from '@angular/core';\nimport { Subject, Subscription } from 'rxjs';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\n\nimport { FormBuilder, FormGroup, FormArray, FormControl } from '@angular/forms';\nimport { debounceTime, takeUntil } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-lexical-entry-synsem-form',\n  templateUrl: './lexical-entry-synsem-form.component.html',\n  styleUrls: ['./lexical-entry-synsem-form.component.scss']\n})\nexport class LexicalEntrySynsemFormComponent implements OnInit, OnDestroy {\n\n  switchInput = false;\n  subscription: Subscription;\n  object: any;\n  peopleLoading = false;\n  counter = 0;\n  componentRef: any;\n  destroy$ : Subject<boolean> = new Subject();\n\n  @Input() lexData: any;\n\n  synsemForm = new FormGroup({\n    label: new FormControl(''),\n    frames: new FormArray([this.createFrame()])\n  })\n\n  frameArray: FormArray;\n\n  constructor(private lexicalService: LexicalEntriesService, private formBuilder: FormBuilder) {\n  }\n\n  ngOnInit() {\n\n    this.synsemForm = this.formBuilder.group({\n      label: '',\n      frames: this.formBuilder.array([])\n    })\n    this.onChanges();\n    this.loadPeople();\n    this.triggerTooltip();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    setTimeout(() => {\n      if (this.object != changes.lexData.currentValue) {\n        if (this.frameArray != null) {\n          this.frameArray.clear();\n        }\n      }\n      this.loadPeople();\n      this.object = changes.lexData.currentValue;\n      if (this.object != null) {\n        this.synsemForm.get('label').setValue(this.object.label, { emitEvent: false });\n\n      }\n      this.triggerTooltip();\n    }, 10)\n  }\n\n  triggerTooltip() {\n    setTimeout(() => {\n      //@ts-ignore\n      $('.vartrans-tooltip').tooltip({\n        trigger: 'hover'\n      });\n    }, 500);\n  }\n\n  private loadPeople() {\n    /* this.peopleLoading = true;\n    this.dataService.getPeople().subscribe(x => {\n      this.people = x;\n      this.peopleLoading = false;\n    }); */\n  }\n\n  onChanges(): void {\n    this.synsemForm.valueChanges.pipe(debounceTime(200), takeUntil(this.destroy$)).subscribe(searchParams => {\n      //console.log(searchParams)\n    })\n  }\n\n  addFrame() {\n    this.frameArray = this.synsemForm.get('frames') as FormArray;\n    this.frameArray.push(this.createFrame());\n  }\n\n  addArg(index){\n    const control = (<FormArray>this.synsemForm.controls['frames']).at(index).get('args') as FormArray;\n    control.push(this.createArg());\n  }\n\n  addForm(ix, iy){\n    const control = ((<FormArray>this.synsemForm.controls['frames']).at(ix).get('args') as FormArray).at(iy).get('form') as FormArray;\n    control.push(this.createForm());\n  }\n\n  removeArg(ix, iy){\n    const control = (<FormArray>this.synsemForm.controls['frames']).at(ix).get('args') as FormArray;\n    control.removeAt(iy);\n  }\n\n  removeForm(ix, iy, iz){\n    const control = ((<FormArray>this.synsemForm.controls['frames']).at(ix).get('args') as FormArray).at(iy).get('form') as FormArray;\n    control.removeAt(iz);\n  }\n\n  removeFrame(index) {\n    this.frameArray = this.synsemForm.get('frames') as FormArray;\n    this.frameArray.removeAt(index);\n  }\n\n  createFrame(): FormGroup {\n    return this.formBuilder.group({\n      label: '',\n      type: '',\n      example: '',\n      args: new FormArray([])\n    })\n  }\n\n  createArg() : FormGroup {\n    return this.formBuilder.group({\n      label: '',\n      type: '',\n      marker: '',\n      optional: false,\n      form: new FormArray([])\n    })\n  }\n\n  createForm() : FormGroup {\n    return this.formBuilder.group({\n      form_label: ''\n    })\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n}\n","\n\n<form [formGroup]=\"synsemForm\" *ngIf=\"object!=null\">\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <label for=\"inputLabel\" class=\"col-xl-3 col-form-label\">Label:</label>\n        <div class=\"input-group col-xl-5\">\n            <input formControlName=\"label\" name=\"label\" type=\"text\" class=\"form-control\" placeholder=\"\">\n        </div>\n        <div class=\"input-group-append\">\n            <div class=\"input-group-append ml-2\">\n                <button (click)=\"addFrame()\" class=\"btn btn-outline-primary\" type=\"button\"><i class=\"fa fa-plus\"></i></button>\n            </div>\n        </div>\n    </div>\n    \n    <!-- FRAME -->\n    <div formArrayName=\"frames\">\n        <div *ngFor=\"let frame of synsemForm['controls'].frames['controls']; let i = index\">\n            <div [formGroupName]=\"i\">\n                <div class=\"form-group row ml-2 mt-3 mr-2\">\n                    <div class=\"input-group col-xl-12\">\n                        <div class=\"card\">\n                            <span class=\"text-id\"><b>FRAME</b></span>\n                            <a class=\"pointer\" (click)=\"addArg(i)\"><span class=\"add-icon\"><i class=\"fa fa-plus-square\"></i></span></a>\n                            <a class=\"pointer\" (click)=\"removeFrame(i)\"><span class=\"trash-icon\"><i class=\"fa fa-trash\"></i></span></a>\n                            <div class=\"card-body\">\n                                <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                    <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Label:</label>\n                                    <div class=\"input-group col-lg-5\">\n                                        <input formControlName=\"label\" name=\"label\" type=\"text\" class=\"form-control\" placeholder=\"\">\n                                    </div>\n                                </div>\n                                <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                    <label for=\"inputType\" class=\"col-lg-3 col-form-label\">Type:</label>\n                                    <div class=\"col-lg-5\">\n                                        <select formControlName=\"type\" name=\"type\" class=\"form-control\">\n                                            <option [value]=\"object.type\">{{object.type}}</option>\n                                        </select>\n                                    </div>\n                                </div>\n                                <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                    <label for=\"inputLanguage\" class=\"col-lg-3 col-form-label\">Example:</label>\n                                    <div class=\"col-lg-8\">\n                                        <input formControlName=\"example\" name=\"example\" type=\"text\" class=\"form-control\" placeholder=\"\">\n                                    </div>\n                                </div>\n\n                                <!-- ARGS -->\n                                <div formArrayName=\"args\">\n                                    <div *ngFor=\"let a of frame['controls'].args['controls']; let j = index\">\n                                        <div [formGroupName]=\"j\">\n                                            <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                                <div class=\"input-group col-xl-12\">\n                                                    <div class=\"card\">\n                                                        <span class=\"text-id\"><span class=\"badge badge-primary ml-2\">ARG#{{j+1}}</span></span>\n                                                        <a class=\"pointer\" (click)=\"addForm(i, j)\"><span class=\"add-icon\"><i class=\"fa fa-plus-square\"></i></span></a>\n                                                        <a class=\"pointer\" (click)=\"removeArg(i, j)\"><span class=\"trash-icon\"><i class=\"fa fa-trash\"></i></span></a>\n                                                        <div class=\"card-body\">\n                                                            <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                                                <label class=\"col-lg-3 col-form-label\">Label:</label>\n                                                                <div class=\"input-group col-lg-5\">\n                                                                    <input formControlName=\"label\" name=\"label\" type=\"text\" class=\"form-control\" placeholder=\"\">\n                                                                </div>\n                                                            </div>\n                                                            <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                                                <label for=\"inputType\" class=\"col-lg-3 col-form-label\">Type:</label>\n                                                                <div class=\"col-lg-5\">\n                                                                    <select formControlName=\"type\" name=\"type\" class=\"form-control\">\n                                                                        <option [value]=\"object.type\">{{object.type}}</option>\n                                                                    </select>\n                                                                </div>\n                                                            </div>\n                                                            <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                                                <label class=\"col-lg-3 col-form-label\">Marker:</label>\n                                                                <div class=\"col-lg-5\">\n                                                                    <input formControlName=\"marker\" name=\"marker\" type=\"text\" class=\"form-control\" placeholder=\"\">\n                                                                </div>\n                                                            </div>\n                                                            <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                                                <label class=\"col-lg-3 col-form-label\">Optional:</label>        \n                                                                <div class=\"input-group col-lg-7 ml-3\">\n                                                                    <div class=\"input-group-append ml-2\" style=\"align-items: center;\">\n                                                                        <input formControlName=\"optional\" name=\"optional\" class=\"form-check-input\" type=\"checkbox\">\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n\n                                                            <div class=\"form-group row ml-2 mt-3 mr-2\" *ngIf=\"a['controls'].form['controls'].length > 0\" style=\"align-items:baseline;\">\n                                                                <label class=\"col-lg-3 col-form-label\">Form:</label>\n\n                                                                <!-- FORM -->\n                                                                <div formArrayName=\"form\" class=\"col-lg-9\" style=\"max-height: 15vh;overflow: auto;\">\n                                                                    <div *ngFor=\"let form of a['controls'].form['controls']; let k = index\">\n                                                                        <div [formGroupName]=\"k\">\n                                                                            <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                                                                <div class=\"input-group\" *ngIf=\"{switch : false}; let variable\">\n                                                                                    <ng-select formControlName=\"form_label\" name=\"form_label\" [items]=\"people\" class=\"resizeNgSelect\" bindLabel=\"name\" bindValue=\"name\" placeholder=\"Search entity\" appendTo=\"body\"\n                                                                                        [loading]=\"peopleLoading\" *ngIf=\"!variable.switch\">\n                                                                                    </ng-select>\n                                                                                    <input formControlName=\"form_label\" name=\"form_label\" type=\"text\" class=\"form-control\" id=\"inputDenotes\" placeholder=\"Insert URI\" *ngIf=\"variable.switch\">\n                                                                                    <div class=\"input-group-append ml-3 form-check\">\n                                                                                        <input class=\"form-check-input vartrans-tooltip\" type=\"checkbox\" (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\" data-placement=\"bottom\" data-trigger=\"hover\" title=\"Clicca per inserire un URI manualmente\">\n                                                                                    </div>\n                                                                                    <div class=\"input-group-append ml-2\">\n                                                                                        <button class=\"btn btn-primary\" type=\"button\"><i\n                                                                                                class=\"fa fa-external-link-alt\"></i></button>\n                                                                                    </div>\n                                                                                    <div class=\"input-group-append ml-2\">\n                                                                                        <button (click)=\"removeForm(i, j, k)\" class=\"btn btn-danger\" type=\"button\"><i class=\"fa fa-trash-alt\"></i></button>\n                                                                                    </div>\n                                                                                    \n                                                                                </div>\n                                                                            </div>  \n                                                                        </div>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    \n</form>","import { FormGroup } from '@angular/forms';\n    \nexport function ConfirmedValidator(controlName: string, matchingControlName: string){\n    return (formGroup: FormGroup) => {\n        const control = formGroup.controls[controlName];\n        const matchingControl = formGroup.controls[matchingControlName];\n        if (matchingControl.errors && !matchingControl.errors.confirmedValidator) {\n            return;\n        }\n        if (control.value !== matchingControl.value) {\n            matchingControl.setErrors({ confirmedValidator: true });\n        } else {\n            matchingControl.setErrors(null);\n        }\n    }\n}","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable, of } from 'rxjs';\nimport { map, shareReplay } from 'rxjs/operators';\nimport { AuthService } from '../auth/auth.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ConceptService {\n\n  private baseUrl = \"/LexO-backend-itant_itant/service/\"\n  private key = \"PRINitant19\";\n  private author = \"\";\n  private lexicalIRI = 'http://lexica/mylexicon#';\n  private lexicalPrefix = 'lex'\n\n  private _deleteConceptSetReq: BehaviorSubject<any> = new BehaviorSubject(null);\n  private _addSubElementReq: BehaviorSubject<any> = new BehaviorSubject(null);\n\n  deleteSkosReq$ = this._deleteConceptSetReq.asObservable();\n  addSubReq$ = this._addSubElementReq.asObservable();\n\n  constructor(private http: HttpClient, private auth: AuthService) { }\n\n  addSubElementRequest(request?: any){\n    this._addSubElementReq.next(request);\n  }\n\n  getLexicalIRI(){\n    return this.lexicalIRI;\n  }\n\n  deleteRequest(request? : any) {\n    this._deleteConceptSetReq.next(request);\n  }\n\n  getConceptSets(): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/data/conceptSets\");\n  }\n\n  getRootLexicalConcepts(): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/data/lexicalConcepts?id=root\");\n  }\n\n  getLexicalConcepts(instance : string): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/data/lexicalConcepts?id=\"+encodeURIComponent(instance));\n  }\n\n  getLexicalConceptData(instance : string) : Observable<any>{\n    return this.http.get(this.baseUrl + \"lexicon/data/lexicalConcept?id=\"+encodeURIComponent(instance));\n  }\n\n  createNewConceptSet(): Observable<any> {\n    this.author = this.auth.getUsername();\n    return this.http.get(this.baseUrl + \"lexicon/creation/conceptSet?key=\"+this.key+\"&author=\"+this.author+\"&prefix=\"+encodeURIComponent(this.lexicalPrefix)+\"&baseIRI=\"+encodeURIComponent(this.lexicalIRI));\n  }\n\n  createNewLexicalConcept(): Observable<any> {\n    this.author = this.auth.getUsername();\n    return this.http.get(this.baseUrl + \"lexicon/creation/lexicalConcept?key=\"+this.key+\"&author=\"+this.author+\"&prefix=\"+encodeURIComponent(this.lexicalPrefix)+\"&baseIRI=\"+encodeURIComponent(this.lexicalIRI));\n  }\n\n\n  linkLexicalConceptTo(parameters) : Observable<any> {\n    return this.http.post(this.baseUrl + \"lexicon/creation/lexicalConcept?key=\"+this.key, parameters);\n  }\n\n  deleteConceptSet(conceptSetID) : Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/delete/conceptSet?key=\"+this.key + \"&id=\"+encodeURIComponent(conceptSetID));\n  }\n\n  deleteLexicalConcept(lexicalConceptID, recursive?) : Observable<any> {\n    if(recursive == undefined){\n      return this.http.get(this.baseUrl + \"lexicon/delete/lexicalConcept?key=\"+this.key + \"&id=\"+encodeURIComponent(lexicalConceptID)+\"&recursive=false\");\n    }else{\n      return this.http.get(this.baseUrl + \"lexicon/delete/lexicalConcept?key=\"+this.key + \"&id=\"+encodeURIComponent(lexicalConceptID)+\"&recursive=true\");\n    }\n  }\n\n  updateSkosLabel(parameters) : Observable<any> {\n    return this.http.post(this.baseUrl + \"skos/updateLexicalLabel?key=\"+this.key, parameters);\n  }\n\n  updateSchemeProperty(parameters) : Observable<any> {\n    return this.http.post(this.baseUrl + \"skos/updateSchemeProperty?key=\"+this.key, parameters);\n  }\n\n  updateSemanticRelation(parameters) : Observable<any> {\n    return this.http.post(this.baseUrl + \"skos/updateSemanticRelation?key=\"+this.key, parameters);\n  }\n\n  updateNoteProperty(parameters) : Observable<any> {\n    return this.http.post(this.baseUrl + \"skos/updateNoteProperty?key=\"+this.key, parameters);\n  }\n\n  deleteRelation(instance, parameters) : Observable<any> {\n    return this.http.post(this.baseUrl + \"lexicon/delete/relation?key=\"+this.key+\"&id=\"+encodeURIComponent(instance), parameters);\n  }\n\n  conceptFilter(parameters: any): Observable<any> {\n    return this.http.post(this.baseUrl + \"lexicon/data/filteredLexicalConcepts\", parameters);\n  }\n}\n","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-login-page',\n  templateUrl: './login-page.component.html',\n  styleUrls: ['./login-page.component.scss']\n})\nexport class LoginPageComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","\n\n<div class=\"text-center\">\n    <form class=\"form-signin\">\n      <img class=\"mb-4\" src=\"../../../assets/images/LexOIcon.png\" alt=\"\" width=\"120\" >\n      <h1 class=\"h3 mb-3 font-weight-normal\">Please sign in</h1>\n      <label for=\"inputEmail\" class=\"sr-only\">Email address</label>\n      <input type=\"email\" id=\"inputEmail\" class=\"form-control\" placeholder=\"Email address\" required autofocus>\n      <label for=\"inputPassword\" class=\"sr-only\">Password</label>\n      <input type=\"password\" id=\"inputPassword\" class=\"form-control\" placeholder=\"Password\" required>\n      <div class=\"checkbox mb-3\">\n        <label>\n          <input type=\"checkbox\" value=\"remember-me\"> Remember me\n        </label>\n      </div>\n      <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">Sign in</button>\n      <p class=\"mt-5 mb-3 text-muted\">&copy; 2020</p>\n    </form>\n</div>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'epilexo';\n}\n","\n\n<app-navbar></app-navbar>\n<router-outlet></router-outlet>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, Input, OnDestroy, OnInit, QueryList, SimpleChanges, ViewChildren } from '@angular/core';\nimport { FormArray, FormBuilder, FormControl, FormGroup } from '@angular/forms';\nimport { NgSelectComponent } from '@ng-select/ng-select';\nimport { ToastrService } from 'ngx-toastr';\nimport { Subject, Subscription } from 'rxjs';\nimport { debounceTime, pairwise, startWith, takeUntil } from 'rxjs/operators';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\nimport { LilaService } from 'src/app/services/lila/lila.service';\n\n@Component({\n  selector: 'app-etymology-form',\n  templateUrl: './etymology-form.component.html',\n  styleUrls: ['./etymology-form.component.scss']\n})\nexport class EtymologyFormComponent implements OnInit, OnDestroy {\n\n  @Input() etymData: any;\n  @ViewChildren('etyLink') etyLinkList: QueryList<NgSelectComponent>;\n  switchInput = false;\n  subscription: Subscription;\n  object: any;\n  peopleLoading = false;\n  counter = 0;\n  componentRef: any;\n\n  subject_cognates_subscription: Subscription;\n  subject_etylink_subscription: Subscription;\n  subject_etylink_input_subscription: Subscription;\n  subject_cognates_input_subscription: Subscription;\n  subject_etylink_note_subscription: Subscription;\n  subject_etylink_label_subscription: Subscription;\n\n\n\n  etyForm = new FormGroup({\n    label: new FormControl(''),\n    author: new FormControl(''),\n    confidence: new FormControl(null),\n    etylink: new FormArray([this.createEtyLink()]),\n    cognates: new FormArray([this.createCognate()]),\n    isEtymon: new FormControl(false),\n    isCognate: new FormControl(false)\n  })\n\n  etyLinkArray: FormArray;\n  cognatesArray: FormArray;\n\n  private subject_cognates: Subject<any> = new Subject();\n  private subject_cognates_input: Subject<any> = new Subject();\n  private subject_etylink: Subject<any> = new Subject();\n  private subject_etylink_input: Subject<any> = new Subject();\n  private etylink_note_subject: Subject<any> = new Subject();\n  private etylink_label_subject: Subject<any> = new Subject();\n  searchResults = [];\n  filterLoading = false;\n\n  memoryLinks = [];\n  memoryConfidence = null;\n\n  destroy$ : Subject<boolean> = new Subject();\n\n  constructor(private lexicalService: LexicalEntriesService,\n    private formBuilder: FormBuilder,\n    private toastr: ToastrService,\n    private lilaService: LilaService) { }\n\n  ngOnInit(): void {\n\n    this.etyForm = this.formBuilder.group({\n      label: '',\n      author: '',\n      confidence: false,\n      etylink: this.formBuilder.array([]),\n      cognates: this.formBuilder.array([]),\n      isEtymon: false,\n      isCognate: false\n    })\n    this.onChanges();\n    this.triggerTooltip();\n\n    \n\n    this.subject_cognates_subscription = this.subject_cognates.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      data => {\n        if (data != null) {\n          this.onSearchFilter(data)\n\n        }\n      }\n    )\n\n    this.subject_etylink_subscription = this.subject_etylink.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      data => {\n        if (data != null) {\n          this.onSearchFilter(data)\n\n        }\n      }\n    )\n\n    this.subject_etylink_input_subscription = this.subject_etylink_input.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      data => {\n        console.log(data)\n        if (data != null) {\n          let value = data['value'];\n          let index = data['i'];\n          this.onChangeEtylink(value, index)\n        }\n\n      }\n    )\n\n    this.subject_cognates_input_subscription = this.subject_cognates_input.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      data => {\n        this.onSearchFilter(data)\n      }\n    )\n\n    this.subject_etylink_note_subscription = this.etylink_note_subject.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      data => {\n        this.onChangeEtylinkNote(data)\n      }\n    )\n\n    this.subject_etylink_label_subscription = this.etylink_label_subject.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      data => {\n        this.onChangeEtylinkLabel(data)\n      }\n    )\n  }\n\n\n  triggerTooltip() {\n    setTimeout(() => {\n      //@ts-ignore\n      $('.vartrans-tooltip').tooltip({\n        trigger: 'hover'\n      });\n    }, 500);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n\n    if (this.object != changes.etymData.currentValue) {\n      if (this.etyLinkArray != undefined || this.cognatesArray != undefined) {\n        this.etyLinkArray.clear();\n        //this.cognatesArray.clear();\n\n        this.memoryLinks = [];\n        this.memoryConfidence = null;\n      }\n    }\n    this.object = changes.etymData.currentValue;\n    console.log(this.object)\n    if (this.object != null) {\n      this.etyForm.get('label').setValue(this.object.etymology.label, { emitEvent: false });\n      this.etyForm.get('author').setValue(this.object.etymology.hypothesisOf, { emitEvent: false });\n      if (this.object.etymology.confidence == 0) {\n        this.etyForm.get('confidence').setValue(true, { emitEvent: false });\n      } else {\n        this.etyForm.get('confidence').setValue(false, { emitEvent: false });\n      }\n\n      if(typeof(this.object.type) == 'string'){\n        if(this.object.type == 'Cognate'){\n          this.etyForm.get('isCognate').setValue(true, { emitEvent: false })\n\n        }else{\n          this.etyForm.get('isCognate').setValue(false, { emitEvent: false })\n\n        }\n      }else{\n        let isCognate = this.object.type.find(element => element == 'Cognate');\n        if (isCognate) {\n          this.etyForm.get('isCognate').setValue(true, { emitEvent: false })\n        } else {\n          this.etyForm.get('isCognate').setValue(false, { emitEvent: false })\n        }\n      }\n      \n      \n      let isEtymon = this.object.type.find(element => element == 'Etymon');\n      if (isEtymon) {\n        this.etyForm.get('isEtymon').setValue(true, { emitEvent: false })\n      } else {\n        this.etyForm.get('isEtymon').setValue(false, { emitEvent: false })\n      }\n\n      if (this.object.etyLinks != undefined) {\n        if (this.object.etyLinks.length != 0) {\n          this.object.etyLinks.forEach(element => {\n            let lex_entity = element.etySourceLabel == '' ? element.etySource : element.etySourceLabel;\n            let label = element.label == '' ? element.etySourceLabel : element.label;\n            let ety_type = element.etyLinkType;\n            let ety_source = element.etySource;\n            let ety_target = element.etyTarget;\n            let note = element.note;\n            let external_iri = element.externalIRI;\n            this.addEtyLink(lex_entity, label, ety_type, ety_source, ety_target, note, external_iri);\n            this.memoryLinks.push(element);\n            /* console.log(element) */\n          });\n        }\n      }\n    }\n    this.triggerTooltip();\n\n  }\n\n\n  onChanges(): void {\n   \n    this.etyForm.get('confidence').valueChanges.pipe(debounceTime(100), startWith(this.etyForm.get('confidence').value), pairwise(), takeUntil(this.destroy$)).subscribe(([prev, next]: [any, any]) => {\n      this.lexicalService.spinnerAction('on');\n      let etyId = this.object.etymology.etymology;\n\n      this.etyForm.get('confidence').setValue(next, { emitEvent: false });\n\n      let oldValue = prev ? 0 : 1;\n      let newValue = next ? 0 : 1;\n      let parameters = {\n       /*  type: \"confidence\", */\n        relation: 'http://www.lexinfo.net/ontology/3.0/lexinfo#confidence',\n        value: newValue\n      };\n\n\n      if (this.memoryConfidence != null) parameters['currentValue'] = oldValue;\n      this.memoryConfidence = oldValue;\n\n      this.lexicalService.updateEtymology(etyId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data => { },\n        error => {\n          if (error.status == 200) this.toastr.success('Confidence updated', '', { timeOut: 5000 })\n          if (error.status != 200) this.toastr.error(error.error, '', { timeOut: 5000 })\n        }\n      )\n\n    });\n\n\n    this.etyForm.get(\"label\").valueChanges.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      updatedLabel => {\n        if (updatedLabel.length > 2 && updatedLabel.trim() != '') {\n          this.updateLabel(updatedLabel);\n        }\n      }\n    )\n\n    this.etyForm.get(\"author\").valueChanges.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      updateAuthor => {\n\n        this.updateAuthor(updateAuthor)\n      }\n    )\n  }\n\n\n  async updateLabel(updatedLabel : string){\n    this.lexicalService.spinnerAction('on');\n    let etyId = this.object.etymology.etymology;\n    let parameters = {\n      relation: 'http://www.w3.org/2000/01/rdf-schema#label',\n      value: updatedLabel\n    }\n\n    try {\n      let update_label_req = await this.lexicalService.updateEtymology(etyId, parameters).toPromise();\n      update_label_req['request'] = 0;\n      update_label_req['new_label'] = updatedLabel\n      this.lexicalService.refreshAfterEdit(update_label_req);\n      this.lexicalService.spinnerAction('off');\n      this.toastr.success('Label updated', '', { timeOut: 5000 })\n    } catch (error) {\n      let data = this.object.etymology;\n      data['request'] = 0;\n      data['new_label'] = updatedLabel;\n      this.lexicalService.refreshAfterEdit(data);\n      this.lexicalService.spinnerAction('off');\n      //this.lexicalService.updateLexCard({ lastUpdate: error.error.text })\n      if (error.status == 200) {\n        this.toastr.success('Label updated', '', { timeOut: 5000 })\n\n      } else {\n        this.toastr.error(error.error, 'Error', { timeOut: 5000 })\n\n      }\n    }\n    \n  }\n\n  async updateAuthor(updateAuthor){\n    this.lexicalService.spinnerAction('on');\n    let etyId = this.object.etymology.etymology;\n    let parameters = {\n      relation: 'http://www.w3.org/2000/01/rdf-schema#comment',\n      value: updateAuthor\n    }\n    try {\n      let update_author_req = await this.lexicalService.updateEtymology(etyId, parameters).toPromise();\n      this.lexicalService.spinnerAction('off');\n      this.toastr.success('Author updated', '', { timeOut: 5000 })\n    } catch (error) {\n      this.lexicalService.spinnerAction('off');\n      this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n      if (error.status == 200) {\n        this.toastr.success('Label updated', '', { timeOut: 5000 })\n\n      } else {\n        this.toastr.error(error.error, 'Error', { timeOut: 5000 })\n\n      }\n    }\n    \n  }\n\n  async onChangeEtylinkNote(data) {\n    console.log(data)\n    if (data != undefined) {\n\n      let newValue = data.evt.target.value;\n      let currentValue;\n      let index = data?.index;\n\n      let oldValue = this.memoryLinks[index].note;\n\n      let instanceName = this.object.etyLinks[index].etymologicalLink;\n\n\n      let parameters = {\n        relation: 'http://www.w3.org/2004/02/skos/core#note',\n        value: newValue,\n        currentValue: oldValue\n      };\n\n      console.log(parameters)\n\n      try {\n        let change_etylink_note_req = await this.lexicalService.updateEtylink(instanceName, parameters).toPromise();\n        console.log(change_etylink_note_req);\n        this.lexicalService.spinnerAction('off');\n        this.memoryLinks[index].note = newValue\n        this.toastr.success('EtyLink note updated', '', { timeOut: 5000 })\n      } catch (error) {\n        this.lexicalService.spinnerAction('off');\n        this.memoryLinks[index].note = newValue\n        if (error.status == 200) {\n          this.toastr.success('Label updated', '', { timeOut: 5000 })\n\n        } else {\n          this.toastr.error(error.error, 'Error', { timeOut: 5000 })\n\n        }\n      }\n    }\n  }\n\n  async onChangeEtylinkLabel(data) {\n    console.log(data)\n    if (data != undefined) {\n\n      let newValue = data.evt.target.value;\n      let currentValue;\n      let index = data?.index;\n\n      let oldValue = this.memoryLinks[index].note;\n\n      let instanceName = this.object.etyLinks[index].etymologicalLink;\n\n\n      let parameters = {\n        relation: 'http://www.w3.org/2000/01/rdf-schema#label',\n        value: newValue,\n        currentValue: oldValue\n      };\n\n      console.log(parameters)\n      try {\n        let change_etylink_label_req = await this.lexicalService.updateEtylink(instanceName, parameters).toPromise();\n        console.log(change_etylink_label_req)\n        this.lexicalService.spinnerAction('off');\n        //this.lexicalService.updateLexCard(this.object)\n        this.memoryLinks[index].note = newValue\n        this.toastr.success('EtyLink label updated', '', { timeOut: 5000 })\n\n      } catch (error) {\n        this.lexicalService.spinnerAction('off');\n        this.memoryLinks[index].note = newValue;\n        if(error.status != 200){\n          this.toastr.error(error.error, 'Error', { timeOut: 5000 })\n\n        }else{\n          this.toastr.success('Ok', '', {timeOut: 4000})\n        }\n      }\n    }\n  }\n\n  async onChangeEtylinkType(index, evt) {\n    console.log(index, evt.target.value)\n    this.etyLinkArray = this.etyForm.get('etylink') as FormArray;\n    let selectedValues, etymId;\n    selectedValues = evt.target.value;\n\n    if (this.object.etymology.etymology != undefined) {\n      etymId = this.object.etyLinks[index].etymologicalLink;\n    }\n\n    if (selectedValues != null) {\n\n      //let oldValue = this.memoryLinks[index].etySource;\n      let parameters = {\n        relation: \"http://lari-datasets.ilc.cnr.it/lemonEty#etyLinkType\",\n        value: selectedValues,\n      }\n      console.log(parameters);\n\n      try {\n        let change_etylink_type_req = await this.lexicalService.updateEtylink(etymId, parameters).toPromise();\n      } catch (error) {\n        if (error.status == 200) {\n          this.toastr.success('Etylink type updated', '', { timeOut: 5000 })\n          //this.lexicalService.updateLexCard({ lastUpdate: error.error.text })\n        } else {\n          this.toastr.error(error.error, 'Error', { timeOut: 5000 })\n        }\n      }\n    }\n  }\n\n  async onChangeEtylink(etyLink, index) {\n    console.log(etyLink.selectedItems)\n    this.etyLinkArray = this.etyForm.get('etylink') as FormArray;\n    let selectedValues, etymId, etySourceLabel, instanceName;\n\n    if (!this.etyLinkArray.at(index).get('lila').value) {\n      if (etyLink.selectedItems != undefined) {\n        if (etyLink.selectedItems.length != 0) {\n          selectedValues = etyLink.selectedItems[0].value.lexicalEntry;\n          etySourceLabel = etyLink.selectedItems[0].value.label;\n          instanceName = etyLink.selectedItems[0].value.lexicalEntry;\n        }\n      } else if (etyLink != \"\") {\n        selectedValues = etyLink;\n        etySourceLabel = '';\n        instanceName = etyLink;\n      }\n    } else {\n      selectedValues = etyLink.selectedItems[0].value.lexicalEntry;\n      etySourceLabel = etyLink.selectedItems[0].value.label;\n      instanceName = etyLink.selectedItems[0].value.lexicalEntry;\n    }\n\n\n    //console.log(index);\n    //console.log(this.object.etyLinks[index])\n    if (this.object.etymology.etymology != undefined) {\n      etymId = this.object.etyLinks[index].etymologicalLink;\n    }\n\n    let existOrNot = this.memoryLinks.some(element => element.etySource == instanceName);\n\n    if (typeof (etyLink) != 'string' && !existOrNot) {\n      if (selectedValues != null && etyLink?.selectedItems[0]?.value.new_etymon == undefined) {\n\n        let oldValue = this.memoryLinks[index].etySource;\n        let parameters = {\n          type: \"etyLink\",\n          relation: \"http://lari-datasets.ilc.cnr.it/lemonEty#etySource\",\n          value: selectedValues,\n          currentValue: oldValue\n        }\n\n        console.log(parameters)\n\n        try {\n          let change_etylink_req = await this.lexicalService.updateLinguisticRelation(etymId, parameters).toPromise();\n        } catch (error) {\n          if (error.status == 200) {\n            this.memoryLinks[index]['etySourceLabel'] = etySourceLabel;\n            this.etyLinkArray.at(index).patchValue({ label: etySourceLabel });\n            this.etyLinkArray.at(index).patchValue({ etySource: instanceName });\n            //this.lexicalService.updateLexCard({ lastUpdate: error.error.text }) TODO: inserire updater per decomposition e etymology\n            this.toastr.success('Etylink source updated', '', { timeOut: 5000 })\n          } else {\n            this.toastr.error(error.error, 'Error', { timeOut: 5000 })\n          }\n        }\n      } else if (etyLink.selectedItems[0].value.new_etymon) {\n\n        let label_new_lexical_entry = etyLink.selectedItems[0].value.name;\n        try {\n          let new_lexical_entry_req = this.lexicalService.newLexicalEntry().toPromise();\n          console.log(new_lexical_entry_req);\n\n          let lexical_entry = new_lexical_entry_req['lexicalEntry'];\n          let lexical_entry_in = new_lexical_entry_req['lexicalEntry'];\n          this.memoryLinks[index]['etySourceLabel'] = etySourceLabel;\n          this.etyLinkArray.at(index).patchValue({ lex_entity: label_new_lexical_entry });\n          this.etyLinkArray.at(index).patchValue({ etySource: lexical_entry });\n\n          let parameters = {\n            relation: 'http://www.w3.org/2000/01/rdf-schema#label',\n            value: label_new_lexical_entry\n          }\n          console.log(parameters);\n\n          try {\n            let change_lex_entry_label_req = await this.lexicalService.updateLexicalEntry(lexical_entry_in, parameters).toPromise();\n\n          } catch (error) {\n            this.lexicalService.spinnerAction('off');\n            this.lexicalService.spinnerAction('off');\n\n            parameters = {\n              relation: 'http://lari-datasets.ilc.cnr.it/lemonEty#etyLinkType',\n              value: 'Etymon'\n            }\n            \n            try {\n              let apply_etymon_type_req = await this.lexicalService.updateLexicalEntry(lexical_entry_in, parameters).toPromise();\n            } catch (error) {\n              let oldValue = this.memoryLinks[index].etySource;\n              let parameters = {\n                type: \"etyLink\",\n                relation: \"http://lari-datasets.ilc.cnr.it/lemonEty#etySource\",\n                value: lexical_entry_in,\n                currentValue: oldValue\n              }\n              this.lexicalService.refreshFilter({ request: true });\n\n              try {\n                let change_etysource_req = await this.lexicalService.updateLinguisticRelation(etymId, parameters).toPromise(); \n              } catch (error) {\n                if (error.status == 200) {\n                  this.toastr.success('New etymon created', '', { timeOut: 5000 })\n                  ////this.lexicalService.updateLexCard({ lastUpdate: error.error.text }) TODO: inserire updater per decomposition e etymology\n                }else{\n                  console.log(error)\n                  this.toastr.error(\"Something went wrong, check the log\", \"Error\", {timeOut : 5000})\n                }\n              }\n            }\n          }\n\n        } catch (error) {\n          if(error.status != 200){\n            console.log(error)\n            this.toastr.error(\"Something went wrong, check the log\", \"Error\", {timeOut : 5000})\n          }\n        }\n      \n        //      cambiare tipo lexical entry in etymon\n        //      cambiare label lexical entry\n      }\n    } else if (typeof (etyLink) == 'string' && !existOrNot) {\n      let oldValue = this.memoryLinks[index].etySource;\n      let parameters = {\n        type: \"etyLink\",\n        relation: \"http://lari-datasets.ilc.cnr.it/lemonEty#etySource\",\n        value: selectedValues,\n        currentValue: oldValue\n      }\n\n      console.log(parameters)\n\n      try {\n        let change_etylink_source = await this.lexicalService.updateLinguisticRelation(etymId, parameters).toPromise();\n      } catch (error) {\n        if (error.status == 200) {\n          this.memoryLinks[index]['etySourceLabel'] = etySourceLabel;\n          this.etyLinkArray.at(index).patchValue({ label: etySourceLabel });\n          this.etyLinkArray.at(index).patchValue({ etySource: instanceName });\n          //this.lexicalService.updateLexCard({ lastUpdate: error.error.text }) TODO: inserire updater per decomposition e etymology\n          this.toastr.success('Etylink source updated', '', { timeOut: 5000 })\n        } else {\n          this.toastr.error(error.error, 'Error', { timeOut: 5000 })\n        }\n      }\n      \n    } else if (existOrNot) {\n      this.toastr.error('This etymon already exist, please choose an another etymon', 'Error', {\n        timeOut: 5000\n      })\n    }\n\n\n  }\n\n  createNewEtymon(name) {\n    return new Promise((resolve) => {\n      // Simulate backend call.\n      setTimeout(() => {\n        resolve({ id: 5, name: name, new_etymon: true });\n      }, 1000);\n    })\n  }\n\n  addCognate() {\n    this.cognatesArray = this.etyForm.get('cognates') as FormArray;\n    this.cognatesArray.push(this.createCognate());\n\n  }\n\n  debounceEtylinkLabel(evt, index) {\n    this.lexicalService.spinnerAction('on');\n    this.etylink_label_subject.next({ evt, index })\n  }\n\n  debounceEtylinkNote(evt, index) {\n    this.lexicalService.spinnerAction('on');\n    this.etylink_note_subject.next({ evt, index })\n  }\n\n  addEtyLink(le?, l?, elt?, es?, et?, n?, el?) {\n    this.etyLinkArray = this.etyForm.get('etylink') as FormArray;\n    this.etyLinkArray.push(this.createEtyLink(le, l, elt, es, et, n, el));\n  }\n\n  addNewEtyLink() {\n    this.etyLinkArray = this.etyForm.get('etylink') as FormArray;\n    this.etyLinkArray.push(this.createEtyLink());\n    let index = this.etyLinkArray.length - 1;\n\n    let etyId = this.object.etymology.etymology;\n    let lexId = this.object.parentNodeInstanceName;\n\n    console.log(etyId, lexId)\n\n    this.lexicalService.createNewEtylink(lexId, etyId).subscribe(\n      data => {\n        console.log(data);\n        if (data != null) {\n          let etyTarget = data['etyTarget']\n          let etyType = data['etyLinkType']\n          this.etyLinkArray.at(index).patchValue({ etyTarget: etyTarget });\n          this.etyLinkArray.at(index).patchValue({ etyLinkType: etyType });\n          this.object.etyLinks[index] = data;\n          this.memoryLinks[index] = data;\n          this.toastr.success('New etylink added', '', { timeOut: 5000 })\n        }\n      }, error => {\n        console.log(error)\n        this.toastr.error(error.error, 'Error', { timeOut: 5000 })\n      }\n    )\n  }\n\n  removeEtyLink(index) {\n    this.etyLinkArray = this.etyForm.get('etylink') as FormArray;\n    let etyLinkId = this.memoryLinks[index]['etymologicalLink']\n    \n    this.lexicalService.deleteEtylink(etyLinkId).pipe(takeUntil(this.destroy$)).subscribe(\n      data=>{\n        console.log(data)\n      },error=>{\n        if(error.status == 200){\n          this.toastr.success('Etylink removed', '', { timeOut: 5000 });\n          this.etyLinkArray.removeAt(index);\n          this.memoryLinks.splice(index, 1)\n        }else{\n          this.toastr.error(error.error, 'Error', { timeOut: 5000 })\n        }\n      }\n    );\n    \n  \n    \n      \n    \n    \n  }\n\n  removeCognate(index) {\n    this.etyLinkArray = this.etyForm.get('cognates') as FormArray;\n    this.etyLinkArray.removeAt(index);\n\n  }\n\n  createRelation() {\n    return this.formBuilder.group({\n      trait: '',\n      value: ''\n    })\n  }\n\n  createEtyLink(le?, l?, elt?, es?, et?, n?, el?) {\n    if (le != undefined) {\n      return this.formBuilder.group({\n        lex_entity: new FormControl(le),\n        label: new FormControl(l),\n        etyLinkType: new FormControl(elt),\n        etySource: new FormControl(es),\n        etyTarget: new FormControl(et),\n        note: new FormControl(n),\n        external_iri: new FormControl(el),\n        lila: false\n      })\n    } else {\n      return this.formBuilder.group({\n        lex_entity: new FormControl(null),\n        label: new FormControl(null),\n        etyLinkType: new FormControl(null),\n        etySource: new FormControl(null),\n        etyTarget: new FormControl(null),\n        note: new FormControl(null),\n        external_iri: new FormControl(null),\n        lila: false\n      })\n    }\n\n  }\n\n\n  createCognate() {\n    return this.formBuilder.group({\n      cognate: new FormControl(null),\n      label: new FormControl(null)\n    })\n  }\n\n  triggerCognates(evt) {\n    if (evt.target != undefined) {\n      this.subject_cognates.next(evt.target.value)\n    }\n  }\n\n  triggerCognatesInput(evt, i) {\n    if (evt.target != undefined) {\n      let value = evt.target.value;\n      this.subject_cognates_input.next({ value, i })\n    }\n  }\n\n  triggerEtylink(evt, index) {\n    if (evt.target != undefined) {\n      this.subject_etylink.next({ value: evt.target.value, index: index })\n    }\n  }\n\n  triggerEtylinkInput(evt, i) {\n    if (evt.target != undefined) {\n      let value = evt.target.value;\n      this.subject_etylink_input.next({ value, i })\n    }\n  }\n\n  deleteData() {\n    this.searchResults = [];\n  }\n\n  async onSearchFilter(data) {\n    console.log(data)\n    this.filterLoading = true;\n    this.searchResults = [];\n\n    let value = data.value;\n    let index = data.index;\n\n    this.etyLinkArray = this.etyForm.get('etylink') as FormArray;\n    let isLilaActived = this.etyLinkArray.at(index).get('lila').value;\n\n    if (!isLilaActived) {\n      let parameters = {\n        text: value,\n        searchMode: \"startsWith\",\n        type: \"etymon\",\n        pos: \"\",\n        formType: \"entry\",\n        author: \"\",\n        lang: \"\",\n        status: \"\",\n        offset: 0,\n        limit: 500\n      }\n      console.log(parameters)\n\n      try {\n        let search_req = await this.lexicalService.getLexicalEntriesList(parameters).toPromise();\n        this.searchResults = search_req['list']\n        this.filterLoading = false;\n      } catch (error) {\n        if(error.status != 200){\n          this.toastr.error(\"Something went wrong, check the log\", \"Error\", {timeOut : 5000})\n          this.filterLoading = false;\n        }\n      }\n\n      \n\n    } else {\n\n      try {\n        let query_etymon_req = await this.lilaService.queryEtymon(value).toPromise();\n        if (query_etymon_req.list.length > 0) {\n          const map = query_etymon_req.list.map(element => (\n            {\n              label: element[2]?.value,\n              language: element[1]?.value,\n              lexicalEntry: element[0]?.value\n            })\n          )\n\n          this.searchResults = map;\n          console.log(this.searchResults)\n        }\n      } catch (error) {\n        console.log(error)\n      }\n      \n    }\n\n\n\n\n  }\n\n  ngOnDestroy(): void {\n    this.subject_cognates_subscription.unsubscribe();\n    this.subject_etylink_subscription.unsubscribe();\n    this.subject_etylink_input_subscription.unsubscribe();\n    this.subject_cognates_input_subscription.unsubscribe();\n    this.subject_etylink_note_subscription.unsubscribe();\n    this.subject_etylink_label_subscription.unsubscribe();\n\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n\n\n}\n","\n\n<form [formGroup]=\"etyForm\" *ngIf=\"object != null\"> <!-- *ngIf=\"object!=null\" -->\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <label for=\"inputLabel\" class=\"col-xl-3 col-form-label\">Label:</label>\n        <div class=\"input-group col-xl-7\">\n            <input formControlName=\"label\" name=\"label\" type=\"text\" class=\"form-control\" placeholder=\"\">\n            <div class=\"input-group-append\">\n                <div class=\"input-group-append ml-2\">\n                    <div class=\"dropdown\">\n                        <button class=\"btn btn-outline-primary\" type=\"button\" (click)=\"addNewEtyLink()\">\n                            <i class=\"fa fa-plus\"></i>\n                        </button>\n                        <!-- <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n                          <a class=\"dropdown-item\" (click)=\"addCognate()\" style=\"cursor: pointer;\">Add Cognates</a>\n                          <a class=\"dropdown-item\"  style=\"cursor: pointer;\">Add EtyLink</a>\n                        </div> -->\n                      </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <label for=\"inputLabel\" class=\"col-xl-3 col-form-label\">Author: </label>\n        <div class=\"input-group col-xl-7\">\n            <input formControlName=\"author\" name=\"author\" type=\"text\" class=\"form-control\" placeholder=\"\">\n        </div>\n    </div>\n\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <label for=\"inputLabel\" class=\"col-xl-3 col-form-label\">Uncertain:</label>\n        <div class=\"input-group col-xl-7\">\n            <input formControlName=\"confidence\" name=\"confidence\" type=\"checkbox\" > <!-- [checked]=\"etyForm.get('confidence').value == 0\" -->\n        </div>\n    </div>\n\n    <!-- ETY LINK -->\n    <div formArrayName=\"etylink\">\n        <div *ngFor=\"let etyLink of etyForm['controls'].etylink['controls']; let i = index\">\n            <div [formGroupName]=\"i\">\n                <div class=\"form-group row ml-2 mt-3 mr-2\">\n                    <div class=\"input-group col-xl-12\">\n                        <div class=\"card\">\n                            <span class=\"text-id\"><b>ETY LINK {{i+1}}</b></span>\n                            <!-- <a class=\"pointer\" (click)=\"addRelation(i)\"><span class=\"add-icon\"><i class=\"fa fa-plus-square\"></i></span></a> -->\n                            <a class=\"pointer\" (click)=\"removeEtyLink(i)\"><span class=\"trash-icon\"><i class=\"fa fa-trash\"></i></span></a>\n                            <div class=\"card-body\" *ngIf=\"{external : etyLink.get('external_iri').value }; let variable\">\n\n                                <!-- ETYMON / LEXENT -->\n                                <div class=\"col-xl-12\">\n                                    <div class=\"d-xl-flex\" style=\"align-items: center;\">\n                                        <label class=\"col-xl-3 col-form-label\">Etymon:</label>\n                                        <div class=\"col-xl-9\">\n                                            <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                                <div class=\"input-group\" >\n                                                    <ng-select *ngIf=\"!etyLink.get('lila').value && !variable.external\" #etyLink [addTag]=\"createNewEtymon\" (change)=\"onChangeEtylink(etyLink, i)\" formControlName=\"lex_entity\" name=\"lex_entity\" [items]=\"searchResults\" class=\"resizeNgSelect\" bindLabel=\"label\" bindValue=\"label\" placeholder=\"Search entity\" appendTo=\"body\"\n                                                         (keyup)=\"triggerEtylink($event, i)\" bindValue=\"label\" class=\"resizeNgSelect\" [items]=\"searchResults\"\n                                                        bindLabel=\"label\" placeholder=\"Search entity\" appendTo=\"body\" (focus)=\"deleteData()\">\n                                                    </ng-select>\n                                                    <ng-select *ngIf=\"etyLink.get('lila').value && !variable.external\" #etyLink  [addTag]=\"false\" (change)=\"onChangeEtylink(etyLink, i)\" formControlName=\"lex_entity\" name=\"lex_entity\" [items]=\"searchResults\" class=\"resizeNgSelect\" bindLabel=\"label\" bindValue=\"label\" placeholder=\"Search entity\" appendTo=\"body\"\n                                                         (keyup)=\"triggerEtylink($event, i)\" bindValue=\"label\" class=\"resizeNgSelect\" [items]=\"searchResults\"\n                                                        bindLabel=\"label\" placeholder=\"Search entity\" appendTo=\"body\" (focus)=\"deleteData()\">\n                                                    </ng-select>\n                                                    <input (keyup)=\"triggerEtylinkInput($event, i)\" formControlName=\"lex_entity\" name=\"lex_entity\" type=\"text\" class=\"form-control\" id=\"inputDenotes\" placeholder=\"Insert URI\" *ngIf=\"variable.external\">\n                                                   \n                                                    <div class=\"input-group-append ml-2\" *ngIf=\"!variable.external \">\n                                                        <div class=\"btn-group-toggle\" data-toggle=\"buttons\" placement=\"top\" ngbTooltip=\"Enable LiLa endpoint\" title=\"Enable LiLa endpoint\" >\n                                                            <label class=\"btn btn-secondary\" >\n                                                              <input type=\"checkbox\" autocomplete=\"off\" autocomplete=\"off\" formControlName=\"lila\" name=\"lila\" style=\"border-radius: .3rem;\" > \n                                                                <!-- <img src=\"../../../../../../../assets/images/graphql.png\" alt=\"Avatar\" class=\"image\" style=\"height: 20px;\"> -->\n                                                                <i class=\"fas fa-project-diagram\"></i>\n                                                            </label>\n                                                        </div>\n                                                    </div>\n                                                    <div class=\"input-group-append ml-2\" *ngIf=\"etyLink.get('external_iri').value && etyLink.get('etySource').value != ''\">\n                                                        <a [href]=\"etyLink.get('etySource').value\" target=\"_blank\" class=\"btn btn-primary\" type=\"button\"><i\n                                                                class=\"fa fa-external-link-alt\"></i></a>\n                                                    </div>\n                                                    <div class=\"input-group-append ml-3 form-check\">\n                                                        <input class=\"form-check-input vartrans-tooltip\" formControlName=\"external_iri\" name=\"external_iri\" type=\"checkbox\" (change)=\"variable.external=!variable.external;\" container=\"body\" placement=\"top\" ngbTooltip=\"Insert URL manually\" title=\"Clicca per inserire un URI manualmente\">\n                                                    </div>\n                                                    \n                                                </div>\n                                            </div>                                                  \n                                        </div>\n                                    </div>\n                                </div>\n                                \n                                <!-- LABEL / WRITTEN FORM -->\n                                <div class=\"col-xl-12\" *ngIf=\"variable.external\">\n                                    <div class=\"d-xl-flex\">\n                                        <label class=\"col-xl-3 col-form-label\">Label:</label>\n                                        <div class=\"col-xl-9\">\n                                            <div class=\"form-group row ml-2 mr-2\">\n                                                <div class=\"input-group\" *ngIf=\"{switch : false}; let variable\">\n                                                    \n                                                    <input (keyup)=\"debounceEtylinkLabel($event, i)\" formControlName=\"label\" name=\"label\" type=\"text\" class=\"form-control\">\n                                                    <div class=\"input-group-append ml-3 form-check invisible\">\n                                                        \n                                                    </div>\n                                                </div>\n                                            </div>                                                  \n                                        </div>\n                                    </div>\n                                </div>\n\n                                <!-- ETYLINK TYPE -->\n                                <div class=\"col-xl-12\">\n                                    <div class=\"d-xl-flex\">\n                                        <label class=\"col-xl-3 col-form-label\">EtyLink Type:</label>\n                                        <div class=\"col-xl-9\">\n                                            <div class=\"form-group row ml-2 mr-2\">\n                                                <div class=\"input-group\" *ngIf=\"{switch : false}; let variable\">\n                                                    <select id=\"typeSelect\" formControlName=\"etyLinkType\" name=\"etyLinkType\" class=\"form-control\" (change)=\"onChangeEtylinkType(i, $event)\">\n                                                        <option [selected]=\"etyLink.get('etyLinkType').value == 'inheritance'\" value=\"inheritance\">\n                                                            inheritance\n                                                        </option>\n                                                        <option [selected]=\"etyLink.get('etyLinkType').value == 'borrowing'\" value=\"borrowing\">\n                                                            borrowing\n                                                        </option>\n                                                    </select>\n                                                    <!-- <input formControlName=\"etyLinkType\" name=\"etyLinkType\" type=\"text\" class=\"form-control\"> -->\n                                                    <div class=\"input-group-append ml-3 form-check invisible\">\n                                                        \n                                                    </div>\n                                                </div>\n                                            </div>                                                  \n                                        </div>\n                                    </div>\n                                </div>\n\n                                <!-- ETY SOURCE -->\n                                <div class=\"col-xl-12\">\n                                    <div class=\"d-xl-flex\">\n                                        <label class=\"col-xl-3 col-form-label text-muted\">EtySource:</label>\n                                        <div class=\"col-xl-9\">\n                                            <div class=\"form-group row ml-2 mr-2\">\n                                                <div class=\"input-group\" *ngIf=\"{switch : false}; let variable\">\n                                                    \n                                                    <input formControlName=\"etySource\" name=\"etySource\" type=\"text\" class=\"form-control\" readonly>\n                                                    <div class=\"input-group-append ml-3 form-check invisible\">\n                                                        \n                                                    </div>\n                                                </div>\n                                            </div>                                                  \n                                        </div>\n                                    </div>\n                                </div>\n\n                                <!-- ETY TARGET -->\n                                <div class=\"col-xl-12\">\n                                    <div class=\"d-xl-flex\">\n                                        <label class=\"col-xl-3 col-form-label text-muted\">EtyTarget:</label>\n                                        <div class=\"col-xl-9\">\n                                            <div class=\"form-group row ml-2 mr-2\">\n                                                <div class=\"input-group\" *ngIf=\"{switch : false}; let variable\">\n                                                    \n                                                    <input formControlName=\"etyTarget\" name=\"etyTarget\" type=\"text\" class=\"form-control\" readonly>\n                                                    <div class=\"input-group-append ml-3 form-check invisible\">\n                                                        \n                                                    </div>\n                                                </div>\n                                            </div>                                                  \n                                        </div>\n                                    </div>\n                                </div>   \n\n                                <!-- NOTE -->\n                                <div class=\"col-xl-12\">\n                                    <div class=\"d-xl-flex\">\n                                        <label class=\"col-xl-3 col-form-label\">Note:</label>\n                                        <div class=\"col-xl-9\">\n                                            <div class=\"form-group row ml-2 mr-2\">\n                                                <div class=\"input-group\" *ngIf=\"{switch : false}; let variable\">\n                                                    \n                                                    <textarea (keyup)=\"debounceEtylinkNote($event, i)\" formControlName=\"note\" name=\"note\" type=\"text\" class=\"form-control\" style=\"resize: none;\"></textarea>\n                                                    <div class=\"input-group-append ml-3 form-check invisible\" >\n                                                        \n                                                    </div>\n                                                </div>\n                                            </div>                                                  \n                                        </div>\n                                    </div>\n                                </div>                               \n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n\n    <!-- COGNATES -->\n    <div formArrayName=\"cognates\">\n        <div *ngFor=\"let sub of etyForm['controls'].cognates['controls']; let i = index\">\n            <div [formGroupName]=\"i\">\n                <div class=\"form-group row ml-2 mt-3 mr-2\">\n                    <div class=\"input-group col-xl-12\">\n                        <div class=\"card\">\n                            <span class=\"text-id\"><b>COGNATE {{i+1}}</b></span>\n                            <!-- <a class=\"pointer\" (click)=\"addSubtermElement(i)\"><span class=\"add-icon\"><i class=\"fa fa-plus-square\"></i></span></a> -->\n                            <a class=\"pointer\" (click)=\"removeCognate(i)\"><span class=\"trash-icon\"><i class=\"fa fa-trash\"></i></span></a>\n                            <div class=\"card-body\">\n\n                                <!-- COGNATE -->\n                                <div class=\"col-xl-12\">\n                                    <div class=\"d-xl-flex\" style=\"align-items: center;\">\n                                        <label class=\"col-xl-3 col-form-label\">Cognate:</label>\n                                        <div class=\"col-xl-9\">\n                                            <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                                <div class=\"input-group\" *ngIf=\"{switch : false}; let variable\">\n                                                    <ng-select formControlName=\"cognate\" name=\"cognate\" [items]=\"searchResults\" class=\"resizeNgSelect\" bindLabel=\"label\" bindValue=\"label\" placeholder=\"Search entity\" appendTo=\"body\"\n                                                         *ngIf=\"!variable.switch\" (keyup)=\"triggerCognates($event)\" bindValue=\"label\" class=\"resizeNgSelect\" [items]=\"searchResults\"\n                                                        bindLabel=\"label\" placeholder=\"Search entity\" appendTo=\"body\" (focus)=\"deleteData()\">\n                                                    </ng-select>\n                                                    <input (keyup)=\"triggerCognatesInput($event, i)\" formControlName=\"cognate\" name=\"cognate\" type=\"text\" class=\"form-control\" id=\"inputDenotes\" placeholder=\"Insert URI\" *ngIf=\"variable.switch\">\n                                                    <div class=\"input-group-append ml-3 form-check\">\n                                                        <input class=\"form-check-input vartrans-tooltip\" type=\"checkbox\" (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\" data-placement=\"bottom\" data-trigger=\"hover\" title=\"Clicca per inserire un URI manualmente\">\n                                                    </div>\n                                                    <!-- <div class=\"input-group-append ml-2\">\n                                                        <button class=\"btn btn-primary\" type=\"button\"><i\n                                                                class=\"fa fa-external-link-alt\"></i></button>\n                                                    </div> -->\n                                                </div>\n                                            </div>                                                  \n                                        </div>\n                                    </div>\n                                </div>\n\n                                <!-- LABEL / WRITTEN FORM -->\n                                <div class=\"col-xl-12\">\n                                    <div class=\"d-xl-flex\">\n                                        <label class=\"col-xl-3 col-form-label\">Label / Written Form:</label>\n                                        <div class=\"col-xl-9\">\n                                            <div class=\"form-group row ml-2 mr-2\">\n                                                <div class=\"input-group\" *ngIf=\"{switch : false}; let variable\">\n                                                    \n                                                    <input formControlName=\"label\" name=\"label\" type=\"text\" class=\"form-control\">\n                                                    <div class=\"input-group-append ml-3 form-check invisible\">\n                                                        \n                                                    </div>\n                                                </div>\n                                            </div>                                                  \n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</form>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, ElementRef, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { BibliographyService } from 'src/app/services/bibliography-service/bibliography.service';\nimport { DocumentSystemService } from 'src/app/services/document-system/document-system.service';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\n\n@Component({\n  selector: 'app-lexicon-page',\n  templateUrl: './lexicon-page.component.html',\n  styleUrls: ['./lexicon-page.component.scss']\n})\nexport class LexiconPageComponent implements OnInit, OnDestroy {\n  subscription: Subscription;\n  metadata_subscr : Subscription;\n  object: any;\n  @ViewChild('accordion') accordion: ElementRef; \n\n  constructor(private documentService : DocumentSystemService, private lexicalService: LexicalEntriesService, private biblioService : BibliographyService) { }\n\n  notes = '';\n  link = [];\n  bibliography = [];\n  attestation : any;\n  metadata : any;\n\n  note_panel_subscription : Subscription;\n  trigger_att_panel_subscription : Subscription;\n  trigger_biblio_panel_subscription : Subscription;\n  attestation_panel_subscription : Subscription;\n  medatata_panel_subscription : Subscription;\n  trigger_metatada_panel_subscription : Subscription;\n  right_panel_subscription : Subscription;\n\n  ngOnInit(): void {\n\n    this.note_panel_subscription = this.lexicalService.triggerNotePanel$.subscribe(\n      boolean => {\n        setTimeout(() => {\n          if(boolean != null){\n            if(boolean){\n              let a_link = this.accordion.nativeElement.querySelectorAll('a[data-target=\"#noteCollapse\"]');\n              let collapse_container = this.accordion.nativeElement.querySelectorAll('div[aria-labelledby=\"noteHeading\"]');\n              let item_collapse = this.accordion.nativeElement.querySelectorAll('[id^=\"collapse-\"]');\n              a_link.forEach(element => {\n                if(element.classList.contains(\"collapsed\")){\n                  element.classList.remove('collapsed')\n                }else{\n                  //element.classList.add('collapsed')\n                }\n              })\n  \n              collapse_container.forEach(element => {\n                if(element.classList.contains(\"show\")){\n                  //element.classList.remove('collapsed')\n                }else{\n                  element.classList.add('show')\n                }\n              })\n  \n              item_collapse.forEach(element => {\n                if(element == item_collapse[item_collapse.length-1]){\n                  element.classList.add('show')\n                }else{\n                  element.classList.remove('show')\n                }\n              });\n            }else{\n              setTimeout(() => {\n                let a_link = this.accordion.nativeElement.querySelectorAll('a[data-target=\"#noteCollapse\"]');\n                a_link.forEach(element => {\n                  element.classList.add('collapsed')\n                  \n                })\n  \n                let collapse_container = this.accordion.nativeElement.querySelectorAll('div[aria-labelledby=\"noteHeading\"]');\n                collapse_container.forEach(element => {\n                  console.log(element)\n                  if(element.classList.contains(\"show\")){\n                    element.classList.remove('show')\n                  }\n                })\n              }, 100);\n              \n            }\n          }\n        }, 100);\n        \n      }\n    )\n\n    this.trigger_att_panel_subscription = this.lexicalService.triggerAttestationPanel$.subscribe(\n      boolean => {\n        setTimeout(() => {\n          if(boolean != undefined){\n            //console.log(boolean)\n            if(boolean){\n              let a_link = this.accordion.nativeElement.querySelectorAll('a[data-target=\"#attestationCollapse\"]');\n              let collapse_container = this.accordion.nativeElement.querySelectorAll('div[aria-labelledby=\"attestationHeading\"]');\n              let item_collapse = this.accordion.nativeElement.querySelectorAll('[id^=\"collapse-\"');\n              a_link.forEach(element => {\n                if(element.classList.contains(\"collapsed\")){\n                  element.classList.remove('collapsed')\n                }else{\n                  //element.classList.add('collapsed')\n                }\n              })\n  \n              collapse_container.forEach(element => {\n                if(element.classList.contains(\"show\")){\n                  //element.classList.remove('collapsed')\n                }else{\n                  element.classList.add('show')\n                }\n              })\n  \n              /* item_collapse.forEach(element => {\n                if(element == item_collapse[item_collapse.length-1]){\n                  element.classList.add('show')\n                }else{\n                  element.classList.remove('show')\n                }\n              }); */\n            }else{\n              setTimeout(() => {\n                let a_link = this.accordion.nativeElement.querySelectorAll('a[data-target=\"#attestationCollapse\"]');\n                a_link.forEach(element => {\n                  element.classList.add('collapsed')\n                  \n                })\n  \n                let collapse_container = this.accordion.nativeElement.querySelectorAll('div[aria-labelledby=\"attestationHeading\"]');\n                collapse_container.forEach(element => {\n                  //console.log(element)\n                  if(element.classList.contains(\"show\")){\n                    element.classList.remove('show')\n                  }\n                })\n              }, 100);\n              \n            }\n          }\n        }, 100);\n        \n      }\n    )\n\n    this.trigger_biblio_panel_subscription = this.biblioService.triggerPanel$.subscribe(\n      object => {\n        if(object != undefined){\n          let a_link = this.accordion.nativeElement.querySelectorAll('a[data-target=\"#bibliographyCollapse\"]');\n          let collapse_container = this.accordion.nativeElement.querySelectorAll('div[aria-labelledby=\"bibliographyHeading\"]');\n          let item_collapse = this.accordion.nativeElement.querySelectorAll('[id^=\"collapse-\"');\n          a_link.forEach(element => {\n            if(element.classList.contains(\"collapsed\")){\n              element.classList.remove('collapsed')\n            }else{\n              //element.classList.add('collapsed')\n            }\n          })\n\n          collapse_container.forEach(element => {\n            if(element.classList.contains(\"show\")){\n              //element.classList.remove('collapsed')\n            }else{\n              element.classList.add('show')\n            }\n          })\n\n          item_collapse.forEach(element => {\n            if(element == item_collapse[item_collapse.length-1]){\n              element.classList.add('show')\n            }else{\n              element.classList.remove('show')\n            }\n          });\n        }\n        \n      }\n    )\n\n    this.attestation_panel_subscription = this.lexicalService.attestationPanelData$.subscribe(\n      data => {\n       // console.log(data)\n        if(data != null){\n          if(Array.isArray(data)){\n            this.attestation = data;\n          }else{\n            this.attestation = [data];\n          }\n        }else{\n          this.attestation = null;\n        }\n      }\n    );\n\n    this.medatata_panel_subscription = this.documentService.metadataData$.subscribe(\n      data => {\n        console.log(data);\n        if(data != null){\n          this.metadata = data;\n        }else{\n          this.metadata = null;\n        }\n      }\n    )\n\n    this.trigger_metatada_panel_subscription = this.documentService.triggerMetadataPanel$.subscribe(\n      boolean => {\n        setTimeout(() => {\n          console.log(boolean)\n          if(boolean != null){\n            if(boolean){\n              let a_link = this.accordion.nativeElement.querySelectorAll('a[data-target=\"#metadataCollapse\"]');\n              let collapse_container = this.accordion.nativeElement.querySelectorAll('div[aria-labelledby=\"metadataHeading\"]');\n              let item_collapse = this.accordion.nativeElement.querySelectorAll('[id^=\"collapse-\"');\n              a_link.forEach(element => {\n                if(element.classList.contains(\"collapsed\")){\n                  element.classList.remove('collapsed')\n                }else{\n                  //element.classList.add('collapsed')\n                }\n              })\n  \n              collapse_container.forEach(element => {\n                if(element.classList.contains(\"show\")){\n                  //element.classList.remove('collapsed')\n                }else{\n                  element.classList.add('show')\n                }\n              })\n  \n              item_collapse.forEach(element => {\n                if(element == item_collapse[item_collapse.length-1]){\n                  element.classList.add('show')\n                }else{\n                  element.classList.remove('show')\n                }\n              });\n            }else{\n              setTimeout(() => {\n                let a_link = this.accordion.nativeElement.querySelectorAll('a[data-target=\"#metadataCollapse\"]');\n                a_link.forEach(element => {\n                  element.classList.add('collapsed')\n                  \n                })\n  \n                let collapse_container = this.accordion.nativeElement.querySelectorAll('div[aria-labelledby=\"metadataHeading\"]');\n                collapse_container.forEach(element => {\n//                  console.log(element)\n                  if(element.classList.contains(\"show\")){\n                    element.classList.remove('show')\n                  }\n                })\n              }, 100);\n              \n            }\n          }\n        }, 100);\n        \n      }\n    )\n\n    this.right_panel_subscription = this.lexicalService.rightPanelData$.subscribe(\n      object => {\n        this.object = object;\n        /* console.log(this.object) */\n        if(this.object !=null){\n          if(this.object.etymology != undefined){\n            this.notes = this.object['etymology'];\n            this.link = this.object['etymology'];\n            this.bibliography = this.object['etymology'];\n          }else{\n            this.notes = this.object;\n            this.link = this.object;\n            this.bibliography = this.object;\n          }\n        }else{\n          this.notes = null;\n          this.link = null;\n          this.bibliography = null;\n        }\n      }\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.medatata_panel_subscription.unsubscribe();\n    this.note_panel_subscription.unsubscribe();\n    this.trigger_biblio_panel_subscription.unsubscribe();\n    this.trigger_att_panel_subscription.unsubscribe();\n    this.medatata_panel_subscription.unsubscribe();\n    this.attestation_panel_subscription.unsubscribe();\n    this.trigger_metatada_panel_subscription.unsubscribe();\n    this.right_panel_subscription.unsubscribe();\n  }\n}\n","\n\n<div class=\"container-fluid\">\n\t<div class=\"row\" >\n\t\t<div class=\"col-md-9\">\n\t\t\t<app-lexicon-panel></app-lexicon-panel>\n\t\t</div>\n\t\t<div class=\"col-md-3 \">\n\t\t\t<div class=\"container-fluid p-1\">\n\t\t\t\t<div id=\"accordion\" #accordion>\n\t\t\t\t\t<app-note-panel [noteData]=\"notes\"></app-note-panel>\n\t\t\t\t\t<app-link-panel [linkData]=\"link\"></app-link-panel>\n\t\t\t\t\t<app-bibliography-panel [biblioData]=\"bibliography\" id=\"bibliographyPanel\"></app-bibliography-panel>\n\t\t\t\t\t<app-attestation-panel [attestationData]=\"attestation\"></app-attestation-panel>\n\t\t\t\t\t<app-metadata-panel [metadataData]=\"metadata\"></app-metadata-panel>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nexport interface LexicalEntryRequest {\n  text: string,\n  searchMode: searchModeEnum,\n  type: typeEnum | string,\n  pos: string,\n  formType: formTypeEnum | string,\n  author: string,\n  lang: string,\n  status: string,\n  offset: number,\n  limit: number\n}\n\nexport enum searchModeEnum {\n  equals = \"equals\",\n  startsWith = \"startsWith\",\n  contains = \"contains\",\n  endsWith = \"endsWith\"\n}\n\nexport enum typeEnum {\n  word = \"word\",\n  multi = \"multi-word expression\",\n  affix = \"affix\"\n}\n\nexport enum formTypeEnum {\n  flexed = \"flexed\",\n  entry = \"entry\"\n}","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { DatePipe } from '@angular/common';\nimport { ChangeDetectionStrategy, Component, ElementRef, HostListener, OnDestroy, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { FormGroup, FormControl, Validators, FormArray, FormBuilder, ValidatorFn, AbstractControl } from '@angular/forms';\nimport { TreeNode, TreeModel, TREE_ACTIONS, KEYS, IActionMapping, ITreeOptions } from '@circlon/angular-tree-component';\nimport { ModalComponent } from 'ng-modal-lib';\nimport { ContextMenuComponent } from 'ngx-contextmenu';\nimport { ToastrService } from 'ngx-toastr';\nimport { Subject } from 'rxjs';\nimport { debounceTime, take, takeUntil } from 'rxjs/operators';\nimport { AnnotatorService } from 'src/app/services/annotator/annotator.service';\nimport { DocumentSystemService } from 'src/app/services/document-system/document-system.service';\nimport { ExpanderService } from 'src/app/services/expander/expander.service';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\nimport { v4 } from 'uuid';\n\n\n\nconst actionMapping: IActionMapping = {\n  mouse: {\n    /* dblClick: (tree, node, $event) => {\n      if (node.hasChildren) {\n        TREE_ACTIONS.TOGGLE_EXPANDED(tree, node, $event);\n      }\n    }, */\n    click: (tree, node, $event) => {\n      $event.shiftKey\n        ? TREE_ACTIONS.TOGGLE_ACTIVE_MULTI(tree, node, $event)\n        : TREE_ACTIONS.TOGGLE_ACTIVE(tree, node, $event);\n      \n      if(node.data.rename_mode){\n        $event.preventDefault();\n      }/* else{\n        TREE_ACTIONS.TOGGLE_ACTIVE(tree, node, $event);\n      } */\n    },\n    expanderClick: (tree, node, $event) => {\n      if(node.data.rename_mode){\n        $event.preventDefault();\n      }else{\n        //console.log(node);\n        TREE_ACTIONS.TOGGLE_EXPANDED(tree, node, $event);\n      }\n    }\n    /* contextMenu: (tree, node, $event) => {\n      //$event.preventDefault();\n      //alert(`context menu for ${node.data.name}`);\n      TREE_ACTIONS.TOGGLE_ACTIVE(tree, node, $event);\n    } */\n  },\n  keys: {\n    [KEYS.ENTER]: (tree, node, $event) => alert(`This is ${node.data.name}`)\n  }\n};\n\n\n\n@Component({\n  selector: 'app-text-tree',\n  templateUrl: './text-tree.component.html',\n  styleUrls: ['./text-tree.component.scss'],\n  providers: [DatePipe],\n})\n\nexport class TextTreeComponent implements OnInit, OnDestroy {\n  @ViewChild('metadata_tags') metadata_tags_element: any;\n  @ViewChild('treeText') treeText: any;\n  @ViewChild(ContextMenuComponent) public basicMenu: ContextMenuComponent;\n  \n  @HostListener('document:click', ['$event'])\n  clickout(event : MouseEvent) {\n    if(this.renameNode_input != undefined){\n      if(this.renameNode_input.nativeElement.contains(event.target)) {\n        console.log(\"clicked inside\");\n        event.stopPropagation();\n      } else {\n        console.log(\"clicked outside\");\n        \n        var that = this;\n\n        setTimeout(() => {\n          //@ts-ignore\n          $('.input-tooltip').tooltip('hide');\n          setTimeout(() => {\n            that.treeText.treeModel.getNodeBy(\n              item => {\n                item.data.rename_mode = false;\n              }\n            )\n          }, 100);\n        }, 300);\n      }\n    }\n  }\n  \n  show = false;\n  nodes = [];\n\n  renameNodeSelected : any;\n  validName = null;\n  searchIconSpinner = false;\n  searchIconSpinner_input = false;\n  selectedFileToCopy : any;\n  selectedFileToCopyArray : any;\n  selectedNodeId;\n  selectedEpidocId;\n\n  storeTempRemoveFile_data : any;\n\n  memoryMetadata = [];\n  metadataForm = new FormGroup({\n    element_id : new FormControl(null),\n    metadata_array: new FormArray([], [Validators.required]),\n  })\n  \n  \n  metadata_array: FormArray;\n  metadata_search : FormArray;\n  destroy$ : Subject<boolean> = new Subject();\n  \n  options: ITreeOptions = {\n    actionMapping,\n    allowDrag: (node) => node.isLeaf,\n    allowDrop: (element, { parent, index }) => {\n      // return true / false based on element, to.parent, to.index. e.g.\n      //console.log(element, parent, index, parent.data.type == 'folder')\n      return parent.data.type == 'directory';\n    },\n    getNodeClone: (node) => ({\n      ...node.data,\n      id: v4(),\n      name: `copy of ${node.data.name}`\n    })\n  };\n\n  \n/*   @ViewChild('renameFolderInput') renameFolder_input:ElementRef; \n  @ViewChild('renameFileInput') renameFile_input:ElementRef;  */\n  @ViewChild('uploadFile') uploadFile_input:ElementRef; \n  @ViewChild('updateFileMetadata') updateFileMetadata_input:ElementRef; \n  @ViewChild('renameNodeInput') renameNode_input:ElementRef; \n  /* @ViewChild('renameFolderModel', {static: false}) renameFolderModal: ModalComponent; */\n  @ViewChild('editMetadata', {static: false}) editMetadataModal: ModalComponent;\n  \n  date = this.datePipe.transform(new Date(), 'yyyy-MM-ddThh:mm');\n  counter = 0;\n\n  textFilterForm = new FormGroup({\n    search_text : new FormControl(null),\n    search_mode : new FormControl(null),\n    import_date : new FormControl(this.date),\n    date_mode : new FormControl(''),\n    /* metadata_array : new FormArray([this.createMetadataItemSearch()]) */\n  })\n\n  initialValues;\n\n  \n  \n  constructor(private lexicalService: LexicalEntriesService, private annotatorService : AnnotatorService, private expander : ExpanderService, private element: ElementRef, private documentService: DocumentSystemService, private renderer: Renderer2, private formBuilder: FormBuilder, private datePipe:DatePipe, private toastr: ToastrService) { }\n\n  ngOnInit(): void {\n    this.loadTree();\n    \n    this.textFilterForm = this.formBuilder.group({\n      search_text : new FormControl(null),\n      search_mode : new FormControl('start'),\n      import_date : new FormControl(this.date),\n      date_mode : new FormControl('until'),\n      metadata_array : new FormArray([])\n    })\n\n    this.onChanges();\n    \n    this.metadataForm = this.formBuilder.group({\n      element_id : new FormControl(null),\n      name : new FormControl(null),\n      metadata_array: new FormArray([], [Validators.required]),\n    });\n\n    this.initialValues = this.textFilterForm.value\n  }\n\n  onChanges() {\n    this.textFilterForm.valueChanges.pipe(debounceTime(500), takeUntil(this.destroy$)).subscribe(searchParams => {\n      console.log(searchParams)\n      this.searchFilter(searchParams)\n    })\n  }\n  \n  onEvent = ($event: any) => {\n    console.log($event);\n\n    if ($event.eventName == 'activate' && $event.node.data.type != 'directory' && this.selectedNodeId != $event.node.data['element-id']) {\n      this.selectedNodeId = $event.node.data['element-id'];\n      this.selectedEpidocId = $event.node.data.metadata['itAnt_ID'];\n      //@ts-ignore\n      $(\"#epigraphyTabModal\").modal(\"show\");\n      $('.modal-backdrop').appendTo('.epigraphy-tab-body');\n      //@ts-ignore\n      $('#epigraphyTabModal').modal({backdrop: 'static', keyboard: false})  \n      $('body').removeClass(\"modal-open\")\n      $('body').css(\"padding-right\", \"\");\n\n\n      if(this.selectedEpidocId == undefined){\n        if($event.node.data.name != undefined || $event.node.data.name != ''){\n          this.selectedEpidocId = $event.node.data.name;\n        }else{\n          this.selectedEpidocId = 'Unnamed'\n        }\n      }\n      \n\n      this.documentService.getContent(this.selectedNodeId).pipe(takeUntil(this.destroy$)).subscribe(\n        data=>{\n\n          //console.log(\"XML\", data)\n          let text = data.text;\n          let object = {\n            xmlString : text\n          }\n\n          let xmlDom = new DOMParser().parseFromString(text, \"text/xml\");\n\n          this.annotatorService.getTokens(this.selectedNodeId).pipe(takeUntil(this.destroy$)).subscribe(\n            data => {\n    \n              console.log(data)\n              let element_id = this.selectedNodeId;\n              let tokens = data.tokens;\n\n\n              this.documentService.sendToEpigraphyTab({\n                tokens : tokens,\n                element_id : element_id,\n                epidoc_id : this.selectedEpidocId,\n                xmlDoc : xmlDom\n              })\n\n    \n              if(!this.expander.isEditTabOpen() && !this.expander.isEpigraphyTabOpen()){\n                if(!this.expander.isEditTabExpanded() && !this.expander.isEpigraphyTabExpanded()){\n                  \n                  this.expander.expandCollapseEpigraphy(true);\n                  this.expander.openCollapseEpigraphy(true);\n                }\n              }else if(this.expander.isEditTabOpen() && !this.expander.isEpigraphyTabOpen()){\n                if(this.expander.isEditTabExpanded() && !this.expander.isEpigraphyTabExpanded()){\n                  this.expander.openCollapseEpigraphy(true);\n                  this.expander.expandCollapseEdit(false);\n                }\n              }\n    \n              let metadata = $event.node.data.metadata;\n              metadata['path'] = $event.node.data.path;\n              metadata['element-id'] = $event.node.data['element-id'];\n              if(metadata != undefined && Object.keys(metadata).length > 5){\n                this.documentService.sendToMetadataPanel(metadata);\n                this.documentService.triggerMetadataPanel(true)\n              }else{\n                this.documentService.sendToMetadataPanel(null);\n                this.documentService.triggerMetadataPanel(false)\n              }\n            },\n            error => {\n              console.log(error)\n            }\n          );\n\n          this.documentService.sendLeidenToEpigraphyTab(null);\n          this.documentService.testConvert(object).pipe(takeUntil(this.destroy$)).subscribe(\n            data=>{\n              //console.log(\"TEST\", data);\n              \n              if(data != undefined){\n                try {\n                  let raw = data.xml;\n                  let HTML =  new DOMParser().parseFromString(raw, \"text/html\");\n                  console.log(HTML)\n\n                  let domNodes = new DOMParser().parseFromString(raw, \"text/html\").querySelectorAll('#edition #edition .textpart');\n                  let childNodes = [];\n                  if(Array.from(domNodes).length > 1){\n                    Array.from(domNodes).forEach(childNode=> {\n                      Array.from(childNode.childNodes).forEach(subChild => {\n                        Array.from(subChild.childNodes).forEach(x => {\n                          childNodes.push(x)\n                        })\n                      })\n                    })\n                  }else{\n                    childNodes = Array.from(new DOMParser().parseFromString(raw, \"text/html\").querySelectorAll('#edition .textpart')[0].childNodes[0].childNodes);\n                  }\n                  \n                  \n                  \n                  let leidenLines = []; \n\n                  for(var i = 0; i < childNodes.length; i++){\n                    let node = childNodes[i];\n\n                    if(node.nodeName == 'A' || node.nodeName == 'BR'){\n                      \n                      let string = '';\n                      //console.log(\"LINE BREAK: \" + i)\n                      for(var j = i; j < childNodes.length; j++){\n\n                        let textNode = childNodes[j];\n                        \n                        if(textNode.nodeName == '#text' && textNode.nodeValue.trim() != ''){\n\n                          string += textNode.nodeValue;\n\n                          if(j == childNodes.length-1){\n                            leidenLines.push(string);\n                            break;\n                          }\n\n                          //console.log(textNode.nodeValue)\n                        }else if((textNode.nodeName == 'BR' || textNode?.id?.toLowerCase().includes('face'))&& i != j){\n                          leidenLines.push(string)\n                          \n                          i = j-1;\n                          break;\n                        }\n\n                        if(j == childNodes.length-1 && string != ''){\n                          leidenLines.push(string);\n                          break;\n                        }\n                      }\n                    }\n                  }\n\n                  this.documentService.sendLeidenToEpigraphyTab(leidenLines);\n\n\n                  let translations = new DOMParser().parseFromString(raw, \"text/html\").querySelectorAll('#translation');\n                  let translationArray = [];            \n                  translations.forEach(element=>{\n                    let childNodes = element.childNodes;\n                    let string = '';\n                    childNodes.forEach((child : any) =>{\n                      if(child.nodeName == 'P'){\n                        \n                        string += child.innerHTML;\n                      }\n                    })\n                    translationArray.push(string)\n                  })\n                  \n                  this.documentService.sendTranslationToEpigraphyTab(translationArray);\n                  this.annotatorService.getIdText(this.selectedEpidocId);\n                } catch (error) {\n                  console.log(error)\n                  \n                }\n              } \n            },error =>{\n              console.log(\"ERROR TEST\", error)\n              this.documentService.sendLeidenToEpigraphyTab(null);\n              this.documentService.sendTranslationToEpigraphyTab(null);\n            }\n          )\n\n        },error=>{\n          console.log(error)\n        }\n      )\n\n      \n      \n      \n      \n\n      /* this.annotatorService.getText(this.selectedNodeId).subscribe(\n        data=>{\n          console.log(data);\n          if(data != undefined){\n            this.documentService.sendTextToEpigraphyTab(data.text);\n          }\n        },\n        error=>{\n          if(error.status == 200){\n            if(error.error.text != \"\"){\n              this.documentService.sendTextToEpigraphyTab(error.error.text);\n            }  \n          }\n          console.log(error)\n        }\n      ) */\n\n      \n    \n    }\n  }\n\n  \n\n  onMoveNode($event) {\n    console.log($event);\n    let node_type = $event.node.type;\n    let target_type = $event.to.parent.type;\n    if(node_type === 'directory' && target_type === 'directory'){\n      this.moveFolder($event)\n    }else if(node_type === 'file' && target_type === 'directory'){\n      this.moveFile($event)\n    }\n    \n  }\n\n  loadTree(){\n    this.documentService.getDocumentSystem().subscribe(\n      data => {\n        console.log(data);\n\n        if(data['documentSystem'].length != 0){\n          //console.log(\"CIAO\")\n          this.nodes = data['documentSystem'];\n          setTimeout(() => {\n            this.treeText.treeModel.getNodeBy(\n              item => {\n                item.data.rename_mode = false;\n              }\n            )\n          }, 100);\n        }\n        \n        \n        this.counter = data['results'];\n      },\n      error => {\n        console.log(error)\n      }\n    )\n  }\n\n  \n\n  isFolder = (item : any) : boolean =>{\n    if(item.type != undefined){\n      return item.type == 'directory' && (this.treeText.treeModel.activeNodes.length == 1 || this.treeText.treeModel.activeNodes.length == 0);\n    }else{\n      return false\n    }\n  }\n\n  isFile = (item : any) : boolean =>{\n    if(item.type != undefined){\n      return item.type == 'file' && (this.treeText.treeModel.activeNodes.length == 1 || this.treeText.treeModel.activeNodes.length == 0);\n    }else{\n      return false\n    }\n  }\n\n  enableMetadata = (item : any) : boolean => {\n    return (item.type == 'file' || item.type == 'folder') && (this.treeText.treeModel.activeNodes.length == 1 || this.treeText.treeModel.activeNodes.length == 0);\n  }\n\n  multipleSelection = (item : any): boolean =>{\n    //console.log(this.treeText.treeModel.activeNodes)\n    return this.treeText.treeModel.activeNodes.length > 1;\n  }\n\n  noRoot(item : any){\n    return item.name != 'root';\n  }\n\n  isFolderMultiple = (item : any) : boolean => {\n    if(this.selectedFileToCopyArray != undefined){\n      return item.type == 'directory' && this.selectedFileToCopyArray.length > 1;\n    }else{\n      return false;\n    }\n  }\n\n  pasteElementsReq = (item : any) : boolean => {\n    if(this.selectedFileToCopyArray != undefined){\n      return this.selectedFileToCopyArray.length > 1;\n    }else{\n      return false;\n    }\n    \n  }\n\n  pasteElements(item){\n    console.log(item)\n    let target_element_id = item['element-id']\n    if(this.selectedFileToCopyArray != undefined){\n      this.selectedFileToCopyArray.forEach((element : any) => {\n        if(element.data.type == 'file'){\n\n          let parameters = {\n            \"requestUUID\": \"string\",\n            \"user-id\": 0,\n            \"element-id\": element?.data['element-id'],\n            \"target-id\": target_element_id\n          }\n\n          this.documentService.copyFileTo(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n            data=>{\n              console.log(data);\n              //this.nodes = data['documentSystem'];\n              this.toastr.info('File '+ element?.data?.name +' copied', '', {\n                timeOut: 5000,\n              });\n              this.treeText.treeModel.getNodeBy(x => {\n                if(x.data['element-id'] === target_element_id){\n                  console.log('entrato')\n                  x.expand();\n      \n                  let node = {\n                    children : element?.data.children,\n                    \"element-id\" : element?.data['element-id']+123213,\n                    id : element?.data?.id+1232312,\n                    metadata : element?.data?.metadata,\n                    name : element?.data?.name,\n                    path : element?.data?.path,\n                    rename_mode : false,\n                    type : element?.data?.type\n                  }\n                  \n                  x.data.children.push(node)\n                    setTimeout(() => {\n                      this.counter = this.nodes.length;\n                      this.updateTreeView();\n                      this.treeText.treeModel.update();\n                      //this.treeText.treeModel.getNodeById(node.id).setActiveAndVisible();\n                    }, 100);\n                  }\n                })              \n      \n                this.treeText.treeModel.update()\n              \n                this.selectedFileToCopyArray = null;\n            },error=>{\n              //console.log(error)\n              this.selectedFileToCopyArray = null;\n            }\n          )\n        }else{\n          this.toastr.error('You can\\'t copy folder, please select only files or move entire folder', 'Error', {\n            timeOut: 5000\n          })\n        }\n      });\n    }\n  }\n\n  copyElements(){\n    this.selectedFileToCopy = null;\n    this.selectedFileToCopyArray = this.treeText.treeModel.activeNodes;\n  }\n  \n  removeElements(){\n    let selected_elements = Array.from(this.treeText.treeModel.activeNodes);\n    selected_elements.forEach(\n      (elements : any) => {\n        try {\n          let data_node = elements.data;\n          let parameters = {\n            \"requestUUID\" : \"string\",\n            \"user-id\" : 0,\n            \"element-id\" : data_node['element-id'],\n          }\n\n          if(data_node.type == 'file'){\n            this.documentService.removeFile(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n              data=>{\n                console.log(data);\n                this.toastr.info('File '+ data_node.name +' deleted', '', {\n                  timeOut: 5000,\n                });\n                \n                //this.nodes = data['documentSystem'];\n                this.lexicalService.sendToAttestationPanel(null);\n                this.documentService.sendToEpigraphyTab(null)\n                this.expander.expandCollapseEpigraphy(false);\n                this.expander.openCollapseEpigraphy(false);\n\n                if(this.expander.isEditOpen){\n                  this.expander.expandCollapseEdit(true);\n                }\n      \n                this.documentService.sendToMetadataPanel(null)\n                \n                /* expandedNodes.forEach( (node: TreeNode) => {\n                \n                  setTimeout(() => {\n                    this.treeText.treeModel.getNodeBy(x => {\n                      if(x.data['element-id'] === node.data['element-id']){\n                        x.expand()\n                      }\n                    })              \n                  }, 300);\n                }) */\n      \n                this.treeText.treeModel.getNodeBy(x => {\n                  if(x.data['element-id'] === data_node['element-id']){\n                    x.parent.data.children.splice(x.parent.data.children.indexOf(x.data), 1)\n                  }\n                })\n      \n                this.treeText.treeModel.update()\n      \n                setTimeout(() => {\n                  console.log(this.nodes)\n                  this.counter = this.nodes.length;\n                }, 100);\n                \n                \n              },error=>{\n                console.log(error)\n                if(typeof(error.error) == 'string'){\n                  this.toastr.info(error.error, '', {\n                    timeOut: 5000,\n                  });\n                }\n                \n              }\n            )\n          }else if(data_node.type == 'directory'){\n            this.documentService.removeFolder(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n              data=>{\n                console.log(data);\n                \n                this.toastr.info('Folder ' + data_node.name + ' removed correctly', 'Info', {\n                  timeOut: 5000\n                })\n      \n                this.treeText.treeModel.getNodeBy(x => {\n                  if(x.data['element-id'] === data_node['element-id']){\n                    x.parent.data.children.splice(x.parent.data.children.indexOf(x.data), 1)\n                  }\n                })\n      \n                this.treeText.treeModel.update()\n      \n                setTimeout(() => {\n                  console.log(this.nodes)\n                  this.counter = this.nodes.length;\n                }, 100);\n                \n                \n              },error=>{\n                console.log(error)\n                this.toastr.error('Something went wront ', 'Error', {\n                  timeOut: 5000\n                })\n                if(typeof(error.error) == 'string'){\n                  this.toastr.info(error.error, '', {\n                    timeOut: 5000,\n                  });\n                }\n              }\n            )\n          }\n\n          \n        } catch (error) {\n          \n        }\n        \n\n      }\n    )\n  }\n\n  createNewFile(evt){\n    if(evt != undefined){\n      console.log(evt)\n      let element_id = evt['element-id'];\n      let parameters = {\n        requestUUID : \"string\",\n        \"user-id\" : 0,\n        \"element-id\" : element_id,\n        filename : \"new_file\"+Math.floor(Math.random() * (99999 - 10) + 10)\n      }\n\n      this.documentService.createFile(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data =>{\n          console.log(data)\n          this.treeText.treeModel.getNodeBy(x => {\n            if(x.data['element-id'] === element_id){\n              x.expand()\n              \n              this.toastr.info('New file added', '', {\n                timeOut: 5000,\n              });\n              console.log(x)\n              x.data.children.push(data.node)\n              setTimeout(() => {\n                this.counter = this.nodes.length;\n                this.updateTreeView();\n                this.treeText.treeModel.update();\n                this.treeText.treeModel.getNodeById(data.node.id).setActiveAndVisible();\n              }, 100);\n              \n            }\n          })\n        },error=> {\n          console.log(error)\n        }\n      )\n    }\n  }\n  \n\n  addFolder(evt){\n    if(evt != undefined){\n      let element_id = evt['element-id'];\n      let parameters = {\n        \"requestUUID\" : \"string\",\n        \"user-id\" : 0,\n        \"element-id\" : element_id\n      }\n      \n      const expandedNodes = this.treeText.treeModel.expandedNodes;\n      \n      this.documentService.addFolder(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data=>{\n          console.log(data)\n          this.toastr.info('New folder added', '', {\n            timeOut: 5000,\n          });\n          this.treeText.treeModel.getNodeBy(x => {\n            if(x.data['element-id'] === element_id){\n              x.expand()\n\n              let element_id_new_node = data.node['element-id'];\n              let id_new_node = Math.floor(Math.random() * (9728157429307 - 1728157429307) + 1728157429307);\n              let new_node = {\n                \"children\" : [],\n                \"element-id\" : element_id_new_node,\n                \"id\" : id_new_node,\n                \"metadata\" : {},\n                \"path\" : \"\",\n                \"name\" : data.node.name,\n                \"type\" : \"directory\",\n                \"rename_mode\" : false\n              }\n              console.log(x)\n              x.data.children.push(new_node);\n              \n              setTimeout(() => {\n                this.updateTreeView();\n                this.treeText.treeModel.update();\n                this.treeText.treeModel.getNodeById(id_new_node).setActiveAndVisible();\n              }, 100);\n              \n            }\n          }) \n          \n        },error=>{\n          console.log(error)\n        }\n      )\n    }\n  }\n\n  addFile(evt){\n    console.log(evt)\n    let element_id = this.uploadFile_input.nativeElement['element-id'];\n    this.selectedFileToCopy = null;\n    let file_name, parameters;\n\n    if(evt.target.files != undefined){\n      if(evt.target.files.length == 1){\n        file_name = evt.target.files[0].name;\n        parameters = {\n          \"requestUUID\" : \"string\",\n          \"user-id\" : 0,\n          \"element-id\" : element_id,\n          \"file-name\" : file_name\n        }\n        const formData = new FormData();\n        formData.append('file', evt.target.files[0])\n        this.documentService.uploadFile(formData, element_id, 11).pipe(takeUntil(this.destroy$)).subscribe(\n          data=>{\n            console.log(data)\n           \n            this.treeText.treeModel.getNodeBy(x => {\n              if(x.data['element-id'] === element_id){\n                x.expand()\n                \n                this.toastr.info('New file added', '', {\n                  timeOut: 5000,\n                });\n                console.log(x)\n                x.data.children.push(data.node)\n                setTimeout(() => {\n                  this.counter = this.nodes.length;\n                  this.updateTreeView();\n                  this.treeText.treeModel.update();\n                  this.treeText.treeModel.getNodeById(data.node.id).setActiveAndVisible();\n                }, 100);\n                \n              }\n            })    \n            \n            \n            \n          },error=>{\n            console.log(error);\n            if(error.status != 200){\n              if(error.error != undefined){\n                this.toastr.error('Change the name of file, there are some files with the same name', 'Error', {timeOut: 5000})\n              }\n            }\n          }\n        )\n      }else{\n        let files_array = evt.target.files;\n        Array.from(files_array).forEach((element : any) => {\n\n          file_name = element.name;\n          parameters = {\n            \"requestUUID\": \"string\",\n            \"user-id\": 0,\n            \"element-id\": element_id,\n            \"file-name\": file_name\n          }\n\n          const formData = new FormData();\n          formData.append('file', element);\n\n          this.documentService.uploadFile(formData, element_id, 11).pipe(takeUntil(this.destroy$)).subscribe(\n            data => {\n              console.log(data)\n              this.treeText.treeModel.getNodeBy(x => {\n                if(x.data['element-id'] === element_id){\n                  x.expand()\n                  \n                  this.toastr.info('New file added', '', {\n                    timeOut: 5000,\n                  });\n                  console.log(x)\n                  x.data.children.push(data.node)\n                  setTimeout(() => {\n                    this.counter = this.nodes.length;\n                    this.updateTreeView();\n                    this.treeText.treeModel.update();\n                    this.treeText.treeModel.getNodeById(data.node.id).setActiveAndVisible();\n                  }, 100);\n                  \n                }\n              })\n\n\n\n            }, error => {\n              console.log(error);\n              this.toastr.error('Error when adding new file', '', {\n                timeOut: 5000,\n              });\n            }\n          )\n        });\n      }\n    }\n        \n    console.log(parameters)\n    const expandedNodes = this.treeText.treeModel.expandedNodes;\n    \n  }\n\n  updateFileMetadataHandler(evt){\n    console.log(evt)\n    let element_id = this.updateFileMetadata_input.nativeElement['element-id'];\n\n    this.treeText.treeModel.getNodeBy(x => {\n      if(x.data['element-id'] === element_id){\n        //console.log(x)\n        if(x.parent.data['element-id'] == undefined){\n          element_id = 0;\n        } \n      }\n    })    \n\n    if(evt.target.files != undefined){\n      \n      const formData = new FormData();\n      formData.append('file', evt.target.files[0])\n      this.documentService.updateFileMetadata(formData, element_id, 11).pipe(takeUntil(this.destroy$)).subscribe(\n        data=>{\n          console.log(data)\n          let metadata = data.node.metadata;\n          metadata['path'] = data.node.path;\n          metadata['element-id'] = data.node['element-id'];\n          if(metadata != undefined && Object.keys(metadata).length > 5){\n            this.documentService.sendToMetadataPanel(metadata);\n            this.documentService.triggerMetadataPanel(true)\n          }else{\n            this.documentService.sendToMetadataPanel(null);\n            this.documentService.triggerMetadataPanel(false)\n          }\n          this.toastr.info('Metadata file updated', 'Info', {timeOut : 5000})\n          this.treeText.treeModel.getNodeBy(x => {\n            if(x.data['element-id'] === this.updateFileMetadata_input.nativeElement['element-id']){\n              \n              //this.treeText.treeModel.getNodeById(data.node['element-id']).setActiveAndVisible();\n              x.setActiveAndVisible();\n            }\n          })    \n          \n          \n          \n        },error=>{\n          console.log(error);\n          if(error.status != 200){\n            if(error.error != undefined){\n              this.toastr.error('Change the name of file, there are some files with the same name', 'Error', {timeOut: 5000})\n            }\n          }\n        }\n      )\n      \n    }\n        \n    \n    \n  }\n\n  triggerUploader(evt){\n    let element_id = evt['element-id']\n    this.renderer.setProperty(this.uploadFile_input.nativeElement, 'element-id', element_id)\n    this.uploadFile_input.nativeElement.click();\n    \n  }\n\n  triggerFileMetadataUploader(evt){\n    let element_id = evt['element-id']\n    this.renderer.setProperty(this.updateFileMetadata_input.nativeElement, 'element-id', element_id)\n    this.updateFileMetadata_input.nativeElement.click();\n    \n  }\n\n  copyFile(evt){\n    console.log(evt);\n    this.selectedFileToCopy = evt;\n    this.selectedFileToCopyArray = null;\n  }\n\n  pasteFile(evt){\n    console.log(evt)\n    let element_id_target = evt['element-id'];\n    let element_id_source = this.selectedFileToCopy['element-id'];\n    let parameters = {\n      \"requestUUID\": \"string\",\n      \"user-id\": 0,\n      \"element-id\": element_id_source,\n      \"target-id\": element_id_target\n    }\n            \n    this.documentService.copyFileTo(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n      data=>{\n        console.log(data);\n        //this.nodes = data['documentSystem'];\n        this.toastr.info('File '+ evt['name'] +' copied', '', {\n          timeOut: 5000,\n        });\n        this.treeText.treeModel.getNodeBy(x => {\n          if(x.data['element-id'] === element_id_target){\n            console.log('entrato')\n            x.expand();\n\n            let node = {\n              children : this.selectedFileToCopy.children,\n              \"element-id\" : this.selectedFileToCopy['element-id'],\n              id : this.selectedFileToCopy.id+1232312,\n              metadata : this.selectedFileToCopy.metadata,\n              name : this.selectedFileToCopy.name,\n              path : '',\n              rename_mode : false,\n              type : this.selectedFileToCopy.type\n            }\n            \n            x.data.children.push(node)\n              setTimeout(() => {\n                this.counter = this.nodes.length;\n                this.updateTreeView();\n                this.treeText.treeModel.update();\n                this.treeText.treeModel.getNodeById(node.id).setActiveAndVisible();\n              }, 100);\n            }\n          })              \n\n          this.treeText.treeModel.update()\n        \n          this.selectedFileToCopy = null;\n      },error=>{\n        //console.log(error)\n        this.selectedFileToCopy = null;\n      }\n    )\n    \n\n  }\n\n  downloadFile(evt){\n    console.log(evt)\n    let element_id = evt['element-id'];\n    let parameters = {\n      \"requestUUID\": \"string\",\n      \"user-id\": 0,\n      \"element-id\": element_id,\n    }\n            \n    this.documentService.downloadFile(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n      data=>{\n        console.log(data);\n        this.toastr.info('File '+ evt['name'] +' downloaded', '', {\n          timeOut: 5000,\n        });\n        \n      },error=>{\n        //console.log(error)\n      }\n    )\n  }\n\n  storeTempDeleteFile(evt){\n    this.storeTempRemoveFile_data = evt;\n  }\n\n  deleteTempData(){\n    this.storeTempRemoveFile_data = null;\n  }\n  \n  removeFile(){\n    let evt = this.storeTempRemoveFile_data;\n    this.selectedFileToCopy = null;\n    this.storeTempRemoveFile_data = null;\n    if(evt != undefined){\n      let element_id = evt['element-id'];\n      let parameters = {\n        \"requestUUID\" : \"string\",\n        \"user-id\" : 0,\n        \"element-id\" : element_id,\n      }\n\n\n      const expandedNodes = this.treeText.treeModel.expandedNodes;\n\n      this.documentService.removeFile(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data=>{\n          console.log(data);\n          this.toastr.info('File '+ evt['name'] +' deleted', '', {\n            timeOut: 5000,\n          });\n          \n          //this.nodes = data['documentSystem'];\n          this.lexicalService.sendToAttestationPanel(null);\n          this.documentService.sendToEpigraphyTab(null)\n          this.expander.expandCollapseEpigraphy(false);\n          this.expander.openCollapseEpigraphy(false);\n\n          this.documentService.sendToMetadataPanel(null)\n\n          if(this.expander.isEditOpen){\n            this.expander.expandCollapseEdit();\n          }\n          \n          /* expandedNodes.forEach( (node: TreeNode) => {\n          \n            setTimeout(() => {\n              this.treeText.treeModel.getNodeBy(x => {\n                if(x.data['element-id'] === node.data['element-id']){\n                  x.expand()\n                }\n              })              \n            }, 300);\n          }) */\n\n          this.treeText.treeModel.getNodeBy(x => {\n            if(x.data['element-id'] === element_id){\n              x.parent.data.children.splice(x.parent.data.children.indexOf(x.data), 1)\n            }\n          })\n\n          this.treeText.treeModel.update()\n\n          setTimeout(() => {\n            console.log(this.nodes)\n            this.counter = this.nodes.length;\n          }, 100);\n          \n          \n        },error=>{\n          console.log(error)\n          if(typeof(error.error) == 'string'){\n            this.toastr.info(error.error, '', {\n              timeOut: 5000,\n            });\n          }\n          \n        }\n      )\n    }\n  }\n  \n\n\n  removeFolder(evt){\n    if(evt != undefined){\n      let element_id = evt['element-id'];\n      let parameters = {\n        \"requestUUID\" : \"string\",\n        \"user-id\" : 0,\n        \"element-id\" : element_id\n      }\n      this.toastr.info('Folder '+ evt['name'] +' deleted', '', {\n        timeOut: 5000,\n      });\n      const expandedNodes = this.treeText.treeModel.expandedNodes;\n\n      this.documentService.removeFolder(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data=>{\n          console.log(data);\n          \n          //this.nodes = data['documentSystem'];\n          /* expandedNodes.forEach( (node: TreeNode) => {\n          \n            setTimeout(() => {\n              this.treeText.treeModel.getNodeBy(x => {\n                if(x.data['element-id'] === node.data['element-id']){\n                  x.expand()\n                }\n              })              \n            }, 300);\n          }) */\n\n          this.treeText.treeModel.getNodeBy(x => {\n            if(x.data['element-id'] === element_id){\n              x.parent.data.children.splice(x.parent.data.children.indexOf(x.data), 1)\n            }\n          })\n\n          this.treeText.treeModel.update()\n\n          setTimeout(() => {\n            console.log(this.nodes)\n            this.counter = this.nodes.length;\n          }, 100);\n          \n          \n        },error=>{\n          console.log(error)\n          if(typeof(error.error) == 'string'){\n            this.toastr.info(error.error, '', {\n              timeOut: 5000,\n            });\n          }\n        }\n      )\n    }\n  }\n\n  moveFolder(evt){\n    if(evt != undefined){\n      //console.log(evt);\n      let element_id = evt.node['element-id'];\n      let target_id = evt.to.parent['element-id'];\n      let parameters = {\n        \"requestUUID\": \"string\",\n        \"user-id\": 0,\n        \"element-id\": element_id,\n        \"target-id\": target_id\n      }\n            \n      \n      this.documentService.moveFolder(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data=>{\n          this.toastr.info('Folder '+ evt.node['name'] +' moved', '', {\n            timeOut: 5000,\n          });\n          /* //console.log(data); */\n        },error=>{\n          console.log(error)\n        }\n      )\n    }\n  }\n\n  moveFile(evt){\n    if(evt != undefined){\n      console.log(evt);\n      let element_id = evt.node['element-id'];\n      let target_id = evt.to.parent['element-id'];\n      let parameters = {\n        \"requestUUID\": \"string\",\n        \"user-id\": 0,\n        \"element-id\": element_id,\n        \"target-id\": target_id\n      }\n            \n      \n      this.documentService.moveFileTo(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data=>{\n          console.log(data);\n          this.toastr.info('File '+ evt.node['name'] +' moved', '', {\n            timeOut: 5000,\n          });\n          \n        },error=>{\n          //console.log(error)\n        }\n      )\n    }\n  }\n\n  renameNode(evt){\n    setTimeout(() => {\n      this.renameNode_input.nativeElement.focus();\n      //@ts-ignore\n      $('.input-tooltip').tooltip({\n          trigger: 'hover'\n      });\n    }, 300);\n    console.log(evt)\n    \n    this.treeText.treeModel.getNodeBy(\n      node => {\n        if(node.data['element-id'] == evt['element-id']){\n          node.data.rename_mode = true;\n          \n        }else{\n          node.data.rename_mode = false;\n        }\n      }\n    )\n  }\n\n  onRenamingNode(evt, node, new_value){\n    console.log(evt, node);\n    setTimeout(() => {\n      //@ts-ignore\n      $('.input-tooltip').tooltip({\n          trigger: 'hover'\n      });\n    }, 300);\n    switch(evt.key){\n      case 'Enter' : this.updateNodeName(node, new_value); break;\n      case 'Escape': this.exitRenamingMode(); break;\n      default: console.log(evt)\n    }\n    \n  }\n\n  updateNodeName(node, new_value){\n    this.searchIconSpinner_input = true;\n    let node_type = node.data.type;\n\n    if(new_value.match(/^[A-Za-z-_0-9. ]{3,}$/)){\n      let element_id = node.data['element-id'];\n      let parameters = {\n        \"requestUUID\": \"string\",\n        \"user-id\": 0,\n        \"element-id\": element_id,\n        \"rename-string\": new_value\n      }\n\n      if(node_type == 'directory'){\n        \n        this.documentService.renameFolder(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n          data=> {\n            //console.log(data);\n            this.toastr.info('Folder '+ node.data.name +' renamed', '', {\n              timeOut: 5000,\n            });\n            setTimeout(() => {\n              this.treeText.treeModel.getNodeBy(x => {\n                if(x.data['element-id'] === element_id){\n                  x.data.name = new_value;\n                }\n              })              \n            }, 300);\n            this.searchIconSpinner_input = false;\n            this.renameNode_input.nativeElement.value = '';\n            var that = this;\n\n            setTimeout(() => {\n              //@ts-ignore\n              $('.input-tooltip').tooltip('hide');\n              setTimeout(() => {\n                that.treeText.treeModel.getNodeBy(\n                  item => {\n                    item.data.rename_mode = false;\n                  }\n                )\n              }, 100);\n            }, 100);\n          },error=>{\n            console.log(error)\n            var that = this;\n\n            setTimeout(() => {\n              //@ts-ignore\n              $('.input-tooltip').tooltip('hide');\n              setTimeout(() => {\n                that.treeText.treeModel.getNodeBy(\n                  item => {\n                    item.data.rename_mode = false;\n                  }\n                )\n              }, 100);\n            }, 100);\n          }\n        )\n\n      }else if(node_type == 'file'){\n        this.documentService.renameFile(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n          data=> {\n            this.toastr.info('File renamed', '', {\n              timeOut: 5000,\n            });\n            //console.log(data);\n            setTimeout(() => {\n              this.treeText.treeModel.getNodeBy(x => {\n                if(x.data['element-id'] === element_id){\n                  x.data.name = new_value;\n                }\n              })              \n            }, 300);\n            this.searchIconSpinner_input = false;\n            this.renameNode_input.nativeElement.value = '';\n            var that = this;\n\n            setTimeout(() => {\n              //@ts-ignore\n              $('.input-tooltip').tooltip('hide');\n              setTimeout(() => {\n                that.treeText.treeModel.getNodeBy(\n                  item => {\n                    item.data.rename_mode = false;\n                  }\n                )\n              }, 100);\n            }, 100);\n          },error=>{\n            console.log(error)\n            var that = this;\n\n            setTimeout(() => {\n              //@ts-ignore\n              $('.input-tooltip').tooltip('hide');\n              setTimeout(() => {\n                that.treeText.treeModel.getNodeBy(\n                  item => {\n                    item.data.rename_mode = false;\n                  }\n                )\n              }, 100);\n            }, 100);\n          }\n        )\n      }\n    }\n    \n  }\n\n  exitRenamingMode(){\n    var that = this;\n\n    setTimeout(() => {\n      //@ts-ignore\n      $('.input-tooltip').tooltip('hide');\n      setTimeout(() => {\n        \n        that.searchIconSpinner_input = false;\n        that.treeText.treeModel.getNodeBy(\n          item => {\n            item.data.rename_mode = false;\n          }\n        )\n      }, 100);\n    }, 300);\n  }\n\n  saveMetadata(){\n    console.log(this.metadata_array.value)\n    let element_id = this.metadataForm.get('element_id').value;\n    let name = this.metadataForm.get('name').value;\n    let parameters = {\n      \"requestUUID\": \"string\",\n      \"metadata\": {},\n      \"user-id\": 0,\n      \"element-id\": element_id\n    };\n    \n    this.metadata_array.value.forEach(element => {\n      parameters.metadata[element.key] = element.value\n    });\n\n    const expandedNodes = this.treeText.treeModel.expandedNodes;\n\n    this.documentService.updateMetadata(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n      data=> {\n        this.toastr.info('Metadata updated for ' + name + ' node' , '', {\n          timeOut: 5000,\n        });\n        //console.log(data);\n        this.nodes = data['documentSystem'];\n        expandedNodes.forEach( (node: TreeNode) => {\n          \n          setTimeout(() => {\n            this.treeText.treeModel.getNodeBy(x => {\n              if(x.data['element-id'] === node.data['element-id']){\n                x.setActiveAndVisible()\n              }\n            })              \n          }, 300);\n        })\n      },error =>{\n        console.log(error)\n      }\n    )\n  }\n\n  removeMetadataItem(index){\n    this.metadata_array = this.metadataForm.get('metadata_array') as FormArray;\n    let name = this.metadata_array.at(index).get('key').value;\n    this.toastr.info('Metadata deleted for ' + name + ' node' , '', {\n      timeOut: 5000,\n    });\n    this.memoryMetadata.splice(index, 1)\n    this.metadata_array.removeAt(index);\n    this.metadataForm.markAsTouched();\n    \n  }\n\n  addMetadata(k?, v?){\n    this.metadata_array = this.metadataForm.get('metadata_array') as FormArray;\n\n    if (k == undefined) {\n      this.metadata_array.push(this.createMetadataItem());\n    } else {\n      this.metadata_array.push(this.createMetadataItem(k, v));\n    }\n  }\n\n  onCloseRemoveMetadata(){\n    this.selectedFileToCopy = null;\n  }\n\n  deleteMetadata(){\n    let element_id = this.selectedFileToCopy['element-id'];\n    let name = this.selectedFileToCopy['name'];\n    let parameters = {\n      \"requestUUID\": \"string\",\n      \"user-id\": 0,\n      \"element-id\": element_id\n    }\n    \n    const expandedNodes = this.treeText.treeModel.expandedNodes;\n\n    this.documentService.deleteMetadata(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n      data=> {\n        //console.log(data);\n        this.toastr.info('Metadata deleted for ' + name + ' node' , '', {\n          timeOut: 5000,\n        });\n        this.nodes = data['documentSystem'];\n        expandedNodes.forEach( (node: TreeNode) => {\n          \n          setTimeout(() => {\n            this.treeText.treeModel.getNodeBy(x => {\n              if(x.data['element-id'] === node.data['element-id']){\n                x.setActiveAndVisible()\n              }\n            })              \n          }, 300);\n        })\n      },error =>{\n        console.log(error)\n      }\n    )\n  }\n\n  onCloseModal(){\n    this.metadataForm.markAsUntouched();\n    this.metadata_array.clear();\n    this.memoryMetadata = [];\n  }\n\n  populateMetadata(item : any){\n    let element_id = item['element-id'];\n    let name = item['name'];\n    this.metadataForm.get('name').setValue(name, {emitEvent : false})\n    this.metadataForm.get('element_id').setValue(element_id, {emitEvent : false});\n    this.editMetadataModal.show();\n\n    this.metadata_array = this.metadataForm.get('metadata_array') as FormArray;\n    this.metadata_array.clear();\n    this.memoryMetadata = [];\n\n    if(Object.keys(item.metadata).length != 0){\n      for (const [key, value] of Object.entries(item.metadata)) {\n        console.log(`${key}: ${value}`);\n        this.addMetadata(key, value)\n      }\n    }else{\n      null;\n    }\n    \n  }\n\n  createMetadataItem(k?, v?){\n    if(k != undefined){\n      return this.formBuilder.group({\n        key: new FormControl(k, [Validators.required, Validators.minLength(0)]),\n        value: new FormControl(v, [Validators.required, Validators.minLength(0)])\n      })\n    }else{\n      return this.formBuilder.group({\n        key: new FormControl('', [Validators.required, Validators.minLength(0), this.uniqueIdValidator.bind(this)]),\n        value: new FormControl('', [Validators.required, Validators.minLength(0)])\n      })\n    }\n  }\n\n  uniqueIdValidator(control: FormControl) {\n    /* console.log(control)\n    console.log(this.metadata_array) */\n    if(control.value != ''){\n      if (this.metadata_array.value.find(item => item.key === control.value)) {\n        return { duplicate: true };\n      } else {\n        return null;\n      }\n    }else{\n      return null\n    }\n    \n  }\n\n  updateTreeView() {\n    setTimeout(() => {\n      //@ts-ignore\n      $('.input-tooltip').tooltip({\n          trigger: 'hover'\n      });\n    }, 300);\n    \n    setTimeout(() => {\n      this.treeText.sizeChanged();\n      //@ts-ignore\n      $('.lexical-tooltip').tooltip();\n    }, 1000);\n  }\n\n  resetFields(){\n    \n    this.textFilterForm.reset(this.initialValues, {emitEvent : false});\n    setTimeout(() => {\n      this.loadTree();\n      this.treeText.treeModel.update();\n      this.updateTreeView();\n      \n    }, 500);  \n    \n  }\n\n  searchFilter(newPar) {\n    \n    setTimeout(() => {\n      const viewPort_prova = this.element.nativeElement.querySelector('tree-viewport') as HTMLElement;\n      viewPort_prova.scrollTop = 0\n    }, 300);\n\n    let parameters = [];\n\n    \n\n    //let search_text = newPar.search_text != null ? newPar.search_text : '';\n    //let date_pipe = this.datePipe.transform(newPar.import_date, 'yyyy-MM-ddThh:mm:ss.zzzZ')\n    this.searchIconSpinner = true;\n    /* let parameters = {\n      \"requestUUID\" : \"string\",\n      \"contains\" : newPar.search_mode == 'contains' ? true : false,\n      \"metadata\" : {},\n      \"search-text\": search_text,\n      \"start-with\" : newPar.search_mode == 'start' ? true : false,\n      \"user-id\": 0,\n      \"import-date\": date_pipe,\n      \"exact-date\": newPar.date_mode == 'exact' ? true : false,\n      \"from-date\":  newPar.date_mode == 'from' ? true : false,\n      \"util-date\":  newPar.date_mode == 'until' ? true : false\n    }; */\n    \n    console.log(parameters)\n    \n    /* this.documentService.searchFiles(newPar).pipe(takeUntil(this.destroy$)).subscribe(\n      data => {\n        if(data['files'].length > 0){\n          this.show = false;\n        }else {\n          this.show = true;\n        }\n        this.nodes = data['files'];\n        this.counter = data['results'];\n        this.treeText.treeModel.update();\n        this.updateTreeView();\n        this.searchIconSpinner = false;\n        \n      },\n      error => {\n        console.log(error)\n        this.searchIconSpinner = false;\n\n        this.toastr.error('Error on search text', 'Error', {\n          timeOut : 5000\n        })\n      }\n    ) */\n  }\n\n  addTagFn(name) {\n    return { name: name, tag: true };\n  }\n\n  triggerMetadata(){\n    console.log(this.metadata_tags_element.selectedItems)\n  }\n\n  ngOnDestroy(): void {\n      \n  this.destroy$.next(true);\n  this.destroy$.complete();\n  }\n\n}\n\n","<form [formGroup]=\"textFilterForm\">\n  <div class=\"input-group col-md-12 mt-2 p-0\">\n    <input formControlName=\"search_text\" id=\"filterLexicalEntry\" name=\"search_text\" type=\"text\" class=\"form-control\"\n      placeholder=\"Search\" />\n    <div class=\"input-group-append\">\n      <span class=\"input-group-text loading_icon_append\" id=\"basic-addon2\">\n        <div class=\"spinner-border spinner-border-sm m-1\" role=\"status\" *ngIf=\"searchIconSpinner\">\n          <span class=\"sr-only\">Loading...</span>\n        </div>\n      </span>\n    </div>\n    <div id=\"buttons-container\" class=\"input-group-append\">\n      <button class=\"btn btn-sm btn-secondary btn-block filter-button\" type=\"button\" value=\"Filter\" title=\"Filter\"\n        data-toggle=\"collapse\" data-target=\"#metadataFilterCollapse\" aria-expanded=\"false\"\n        aria-controls=\"metadataFilterCollapse\"><i class=\"fa fa-filter\"></i></button>\n      <button class=\"btn btn-sm btn-danger btn-block reset-button\" type=\"button\" value=\"Reset\" title=\"Reset\"\n        (click)=\"resetFields();\" style=\"border-top-right-radius: .25rem; border-bottom-right-radius: .25rem;\"><i\n          class=\"fa fa-times\"></i></button>\n      <button class=\"btn btn-sm btn-block counter-button\" type=\"button\"><span\n          class=\"font-weight-bold font-italic text-muted\">{{counter}}</span></button>\n    </div>\n  </div>\n\n  <!-- <div class=\"d-flex flex-wrap mt-3\">\n    <div class=\"col-md-6 col-sm-3\">\n      <div class=\"form-check\">\n        <input formControlName=\"search_mode\" class=\"form-check-input\" type=\"radio\" name=\"search_mode\" id=\"startRadio\"\n          value=\"start\">\n        <label class=\"form-check-label\" for=\"startRadio\">\n          Starts\n        </label>\n      </div>\n    </div>\n    <div class=\"col-md-6 col-sm-3\">\n      <div class=\"form-check\">\n        <input formControlName=\"search_mode\" class=\"form-check-input\" type=\"radio\" name=\"search_mode\" id=\"containsRadio\"\n          value=\"contains\">\n        <label class=\"form-check-label\" for=\"containsRadio\">\n          Contains\n        </label>\n      </div>\n    </div>\n  </div> -->\n\n  <!-- <div class=\"collapse multi-collapse\" id=\"metadataFilterCollapse\">\n\n    <div class=\"d-flex flex-wrap mt-3\">\n      <div class=\"col-md-12\">\n        <div class=\"form-group row\">\n          <label for=\"inputEmail3\" class=\"col-sm-4 col-form-label\">Date mode:</label>\n          <div class=\"col-sm-8\">\n            <select formControlName=\"date_mode\" class=\"form-control\" name=\"date_mode\">\n              <option value=\"exact\">Exact</option>\n              <option value=\"from\">From</option>\n              <option value=\"until\">Until</option>\n            </select>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"d-flex flex-wrap\">\n      <div class=\"col-md-12\">\n        <input formControlName=\"import_date\" type=\"datetime-local\" class=\"form-control\" name=\"import_date\" value=\"date\"\n          min=\"2018-06-07T00:00\" [max]=\"date\">\n      </div>\n    </div>\n\n    <div class=\"d-flex flex-wrap mt-3\">\n      <div class=\"col-md-12\">\n        <ng-select #metadata_tags [items]=\"[]\" [addTag]=\"true\" [multiple]=\"true\" [selectOnTab]=\"true\"\n          placeholder=\"Insert metadata tags\" (change)=\"triggerMetadata()\" [isOpen]=\"false\">\n        </ng-select>\n\n      </div>\n    </div>\n  </div> -->\n</form>\n\n\n<div class=\"col-md-12 mt-3 rounded border border-secondary tree-view\">\n  <p *ngIf=\"show\">Nessun risultato</p>\n  <tree-root #treeText [nodes]=\"nodes\" [options]=\"options\" [focused]=\"true\" (activate)=\"onEvent($event)\"\n    (moveNode)=\"onMoveNode($event)\">\n    <ng-template #treeNodeTemplate let-node let-index=\"index\">\n\n      <div *ngIf=\"node.data.rename_mode\" class=\"input-group\">\n        <input autofocus #renameNodeInput class=\"form-control\" type=\"text\" [value]=\"node.data.name\"\n          (keyup)=\"onRenamingNode($event, node, renameNodeInput.value)\"\n          style=\"height: 22px; border-right: transparent;\" />\n        <div class=\"input-group-append input-tooltip\" data-toggle=\"tooltip\" data-placement=\"top\" data-html=\"true\"\n          title=\"Click enter to rename; Click ESC to exit\">\n          <span class=\"input-group-text\"><i class=\"fas fa-question\"></i></span>\n        </div>\n        <div class=\"input-group-append\">\n          <span class=\"input-group-text loading_icon_append\">\n            <div class=\"spinner-border spinner-border-sm m-1\" role=\"status\" *ngIf=\"searchIconSpinner_input\">\n              <span class=\"sr-only\">Loading...</span>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div *ngIf=\"!node.data.rename_mode\">\n        <i class=\"far fa-folder\" *ngIf=\"node.data.type == 'directory' && !node.isExpanded\"></i>\n        <i class=\"far fa-folder-open\" *ngIf=\"node.data.type == 'directory' && node.isExpanded\"></i>\n        <i class=\"far fa-file-alt\" *ngIf=\"node.data.type == 'file'\"></i>\n        <span [contextMenu]=\"basicMenu\" [contextMenuSubject]=\"node.data\">\n          {{ node.data.name }}\n        </span>\n      </div>\n\n    </ng-template>\n  </tree-root>\n  <context-menu>\n\n    <!-- FOLDER CONTEXT MENU -->\n    <ng-template contextMenuItem let-item [visible]=\"isFolder \" (execute)=\"triggerUploader($event.item)\">\n      Add File\n    </ng-template>\n    <ng-template contextMenuItem divider=\"true\" [visible]=\"isFolder\"></ng-template>\n    <ng-template contextMenuItem let-item [visible]=\"isFolder \" (execute)=\"createNewFile($event.item)\">\n      Create new empty File\n    </ng-template>\n    <ng-template contextMenuItem divider=\"true\" [visible]=\"isFolder\"></ng-template>\n    <ng-template contextMenuItem let-item [visible]=\"isFolder \" (execute)=\"addFolder($event.item)\">\n      Add Folder\n    </ng-template>\n    <ng-template contextMenuItem let-item [visible]=\"isFolder \" [enabled]=\"noRoot\"\n      (execute)=\"removeFolder($event.item)\">\n      Delete Folder\n    </ng-template>\n    <ng-template contextMenuItem let-item [visible]=\"isFolder \" [enabled]=\"noRoot\" (execute)=\"renameNode($event.item)\">\n      <span>Rename Folder</span> <!-- (click)=\"renameFolderModel.show();\" -->\n    </ng-template>\n\n    <ng-template contextMenuItem let-item [visible]=\"multipleSelection\" (execute)=\"copyElements()\">\n      Copy Elements\n    </ng-template>\n    <ng-template contextMenuItem let-item [visible]=\"isFolderMultiple\" (execute)=\"pasteElements($event.item)\">\n      Paste Elements\n    </ng-template>\n    <ng-template contextMenuItem divider=\"true\" [visible]=\"multipleSelection\"></ng-template>\n    <ng-template contextMenuItem let-item [visible]=\"multipleSelection\" (execute)=\"removeElements()\">\n      Delete Elements\n    </ng-template>\n\n\n    <!--     <ng-template contextMenuItem divider=\"multipleSelection\" [visible]=\"multipleSelection\"></ng-template>\n -->\n    <!-- FILE CONTEXT MENU -->\n    <ng-template contextMenuItem let-item [visible]=\"isFile\" (execute)=\"copyFile($event.item)\">\n      Copy File\n    </ng-template>\n    <ng-template contextMenuItem let-item [visible]=\"isFolder && selectedFileToCopy != null\"\n      (execute)=\"pasteFile($event.item)\">\n      Paste File\n    </ng-template>\n    <ng-template contextMenuItem let-item [visible]=\"isFile\" (execute)=\"renameNode($event.item)\">\n      <span>Rename File</span> <!-- (click)=\"renameFileModel.show();\" -->\n    </ng-template>\n    <ng-template contextMenuItem let-item [visible]=\"isFile\"\n      (execute)=\"removeTextModal.show('ciao'); storeTempDeleteFile($event.item)\">\n      Delete File\n    </ng-template>\n    <ng-template contextMenuItem divider=\"isFile\" [visible]=\"isFile\"></ng-template>\n    <ng-template contextMenuItem let-item [visible]=\"isFile\" (execute)=\"downloadFile($event.item)\">\n      Download File\n    </ng-template>\n    <ng-template contextMenuItem let-item [visible]=\"isFile \" (execute)=\"triggerFileMetadataUploader($event.item)\">\n      Update Document (metadata only)\n    </ng-template>\n\n    <!-- <ng-template contextMenuItem [visible]=\"enableMetadata\" divider=\"true\"></ng-template> -->\n    <!-- METADATA -->\n    <!-- <ng-template contextMenuItem let-item [visible]=\"enableMetadata\"  (execute)=\"populateMetadata($event.item)\">\n      <span (click)=\"editMetadata.show();\">Edit Metadata</span>\n    </ng-template> -->\n    <!-- <ng-template contextMenuItem let-item  [visible]=\"enableMetadata\" (execute)=\"copyFile($event.item)\">\n      <span (click)=\"removeMetadataModal.show();\"> Delete Metadata</span>\n    </ng-template> -->\n  </context-menu>\n</div>\n\n<app-modal #removeTextModal class=\"languages_modal\">\n  <ng-container class=\"app-modal-header\">Language Manager</ng-container>\n  <ng-container class=\"app-modal-body\">\n    <div class=\"card\">\n      <div class=\"card-body\">\n        <div class=\"form-group row ml-2 mt-3 mr-2\">\n          <label for=\"inputLabel\" class=\"col-lg-12 col-form-label\" style=\"font-size: 12px; text-align: center\">If you delete this text you will lose ALL linked annotations. Are you sure to delete this file?\n          </label>\n        </div>\n        <div class=\"form-group row ml-2 mt-3 mr-2 justify-content-md-center\">\n          <div class=\"input-group col-lg-5 justify-content-md-center\" style=\"align-items: center; text-align: center;\">\n            <div class=\"input-group-append ml-2\">\n              <button class=\"btn btn-success\" type=\"button\" (click)=\"removeFile(); removeTextModal.hide()\"><i\n                  class=\"fas fa-check\"></i></button>\n            </div>\n            <div class=\"input-group-append ml-2\">\n              <button class=\"btn btn-danger\" type=\"button\" (click)=\"deleteTempData(); removeTextModal.hide()\"><i\n                  class=\"fas fa-times\"></i></button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n\n  </ng-container>\n</app-modal>\n<input #uploadFile type=\"file\" onclick=\"this.value = null\" accept=\".xml\" hidden (change)=\"addFile($event)\" multiple>\n<input #updateFileMetadata type=\"file\" onclick=\"this.value = null\" accept=\".xml\" hidden (change)=\"updateFileMetadataHandler($event)\">\n\n<!-- <app-modal #renameFolderModel class=\"add_languages_modal\">\n  <ng-container class=\"app-modal-header\"></ng-container>\n  <ng-container class=\"app-modal-body\">\n    <div class=\"card\">\n      <div class=\"card-body\">\n        <div class=\"form-group row ml-2 mt-3 mr-2\">\n          <label for=\"inputLabel\" class=\"col-lg-5 col-form-label\" style=\"font-size: 12px;\">Rename Folder:</label>\n          <div class=\"input-group col-lg-7\" style=\"align-items: center;\">\n            <input type=\"text\" class=\"form-control\" placeholder=\"\" #renameFolderInput>\n            <div class=\"input-group-append ml-2\">\n              <button class=\"btn btn-success\" type=\"button\" (click)=\"renameFolder(renameFolderInput.value);\"><i\n                  class=\"fas fa-check\"></i></button>\n            </div>\n            \n            <div class=\"invalid-feedback\" [hidden]=\"validName\" style=\"display: block; font-size: 9px;\">\n              Please, insert at least three characters.\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </ng-container>\n</app-modal>\n\n<app-modal #renameFileModel class=\"add_languages_modal\">\n  <ng-container class=\"app-modal-header\"></ng-container>\n  <ng-container class=\"app-modal-body\">\n    <div class=\"card\">\n      <div class=\"card-body\">\n        <div class=\"form-group row ml-2 mt-3 mr-2\">\n          <label for=\"inputLabel\" class=\"col-lg-5 col-form-label\" style=\"font-size: 12px;\">Rename File:</label>\n          <div class=\"input-group col-lg-7\" style=\"align-items: center;\">\n            <input type=\"text\" class=\"form-control\" placeholder=\"\" #renameFileInput>\n            <div class=\"input-group-append ml-2\">\n              <button class=\"btn btn-success\" type=\"button\" (click)=\"renameFile(renameFileInput.value);\"><i\n                  class=\"fas fa-check\"></i></button>\n            </div>\n          \n            <div class=\"invalid-feedback\" [hidden]=\"validName\" style=\"display: block; font-size: 9px;\">\n              Please, insert at least three characters.\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </ng-container>\n</app-modal> -->\n\n<app-modal #editMetadata class=\"add_languages_modal\" [inViewport]=\"true\" (closeModal)=\"onCloseModal()\">\n  <ng-container class=\"app-modal-header\"></ng-container>\n  <ng-container class=\"app-modal-body\">\n    <form [formGroup]=\"metadataForm\">\n      <div class=\"form-group row ml-2 mt-3 mr-2 justify-content-between\">\n        <button class=\"btn btn-primary\" (click)=\"addMetadata()\">Add Metadata <i class=\"fas fa-plus\"></i></button>\n        <button class=\"btn btn-success\" (click)=\"saveMetadata()\"\n          [disabled]=\"!metadataForm.touched || !metadataForm.valid\">Save Metadata <i class=\"fas fa-plus\"></i></button>\n      </div>\n\n      <div class=\"card\">\n        <div class=\"card-body\">\n          <div formArrayName=\"metadata_array\">\n            <div *ngFor=\"let metadata_item of metadataForm.get('metadata_array')['controls']; let i = index\">\n              <div [formGroupName]=\"i\">\n\n\n\n                <div class=\"d-flex my-2\">\n                  <div class=\"col-md-5\">\n                    <input formControlName=\"key\" name=\"key\" type=\"text\" class=\"form-control\"\n                      placeholder=\"Insert metadata key\">\n                    <div class=\"invalid-feedback\" [hidden]=\"!metadata_item.get('key').invalid\"\n                      style=\"display: block; font-size: 9px;\">\n\n                      <span *ngIf=\"!metadata_item.get('key').hasError('duplicate')\">\n                        Invalid field\n                      </span>\n                      <span *ngIf=\"metadata_item.get('key').hasError('duplicate')\">\n                        Duplicate field\n                      </span>\n                    </div>\n                  </div>\n                  <div class=\"input-group col-md-7\">\n                    <input formControlName=\"value\" name=\"value\" type=\"text\" class=\"form-control\"\n                      placeholder=\"Insert metadata value\">\n\n                    <div class=\"input-group-append ml-2\">\n                      <button class=\"btn btn-danger\" type=\"button\" (click)=\"removeMetadataItem(i)\"\n                        style=\"border-radius: 0.25rem;\">\n                        <i class=\"fa fa-trash\"></i>\n                      </button>\n                    </div>\n                    <div class=\"invalid-feedback\" [hidden]=\"!metadata_item.get('value').invalid\"\n                      style=\"display: block; font-size: 9px;\">\n                      Invalid field\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"form-group row ml-2 mt-3 mr-2\"\n              *ngIf=\"metadataForm.get('metadata_array')['controls'].length == 0\">\n              <label for=\"inputLabel\" class=\"col-lg-5 col-form-label font-italic\" style=\"font-size: 12px;\">No\n                metadata</label>\n            </div>\n\n          </div>\n\n        </div>\n      </div>\n    </form>\n\n  </ng-container>\n</app-modal>\n\n<app-modal #removeMetadataModal class=\"remove_languages_modal\" [inViewport]=\"true\"\n  (closeModal)=\"onCloseRemoveMetadata()\">\n  <ng-container class=\"app-modal-header\"></ng-container>\n  <ng-container class=\"app-modal-body\">\n    <div class=\"card\">\n      <div class=\"card-body\">\n        <div class=\"form-group row ml-2 mt-3 mr-2\">\n          <label for=\"inputLabel\" class=\"col-lg-12 col-form-label\" style=\"font-size: 12px; text-align: center\">Are you\n            sure to delete the metadata of {{selectedFileToCopy?.name}}?</label>\n        </div>\n        <div class=\"form-group row ml-2 mt-3 mr-2 justify-content-md-center\">\n          <div class=\"input-group col-lg-5 justify-content-md-center\" style=\"align-items: center; text-align: center;\">\n            <div class=\"input-group-append ml-2\">\n              <button class=\"btn btn-success\" type=\"button\" (click)=\"deleteMetadata(); removeMetadataModal.hide()\"><i\n                  class=\"fas fa-check\"></i></button>\n            </div>\n            <div class=\"input-group-append ml-2\">\n              <button class=\"btn btn-danger\" type=\"button\" (click)=\"removeMetadataModal.hide()\"><i\n                  class=\"fas fa-times\"></i></button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </ng-container>\n</app-modal>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, Input, OnDestroy, OnInit, SimpleChanges } from '@angular/core';\nimport { FormArray, FormBuilder, FormControl, FormGroup } from '@angular/forms';\nimport { NgSelectComponent } from '@ng-select/ng-select';\nimport { ToastrService } from 'ngx-toastr';\nimport { Subject, Subscription } from 'rxjs';\nimport { debounceTime, takeUntil } from 'rxjs/operators';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\n\n@Component({\n  selector: 'app-lexical-entry-decomp-form',\n  templateUrl: './lexical-entry-decomp-form.component.html',\n  styleUrls: ['./lexical-entry-decomp-form.component.scss']\n})\nexport class LexicalEntryDecompFormComponent implements OnInit, OnDestroy {\n\n  @Input() decData: any;\n  private subterm_subject: Subject<any> = new Subject();\n  private ext_subterm_subject: Subject<any> = new Subject();\n  private corresponds_subject: Subject<any> = new Subject();\n  private update_component_subject: Subject<any> = new Subject();\n  switchInput = false;\n  subscription: Subscription;\n  object: any;\n  searchResults = [];\n  peopleLoading = false;\n  counter = 0;\n  componentRef: any;\n\n  subtermDisabled = false;\n  memorySubterm = [];\n  memoryComponent = [];\n  memoryValues = [];\n\n  decompForm = new FormGroup({\n    label: new FormControl(''),\n    component: new FormArray([this.createComponent()]),\n    subterm: new FormArray([this.createSubtermComponent()])\n  })\n\n  componentArray: FormArray;\n  subtermArray: FormArray;\n  destroy$ : Subject<boolean> = new Subject();\n  staticMorpho = [];\n  morphologyData = [];\n  valueTraits = [];\n\n  disableAddTraits = [];\n\n  change_decomp_label_subscription: Subscription;\n  subterm_subject_subscription: Subscription;\n  ext_subterm_subject_subscription: Subscription;\n  corresponds_subject_subscription: Subscription;\n  update_component_subject_subscription: Subscription;\n\n  constructor(private lexicalService: LexicalEntriesService, private formBuilder: FormBuilder, private toastr: ToastrService) { }\n\n  ngOnInit(): void {\n\n    this.decompForm = this.formBuilder.group({\n      label: '',\n      component: this.formBuilder.array([]),\n      subterm: this.formBuilder.array([]),\n    })\n    this.triggerTooltip();\n    this.loadMorphologyData();\n\n    this.change_decomp_label_subscription = this.lexicalService.changeDecompLabel$.subscribe(\n      data => {\n        if (data != null) {\n          this.decompForm.get('label').setValue(data, { emitEvent: false });\n        }\n      }\n    )\n\n    this.subterm_subject_subscription = this.subterm_subject.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      data => {\n        this.onSearchFilter(data)\n      }\n    )\n\n    this.ext_subterm_subject_subscription = this.ext_subterm_subject.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      data => {\n        this.onChangeSubterm(data)\n      }\n    )\n\n    this.corresponds_subject_subscription = this.corresponds_subject.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      data => {\n        this.onSearchFilter(data)\n      }\n    )\n\n    this.update_component_subject_subscription = this.update_component_subject.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      data => {\n        this.onChanges(data)\n      }\n    )\n  }\n\n  triggerTooltip() {\n    setTimeout(() => {\n      //@ts-ignore\n      $('.vartrans-tooltip').tooltip({\n        trigger: 'hover'\n      });\n    }, 500);\n  }\n\n  async loadMorphologyData() {\n    try {\n      let get_morpho_data = await this.lexicalService.getMorphologyData().toPromise();\n      console.log(get_morpho_data)\n      this.morphologyData = get_morpho_data;\n    } catch (error) {\n      console.log(error);\n      if (error.status != 200) {\n        this.toastr.error(\"Error on getting morphology data, please check the log\", \"Error\", { timeOut: 5000 })\n      }\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    setTimeout(() => {\n      if (this.object != changes.decData.currentValue) {\n        if (this.componentArray != null || this.subtermArray != null) {\n          if (this.componentArray != undefined) {\n            this.componentArray.clear();\n\n          }\n\n          if (this.subtermArray != undefined) {\n            this.subtermArray.clear();\n          }\n\n          this.subtermDisabled = false;\n          this.memorySubterm = [];\n          this.memoryComponent = [];\n          /* this.morphologyData = []; */\n          /* this.staticMorpho = []; */\n          this.valueTraits = [];\n          this.memoryValues = [];\n        }\n      }\n      /* this.loadPeople(); */\n      this.object = changes.decData.currentValue;\n      if (this.object != null) {\n        this.decompForm.get('label').setValue(this.object.label, { emitEvent: false });\n        if (this.object.lexicalEntryInstanceName != undefined && this.object.sense == undefined) {\n          let lexId = this.object.lexicaleEntryInstanceName;\n          this.getSubterms(lexId);\n          this.getConstituents(lexId);\n        }\n      }\n      this.triggerTooltip();\n    }, 10)\n  }\n\n  async getSubterms(lexId) {\n    try {\n      let get_subterms_req = await this.lexicalService.getSubTerms(this.object.lexicalEntryInstanceName).toPromise();\n      if (get_subterms_req != undefined) {\n        Array.from(get_subterms_req).forEach((element: any) => {\n          this.addSubterm(element.lexicalEntryInstanceName, element.label, element.language);\n          this.memorySubterm.push(element);\n        })\n      }\n    } catch (error) {\n      console.log(error);\n      if (error.status != 200) {\n        this.toastr.error(\"Something went wrong on get subterms, please check the log\", \"Error\", { timeOut: 5000 })\n      }\n    }\n  }\n\n  async getConstituents(lexId) {\n\n    try {\n      let get_constituents_req = await this.lexicalService.getConstituents(this.object.lexicalEntryInstanceName).toPromise();\n      for (const element of get_constituents_req) {\n        try {\n          let get_corresponds_to_req = await this.lexicalService.getCorrespondsTo(element.componentInstanceName).toPromise();\n          console.log(get_corresponds_to_req);\n          let corr;\n          if (get_corresponds_to_req != undefined) {\n            corr = get_corresponds_to_req.lexicalEntryInstanceName;\n          }\n          element.corresponds_to = corr;\n          this.addComponent(element, Array.from(get_corresponds_to_req).indexOf(element));\n        } catch (error) {\n\n        }\n      }\n\n    } catch (error) {\n      console.log(error);\n      if (error.status != 200) {\n        this.toastr.error(\"Something went wrong on getting costituents, please check the log\", \"Error\", { timeOut: 5000 })\n      }\n    }\n  }\n\n  async onChanges(data) {\n    let fieldType = '';\n    console.log(data)\n    if (data != undefined) {\n\n      let newValue = data.v.target.value;\n      let currentValue;\n      let index = data?.i;\n\n\n      let oldValue = '';\n      fieldType = data['f']\n      if (fieldType == 'note') {\n        oldValue = this.memoryComponent[index]['note'];\n      } else if (fieldType == 'label') {\n        oldValue = this.memoryComponent[index]['label'];\n      } else if (fieldType == 'confidence') {\n        oldValue = this.memoryComponent[index]['confidence'];\n      }\n\n      //this.biblioArray = this.bibliographyForm.get('bibliography') as FormArray;\n      let instanceName = this.memoryComponent[index].componentInstanceName;\n      let parameters;\n\n      if (oldValue == '' || oldValue == null) {\n        parameters = {\n          type: \"decomp\",\n          relation: fieldType,\n          value: newValue\n        }\n      } else {\n        parameters = {\n          type: \"decomp\",\n          relation: fieldType,\n          value: newValue,\n          currentValue: oldValue\n        }\n      }\n\n      if (fieldType == 'confidence' && oldValue == \"-1\") {\n        if (newValue == 'true') {\n          newValue = 0;\n        } else if (newValue == 'false') {\n          newValue = -1;\n        }\n        parameters = {\n          type: \"confidence\",\n          relation: fieldType,\n          value: newValue\n        }\n      } else if (fieldType == 'confidence' && oldValue != \"-1\") {\n        if (newValue == 'true') {\n          newValue = 0;\n        } else if (newValue == 'false') {\n          newValue = -1;\n        }\n        parameters = {\n          type: \"confidence\",\n          relation: fieldType,\n          value: newValue,\n          currentValue: oldValue\n        }\n      }\n      //console.log(this.componentArray.at(index))\n      console.log(parameters)\n\n      try {\n        let update_comp_req = await this.lexicalService.updateGenericRelation(instanceName, parameters).toPromise();\n        console.log(update_comp_req);\n        this.lexicalService.spinnerAction('off');\n        //this.lexicalService.updateLexCard(this.object);\n        this.toastr.success('Component updated', '', {\n          timeOut: 5000,\n        });\n\n        if (fieldType == 'note') {\n          this.memoryComponent[index]['note'] = newValue;\n        } else if (fieldType == 'label') {\n          this.memoryComponent[index]['label'] = newValue;\n        } else if (fieldType == 'confidence') {\n          this.memoryComponent[index]['confidence'] = newValue;\n        }\n      } catch (error) {\n        this.lexicalService.spinnerAction('off');\n        if (error.status == 200) {\n          this.toastr.success('Component item updated', '', {\n            timeOut: 5000,\n          });\n          if (fieldType == 'note') {\n            this.memoryComponent[index]['note'] = newValue;\n            (<FormArray>this.decompForm.controls['component']).at(index).get('note').setValue(newValue, { emitEvent: false });\n          } else if (fieldType == 'label') {\n            this.memoryComponent[index]['label'] = newValue;\n            (<FormArray>this.decompForm.controls['component']).at(index).get('label').setValue(newValue, { emitEvent: false });\n          } else if (fieldType == 'confidence') {\n            this.memoryComponent[index]['confidence'] = newValue;\n            (<FormArray>this.decompForm.controls['component']).at(index).get('confidence').setValue(newValue, { emitEvent: false });\n          }\n        } else {\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n        }\n      }\n    }\n  }\n\n\n\n  async onChangeValue(i, j) {\n    this.lexicalService.spinnerAction('on');\n    const control = (<FormArray>this.decompForm.controls['component']).at(i).get('relation') as FormArray;\n\n    const trait = control.at(j).get('trait').value;\n    const value = control.at(j).get('value').value;\n\n    if (trait != '' && value != '') {\n      let parameters;\n      if (this.memoryValues[i][j] == \"\") {\n        parameters = {\n          type: \"morphology\",\n          relation: trait,\n          value: value\n        }\n      }\n\n      let compId = this.memoryComponent[i].componentInstanceName;\n\n      if (this.memoryComponent[i].morphology[j] != trait && this.memoryComponent[i].morphology[j] != '') {\n        let delete_old_param = {\n          type: 'morphology',\n          relation: this.memoryComponent[i].morphology[j],\n          value: this.memoryValues[i][j][0]\n        }\n\n        parameters = {\n          type: \"morphology\",\n          relation: trait,\n          value: value,\n        };\n\n        try {\n          let delete_req = await this.lexicalService.deleteLinguisticRelation(compId, delete_old_param).toPromise();\n\n          try {\n            let change_morpho_value_req = await this.lexicalService.updateLinguisticRelation(compId, parameters).toPromise();\n            //console.log(data)\n            change_morpho_value_req['request'] = 0;\n            this.lexicalService.refreshAfterEdit(change_morpho_value_req);\n            this.lexicalService.spinnerAction('off');\n            this.lexicalService.refreshFilter({ request: true })\n            //this.lexicalService.updateLexCard(data)\n\n            this.memoryComponent[i].morphology[j] = trait\n            control.at(j).patchValue({ trait: trait, value: value })\n            this.disableAddTraits[i] = false;\n            setTimeout(() => {\n\n              let traitDescription = '';\n              this.morphologyData.filter(x => {\n                if (x.propertyId == trait) {\n                  x.propertyValues.filter(y => {\n                    if (y.valueId == value) {\n                      traitDescription = y.valueDescription;\n                      return true;\n                    } else {\n                      return false;\n                    }\n                  })\n                  return true;\n                } else {\n                  return false;\n                }\n              })\n\n              //@ts-ignore\n              $('.trait-tooltip').tooltip({\n                trigger: 'hover'\n              });\n\n\n            }, 1000);\n          } catch (error) {\n            this.lexicalService.refreshAfterEdit({ request: 0, label: this.object.label });\n            this.lexicalService.spinnerAction('off');\n            this.lexicalService.refreshFilter({ request: true })\n            //this.lexicalService.updateLexCard({ lastUpdate: error.error.text })\n\n            this.memoryComponent[i].morphology[j] = trait\n            control.at(j).patchValue({ trait: trait, value: value })\n            this.disableAddTraits[i] = false;\n            setTimeout(() => {\n\n              let traitDescription = '';\n              this.morphologyData.filter(x => {\n                if (x.propertyId == trait) {\n                  x.propertyValues.filter(y => {\n                    if (y.valueId == value) {\n                      traitDescription = y.valueDescription;\n                      return true;\n                    } else {\n                      return false;\n                    }\n                  })\n                  return true;\n                } else {\n                  return false;\n                }\n              })\n\n\n\n              //@ts-ignore\n              $('.trait-tooltip').tooltip({\n                trigger: 'hover'\n              });\n              if (typeof (error.error) != 'object') {\n                this.toastr.error(error.error, 'Error', {\n                  timeOut: 5000,\n                });\n              } else {\n                this.toastr.success('Morphotraits changed correctly for ' + compId, '', {\n                  timeOut: 5000,\n                });\n              }\n\n            }, 1000);\n          }\n\n        } catch (error) {\n          console.log(error);\n          if(error.status != 200){\n            this.toastr.error(\"Something went wrong on updating components, please check the log\", \"Error\", {timeOut : 5000})\n          }\n        }\n\n      } else if (this.memoryComponent[i].morphology[j] == trait && this.memoryComponent[i].morphology[j] != '') {\n        parameters = {\n          type: \"morphology\",\n          relation: trait,\n          value: value,\n          currentValue: this.memoryValues[i][j][0]\n        }\n        try {\n          let change_morpho_value_req = await this.lexicalService.updateLinguisticRelation(compId, parameters).toPromise();\n          change_morpho_value_req['request'] = 0;\n          this.lexicalService.refreshAfterEdit(change_morpho_value_req);\n          this.lexicalService.spinnerAction('off');\n          this.lexicalService.refreshFilter({ request: true })\n          //this.lexicalService.updateLexCard(data)\n\n          this.memoryComponent[i].morphology[j] = trait\n          control.at(j).patchValue({ trait: trait, value: value })\n          this.disableAddTraits[i] = false;\n          setTimeout(() => {\n\n            let traitDescription = '';\n            this.morphologyData.filter(x => {\n              if (x.propertyId == trait) {\n                x.propertyValues.filter(y => {\n                  if (y.valueId == value) {\n                    traitDescription = y.valueDescription;\n                    return true;\n                  } else {\n                    return false;\n                  }\n                })\n                return true;\n              } else {\n                return false;\n              }\n            })\n\n            //@ts-ignore\n            $('.trait-tooltip').tooltip({\n              trigger: 'hover'\n            });\n\n\n          }, 1000);\n        } catch (error) {\n          console.log(error)\n          if(error.status == 200){\n            this.lexicalService.refreshAfterEdit({ request: 0, label: this.object.label });\n            this.lexicalService.spinnerAction('off');\n            this.lexicalService.refreshFilter({ request: true })\n            //this.lexicalService.updateLexCard({ lastUpdate: error.error.text })\n\n            this.memoryComponent[i].morphology[j] = trait\n            control.at(j).patchValue({ trait: trait, value: value })\n            this.disableAddTraits[i] = false;\n            setTimeout(() => {\n\n              let traitDescription = '';\n              this.morphologyData.filter(x => {\n                if (x.propertyId == trait) {\n                  x.propertyValues.filter(y => {\n                    if (y.valueId == value) {\n                      traitDescription = y.valueDescription;\n                      return true;\n                    } else {\n                      return false;\n                    }\n                  })\n                  return true;\n                } else {\n                  return false;\n                }\n              })\n\n\n\n              //@ts-ignore\n              $('.trait-tooltip').tooltip({\n                trigger: 'hover'\n              });\n              if (typeof (error.error) != 'object') {\n                this.toastr.error(error.error, 'Error', {\n                  timeOut: 5000,\n                });\n              } else {\n                this.toastr.success('Morphotraits changed correctly for ' + compId, '', {\n                  timeOut: 5000,\n                });\n              }\n\n            }, 1000);\n          }else{\n            this.toastr.error(\"Error on updating components, please check the log\", \"Error\", {timeOut : 5000})\n          }\n        }\n        \n\n      } else if (this.memoryComponent[i].morphology[j] == '') {\n        console.log(parameters)\n\n        try {\n          let update_comp_req = await this.lexicalService.updateLinguisticRelation(compId, parameters).toPromise();\n          update_comp_req['request'] = 0;\n          this.lexicalService.refreshAfterEdit(update_comp_req);\n          this.lexicalService.spinnerAction('off');\n          this.lexicalService.refreshFilter({ request: true })\n          //this.lexicalService.updateLexCard(data)\n\n          this.memoryComponent[i].morphology[j] = trait\n          control.at(j).patchValue({ trait: trait, value: value })\n          this.disableAddTraits[i] = false;\n          setTimeout(() => {\n\n            let traitDescription = '';\n            this.morphologyData.filter(x => {\n              if (x.propertyId == trait) {\n                x.propertyValues.filter(y => {\n                  if (y.valueId == value) {\n                    traitDescription = y.valueDescription;\n                    return true;\n                  } else {\n                    return false;\n                  }\n                })\n                return true;\n              } else {\n                return false;\n              }\n            })\n\n            //@ts-ignore\n            $('.trait-tooltip').tooltip({\n              trigger: 'hover'\n            });\n\n\n          }, 1000);\n        } catch (error) {\n          if(error.status == 200){\n            this.lexicalService.refreshAfterEdit({ request: 0, label: this.object.label });\n            this.lexicalService.spinnerAction('off');\n            this.lexicalService.refreshFilter({ request: true })\n            //this.lexicalService.updateLexCard({ lastUpdate: error.error.text })\n\n            this.memoryComponent[i].morphology[j] = trait\n            control.at(j).patchValue({ trait: trait, value: value })\n            this.disableAddTraits[i] = false;\n            setTimeout(() => {\n\n              let traitDescription = '';\n              this.morphologyData.filter(x => {\n                if (x.propertyId == trait) {\n                  x.propertyValues.filter(y => {\n                    if (y.valueId == value) {\n                      traitDescription = y.valueDescription;\n                      return true;\n                    } else {\n                      return false;\n                    }\n                  })\n                  return true;\n                } else {\n                  return false;\n                }\n              })\n\n\n\n              //@ts-ignore\n              $('.trait-tooltip').tooltip({\n                trigger: 'hover'\n              });\n              if (typeof (error.error) != 'object') {\n                this.toastr.error(error.error, 'Error', {\n                  timeOut: 5000,\n                });\n              } else {\n                this.toastr.success('Morphotraits changed correctly for ' + compId, '', {\n                  timeOut: 5000,\n                });\n              }\n\n            }, 1000);\n          }else{\n            this.toastr.error(\"Error on updating components, please check the log\", \"Error\", {timeOut : 5000})\n          }\n        }\n        \n      }\n    } else {\n      this.lexicalService.spinnerAction('off');\n      this.disableAddTraits[i] = false;\n    }\n  }\n\n  onChangeTrait(evt, i, j) {\n\n    if (evt.target != undefined) {\n      setTimeout(() => {\n        const control = (<FormArray>this.decompForm.controls['component']).at(i).get('relation') as FormArray;\n        //const trait = control.at(j).get('trait').value;\n        //const value = control.at(j).get('value').value;\n        //this.componentArray = this.decompForm.get('component') as FormArray;\n        control.at(j).patchValue({ trait: evt.target.value, value: \"\" });\n        if (evt.target.value != '') {\n          let arrayValues = this.morphologyData.filter(x => {\n            return x['propertyId'] == evt.target.value;\n          })['0']['propertyValues'];\n          this.valueTraits[i][j] = arrayValues;\n          //this.memoryComponent[i].morphology[j] = evt.target.value;\n          //this.memoryValues[i][j] = \"\";\n        } else {\n          this.memoryValues.splice(i, 1);\n          let arrayValues = [];\n          this.valueTraits[i][j] = arrayValues\n          this.memoryComponent[i]['morphology'][j].splice(j, 1)\n        }\n      }, 500);\n    } else {\n\n      var that = this;\n      var timer = setInterval((val) => {\n\n        try {\n          var arrayValues = this.morphologyData.filter(x => {\n            return x['propertyId'] == evt;\n          })['0']['propertyValues'];\n          this.valueTraits[i][j] = arrayValues;\n          this.memoryComponent[i].morphology[j].push(evt);\n          clearInterval(timer)\n        } catch (e) {\n          console.log(e)\n        }\n\n\n      }, 500)\n\n    }\n  }\n\n  addSubterm(e?, label?, lang?) {\n    this.subtermArray = this.decompForm.get('subterm') as FormArray;\n\n    if (e != undefined) {\n      this.subtermArray.push(this.createSubtermComponent(e, label, lang));\n      this.subtermDisabled = false;\n    } else {\n      this.subtermArray.push(this.createSubtermComponent());\n      this.subtermDisabled = true;\n    }\n\n\n  }\n\n  async addComponent(element?, index?) {\n\n    if (this.object.lexicalEntryInstanceName != undefined && element == undefined) {\n      let instance = this.object.lexicalEntryInstanceName;\n      this.object['request'] = 'constituent';\n\n      try{\n        let create_comp_req = await this.lexicalService.createComponent(instance).toPromise();\n        console.log(create_comp_req)\n\n        let compId = create_comp_req.componentInstanceName;\n        let componentURI = create_comp_req.component;\n        let creator = create_comp_req.creator;\n        let label = '';\n        let creationDate = create_comp_req.creationDate;\n        let lastUpdate = create_comp_req.lastUpdate;\n        let morphology = create_comp_req.morphology;\n        let note = '';\n        let position = create_comp_req.position;\n\n        let confidence = create_comp_req.confidence;\n\n        this.lexicalService.addSubElementRequest({ 'lex': this.object, 'data': create_comp_req });\n\n        this.componentArray = this.decompForm.get('component') as FormArray;\n        this.componentArray.push(this.createComponent(compId, componentURI, confidence, creator, label, creationDate, lastUpdate, [], note, position));\n\n        create_comp_req['morphology'] = [];\n        this.memoryComponent.push(create_comp_req)\n\n        this.toastr.success('Component created correctly', 'Success', {\n          timeOut: 5000\n        })\n      }catch(error){\n        console.log(error);\n\n        if(error.status != 200){\n          this.toastr.error('Something went wrong', 'Error', {\n            timeOut: 5000\n          })\n        }\n        \n      }\n    } else if (element != undefined) {\n      let compId = element.componentInstanceName;\n      let componentURI = element.component;\n      let creator = element.creator;\n      let label = element.label;\n      let creationDate = element.creationDate;\n      let lastUpdate = element.lastUpdate;\n      let note = element.note;\n      let position = element.position;\n      let corr_to = element.corresponds_to;\n      let confidence = element.confidence;\n\n      this.componentArray = this.decompForm.get('component') as FormArray;\n      this.componentArray.push(this.createComponent(compId, componentURI, confidence, creator, label, creationDate, lastUpdate, [], note, position, corr_to));\n\n      let morphology = element.morphology;\n      element.morphology = [];\n\n      this.memoryComponent.push(element)\n\n      if (morphology.length > 0) {\n        this.addRelation(index, morphology);\n      }\n\n\n    }\n  }\n\n  async removeComponent(index) {\n    this.componentArray = this.decompForm.get('component') as FormArray;\n    const control = this.componentArray.at(index);\n\n    if (control != null) {\n      let idComp = control.get('id').value;\n\n      try {\n        let delete_comp_req = await this.lexicalService.deleteComponent(idComp).toPromise();\n        console.log(delete_comp_req)\n        this.lexicalService.deleteRequest({ componentInstanceName: idComp });\n        this.toastr.info('Component ' + idComp + ' deleted', 'Info', {\n          timeOut: 5000\n        })\n      } catch (error) {\n        if(error.status != 200){\n          console.log(error);\n          this.lexicalService.deleteRequest({ componentInstanceName: idComp });\n          this.toastr.error('Something went wrong, please check the log', 'Error', {\n            timeOut: 5000\n          })\n        }\n      }\n    }\n\n\n\n    this.memoryComponent.splice(index, 1)\n    this.componentArray.removeAt(index);\n  }\n\n  addRelation(index, morphologyArray?) {\n\n    if (morphologyArray == undefined) {\n      this.memoryComponent[index].morphology.push('');\n\n      if (this.valueTraits[index] == undefined) {\n        this.valueTraits[index] = [];\n        this.valueTraits[index].push([])\n      } else {\n        this.valueTraits[index].push([])\n      }\n\n      if (this.memoryValues[index] == undefined) {\n        this.memoryValues[index] = [];\n        this.memoryValues[index].push([]);\n      } else {\n        this.memoryValues[index].push([]);\n      }\n\n      if (this.disableAddTraits[index] == undefined) {\n        this.disableAddTraits[index] = true;\n      } else {\n        this.disableAddTraits[index] = true;\n      }\n\n\n      const control = (<FormArray>this.decompForm.controls['component']).at(index).get('relation') as FormArray;\n      control.push(this.createRelation());\n    } else {\n\n      morphologyArray.forEach(element => {\n        this.memoryComponent[index].morphology.push(element.trait);\n\n        if (this.valueTraits[index] == undefined) {\n          this.valueTraits[index] = [];\n          var timer1 = setInterval((val) => {\n\n            try {\n              var arrayValues = this.morphologyData.filter(x => {\n                return x['propertyId'] == element.trait;\n              })['0']['propertyValues'];\n              this.valueTraits[index].push(arrayValues);\n              clearInterval(timer1)\n            } catch (e) {\n              console.log(e)\n            }\n\n\n          }, 500)\n\n\n\n\n        } else {\n          var timer2 = setInterval((val) => {\n\n            try {\n              var arrayValues = this.morphologyData.filter(x => {\n                return x['propertyId'] == element.trait;\n              })['0']['propertyValues'];\n              this.valueTraits[index].push(arrayValues);\n              clearInterval(timer2)\n            } catch (e) {\n              console.log(e)\n            }\n\n\n          }, 500)\n\n        }\n\n        if (this.memoryValues[index] == undefined) {\n          this.memoryValues[index] = [];\n          this.memoryValues[index].push([element.value]);\n        } else {\n          this.memoryValues[index].push([element.value]);\n        }\n\n        if (this.disableAddTraits[index] == undefined) {\n          this.disableAddTraits[index] = false;\n        } else {\n          this.disableAddTraits[index] = false;\n        }\n\n\n        const control = (<FormArray>this.decompForm.controls['component']).at(index).get('relation') as FormArray;\n        control.push(this.createRelation(element.trait, element.value));\n      });\n\n    }\n\n\n\n\n  }\n\n  async removeRelation(ix, iy) {\n    const control = (<FormArray>this.decompForm.controls['component']).at(ix).get('relation') as FormArray;\n    const trait = control.at(iy).get('trait').value;\n    const value = control.at(iy).get('value').value;\n    if (trait != '' && value != '') {\n\n      let compId = this.memoryComponent[ix].componentInstanceName;;\n\n      let parameters = {\n        type: 'morphology',\n        relation: trait,\n        value: value\n      }\n\n      //console.log(parameters)\n\n      try {\n        let delete_linguistic_rel_req = await this.lexicalService.deleteLinguisticRelation(compId, parameters);\n        this.lexicalService.refreshAfterEdit({ request: 0, label: this.object.label });\n        this.lexicalService.spinnerAction('off');\n        this.lexicalService.refreshFilter({ request: true })\n      } catch (error) {\n        if(error.status == 200){\n          this.lexicalService.refreshAfterEdit({ request: 0, label: this.object.label });\n          this.lexicalService.spinnerAction('off');\n          this.lexicalService.refreshFilter({ request: true })\n          //this.lexicalService.updateLexCard({ lastUpdate: error.error.text })\n          \n          this.toastr.success('Element removed correctly for ' + compId, '', {\n            timeOut: 5000,\n          });\n        }else{\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n        }\n      }\n      \n    } else {\n      this.disableAddTraits[ix] = false;\n    }\n\n\n    this.memoryComponent[ix].morphology.splice(iy, 1);\n    this.valueTraits[ix].splice(iy, 1);\n    this.memoryValues[ix].splice(iy, 1);\n    control.removeAt(iy);\n\n\n  }\n\n\n\n  triggerSubterm(evt) {\n    console.log(evt)\n    if (evt.target != undefined) {\n\n      this.subterm_subject.next(evt.target.value)\n    }\n  }\n\n  triggerCorrespondsTo(evt) {\n    console.log(evt)\n    if (evt.target != undefined) {\n\n      this.corresponds_subject.next(evt.target.value)\n    }\n  }\n\n  async removeSubterm(index) {\n\n\n    if (this.object.lexicalEntryInstanceName != undefined) {\n      this.subtermArray = this.decompForm.get('subterm') as FormArray;\n\n      let entity = this.subtermArray.at(index).get('entity').value;\n      let lexId = this.object.lexicalEntryInstanceName;\n\n      let parameters = {\n        relation: \"subterm\",\n        value: entity\n      }\n\n      try {\n        let delete_linguistic_rel_req = await this.lexicalService.deleteLinguisticRelation(lexId, parameters).toPromise();\n        console.log(delete_linguistic_rel_req);\n        this.toastr.info('Subterm removed correctly', 'Info', {\n          timeOut: 5000\n        })\n        this.lexicalService.deleteRequest({ subtermInstanceName: entity, parentNode: this.object.lexicaleEntryInstanceName });\n      } catch (error) {\n        console.log(error)\n        if(error.status == 200){\n          this.toastr.info('Subterm removed correctly', 'Info', {\n            timeOut: 5000\n          })\n          this.lexicalService.deleteRequest({ subtermInstanceName: entity, parentNode: this.object.lexicaleEntryInstanceName });\n        }else{\n          this.toastr.error(\"Something went wrong, please check the log\", \"Error\", {timeOut : 5000})\n        }\n      }\n      \n    }\n\n    this.subtermArray.removeAt(index);\n    this.memorySubterm.splice(index, 1);\n    this.subtermDisabled = false;\n  }\n\n  createRelation(t?, v?) {\n    if (t == undefined) {\n      return this.formBuilder.group({\n        trait: '',\n        value: ''\n      })\n    } else {\n      return this.formBuilder.group({\n        trait: t,\n        value: v\n      })\n    }\n\n  }\n\n  /* removeSubtermComponent(ix, iy) {\n    const control = (<FormArray>this.decompForm.controls['component']).at(ix).get('sub_term') as FormArray;\n    control.removeAt(iy);\n  } */\n\n  removeCorrespondsToComponent(ix, iy) {\n    const control = (<FormArray>this.decompForm.controls['component']).at(ix).get('corresponds_to') as FormArray;\n    control.removeAt(iy);\n  }\n\n  createComponent(compId?, componentURI?, confidence?, creator?, label?, creationDate?, lastUpdate?, morphology?, note?, position?, corr_to?) {\n    if (compId == undefined) {\n      return this.formBuilder.group({\n        id: new FormControl(''),\n        uri: new FormControl(''),\n        confidence: new FormControl(null),\n        creator: new FormControl(''),\n        label: new FormControl(''),\n        creationDate: new FormControl(''),\n        lastUpdate: new FormControl(''),\n        relation: new FormArray([]),\n        note: new FormControl(''),\n        corresponds_to: new FormControl(''),\n        position: new FormControl('')\n      })\n    } else {\n      return this.formBuilder.group({\n        id: new FormControl(compId),\n        uri: new FormControl(componentURI),\n        confidence: new FormControl(confidence),\n        creator: new FormControl(creator),\n        label: new FormControl(label),\n        creationDate: new FormControl(creationDate),\n        lastUpdate: new FormControl(lastUpdate),\n        relation: new FormArray([]),\n        note: new FormControl(note),\n        corresponds_to: new FormControl(corr_to),\n        position: new FormControl(position)\n      })\n    }\n\n  }\n\n  createSubtermComponent(e?, l?, lang?) {\n    if (e != undefined) {\n      return this.formBuilder.group({\n        entity: e,\n        label: l,\n        language: lang\n      })\n    } else {\n      return this.formBuilder.group({\n        entity: '',\n        label: '',\n        language: ''\n      })\n    }\n\n  }\n\n\n\n  handleSubterm(evt, i) {\n\n    if (evt instanceof NgSelectComponent) {\n      if (evt.selectedItems.length > 0) {\n        console.log(evt.selectedItems[0])\n        let label = evt.selectedItems[0]['value']['lexicalEntryInstanceName'];\n        this.onChangeSubterm({ name: label, i: i, object: evt.selectedItems[0]['value'] })\n      }\n    } else {\n      let label = evt.target.value;\n      this.ext_subterm_subject.next({ name: label, i: i })\n    }\n  }\n\n  handleCorrespondsTo(evt, i) {\n\n    if (evt instanceof NgSelectComponent) {\n      if (evt.selectedItems.length > 0) {\n        console.log(evt.selectedItems[0])\n        let label = evt.selectedItems[0]['value']['lexicalEntryInstanceName'];\n        this.onChangeCorrespondsTo({ name: label, i: i })\n      }\n    } /* else {\n        let label = evt.target.value;\n        this.Subterm_subject.next({ name: label, i: i })\n    } */\n  }\n\n  debounceKeyup(evt, index, field) {\n    this.update_component_subject.next({ v: evt, i: index, f: field })\n  }\n\n  async onChangeSubterm(data) {\n    var index = data['i'];\n    this.subtermArray = this.decompForm.get(\"subterm\") as FormArray;\n    if (this.memorySubterm[index] == undefined) {\n      const newValue = data['name']\n      const parameters = {\n        type: \"decomp\",\n        relation: \"subterm\",\n        value: newValue\n      }\n      console.log(parameters)\n\n      this.object['request'] = 'subterm'\n      let lexId = this.object.lexicalEntryInstanceName;\n\n      try {\n        let change_subterm_req = await this.lexicalService.updateLinguisticRelation(lexId, parameters).toPromise();\n        console.log(change_subterm_req);\n        this.lexicalService.spinnerAction('off');\n        /* data['request'] = 0;\n        this.lexicalService.refreshAfterEdit(data); */\n        //this.lexicalService.updateLexCard(data) TODO: inserire updater per decomp qua\n        this.memorySubterm[index] = change_subterm_req;\n\n        this.subtermArray.at(index).patchValue({ entity: change_subterm_req.object.label, label: change_subterm_req['label'], language: change_subterm_req['language'] })\n        this.subtermDisabled = false;\n\n        this.lexicalService.addSubElementRequest({ 'lex': this.object, 'data': change_subterm_req });\n      } catch (error) {\n        this.lexicalService.spinnerAction('off');\n        if (error.status == 200) {\n\n          this.toastr.success('Subterm changed correctly for ' + lexId, '', {\n            timeOut: 5000,\n          });\n\n          this.subtermDisabled = false;\n          this.memorySubterm[index] = this.object;\n          data['request'] = 'subterm';\n          this.subtermArray.at(index).patchValue({ entity: newValue, label: data.object.label, language: data.object.language })\n          this.lexicalService.addSubElementRequest({ 'lex': this.object, 'data': data['object'] });\n          //this.lexicalService.updateLexCard({ lastUpdate: error.error.text })\n\n        } else {\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n\n        }\n      }\n    \n    } else {\n      const oldValue = this.memorySubterm[index]['lexicalEntryInstanceName']\n      const newValue = data['name']\n      const parameters = {\n        type: \"decomp\",\n        relation: \"subterm\",\n        value: newValue,\n        currentValue: oldValue\n      }\n\n      let lexId = this.object.lexicalEntryInstanceName;\n      console.log(parameters);\n\n      try {\n        let change_subterm_req = await this.lexicalService.updateLinguisticRelation(lexId, parameters).toPromise();\n        console.log(change_subterm_req);\n        this.lexicalService.spinnerAction('off');\n        change_subterm_req['request'] = 0;\n        this.lexicalService.refreshAfterEdit(change_subterm_req);\n      } catch (error) {\n        console.log(error)\n        const data = this.object;\n        data['request'] = 0;\n\n\n        \n        this.lexicalService.spinnerAction('off');\n        if (error.status == 200) {\n          this.toastr.success('Label changed correctly for ' + lexId, '', {\n            timeOut: 5000,\n          });\n        } else {\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n        }\n      }\n\n     \n      this.memorySubterm[index] = data;\n    }\n\n\n  }\n\n\n  async onChangeCorrespondsTo(data) {\n    var index = data['i'];\n    this.subtermArray = this.decompForm.get(\"subterm\") as FormArray;\n    if (this.memoryComponent[index].corresponds_to == undefined) {\n      const newValue = data['name']\n      const parameters = {\n        type: \"decomp\",\n        relation: \"correspondsTo\",\n        value: newValue\n      }\n      console.log(parameters)\n      let compId = this.memoryComponent[index].componentInstanceName;\n\n      try {\n        let change_corr_req = this.lexicalService.updateLinguisticRelation(compId, parameters).toPromise();\n        console.log(change_corr_req);\n        this.lexicalService.spinnerAction('off');\n      } catch (error) {\n        this.lexicalService.spinnerAction('off');\n        if (error.status == 200) {\n          this.toastr.success('CorrespondsTo changed correctly for ' + compId, '', {\n            timeOut: 5000,\n          });\n\n        } else {\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n\n        }\n      }\n      \n      \n      this.memoryComponent[index].corresponds_to = data;\n\n\n    } else {\n      const oldValue = this.memoryComponent[index].corresponds_to\n      const newValue = data['name']\n      const parameters = {\n        type: \"decomp\",\n        relation: \"correspondsTo\",\n        value: newValue,\n        currentValue: oldValue\n      }\n\n      let compId = this.memoryComponent[index].componentInstanceName;\n      console.log(parameters)\n      try {\n        let change_corr_req = this.lexicalService.updateLinguisticRelation(compId, parameters).toPromise();\n        console.log(change_corr_req);\n        this.lexicalService.spinnerAction('off');\n      } catch (error) {\n        this.lexicalService.spinnerAction('off');\n        if (error.status == 200) {\n          this.toastr.success('CorrespondsTo changed correctly for ' + compId, '', {\n            timeOut: 5000,\n          });\n\n        } else {\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n\n        }\n      }\n      this.memoryComponent[index].corresponds_to = data;\n    }\n\n\n  }\n\n  async onSearchFilter(data) {\n    this.searchResults = [];\n\n    if (this.object.lexicalEntryInstanceName != undefined) {\n      let parameters = {\n        text: data,\n        searchMode: \"startsWith\",\n        type: \"\",\n        pos: \"\",\n        formType: \"entry\",\n        author: \"\",\n        lang: \"\",\n        status: \"\",\n        offset: 0,\n        limit: 500\n      }\n\n      /* && data.length >= 3 */\n      try {\n        let search_filter_req = await this.lexicalService.getLexicalEntriesList(parameters).toPromise();\n        console.log(data)\n        this.searchResults = data['list'];\n      } catch (error) {\n        console.log(error)\n      }\n    } else {\n    }\n\n  }\n\n  deleteData() {\n    this.searchResults = [];\n  }\n\n  ngOnDestroy(): void {\n    this.change_decomp_label_subscription.unsubscribe();\n    this.subterm_subject_subscription.unsubscribe();\n    this.ext_subterm_subject_subscription.unsubscribe();\n    this.corresponds_subject_subscription.unsubscribe();\n    this.update_component_subject_subscription.unsubscribe();\n\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n}\n","\n\n<form [formGroup]=\"decompForm\" *ngIf=\"object!=null\">\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <label for=\"inputLabel\" class=\"col-xl-3 col-form-label\">Label:</label>\n        <div class=\"input-group col-xl-5\">\n            <input formControlName=\"label\" name=\"label\" type=\"text\" class=\"form-control\" placeholder=\"\" disabled>\n            <div class=\"input-group-append\">\n                <div class=\"input-group-append ml-2\">\n                    <div class=\"dropdown\">\n                        <button class=\"btn btn-outline-primary\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                            <i class=\"fa fa-plus\"></i>\n                        </button>\n                        <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n                          <!-- <a class=\"dropdown-item\" (click)=\"addSubterm()\" [class.disabled]=\"subtermDisabled\" style=\"cursor: pointer;\">Sub Term</a> -->\n                          <a class=\"dropdown-item\" (click)=\"addComponent()\" style=\"cursor: pointer;\">Component</a>\n                        </div>\n                      </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <!-- COMPONENT -->\n    <div formArrayName=\"component\">\n        <div *ngFor=\"let comp of decompForm['controls'].component['controls']; let i = index\">\n            <div [formGroupName]=\"i\">\n                <div class=\"form-group row ml-2 mt-3 mr-2\">\n                    <div class=\"input-group col-xl-12\">\n                        <div class=\"card\">\n                            <span class=\"text-id\"><b>COMPONENT</b></span>\n                            <!-- <a class=\"pointer\" (click)=\"addRelation(i)\"><span class=\"add-icon\"><i class=\"fa fa-plus-square\"></i></span></a> -->\n                            <a class=\"pointer\" (click)=\"removeComponent(i)\"><span class=\"trash-icon\"><i class=\"fa fa-trash\"></i></span></a>\n                            <div class=\"card-body\">\n\n                                <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                    <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Label:</label>\n                                    <div class=\"input-group col-lg-8\">\n                                        <input id=\"label\" (keyup)=\"debounceKeyup($event, i, 'label')\" formControlName=\"label\" name=\"label\" type=\"text\" class=\"form-control\" placeholder=\"\"\n                                            required>\n                                        <!-- <div class=\"invalid-feedback\" *ngIf=\"emptyLabelFlag\" style=\"display: block;\">\n                                            Please, insert at least three characters.\n                                        </div> -->\n                                    </div>\n                                </div>\n\n                                <div class=\"form-group row ml-2 mr-2\">\n                                    <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Note:</label>\n                                    <div class=\"input-group col-lg-8\">\n                                        <!-- <input id=\"note\"  formControlName=\"note\" name=\"note\" type=\"text\" class=\"form-control\" placeholder=\"\"> -->\n                                        <textarea (keyup)=\"debounceKeyup($event, i, 'note')\" formControlName=\"note\" name=\"note\" class=\"form-control\" style=\"resize: none;\"></textarea>\n                                    </div>\n                                </div>  \n\n                                <div class=\"form-group row ml-2 mt-3 mr-2\" *ngIf=\"{confidence : comp.get('confidence').value >= 0}; let variable\">\n                                    <div class=\"col-lg-3\">\n                                        <label for=\"uncertainBox\">Uncertain</label>\n                                    </div>\n                                    <div class=\"col-lg-3 input-group uncertain\">\n                                        <input formControlName=\"confidence\" name=\"confidence\" type=\"checkbox\" >\n                                        <!-- <input *ngIf=\"variable.confidence\" id=\"attributes\"  step=\"0.1\" formControlName=\"confidence\" name=\"confidence\" type=\"number\" min=\"0\" max=\"1\" class=\"form-control\" placeholder=\"No info\" [value]=\"coreForm.get('confidence').value\">\n                                        <button type=\"button\" class=\"btn btn-secondary btn-sm ml-2\" *ngIf=\"!variable.confidence\" (click)=\"variable.confidence = !variable.confidence\"><i class=\"fas fa-plus\"></i></button>\n                                        <button type=\"button\" class=\"btn btn-secondary btn-sm ml-2\" *ngIf=\"variable.confidence\" (click)=\"variable.confidence = !variable.confidence; applyUncertain()\"><i class=\"fas fa-minus\"></i></button> -->\n                                    </div>\n                                </div>\n\n                                <!-- CORRESPONDS TO -->\n                                <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                    <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Corresponds To:</label>\n                                    <div class=\"input-group col-lg-9\">\n                                        <ng-select #select_corresponds_to formControlName=\"corresponds_to\" name=\"corresponds_to\" [dropdownPosition]=\"'top'\"\n                                        (keyup)=\"triggerCorrespondsTo($event)\" (change)=\"handleCorrespondsTo(select_corresponds_to, i)\"\n                                        [items]=\"searchResults\" bindValue=\"label\" (focus)=\"deleteData()\" bindLabel=\"label\"\n                                        placeholder=\"Search lexical entry\" appendTo=\"body\">\n                                            <ng-template ng-option-tmp let-item=\"item\" let-search=\"searchTerm\">\n                                                <div>\n                                                    <span>{{item.label}} </span><span style=\"color: blue;\">@{{item.language}}</span>\n                                                </div>\n\n                                            </ng-template>\n                                        </ng-select>\n                                        <!-- <input formControlName=\"entity\" name=\"entity\" type=\"text\" class=\"form-control\" id=\"inputDenotes\" placeholder=\"Insert URI\" *ngIf=\"variable.switch\"> -->\n                                        <!-- <div class=\"input-group-append ml-3 form-check\">\n                                            <input class=\"form-check-input vartrans-tooltip\" type=\"checkbox\" (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\" data-placement=\"bottom\" data-trigger=\"hover\" title=\"Clicca per inserire un URI manualmente\">\n                                        </div> -->\n                                        <div class=\"input-group-append ml-2\">\n                                            <button class=\"btn btn-primary\" type=\"button\"><i\n                                                    class=\"fa fa-external-link-alt\"></i></button>\n                                        </div>\n                                        <!-- <div class=\"input-group-append ml-2\">\n                                            <button (click)=\"removeCorrespondsToComponent(i, j)\" class=\"btn btn-danger\" type=\"button\"><i class=\"fa fa-trash-alt\"></i></button>\n                                        </div> -->\n                                        <div class=\"input-group-append ml-2\">\n                                            <button (click)=\"addRelation(i)\" [ngClass]=\"{no_pointer: disableAddTraits[i]}\" class=\"btn btn-outline-primary\" type=\"button\">\n                                                <i class=\"fa fa-plus\"></i>\n                                            </button>\n                                        </div>\n                                    </div>\n                                </div>\n\n                              \n            \n                                <ng-container formArrayName=\"relation\"\n                                    *ngFor=\"let sub of comp['controls'].relation['controls']; let j = index\">\n                                    <div class=\"d-flex my-2\" *ngIf=\"j +1 > staticMorpho.length\">\n                                        <div class=\"col-md-4\" [formGroupName]=\"j\">\n                                            <select class=\"form-control selectTrait\" formControlName=\"trait\" name=\"trait\"\n                                                style=\"font-size: 12px;\" (change)=\"onChangeTrait($event, i, j)\">\n                                                <option value=\"\">Select a trait...</option>\n                                                <option *ngFor=\"let mt of morphologyData\"\n                                                    [selected]=\"sub.value['trait'] === mt.propertyId\"\n                                                    [disabled]=\"memoryComponent[i].morphology.indexOf(mt.propertyId) > -1 \">{{mt.propertyId}}</option>\n                                            </select>\n                                            <div class=\"invalid-feedback\" *ngIf=\"sub.get('trait').invalid\"\n                                                style=\"display: block;\">\n                                                Please, don't leave this field blank\n                                            </div>\n                                        </div>\n                                        <!-- {{valueTraits | json}} -->\n                                        <div class=\"input-group col-md-8\" [formGroupName]=\"j\">\n                                            <!-- {{valueTraits | json}} {{i}} {{j}} -->\n                                            <select class=\"form-control selectTrait\" formControlName=\"value\" name=\"value\"\n                                                style=\"font-size:12px;\" (change)=\"onChangeValue(i, j)\">\n                                                <option value=\"\">Select a value...</option>\n                                                <option *ngFor=\"let item of valueTraits[i][j];\" [attr.data-index]=\"j\"\n                                                    [selected]=\"sub.value['value'] === item.valueId\">{{item.valueId}}</option>\n                                            </select>\n                                            <div (click)=\"removeRelation(i, j)\" class=\"input-group-append ml-2\"> <button\n                                                    class=\"btn btn-danger\" type=\"button\"\n                                                    style=\"font-size: 12px; border-radius: .25rem;\"><i\n                                                        class=\"fa fa-trash-alt\"></i></button>\n                                            </div>\n                                            <div class=\"invalid-feedback\" *ngIf=\"sub.get('value').invalid\"\n                                                style=\"display: block;\">\n                                                Please, don't leave this field blank\n                                            </div>\n                                        </div>\n                                    </div>\n            \n                                </ng-container>\n                                \n                                <!-- <div formArrayName=\"relation\" class=\"col-xl-12\">\n                                    <div *ngFor=\"let sub of comp['controls'].relation['controls']; let j = index\">\n                                        <div [formGroupName]=\"j\" class=\"d-xl-flex\" style=\"align-items: center;\">\n                                            <div class=\"form-group row ml-2 mt-2 mr-2 w-100\">\n                                                <div class=\"col-xl-6\">\n                                                    <select class=\"form-control\" formControlName=\"trait\" name=\"trait\">\n                                                        <option>Trait...</option>\n                                                        <option>...</option>\n                                                    </select>\n                                                </div>\n                                                <div class=\"input-group col-xl-6\" *ngIf=\"{switch : false}; let variable\">\n                                                    <select class=\"form-control\" formControlName=\"value\" name=\"value\" style=\"border-top-right-radius: .25rem; border-bottom-right-radius: .25rem;\">\n                                                        <option>Relations...</option>\n                                                        <option>...</option>\n                                                    </select>\n                                                    <div class=\"input-group-append ml-2\">\n                                                        <button (click)=\"removeRelation(i, j)\" class=\"btn btn-danger\" type=\"button\"><i class=\"fa fa-trash-alt\"></i></button>\n                                                    </div>\n                                                </div>\n                                            </div>                                                 \n                                        </div>\n                                    </div>\n                                </div> -->\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n\n    <!-- SUB-TERM -->\n    \n        \n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <div class=\"input-group col-xl-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>SUBTERM</b></span>\n                <a class=\"pointer\" (click)=\"addSubterm()\"><span class=\"add-icon\" [class.disabled]=\"subtermDisabled\"><i class=\"fa fa-plus-square\"></i></span></a>\n                <!-- <a class=\"pointer\" (click)=\"removeSubterm(i)\"><span class=\"trash-icon\"><i class=\"fa fa-trash\"></i></span></a> -->\n                <div class=\"card-body\">\n\n                    \n            \n                    <!-- SUB-TERM -->\n                    <div formArrayName=\"subterm\" class=\"col-xl-12\">\n                        <div *ngFor=\"let sub of decompForm['controls'].subterm['controls']; let i = index\">\n                            <div [formGroupName]=\"i\" class=\"d-xl-flex\" style=\"align-items: center;\">\n                                <div class=\"form-group row ml-2 mt-2 mr-2 w-100\">\n                                    <div class=\"input-group\" *ngIf=\"{switch : false}; let variable\">\n                                        <ng-select #select_subterm formControlName=\"label\" *ngIf=\"!variable.switch\" name=\"label\" [dropdownPosition]=\"'top'\"\n                                                (keyup)=\"triggerSubterm($event)\" (change)=\"handleSubterm(select_subterm, i)\"\n                                                [items]=\"searchResults\" bindValue=\"label\" (focus)=\"deleteData()\" bindLabel=\"label\"\n                                                placeholder=\"Search lexical entries\" appendTo=\"body\">\n                                                <ng-template ng-option-tmp let-item=\"item\" let-search=\"searchTerm\">\n                                                    <div>\n                                                        <span>{{item.label}} </span><span style=\"color: blue;\">@{{item.language}}</span>\n                                                    </div>\n\n                                                </ng-template>\n                                            </ng-select>\n                                        <input (keyup)=\"handleSubterm($event, i)\" formControlName=\"entity\" name=\"entity\" type=\"text\" class=\"form-control\" id=\"inputDenotes\" placeholder=\"Insert URI\" *ngIf=\"variable.switch\">\n                                        <div class=\"input-group-append ml-3 form-check\">\n                                            <input class=\"form-check-input vartrans-tooltip\" type=\"checkbox\" (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\" data-placement=\"bottom\" data-trigger=\"hover\" title=\"Clicca per inserire un URI manualmente\">\n                                        </div>\n                                        <!-- <div class=\"input-group-append ml-2\">\n                                            <button class=\"btn btn-primary\" type=\"button\"><i\n                                                    class=\"fa fa-external-link-alt\"></i></button>\n                                        </div> -->\n                                        <div class=\"input-group-append ml-2\">\n                                            <button (click)=\"removeSubterm(i)\" class=\"btn btn-danger\" type=\"button\"><i class=\"fa fa-trash-alt\"></i></button>\n                                        </div>\n                                       <!--  <div class=\"input-group-append ml-2\">\n                                            <button  class=\"btn btn-outline-primary invisible\" type=\"button\"><i class=\"fa fa-plus\"></i></button>\n                                        </div> -->\n                                    </div>\n                                </div>                                                  \n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n           \n    \n</form>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-dictionary-tab',\n  templateUrl: './dictionary-tab.component.html',\n  styleUrls: ['./dictionary-tab.component.scss']\n})\nexport class DictionaryTabComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","\n\n<div class=\"card container-fluid\">\n\t<div class=\"card-body row\">\n\t\t<div class=\"col-md-12 text-right\">\n            <a href=\"#\"><i class=\"fa fa-unlock fa-2x\"></i></a>\n\t\t</div>\n\t</div>\n\t<div class=\"row\">\n\t\t<div class=\"col-md-12 dictionary-body\">\n            <ul>\n                <li>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</li>\n                <li>Aliquam tincidunt mauris eu risus.</li>\n                <li>Vestibulum auctor dapibus neque.</li>\n                <li>Nunc dignissim risus id metus.</li>\n                <li>Cras ornare tristique elit.</li>\n                <li>Vivamus vestibulum ntulla nec ante.</li>\n                <li>Praesent placerat risus quis eros.</li>\n                <li>Fusce pellentesque suscipit nibh.</li>\n                <li>Integer vitae libero ac risus egestas placerat.</li>\n                <li>Vestibulum commodo felis quis tortor.</li>\n                <li>Ut aliquam sollicitudin leo.</li>\n                <li>Cras iaculis ultricies nulla.</li>\n                <li>Donec quis dui at dolor tempor interdum.</li>\n            </ul>\n\t\t</div>\n\t</div>\n</div>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { BrowserModule } from '@angular/platform-browser';\nimport { APP_INITIALIZER, NgModule } from '@angular/core';\nimport { TreeModule } from '@circlon/angular-tree-component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { InfiniteScrollModule } from 'ngx-infinite-scroll';\nimport { AngularEditorModule } from '@kolkov/angular-editor'\nimport { NgSelectModule } from '@ng-select/ng-select';\nimport { ContextMenuModule } from 'ngx-contextmenu';\nimport { ToastrModule } from 'ngx-toastr';\nimport { initializer } from '../app/services/initializer/app-init';\nimport { KeycloakService, KeycloakAngularModule } from 'keycloak-angular';\n\n\n\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { NavbarComponent } from './components/navbar/navbar.component';\nimport { LexiconPageComponent } from './views/lexicon-page/lexicon-page.component';\nimport { LoginPageComponent } from './views/login-page/login-page.component';\nimport { PageNotFoundComponent } from './views/page-not-found/page-not-found.component';\nimport { HomePageComponent } from './views/home-page/home-page.component';\nimport { ProfilePageComponent } from './views/profile-page/profile-page.component';\nimport { LexiconPanelComponent } from './components/lexicon-panel/lexicon-panel.component';\nimport { NotePanelComponent } from './components/note-panel/note-panel.component';\nimport { LinkPanelComponent } from './components/link-panel/link-panel.component';\nimport { SearchPageComponent } from './views/search-page/search-page.component';\nimport { DataSearchFormComponent } from './components/data-search-form/data-search-form.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { DocumentSystemTreeComponent } from './components/lexicon-panel/document-system-tree/document-system-tree.component';\nimport { TextTreeComponent } from './components/lexicon-panel/document-system-tree/text-tree/text-tree.component';\nimport { TextDetailComponent } from './components/lexicon-panel/text-detail/text-detail.component';\nimport { EpigraphyDetailComponent } from './components/lexicon-panel/text-detail/epigraphy-detail/epigraphy-detail.component';\nimport { EditDetailComponent } from './components/lexicon-panel/text-detail/edit-detail/edit-detail.component';\nimport { EpigraphyTabComponent } from './components/lexicon-panel/text-detail/epigraphy-detail/epigraphy-tab/epigraphy-tab.component';\nimport { DictionaryTabComponent } from './components/lexicon-panel/text-detail/edit-detail/dictionary-tab/dictionary-tab.component';\nimport { LexicalEntryTreeComponent } from './components/lexicon-panel/document-system-tree/lexical-entry-tree/lexical-entry-tree.component';\nimport { CoreTabComponent } from './components/lexicon-panel/text-detail/edit-detail/core-tab/core-tab.component';\nimport { VartransTabComponent } from './components/lexicon-panel/text-detail/edit-detail/vartrans-tab/vartrans-tab.component';\nimport { SynsemTabComponent } from './components/lexicon-panel/text-detail/edit-detail/synsem-tab/synsem-tab.component';\nimport { DecompositionTabComponent } from './components/lexicon-panel/text-detail/edit-detail/decomposition-tab/decomposition-tab.component';\nimport { ProfilesTableComponent } from './components/profiles-table/profiles-table.component';\nimport { HttpClientModule } from '@angular/common/http';\nimport { BibliographyPanelComponent } from './components/bibliography-panel/bibliography-panel.component';\nimport { AttestationPanelComponent } from './components/attestation-panel/attestation-panel.component';\nimport { LexicalEntryCoreFormComponent } from './components/lexicon-panel/text-detail/edit-detail/core-tab/lexical-entry-core-form/lexical-entry-core-form.component';\nimport { ModalModule } from 'ng-modal-lib';\nimport { SeeAlsoComponent } from './components/link-panel/see-also/see-also.component';\nimport { SameAsComponent } from './components/link-panel/same-as/same-as.component';\nimport { LexicalEntryVartransFormComponent } from './components/lexicon-panel/text-detail/edit-detail/vartrans-tab/lexical-entry-vartrans-form/lexical-entry-vartrans-form.component';\nimport { LexicalEntrySynsemFormComponent } from './components/lexicon-panel/text-detail/edit-detail/synsem-tab/lexical-entry-synsem-form/lexical-entry-synsem-form.component';\nimport { FormCoreFormComponent } from './components/lexicon-panel/text-detail/edit-detail/core-tab/form-core-form/form-core-form.component';\nimport { LexicalEntryDecompFormComponent } from './components/lexicon-panel/text-detail/edit-detail/decomposition-tab/lexical-entry-decomp-form/lexical-entry-decomp-form.component';\nimport { SenseCoreFormComponent } from './components/lexicon-panel/text-detail/edit-detail/core-tab/sense-core-form/sense-core-form.component';\nimport { SenseVartransFormComponent } from './components/lexicon-panel/text-detail/edit-detail/vartrans-tab/sense-vartrans-form/sense-vartrans-form.component';\nimport { LexicalConceptFormComponent } from './components/lexicon-panel/text-detail/edit-detail/core-tab/lexical-concept-form/lexical-concept-form.component';\nimport { LanguageManagerComponent } from './components/lexicon-panel/document-system-tree/language-manager/language-manager.component';\nimport { EtymologyTabComponent } from './components/lexicon-panel/text-detail/edit-detail/etymology-tab/etymology-tab.component';\nimport { EtymologyFormComponent } from './components/lexicon-panel/text-detail/edit-detail/etymology-tab/etymology-form/etymology-form.component';\nimport { MetadataPanelComponent } from './components/metadata-panel/metadata-panel.component';\nimport { EpigraphyFormComponent } from './components/lexicon-panel/text-detail/epigraphy-detail/epigraphy-tab/epigraphy-form/epigraphy-form.component';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { SearchFormComponent } from './components/lexicon-panel/text-detail/epigraphy-detail/epigraphy-tab/epigraphy-form/search-form/search-form.component';\nimport { AuthService } from './services/auth/auth.service';;\nimport { UnauthorizedPageComponent } from './views/unauthorized-page/unauthorized-page/unauthorized-page.component';\n\nimport { ConceptSetCoreFormComponent } from './components/lexicon-panel/text-detail/edit-detail/core-tab/concept-set-core-form/concept-set-core-form.component';\n\nimport { FormPanelComponent } from './components/attestation-panel/form-panel/form-panel.component'\nimport { CognatePanelComponent } from './components/lexicon-panel/text-detail/edit-detail/core-tab/lexical-entry-core-form/cognate-panel/cognate-panel.component';;\nimport { SkosTreeComponent } from './components/lexicon-panel/document-system-tree/skos-tree/skos-tree.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    NavbarComponent,\n    LexiconPageComponent,\n    LoginPageComponent,\n    PageNotFoundComponent,\n    HomePageComponent,\n    ProfilePageComponent,\n    LexiconPanelComponent,\n    NotePanelComponent,\n    LinkPanelComponent,\n    SearchPageComponent,\n    DataSearchFormComponent,\n    DocumentSystemTreeComponent,\n    TextTreeComponent,\n    TextDetailComponent,\n    EpigraphyDetailComponent,\n    EditDetailComponent,\n    EpigraphyTabComponent,\n    DictionaryTabComponent,\n    LexicalEntryTreeComponent,\n    CoreTabComponent,\n    VartransTabComponent,\n    SynsemTabComponent,\n    DecompositionTabComponent,\n    ProfilesTableComponent,\n    BibliographyPanelComponent,\n    AttestationPanelComponent,\n    LexicalEntryCoreFormComponent,\n    SeeAlsoComponent,\n    SameAsComponent,\n    LexicalEntryVartransFormComponent,\n    LexicalEntrySynsemFormComponent,\n    FormCoreFormComponent,\n    LexicalEntryDecompFormComponent,\n    SenseCoreFormComponent,\n    SenseVartransFormComponent,\n    LexicalConceptFormComponent,\n    LanguageManagerComponent,\n    EtymologyTabComponent,\n    EtymologyFormComponent,\n    MetadataPanelComponent,\n    EpigraphyFormComponent,\n    SearchFormComponent,\n    UnauthorizedPageComponent ,\n    FormPanelComponent,\n    CognatePanelComponent,\n    SkosTreeComponent\n,\n    ConceptSetCoreFormComponent  ],\n  imports: [\n    ContextMenuModule.forRoot({useBootstrap4: true}),\n    BrowserModule,\n    BrowserAnimationsModule,\n    AppRoutingModule,\n    TreeModule,\n    InfiniteScrollModule,\n    HttpClientModule,\n    AngularEditorModule,\n    NgSelectModule,\n    ModalModule,\n    NgbModule,\n    FormsModule,\n    KeycloakAngularModule,\n    ReactiveFormsModule,\n    ToastrModule.forRoot()\n  ],\n  providers: [\n    { \n      provide: APP_INITIALIZER, \n      useFactory: initializer, \n      deps: [ KeycloakService ], \n      multi: true\n    },\n    AuthService\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { DocumentSystemService } from 'src/app/services/document-system/document-system.service';\n\n@Component({\n  selector: 'app-metadata-panel',\n  templateUrl: './metadata-panel.component.html',\n  styleUrls: ['./metadata-panel.component.scss']\n})\nexport class MetadataPanelComponent implements OnInit, OnChanges {\n\n  object : any;\n  @Input() metadataData: any;\n\n  constructor(private documentService : DocumentSystemService) { }\n\n  ngOnInit(): void {\n  }\n\n  ngOnChanges(changes: SimpleChanges) { \n    console.log(changes)\n    if(changes.metadataData.currentValue != null){\n      this.object = changes.metadataData.currentValue;\n\n      if(changes.metadataData.currentValue != this.object){\n        this.object = null;\n      }\n\n      this.object = changes.metadataData.currentValue;\n    }else{\n      this.object = null;\n      this.documentService.triggerMetadataPanel(false);\n    }\n    \n  }\n\n  isArray(val): boolean { return Array.isArray(val); }\n\n  isNumber(val): boolean { return typeof val == 'number'; }\n\n  isObject(val): boolean { return typeof val === 'object' && !Array.isArray(val); }\n\n  isLink(val) : boolean { \n    const re = /((http|https):\\/\\/)(([\\w.-]*)\\.([\\w]*))/;\n    return val.match(re); \n  }\n\n}\n","<div class=\"card\">\n    <div class=\"card-header\" id=\"metadataHeading\">\n        <h5 class=\"mb-0\">\n            <a class=\"btn btn-link w-100 d-flex align-self-center collapsed\" data-toggle=\"collapse\"\n                data-target=\"#metadataCollapse\" aria-expanded=\"true\" aria-controls=\"metadataCollapse\">\n                Metadata Panel<i class=\"fa ml-auto\"></i>\n            </a>\n        </h5>\n    </div>\n    <div id=\"metadataCollapse\" class=\"collapse\" aria-labelledby=\"metadataHeading\">\n        <div class=\"card-body\">\n            <ul class=\"nav nav-tabs\" id=\"myTab\" role=\"tablist\" *ngIf=\"object != null\">\n                <li class=\"nav-item\">\n                    <a class=\"nav-link active\" id=\"edition-tab\" data-toggle=\"tab\" href=\"#edition\" role=\"tab\"\n                        aria-controls=\"edition\" aria-selected=\"true\">Edition</a>\n                </li>\n                <li>\n                    <a class=\"nav-link\" id=\"epigraphy-tab\" data-toggle=\"tab\" href=\"#epigraphy_metadata\" role=\"tab\"\n                        aria-controls=\"epigraphy_metadata\" aria-selected=\"false\">Epigraphy</a>\n                </li>\n                <li>\n                    <a class=\"nav-link\" id=\"other-tab\" data-toggle=\"tab\" href=\"#other_metadata\" role=\"tab\"\n                        aria-controls=\"other_metadata\" aria-selected=\"false\">Text</a>\n                </li>\n            </ul>\n            <div class=\"tab-content\" id=\"myTabContent\" *ngIf=\"object != null\">\n                <div class=\"tab-pane fade show active\" id=\"edition\" role=\"tabpanel\" aria-labelledby=\"file-tab\">\n                    <div class=\"card epi_body\">\n                        <span class=\"text-id\">EDITION</span>\n\n                        <div class=\"card-body\">\n\n                            <div class=\"container\">\n                                <div class=\"row\" *ngIf=\"object.title != undefined || object?.title != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Title:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.title}}</span>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"object['element-id'] != undefined || object['element-id'] != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Id:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object['element-id']}}</span>\n                                    </div>\n                                </div>\n                                <div class=\"row\" *ngIf=\"object.editor != undefined || object?.editor != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Editor:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.editor}}</span>\n                                    </div>\n                                </div>\n                                <div class=\"row\" *ngIf=\"object.authority != undefined || object?.authority != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Authority:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.authority}}</span>\n                                    </div>\n                                </div>\n                                <div class=\"row\" *ngIf=\"object.license != undefined || object?.license != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>License:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <div class=\"col-12 p-0\" *ngFor=\"let subprop of object.license | keyvalue\">\n                                            <a [href]=\"subprop?.value\" target=\"_blank\"\n                                                *ngIf=\"isLink(subprop?.value)\">{{subprop?.value}}</a>\n                                            <span *ngIf=\"!isLink(subprop?.value)\">{{subprop?.value}}</span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n\n                        </div>\n                    </div>\n\n                </div>\n\n                <div class=\"tab-pane fade\" id=\"epigraphy_metadata\" role=\"tabpanel\" aria-labelledby=\"epigraphy-tab\">\n                    <div class=\"card epi_body\">\n                        <span class=\"text-id\">EPIGRAPHY</span>\n\n                        <div class=\"card-body\">\n\n\n                            <div class=\"container\">\n                                <div class=\"row\" *ngIf=\"object?.itAnt_ID != undefined && object?.itAnt_ID != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>ItAnt ID:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.itAnt_ID}}</span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\"\n                                    *ngIf=\"object?.inscriptionTitle != undefined && object?.inscriptionTitle != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Inscription Title:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.inscriptionTitle}}</span>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"object?.inscriptionType != undefined && object?.inscriptionType != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Inscription Type:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.inscriptionType}}</span>\n                                    </div>\n                                </div>\n                                <div class=\"row\" *ngIf=\"object?.summary != undefined && object?.summary != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Summary:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.summary}}</span>\n                                    </div>\n                                </div>\n                                <div class=\"row\" *ngIf=\"object?.trismegistos?.trismegistosID_url!= undefined\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Trismegistos ID:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <a target=\"_blank\" [href]=\"'//'+object?.trismegistos?.trismegistosID_url\">\n                                            {{object?.trismegistos?.trismegistosID}}\n                                        </a>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"object?.traditionalIDs != undefined && object?.traditionalIDs != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Traditional IDs:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\" *ngIf=\"isArray(object?.traditionalIDs)\">\n                                        <p class=\"m-0\" *ngFor=\"let other_id of object.traditionalIDs\">\n                                            <a target=\"_blank\" [href]=\"other_id.traditionalID_URL\">\n                                                {{other_id.traditionalID}}\n                                            </a>\n                                        </p>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\" *ngIf=\"isObject(object?.traditionalIDs)\">\n                                        <p class=\"m-0\" *ngFor=\"let sub of object?.traditionalIDs| keyvalue\">\n                                            <a target=\"_blank\" [href]=\"sub.traditionalID_URL\">\n                                                {{sub.traditionalID}}\n                                            </a>\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"object?.originalPlace != undefined && object?.originalPlace != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Original Place:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <a *ngIf=\"object?.originalPlace?.ancientNameUrl != ''\" target=\"_blank\"\n                                            [href]=\"object?.originalPlace?.ancientNameUrl\">\n                                            {{object?.originalPlace?.ancientName}}\n                                        </a>\n                                        <span *ngIf=\"object?.originalPlace?.ancientNameUrl == ''\">\n                                            {{object?.originalPlace?.ancientName}}\n                                        </span>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"object?.support?.objectType_conceptUrl != undefined && object?.support?.objectType_conceptUrl != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Original Type:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <a *ngIf=\"object?.support?.objectType_conceptUrl != ''\" target=\"_blank\"\n                                            [href]=\"object?.support?.objectType_conceptUrl\">\n                                            {{object?.support?.objectType}}\n                                        </a>\n                                        <span\n                                            *ngIf=\"object?.support?.objectType_conceptUrl == ''\">{{object?.support?.objectType}}</span>\n                                    </div>\n                                </div>\n                                <div class=\"row\" *ngIf=\"object?.condition != undefined && object?.condition != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Condition:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.condition}}</span>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"object?.conservationInstitution != undefined && object?.conservationInstitution != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Conservation Institution:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <a *ngIf=\"object?.conservationInstitution?.URL != ''\" target=\"_blank\"\n                                            [href]=\"object?.conservationInstitution?.URL\">\n                                            {{object?.conservationInstitution?.name}}</a>\n                                        <span *ngIf=\"object?.conservationInstitution?.URL == ''\">\n                                            {{object?.conservationInstitution?.name}}\n                                        </span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\"\n                                    *ngIf=\"object?.dateOfOrigin != undefined && object?.dateOfOrigin != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Date of Origin:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.dateOfOrigin}}</span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\"\n                                    *ngIf=\"object?.dateOfOriginNotBefore != undefined && object?.dateOfOriginNotBefore != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Date of Origin not Before:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.dateOfOriginNotBefore}}</span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\"\n                                    *ngIf=\"object?.dateOfOriginNotAfter != undefined && object?.dateOfOriginNotAfter != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Date of Origin not After:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.dateOfOriginNotAfter}}</span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\"\n                                    *ngIf=\"object?.datingCertainty != undefined && object?.datingCertainty != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Dating Certainty:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.datingCertainty}}</span>\n                                    </div>\n                                </div>\n\n\n                                <div class=\"row\" *ngIf=\"object?.decoration != undefined && object?.decoration != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Decoration:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.decoration}}</span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\"\n                                    *ngIf=\"object?.detailedFindSpot != undefined && object?.detailedFindSpot != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Detailed Find Spot:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.detailedFindSpot}}</span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\" *ngIf=\"object?.discoveryYear != undefined\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Discovery Year:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span *ngFor=\"let sub of object?.discoveryYear| keyvalue\">\n                                            <p *ngIf=\"sub?.value != ''\">\n                                                <span class=\"text-italic\">{{sub?.key}}:</span>\n                                                <span *ngIf=\"!isLink(sub?.value)\">{{sub?.value}}</span>\n                                                <a [href]=\"sub?.value\" target=\"_blank\"\n                                                    *ngIf=\"isLink(sub?.value)\">{{sub?.value}}</a>\n                                            </p>\n                                        </span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\" *ngIf=\"object?.layoutNotes != undefined && object?.layoutNotes != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Layout Notes:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.layoutNotes}}</span>\n                                    </div>\n                                </div>\n\n\n                                <div class=\"row\" *ngIf=\"object?.modernFindSpotName != undefined && \n                                                        object?.modernFindSpotName != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Modern Findspot Name:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <a *ngIf=\"object?.modernFindSpotName?.URL != ''\" target=\"_blank\"\n                                            [href]=\"object?.modernFindSpotNameUri\">\n                                            {{object?.modernFindSpotName}}</a>\n                                        <span *ngIf=\"object?.modernFindSpotName == ''\">\n                                            {{object?.modernFindSpotName?.name}}\n                                        </span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\"\n                                    *ngIf=\"object?.opistography != undefined && object?.opistography != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Opistography:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.opistography}}</span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\"\n                                    *ngIf=\"object?.paleographicNotes != undefined && object?.paleographicNotes != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Paleographic Notes:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.paleographicNotes}}</span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\" *ngIf=\"object?.settlement != undefined && object?.settlement != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Settlement:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <a *ngIf=\"object?.settlement?.placeOfConservationExternalReference != ''\"\n                                            target=\"_blank\"\n                                            [href]=\"object?.settlement?.placeOfConservationExternalReference\">\n                                            {{object?.settlement?.placeOfConservation}}</a>\n                                        <span *ngIf=\"object?.settlement?.placeOfConservationExternalReference == ''\">\n                                            {{object?.settlement?.placeOfConservation}}\n                                        </span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\"\n                                    *ngIf=\"object?.support?.material_conceptUrl != undefined && object?.support?.material_conceptUrl != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Material:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <a *ngIf=\"object?.support?.material_conceptUrl != ''\" target=\"_blank\"\n                                            [href]=\"object?.support?.material_conceptUrl\">\n                                            {{object?.support?.material}}</a>\n                                        <span *ngIf=\"object?.support?.material_conceptUrl == ''\">\n                                            {{object?.support?.material}}\n                                        </span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"tab-pane fade\" id=\"other_metadata\" role=\"tabpanel\" aria-labelledby=\"other-tab\">\n                    <div class=\"card epi_body\">\n                        <span class=\"text-id\">TEXT</span>\n                       \n                        <div class=\"card-body\">\n                           \n                            <div class=\"container\">\n                                <div class=\"row\" *ngIf=\"object?.autopsy != undefined && object?.autopsy != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Autopsy:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.autopsy}}</span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\"\n                                    *ngIf=\"object?.autopsyAuthor != undefined && object?.autopsyAuthor != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Autopsy Author:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.autopsyAuthor}}</span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\" *ngIf=\"object?.language != undefined\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Language:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span *ngFor=\"let sub of object?.language\">\n                                            <p *ngIf=\"sub?.source != ''\">\n                                                <a [href]=\"sub?.source\" target=\"_blank\"\n                                                    *ngIf=\"isLink(sub?.source)\">{{sub?.ident}}</a>\n                                            </p>\n                                        </span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\"\n                                    *ngIf=\"object?.bodytextpart?.ductus != undefined && object?.bodytextpart?.ductus != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Ductus:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.bodytextpart?.ductus}}</span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\"\n                                    *ngIf=\"object?.wordDivisionType != undefined && object?.wordDivisionType != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Word Division Type:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.wordDivisionType}}</span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\"\n                                    *ngIf=\"object?.writingSystem != undefined && object?.writingSystem != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Writing System:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.writingSystem}}</span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, ElementRef, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { ExpanderService } from 'src/app/services/expander/expander.service';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\n\n@Component({\n  selector: 'app-edit-detail',\n  templateUrl: './edit-detail.component.html',\n  styleUrls: ['./edit-detail.component.scss']\n})\nexport class EditDetailComponent implements OnInit, OnDestroy {\n\n  object : any;\n  showTrigger = false;\n  hideEtymology = true;\n  hideDecomp = true;\n  hideDictionary = true;\n  @ViewChild('navtabs') navtabs: ElementRef; \n  @ViewChild('navcontent') navcontent: ElementRef; \n\n  expand_edit_subscription : Subscription;\n  expand_epi_subscription : Subscription;\n  core_data_subscription : Subscription;\n  decomp_data_subscription : Subscription;\n  etymology_data_subscription : Subscription;\n\n  constructor(private lexicalService: LexicalEntriesService, private exp : ExpanderService) { }\n\n  ngOnInit(): void {\n    \n    this.object = null;\n    this.expand_edit_subscription = this.exp.openEdit$.subscribe(\n      boolean => {\n        if(boolean){\n          setTimeout(() => {\n            var text_detail = document.querySelectorAll('#text-dettaglio');\n            text_detail.forEach(element => {\n              if(!element.classList.contains('show')){\n                element.classList.add('show')\n              }\n            })\n            let a_link = document.querySelectorAll('a[data-target=\"#text-dettaglio\"]');\n            a_link.forEach(element => {\n              if(element.classList.contains(\"collapsed\")){\n                element.classList.remove('collapsed')\n              }else{\n                //element.classList.add('collapsed')\n              }\n            })\n           }, 100);\n        }\n      }\n    )\n\n    this.core_data_subscription = this.lexicalService.coreData$.subscribe(\n      object => {\n        if(object != null){\n          if(object['lexicalEntry'] != undefined ||\n             object['form'] != undefined ||\n             object['sense'] != undefined ||\n             object['etymology'] != undefined ||\n             object['conceptSet'] != undefined ||\n             object['lexicalConcept'] != undefined){\n               setTimeout(() => {\n                var navTabLinks = this.navtabs.nativeElement.querySelectorAll('a')\n                this.object = object;\n                navTabLinks.forEach(element => {\n                  /* //console.log(element) */\n                  if(element.text == 'Core'){\n                    element.classList.add('active');\n                    this.hideDecomp = true;\n                    this.hideEtymology = true;\n                  }else{\n                    element.classList.remove('active')\n                    //console.log(element.id)\n                  }\n                });\n    \n                \n    \n                var navContent = this.navcontent.nativeElement.querySelectorAll('.tab-pane');\n                \n                navContent.forEach(element => {\n                  \n                  if(element.id == 'core'){\n                    element.classList.add('active')\n                    element.classList.add('show')\n                    /* console.log(\"picchio\");\n                    console.log(element) */\n                  }else{\n                    \n                    element.classList.remove('active')\n                    element.classList.remove('show')\n                    /* console.log(\"picchio21\")\n                    console.log(element) */\n                  }\n                });\n               }, 100);\n            \n\n          }else {\n            this.object = null;\n          }\n        }\n      }\n    );\n    \n    this.decomp_data_subscription = this.lexicalService.decompData$.subscribe(\n      object => {\n        if(object != null){\n          setTimeout(() => {\n            var navTabLinks = this.navtabs.nativeElement.querySelectorAll('a')\n            this.object = object;\n            navTabLinks.forEach(element => {\n              /* //console.log(element) */\n              if(element.text == 'Decomposition'){\n                element.classList.add('active')\n                this.hideDecomp = false;\n                this.hideEtymology = true;\n              }else{\n                element.classList.remove('active')\n                //console.log(element.id)\n              }\n            });\n\n            \n\n            var navContent = this.navcontent.nativeElement.querySelectorAll('.tab-pane');\n            \n            navContent.forEach(element => {\n              \n              if(element.id == 'decomposition'){\n                element.classList.add('active')\n                element.classList.add('show')\n                /* console.log(\"picchio\");\n                console.log(element) */\n              }else{\n                \n                element.classList.remove('active')\n                element.classList.remove('show')\n                /* console.log(\"picchio21\")\n                console.log(element) */\n              }\n            });\n           }, 100);\n        }else{\n          this.object = null;\n        }\n      }\n    )\n    \n\n    this.etymology_data_subscription = this.lexicalService.etymologyData$.subscribe(\n      object => {\n        if(object != null){\n          if(object['etymology']['etymology'] != undefined){\n            this.object = object;\n            var navTabLinks = this.navtabs.nativeElement.querySelectorAll('a')\n            \n            navTabLinks.forEach(element => {\n              //console.log(element.text)\n              if(element.text == 'Etymology'){\n                /* console.log(\"aggiungo active a:\") */\n                element.classList.add('active');\n                this.hideEtymology = false;\n                this.hideDecomp = true;\n              }else{\n                element.classList.remove('active')\n                /* console.log(\"tolgo active a:\") */\n              }\n            });\n            var navContent = this.navcontent.nativeElement.querySelectorAll('.tab-pane');\n            \n            navContent.forEach(element => {\n              //console.log(element.id)\n              if(element.id == 'etymology'){\n                element.classList.add('active')\n                element.classList.add('show')\n              }else{\n                element.classList.remove('active')\n                element.classList.remove('show')\n                //console.log(element.id)\n              }\n            });\n            \n          }else {\n            this.object = null;\n          }\n        }\n      }\n    );\n  }\n\n  triggerExpansionEdit(){\n \n    setTimeout(() => {\n\n      if(this.exp.isEditTabOpen() && !this.exp.isEpigraphyTabOpen()){\n        if(this.exp.isEditTabExpanded() && !this.exp.isEpigraphyTabExpanded()){\n          this.exp.openCollapseEdit();\n          this.exp.expandCollapseEdit();\n        }\n      }else if(!this.exp.isEditTabOpen() && !this.exp.isEpigraphyTabOpen()){\n        if(!this.exp.isEditTabExpanded() && !this.exp.isEpigraphyTabExpanded()){\n          this.exp.openCollapseEdit();\n          this.exp.expandCollapseEdit();\n        }\n      }else if(this.exp.isEditTabOpen() && this.exp.isEpigraphyTabOpen()){\n        this.exp.openCollapseEdit();\n        this.exp.expandCollapseEpigraphy(true);\n      }else if(!this.exp.isEditTabOpen() && this.exp.isEpigraphyTabOpen()){\n        if(!this.exp.isEditTabExpanded() && this.exp.isEpigraphyTabExpanded()){\n          this.exp.expandCollapseEpigraphy(false);\n          this.exp.openCollapseEdit(true)\n        }\n        \n      }\n      \n    }, 200);\n  }\n\n  ngOnDestroy(): void {\n      this.core_data_subscription.unsubscribe();\n      //this.expand_epi_subscription.unsubscribe();\n      this.decomp_data_subscription.unsubscribe();\n      this.expand_edit_subscription.unsubscribe();\n      this.etymology_data_subscription.unsubscribe();\n  }\n\n}\n","\n\n<div class=\"card\">\n    <div class=\"card-header\">\n        <ul class=\"nav nav-tabs\" id=\"editDictTab\" role=\"tablist\" #navtabs [ngClass]=\"{'disabled': object === null}\">\n            <li class=\"nav-item\">\n                <a class=\"nav-link\" id=\"core-tab\" data-toggle=\"tab\" href=\"#core\" role=\"tab\" aria-controls=\"core\" aria-selected=\"true\">Core</a>\n            </li>\n            <!-- <li class=\"nav-item\">\n                <a class=\"nav-link\" id=\"vartrans-tab\" data-toggle=\"tab\" href=\"#vartrans\" role=\"tab\" aria-controls=\"vartrans\" aria-selected=\"true\">Vartrans</a>\n            </li>\n            <li class=\"nav-item\">\n                <a class=\"nav-link\" id=\"synsem-tab\" data-toggle=\"tab\" href=\"#synsem\" role=\"tab\" aria-controls=\"synsem\" aria-selected=\"true\">Synsem</a>\n            </li> -->\n            <li class=\"nav-item\" [hidden]=\"hideDecomp\">\n                <a class=\"nav-link\" id=\"decomposition-tab\" data-toggle=\"tab\" href=\"#decomposition\" role=\"tab\" aria-controls=\"decomposition\" aria-selected=\"true\">Decomposition</a>\n            </li>\n            <li class=\"nav-item\" [hidden]=\"hideEtymology\">\n                <a class=\"nav-link\" id=\"etymology-tab\" data-toggle=\"tab\" href=\"#etymology\" role=\"tab\" aria-controls=\"etymology\" aria-selected=\"true\">Etymology</a>\n            </li>\n            <li class=\"nav-item\" [hidden]=\"hideDictionary\">\n                <a class=\"nav-link\" id=\"dictionary-tab\" data-toggle=\"tab\" href=\"#dictionary\" role=\"tab\" aria-controls=\"dictionary\" aria-selected=\"false\">Dictionary</a>\n            </li>\n            <h5 class=\"ml-auto mb-0\">\n                <a class=\"btn btn-link w-100 d-flex align-self-center\" (click)=\"triggerExpansionEdit();\" data-toggle=\"collapse\" data-target=\"#text-dettaglio\" aria-expanded=\"false\" aria-controls=\"text-dettaglio\">\n                    <i class=\"fa ml-auto\"></i>\n                </a>\n            </h5>\n        </ul>\n        \n    </div>\n    <div id=\"text-dettaglio\" class=\"collapse show\" aria-labelledby=\"headingOne\" ><!--  data-parent=\"#epigraphy-accordion\" -->\n        <div class=\"card-body\">\n            <div class=\"tab-content\" id=\"tab-content\" #navcontent>\n                <div class=\"tab-pane fade\" id=\"core\" role=\"tabpanel\" aria-labelledby=\"core-tab\">\n                    <app-core-tab></app-core-tab>\n                </div>\n                <!-- <div class=\"tab-pane fade\" id=\"vartrans\" role=\"tabpanel\" aria-labelledby=\"vartrans-tab\">\n                    <app-vartrans-tab></app-vartrans-tab>\n                </div>\n                <div class=\"tab-pane fade\" id=\"synsem\" role=\"tabpanel\" aria-labelledby=\"synsem-tab\">\n                    <app-synsem-tab></app-synsem-tab>\n                </div> -->\n                <div class=\"tab-pane fade\" id=\"decomposition\" role=\"tabpanel\" aria-labelledby=\"decomposition-tab\">\n                    <app-decomposition-tab></app-decomposition-tab>\n                </div>\n                <div class=\"tab-pane fade\" id=\"etymology\" role=\"tabpanel\" aria-labelledby=\"etymology-tab\">\n                    <app-etymology-tab></app-etymology-tab>\n                </div>\n                <div class=\"tab-pane fade\" id=\"dictionary\" role=\"tabpanel\" aria-labelledby=\"dictionary-tab\">\n                    <app-dictionary-tab></app-dictionary-tab>\n                </div>\n            </div>\n        </div>\n    </div>\n   \n</div>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ExpanderService {\n  \n  isEpigraphyExpanded = false;\n  isEditExpanded = false;\n\n  isEditOpen = false;\n  isEpigraphyOpen = false;\n\n  private _openEdit : BehaviorSubject<boolean> = new BehaviorSubject(null);\n  private _openEpigraphy : BehaviorSubject<boolean> = new BehaviorSubject(null);\n  private _expandEpigraphy: BehaviorSubject<boolean> = new BehaviorSubject(null);\n  private _expandEdit: BehaviorSubject<boolean> = new BehaviorSubject(null);\n  expEpigraphy$ = this._expandEpigraphy.asObservable();\n  expEdit$ = this._expandEdit.asObservable();\n  openEdit$ = this._openEdit.asObservable();\n  openEpigraphy$ = this._openEpigraphy.asObservable();\n\n  constructor() { }\n\n  expandCollapseEpigraphy(trigger?){\n    if(trigger != undefined){\n      this.isEpigraphyExpanded = trigger;\n      this._expandEpigraphy.next(this.isEpigraphyExpanded)\n    }else{\n      this.isEpigraphyExpanded = !this.isEpigraphyExpanded;\n      this._expandEpigraphy.next(this.isEpigraphyExpanded)\n    }\n  }\n  \n  expandCollapseEdit(trigger?){\n    if(trigger != undefined){\n      this.isEditExpanded = trigger;\n      this._expandEdit.next(this.isEditExpanded)\n    }else{\n      this.isEditExpanded = !this.isEditExpanded;\n      this._expandEdit.next(this.isEditExpanded)\n    }\n  }\n\n  openCollapseEdit(trigger?){\n    if(trigger != undefined){\n      this.isEditOpen = trigger;\n      this._openEdit.next(trigger);\n    }else{\n      this.isEditOpen = !this.isEditOpen\n      this._openEdit.next(this.isEditOpen);\n    }\n  }\n\n  openCollapseEpigraphy(trigger?){\n    if(trigger != undefined){\n      this.isEpigraphyOpen = trigger;\n      this._openEpigraphy.next(trigger)\n    }else{\n      this.isEpigraphyOpen = !this.isEpigraphyOpen\n      this._openEpigraphy.next(this.isEpigraphyOpen)\n    }\n  }\n\n  isEditTabExpanded(){\n    return this.isEditExpanded;\n  }\n\n  isEpigraphyTabExpanded(){\n    return this.isEpigraphyExpanded;\n  }\n\n  isEditTabOpen(){\n    return this.isEditOpen;\n  }\n\n  isEpigraphyTabOpen(){\n    return this.isEpigraphyOpen;\n  }\n\n}\n","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { AfterViewInit, ApplicationRef, Component, ComponentFactoryResolver, ComponentRef, ContentChild, ElementRef, HostListener, Injector, Input, OnDestroy, OnInit, QueryList, Renderer2, SimpleChanges, TemplateRef, ViewChild, ViewChildren } from '@angular/core';\nimport { FormGroup, FormControl, Validators, FormArray, FormBuilder } from '@angular/forms';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { NgbPopover, NgbPopoverConfig } from '@ng-bootstrap/ng-bootstrap';\nimport { NgSelectComponent } from '@ng-select/ng-select';\nimport { ToastrService } from 'ngx-toastr';\nimport { Subject, Subscription } from 'rxjs';\nimport { debounceTime, filter, takeUntil } from 'rxjs/operators';\nimport { AnnotatorService } from 'src/app/services/annotator/annotator.service';\nimport { DocumentSystemService } from 'src/app/services/document-system/document-system.service';\nimport { ExpanderService } from 'src/app/services/expander/expander.service';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\nimport { SearchFormComponent } from './search-form/search-form.component';\ndeclare var $: JQueryStatic;\n\n@Component({\n  selector: 'app-epigraphy-form',\n  templateUrl: './epigraphy-form.component.html',\n  styleUrls: ['./epigraphy-form.component.scss']\n})\nexport class EpigraphyFormComponent implements OnInit, OnDestroy {\n\n  @Input() epiData: any;\n  object: any;\n  tokenArray: FormArray;\n  textEpigraphy = '';\n  leidenLines: any;\n\n  epigraphy_text_subscription: Subscription;\n  leiden_subscription: Subscription;\n  translation_subscription: Subscription;\n  delete_annotation_subscription: Subscription;\n\n  private bind_subject: Subject<any> = new Subject();\n  searchResults = [];\n  memoryForms = [];\n\n  selectedPopover = {\n    htmlNodeName: '',\n    tokenId: ''\n  };\n\n  spanSelection;\n\n  data: object;\n  sel_t: object;\n  message: string;\n  isOpen = false;\n  bind = this;\n  @ViewChildren('span_modal') spanPopovers: QueryList<any>;\n  @ViewChild('search_form') searchForm: SearchFormComponent;\n\n  //@ViewChild('span_modal') spanPopover: ElementRef;\n\n\n\n  epigraphyForm = new FormGroup({\n    tokens: new FormArray([this.createToken()]),\n  })\n\n\n  multiWordMode = false;\n  annotationArray = [];\n  token_annotationArray = [];\n  epidoc_annotation_array = [];\n  leiden_array = [];\n  translation_array = [];\n\n  fileId;\n\n  isEmptyFile = false;\n\n  destroy$: Subject<boolean> = new Subject();\n\n  @HostListener('document:mouseup', ['$event'])\n  onMouseUp(event): void {\n    setTimeout(() => {\n      try {\n        let evtPath = Array.from(event.path);\n        let isMultiwordRequest = false;\n        evtPath.some((element: HTMLElement) => {\n          //console.log(element)\n          if (element.classList != undefined) {\n            if (element.classList.contains('ok-button')) {\n              isMultiwordRequest = true;\n              return true;\n            } else {\n              isMultiwordRequest\n              return false;\n            }\n          } else {\n            return false;\n          }\n        })\n\n\n        let event_el;\n\n        if (isMultiwordRequest) {\n          let multiWordArray = Array.from(document.getElementsByClassName('multiword'));\n          multiWordArray.forEach(element => {\n            let children = Array.from(element.children);\n            children.forEach(subchild => {\n              if (subchild.classList.contains('multiword-button')) {\n                event_el = element.children\n                subchild.remove();\n              }\n            })\n          });\n          document.querySelectorAll('.multiword').forEach(element => {\n            this.renderer.removeClass(element, 'multiword');\n            this.renderer.addClass(element, 'multiword-span-' + 1);\n\n            let prev = element.previousElementSibling;\n            let next = element.nextElementSibling;\n\n            if (prev != undefined) {\n              if (prev.classList != undefined) {\n                let classNames = prev.className;\n                let matchTest = /(^|\\s)(multiword-span-\\d)(\\s|$)/.test(classNames)\n                if (matchTest) {\n                  this.renderer.addClass(element, 'border-left-0')\n                }\n              }\n            } else if (next != undefined) {\n              if (next.classList != undefined) {\n                let classNames = next.className;\n                let matchTest = /(^|\\s)(multiword-span-\\d)(\\s|$)/.test(classNames)\n                if (matchTest) {\n                  this.renderer.addClass(element, 'border-right-0')\n                }\n              }\n            }\n          })\n\n          let position_popover;\n\n          Array.from(event_el).forEach(\n            (element: HTMLElement) => {\n              position_popover = element.getAttribute('position');\n              return;\n            }\n          )\n\n          this.message = '';\n\n          this.spanPopovers.toArray()[position_popover - 1].open();\n\n          let popover_id = this.spanPopovers.toArray()[position_popover - 1]._ngbPopoverWindowId;\n          this.selectedPopover.tokenId = (position_popover - 1).toString();\n          this.annotatorService.triggerSearch(null);\n          this.selectedPopover.htmlNodeName = popover_id;\n          let multiwordSpan = Array.from(document.querySelectorAll(\"[class*=multiword-span-]\"));\n          let spansArray = [];\n          multiwordSpan.forEach(element => {\n            let children = Array.from(element.children);\n            children.forEach(\n              span => {\n                let position = parseInt(span.getAttribute('position'));\n                let object = {\n                  start: this.object[position - 1].begin,\n                  end: this.object[position - 1].end\n                }\n\n                spansArray.push(object)\n              }\n            )\n          })\n\n          console.log(spansArray);\n          this.spanSelection = spansArray;\n\n\n        } else {\n          if (!this.multiWordMode) {\n\n            //console.log(document.querySelectorAll('.token'))\n            document.querySelectorAll('.multiword').forEach(element => {\n              this.renderer.removeClass(element, 'multiword')\n              this.renderer.removeClass(element, 'border-right-0');\n            });\n          }\n        }\n      } catch (error) {\n        console.log(error)\n      }\n\n    }, 10);\n  }\n\n  @HostListener('document:mousedown', ['$event'])\n  onGlobalClick(event): void {\n\n    setTimeout(() => {\n\n      //PREVENIRE CHE I POPOVER SI CHIUDANO SE CLICCATI FUORI DAL COMPONENTE\n      let index = this.selectedPopover.tokenId\n\n      //SE IL CLICK AVVIENE FUORI QUESTO COMPONENTE, L'EVENTUALE POPOVER DEVE RESTARE APERTO, \n      //SE SI CLICCA QUESTO COMPONENTE IL POPOVER VA CHIUSO E RIATTIVATO L'AUTOCLOSE\n      if (index != '') {\n        //console.log(this.config)\n        let popover = this.spanPopovers.toArray()[index];\n        /*  if (popover.isOpen()) {\n           //console.log(popover.isOpen())\n           //console.log(popover)\n           //popover.autoClose = false;\n         } */\n      }\n\n\n\n    }, 17);\n\n    setTimeout(() => {\n      /* console.log(event.path) */\n      try {\n        let evtPath = Array.from(event.path)\n        //console.log(this.selectedPopover.htmlNodeName)\n\n        let htmlNode = document.getElementById(this.selectedPopover.htmlNodeName)\n        console.log\n        let tokenId = this.selectedPopover.tokenId;\n        if (evtPath.includes(htmlNode)) {\n\n        } else {\n          if (this.object != null) {\n            this.object.forEach(element => {\n              //console.log(element.position != tokenId)\n              if (element.position != tokenId) {\n\n                element.editing = false;\n\n                this.selectedPopover.htmlNodeName = '';\n                this.selectedPopover.tokenId = ''\n              }\n            });\n          }\n\n\n          let parentMarkElement = document.getElementsByClassName('token-' + tokenId)[0];\n          //console.log(document.getElementsByClassName('token-'+tokenId))\n          if (parentMarkElement != null) {\n            let i = 0;\n            Array.from(parentMarkElement.childNodes).forEach(\n              element => {\n                //              console.log(element)\n                let textMarkElement = element.textContent;\n                let prev, next;\n                if (element['classList'] != undefined) {\n\n                  if (element['classList'].contains('mark') || element['classList'].contains('mark_test')) {\n\n                    prev = Array.from(parentMarkElement.childNodes)[i - 1];\n                    next = Array.from(parentMarkElement.childNodes)[i];\n\n                    if (next == element) {\n                      next = Array.from(parentMarkElement.childNodes)[i + 1];\n                    }\n\n                    if (prev != undefined) {\n                      if (prev.nodeName == '#text') {\n                        textMarkElement = prev.textContent += textMarkElement;\n                        prev.remove();\n                      }\n                    }\n\n                    if (next != undefined) {\n                      if (next.nodeName == '#text') {\n                        textMarkElement += next.textContent;\n                        next.remove()\n                      }\n                    }\n\n                    const text = this.renderer.createText(textMarkElement)\n\n                    this.renderer.insertBefore(parentMarkElement, text, element)\n                    //this.renderer.removeChild(parentMarkElement, element);\n\n                    element.remove();\n\n\n                  }\n                }\n\n                i++;\n              }\n            );\n\n          }\n\n        }\n      }\n      catch (e) {\n        console.log(e)\n      }\n\n    }, 17);\n\n  }\n\n\n\n  @HostListener('window:keydown', ['$event'])\n  enableMultiword(event: KeyboardEvent) {\n    /* console.log(event) */\n    if (event.altKey && event.ctrlKey) {\n      this.multiWordMode = true;\n      if (this.object != undefined) {\n        this.object.forEach(element => {\n          element.editing = false;\n          this.selectedPopover.htmlNodeName = '';\n          this.selectedPopover.tokenId = ''\n        });\n      }\n\n    } else if (event.code == 'Escape') {\n\n      let htmlNode = document.getElementById(this.selectedPopover.htmlNodeName)\n      let tokenId = this.selectedPopover.tokenId;\n\n      if (this.object != undefined) {\n        this.object.forEach(element => {\n          if (element.id != tokenId) {\n\n            element.editing = false;\n\n            this.selectedPopover.htmlNodeName = '';\n            this.selectedPopover.tokenId = ''\n          }\n        });\n\n        let parentMarkElement = document.getElementsByClassName('token-' + tokenId)[0];\n        if (parentMarkElement != null) {\n          let i = 0;\n          Array.from(parentMarkElement.children).forEach(\n            element => {\n              console.log(element)\n              if (element.classList.contains('mark')) {\n\n                let textMarkElement = element.textContent;\n                const text = this.renderer.createText(textMarkElement)\n                //parentMarkElement.textContent = parentMarkElement.textContent.trim();\n                //let innerText = parentMarkElement.textContent;\n                this.renderer.insertBefore(parentMarkElement, text, element)\n                this.renderer.removeChild(parentMarkElement, element);\n                //parentMarkElement.insertBefore(text, parentMarkElement.childNodes[i+1]);\n                //let children = parentMarkElement.children;\n                //parentMarkElement.textContent = innerText\n                i++;\n                return;\n              }\n              i++;\n            }\n          );\n\n        }\n      }\n\n\n\n\n    }\n  }\n\n  @HostListener('window:keyup', ['$event'])\n  disableMultiword(event: KeyboardEvent) {\n    if (!event.altKey && !event.ctrlKey) {\n      this.multiWordMode = false;\n    }\n  }\n\n  constructor(private router: Router, private annotatorService: AnnotatorService, private expander: ExpanderService, private renderer: Renderer2, private documentService: DocumentSystemService, private formBuilder: FormBuilder, private toastr: ToastrService, private lexicalService: LexicalEntriesService, private config: NgbPopoverConfig) {\n    /* this.router.events.pipe(filter(e => e instanceof NavigationEnd)).subscribe((val) => {\n      setTimeout(() => {\n        this.lexicalService.sendToCoreTab(null);\n        this.documentService.sendToEpigraphyTab(null)\n        this.documentService.sendTextToEpigraphyTab(null);\n        this.expander.openCollapseEdit(false);\n        this.expander.openCollapseEpigraphy(false);\n        this.expander.expandCollapseEpigraphy(false);\n        this.expander.expandCollapseEdit(false)\n      }, 1000);\n      \n    }) */\n  }\n\n\n  ngOnInit(): void {\n\n    /* this.config.autoClose = false */\n\n\n    this.epigraphyForm = this.formBuilder.group({\n      tokens: this.formBuilder.array([this.createToken()])\n    })\n\n    this.epigraphy_text_subscription = this.documentService.epigraphyTextData$.subscribe(\n      data => {\n        if (data != null) {\n          this.textEpigraphy = data;\n        } else {\n          this.textEpigraphy = '';\n        }\n      }, error => {\n        console.log(error)\n      }\n    )\n\n    this.leiden_subscription = this.documentService.epigraphyLeidenData$.subscribe(\n      data => {\n        console.log(data)\n        if (data != null) {\n          this.leidenLines = data;\n\n\n        } else {\n          this.leidenLines = [];\n        }\n      }, error => {\n        console.log(error)\n      }\n    )\n\n    this.translation_subscription = this.documentService.epigraphyTranslationData$.subscribe(\n      data => {\n        console.log(data)\n        if (data != null) {\n          this.translation_array = data;\n\n\n        } else {\n          this.translation_array = [];\n        }\n      }, error => {\n        console.log(error)\n      }\n    )\n\n\n\n    this.bind_subject.pipe(debounceTime(100), takeUntil(this.destroy$)).subscribe(\n      data => {\n        /* console.log(data) */\n        this.bindSelection(data.popover, data.evt, data.i);\n      }\n    )\n\n    this.delete_annotation_subscription = this.annotatorService.deleteAnnoReq$.subscribe(\n      data => {\n\n        let localArray = [];\n        if (data != null) {\n\n\n          this.annotationArray = this.annotationArray.filter(\n            element => {\n              return element.id != data.id\n            }\n          )\n          //console.log(this.annotationArray)\n\n          if (this.object != undefined) {\n            this.object.forEach(element => {\n              if (element.id == data.node_id) {\n                /* let position = element.position;\n  \n                let elementHTML = document.getElementsByClassName('token-'+(position-1))[0]\n                this.renderer.removeClass(elementHTML, 'annotation'); */\n\n                let start = element.begin;\n                let end = element.end;\n\n                this.annotationArray.forEach(element => {\n                  if (element.spans[0].start >= start && element.spans[0].end <= end) {\n                    localArray.push(element);\n                  }\n                })\n\n                console.log(localArray, localArray.length);\n\n                if (localArray.length == 0) {\n                  let position = element.position;\n                  let elementHTML = document.getElementsByClassName('token-' + (position - 1))[0]\n                  this.renderer.removeClass(elementHTML, 'annotation');\n                }\n              }\n            });\n          }\n\n        }\n      }\n    )\n\n  }\n\n\n  ngOnChanges(changes: SimpleChanges) {\n    setTimeout(() => {\n      if (changes.epiData.currentValue != null) {\n        if (this.object != changes.epiData.currentValue) {\n          this.tokenArray = this.epigraphyForm.get('tokens') as FormArray;\n          this.tokenArray.clear();\n          this.spanSelection = null;\n          this.annotationArray = [];\n          this.epidoc_annotation_array = [];\n        }\n\n        this.object = changes.epiData.currentValue['tokens'];\n        this.getAnnotations(changes);\n\n      } else {\n        this.object = null;\n      }\n\n\n\n    }, 10)\n\n  }\n\n  async getAnnotations(changes) {\n\n    let element_id = changes.epiData.currentValue['element_id']\n    this.fileId = changes.epiData.currentValue['epidoc_id']\n    let xmlDoc = changes.epiData.currentValue['xmlDoc']\n    console.log(this.object)\n\n    if (this.object.length == 0) {\n      this.isEmptyFile = true;\n      console.log(\"FILE VUOTO\")\n    } else {\n      this.isEmptyFile = false;\n      console.log(\"FILE NON VUOTO\")\n    }\n\n    //console.log(this.object)\n\n    try {\n      let get_anno_req = await this.annotatorService.getAnnotation(element_id).toPromise();\n      console.log(get_anno_req);\n\n      if (get_anno_req.annotations != undefined) {\n        get_anno_req.annotations.forEach(element => {\n          //console.log(element)\n          if (element.layer == 'attestation') {\n            if (element.attributes.bibliography == undefined) {\n              element.attributes['bibliography'] = [];\n            }\n\n            if (!Array.isArray(element.attributes.bibliography)) {\n              let tmp_arr = [];\n              tmp_arr.push(element.attributes['bibliography']);\n              element.attributes['bibliography'] = tmp_arr;\n            }\n\n\n            if (Array.isArray(element.attributes['bibliography'])) {\n              Array.from(element.attributes['bibliography']).forEach(element => {\n\n                if (element['note'] == undefined) {\n                  element['note'] = \"\";\n                }\n\n                if (element['textualRef'] == undefined) {\n                  element['textualRef'] = \"\";\n                }\n              });\n            }\n\n            if (this.isEmptyFile) {\n              element['empty_file'] = this.isEmptyFile;\n              if (element.attributes.leiden == undefined) {\n                element.attributes.leiden = '';\n              }\n            } else {\n              element['empty_file'] = this.isEmptyFile;\n            }\n            this.annotationArray.push(element);\n          } else if (element.layer == 'epidoc') {\n            this.epidoc_annotation_array.push(element);\n          }\n        });\n\n        if (this.annotationArray.length > 0) {\n          if (this.object != null) {\n            for (const element of this.object) {\n              let startElement = element.begin;\n              let endElement = element.end;\n\n              \n              for (const annotation of this.annotationArray) {\n\n                \n                  if (annotation.spans.length == 1) {\n                    let startAnnotation = annotation.spans[0].start;\n                    let endAnnotation = annotation.spans[0].end;\n  \n                    if (startAnnotation >= startElement && endAnnotation <= endElement) {\n                      let positionElement = element.position;\n                      let elementHTML = document.getElementsByClassName('token-' + (positionElement - 1))[0]\n                      var that = this;\n  \n                      let xmlNode = xmlDoc.querySelectorAll('[*|id=\\'' + element.xmlid + '\\']')[0].outerHTML;\n                      let object = {\n                        xmlString: xmlNode\n                      }\n\n                      if (elementHTML != undefined) {\n                        that.renderer.addClass(elementHTML, 'annotation');\n                      }\n                      \n                      if(annotation.attributes.leiden == undefined){\n                        try {\n                          let convert_to_leiden = await this.documentService.testConvertItAnt(object).toPromise();\n                          console.log(convert_to_leiden);\n                          let raw = convert_to_leiden['xml'];\n                          let bodyResponse = new DOMParser().parseFromString(raw, \"text/html\").body;\n                          let leidenToken = '';\n                          bodyResponse.childNodes.forEach(\n                            x => {\n                              if (x.nodeName != undefined) {\n                                if (x.nodeName == '#text') {\n                                  leidenToken += x.nodeValue.replace('\\n', '');\n                                }\n                              }\n                            }\n                          )\n    \n                          //TODO: check leiden\n                          if (leidenToken != '') {\n                            annotation.attributes['leiden'] = leidenToken;\n                          } else {\n                            annotation.attributes['leiden'] = '';\n                          }\n                          \n                        } catch (error) {\n    \n                        }\n                      }\n                      \n  \n  \n  \n  \n                    }\n                  }\n                \n                \n              }\n            }\n\n            this.lexicalService.triggerAttestationPanel(true);\n            this.lexicalService.sendToAttestationPanel(this.annotationArray);\n          }\n        } else {\n          this.annotationArray = [];\n          this.lexicalService.triggerAttestationPanel(false);\n          this.lexicalService.sendToAttestationPanel(null);\n        }\n      } else {\n        this.annotationArray = [];\n        this.epidoc_annotation_array = [];\n        this.lexicalService.triggerAttestationPanel(null);\n        this.lexicalService.sendToAttestationPanel(null);\n      }\n    } catch (error) {\n      if (error.status != 200) {\n        this.toastr.error(\"Something went wrong\", \"Error\", { timeOut: 5000 })\n      }\n    }\n  }\n\n\n  createToken(token?) {\n    if (token != undefined) {\n      return this.formBuilder.group({\n        entity: new FormControl(token)\n      })\n    } else {\n      return this.formBuilder.group({\n        entity: new FormControl('')\n      })\n    }\n  }\n\n  enterCell(evt, i) {\n    //console.log(\"enter cell \" + i);\n    //console.log(evt);\n    if (evt.target.innerText != '.' && evt.target.innerText != ':' && evt.target.innerText != '') {\n      let parentNode = evt.target.parentElement\n      if (parentNode != undefined) {\n        let classNames = parentNode.className;\n        let matchTest = /(^|\\s)(multiword-span-\\d)(\\s|$)/.test(classNames)\n        if (matchTest) {\n\n        } else {\n          this.object[i]['selected'] = true;\n\n          if (window.getSelection) {\n            if (window.getSelection().empty) {  // Chrome\n              window.getSelection().empty();\n            } else if (window.getSelection().removeAllRanges) {  // Firefox\n              window.getSelection().removeAllRanges();\n            }\n          }\n        }\n      }\n    }\n\n\n\n\n  }\n\n  leavingCell(evt, i) {\n    //console.log(\"leaving cell \" + i);\n    this.object[i]['selected'] = false;\n\n  }\n\n  deleteSelection(popover, evt, i) {\n    setTimeout(() => {\n\n    }, 10);\n    let popoverHtml = popover._elementRef.nativeElement;\n    //console.log(popoverHtml.querySelectorAll('.annotation'))\n    if (popoverHtml.querySelectorAll('.annotation').length > 0) {\n\n    } else {\n      popoverHtml.textContent = popoverHtml.textContent.trim();\n    }\n\n\n  }\n\n  triggerBind(popover, evt, i) {\n    if (!this.multiWordMode) {\n      if (evt.target.innerText != '.' && evt.target.innerText != ':' && evt.target.innerText != '') {\n        this.bind_subject.next({ popover, evt, i })\n      }\n\n    } else {\n      //console.log(\"multiword mode\", i)\n      console.log(popover);\n      this.multiWordCreator(popover, evt, i);\n    }\n  }\n\n\n  multiWordCreator(popover, evt, i) {\n    let span = popover._elementRef.nativeElement.parentNode.parentNode.childNodes[i];\n    let prevSibling, nextSibling;\n    prevSibling = popover._elementRef.nativeElement.parentNode.previousSibling;\n    nextSibling = popover._elementRef.nativeElement.parentNode.nextSibling;\n\n\n\n    if (span.classList.contains('multiword')) {\n      this.renderer.removeClass(span, 'multiword')\n      if (prevSibling != null) {\n        if (prevSibling.classList.contains('multiword')) {\n          this.renderer.removeClass(prevSibling, 'border-right-0')\n        }\n      }\n      if (nextSibling != null) {\n        if (nextSibling.classList != undefined) {\n          if (nextSibling.classList.contains('multiword')) {\n            this.renderer.removeClass(span, 'border-right-0')\n          }\n        }\n\n      }\n      let multiWordArray = Array.from(document.getElementsByClassName('multiword'));\n      multiWordArray.forEach(element => {\n        let children = Array.from(element.children);\n        children.forEach(subchild => {\n          if (subchild.classList.contains('multiword-button')) {\n            subchild.remove();\n          }\n        })\n      });\n\n      if (multiWordArray.length > 1) {\n        console.log(multiWordArray[multiWordArray.length - 1])\n        this.createDynamicButtons(multiWordArray[multiWordArray.length - 1]);\n      }\n\n\n    } else {\n      this.renderer.addClass(span, 'multiword');\n      if (prevSibling != null) {\n        if (prevSibling.classList.contains('multiword')) {\n          this.renderer.addClass(prevSibling, 'border-right-0');\n        }\n      }\n      if (nextSibling != null) {\n        if (nextSibling.classList != undefined) {\n          if (nextSibling.classList.contains('multiword')) {\n            this.renderer.addClass(span, 'border-right-0')\n          }\n        }\n      }\n      let multiWordArray = Array.from(document.getElementsByClassName('multiword'));\n      multiWordArray.forEach(element => {\n        let children = Array.from(element.children);\n        children.forEach(subchild => {\n          if (subchild.classList.contains('multiword-button')) {\n            subchild.remove();\n          }\n        })\n      });\n\n      if (multiWordArray.length > 1) {\n        this.createDynamicButtons(span);\n      } else if (multiWordArray.length == 1) {\n        multiWordArray.forEach(element => {\n          let children = Array.from(element.children);\n          children.forEach(subchild => {\n            if (subchild.classList.contains('multiword-button')) {\n              subchild.remove();\n            }\n          })\n        });\n      }\n    }\n\n  }\n\n  createDynamicButtons(span) {\n    let div = this.renderer.createElement('div');\n    this.renderer.addClass(div, 'multiword-button');\n    let okButton = this.renderer.createElement('button');\n    let leaveButton = this.renderer.createElement('button');\n\n    let okIcon = this.renderer.createElement('i');\n    this.renderer.addClass(okIcon, 'fas');\n    this.renderer.addClass(okIcon, 'fa-check');\n\n    let leaveIcon = this.renderer.createElement('i');\n    this.renderer.addClass(leaveIcon, 'fas');\n    this.renderer.addClass(leaveIcon, 'fa-times');\n\n    this.renderer.appendChild(okButton, okIcon);\n    this.renderer.appendChild(leaveButton, leaveIcon);\n    this.renderer.setStyle(okButton, 'position', 'absolute');\n    this.renderer.setStyle(okButton, 'top', '-1.5rem');\n    this.renderer.setStyle(okIcon, 'font-size', '10px');\n    this.renderer.setStyle(okIcon, 'width', '10px');\n\n    this.renderer.addClass(okButton, 'ok-button');\n    this.renderer.addClass(leaveButton, 'no-button')\n\n    this.renderer.setStyle(leaveButton, 'position', 'absolute');\n    this.renderer.setStyle(leaveButton, 'top', '-1.5rem');\n    this.renderer.setStyle(leaveIcon, 'font-size', '10px');\n    this.renderer.setStyle(leaveIcon, 'width', '10px');\n    this.renderer.setStyle(leaveButton, 'left', '1.5rem');\n\n    this.renderer.appendChild(div, okButton)\n    this.renderer.appendChild(div, leaveButton)\n    this.renderer.appendChild(span, div);\n  }\n\n  populateLocalAnnotation(tokenData) {\n    this.token_annotationArray = [];\n    //console.log(anno)\n    this.annotationArray.forEach(\n      annotation => {\n        //console.log(annotation)\n        let start_token, end_token;\n        if (!this.isEmptyFile) {\n          start_token = tokenData.begin;\n          end_token = tokenData.end;\n        } else {\n          start_token = tokenData.spans[0].start;\n          end_token = tokenData.spans[0].end;\n        }\n\n        annotation.spans.forEach(element => {\n          if (element.start >= start_token && element.end <= end_token) {\n            this.token_annotationArray.push(annotation);\n          }\n        });\n\n\n      }\n    )\n    if (this.token_annotationArray.length > 0) {\n      this.lexicalService.triggerAttestationPanel(true);\n      this.lexicalService.sendToAttestationPanel(this.token_annotationArray)\n    }\n  }\n\n  bindSelection(popover, evt, i) {\n\n    console.log(this.object[i])\n    this.token_annotationArray = [];\n    this.annotationArray.forEach(\n      annotation => {\n\n        let start_token = this.object[i].begin;\n        let end_token = this.object[i].end;\n\n        //console.log(annotation.spans)\n\n        if (annotation.spans.length == 1) {\n          annotation.spans.forEach(element => {\n            if (element.start >= start_token && element.end <= end_token) {\n              this.token_annotationArray.push(annotation);\n            }\n          });\n        } else {\n\n        }\n      }\n    )\n\n    if (this.token_annotationArray.length > 0) {\n      this.lexicalService.triggerAttestationPanel(true)\n      this.lexicalService.sendToAttestationPanel(this.token_annotationArray);\n    } else {\n      this.lexicalService.triggerAttestationPanel(false)\n      this.lexicalService.sendToAttestationPanel(null);\n    }\n\n    //console.log(evt)\n    setTimeout(() => {\n\n      this.message = '';\n      this.object[i]['editing'] = true;\n      this.message = window.getSelection().toString();\n      if (this.selectedPopover.htmlNodeName == '') {\n        this.selectedPopover.htmlNodeName = popover._ngbPopoverWindowId;\n        this.selectedPopover.tokenId = i;\n      }\n      else if (popover._ngbPopoverWindowId != this.selectedPopover) {\n        this.selectedPopover.htmlNodeName = popover._ngbPopoverWindowId\n        this.selectedPopover.tokenId = i\n        this.object.forEach(element => {\n          if (element.id != i + 1) {\n            //console.log(element)\n            element.editing = false;\n          } else {\n            //console.log(element)\n            element.editing = true;\n          }\n        });\n      }\n\n      if (popover.isOpen()) {\n\n      } else if (!popover.isOpen()) {\n        popover.open()\n      }\n\n      let popoverHtml = popover._elementRef.nativeElement;\n      let innerText = popoverHtml.innerText;\n      let selection = document.getSelection();\n      let anchorNode = selection.anchorNode;\n      let focusNode = selection.focusNode;\n      let isThereMark, areThereAnnotations;\n      //isThereMark = popoverHtml.querySelectorAll('.mark').length > 0;\n      //areThereAnnotations = popoverHtml.querySelectorAll('.annotation').length > 0;\n\n      if (anchorNode != null && focusNode != null) {\n        let anchorNodeParent = selection.anchorNode.parentNode;\n        let focusNodeParent = selection.focusNode.parentNode;\n\n        if (anchorNodeParent == focusNodeParent && this.message != '') { /* && !areThereAnnotations */\n          //SE SELEZIONO UNA PARTE DEL TOKEN\n\n          if (selection.anchorNode.textContent.trim().length == innerText.length && this.message != innerText) { //!isThereMark && \n\n            let anchorOffset = selection.anchorOffset;\n            let focusOffset = selection.focusOffset;\n\n\n            if (anchorOffset > focusOffset) {\n              let tmp = anchorOffset;\n              anchorOffset = focusOffset;\n              focusOffset = tmp;\n            }\n\n            //console.log(innerText.substring(anchorOffset, focusOffset))\n            console.log(anchorOffset)\n            console.log(focusOffset);\n\n            popoverHtml.innerText = \"\";\n\n            const span = this.renderer.createElement('span');\n            const l_text = this.renderer.createText(innerText.substring(0, anchorOffset))\n            const text = this.renderer.createText(this.message);\n            const r_text = this.renderer.createText(innerText.substring(focusOffset, innerText.length))\n\n\n            /* console.log(\"l_text:\", l_text)\n            console.log(\"text:\", text)\n            console.log(\"r_text:\", r_text) */\n\n\n            this.renderer.appendChild(span, text)\n            this.renderer.appendChild(popoverHtml, span);\n            this.renderer.addClass(span, 'mark'),\n              this.renderer.setAttribute(span, 'startoffset', anchorOffset.toString());\n            this.renderer.setAttribute(span, 'endoffset', focusOffset.toString())\n\n            if (l_text.textContent != \"\") {\n              this.renderer.insertBefore(popoverHtml, l_text, span);\n            }\n\n            if (r_text.textContent != \"\") {\n              this.renderer.appendChild(popoverHtml, r_text);\n            }\n            //console.log(popoverHtml.childNodes)\n            this.spanSelection = {}\n            this.spanSelection['start'] = this.object[i].begin + anchorOffset;\n            this.spanSelection['end'] = this.object[i].begin + focusOffset;\n            this.annotatorService.triggerSearch(this.message);\n          } else if (selection.anchorNode.textContent.trim().length == innerText.length && this.message == innerText) {\n            this.message = '';\n            this.annotatorService.triggerSearch(innerText);\n          }\n        }\n        //SE SELEZIONO L'INTERO TOKEN\n\n        else if (this.message == '') {\n          this.annotatorService.triggerSearch(innerText);\n          this.spanSelection = {}\n          this.spanSelection['start'] = 0;\n          this.spanSelection['end'] = 0;\n        }\n\n      }\n\n\n\n\n      let parentNode = evt.target.parentElement;\n      let classNames = parentNode.className;\n\n      if (/(^|\\s)(multiword-span-\\d)(\\s|$)/.test(classNames)) {\n        let multiwordSpan = Array.from(document.querySelectorAll(\"[class*=multiword-span-]\"));\n        let text = '';\n        multiwordSpan.forEach(element => {\n          console.log(element)\n          text += element.textContent + ' ';\n        })\n        //this.annotatorService.triggerSearch(text);\n      }\n    }, 10);\n\n  }\n\n  triggerEmptySearch() {\n    this.annotatorService.triggerSearch('');\n  }\n\n  async deleteAnnotation(annotation, index, token) {\n    let anno_id = annotation.id;\n    let token_position = token.position;\n\n    try {\n      let delete_anno_req = await this.annotatorService.deleteAnnotation(anno_id).toPromise();\n      console.log(delete_anno_req);\n\n      this.token_annotationArray.splice(index, 1)\n      this.annotationArray.splice(index, 1);\n      this.lexicalService.triggerAttestationPanel(false)\n    } catch (error) {\n      if (error.status == 200) {\n        this.token_annotationArray.splice(index, 1)\n        this.annotationArray.splice(index, 1);\n      } else {\n        this.toastr.error(\"Something went wront, check the log\", \"Error\", { timeOut: 5000 })\n      }\n    }\n\n\n  }\n\n\n  showAllAnnotations() {\n    this.lexicalService.triggerAttestationPanel(true)\n    this.lexicalService.sendToAttestationPanel(this.annotationArray);\n  }\n\n  replaceBetween(origin, startIndex, endIndex, insertion) {\n    return origin.substring(0, startIndex) + insertion + origin.substring(endIndex);\n  }\n\n\n  ngOnDestroy() {\n    this.epigraphy_text_subscription.unsubscribe();\n    this.leiden_subscription.unsubscribe();\n    this.translation_subscription.unsubscribe();\n    this.delete_annotation_subscription.unsubscribe();\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n}\n\n","\n\n<div class=\"card\">\n    <div class=\"card-body\">\n        <div class=\"form-group row ml-2 mt-3 mr-2 showall\" *ngIf=\"annotationArray.length != 0\">\n            <button class=\"btn btn-light btn-lg\" (click)=\"showAllAnnotations()\" title=\"Show all annotations\"><i\n                    class=\"fas fa-eye\"></i></button>\n        </div>\n    \n        <div class=\"form-group row ml-2 mt-3 mr-2\" *ngIf=\"object != null && object.length != 0\">\n            <h6>Linker</h6>\n        \n        </div>\n        \n        <div class=\"form-group row ml-2 mt-3 mr-2 empty\" *ngIf=\"isEmptyFile\">\n            <h6 class=\"mr-2\">Add attestation</h6>\n        \n            <button #button_modal=\"ngbPopover\" type=\"button\" class=\"btn btn-outline-secondary token mb-2\"  container=\"body\"  popoverTitle=\"Pop title\" \n            [autoClose]=\"'outside'\" [ngbPopover]=\"tokenPopover\" [placement]=\"'bottom'\"  popoverClass=\"token_modal\" (click)=\"triggerEmptySearch()\">\n            <i class=\"fa fa-plus\"></i>\n            </button>\n        \n            <ng-template #tokenPopover>\n        \n                <div class=\"card\">\n                    <div class=\"card-header\">\n                        <p>Add a form:</p>\n                       \n                    </div>\n                    <div class=\"card-body\">\n                        <app-search-form [bind]=\"bind\" #search_form></app-search-form>\n                        \n                      \n                    </div>\n        \n                </div>\n        \n        \n            </ng-template>\n        \n        </div>\n        \n        \n        \n        <form [formGroup]=\"epigraphyForm\" *ngIf=\"object != null && object.length != 0\">\n        \n            <div class=\"form-group row ml-2 mt-3 mr-2 panel\">\n        \n                <div *ngFor=\"let token of object; let i = index\" class=\"panel-body\">\n                    <!-- {{multiWordMode && (token.text == '' || token.text == '.' || token.text == ':')}} -->\n                    <span #span_modal=\"ngbPopover\" \n                        [attr.position]=\"token.position\"\n                        [ngClass]=\"{'unselectable': !token.selected, 'selected' : token.selected, 'editing' : token.editing}\"\n                        class=\"token token-{{i}} p-2\" style=\"display: block\" container=\"body\" [triggers]=\"manual\"\n                        [placement]=\"'bottom'\" [popoverTitle]=\"token.value\" [animation]=\"false\" [autoClose]=\"'outside'\"\n                        [disablePopover]=\"multiWordMode || (token.text == '' || token.text == '.' || token.text == ':')\" [ngbPopover]=\"tokenPopover\" (mouseenter)=\"enterCell($event, i)\"\n                        (mouseleave)=\"leavingCell($event, i)\" popoverClass=\"token_modal\"\n                        (mousedown)=\"deleteSelection(span_modal, $event, i)\" (mouseup)=\"triggerBind(span_modal, $event, i);\">\n                        {{token.text}}\n                    </span>\n        \n        \n        \n        \n                    <!-- ################## POPOVER TEMPLATE ################# -->\n                    <ng-template #tokenPopover>\n                       \n        \n                        <div class=\"card\">\n                            <div class=\"card-header\">\n                                <p>Add a form:</p>\n                               \n                            </div>\n                            <div class=\"card-body\">\n                                <app-search-form [bind]=\"bind\" #search_form></app-search-form>\n                                \n        \n                            </div>\n        \n                        </div>\n        \n        \n                    </ng-template>\n                </div>\n        \n        \n            </div>\n        \n        \n        \n        </form>\n    </div>\n    \n</div>\n\n\n\n<div class=\"card mt-2\" *ngIf=\"leidenLines.length != 0\">\n    <div class=\"card-body\">\n        <div class=\"form-group row ml-2 mt-3 mr-2\" *ngIf=\"object != null && object.length != 0\">\n            <h6>Inscription</h6>\n        </div>\n        \n        <div class=\"form-group row ml-2 mt-3 mr-2 leiden_raw p-2\" *ngIf=\"object != null && object.length != 0\" style=\"font-family: 'NewAthena';\">\n            <ol class=\"pl-3\">\n                <li *ngFor=\"let line of leidenLines; let i = index\">\n                    {{line}}\n                </li>\n            </ol>\n        </div>\n    </div>\n</div>\n\n\n<div class=\"card mt-2\" *ngIf=\"translation_array.length != 0\">\n    <div class=\"card-body\">\n        <div class=\"form-group row ml-2 mt-3 mr-2\" *ngIf=\"object != null && object.length != 0\">\n            <h6>Translation</h6>\n        </div>\n        \n        <div class=\"form-group row ml-2 mt-3 mr-2 leiden_raw p-2\" *ngIf=\"object != null && object.length != 0\">\n            <div class=\"row align-items-baseline\">\n                <div class=\"col-6 border-right\">\n                   {{translation_array[0]}}\n                </div>\n                <div class=\"col-6\">\n                    {{translation_array[1]}}\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n\n<!-- <div class=\"form-group row ml-2 mt-3 mr-2 panel\" *ngIf=\"object != null && object.length != 0\">\n\n    <span class=\"token overflow-auto p-2\">{{textEpigraphy}}</span>\n</div> -->\n\n<!-- <div class=\"form-group row ml-2 mt-3 mr-2 panel\" *ngIf=\"object != null && object.length != 0\">\n    <h5>Leiden:</h5>\n</div> -->\n\n<!-- <div [innerHTML]=\"htmlLeiden\" class=\"form-group row ml-2 mt-3 mr-2 p-2 panel leiden_raw\">\n        \n</div> -->\n\n","import { Component, Input, OnDestroy, OnInit, SimpleChanges } from '@angular/core';\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { ToastrService } from 'ngx-toastr';\nimport { Subject } from 'rxjs';\nimport { debounceTime, pairwise, startWith, takeUntil } from 'rxjs/operators';\nimport { ConceptService } from 'src/app/services/concept/concept.service';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\n\n@Component({\n  selector: 'app-concept-set-core-form',\n  templateUrl: './concept-set-core-form.component.html',\n  styleUrls: ['./concept-set-core-form.component.scss']\n})\nexport class ConceptSetCoreFormComponent implements OnInit, OnDestroy {\n\n  @Input() conceptSetData: any;\n  object : any;\n\n  destroy$: Subject<boolean> = new Subject();\n\n  constructor(private formBuilder: FormBuilder,\n              private conceptService : ConceptService,\n              private lexicalService : LexicalEntriesService,\n              private toastr : ToastrService) { }\n\n  conceptSetForm = new FormGroup({\n    defaultLabel : new FormControl('', [Validators.required])\n  })\n\n  ngOnInit(): void {\n    this.conceptSetForm = this.formBuilder.group({\n      defaultLabel : '',\n    })\n\n    this.onChanges();\n  }\n\n  onChanges() {\n    this.conceptSetForm.get('defaultLabel').valueChanges.pipe(debounceTime(1000), startWith(this.conceptSetForm.get('defaultLabel').value), pairwise(), takeUntil(this.destroy$)).subscribe(([prev, next]: [any, any]) => {\n      if(next != '') {\n        let parameters = {\n          relation: \"http://www.w3.org/2004/02/skos/core#prefLabel\",\n          source: this.object.conceptSet,\n          target: next,\n          oldTarget: prev == '' ? this.object.defaultLabel : prev,\n          targetLanguage: this.object.language,\n          oldTargetLanguage : this.object.language\n        }\n\n\n        this.conceptService.updateSkosLabel(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n          data=> {\n            console.log(data)\n          }, error=> {\n            console.log(error);\n            if (error.status != 200) {\n              this.toastr.error(error.error, 'Error', {\n                  timeOut: 5000,\n              });\n            } else {\n              const data = this.object;\n              data['request'] = 0;\n              data['new_label'] = next;\n              this.lexicalService.refreshAfterEdit(data);\n              this.lexicalService.spinnerAction('off');\n              this.lexicalService.updateCoreCard({ lastUpdate: error.error.text });\n              //this.lexicalService.changeDecompLabel(next)\n              this.toastr.success('Label changed correctly for ' + this.object.conceptSet, '', {\n                  timeOut: 5000,\n              });\n            }\n          }\n        )\n      }\n    })\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    setTimeout(() => {\n      if (this.object != changes.conceptSetData.currentValue) {\n        //logica varia\n      }\n      this.object = changes.conceptSetData.currentValue;\n\n\n      if (this.object != null) {\n\n        let defaultLabel = this.object.defaultLabel;\n        this.conceptSetForm.get('defaultLabel').setValue(defaultLabel, {emitEvent : false});\n        \n      }\n\n\n    }, 10)\n\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n\n}\n","<form [formGroup]=\"conceptSetForm\" *ngIf=\"object != null\">\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Label:</label>\n        <div class=\"input-group col-lg-7\">\n            <input formControlName=\"defaultLabel\" name=\"defaultLabel\" type=\"text\" class=\"form-control\" placeholder=\"\" required>\n            <div class=\"input-group-append\">\n                <span class=\"input-group-text\" id=\"basic-addon2\" style=\"font-size: .75rem; font-weight: 900;\">@{{object.language}}</span>\n            </div>\n            <div class=\"invalid-feedback\" *ngIf=\"conceptSetForm.get('defaultLabel').invalid\" style=\"display: block;\">\n                Invalid field.\n            </div>\n        </div>\n    </div>\n</form>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, ElementRef, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { DocumentSystemService } from 'src/app/services/document-system/document-system.service';\nimport { ExpanderService } from 'src/app/services/expander/expander.service';\n\n@Component({\n  selector: 'app-epigraphy-detail',\n  templateUrl: './epigraphy-detail.component.html',\n  styleUrls: ['./epigraphy-detail.component.scss']\n})\nexport class EpigraphyDetailComponent implements OnInit, OnDestroy {\n\n  @ViewChild('navTabsEpigraphy') navtabs: ElementRef; \n  @ViewChild('navContentEpigraphy') navcontent: ElementRef; \n\n  object : any;\n  subscription : Subscription;\n\n  open_epigraphy_subscription : Subscription;\n  constructor(private documentService: DocumentSystemService, private exp : ExpanderService) { }\n\n  ngOnInit(): void {\n    this.open_epigraphy_subscription = this.exp.openEpigraphy$.subscribe(\n      boolean => {\n        if(boolean){\n          setTimeout(() => {\n            var text_detail = document.querySelectorAll('#epigraphy-dettaglio');\n            text_detail.forEach(element => {\n              if(!element.classList.contains('show')){\n                element.classList.add('show')\n              }\n            })\n            let a_link = document.querySelectorAll('a[data-target=\"#epigraphy-dettaglio\"]');\n            a_link.forEach(element => {\n              if(element.classList.contains(\"collapsed\")){\n                element.classList.remove('collapsed')\n              }else{\n                //element.classList.add('collapsed')\n              }\n            })\n           }, 100);\n        }\n      }\n    )\n\n    this.subscription = this.documentService.epigraphyData$.subscribe(\n      object => {\n       /*  console.log(object) */\n        if(object != null){\n          setTimeout(() => {\n            var navTabLinks = this.navtabs.nativeElement.querySelectorAll('a')\n            this.object = object;\n            /* console.log(this.object) */\n            navTabLinks.forEach(element => {\n              /* //console.log(element) */\n              if(element.text == 'Epigraphy'){\n                element.classList.add('active')\n              }else{\n                element.classList.remove('active')\n                //console.log(element.id)\n              }\n            });\n\n            var navContent = this.navcontent.nativeElement.querySelectorAll('.tab-pane');\n            \n            navContent.forEach(element => {\n              \n              if(element.id == 'epigraphy'){\n                element.classList.add('active')\n                element.classList.add('show')\n              }else{\n                \n                element.classList.remove('active')\n                element.classList.remove('show')\n                //console.log(element)\n              }\n            });\n          }, 200);\n          \n        }else{\n          this.object = null;\n          setTimeout(() => {\n            var navTabLinks = this.navtabs.nativeElement.querySelectorAll('a')\n            this.object = object;\n            /* console.log(this.object) */\n            navTabLinks.forEach(element => {\n              /* //console.log(element) */\n              if(element.text == 'Epigraphy'){\n                element.classList.remove('active')\n              }\n            });\n\n            var navContent = this.navcontent.nativeElement.querySelectorAll('.tab-pane');\n            \n            navContent.forEach(element => {\n              \n              if(element.id == 'epigraphy'){\n                element.classList.remove('active')\n                element.classList.remove('show')\n              }\n            });\n          }, 200);\n        }\n      }\n    );\n  }\n\n  triggerExpansionEpigraphy(){\n\n\n    setTimeout(() => {\n      if(!this.exp.isEditTabOpen() && this.exp.isEpigraphyTabOpen()){\n        if(!this.exp.isEditTabExpanded() && this.exp.isEpigraphyTabExpanded()){\n          this.exp.openCollapseEpigraphy();\n          this.exp.expandCollapseEpigraphy();\n        }\n      }else if(!this.exp.isEditTabOpen() && !this.exp.isEpigraphyTabOpen()){\n        if(!this.exp.isEditTabExpanded() && !this.exp.isEpigraphyTabExpanded()){\n          this.exp.openCollapseEpigraphy();\n          this.exp.expandCollapseEpigraphy();\n        }\n      }else if(this.exp.isEditTabOpen() && this.exp.isEpigraphyTabOpen()){\n        this.exp.openCollapseEpigraphy();\n        this.exp.expandCollapseEdit(true);\n      }else if(this.exp.isEditTabOpen() && !this.exp.isEpigraphyTabOpen()){\n        if(this.exp.isEditTabExpanded() && !this.exp.isEpigraphyTabExpanded()){\n          this.exp.expandCollapseEdit(false);\n          this.exp.openCollapseEpigraphy(true)\n        }\n        \n      }\n    }, 200);\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n    this.open_epigraphy_subscription.unsubscribe();\n  }\n}\n","\n\n<!-- <div id=\"epigraphy-accordion\">\n--> <div class=\"card\">\n        <div class=\"card-header\" id=\"headingOne\" style=\"text-align: right;\">\n            <ul class=\"nav nav-tabs\" id=\"editDictTab\" #navTabsEpigraphy role=\"tablist\" [ngClass]=\"{'disabled': object === null}\">\n                <li class=\"nav-item\">\n                    <a class=\"nav-link\" id=\"epigraphy-tab\" data-toggle=\"tab\" href=\"#epigraphy\" role=\"tab\" aria-controls=\"epigraphy\" aria-selected=\"true\">Epigraphy</a>\n                </li>\n                \n                <h5 class=\"ml-auto mb-0\">\n                    <a class=\"btn btn-link w-100 d-flex align-self-center\" (click)=\"triggerExpansionEpigraphy();\" data-toggle=\"collapse\" data-target=\"#epigraphy-dettaglio\" aria-expanded=\"false\" aria-controls=\"epigraphy-dettaglio\">\n                        <i class=\"fa ml-auto\"></i>\n                    </a>\n                </h5>\n            </ul>\n            <!-- <h5 class=\"ml-auto mb-0\">\n                <a class=\"btn btn-link w-100 d-flex align-self-center\" (click)=\"triggerExpansionEpigraphy();\" data-toggle=\"collapse\" data-target=\"#epigraphy-dettaglio\" aria-expanded=\"true\" aria-controls=\"epigraphy-dettaglio\">\n                    <i class=\"fa ml-auto\"></i>\n                </a>\n            </h5> -->\n            \n        </div>\n        <div id=\"epigraphy-dettaglio\" class=\"collapse show\" aria-labelledby=\"headingOne\" > <!-- data-parent=\"#epigraphy-accordion\" -->\n            <div class=\"card-body\">\n                <div class=\"tab-content\" id=\"myTabContent\" #navContentEpigraphy>\n                    <!--  <div class=\"tab-pane fade show active\" id=\"epigraphy\" role=\"tabpanel\" aria-labelledby=\"epigraphy-tab\">\n                        <app-epigraphy-tab></app-epigraphy-tab>\n                    </div> -->\n                    <div class=\"tab-pane fade show active\" id=\"epigraphy\" role=\"tabpanel\" aria-labelledby=\"epigraphy-tab\">\n                        <app-epigraphy-tab></app-epigraphy-tab>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n<!-- </div> -->","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, ElementRef, OnDestroy, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\nimport { ToastrService } from 'ngx-toastr';\nimport { DocumentSystemService } from 'src/app/services/document-system/document-system.service';\nimport { TreeNode } from '@circlon/angular-tree-component';\nimport { ExpanderService } from 'src/app/services/expander/expander.service';\nimport {saveAs as importedSaveAs} from \"file-saver\";\nimport { Subject, Subscription } from 'rxjs';\nimport { take, takeUntil } from 'rxjs/operators';\nimport { ConceptService } from 'src/app/services/concept/concept.service';\n\n\n@Component({\n  selector: 'app-document-system-tree',\n  templateUrl: './document-system-tree.component.html',\n  styleUrls: ['./document-system-tree.component.scss'],\n})\n\nexport class DocumentSystemTreeComponent implements OnInit, OnDestroy {\n\n  switcher = false;\n  @ViewChild('lexTree') lexTree: any;\n  @ViewChild('textTree') textTree: any;\n  @ViewChild('conceptTree') conceptTree: any;\n  @ViewChild('skosTree') skosTree: any;\n  @ViewChild('accordion') accordion: ElementRef; \n  destroy$ : Subject<boolean> = new Subject();\n  refresh_after_edit_subscription : Subscription;\n  trigger_lex_tree_subscription : Subscription;\n\n  constructor(private exp: ExpanderService, \n              private lexicalService: LexicalEntriesService, \n              private toastr: ToastrService, \n              private renderer: Renderer2, \n              private documentService: DocumentSystemService,\n              private conceptService : ConceptService) { }\n\n  ngOnInit(): void {\n    this.refresh_after_edit_subscription = this.refresh_after_edit_subscription = this.lexicalService.refreshAfterEdit$.subscribe(\n      data => {\n        this.refreshAfterEdit(data);\n      }\n    )\n\n\n    this.trigger_lex_tree_subscription = this.lexicalService.triggerLexicalEntryTree$.subscribe(\n      (data:any)=> {\n        setTimeout(() => {\n          if(data != null){\n            if(data.request){\n\n              this.updateTreeParent();\n              \n              let lex = {\n                request : 'form',\n                lexicalEntry : data.data.lexicalEntry,\n\n              }\n              \n              this.lexTree.parameters['text'] = data.data.lexicalEntryLabel;\n              this.lexTree.lexicalEntriesFilter(this.lexTree.parameters);\n              \n\n              setTimeout(() => {\n                this.lexicalService.addSubElementRequest({'lex' : lex, 'data' : data.data});\n\n              }, 500);\n\n              let a_link = this.accordion.nativeElement.querySelectorAll('button[data-target=\"#lexicalCollapse\"]');\n              let collapse_container = this.accordion.nativeElement.querySelectorAll('div[aria-labelledby=\"lexicalHeading\"]');\n              a_link.forEach(element => {\n                if(element.classList.contains(\"collapsed\")){\n                  element.classList.remove('collapsed')\n                }else{\n                  //element.classList.add('collapsed')\n                }\n              })\n  \n              collapse_container.forEach(element => {\n                if(element.classList.contains(\"show\")){\n                  //element.classList.remove('collapsed')\n                }else{\n                  element.classList.add('show')\n                }\n              })\n\n              let a_link_epigraphy = this.accordion.nativeElement.querySelectorAll('button[data-target=\"#epigraphyCollapse\"]');\n              let collapse_container_epigraphy = this.accordion.nativeElement.querySelectorAll('div[aria-labelledby=\"epigraphyHeading\"]');\n              a_link.forEach(element => {\n                if(!element.classList.contains(\"collapse\")){\n                  element.classList.add('collapsed')\n                }\n              })\n  \n              collapse_container_epigraphy.forEach(element => {\n                if(element.classList.contains(\"show\")){\n                  element.classList.remove('show')\n                }else{\n                  //element.classList.add('show')\n                }\n              })\n  \n              \n            }else{\n              setTimeout(() => {\n                let a_link = this.accordion.nativeElement.querySelectorAll('a[data-target=\"#lexicalCollapse\"]');\n                a_link.forEach(element => {\n                  element.classList.add('collapsed')\n                  \n                })\n  \n                let collapse_container = this.accordion.nativeElement.querySelectorAll('div[aria-labelledby=\"lexicalHeading\"]');\n                collapse_container.forEach(element => {\n                  console.log(element)\n                  if(element.classList.contains(\"show\")){\n                    element.classList.remove('show')\n                  }\n                })\n              }, 100);\n              \n            }\n          }\n        }, 100);\n      },error=> {\n        console.log(error)\n      }\n    )\n  }\n\n  updateTreeParent() {\n    this.lexTree.updateTreeView();\n  }\n\n  switchLabel() {\n    this.lexTree.labelView = !this.lexTree.labelView;\n    this.lexTree.idView = !this.lexTree.idView;\n    this.switcher = !this.switcher;\n  }\n\n  lexEdit(data) {\n\n    var that = this;\n    let instanceName = '';\n    if (data['lexicalEntry'] != undefined && data['form'] == undefined && data['sense'] == undefined) {\n      instanceName = data['lexicalEntry']\n    } else if (data['form'] != undefined) {\n      instanceName = data['form']\n    } else if (data['sense'] != undefined) {\n      instanceName = data['sense']\n    } else if (data['etymology'] != undefined) {\n      instanceName = data['etymology']\n    };\n    if (data['new_note'] != undefined) {\n\n      \n      setTimeout(() => {\n        this.lexTree.lexicalEntryTree.treeModel.getNodeBy(\n          function (x) {\n            if (data['lexicalEntry'] != undefined && data['form'] == undefined && data['sense'] == undefined) {\n              if (x.data.lexicalEntry == instanceName) {\n\n                x.data.note = data['new_note']\n                that.lexTree.lexicalEntryTree.treeModel.update();\n                that.lexTree.updateTreeView();\n\n                //console.log(x)\n                //@ts-ignore\n                $('.note_' + x.data.id).attr('data-original-title', data['new_note']);\n\n                data['new_note'] = undefined;\n                return true;\n              } else {\n                return false;\n              }\n            } else if (data['form'] != undefined) {\n\n              if (x.data.form == instanceName) {\n                x.data.note = data['new_note']\n                that.lexTree.lexicalEntryTree.treeModel.update();\n                that.lexTree.updateTreeView();\n                data['new_note'] = undefined;\n                return true;\n              } else {\n                return false;\n              }\n            } else if (data['sense'] != undefined) {\n\n              if (x.data.sense == instanceName) {\n                x.data.note = data['new_note']\n                that.lexTree.lexicalEntryTree.treeModel.update();\n                that.lexTree.updateTreeView();\n                data['new_note'] = undefined;\n                return true;\n              } else {\n                return false;\n              }\n            }\n            else if (data['etymology'] != undefined) {\n\n              if (x.data.etymology == instanceName) {\n                x.data.note = data['new_note']\n                that.lexTree.lexicalEntryTree.treeModel.update();\n                that.lexTree.updateTreeView();\n                data['new_note'] = undefined;\n                return true;\n              } else {\n                return false;\n              }\n            }\n            else {\n              return false;\n            }\n          }\n        );\n      }, 500);\n    } else if (data['new_label'] != undefined) {\n      //console.log(\"cambio label cambio tutto\")\n      //console.log(data)\n      let instanceName = '';\n      if (data['lexicalEntry'] != undefined && data['form'] == undefined) {\n        instanceName = data['lexicalEntry']\n      } else if (data['form'] != undefined) {\n        instanceName = data['form']\n      } else if (data['sense'] != undefined) {\n        instanceName = data['sense']\n      } else if (data['etymology'] != undefined) {\n        instanceName = data['etymology']\n      } else if (data['conceptSet'] != undefined){\n        instanceName = data['conceptSet']\n      }else if (data['lexicalConcept'] != undefined){\n        instanceName = data['lexicalConcept']\n      };\n      \n      setTimeout(() => {\n        if(data['conceptSet'] == undefined && data['lexicalConcept'] == undefined){\n          this.lexTree.lexicalEntryTree.treeModel.getNodeBy(\n            function (x) {\n              if (data['lexicalEntry'] != undefined) {\n                if (x.data.lexicalEntry == instanceName) {\n                  x.data.label = data['new_label']\n                  //x.setActiveAndVisible()\n                  x.scrollIntoView();\n                  data['new_label'] = undefined\n                  return true;\n                } else {\n                  return false;\n                }\n              } else if (data['form'] != undefined) {\n  \n                if (x.data.form == instanceName) {\n                  x.data.label = data['new_label']\n                  //x.setActiveAndVisible()\n                  x.scrollIntoView();\n                  data['new_label'] = undefined\n                  return true;\n                } else {\n                  return false;\n                }\n              } else if (data['sense'] != undefined) {\n  \n                if (x.data.sense == instanceName) {\n                  x.data.label = data['new_label']\n                  //x.setActiveAndVisible()\n                  x.scrollIntoView();\n                  data['new_label'] = undefined\n                  return true;\n                } else {\n                  return false;\n                }\n              } else if (data['etymology'] != undefined) {\n  \n                if (x.data.etymology == instanceName) {\n                  x.data.label = data['new_label']\n                  //x.setActiveAndVisible()\n                  x.scrollIntoView();\n                  data['new_label'] = undefined\n                  return true;\n                } else {\n                  return false;\n                }\n              }\n              else {\n                return false;\n              }\n            }\n          );\n        }else{\n          this.skosTree.skosTree.treeModel.getNodeBy(\n            function (x) {\n              if (data['conceptSet'] != undefined) {\n                if (x.data.conceptSet == instanceName) {\n                  x.data.defaultLabel = data['new_label']\n                  //x.setActiveAndVisible()\n                  x.scrollIntoView();\n                  data['new_label'] = undefined\n                  return true;\n                } else {\n                  return false;\n                }\n              } else if (data['lexicalConcept'] != undefined) {\n  \n                if (x.data.lexicalConcept == instanceName) {\n                  x.data.defaultLabel = data['new_label']\n                  //x.setActiveAndVisible()\n                  x.scrollIntoView();\n                  data['new_label'] = undefined\n                  return true;\n                } else {\n                  return false;\n                }\n              }\n              else {\n                return false;\n              }\n            }\n          );\n        }\n        \n      }, 500);\n    } else if (data['new_type'] != undefined) {\n      //console.log(\"cambio type cambio tutto\")\n      let instanceName = '';\n      if (data['lexicalEntry'] != undefined) {\n        instanceName = data['lexicalEntry']\n      } else if (data['form'] != undefined) {\n        instanceName = data['form']\n      } else if (data['sense'] != undefined) {\n        instanceName = data['sense']\n      };\n      setTimeout(() => {\n        this.lexTree.lexicalEntryTree.treeModel.getNodeBy(\n          function (x) {\n            if (data['lexicalEntry'] != undefined) {\n              if (x.data.lexicalEntry == instanceName) {\n                x.data.type = data['new_type']\n                //x.setActiveAndVisible()\n                x.scrollIntoView();\n                data['new_type'] = undefined\n                return true;\n\n              } else {\n                return false;\n              }\n            } else if (data['form'] != undefined) {\n\n              if (x.data.form == instanceName) {\n                x.data.type = data['new_type']\n                //x.setActiveAndVisible()\n                x.scrollIntoView();\n                data['new_type'] = undefined\n                return true;\n              } else {\n                return false;\n              }\n            } else if (data['sense'] != undefined) {\n\n              if (x.data.seame == instanceName) {\n                x.data.type = data['new_type']\n                //x.setActiveAndVisible()\n                x.scrollIntoView();\n                data['new_type'] = undefined\n                return true;\n              } else {\n                return false;\n              }\n            }\n            else {\n              return false;\n            }\n          }\n        );\n      }, 500);\n    } else if (data['new_lang'] != undefined) {\n      //console.log(\"cambio lang cambio tutto\")\n      let instanceName = '';\n      if (data['lexicalEntry'] != undefined) {\n        instanceName = data['lexicalEntry']\n      } else if (data['form'] != undefined) {\n        instanceName = data['form']\n      } else if (data['sense'] != undefined) {\n        instanceName = data['sense']\n      };\n      setTimeout(() => {\n        this.lexTree.lexicalEntryTree.treeModel.getNodeBy(\n          function (x) {\n            if (data['lexicalEntry'] != undefined) {\n              if (x.data.lexicalEntry == instanceName) {\n                x.data.language = data['new_lang']\n                //x.setActiveAndVisible()\n                x.scrollIntoView();\n                data['new_lang'] = undefined\n                return true;\n              } else {\n                return false;\n              }\n            } else if (data['form'] != undefined) {\n\n              if (x.data.form == instanceName) {\n                x.data.language = data['new_lang']\n                //x.setActiveAndVisible()\n                x.scrollIntoView();\n                data['new_lang'] = undefined\n                return true;\n              } else {\n                return false;\n              }\n            } else if (data['sense'] != undefined) {\n\n              if (x.data.seame == instanceName) {\n                x.data.language = data['new_lang']\n                //x.setActiveAndVisible()\n                x.scrollIntoView();\n                data['new_lang'] = undefined\n                return true;\n              } else {\n                return false;\n              }\n            }\n            else {\n              return false;\n            }\n          }\n        );\n      }, 500);\n    } else if (data['new_pos'] != undefined) {\n      //console.log(\"cambio pos cambio tutto\")\n      let instanceName = '';\n      if (data['lexicalEntry'] != undefined) {\n        instanceName = data['lexicalEntry']\n      } else if (data['form'] != undefined) {\n        instanceName = data['form']\n      } else if (data['sense'] != undefined) {\n        instanceName = data['sense']\n      };\n      setTimeout(() => {\n        this.lexTree.lexicalEntryTree.treeModel.getNodeBy(\n          function (x) {\n            if (data['lexicalEntry'] != undefined) {\n              if (x.data.lexicalEntry == instanceName) {\n                x.data.pos = data['new_pos'].split('#')[1]\n                //x.setActiveAndVisible()\n                x.scrollIntoView();\n                data['new_pos'] = undefined\n                return true;\n              } else {\n                return false;\n              }\n            } else if (data['form'] != undefined) {\n\n              if (x.data.form == instanceName) {\n                x.data.pos = data['new_pos'].split('#')[1]\n                //x.setActiveAndVisible()\n                x.scrollIntoView();\n                data['new_pos'] = undefined\n                return true;\n              } else {\n                return false;\n              }\n            } else if (data['sense'] != undefined) {\n\n              if (x.data.sense == instanceName) {\n                x.data.pos = data['new_pos'].split('#')[1]\n                //x.setActiveAndVisible()\n                x.scrollIntoView();\n                data['new_pos'] = undefined\n                return true;\n              } else {\n                return false;\n              }\n            }\n            else {\n              return false;\n            }\n          }\n        );\n      }, 500);\n    } else if (data['new_status'] != undefined){\n      setTimeout(() => {\n        this.lexTree.lexicalEntryTree.treeModel.getNodeBy(\n          function (x) {\n            if (data['lexicalEntry'] != undefined && data['form'] == undefined && data['sense'] == undefined) {\n              if (x.data.lexicalEntry == instanceName) {\n\n                x.data.status = data['new_status']\n                that.lexTree.lexicalEntryTree.treeModel.update();\n                that.lexTree.updateTreeView();\n\n                \n\n                return true;\n              } else {\n                return false;\n              }\n            } \n            else {\n              return false;\n            }\n          }\n        );\n      }, 500);\n    }\n\n  }\n\n  changeSenseDefinition(data) {\n    var that = this;\n    setTimeout(() => {\n      that.lexTree.lexicalEntryTree.treeModel.getNodeBy(\n        function (x) {\n          if (x.data.sense != undefined) {\n            if (x.data.sense == data['sense']) {\n              \n              x.data.definition = data['new_definition'] != '' ? data['new_definition'] : 'no definition';\n              that.lexTree.lexicalEntryTree.treeModel.update();\n              that.lexTree.updateTreeView();\n              return true;\n            } else {\n              return false;\n            }\n\n          } else {\n            return false;\n          }\n        }\n      );\n    }, 500);\n  }\n\n  changeFormLabel(data) {\n    var that = this;\n    setTimeout(() => {\n      this.lexTree.lexicalEntryTree.treeModel.getNodeBy(\n        function (x) {\n          if (x.data.form != undefined) {\n            if (x.data.form == data['form']) {\n              x.data.label = data['new_label'];\n              that.lexTree.lexicalEntryTree.treeModel.update();\n              that.lexTree.updateTreeView();\n              return true;\n            } else {\n              return false;\n            }\n\n          } else {\n            return false;\n          }\n        }\n      );\n    }, 500);\n  }\n\n\n\n  changeFormType(data) {\n    var that = this;\n    //console.log(\"prova\")\n    setTimeout(() => {\n      this.lexTree.lexicalEntryTree.treeModel.getNodeBy(\n        function (x) {\n          if (x.data.form != undefined) {\n            if (x.data.form == data['form']) {\n              x.data.type = data['new_type'];\n              //console.log(x.data.note)\n              that.lexTree.lexicalEntryTree.treeModel.update();\n              that.lexTree.updateTreeView();\n              return true;\n            } else {\n              return false;\n            }\n\n          } else {\n            return false;\n          }\n        }\n      );\n    }, 500);\n  }\n\n  refreshAfterEdit(data) {\n    // 0 -> lexEdit: quando creo una nuova lexical entry\n    // 3 -> quando devo cambiare solo la label di una forma\n    // 5 -> quando devo cambiare il tipo di una forma\n    // 6 -> quando devo cambiare definizione a un senso\n    if (data != null) {\n      setTimeout(() => {\n        switch (data['request']) {\n          case 0: this.lexEdit(data); break;\n          case 3: this.changeFormLabel(data); break;\n          case 5: this.changeFormType(data); break;\n          case 6: this.changeSenseDefinition(data); break;\n        }\n      }, 100);\n    }\n\n\n  }\n\n  triggerLoad() {\n    this.lexicalService.refreshLangTable();\n  }\n\n  newLexicalEntry() {\n\n    this.lexicalService.newLexicalEntry().pipe(takeUntil(this.destroy$)).subscribe(\n      data => {\n        console.log(data);\n        let newLexEntryLabel = data['label'];\n        let parameters = this.lexTree.getParameters();\n        this.lexTree.lexicalEntriesFilter(parameters);\n        \n        this.toastr.success(data['lexicalEntry'] + ' added correctly', '', {\n          timeOut: 5000,\n        });\n\n        setTimeout(() => {\n          \n          //parameters['text'] = newLexEntryLabel\n          this.lexTree.lexicalEntryTree.treeModel.update();\n          this.lexTree.updateTreeView();\n          \n\n          setTimeout(() => {\n            this.lexTree.lexicalEntryTree.treeModel.getNodeBy(\n              function (x) {\n                if (x.data.lexicalEntry == data['lexicalEntry']) {\n                  x.setActiveAndVisible()\n                  return true;\n                } else {\n                  return false;\n                }\n              }\n            );\n          }, 500);\n        }, 200);\n      },\n      error => {\n        console.log(error);\n        this.toastr.error(error.error, 'Error', {\n          timeOut: 5000,\n        });\n      }\n    )\n  }\n\n  createNewFile(){\n    let element_id = 0;\n    let parameters = {\n      requestUUID : \"string\",\n      \"user-id\" : 0,\n      \"element-id\" : element_id,\n      filename : \"new_file\"+Math.floor(Math.random() * (99999 - 10) + 10)\n    }\n\n    this.documentService.createFile(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n      data =>{\n        console.log(data)\n        this.textTree.treeText.treeModel.nodes.push(data.node);\n        this.textTree.counter = this.textTree.treeText.treeModel.nodes.length\n        this.textTree.treeText.treeModel.update();\n        this.toastr.info('New file added', '', {\n          timeOut: 5000,\n        });\n        this.textTree.treeText.treeModel.getNodeById(data.node.id).setActiveAndVisible();\n      },error=> {\n        console.log(error)\n      }\n    )\n  }\n\n\n  addNewFile(evt?) {\n    let element_id = 0;\n    console.log(evt.target.files)\n    let parameters, file_name;\n\n    if (evt.target.files != undefined) {\n      if (evt.target.files.length == 1) {\n        file_name = evt.target.files[0].name;\n        parameters = {\n          \"requestUUID\": \"string\",\n          \"user-id\": 0,\n          \"element-id\": element_id,\n          \"file-name\": file_name\n        }\n        const formData = new FormData();\n        formData.append('file', evt.target.files[0]);\n\n        this.documentService.uploadFile(formData, element_id, 11).pipe(takeUntil(this.destroy$)).subscribe(\n          data => {\n            console.log(data)\n\n            this.toastr.info('New file added', '', {\n              timeOut: 5000,\n            });\n            setTimeout(() => {\n\n              this.textTree.treeText.treeModel.nodes.push(data.node);\n              this.textTree.counter = this.textTree.treeText.treeModel.nodes.length\n              //console.log(this.textTree.treeText.treeModel.nodes.length)\n              //this.textTree.treeText.treeModel.updateTreeView();\n              this.textTree.treeText.treeModel.update();\n              this.textTree.treeText.treeModel.getNodeById(data.node.id).setActiveAndVisible();\n\n            }, 500);\n\n\n          }, error => {\n            console.log(error);\n            this.toastr.error('Error when adding new file', '', {\n              timeOut: 5000,\n            });\n          }\n        )\n      } else {\n\n        let files_array = Array.from(evt.target.files);\n        files_array.forEach((element : any) => {\n\n          file_name = element.name;\n          parameters = {\n            \"requestUUID\": \"string\",\n            \"user-id\": 0,\n            \"element-id\": element_id,\n            \"file-name\": file_name\n          }\n\n          const formData = new FormData();\n          formData.append('file', element);\n\n          this.documentService.uploadFile(formData, element_id, 11).pipe(takeUntil(this.destroy$)).subscribe(\n            data => {\n              console.log(data)\n\n              this.toastr.info('New file added', '', {\n                timeOut: 5000,\n              });\n              setTimeout(() => {\n\n                this.textTree.treeText.treeModel.nodes.push(data.node);\n                this.textTree.counter = this.textTree.treeText.treeModel.nodes.length\n                //console.log(this.textTree.treeText.treeModel.nodes.length)\n                //this.textTree.treeText.treeModel.updateTreeView();\n                this.textTree.treeText.treeModel.update();\n                this.textTree.treeText.treeModel.getNodeById(data.node.id).setActiveAndVisible();\n\n              }, 500);\n\n\n            }, error => {\n              console.log(error);\n              this.toastr.error('Error when adding new file', '', {\n                timeOut: 5000,\n              });\n            }\n          )\n        });\n      }\n    }\n\n    console.log(evt);\n  }\n\n  addNewFolder() {\n\n    let element_id = 0;\n    let parameters = {\n      \"requestUUID\": \"string\",\n      \"user-id\": 0,\n      \"element-id\": element_id\n    }\n\n\n    this.documentService.addFolder(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n      data => {\n        console.log(data)\n        let id_new_node = 243;\n        /* let new_node = {\n          \"children\" : [],\n          \"element-id\" : id_new_node,\n          \"id\" : Math.floor(Math.random() * (99999 - 10) + 10),\n          \"metadata\" : {},\n          \"path\" : \"\",\n          \"name\" : \"new-folder_\"+ Math.floor(Math.random() * (99999 - 10) + 10),\n          \"type\" : \"directory\"\n        } */\n        if (data.node != undefined) {\n          this.toastr.info('New folder added', '', {\n            timeOut: 5000,\n          });\n          this.textTree.nodes.push(data.node);\n          this.textTree.updateTreeView();\n          this.textTree.treeText.treeModel.update();\n        }\n\n      }, error => {\n        console.log(error);\n        this.toastr.error('Error when creating new folder', '', {\n          timeOut: 5000,\n        });\n      }\n    )\n\n  }\n\n  exportLexicon(){\n    let parameters = {\n      \"fileName\": \"export\",\n      \"format\": \"turtle\",\n      \"inferred\": false\n    }\n\n    this.lexicalService.exportLexicon(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n      data=> {\n        console.log(data);\n        var blob = new Blob([data], { type: 'text/turtle' });\n        var url = window.URL.createObjectURL(blob);\n        importedSaveAs(blob,\"file_name.txt\");\n       // window.open(url); \n        \n      }, error=> {\n        console.log(error);\n        \n      }\n    )\n  }\n\n  /* downloadFile(data: any) {\n    const blob = new Blob([data], { type: 'text/turtle' });\n    const url= window.URL.createObjectURL(blob);\n    window.open(url);\n  } */\n\n  addNewConceptSet(){\n    this.conceptService.createNewConceptSet().pipe(takeUntil(this.destroy$)).subscribe(\n      data=>{\n        console.log(data);\n        if (data != undefined) {\n          this.toastr.info('New Concept Set added', '', {\n            timeOut: 5000,\n          });\n          data['hasChildren'] = true;\n          this.skosTree.nodes.push(data);\n          this.skosTree.updateTreeView();\n          this.skosTree.skosTree.treeModel.update();\n          this.skosTree.skosTree.treeModel.getNodeById(data.id).setActiveAndVisible();\n        }\n       \n      },error=> {\n        console.log(error)\n        this.toastr.error('Error when creating new Concept Set', '', {\n          timeOut: 5000,\n        });\n      }\n    )\n  }\n\n  addNewLexicalConcept(){\n    this.conceptService.createNewLexicalConcept().pipe(takeUntil(this.destroy$)).subscribe(\n      data=>{\n        console.log(data);\n        if (data != undefined) {\n          this.toastr.info('New Lexical Concept added', '', {\n            timeOut: 5000,\n          });\n          data['hasChildren'] = true;\n          \n          this.skosTree.skos_nodes.push(data);\n          this.skosTree.updateTreeView();\n          this.skosTree.skosTree.treeModel.update();\n\n          setTimeout(() => {\n            this.skosTree.skosTree.treeModel.getNodeBy(element=>{\n              if(element.data.lexicalConcept == data.lexicalConcept){\n                element.setActiveAndVisible();\n              }\n            })  \n          }, 300);\n          \n        }\n       \n      },error=> {\n        console.log(error)\n        this.toastr.error('Error when creating new Concept Set', '', {\n          timeOut: 5000,\n        });\n      }\n    )\n  }\n\n  ngOnDestroy(): void {\n      this.refresh_after_edit_subscription.unsubscribe();\n      this.trigger_lex_tree_subscription.unsubscribe();\n      this.destroy$.next(true);\n      this.destroy$.complete();\n  }\n}\n","\n\n<div id=\"tree-accordion\" #accordion>\n\n\n    <!-- EPIGRAFI -->\n    <div class=\"card\">\n        <div class=\"card-header\" id=\"epigraphyHeading\">\n            <h5 class=\"mb-0 d-flex justify-content-between align-items-center\">\n                <button class=\"btn btn-link collapsed\" data-toggle=\"collapse\" data-target=\"#epigraphyCollapse\" aria-expanded=\"false\"\n                    aria-controls=\"epigraphyCollapse\">\n                    <i class=\"fa\"></i> Inscriptions\n                </button>\n                <div class=\"icons-container dropdown\">\n                    <button container=\"body\" placement=\"right\" ngbTooltip=\"Add new file / folder / empty file\" class=\"btn btn-link\" type=\"button\" id=\"textTreeActionDropdown\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"><i class=\"fa fa-plus\"></i></button>\n                    <!-- <button class=\"btn btn-link\"><i class=\"fa fa-file-import\"></i></button>\n                    <button class=\"btn btn-link\"><i class=\"fa fa-download\"></i></button>\n                    <button class=\"btn btn-link\" title=\"Language\"><i class=\"fa fa-globe-americas\"></i></button> -->\n                    <div class=\"dropdown-menu\" aria-labelledby=\"textTreeActionDropdown\">\n                        <a class=\"dropdown-item\" (click)=\"addFile.click()\" style=\"cursor: pointer;\">Add new file</a>\n                        <input #addFile type=\"file\" onclick=\"this.value = null\" accept=\".xml\" hidden (change)=\"addNewFile($event)\" multiple>\n                        <a class=\"dropdown-item\" (click)=\"addNewFolder()\" style=\"cursor: pointer;\">Add new folder</a>\n                        <div class=\"dropdown-divider\"></div>\n                        <a class=\"dropdown-item\" (click)=\"createNewFile()\" style=\"cursor: pointer;\">Create empty file</a>\n                    </div>\n                </div>\n               \n            </h5>\n        </div>\n        <div id=\"epigraphyCollapse\" class=\"collapse\" aria-labelledby=\"epigraphyHeading\" data-parent=\"#tree-accordion\">\n            <div class=\"card-body\">\n                <app-text-tree #textTree></app-text-tree>\n            </div>\n        </div>\n    </div>\n\n    <!-- LEXICAL ENTRIES -->\n    <div class=\"card\">\n        <div class=\"card-header\" id=\"lexicalHeading\">\n            <h5 class=\"mb-0 d-flex flex-wrap justify-content-between align-items-center\">\n                <button class=\"btn btn-link\" data-toggle=\"collapse\" data-target=\"#lexicalCollapse\"\n                    aria-expanded=\"true\" aria-controls=\"lexicalCollapse\" (click)=\"updateTreeParent()\">\n                    <i class=\"fa\"></i> Lexicon\n                </button>\n                <div class=\"icons-container\">\n                    <button placement=\"bottom\" [ngbTooltip]=\"switcher ? 'Enable label view' : 'Disable label view'\"\n                        [ngStyle]=\"switcher ? {'background-color': '#007bff', 'color': 'rgb(247 247 247)'} : {'background-color': 'transparent', 'color': '#007bff'}\"\n                        class=\"btn btn-link\" title=\"Switch to label view\"\n                        (click)=\"switchLabel(); updateTreeParent();\"><i class=\"fas fa-tag\"></i></button>\n                    <button placement=\"bottom\" ngbTooltip=\"Add new lexical entry\" class=\"btn btn-link\" title=\"Add new lexical entry\" (click)=\"newLexicalEntry()\"><i\n                            class=\"fa fa-plus\"></i></button>\n                    <button placement=\"bottom\" ngbTooltip=\"Export entire lexicon\" class=\"btn btn-link\" title=\"Export\" (click)=\"exportLexicon();\"><i class=\"fa fa-file-import\"></i></button>\n                    <!-- <button class=\"btn btn-link\" title=\"Download\"><i class=\"fa fa-download\"></i></button> -->\n                    <button placement=\"bottom\" ngbTooltip=\"Open language manager\" class=\"btn btn-link\" title=\"Edit Languages\" (click)=\"selectLanguageModal.show(); triggerLoad();\"><i\n                            class=\"fas fa-flag-usa\"></i></button>\n\n                    <app-modal #selectLanguageModal class=\"languages_modal\">\n                        <ng-container class=\"app-modal-header\">Language Manager</ng-container>\n                        <ng-container class=\"app-modal-body\">\n\n                            <app-language-manager></app-language-manager>\n\n                        </ng-container>\n                    </app-modal>\n                </div>\n            </h5>\n        </div>\n        <div id=\"lexicalCollapse\" class=\"collapse show\" aria-labelledby=\"lexicalHeading\" data-parent=\"#tree-accordion\">\n            <div class=\"card-body\">\n                <app-lexical-entry-tree #lexTree></app-lexical-entry-tree>\n            </div>\n        </div>\n    </div>\n\n    <!-- ONTOLOGY -->\n    <!-- <div class=\"card\">\n        <div class=\"card-header\" id=\"headingFour\">\n            <h5 class=\"mb-0 d-flex flex-wrap justify-content-between align-items-center\">\n                <button class=\"btn btn-link collapsed\" data-toggle=\"collapse\" data-target=\"#ontologia\"\n                    aria-expanded=\"false\" aria-controls=\"ontologia\">\n                    <i class=\"fa\"></i> Ontology\n                </button>\n                <div class=\"icons-container\">\n                    <button class=\"btn btn-link\"><i class=\"fa fa-plus\"></i></button>\n                    <button class=\"btn btn-link\"><i class=\"fa fa-file-import\"></i></button>\n                    <button class=\"btn btn-link\"><i class=\"fa fa-download\"></i></button>\n                    <button class=\"btn btn-link\" title=\"Language\"><i class=\"fa fa-globe-americas\"></i></button>\n                </div>\n            </h5>\n        </div>\n        <div id=\"ontologia\" class=\"collapse\" aria-labelledby=\"headingFour\" data-parent=\"#tree-accordion\">\n            <div class=\"card-body\">\n                <app-concept-tree #conceptTree></app-concept-tree>\n            </div>\n        </div>\n    </div> -->\n\n    <!-- SKOS -->\n    <div class=\"card\">\n        <div class=\"card-header\" id=\"headingSkos\">\n            <h5 class=\"mb-0 d-flex flex-wrap justify-content-between align-items-center\">\n                <button class=\"btn btn-link collapsed\" data-toggle=\"collapse\" data-target=\"#skos\"\n                    aria-expanded=\"false\" aria-controls=\"skos\">\n                    <i class=\"fa\"></i> Lexical Concept\n                </button>\n                \n                <div class=\"icons-container dropdown\">\n                    <button container=\"body\" placement=\"right\" ngbTooltip=\"Show actions\" class=\"btn btn-link\" type=\"button\" id=\"skosTreeDropdown\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"><i class=\"fa fa-plus\"></i></button>\n                    <div class=\"dropdown-menu\" aria-labelledby=\"skosTreeDropdown\">\n                        <!-- <a class=\"dropdown-item\" style=\"cursor: pointer;\" (click)=\"addNewConceptSet()\">Add new Concept Set</a> -->\n                        <a class=\"dropdown-item\" style=\"cursor: pointer;\" (click)=\"addNewLexicalConcept()\">Add new Lexical Concept</a>\n                    </div>\n                </div>\n                \n            </h5>\n        </div>\n        <div id=\"skos\" class=\"collapse\" aria-labelledby=\"headingSkos\" data-parent=\"#tree-accordion\">\n            <div class=\"card-body\">\n                <app-skos-tree #skosTree></app-skos-tree>\n            </div>\n        </div>\n    </div>\n</div>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, Input, OnDestroy, OnInit, SimpleChanges } from '@angular/core';\nimport { FormArray, FormBuilder, FormControl, FormGroup } from '@angular/forms';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\nimport { ToastrService } from 'ngx-toastr';\nimport { BibliographyService } from 'src/app/services/bibliography-service/bibliography.service';\nimport { debounceTime, take, takeUntil } from 'rxjs/operators';\nimport { Subject, Subscription } from 'rxjs';\n\n\n@Component({\n  selector: 'app-bibliography-panel',\n  templateUrl: './bibliography-panel.component.html',\n  styleUrls: ['./bibliography-panel.component.scss']\n})\nexport class BibliographyPanelComponent implements OnInit, OnDestroy {\n\n  @Input() biblioData: any[];\n  bibliographyData: any[];\n  object: any;\n  countElement = 0;\n  loadingSynchro = [];\n  bibliographyForm = new FormGroup({\n    bibliography: new FormArray([this.createBibliography()]),\n  })\n  biblioArray: FormArray;\n  memoryNote = [];\n  memoryTextualRef = [];\n  destroy$ : Subject<boolean> = new Subject();\n  private subject: Subject<any> = new Subject();\n\n  add_biblio_req_subscription : Subscription;\n  subject_subscription : Subscription;\n\n  constructor(private lexicalService: LexicalEntriesService, private biblioService: BibliographyService, private formBuilder: FormBuilder, private toastr: ToastrService) { }\n\n  ngOnInit(): void {\n    this.bibliographyForm = this.formBuilder.group({\n      bibliography: this.formBuilder.array([])\n    })\n\n    this.add_biblio_req_subscription = this.biblioService.addBiblioReq$.subscribe(\n      incomingBiblio => {\n        if (incomingBiblio != null) {\n\n          let id = incomingBiblio.id != undefined ? incomingBiblio.id : '';\n          let title = incomingBiblio.title != undefined ? incomingBiblio.title : '';\n          let author = incomingBiblio.author != undefined ? incomingBiblio.author : '';\n          let date = incomingBiblio.date != undefined ? incomingBiblio.date : '';\n          let note = incomingBiblio.note != undefined ? incomingBiblio.note : '';\n          let textualReference = incomingBiblio.textualReference != undefined ? incomingBiblio.textualReference : '';\n          this.bibliographyData.push(incomingBiblio)\n          this.addBibliographyElement(id, title, author, date, note, textualReference);\n          this.memoryNote.push(note)\n          this.memoryTextualRef.push(textualReference)\n          this.countElement++;\n        } else {\n          this.object = null;\n          this.bibliographyData = null;\n        }\n      }\n    )\n\n    this.subject_subscription= this.subject.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      data => {\n        this.onChanges(data)\n      }\n    )\n  }\n\n\n  ngOnChanges(changes: SimpleChanges) {\n\n    if (changes.biblioData.currentValue != undefined) {\n      this.object = changes.biblioData.currentValue;\n      this.bibliographyData = [];\n      this.countElement = 0;\n      this.memoryNote = [];\n      this.memoryTextualRef = [];\n      this.biblioArray = this.bibliographyForm.get('bibliography') as FormArray;\n      this.biblioArray.clear();\n\n      if (this.object.lexicalEntry != undefined && this.object.form == undefined) {\n        let lexId = this.object.lexicalEntry;\n        this.lexicalService.getBibliographyData(lexId).pipe(takeUntil(this.destroy$)).subscribe(\n          data => {\n            console.log(data);\n            if (data != []) {\n              let count = 0;\n              data.forEach(element => {\n                this.bibliographyData.push(element);\n\n                this.addBibliographyElement(element.id, element.title, element.author, element.date, element.note, element.textualReference)\n                this.memoryNote[count] = element.note;\n                this.memoryTextualRef[count] = element.textualReference\n                count++;\n                this.countElement++;\n              });\n\n              /* this.bibliographyData['parentNodeLabel']= this.object['lexicalEntry'];\n              this.bibliographyData['lexicalEntry']= this.object['lexicalEntry']; */\n            }\n\n\n\n          }, error => {\n\n            if(error.status == 200){\n\n            }else{\n              this.toastr.error(error.error, 'Error', {\n                timeOut: 5000,\n              });\n            }\n            \n\n          }\n        )\n\n      } else if (this.object.form != undefined) {\n        let formId = this.object.form;\n        this.lexicalService.getBibliographyData(formId).pipe(takeUntil(this.destroy$)).subscribe(\n          data => {\n            console.log(data);\n            let count = 0;\n            data.forEach(element => {\n              this.bibliographyData.push(element);\n\n              this.addBibliographyElement(element.id, element.title, element.author, element.date, element.note, element.textualReference)\n              this.memoryNote[count] = element.note;\n              this.memoryTextualRef[count] = element.textualReference\n              count++;\n              this.countElement++;\n            });\n\n            this.bibliographyData['parentNodeLabel'] = this.object['form'];\n            this.bibliographyData['form'] = this.object['form'];\n          }, error => {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n            console.log(error);\n\n          }\n        )\n\n      } else if (this.object.sense != undefined) {\n        let senseId = this.object.sense;\n        this.lexicalService.getBibliographyData(senseId).pipe(takeUntil(this.destroy$)).subscribe(\n          data => {\n            console.log(data);\n            let count = 0;\n            data.forEach(element => {\n              this.bibliographyData.push(element);\n\n              this.addBibliographyElement(element.id, element.title, element.author, element.date, element.note, element.textualReference)\n              this.memoryNote[count] = element.note;\n              this.memoryTextualRef[count] = element.textualReference\n              count++;\n              this.countElement++;\n            });\n\n            this.bibliographyData['parentNodeLabel'] = this.object['sense'];\n            this.bibliographyData['sense'] = this.object['sense'];\n          }, error => {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n            console.log(error);\n\n          }\n        )\n      } else if (this.object.etymology != undefined) {\n        let etymId = this.object.etymology;\n        this.lexicalService.getBibliographyData(etymId).pipe(takeUntil(this.destroy$)).subscribe(\n          data => {\n            console.log(data);\n            let count = 0;\n            data.forEach(element => {\n              this.bibliographyData.push(element);\n\n              this.addBibliographyElement(element.id, element.title, element.author, element.date, element.note, element.textualReference)\n              this.memoryNote[count] = element.note;\n              this.memoryTextualRef[count] = element.textualReference\n              count++;\n              this.countElement++;\n            });\n\n            this.bibliographyData['parentNodeLabel'] = this.object['etymology'];\n            this.bibliographyData['etymology'] = this.object['etymology'];\n          }, error => {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n            console.log(error);\n\n          }\n        )\n      }\n    } else {\n      this.countElement = 0;\n      this.bibliographyData = null;\n    }\n  }\n\n  debounceKeyup(evt, index, field) {\n    this.lexicalService.spinnerAction('on');\n    this.subject.next({ evt, index, field })\n  }\n\n\n  onChanges(data) {\n    let fieldType = '';\n    console.log(data)\n    if (data != undefined) {\n\n      let newValue = data.evt.target.value;\n      let currentValue;\n      let index = data?.index;\n\n      let oldValue = '';\n      fieldType = data['field']\n      if (fieldType == 'http://www.w3.org/2004/02/skos/core#note') {\n        oldValue = this.memoryNote[index];\n      } else if (fieldType == 'http://www.w3.org/2000/01/rdf-schema#label') {\n        oldValue = this.memoryTextualRef[index];\n      }\n\n\n      let instanceName = this.bibliographyData[index].bibliography;\n\n\n      let parameters;\n\n      if (oldValue == '') {\n        parameters = {\n          type: \"bibliography\",\n          relation: fieldType,\n          value: newValue\n        }\n      } else {\n        parameters = {\n          type: \"bibliography\",\n          relation: fieldType,\n          value: newValue,\n          currentValue: oldValue\n        }\n      }\n\n\n\n      console.log(this.biblioArray.at(index))\n      console.log(parameters)\n\n      this.lexicalService.updateGenericRelation(instanceName, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data);\n          this.lexicalService.spinnerAction('off');\n          this.lexicalService.updateCoreCard(this.object);\n          this.toastr.success('Bibliography item updated', '', {\n            timeOut: 5000,\n          });\n        }, error => {\n          console.log(error);\n          this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n          this.lexicalService.spinnerAction('off');\n          if (error.status == 200) {\n            this.toastr.success('Bibliography item updated', '', {\n              timeOut: 5000,\n            });\n          } else {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n          }\n\n        }\n      )\n\n\n      if (fieldType == 'http://www.w3.org/2004/02/skos/core#note') {\n        this.memoryNote[index] = newValue;\n      } else if (fieldType == 'http://www.w3.org/2000/01/rdf-schema#label') {\n        this.memoryTextualRef[index] = newValue;\n      }\n\n\n\n    }\n  }\n\n  removeItem(index) {\n    this.biblioArray = this.bibliographyForm.get('bibliography') as FormArray;\n    this.countElement--;\n\n    let instanceName = this.bibliographyData[index].bibliography;\n\n    this.lexicalService.removeBibliographyItem(instanceName).pipe(takeUntil(this.destroy$)).subscribe(\n      data => {\n        console.log(data)\n        this.lexicalService.updateCoreCard(this.object);\n        this.toastr.success('Element removed', '', {\n          timeOut: 5000,\n        });\n      }, error => {\n        console.log(error)\n        this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n        if(error.status == 200){\n          this.toastr.success('Element removed', '', {\n            timeOut: 5000,\n          });\n        }else{\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n        }\n        \n      }\n    )\n\n\n    this.biblioArray.removeAt(index);\n    this.bibliographyData.splice(index, 1);\n    this.memoryNote.splice(index, 1)\n    this.memoryTextualRef.splice(index, 1)\n\n  }\n\n\n  addBibliographyElement(i?, t?, a?, d?, n?, l?) {\n    this.biblioArray = this.bibliographyForm.get('bibliography') as FormArray;\n    if (t == undefined) {\n      this.biblioArray.push(this.createBibliography());\n    } else {\n      this.biblioArray.push(this.createBibliography(i, t, a, d, n, l));\n    }\n  }\n\n  createBibliography(i?, t?, a?, d?, n?, l?) {\n    if (t == undefined) {\n      return this.formBuilder.group({\n        id: new FormControl(null),\n        title: new FormControl(null),\n        author: new FormControl(null),\n        date: new FormControl(null),\n        note: new FormControl(null),\n        textualReference: new FormControl(null)\n      })\n    } else {\n      return this.formBuilder.group({\n        id: new FormControl(i),\n        title: new FormControl(t),\n        author: new FormControl(a),\n        date: new FormControl(d),\n        note: new FormControl(n),\n        textualReference: new FormControl(l)\n      })\n    }\n  }\n\n  synchronizeBibliography(id, i) {\n    console.log(id)\n    this.loadingSynchro[i] = true;\n    let lexId = '';\n    if (this.object.lexicalEntry != undefined\n      && this.object.sense == undefined && this.object.form == undefined) {\n      console.log(1)\n      lexId = this.object.lexicalEntry;\n    } else if (this.object.form != undefined) {\n      lexId = this.object.form;\n      console.log(2)\n    } else if (this.object.sense != undefined) {\n      lexId = this.object.sense;\n      console.log(3)\n    } else if (this.object.etymology != undefined) {\n      lexId = this.object.etymology;\n    }\n\n    this.lexicalService.synchronizeBibliographyItem(lexId, id).pipe(debounceTime(500), takeUntil(this.destroy$)).subscribe(\n      data => {\n        console.log(data);\n        this.loadingSynchro[i] = false;\n      }, error => {\n        console.log(error);\n        if (error.status == 200) {\n          this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n          this.toastr.success('Item n' + id + ' synchronized', '')\n        }\n        this.loadingSynchro[i] = false;\n      }\n    );\n  }\n\n  ngOnDestroy(): void {\n      this.add_biblio_req_subscription.unsubscribe();\n      this.subject_subscription.unsubscribe();\n      this.destroy$.next(true);\nthis.destroy$.complete();\n  }\n}\n","\n\n<div class=\"card\">\n    <div class=\"card-header\" id=\"bibliographyHeading\">\n        <h5 class=\"mb-0\">\n            <a class=\"btn btn-link w-100 d-flex align-self-center collapsed\" data-toggle=\"collapse\"\n                data-target=\"#bibliographyCollapse\" aria-expanded=\"true\" aria-controls=\"bibliographyCollapse\">\n                Bibliography Panel\n                <span *ngIf=\"countElement > 0\">&nbsp;({{countElement}})</span>\n                <i class=\"fa ml-auto\"></i>\n            </a>\n        </h5>\n    </div>\n    <div id=\"bibliographyCollapse\" class=\"collapse\" aria-labelledby=\"bibliographyHeading\">\n\n        <div class=\"card-body\">\n            <div id=\"accordion\">\n            <!----- FORM ----->\n            <form [formGroup]=\"bibliographyForm\" *ngIf=\"object!=null\"> <!--  -->\n                <div formArrayName=\"bibliography\">\n                    <div *ngFor=\"let biblio of bibliographyForm['controls'].bibliography['controls']; let i = index\">\n                        <div [formGroupName]=\"i\">\n                            <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                <div class=\"input-group col-xl-12 p-0\">\n                                    \n                                    <div class=\"card\">\n                                        <a class=\"biblioCollapse\" data-toggle=\"collapse\" [attr.data-target]=\"'#collapse-'+i\" aria-expanded=\"true\" [attr.aria-controls]=\"'#collapse-'+i\"><span class=\"text-id pointer\"><b>{{biblio.get(\"author\").value}} - {{biblio.get(\"date\").value}} ({{biblio.get(\"title\").value != undefined ? (biblio.get(\"title\").value | slice:0:10) +'...' : ''}})</b></span></a>\n                                        <span *ngIf=\"bibliographyData != undefined\" class=\"icons-container\">\n                                            <!-- {{bibliographyData[i]['url'] | json}} -->\n                                            <span><a target=\"_blank\" class=\"pointer text-primary\" (click)=\"synchronizeBibliography(biblio.get('id').value, i)\"><span class=\"synchro-icon\"><i class=\"fas fa-sync-alt\" *ngIf=\"!loadingSynchro[i]\"></i> <i class=\"fas fa-sync fa-spin\" *ngIf=\"loadingSynchro[i]\"></i></span></a></span>\n                                            <span ><a href=\"https://www.zotero.org/groups/2552746/prin_italia_antica/items/{{bibliographyData[i]['id']}}/library\" target=\"_blank\" class=\"pointer text-primary\"><span class=\"external-icon\"><i class=\"fas fa-external-link-alt\"></i></span></a></span>\n                                            <span><a *ngIf=\"bibliographyData[i]['url'] != ''\" [href]=\"bibliographyData[i]['url']\" target=\"_blank\" class=\"pointer text-primary\"><span class=\"download-icon\"><i class=\"fas fa-download\"></i></span></a></span>\n                                        </span>\n                                        \n                                        <a class=\"pointer\" (click)=\"removeItem(i)\"><span class=\"trash-icon\"><i class=\"fa fa-trash text-danger\"></i></span></a> \n                                        \n                                        <div [id]=\"'collapse-'+i\" class=\"collapse\" data-parent=\"#accordion\">\n                                            <div class=\"card-body\">\n                                                <div class=\"form-group row ml-2 mr-2 mb-0\">\n                                                    <label for=\"inputLabel\" class=\"col-lg-4 col-form-label\">Title:</label>\n                                                    <div class=\"input-group col-lg-8 pl-0\">\n                                                        <input id=\"title\" formControlName=\"title\" name=\"title\" type=\"text\" class=\"form-control\" placeholder=\"\" disabled>\n                                                    </div>\n                                                </div>           \n                                                <div class=\"form-group row ml-2 mr-2 mb-0\">\n                                                    <label for=\"inputLabel\" class=\"col-lg-4 col-form-label\">Author:</label>\n                                                    <div class=\"input-group col-lg-8 pl-0\">\n                                                        <input id=\"author\"  formControlName=\"author\" name=\"author\" type=\"text\" class=\"form-control\" placeholder=\"\" disabled>\n                                                    </div>\n                                                </div>   \n                                                <div class=\"form-group row ml-2 mr-2 mb-0\">\n                                                    <label for=\"inputLabel\" class=\"col-lg-4 col-form-label\">Date:</label>\n                                                    <div class=\"input-group col-lg-8 pl-0\">\n                                                        <input id=\"date\"  formControlName=\"date\" name=\"date\" type=\"text\" class=\"form-control\" placeholder=\"\" disabled>\n                                                    </div>\n                                                </div>\n                                                <div class=\"form-group row ml-2 mr-2\">\n                                                    <label for=\"inputLabel\" class=\"col-lg-4 col-form-label\">Note:</label>\n                                                    <div class=\"input-group col-lg-8 pl-0\">\n                                                        <!-- <input id=\"note\"  formControlName=\"note\" name=\"note\" type=\"text\" class=\"form-control\" placeholder=\"\"> -->\n                                                        <textarea (keyup)=\"debounceKeyup($event, i, 'http://www.w3.org/2004/02/skos/core#note')\" formControlName=\"note\" name=\"note\" class=\"form-control\" style=\"resize: none;\"></textarea>\n                                                    </div>\n                                                </div>  \n                                                <div class=\"form-group row ml-2 mr-2\">\n                                                    <label for=\"inputLabel\" class=\"col-lg-4 col-form-label\">Page(s):</label>\n                                                    <div class=\"input-group col-lg-8 pl-0\">\n                                                        <!-- <input id=\"note\"  formControlName=\"note\" name=\"note\" type=\"text\" class=\"form-control\" placeholder=\"\"> -->\n                                                        <textarea (keyup)=\"debounceKeyup($event, i, 'http://www.w3.org/2000/01/rdf-schema#label')\" formControlName=\"textualReference\" name=\"textualReference\" class=\"form-control\" style=\"resize: none;\"></textarea>\n                                                    </div>\n                                                </div>     \n                                            </div>\n                                        </div>                                            \n                                    </div>\n                                    \n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </form>\n            </div>\n           \n        </div>\n    </div>\n</div>","import { KeycloakService } from 'keycloak-angular';\nimport { environment } from '../../../environments/environment';\n \nexport function initializer(keycloak: KeycloakService): () => Promise<any> {\n    return (): Promise<void> => {\n        return new Promise(async (resolve, reject) => {\n          try {\n            await keycloak.init({\n                config: {\n                    url: environment.keycloak.issuer,\n                    realm: environment.keycloak.realm,\n                    clientId: environment.keycloak.clientId\n                },\n              loadUserProfileAtStartUp: false,\n              enableBearerInterceptor: true,\n              bearerPrefix: 'Bearer',\n              initOptions: {\n                onLoad: 'check-sso',\n                checkLoginIframe: true\n              },\n              bearerExcludedUrls: [\n                'api.zotero.org'\n              ]\n            });\n            resolve();\n          } catch (error) {\n            reject(error);\n          }\n        });\n      };\n}","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, HostListener, Input, OnChanges, OnDestroy, OnInit, SimpleChanges } from '@angular/core';\nimport { AngularEditorConfig } from '@kolkov/angular-editor';\nimport { ToastrService } from 'ngx-toastr';\nimport { Subject, Subscription } from 'rxjs';\nimport { debounceTime, takeUntil } from 'rxjs/operators';\nimport { ConceptService } from 'src/app/services/concept/concept.service';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\n\n@Component({\n  selector: 'app-note-panel',\n  templateUrl: './note-panel.component.html',\n  styleUrls: ['./note-panel.component.scss']\n})\nexport class NotePanelComponent implements OnInit, OnChanges, OnDestroy {\n\n  @Input() noteData: string;\n  object: any;\n  private subject: Subject<string> = new Subject();\n\n  note_subscription: Subscription;\n  lex_entry_update_subscription: Subscription;\n  form_update_subscription: Subscription;\n  sense_update_subscription: Subscription;\n  etymology_update_subscription: Subscription;\n\n  destroy$ : Subject<boolean> = new Subject();\n\n  @HostListener('window:keyup', ['$event'])\n  keyEvent(event: KeyboardEvent) {\n    /* //console.log(event) */\n    event.preventDefault();\n    event.stopPropagation();\n    return;\n  }\n\n  htmlContent: '';\n  editorConfig: AngularEditorConfig = {\n    editable: true,\n    spellcheck: true,\n    height: 'auto',\n    minHeight: '0',\n    maxHeight: '150px',\n    width: 'auto',\n    minWidth: '0',\n    translate: 'yes',\n    enableToolbar: true,\n    showToolbar: true,\n    placeholder: 'Enter text here...',\n    defaultParagraphSeparator: '',\n    customClasses: [\n      {\n        name: 'quote',\n        class: 'quote',\n      },\n      {\n        name: 'redText',\n        class: 'redText'\n      },\n      {\n        name: 'titleText',\n        class: 'titleText',\n        tag: 'h1',\n      },\n    ],\n    uploadUrl: 'v1/image',\n    uploadWithCredentials: false,\n    sanitize: true,\n    toolbarPosition: 'top',\n    toolbarHiddenButtons: [\n      [\n        'undo',\n        'redo',\n        'strikeThrough',\n        'justifyLeft',\n        'justifyCenter',\n        'justifyRight',\n        'justifyFull',\n        'indent',\n        'outdent',\n        'insertUnorderedList',\n        'insertOrderedList',\n        'heading',\n        'fontName'\n      ],\n      [\n        'fontSize',\n        'textColor',\n        'backgroundColor',\n        'customClasses',\n        'link',\n        'unlink',\n        'insertImage',\n        'insertVideo',\n        'insertHorizontalRule',\n        'toggleEditorMode'\n      ]\n    ]\n  };\n  constructor(private lexicalService: LexicalEntriesService, \n              private toastr: ToastrService,\n              private conceptService : ConceptService) { }\n\n  ngOnInit(): void {\n    this.editorConfig.editable = false;\n\n\n    this.subject.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      newNote => {\n        if (this.noteData != null) {\n          this.lexicalService.spinnerAction('on');\n          console.log(this.object)\n          //console.log(this.object)\n          if (this.object.lexicalEntry != undefined && this.object.form == undefined && this.object.sense == undefined) {\n            var lexId = this.object.lexicalEntry;\n            var parameters = {\n              relation: \"http://www.w3.org/2004/02/skos/core#note\",\n              value: newNote\n            }\n            this.lexicalService.updateLexicalEntry(lexId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n              data => {\n                //console.log(data);\n                data['request'] = 0;\n                data['new_note'] = newNote;\n                this.lexicalService.refreshAfterEdit(data);\n                this.lexicalService.spinnerAction('off');\n                this.toastr.success('Note updated', '', {\n                  timeOut: 5000,\n                });\n              },\n              error => {\n                //console.log(error);\n                const data = this.object;\n                data['request'] = 0;\n                data['new_note'] = newNote;\n                this.lexicalService.refreshAfterEdit(data);\n                this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                this.lexicalService.spinnerAction('off');\n                if(error.status != 200){\n                  this.toastr.error(error.error, '', {\n                    timeOut: 5000,\n                  });\n                }else if(error.status == 200){\n                  this.toastr.success('Note updated', '', {\n                    timeOut: 5000,\n                  });\n                }\n                \n              }\n            )\n          } else if (this.object.form != undefined) {\n            var formId = this.object.form;\n            var parameters = {\n              relation: \"http://www.w3.org/2004/02/skos/core#note\",\n              value: newNote\n            }\n            this.lexicalService.updateForm(formId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n              data => {\n                //console.log(data);\n                data['request'] = 0;\n                data['new_note'] = newNote;\n                this.lexicalService.refreshAfterEdit(data);\n                this.lexicalService.spinnerAction('off');\n                this.toastr.success('Note updated', '', {\n                  timeOut: 5000,\n                });\n              },\n              error => {\n                //console.log(error);\n                const data = this.object;\n                data['request'] = 0;\n                data['new_note'] = newNote;\n                this.lexicalService.refreshAfterEdit(data);\n                this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                this.lexicalService.spinnerAction('off');\n                this.toastr.success('Note updated', '', {\n                  timeOut: 5000,\n                });\n              }\n            )\n          } else if (this.object.sense != undefined) {\n            var senseId = this.object.sense;\n            var parameters = {\n              relation: \"http://www.w3.org/2004/02/skos/core#note\",\n              value: newNote\n            }\n            this.lexicalService.updateSense(senseId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n              data => {\n                //console.log(data);\n                data['request'] = 0;\n                data['new_note'] = newNote;\n                this.lexicalService.refreshAfterEdit(data);\n                this.lexicalService.spinnerAction('off');\n                this.toastr.success('Note updated', '', {\n                  timeOut: 5000,\n                });\n              },\n              error => {\n                //console.log(error);\n                const data = this.object;\n                data['request'] = 0;\n                data['new_note'] = newNote;\n                this.lexicalService.refreshAfterEdit(data);\n                this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                this.lexicalService.spinnerAction('off');\n                this.toastr.success('Note updated', '', {\n                  timeOut: 5000,\n                });\n              }\n            )\n          } else if (this.object.etymology != undefined) {\n            var etymId = this.object.etymology;\n            var parameters = {\n              relation: \"http://www.w3.org/2004/02/skos/core#note\",\n              value: newNote\n            }\n            this.lexicalService.updateEtymology(etymId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n              data => {\n                //console.log(data);\n                data['request'] = 0;\n                data['new_note'] = newNote;\n                this.lexicalService.refreshAfterEdit(data);\n                this.lexicalService.spinnerAction('off');\n                this.toastr.success('Note updated', '', {\n                  timeOut: 5000,\n                });\n              },\n              error => {\n                //console.log(error);\n                const data = this.object;\n                data['request'] = 0;\n                data['new_note'] = newNote;\n                this.lexicalService.refreshAfterEdit(data);\n                this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                this.lexicalService.spinnerAction('off');\n                if(error.status == 200){\n                  this.toastr.success('Note updated', '', {\n                    timeOut: 5000,\n                  });\n                }\n                \n              }\n            )\n          }else if(this.object.lexicalConcept !=undefined){\n            let lexicalConceptID = this.object.lexicalConcept;\n\n            let parameters = {\n              relation: \"http://www.w3.org/2004/02/skos/core#note\",\n              source: this.object.lexicalConcept,\n              target: newNote,\n              oldTarget: this.object.note ,\n              targetLanguage: this.object.language,\n              oldTargetLanguage : this.object.language\n            }\n    \n    \n            this.conceptService.updateNoteProperty(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n              data=> {\n                console.log(data)\n              }, error=> {\n                console.log(error);\n                \n                //this.lexicalService.changeDecompLabel(next)\n                if (error.status != 200) {\n                    this.toastr.error(error.error, 'Error', {\n                        timeOut: 5000,\n                    });\n                } else {\n                  \n                  this.lexicalService.spinnerAction('off');\n                  this.lexicalService.updateCoreCard({ lastUpdate: error.error.text });\n                  this.toastr.success('Definition changed correctly for ' + this.object.lexicalConcept, '', {\n                      timeOut: 5000,\n                  });\n\n                  this.object.note = newNote;\n                }\n              }\n            )\n\n          } \n        }\n      }\n    )\n\n    this.lexicalService.deleteReq$.pipe(takeUntil(this.destroy$)).subscribe(\n      data => {\n        this.editorConfig.editable = false;\n        this.noteData = null;\n        this.object = null;\n      }\n    )\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n\n    if (changes.noteData.currentValue == null) {\n      this.editorConfig.editable = false;\n      this.noteData = null;\n      this.object = null;\n    } else {\n      this.editorConfig.editable = true;\n      this.noteData = changes.noteData.currentValue.note;\n      /* if(changes.noteData.currentValue.lexicalConcept){\n        this.noteData = '';\n      } */\n      this.object = changes.noteData.currentValue;\n    }\n\n    /* //console.log(changes) */\n\n  }\n\n  onChanges(evt) {\n    if (evt.key != \"Control\" && evt.key != 'Alt' && evt.key != 'Shift') {\n      this.subject.next(this.noteData);\n    }\n\n  }\n\n  ngOnDestroy(): void {\n   \n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n\n}\n","\n\n<div class=\"card\">\n    <div class=\"card-header\" id=\"noteHeading\">\n        <h5 class=\"mb-0\">\n            <a class=\"btn btn-link w-100 d-flex align-self-center collapsed\" data-toggle=\"collapse\" data-target=\"#noteCollapse\" aria-expanded=\"true\" aria-controls=\"noteCollapse\">\n                Note Panel<i class=\"fa ml-auto\"></i>\n            </a>\n        </h5>\n    </div>\n    <div id=\"noteCollapse\" class=\"collapse\" aria-labelledby=\"noteHeading\">\n        <div class=\"card-body\">\n           <angular-editor *ngIf=\"noteData != null\" [placeholder]=\"'Enter text here...'\" [(ngModel)]=\"noteData\" [config]=\"editorConfig\" (keyup)=\"onChanges($event)\" readonly></angular-editor>\n        </div>\n    </div>\n</div>\n","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { shareReplay } from 'rxjs/operators';\n\nimport { AuthService } from '../auth/auth.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LexicalEntriesService {\n\n  private arrayPanelFormsData = {};\n\n  private _coreFormData: BehaviorSubject<object> = new BehaviorSubject(null);\n  private _attestationPanelData: BehaviorSubject<object> = new BehaviorSubject(null);\n  private _etymologyData: BehaviorSubject<object> = new BehaviorSubject(null);\n  private _rightPanelData: BehaviorSubject<object> = new BehaviorSubject(null);\n  private _deleteLexicalEntryReq: BehaviorSubject<any> = new BehaviorSubject(null);\n  private _addSubElementReq: BehaviorSubject<any> = new BehaviorSubject(null);\n  private _updateCoreCardReq: BehaviorSubject<object> = new BehaviorSubject(null);\n  private _spinnerAction: BehaviorSubject<string> = new BehaviorSubject(null);\n  private _refreshLanguageTable: BehaviorSubject<object> = new BehaviorSubject(null);\n  private _refreshAfterEdit : BehaviorSubject<object> = new BehaviorSubject(null);\n  private _refreshFilter : BehaviorSubject<object> = new BehaviorSubject(null);\n  private _updateLangSelect : BehaviorSubject<object> = new BehaviorSubject(null);\n  private _triggerNotePanel : BehaviorSubject<boolean> = new BehaviorSubject(null);\n  private _triggerAttestationPanel : BehaviorSubject<boolean> = new BehaviorSubject(null);\n  private _changeDecompLabel : BehaviorSubject<string> = new BehaviorSubject(null);\n  private _decompData : BehaviorSubject<object> = new BehaviorSubject(null);\n  private _refreshLinkCounter: BehaviorSubject<string> = new BehaviorSubject(null);\n  private _triggerLexicalEntryTree : BehaviorSubject<object> = new BehaviorSubject(null);\n  private _triggerSameAs : BehaviorSubject<object> = new BehaviorSubject(null);\n\n  morphologyData;\n\n  private baseUrl = \"/LexO-backend-itant_itant/service/\"\n  private key = \"PRINitant19\";\n  private author = \"\";\n  private bibliographyIRI = 'http://lexica/mylexicon/bibliography#'\n  private lexicalIRI = 'http://lexica/mylexicon#';\n  private lexicalPrefix = 'lex'\n\n  coreData$ = this._coreFormData.asObservable();\n  decompData$ = this._decompData.asObservable();\n  attestationPanelData$ = this._attestationPanelData.asObservable();\n  etymologyData$ = this._etymologyData.asObservable();\n  rightPanelData$ = this._rightPanelData.asObservable();\n  deleteReq$ = this._deleteLexicalEntryReq.asObservable();\n  addSubReq$ = this._addSubElementReq.asObservable();\n  updateCoreCardReq$ = this._updateCoreCardReq.asObservable();\n  spinnerAction$ = this._spinnerAction.asObservable();\n  refreshLangTable$ = this._refreshLanguageTable.asObservable();\n  refreshAfterEdit$ = this._refreshAfterEdit.asObservable();\n  refreshFilter$ = this._refreshFilter.asObservable();\n  updateLangSelect$ = this._updateLangSelect.asObservable();\n  triggerNotePanel$ = this._triggerNotePanel.asObservable();\n  triggerAttestationPanel$ = this._triggerAttestationPanel.asObservable();\n  changeDecompLabel$ = this._changeDecompLabel.asObservable();\n  refreshLinkCounter$ = this._refreshLinkCounter.asObservable();\n  triggerLexicalEntryTree$ = this._triggerLexicalEntryTree.asObservable();\n  triggerSameAs$ = this._triggerSameAs.asObservable();\n\n  constructor(private http: HttpClient, private auth: AuthService) { }\n\n  refreshLinkCounter(value:string){\n    this._refreshLinkCounter.next(value);\n  }\n\n  sendToCoreTab(object: object) {\n    this._coreFormData.next(object)\n  } \n\n  sendToDecompTab(object: object){\n    this._decompData.next(object);\n  }\n  \n  sendToAttestationPanel(object: object) {\n    this._attestationPanelData.next(object)\n  } \n\n  changeDecompLabel(string:string){\n    this._changeDecompLabel.next(string);\n  }\n  \n\n  sendToRightTab(object: object) {\n    this._rightPanelData.next(object);\n  }\n\n  sendToEtymologyTab(object: object) {\n    this._etymologyData.next(object);\n  }\n\n  deleteRequest(request? : any) {\n    this._deleteLexicalEntryReq.next(request);\n  }\n\n  addSubElementRequest(request?: any){\n    this._addSubElementReq.next(request);\n  }\n\n  updateCoreCard(object: object) {\n    this._updateCoreCardReq.next(object)\n  }\n\n  spinnerAction(string: string) {\n    this._spinnerAction.next(string)\n  }\n\n  refreshLangTable(){\n    this._refreshLanguageTable.next(null);\n  }\n\n  refreshAfterEdit(object: object){\n    this._refreshAfterEdit.next(object);\n  }\n\n  refreshFilter(object: object){\n    this._refreshFilter.next(object);\n  }\n\n  updateLangSelect(object: object){\n    this._updateLangSelect.next(object);\n  }\n\n  triggerNotePanel(bool: boolean){\n    this._triggerNotePanel.next(bool);\n  }\n\n  triggerAttestationPanel(bool: boolean){\n    this._triggerAttestationPanel.next(bool);\n  }\n\n  triggerLexicalEntryTree(object : object){\n    this._triggerLexicalEntryTree.next(object);\n  }\n\n  triggerSameAs(object : object){\n    this._triggerSameAs.next(object);\n  }\n\n  //POST: /lexicon/lexicalEntries ---> get lexical entries list\n  getLexicalEntriesList(parameters: any): Observable<any> {\n    return this.http.post(this.baseUrl + \"lexicon/data/lexicalEntries\", parameters);\n  }\n\n  //POST: /lexicon/lexicalSenses ---> get lexical entries list\n  getLexicalSensesList(parameters: any): Observable<any> {\n    return this.http.post(this.baseUrl + \"lexicon/data/filteredSenses\", parameters);\n  }\n\n  //POST: /lexicon/data/forms ---> get form list\n  getFormList(parameters: any): Observable<any> {\n    return this.http.post(this.baseUrl + \"lexicon/data/filteredForms\", parameters);\n  }\n\n  //GET /lexicon/data/{id}/elements --> get elements of lexical entry\n  getLexEntryElements(instance: string): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/data/elements?key=lexodemo&id=\" + encodeURIComponent(instance));\n  }\n\n  //GET /lexicon/data/{id}/lexicalEntry --> get specific aspect (morphology, syntax, ...) associated with a given lexical entry\n  getLexEntryData(instance: string): Observable<any> {\n    return this.http.get(`${this.baseUrl}lexicon/data/lexicalEntry?key=${this.key}&aspect=core&id=${encodeURIComponent(instance)}`).pipe(\n      shareReplay()\n    );\n  }\n\n  //GET /lexicon/data/{id}/lexicalEntryLinguisticRelation --> This method returns the relations with other lexical entities according to the input type\n  getLexEntryLinguisticRelation(lexId: string, property: string): Observable<any> {\n    return this.http.get(`${this.baseUrl}lexicon/data/linguisticRelation?key=${this.key}&id=${encodeURIComponent(lexId)}&property=${property}`);\n  }\n\n  //GET /lexicon/data/{id}/lexicalEntryLinguisticRelation --> This method returns the relations with other lexical entities according to the input type\n  getLexEntryGenericRelation(lexId: string, property: string): Observable<any> {\n    return this.http.get(`${this.baseUrl}lexicon/data/genericRelation?key=${this.key}&id=${encodeURIComponent(lexId)}&property=${property}`);\n  }\n\n\n  //GET /lexicon/data/{id}/forms --> get forms of lexical entry\n  getLexEntryForms(instance: string): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/data/forms?key=lexodemo&id=\"+encodeURIComponent(instance));\n  }\n\n\n  //GET /lexicon/data/{id}/form --> get data about a single form \n  getFormData(formId: string, aspect: string): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/data/form?key=\" + this.key + \"&aspect=\" + aspect + \"&id=\" + encodeURIComponent(formId))\n  }\n\n  getOntolexRepresentations(): Observable<any> {\n    return this.http.get(this.baseUrl + \"ontolex/data/representation\")\n  }\n\n  getLexinfoRepresentations(): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexinfo/data/representation\")\n  }\n\n\n  //GET /lexicon/data/{id}/lexicalSense --> get data about a single form \n  getSenseData(senseId: string, aspect: string): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/data/lexicalSense?key=\" + this.key + \"&aspect=\" + aspect + \"&id=\" + encodeURIComponent(senseId))\n  }\n\n  //GET /lexicon/data/{id}/senses --> get list of senses of a lexical entry\n  getSensesList(instance: any): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/data/senses?key=lexodemo&id=\"+encodeURIComponent(instance));\n  }\n\n  //GET /lexicon/data/languages --> Lexicon languages list\n  getLexiconLanguages(): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/data/languages\");\n  }\n\n  //GET /lexicon/statistics/languages --> get languages list for lexical entries menu filter search\n  getLanguages(): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/statistics/languages?key=\" + this.key + \"\");\n  }\n\n  //GET /lexicon/types --> get types list\n  getTypes(): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/statistics/types?key=\" + this.key + \"\");\n  }\n\n  //GET /lexicon/authors --> get authors list\n  getAuthors(): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/statistics/authors?key=\" + this.key + \"\");\n  }\n\n  //GET /lexicon/pos --> get pos list\n  getPos(): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/statistics/pos?key=\" + this.key + \"\");\n  }\n\n  //GET /lexicon/states --> get states list\n  getStatus(): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/statistics/status?key=\" + this.key + \"\");\n  }\n\n   //GET /lexicon/namespaces --> get namespaces list\n   getNamespaces(): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/statistics/namespaces?key=\" + this.key + \"\");\n  }\n\n\n  //GET /lexicon/creation/lexicalEntry --> create new lexical entry\n  newLexicalEntry(): Observable<any> {\n    this.author = this.auth.getUsername();\n    return this.http.get(this.baseUrl + \"lexicon/creation/lexicalEntry?key=\" + this.key + \"&author=\" + this.author + \"&prefix=\" + this.lexicalPrefix + \"&baseIRI=\" + encodeURIComponent(this.lexicalIRI));\n  }\n\n\n  //GET /lexicon/delete/{id}/lexicalEntry --> delete lexical entry\n  deleteLexicalEntry(lexId): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/delete/lexicalEntry?key=\" + this.key + \"&id=\" + encodeURIComponent(lexId));\n  }\n\n  //GET /lexicon/delete/{id}/form --> delete lexical entry\n  deleteForm(lexId): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/delete/form?key=\" + this.key + \"&id=\" + encodeURIComponent(lexId));\n  }\n\n  //GET /lexicon/delete/{id}/lexicalSense --> delete lexical entry\n  deleteSense(lexId): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/delete/lexicalSense?key=\" + this.key + \"&id=\" + encodeURIComponent(lexId));\n  }\n\n  //GET  /lexicon/delete/{id}/language  --> Lexicon language deletion\n  deleteLanguage(langId): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/delete/language?key=\" + this.key + \"&id=\" + encodeURIComponent(langId));\n  }\n\n  //POST  /lexicon/delete/{id}/linguisticRelation  --> delete linguistic relation\n  deleteLinguisticRelation(lexId, parameters): Observable<any> {\n    return this.http.post(this.baseUrl + \"lexicon/delete/relation?key=\" + this.key + \"&id=\" + encodeURIComponent(lexId), parameters);\n  }\n\n  //POST /lexicon/update/{id}/lexicalEntry --> lexical entry update\n  updateLexicalEntry(lexId, parameters): Observable<any> {\n    this.author = this.auth.getUsername();\n    return this.http.post(this.baseUrl + \"lexicon/update/lexicalEntry?key=\" + this.key + \"&user=\" + this.author + \"&id=\" + encodeURIComponent(lexId), parameters);\n  }\n\n\n  //POST /lexicon/update/{id}/linguisticRelation --> linguistic Relation update for Core\n  updateLinguisticRelation(lexId, parameters): Observable<any> {\n    this.author = this.auth.getUsername();\n    return this.http.post(this.baseUrl + \"lexicon/update/linguisticRelation?key=\" + this.key + \"&user=\" + this.author + \"&id=\" + encodeURIComponent(lexId), parameters);\n  }\n\n  //POST /lexicon/update/{id}/genericRelation --> Generic relation update\n  updateGenericRelation(lexId, parameters) : Observable<any> {\n    this.author = this.auth.getUsername();\n    return this.http.post(this.baseUrl + \"lexicon/update/genericRelation?key=\" + this.key + \"&user=\" + this.author + \"&id=\" + encodeURIComponent(lexId), parameters);\n  }\n\n  //POST /lexicon/update/{id}/form --> update form values\n  updateForm(formId, parameters): Observable<any> {\n    this.author = this.auth.getUsername();\n    return this.http.post(this.baseUrl + \"lexicon/update/form?key=\" + this.key + \"&user=\" + this.author + \"&id=\" + encodeURIComponent(formId), parameters);\n  }\n\n  //POST /lexicon/update/{id}/lexicalSense --> update form values\n  updateSense(senseId, parameters): Observable<any> {\n    this.author = this.auth.getUsername();\n    return this.http.post(this.baseUrl + \"lexicon/update/lexicalSense?key=\" + this.key + \"&user=\" + this.author + \"&id=\" + encodeURIComponent(senseId), parameters);\n  }\n\n  //GET  /lexinfo/data/morphology --> get data about morphology\n  getMorphologyData() : Observable<object[]> {\n    return this.http.get<object[]>(this.baseUrl + \"lexinfo/data/morphology\");\n  }\n\n  ///GET /ontolex/data/formType --> get data about form types\n  getFormTypes(): Observable<any> {\n    return this.http.get(this.baseUrl + \"ontolex/data/formType\");\n  }\n\n  ///GET /ontolex/data/lexicalEntryType --> get data about lexicalEntry types\n  getLexEntryTypes(): Observable<object[]> {\n    return this.http.get<object[]>(this.baseUrl + \"ontolex/data/lexicalEntryType\");\n  }\n\n\n  //GET /lexicon/creation/form --> create new form\n  createNewForm(lexId): Observable<any> {\n    this.author = this.auth.getUsername();\n    return this.http.get(this.baseUrl + \"lexicon/creation/form?lexicalEntryID=\"+ encodeURIComponent(lexId)  +\"&key=\" + this.key + \"&author=\" + this.author + \"&prefix=\" + this.lexicalPrefix + \"&baseIRI=\" + encodeURIComponent(this.lexicalIRI));\n  }\n\n  //GET /lexicon/creation/lexicalSense --> create new sense\n  createNewSense(lexId): Observable<any> {\n    this.author = this.auth.getUsername();\n    return this.http.get(this.baseUrl + \"lexicon/creation/lexicalSense?lexicalEntryID=\"+ encodeURIComponent(lexId)  +\"&key=\" + this.key + \"&author=\" + this.author + \"&prefix=\" + this.lexicalPrefix + \"&baseIRI=\" + encodeURIComponent(this.lexicalIRI));\n  }\n\n  //GET /lexicon/creation/language --> create new language\n  createNewLanguage(langId): Observable<any> {\n    this.author = this.auth.getUsername();\n    return this.http.get(this.baseUrl + \"lexicon/creation/language?key=\" + this.key + \"&lang=\"+ langId +\"&author=\" + this.author + \"&prefix=\" + this.lexicalPrefix + \"&baseIRI=\" +encodeURIComponent(this.lexicalIRI));\n  }\n\n  //POST /lexicon/update/{id}/language --> update language\n  updateLanguage(langId, parameters): Observable<any> {\n    this.author = this.auth.getUsername();\n    return this.http.post(this.baseUrl + \"lexicon/update/language?key=\" + this.key + \"&author=\" + this.author + \"&id=\" + encodeURIComponent(langId), parameters);\n  }\n  \n\n  //BIBLIOGRAPHY\n  getBibliographyData(instance: string) : Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/data/bibliography?key=lexodemo&id=\"+encodeURIComponent(instance));\n  }\n\n  addBibliographyData(instance : string, parameters){\n    this.author = this.auth.getUsername();\n    return this.http.post(this.baseUrl + \"lexicon/creation/bibliography?id=\" + encodeURIComponent(instance) + \"&key=\"+ this.key +\"&author=\"+this.author+\"&prefix=lexbib&baseIRI=\" + encodeURIComponent(this.bibliographyIRI), parameters);\n  }\n\n  removeBibliographyItem(instance: string) {\n    return this.http.get(this.baseUrl + \"lexicon/delete/bibliography?key=PRINitant19&id=\"+encodeURIComponent(instance));\n  }\n\n  synchronizeBibliographyItem(lexId : string, itemKey : string) : Observable<any> {\n    this.author = this.auth.getUsername();\n    return this.http.post(this.baseUrl + \"lexicon/update/synchronizeBibliography?id=\"+encodeURIComponent(lexId)+\"&key=PRINitant19&author=\"+this.author+\"&itemKey=\"+itemKey,{})\n  }\n\n\n  //ETYMOLOGY\n  createNewEtymology(instance: string) : Observable<any>{\n    this.author = this.auth.getUsername();\n    return this.http.get(this.baseUrl + \"lexicon/creation/etymology?lexicalEntryID=\"+ encodeURIComponent(instance) +\"&key=\"+this.key+\"&author=\"+this.author+\"&prefix=\" + this.lexicalPrefix + \"&baseIRI=\" + encodeURIComponent(this.lexicalIRI));\n  }\n\n  getEtymologies(instance: string) : Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/data/etymologies?key=\"+this.key+\"&id=\"+encodeURIComponent(instance));\n  }\n\n  getEtymologyData(instance: string)  : Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/data/etymology?key=\"+this.key+ \"&id=\" + encodeURIComponent(instance));\n  }\n\n  updateEtymology(etymId, parameters): Observable<any> {\n    this.author = this.auth.getUsername();\n    return this.http.post(this.baseUrl + \"lexicon/update/etymology?key=\" + this.key + \"&author=\" + this.author + \"&id=\" + encodeURIComponent(etymId), parameters);\n  }\n\n  createNewEtylink(lexInstance: string, etymInstance : string) : Observable<any>{\n    this.author = this.auth.getUsername();\n    return this.http.get(this.baseUrl + \"lexicon/creation/etymologicalLink?lexicalEntryID=\"+encodeURIComponent(lexInstance)+\"&etymologyID=\"+encodeURIComponent(etymInstance)+\"&key=\"+this.key+\"&author=\"+this.author+\"&prefix=\" + this.lexicalPrefix + \"&baseIRI=\" + encodeURIComponent(this.lexicalIRI));\n  }\n\n  deleteEtymology(etymInstance : string) : Observable<any>{\n    this.author = this.auth.getUsername();\n    return this.http.get(this.baseUrl + \"lexicon/delete/etymology?key=\"+this.key+\"&author=\"+this.author+\"&id=\" + encodeURIComponent(etymInstance));\n  }\n\n  updateEtylink(etymId, parameters): Observable<any> {\n    this.author = this.auth.getUsername();\n    return this.http.post(this.baseUrl + \"lexicon/update/etymologicalLink?key=\" + this.key + \"&author=\" + this.author + \"&id=\" + encodeURIComponent(etymId), parameters);\n  }\n\n  deleteEtylink(etyLinkInstance: string) : Observable<any>{\n    this.author = this.auth.getUsername();\n    return this.http.get(this.baseUrl + \"lexicon/delete/etymologicalLink?key=\"+this.key+\"&author=\"+this.author+\"&id=\" + encodeURIComponent(etyLinkInstance));\n  }\n\n  //DECOMP\n  getSubTerms(lexicalEntityID: string) : Observable<any>{\n    return this.http.get(this.baseUrl + \"lexicon/data/subTerms?key=\"+this.key+\"&id=\"+encodeURIComponent(lexicalEntityID));\n  }\n\n  getConstituents(lexicalEntityID: string) : Observable<any>{\n    return this.http.get(this.baseUrl + \"lexicon/data/\"+lexicalEntityID+\"/constituents?key=\"+this.key);\n  }\n\n  createComponent(lexicalEntityID : string) : Observable<any>{\n    this.author = this.auth.getUsername();\n    return this.http.get(this.baseUrl + \"lexicon/creation/component?id=\"+lexicalEntityID+\"&key=\"+this.key+\"&author=\"+this.author+\"\");\n  }\n\n  deleteComponent(compId : string) : Observable<any>{\n    return this.http.get(this.baseUrl + \"lexicon/delete/\"+compId+\"/component?key=\"+this.key);\n  }\n\n  getCorrespondsTo(compId: string) : Observable<any>{\n    return this.http.get(this.baseUrl + \"lexicon/data/\"+compId+\"/correspondsTo?key=\"+this.key);\n  }\n\n  exportLexicon(body : object) : Observable<any> {\n    return this.http.post(this.baseUrl + \"export/lexicon\", body, { responseType: 'text'});\n  } \n\n  getPanelCognate(cogInstanceName, lexInstanceName) : object{\n    return this.arrayPanelFormsData[cogInstanceName+'-'+lexInstanceName];\n  }\n\n  newPanelForm(cogInstanceName, lexInstanceName) : void {\n    this.arrayPanelFormsData[cogInstanceName+'-'+lexInstanceName] = {};\n    this.arrayPanelFormsData[cogInstanceName+'-'+lexInstanceName].data = undefined;\n    this.arrayPanelFormsData[cogInstanceName+'-'+lexInstanceName].isOpen = undefined;\n\n  }\n\n  closePanelForm(cogInstanceName, lexInstanceName) : void {\n    this.arrayPanelFormsData[cogInstanceName+'-'+lexInstanceName] = undefined;\n  }\n\n  getAllPanelForms() : object {\n    return this.arrayPanelFormsData;\n  }\n}","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-unauthorized-page',\n  templateUrl: './unauthorized-page.component.html',\n  styleUrls: ['./unauthorized-page.component.scss']\n})\nexport class UnauthorizedPageComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>unauthorized-page works!</p>\n","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, OnDestroy, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { KeycloakEventType, KeycloakService } from 'keycloak-angular';\nimport { Subscription } from 'rxjs';\nimport { AuthService } from 'src/app/services/auth/auth.service';\n\n@Component({\n  selector: 'app-navbar',\n  templateUrl: './navbar.component.html',\n  styleUrls: ['./navbar.component.scss']\n})\nexport class NavbarComponent implements OnInit, OnDestroy {\n \n  username : string;\n  userRoles;\n\n  kc_subscriber : Subscription;\n\n  constructor(private route: ActivatedRoute, \n              private router: Router, \n              private keycloakService: KeycloakService, \n              private auth : AuthService,\n              private modalService : NgbModal) { }\n\n  ngOnInit(): void {\n    if(this.auth.getLoggedUser() != undefined){\n      if(this.auth.getLoggedUser()['preferred_username'] != undefined){\n        this.username = this.auth.getLoggedUser()['preferred_username'];\n      }\n    }\n    \n    \n    this.userRoles = this.auth.getCurrentUserRole();\n\n    this.kc_subscriber = this.keycloakService.keycloakEvents$.subscribe({\n      next: (e) => {\n        // console.log(e)\n        if (e.type == KeycloakEventType.OnTokenExpired) {\n          this.keycloakService.updateToken(20);\n        }\n      }\n    });\n  }\n\n  logout(){\n    this.auth.logout();\n  }\n\n\n  isAdmin = () => {\n    let admin = (element) => element == 'ADMIN';\n    console.log(this.userRoles.some(admin))\n  }\n\n  ngOnDestroy(): void {\n      this.kc_subscriber.unsubscribe();\n  }\n\n  getDateNow() {\n    return new Date();\n  }\n}\n","\n\n<nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n    <!-- <a class=\"navbar-brand\" href=\"#\">Navbar</a> -->\n    <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\"\n        aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n        <span class=\"navbar-toggler-icon\"></span>\n    </button>\n    <div class=\"d-flex-md d-flex-xs d-lg-none\">\n        <ul class=\"navbar-nav flex-row\">\n            <div class=\"dropdown mr-2\">\n                <button class=\"btn btn-light dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                    <!-- <img src=\"https://s3.eu-central-1.amazonaws.com/bootstrapbaymisc/blog/24_days_bootstrap/fox.jpg\" width=\"24\" height=\"24\" class=\"rounded-circle\"> -->\n                </button>\n                <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n                    <a class=\"dropdown-item\"><i class=\"fa fa-power-off\" aria-hidden=\"true\" (click)=\"logout()\"></i> Logout</a>\n                </div>\n            </div>\n        </ul>\n    </div>\n    <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n        <ul class=\"navbar-nav mr-auto\">\n            <!-- <li class=\"nav-item\">\n                <a class=\"nav-link disabled\" routerLink=\"home\" routerLinkActive=\"active\">\n                    <i class=\"fa fa-home\" aria-hidden=\"true\"></i>\n                </a>\n            </li> -->\n            <li class=\"nav-item d-flex align-items-center\" *ngIf=\"isAdmin\">\n                <a class=\"nav-link\" routerLink=\"user\" routerLinkActive=\"active\">\n                    <i class=\"fa fa-user\"></i>\n                    <span class=\"d-flex-xs d-lg-none ml-2\">User Admin</span>\n                </a>\n                \n            </li>\n            <li class=\"nav-item\">\n                <a class=\"nav-link\" routerLink=\"lexicon\" routerLinkActive=\"active\">\n                    <i class=\"fa fa-edit\"></i>\n                    <span class=\"d-flex-xs d-lg-none ml-2\">Lexicon Editor</span>\n                </a>\n            </li>\n           <!--  <li class=\"nav-item\">\n                <a class=\"nav-link disabled\" routerLink=\"search\" routerLinkActive=\"active\">\n                    <i class=\"fa fa-search\" aria-hidden=\"true\"></i>\n                    <span class=\"d-flex-xs d-lg-none ml-2\">Search Page</span>\n                </a>\n            </li> -->\n        </ul>\n        <ul class=\"navbar-nav ml-auto d-none d-xs-none d-sm-none d-lg-flex align-items-center\">\n            <div class=\"dropdown mr-2\">\n                <!-- <a placement=\"bottom\" ngbTooltip=\"Send help request\" class=\"btn btn-light\" type=\"button\" target=\"_blank\" [href]=\"'mailto:mmallia92@gmail.com?subject=Ticket '+(getDateNow() | date : 'M/d/yy hh:mm a')+'&body=Please describe the steps to reproduce the error&cc=vquochi@gmail.com;andrea.bellandi@gmail.com'\">\n                    <i class=\"fas fa-question-circle\"></i>\n                    \n                </a> -->\n\n    \n                <button class=\"btn btn-light dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\"\n                    data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                    {{username}}\n                    \n                </button>\n                <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n                    <a class=\"dropdown-item pointer\" (click)=\"logout()\"><i class=\"fa fa-power-off\" aria-hidden=\"true\"></i> Logout</a>\n                </div>\n            </div>\n        </ul>\n    </div>\n</nav>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, ElementRef, Input, NgZone, OnDestroy, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { LexicalEntriesService } from '../../../../../services/lexical-entries/lexical-entries.service';\nimport { ExpanderService } from 'src/app/services/expander/expander.service';\n\nimport {\n  animate,\n  style,\n  transition,\n  trigger,\n  state\n} from \"@angular/animations\";\n\nimport { ToastrService } from 'ngx-toastr';\nimport { BibliographyService } from 'src/app/services/bibliography-service/bibliography.service';\nimport { ModalComponent } from 'ng-modal-lib';\nimport { Subject, Subscription } from 'rxjs';\nimport { debounceTime, takeUntil } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-etymology-tab',\n  templateUrl: './etymology-tab.component.html',\n  styleUrls: ['./etymology-tab.component.scss'],\n  animations: [\n    trigger('slideInOut', [\n      state('in', style({\n        height: 'calc(100vh - 17rem)',\n\n      })),\n      state('out', style({\n        height: 'calc(50vh - 12.5rem)',\n      })),\n      transition('in => out', animate('400ms ease-in-out')),\n      transition('out => in', animate('400ms ease-in-out'))\n    ])\n  ]\n})\nexport class EtymologyTabComponent implements OnInit, OnDestroy {\n\n  lock = 0;\n  object: any;\n  exp_trig = '';\n\n  isLexicalEntry = false;\n  isForm = false;\n  isSense = false;\n  isLexicalConcept = false;\n  searchIconSpinner = false;\n  goBack = false;\n  isEtymology = false;\n\n\n\n  lastUpdateDate: any;\n  creationDate: any;\n  creator: any;\n  revisor: any;\n\n  lexicalEntryData: any;\n  formData: any;\n  senseData: any;\n  lexicalConceptData: any;\n  bibliography = [];\n\n  start = 0;\n  sortField = 'title';\n  direction = 'asc';\n  memorySort = { field: '', direction: '' }\n  queryTitle = '';\n  queryMode = 'titleCreatorYear';\n\n  private searchSubject: Subject<any> = new Subject();\n  selectedItem;\n\n  @ViewChild('expander') expander_body: ElementRef;\n  @Input() etymologyData: any;\n  @ViewChild('addBibliography', { static: false }) modal: ModalComponent;\n  @ViewChild('table_body') tableBody: ElementRef;\n\n  etymology_data_subscription: Subscription;\n  expand_edit_subscription: Subscription;\n  expand_epigraphy_subscription: Subscription;\n  spinner_subscription: Subscription;\n  search_subject_subscription: Subscription;\n  bootstrap_bibliography_subscription: Subscription;\n\n  destroy$ : Subject<boolean> = new Subject();\n  constructor(private lexicalService: LexicalEntriesService, private biblioService: BibliographyService, private expand: ExpanderService, private rend: Renderer2, private toastr: ToastrService) { }\n\n  ngOnInit(): void {\n\n    this.etymology_data_subscription = this.lexicalService.etymologyData$.subscribe(\n      object => {\n        if (this.object != object) {\n          this.etymologyData = null;\n          this.isForm = false;\n          this.isLexicalConcept = false;\n          this.isLexicalEntry = false;\n        }\n        this.object = object\n        //console.log(this.object)\n        if (this.object != null) {\n          this.creationDate = this.object.etymology.creationDate;\n          this.lastUpdateDate = this.object.etymology.lastUpdate;\n          this.creator = this.object['etymology'].creator;\n          this.revisor = this.object.revisor;\n          this.etymologyData = object;\n          this.isEtymology = true;\n          setTimeout(() => {\n            //@ts-ignore\n            $('#etymologyTabModal').modal('hide');\n            $('.modal-backdrop').remove();\n            var timer = setInterval((val) => {\n              try {\n                //@ts-ignore\n                $('#etymologyTabModal').modal('hide');\n                if (!$('#etymologyTabModal').is(':visible')) {\n                  clearInterval(timer)\n                }\n\n              } catch (e) {\n                console.log(e)\n              }\n            }, 10)\n          }, 500);\n        }\n      }\n    );\n\n    this.expand_edit_subscription = this.expand.expEdit$.subscribe(\n      trigger => {\n        setTimeout(() => {\n          if (trigger) {\n            let isEditExpanded = this.expand.isEditTabExpanded();\n            let isEpigraphyExpanded = this.expand.isEpigraphyTabExpanded();\n\n            if (!isEpigraphyExpanded) {\n              this.exp_trig = 'in';\n              this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(100vh - 17rem)')\n              this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(100vh - 17rem)')\n            } else {\n              this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 12.5rem)');\n              this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)');\n              this.exp_trig = 'in';\n            }\n\n          } else if (trigger == null) {\n            return;\n          } else {\n            this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 12.5rem)');\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)');\n            this.exp_trig = 'out';\n          }\n        }, 100);\n\n      }\n    );\n\n    this.expand_epigraphy_subscription = this.expand.expEpigraphy$.subscribe(\n      trigger => {\n        setTimeout(() => {\n          if (trigger) {\n            this.exp_trig = 'in';\n            this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 12.5rem)')\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)')\n          } else if (trigger == null) {\n            return;\n          } else {\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)');\n            this.exp_trig = 'out';\n          }\n        }, 100);\n\n      }\n    );\n\n    this.lexicalService.updateCoreCardReq$.subscribe(\n      data => {\n        console.log(data)\n        if (data != null) {\n          this.lastUpdateDate = data['lastUpdate']\n          if (data['creationDate'] != undefined) {\n            this.creationDate = data['creationDate']\n          }\n        }\n      }\n    )\n\n    this.spinner_subscription = this.lexicalService.spinnerAction$.subscribe(\n      data => {\n        if (data == 'on') {\n          this.searchIconSpinner = true;\n        } else {\n          this.searchIconSpinner = false;\n        }\n      },\n      error => {\n\n      }\n    )\n\n    this.search_subject_subscription = this.searchSubject.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      data => {\n        this.queryTitle = data.query;\n        data.queryMode ? this.queryMode = 'everything' : this.queryMode = 'titleCreatorYear';\n        this.searchBibliography(this.queryTitle, this.queryMode);\n      }\n    )\n\n    //@ts-ignore\n    $(\"#biblioModalEtym\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.ui-modal');\n    //@ts-ignore\n    $('#biblioModalEtym').modal({ backdrop: 'static', keyboard: false })\n\n    $('.modal-backdrop').css('height', 'inherit');\n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n\n    this.bootstrap_bibliography_subscription = this.biblioService.bootstrapData(this.start, this.sortField, this.direction).subscribe(\n      data => {\n        this.memorySort = { field: this.sortField, direction: this.direction }\n        this.bibliography = data;\n        this.bibliography.forEach(element => {\n          element['selected'] = false;\n        })\n\n\n        //@ts-ignore\n        $('#biblioModalEtym').modal('hide');\n        $('.modal-backdrop').remove();\n      }, error => {\n        console.log(error)\n      }\n    )\n  }\n\n  async deleteEtymology() {\n    this.searchIconSpinner = true;\n    let etymId = this.object.etymology.etymology;\n\n    try {\n      let delete_etym_req = await this.lexicalService.deleteEtymology(etymId).toPromise();\n      this.searchIconSpinner = false;\n      this.lexicalService.deleteRequest(this.object);\n      this.lexicalEntryData = null;\n      this.isLexicalEntry = false;\n      this.object = null;\n      this.lexicalService.refreshLangTable();\n      this.lexicalService.refreshFilter({ request: true })\n      this.lexicalService.sendToCoreTab(null);\n      this.lexicalService.sendToRightTab(null);\n      this.biblioService.sendDataToBibliographyPanel(null);\n      this.toastr.success(etymId + ' deleted correctly', '', {\n        timeOut: 5000,\n      });\n    } catch (error) {\n      console.log(error);\n      if(error.status == 200){\n        this.searchIconSpinner = false;\n        this.lexicalService.deleteRequest(this.object);\n        this.lexicalEntryData = null;\n        this.isLexicalEntry = false;\n        this.object = null;\n        this.lexicalService.refreshLangTable();\n        this.lexicalService.refreshFilter({ request: true })\n        this.lexicalService.sendToCoreTab(null);\n        this.lexicalService.sendToRightTab(null);\n        this.biblioService.sendDataToBibliographyPanel(null);\n        this.toastr.success(etymId + ' deleted correctly', '', {\n          timeOut: 5000,\n        });\n      }else{\n        this.toastr.success(error.error, '', {\n          timeOut: 5000,\n        });\n      }\n    }\n  }\n\n  async addNewEtymology() {\n    this.searchIconSpinner = true;\n    this.object['request'] = 'etymology'\n\n    let parentNodeInstanceName = this.object.parentNodeInstanceName;\n    this.object['lexicalEntry'] = parentNodeInstanceName\n    this.object['request'] = 'etymology'\n\n    console.log(this.object, parentNodeInstanceName);\n\n    try {\n      let create_etymon_req = await this.lexicalService.createNewEtymology(parentNodeInstanceName).toPromise();\n      create_etymon_req['label'] = 'Etymology of: ' + this.object['parentNodeLabel'];\n      if (create_etymon_req['creator'] == this.object.creator) {\n        create_etymon_req['flagAuthor'] = false;\n      } else {\n        create_etymon_req['flagAuthor'] = true;\n      }\n      this.lexicalService.addSubElementRequest({ 'lex': this.object, 'data': create_etymon_req });\n      this.searchIconSpinner = false;\n      this.toastr.success(create_etymon_req['etymology'] + ' added correctly', '', {\n        timeOut: 5000,\n      });\n    } catch (error) {\n      console.log(error)\n      this.searchIconSpinner = false;\n    }\n\n  }\n\n  showBiblioModal() {\n    this.modal.show();\n  }\n\n  checkIfCreatorExist(item?) {\n    return item.some(element => element.creatorType === 'author')\n  }\n\n  async searchBibliography(query?: string, queryMode?: any) {\n    this.start = 0;\n    this.selectedItem = null;\n    //@ts-ignore\n    $(\"#biblioModalEtym\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.table-body');\n    //@ts-ignore\n    $('#biblioModalEtym').modal({ backdrop: 'static', keyboard: false })\n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n    console.log(query, queryMode)\n    this.tableBody.nativeElement.scrollTop = 0;\n    if (this.queryTitle != '') {\n\n      try {\n        let filter_bibliography_req = await this.biblioService.filterBibliography(this.start, this.sortField, this.direction, this.queryTitle, this.queryMode).toPromise();\n        console.log(filter_bibliography_req);\n        this.bibliography = [];\n        filter_bibliography_req.forEach(element => {\n          this.bibliography.push(element)\n        });\n        setTimeout(() => {\n          //@ts-ignore\n          $('#biblioModalEtym').modal('hide');\n          $('.modal-backdrop').remove();\n        }, 100);\n      } catch (error) {\n        console.log(error)\n      }\n\n    } else {\n\n      try {\n        let filter_bibliography_req = await this.biblioService.filterBibliography(this.start, this.sortField, this.direction, this.queryTitle, this.queryMode).toPromise();\n        console.log(filter_bibliography_req);\n        this.bibliography = [];\n        filter_bibliography_req.forEach(element => {\n          this.bibliography.push(element)\n        });\n        //@ts-ignore\n        $('#biblioModalEtym').modal('hide');\n        $('.modal-backdrop').remove();\n      } catch (error) {\n        console.log(error)\n      }\n    }\n  }\n\n  triggerSearch(evt, query, queryMode) {\n    if (evt.key != 'Control' && evt.key != 'Shift' && evt.key != 'Alt') {\n      this.searchSubject.next({ query, queryMode })\n    }\n  }\n\n  async onScrollDown() {\n    //@ts-ignore\n    $(\"#biblioModalEtym\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.table-body');\n    //@ts-ignore\n    $('#biblioModalEtym').modal({ backdrop: 'static', keyboard: false })\n    $('.modal-backdrop').appendTo('.table-body');\n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n\n    this.start += 25;\n\n    if (this.queryTitle != '') {\n      try {\n        let filter_bibliography_req = await this.biblioService.filterBibliography(this.start, this.sortField, this.direction, this.queryTitle, this.queryMode).toPromise();\n        console.log(filter_bibliography_req)\n        //@ts-ignore\n        $('#biblioModalEtym').modal('hide');\n        $('.modal-backdrop').remove();\n        filter_bibliography_req.forEach(element => {\n          this.bibliography.push(element)\n        });\n      } catch (error) {\n        console.log(error)\n      }\n\n    } else {\n      try {\n        let filter_bibliography_req = await this.biblioService.filterBibliography(this.start, this.sortField, this.direction, this.queryTitle, this.queryMode).toPromise();\n        filter_bibliography_req.forEach(element => {\n          this.bibliography.push(element)\n        });\n\n        //@ts-ignore\n        $('#biblioModalEtym').modal('hide');\n        $('.modal-backdrop').remove();\n      } catch (error) {\n        console.log(error)\n      }\n    }\n\n\n  }\n\n  selectItem(evt, i) {\n    /* console.log(evt, i); */\n    if (evt.shiftKey) {\n\n    }\n    this.bibliography.forEach(element => {\n      if (element.key == i.key) {\n        element.selected = !element.selected;\n        element.selected ? this.selectedItem = element : this.selectedItem = null;\n        return true;\n      } else {\n        element.selected = false;\n        return false;\n      }\n    })\n\n  }\n\n  async sortBibliography(evt?, val?) {\n\n\n    if (this.memorySort.field == val) {\n      if (this.direction == 'asc') {\n        this.direction = 'desc'\n        this.memorySort.direction = 'desc';\n      } else {\n        this.direction = 'asc';\n        this.memorySort.direction = 'asc';\n      }\n    } else {\n      this.sortField = val;\n      this.direction = 'asc';\n      this.memorySort = { field: this.sortField, direction: this.direction };\n    }\n\n    //@ts-ignore\n    $(\"#biblioModalEtym\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.table-body');\n    //@ts-ignore\n    $('#biblioModalEtym').modal({ backdrop: 'static', keyboard: false })\n    $('.modal-backdrop').appendTo('.table-body');\n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n    this.start = 0;\n    this.tableBody.nativeElement.scrollTop = 0;\n\n    try {\n      let filter_bibliography_req = await this.biblioService.filterBibliography(this.start, this.sortField, this.direction, this.queryTitle, this.queryMode).toPromise();\n      filter_bibliography_req.forEach(element => {\n        this.bibliography.push(element)\n      });\n\n      //@ts-ignore\n      $('#biblioModalEtym').modal('hide');\n      $('.modal-backdrop').remove();\n    } catch (error) {\n      console.log(error)\n    }\n\n  }\n\n  async addNewForm() {\n    this.searchIconSpinner = true;\n    /* console.log(this.object) */\n    this.object['request'] = 'form'\n\n    let parentNodeInstanceName = this.object.parentNodeInstanceName;\n    this.object['request'] = 'form';\n    this.object['lexicalEntry'] = parentNodeInstanceName\n    //console.log(this.object);\n\n    try {\n      let create_new_form_req = await this.lexicalService.createNewForm(parentNodeInstanceName).toPromise();\n      if (create_new_form_req['creator'] == this.object.creator) {\n        create_new_form_req['flagAuthor'] = false;\n      } else {\n        create_new_form_req['flagAuthor'] = true;\n      }\n      this.lexicalService.addSubElementRequest({ 'lex': this.object, 'data': create_new_form_req });\n      this.searchIconSpinner = false;\n      this.toastr.success(create_new_form_req['form'] + ' added correctly', '', {\n        timeOut: 5000,\n      });\n    } catch (error) {\n      console.log(error);\n      if (error.status != 200) {\n        this.searchIconSpinner = false;\n        this.toastr.error('Something goes wrong', 'Error', {\n          timeOut: 5000,\n        });\n      }\n    }\n  }\n\n  async addNewSense() {\n    this.searchIconSpinner = true;\n    this.object['request'] = 'sense'\n\n    let parentNodeInstanceName = this.object.parentNodeInstanceName;\n    this.object['lexicalEntry'] = parentNodeInstanceName\n    this.object['request'] = 'sense'\n    console.log(this.object);\n\n    try {\n      let create_new_sense = await this.lexicalService.createNewSense(parentNodeInstanceName).toPromise();\n      if (create_new_sense['creator'] == this.object.creator) {\n        create_new_sense['flagAuthor'] = false;\n      } else {\n        create_new_sense['flagAuthor'] = true;\n      }\n      this.lexicalService.addSubElementRequest({ 'lex': this.object, 'data': create_new_sense });\n      this.searchIconSpinner = false;\n      this.toastr.success(create_new_sense['sense'] + ' added correctly', '', {\n        timeOut: 5000,\n      });\n    } catch (error) {\n      console.log(error);\n      if (error.status != 200) {\n        this.searchIconSpinner = false;\n        //this.lexicalService.refreshLexEntryTree();\n        this.toastr.error(error.error, 'Error', {\n          timeOut: 5000,\n        });\n      }\n    }\n\n  }\n\n  async addBibliographyItem(item?) {\n    //@ts-ignore\n    $(\"#biblioModalEtym\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.ui-modal');\n    //@ts-ignore\n    $('#biblioModalEtym').modal({ backdrop: 'static', keyboard: false })\n\n    $('.modal-backdrop').css('height', 'inherit');\n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n\n    let instance = this.object.etymology.etymology;\n    console.log(this.object)\n\n    if (item != undefined) {\n\n      let id = item.data.key != undefined ? item.data.key : '';\n      let title = item.data.title != undefined ? item.data.title : '';\n      let author;\n\n      item.data.creators.forEach(element => {\n        if (element.creatorType == 'author') {\n          author = element.lastName + ' ' + element.firstName;\n          return true;\n        } else {\n          return false;\n        }\n      });\n      author = author != undefined ? author : ''\n      let date = item.data.date != undefined ? item.data.date : '';\n      let url = item.data.url != undefined ? item.data.url : ''\n      let seeAlsoLink = '';\n\n      let parameters = {\n        id: id,\n        title: title,\n        author: author,\n        date: date,\n        url: url,\n        seeAlsoLink: seeAlsoLink\n      }\n      console.log(instance, parameters);\n\n      try {\n        let add_biblio_data = await this.lexicalService.addBibliographyData(instance, parameters).toPromise();\n        setTimeout(() => {\n          //@ts-ignore\n          $('#biblioModalEtym').modal('hide');\n          $('.modal-backdrop').remove();\n          this.toastr.success('Item added, check bibliography panel', '', {\n            timeOut: 5000,\n          });\n          this.biblioService.triggerPanel(add_biblio_data)\n          setTimeout(() => {\n            this.modal.hide();\n          }, 10);\n        }, 300);\n        this.biblioService.sendDataToBibliographyPanel(add_biblio_data);\n      } catch (error) {\n        if (error.status != 200) {\n          console.log(error)\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n          setTimeout(() => {\n            //@ts-ignore\n            $('#biblioModalEtym').modal('hide');\n            $('.modal-backdrop').remove();\n          }, 300);\n        }\n      }\n\n    }\n\n  }\n\n  onCloseModal() {\n    this.selectedItem = null;\n    this.start = 0;\n    this.sortField = 'title';\n    this.direction = 'asc';\n    this.tableBody.nativeElement.scrollTop = 0;\n    this.memorySort = { field: this.sortField, direction: this.direction }\n    this.biblioService.bootstrapData(this.start, this.sortField, this.direction).subscribe(\n      data => {\n        this.bibliography = data;\n        this.bibliography.forEach(element => {\n          element['selected'] = false;\n        })\n\n\n      }, error => {\n        console.log(error)\n      }\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.etymology_data_subscription.unsubscribe();\n    this.expand_edit_subscription.unsubscribe();\n    this.expand_epigraphy_subscription.unsubscribe();\n    this.spinner_subscription.unsubscribe();\n    this.search_subject_subscription.unsubscribe();\n    this.bootstrap_bibliography_subscription.unsubscribe();\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n}\n","\n\n<div id=\"cardsAccordion\" class=\"accordion\" [hidden]=\"object == null\"> <!-- [hidden]=\"object == null\" -->\n    <div class=\"card my-2\">\n        <div class=\"card-header p-0\">\n            <h5 class=\"mb-0 w-100 d-flex justify-content-between align-self-center\">\n                <div>\n                    <span class=\"btn\" *ngIf=\"object != null\"> <!-- *ngIf=\"object != null\" -->\n                        CREATED BY {{creator}} ON {{creationDate | date :'dd/MM/yyyy hh:mm:ss'}}\n                    </span>\n                </div>\n                <div>\n                    <div class=\"spinner-border spinner-border-sm m-1\" role=\"status\" *ngIf=\"searchIconSpinner\">\n                        <span class=\"sr-only\">Loading...</span>\n                    </div>\n                    <button class=\"btn btn-link\" (click)=\"deleteEtymology()\">\n                        <i class=\"fa fa-trash\"></i>\n                    </button>\n                </div>\n            </h5>\n        </div>\n        <div #expander [@slideInOut]=\"exp_trig\" class=\"card-body etym-tab-body\">\n            <div id=\"etymologyTabModal\" class=\"modal fade\" role=\"dialog\">\n                <div class=\"modal-dialog\">\n\n                    <!-- Modal content-->\n                    <div class=\"modal-content\">\n                        <div class=\"modal-body\">\n                            <div class=\"d-flex justify-content-center\">\n                                <div class=\"spinner-border\" role=\"status\">\n                                    <span class=\"sr-only\">Loading...</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n            <app-etymology-form [etymData]=\"etymologyData\"></app-etymology-form>\n\n        </div>\n        <div class=\"card-footer text-muted p-0\">\n            <div class=\"w-100 d-flex justify-content-between align-items-center\">\n                <div > <!-- *ngIf=\"object != null\" -->\n                    <span class=\"pl-2\">LAST UPDATE ON {{lastUpdateDate | date :'dd/MM/yyyy hh:mm:ss'}}</span>\n                </div>\n                <div class=\"btn-group dropup dropleft\">\n                    <button class=\"btn btn-success\" type=\"button\" id=\"dropdownAddLemma\" data-toggle=\"dropdown\"\n                        aria-haspopup=\"true\" aria-expanded=\"false\"> <i class=\"fas fa-plus\"></i> </button>\n                    <div class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"dropdownAddLemma\">\n                        <button class=\"dropdown-item\" title=\"add new form\" (click)=\"addNewForm()\">Add Form</button>\n                        <button class=\"dropdown-item\" (click)=\"addNewSense()\">Add Sense</button>\n                        <button class=\"dropdown-item\" (click)=\"addNewEtymology()\">Add Etymology</button>\n                        <button class=\"dropdown-item\" (click)=\"showBiblioModal()\">Add Bibliography</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n<app-modal #addBibliography class=\"biblio_modal\" [backdrop]=\"false\" [inViewport]=\"true\" (closeModal)=\"onCloseModal()\">\n\n    <ng-container class=\"app-modal-header\">\n        <img src=\"../../../../../../assets/images/zotero_logo.png\">\n        <span class=\"ml-2 biblio-header-title\">Library: PRIN Italia Antica</span>\n    </ng-container>\n\n    <ng-container class=\"app-modal-body\">\n        <!-- SEARCH BAR -->\n        <div class=\"w-25 pt-1 pb-1\">\n            <div class=\"input-group mb-3\" *ngIf=\"{switch : false}; let variable\">\n                <div class=\"input-group-prepend\">\n                    <button class=\"btn btn-outline-secondary dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\"\n                        aria-haspopup=\"true\" aria-expanded=\"false\"><i class=\"fa fa-search\"></i></button>\n                    <div class=\"dropdown-menu\">\n                        <a [class.disable_click_fire]=\"!variable.switch\" class=\"dropdown-item\" style=\"cursor: pointer;\"\n                            (click)=\"variable.switch = false; searchBibliography(searchBiblio.value, variable.switch);\">Normal</a>\n                        <a [class.disable_click_fire]=\"variable.switch\" class=\"dropdown-item\" style=\"cursor: pointer;\"\n                            (click)=\"variable.switch = true; searchBibliography(searchBiblio.value, variable.switch);\">Full\n                            Text</a>\n                    </div>\n                </div>\n                <input #searchBiblio (keyup)=\"triggerSearch($event, searchBiblio.value, variable.switch)\" type=\"text\"\n                    class=\"form-control\" aria-label=\"Text input with dropdown button\"\n                    [placeholder]=\"variable.switch ?'Title, creator, year + Full Text' : 'Title, creator, year'\"\n                    style=\"font-size: 12px;\">\n            </div>\n\n        </div>\n        <!-- {{'start: '+start + ' sortField: '+ sortField + ' direction: '+ direction + ' queryTitle: '+ queryTitle + ' queryMode: '+ queryMode}} -->\n\n        <!-- SKELETON CONTAINER -->\n        <div class=\"container-fluid\">\n            <div class=\"row\">\n                <div class=\"col-md-8 pl-0\">\n\n\n                    <!-- TABLE -->\n                    <div class=\"table-responsive table-body\">\n                        <div id=\"biblioModalEtym\" class=\"modal fade\" role=\"dialog\">\n                            <div class=\"modal-dialog\">\n\n                                <!-- Modal content-->\n                                <div class=\"modal-content\">\n                                    <div class=\"modal-body\">\n                                        <div class=\"d-flex justify-content-center\">\n                                            <div class=\"spinner-border\" role=\"status\">\n                                                <span class=\"sr-only\">Loading...</span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n\n                            </div>\n                        </div>\n                        \n                        <table class=\"table table-striped table-hover\" [hidden]=\"bibliography.length == 0\">\n                            <thead>\n                                <tr>\n                                    <th scope=\"col\" style=\"width: 50%; cursor: pointer;\" (click)=\"sortBibliography($event, 'title')\">\n                                        <span>Title</span>\n                                        <span class=\"float-right\">\n                                            <i class=\"fas fa-sort-up\" *ngIf=\"direction == 'asc' && sortField == 'title'\"></i>\n                                            <i class=\"fas fa-sort-down\" *ngIf=\"direction == 'desc' && sortField == 'title'\"></i>\n                                        </span>\n                                    </th>\n                                    <th scope=\"col\" style=\"width: 30%; cursor: pointer;\" (click)=\"sortBibliography($event, 'creator')\">\n                                        <span>Creator</span>\n                                        <span class=\"float-right\">\n                                            <i class=\"fas fa-sort-up\" *ngIf=\"direction == 'asc' && sortField == 'creator'\"></i>\n                                            <i class=\"fas fa-sort-down\" *ngIf=\"direction == 'desc' && sortField == 'creator'\"></i>\n                                        </span>\n                                    </th>\n                                    <th scope=\"col\" style=\"width: 20%; cursor: pointer;\" (click)=\"sortBibliography($event, 'date')\">\n                                        <span>Date</span>\n                                        <span class=\"float-right\">\n                                            <i class=\"fas fa-sort-up\" *ngIf=\"direction == 'asc' && sortField == 'date'\"></i>\n                                            <i class=\"fas fa-sort-down\" *ngIf=\"direction == 'desc' && sortField == 'date'\"></i>\n                                        </span>\n                                    </th>\n                                </tr>\n                            </thead>\n                            <tbody #table_body infiniteScroll [infiniteScrollDistance]=\"0.4\"\n                                [infiniteScrollThrottle]=\"150\" [scrollWindow]=\"false\" (scrolled)=\"onScrollDown()\">\n\n\n                                <tr *ngFor=\"let item of bibliography\" (click)=\"selectItem($event, item)\"\n                                    [ngClass]=\"item?.selected ? 'selected' : ''\" style=\"cursor: pointer;\">\n                                    <td style=\"width: 50%\">\n                                        <span *ngIf=\"item.data.itemType == 'book'\" class=\"pl-1 pr-1\">\n                                            <i class=\"fas fa-book\"></i>\n                                        </span>\n                                        <span *ngIf=\"item.data.itemType == 'bookSection'\" class=\"pl-1 pr-1\">\n                                            <i class=\"fas fa-book-open\"></i>\n                                        </span>\n                                        <span *ngIf=\"item.data.itemType == 'journalArticle'\" class=\"pl-1 pr-1\">\n                                            <i class=\"far fa-newspaper\"></i>\n                                        </span>\n                                        <span *ngIf=\"item.data.itemType == 'note'\" class=\"pl-1 pr-1\">\n                                            <i class=\"far fa-clipboard\"></i>\n                                        </span>\n                                        <span *ngIf=\"item.data.itemType == 'attachment'\" class=\"pl-1 pr-1\">\n                                            <i class=\"fas fa-paperclip\"></i>\n                                        </span>\n                                        <span *ngIf=\"item.data.itemType == 'conferencePaper'\" class=\"pl-1 pr-1\">\n                                            <i class=\"fas fa-chalkboard-teacher\"></i>\n                                        </span>\n                                        <span\n                                            *ngIf=\"item.data.title != undefined && item.data.title != ''\">{{item.data.title |titlecase}}</span>\n                                        <span *ngIf=\"item.data.title == undefined || item.data.title == ''\"\n                                            class=\"font-italic\">No title</span>\n                                    </td>\n                                    <td style=\"width: 30%\">\n                                        <span *ngIf=\"item.data.creators != undefined\">\n                                            <span *ngFor=\"let author of item.data.creators; let i = index\">\n                                                <span *ngIf=\"author.creatorType == 'author'\">\n                                                    {{author.lastName | titlecase}} {{author.firstName | titlecase}} \n                                                </span>\n                                            </span>\n                                            <span *ngIf=\"!checkIfCreatorExist(item.data.creators)\"\n                                                class=\"font-italic\">No data</span>\n                                        </span>\n                                        <span *ngIf=\"item.data.creators == undefined\" class=\"font-italic\">No data</span>\n                                    </td>\n                                    <td style=\"width: 20%\">\n                                        <span *ngIf=\"item.data.date != undefined && item.data.date != ''\">\n                                            {{item.data.date | titlecase}}\n                                        </span>\n                                        <span *ngIf=\"item.data.date == undefined || item.data.date == ''\"\n                                            class=\"font-italic\">\n                                            No info\n                                        </span>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <p class=\"font-italic text-muted no-results\" *ngIf=\"bibliography.length == 0\">No results</p>\n                    </div>\n\n\n                </div>\n                <div class=\"col-md-4\" style=\"font-size: 14px;\">\n                    <div class=\"row\">\n                        <div class=\"col-md-12 item-description\"\n                            style=\"height: calc(100vh - 37rem); overflow: auto; font-size: 13px;\">\n                            <div *ngIf=\"!selectedItem\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-12\">\n                                        <p class=\"text-muted text-center align-middle mb-1 font-italic\">\n                                            No item selected\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div *ngIf=\"selectedItem\">\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.itemType != '' && selectedItem.data.itemType != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Item type\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.itemType | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.title != '' && selectedItem.data.title != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Title\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.title | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.creators != undefined && selectedItem.data.creators.length > 0 && checkIfCreatorExist(selectedItem.data.creators)\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Author\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <span *ngFor=\"let author of selectedItem.data.creators\">\n                                            <span *ngIf=\"author.creatorType == 'author'\">\n                                                <p class=\"font-weight-normal mb-1\">\n                                                    {{author.firstName | titlecase}} {{author.lastName | titlecase}}\n                                                </p>\n                                            </span>\n                                        </span>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.creators != undefined && selectedItem.data.creators.length > 0\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Editor\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <span *ngFor=\"let editor of selectedItem.data.creators\">\n                                            <span *ngIf=\"editor.creatorType == 'editor'\">\n                                                <p class=\"font-weight-normal mb-1\">\n                                                    {{editor.firstName | titlecase}} {{editor.lastName | titlecase}}\n                                                </p>\n                                            </span>\n                                        </span>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.publicationTitle != '' && selectedItem.data.publicationTitle != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Publication\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.publicationTitle | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.publisher != '' && selectedItem.data.publisher != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Publisher\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.publisher | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.issue != '' && selectedItem.data.issue != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Issue\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.issue | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.pages != '' && selectedItem.data.pages != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Pages\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.pages | titlecase }}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.place != '' && selectedItem.data.place != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Place\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.place | titlecase }}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.date != '' && selectedItem.data.pages != date\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Date\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.date | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.journalAbbreviation != '' && selectedItem.data.journalAbbreviation != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Journal Abbr\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.journalAbbreviation | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.DOI != '' && selectedItem.data.DOI != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            <a class=\"text-muted\" href=\"{{'https://doi.org/'+selectedItem.data.DOI}}\"\n                                                target=\"_blank\">DOI <i class=\"fas fa-external-link-alt\"></i></a>\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.DOI | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.ISSN != '' && selectedItem.data.ISSN != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            ISSN\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.ISSN | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.url != '' && selectedItem.data.url != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            <a class=\"text-muted\" href=\"{{selectedItem.data.url}}\" target=\"_blank\">URL\n                                                <i class=\"fas fa-external-link-alt\"></i></a>\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.url}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.accessDate != '' && selectedItem.data.accessDate != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Accessed\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.accessDate}}\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-md-12\" style=\"height: calc(40vh - 10rem); overflow: auto; font-size: 13px;\">\n                            <div *ngIf=\"!selectedItem\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-12\">\n                                        <p class=\"text-muted text-center align-middle mb-1 font-italic\">\n                                            No item selected\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div\n                                *ngIf=\"selectedItem && (selectedItem.data.abstractNote == '' || selectedItem.data.abstractNote == undefined)\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-12\">\n                                        <p class=\"text-muted text-center align-middle mb-1 font-italic\">\n                                            No info\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div\n                                *ngIf=\"selectedItem && (selectedItem.data.abstractNote != '' && selectedItem.data.abstractNote != undefined)\">\n                                <p class=\"text-muted font-weight-bold\">\n                                    Abstract\n                                </p>\n                                <p class=\"font-weight-normal\">\n                                    {{selectedItem.data.abstractNote}}\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-md-12 d-flex justify-content-end\">\n                    <button class=\"btn btn-secondary w-25\" [disabled]=\"!selectedItem\" (click)=\"addBibliographyItem(selectedItem)\">Save</button>\n                    <!-- <button class=\"btn btn-secondary\" (click)=\"addBibliography.hide()\">Close</button> -->\n                </div>\n            </div>\n        </div>\n    </ng-container>\n\n    <ng-container class=\"app-modal-footer\">\n    </ng-container>\n</app-modal>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-text-detail',\n  templateUrl: './text-detail.component.html',\n  styleUrls: ['./text-detail.component.scss']\n})\nexport class TextDetailComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","\n\n<div id=\"epigraphy-accordion\">\n\n<app-epigraphy-detail></app-epigraphy-detail>\n<app-edit-detail></app-edit-detail>\n\n</div>","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router } from '@angular/router';\nimport { KeycloakAuthGuard, KeycloakService } from 'keycloak-angular';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuard extends KeycloakAuthGuard {\n  \n  constructor(\n    protected readonly router: Router,\n    protected readonly keycloak: KeycloakService\n  ) {\n    super(router, keycloak);\n  }\n  \n  async isAccessAllowed(\n    route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Promise<boolean | UrlTree> {\n    \n    if (!this.authenticated) {\n      await this.keycloak.login({\n        redirectUri: window.location.origin + '/epilexo_itant/' + state.url, /* aggiungere '/epilexo/' in produzione */\n      });\n    }\n\n    const requiredRoles = route.data.roles;\n    if (!(requiredRoles instanceof Array) || requiredRoles.length === 0) {\n      return true;\n    } else {\n      if (!this.roles || this.roles.length === 0) {\n        return false;\n      }\n    }\n    if (!requiredRoles.every((role) => this.roles.includes(role))) {\n      this.router.navigate(['/']);\n    }\n    return requiredRoles.every((role) => this.roles.includes(role));\n  }\n}","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport { Component, ElementRef, OnDestroy, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport * as Recogito from '@recogito/recogito-js';\nimport { Subscription } from 'rxjs';\nimport { DocumentSystemService } from 'src/app/services/document-system/document-system.service';\nimport { ExpanderService } from 'src/app/services/expander/expander.service';\n\n\n@Component({\n  selector: 'app-epigraphy-tab',\n  templateUrl: './epigraphy-tab.component.html',\n  styleUrls: ['./epigraphy-tab.component.scss'],\n  animations: [\n    trigger('slideInOut', [\n      state('in', style({\n        height: 'calc(100vh - 15rem)',\n        \n      })),\n      state('out', style({\n        height: 'calc(50vh - 10rem)',\n      })),\n      transition('in => out', animate('400ms ease-in-out')),\n      transition('out => in', animate('400ms ease-in-out'))\n    ])\n  ]\n})\n\nexport class EpigraphyTabComponent implements OnInit, OnDestroy {\n  exp_trig = '';\n  name: any;\n  revisor:any;\n  object : any;\n  epigraphyData: any;\n\n  subscription: Subscription;\n  expand_epi_subscription : Subscription;\n  expand_edit_subscription : Subscription;\n  @ViewChild('expanderEpigraphy') expander_body: ElementRef;\n\n  constructor(private documentService: DocumentSystemService, private expand : ExpanderService, private rend: Renderer2) { }\n\n  ngOnInit(): void {\n\n    this.subscription = this.documentService.epigraphyData$.subscribe(\n      object => {\n        if(this.object != object){\n          this.epigraphyData = null; \n        }\n\n        console.log(object)\n\n        if(object!=null){\n          this.object = object\n\n          this.epigraphyData = this.object;\n          if(this.object != null){\n            setTimeout(() => {\n              //@ts-ignore\n              $('#epigraphyTabModal').modal('hide');\n              $('.modal-backdrop').remove();\n              var timer = setInterval((val)=>{                 \n                try{\n                    //@ts-ignore\n                    $('#epigraphyTabModal').modal('hide');\n                    if(!$('#epigraphyTabModal').is(':visible')){\n                      clearInterval(timer)\n                    }\n                    \n                }catch(e){\n                    console.log(e)\n                }    \n              }, 10)\n            }, 500);\n             \n            \n          }\n        }else{\n          this.epigraphyData = null;\n        }\n        \n      },error => {},\n     \n    );\n    \n   \n\n    this.expand_epi_subscription = this.expand.expEpigraphy$.subscribe(\n      trigger => {\n        setTimeout(() => {\n         // console.log(\"trigger epigraphy-tab: \", trigger)\n          if(trigger){\n            let isEditExpanded = this.expand.isEditTabExpanded();\n            let isEpigraphyExpanded = this.expand.isEpigraphyTabExpanded();\n         //   console.log(isEditExpanded, isEpigraphyExpanded)\n            \n            if(!isEditExpanded){\n              \n              this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(100vh - 15rem)')\n              this.exp_trig = 'in';\n              this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(100vh - 15rem)');\n            }else{\n              \n              this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 10rem)');\n              this.exp_trig = 'in';\n              this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 10rem)');\n              \n            }\n            \n            \n          }else if(trigger==null){\n            return;\n          }else{\n            this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 10rem)');\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 10rem)');\n            this.exp_trig = 'out';\n          }\n        }, 100);\n        \n      }\n    );\n\n    this.expand_edit_subscription = this.expand.expEdit$.subscribe(\n      trigger => {\n        setTimeout(() => {\n          if(trigger){\n            this.exp_trig = 'in';\n            this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 10rem)')\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 10rem)')\n          }else if(trigger==null){\n            return;\n          }else{\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 10rem)');\n            this.exp_trig = 'out';\n          }\n        }, 100);\n        \n      }\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n    this.expand_edit_subscription.unsubscribe();\n    this.expand_epi_subscription.unsubscribe();\n  }\n\n}\n","\n\n\n\n<div id=\"cardsAccordion\" class=\"accordion\" [hidden]=\"object == null\">\n    <div class=\"card my-2\">\n        <div class=\"card-header\">\n            <h5 class=\"mb-0 w-100 d-flex justify-content-between align-self-center\">\n                <div>\n                    <span class=\"btn\" *ngIf=\"object != null\">\n                        <!-- <span *ngIf=\"isLexicalEntry\">\n                            Lexical Entry\n                        </span>\n                        <span *ngIf=\"isSense\">\n                            Sense\n                        </span>\n                        <span *ngIf=\"isForm\">\n                            Form\n                        </span> -->\n                        <!-- CREATED BY {{creator}} ON {{creationDate | date :'dd/MM/yyyy hh:mm:ss'}} -->\n\t\t\t\t\t\t{{name}}\n                    </span>\n                </div>\n                <div>\n                   <!--  <div class=\"spinner-border spinner-border-sm m-1\" role=\"status\" *ngIf=\"searchIconSpinner\">\n                        <span class=\"sr-only\">Loading...</span>\n                    </div> -->\n                    <!-- <button class=\"btn btn-link\" *ngIf=\"isLexicalEntry\" (click)=\"removeElementModal.show()\">\n                        <i class=\"fa fa-trash\"></i>\n                    </button>\n                    <button class=\"btn btn-link\" *ngIf=\"isForm\" title=\"delete form\" (click)=\"removeElementModal.show()\">\n                        <i class=\"fa fa-trash\"></i>\n                    </button>\n                    <button class=\"btn btn-link\" *ngIf=\"isSense\" title=\"delete sense\"\n                        (click)=\"removeElementModal.show()\">\n                        <i class=\"fa fa-trash\"></i>\n                    </button> -->\n                    <!-- <button class=\"btn btn-link\" (click)=\"changeStatus()\" *ngIf=\"isLexicalEntry\">\n                        <i class=\"fa fa-circle\" [hidden]=\"lock!=0\" style=\"color: red\"></i>\n                        <i class=\"fa fa-circle\" [hidden]=\"lock!=1\" style=\"color: yellow\"></i>\n                        <i class=\"fa fa-circle locked-tooltip\" [hidden]=\"lock!=2\" data-toggle=\"tooltip\"\n                            data-placement=\"bottom\" data-html=\"true\" title=\"Locked tooltip\" style=\"color:green;\"></i>\n                    </button> -->\n                </div>\n            </h5>\n        </div>\n        <div #expanderEpigraphy [@slideInOut]=\"exp_trig\" class=\"card-body epigraphy-tab-body\">\n            \n            <div id=\"epigraphyTabModal\" class=\"modal fade\" role=\"dialog\">\n                <div class=\"modal-dialog\">\n\n                    <!-- Modal content-->\n                    <div class=\"modal-content\">\n                        <div class=\"modal-body\">\n                            <div class=\"d-flex justify-content-center\">\n                                <div class=\"spinner-border\" role=\"status\">\n                                    <span class=\"sr-only\">Loading...</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n\t\t\t<app-epigraphy-form [epiData]=\"epigraphyData\"></app-epigraphy-form>\n            <!-- <app-lexical-entry-core-form [lexData]=\"lexicalEntryData\" *ngIf=\"isLexicalEntry\">\n            </app-lexical-entry-core-form>\n            <app-form-core-form [formData]=\"formData\" *ngIf=\"isForm\"></app-form-core-form>\n            <app-sense-core-form [senseData]=\"senseData\" *ngIf=\"isSense\"></app-sense-core-form>\n            <app-lexical-concept-form [lexicalConceptData]=\"lexicalConceptData\" *ngIf=\"isLexicalConcept\">\n            </app-lexical-concept-form> -->\n        </div>\n        <div class=\"card-footer text-muted\">\n            <div class=\"w-100 d-flex justify-content-between align-items-center\">\n                <!-- <div *ngIf=\"object != null\">\n                    <span>LAST UPDATE ON {{lastUpdateDate | date :'dd/MM/yyyy hh:mm:ss'}}</span>\n                </div> -->\n                <!-- <div class=\"btn-group dropup dropleft\">\n                    <button class=\"btn btn-success\" type=\"button\" id=\"dropdownAddLemma\" data-toggle=\"dropdown\"\n                        aria-haspopup=\"true\" aria-expanded=\"false\"> <i class=\"fas fa-plus\"></i> </button>\n                    <div class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"dropdownAddLemma\">\n                        <button class=\"dropdown-item\" title=\"add new form\" (click)=\"addNewForm()\">Add Form</button>\n                        <button class=\"dropdown-item\" (click)=\"addNewSense()\">Add Sense</button>\n                        <button class=\"dropdown-item\" (click)=\"addNewEtymology()\">Add Etymology</button>\n                        <button class=\"dropdown-item\" (click)=\"showBiblioModal()\">Add Bibliography</button>\n                    </div>\n                </div> -->\n            </div>\n        </div>\n    </div>\n</div>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-page-not-found',\n  templateUrl: './page-not-found.component.html',\n  styleUrls: ['./page-not-found.component.scss']\n})\nexport class PageNotFoundComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","\n\n<p>page-not-found works!</p>\n","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, EventEmitter, Input, OnDestroy, OnInit, Output, SimpleChanges } from '@angular/core';\nimport { FormArray, FormBuilder, FormGroup } from '@angular/forms';\nimport { Subject, Subscription } from 'rxjs';\nimport { debounceTime, takeUntil } from 'rxjs/operators';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\nimport { ToastrService } from 'ngx-toastr';\n\n@Component({\n  selector: 'app-see-also',\n  templateUrl: './see-also.component.html',\n  styleUrls: ['./see-also.component.scss']\n})\nexport class SeeAlsoComponent implements OnInit, OnDestroy {\n\n  @Input() seeAlsoData: any[] | any;\n\n  private subject: Subject<any> = new Subject();\n  private subject_input: Subject<any> = new Subject();\n\n  subscription: Subscription;\n  object: any;\n  peopleLoading = false;\n\n  destroy$: Subject<boolean> = new Subject();\n\n  isSense;\n  isForm;\n  isLexEntry;\n  isLexicalConcept;\n\n  searchResults: [];\n  memorySeeAlso = [];\n  filterLoading = false;\n  disableSeeAlso = false;\n\n  seeAlsoForm = new FormGroup({\n    seeAlsoArray: new FormArray([this.createSeeAlsoEntry()])\n  })\n\n  seeAlsoArray: FormArray;\n\n  search_filter_subscriber: Subscription;\n  search_by_input_subscriber: Subscription;\n\n  constructor(private formBuilder: FormBuilder, private lexicalService: LexicalEntriesService, private toastr: ToastrService) {\n  }\n\n  ngOnInit() {\n    this.seeAlsoForm = this.formBuilder.group({\n      seeAlsoArray: this.formBuilder.array([])\n    })\n\n    this.onChanges();\n    /* //console.log(this.seeAlsoForm) */\n    this.search_filter_subscriber = this.subject.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      data => {\n        console.log(data)\n        this.onSearchFilter(data)\n      }\n    )\n\n    this.search_by_input_subscriber = this.subject_input.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      data => {\n        this.onChangeSeeAlsoByInput(data['value'], data['i'])\n      }\n    )\n    this.triggerTooltip();\n  }\n\n\n  triggerTooltip() {\n    setTimeout(() => {\n      //@ts-ignore\n      $('.see-also-tooltip').tooltip({\n        trigger: 'hover'\n      });\n    }, 500);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    setTimeout(() => {\n      if (changes.seeAlsoData.currentValue != null) {\n        this.object = changes.seeAlsoData.currentValue;\n        this.seeAlsoArray = this.seeAlsoForm.get('seeAlsoArray') as FormArray;\n        this.seeAlsoArray.clear();\n        this.memorySeeAlso = [];\n        this.disableSeeAlso = false;\n        //console.log(this.object)\n\n        this.object.array.forEach(element => {\n          if (element.label != '') {\n            this.addSeeAlsoEntry(element.label, element.inferred, element.entity, element.linkType)\n            this.memorySeeAlso.push(element.entity)\n          } else {\n            this.addSeeAlsoEntry(element.entity, element.inferred, element.entity, element.linkType)\n            this.memorySeeAlso.push(element.entity)\n          }\n\n\n        });\n\n        if (this.object.lexicalEntry != undefined) {\n          this.isLexEntry = true;\n          this.isForm = false;\n          this.isSense = false;\n          this.isLexicalConcept = false;\n        } else if (this.object.form != undefined) {\n          this.isLexEntry = false;\n          this.isForm = true;\n          this.isSense = false;\n          this.isLexicalConcept = false;\n        } else if (this.object.sense != undefined) {\n          this.isLexEntry = false;\n          this.isForm = false;\n          this.isSense = true;\n          this.isLexicalConcept = false;\n        } else if (this.object.lexicalConcept != undefined) {\n          this.isLexEntry = false;\n          this.isForm = false;\n          this.isSense = false;\n          this.isLexicalConcept = true;\n        }\n\n      } else {\n        this.object = null;\n      }\n    }, 10);\n\n  }\n\n  async onChangeSeeAlsoByInput(value, index) {\n\n    if (value.trim() != \"\") {\n      var selectedValues = value;\n      var lexicalElementId = '';\n      if (this.object.lexicalEntry != undefined && this.object.form == undefined && this.object.sense == undefined) {\n        lexicalElementId = this.object.lexicalEntry;\n      } else if (this.object.form != undefined) {\n        lexicalElementId = this.object.form;\n      } else if (this.object.sense != undefined) {\n        lexicalElementId = this.object.sense;\n      } else if (this.object.etymology != undefined) {\n        lexicalElementId = this.object.etymology;\n      } else if (this.object.lexicalConcept != undefined) {\n        lexicalElementId = this.object.lexicalConcept;\n      }\n\n      console.log(this.object)\n\n      if (this.memorySeeAlso[index] == \"\" || this.memorySeeAlso[index] == undefined) {\n        let parameters = {\n          type: \"reference\",\n          relation: \"http://www.w3.org/2000/01/rdf-schema#seeAlso\",\n          value: selectedValues\n        }\n        try {\n          let data = await this.lexicalService.updateGenericRelation(lexicalElementId, parameters).toPromise();\n        } catch (e) {\n          console.log(e)\n          if (e.status == 200) {\n            this.memorySeeAlso.push(selectedValues)\n            this.toastr.success('SeeAlso updated', '', {\n              timeOut: 5000,\n            });\n          } else {\n            this.toastr.error(e.error, 'Error', {\n              timeOut: 5000,\n            });\n          }\n        }\n      } else {\n        let oldValue = this.memorySeeAlso[index];\n        let parameters = {\n          type: \"reference\",\n          relation: \"http://www.w3.org/2000/01/rdf-schema#seeAlso\",\n          value: selectedValues,\n          currentValue: oldValue\n        }\n        console.log(parameters)\n        try {\n          let data = await this.lexicalService.updateGenericRelation(lexicalElementId, parameters).toPromise();\n        } catch (e) {\n          if (e.status == 200) {\n            this.memorySeeAlso.push(selectedValues)\n            this.toastr.success('SeeAlso updated', '', {\n              timeOut: 5000,\n            });\n          } else {\n            this.toastr.error(e.error, 'Error', {\n              timeOut: 5000,\n            });\n          }\n        }\n\n      }\n    }\n    this.disableSeeAlso = false;\n\n\n  }\n\n  async onChangeSeeAlso(seeAlso, index) {\n    //console.log(seeAlso.selectedItems)\n    this.disableSeeAlso = false;\n    if (seeAlso.selectedItems.length != 0) {\n      var selectedValues = seeAlso.selectedItems[0].value.lexicalEntry;\n      var lexicalElementId = '';\n      if (this.object.lexicalEntry != undefined) {\n        lexicalElementId = this.object.lexicalEntry;\n      } else if (this.object.form != undefined) {\n        lexicalElementId = this.object.form;\n      } else if (this.object.sense != undefined) {\n        lexicalElementId = this.object.sense;\n      } else if (this.object.etymology != undefined) {\n        lexicalElementId = this.object.etymology;\n      }\n\n      if (this.memorySeeAlso[index] == undefined) {\n        let parameters = {\n          type: \"reference\",\n          relation: \"http://www.w3.org/2000/01/rdf-schema#seeAlso\",\n          value: selectedValues\n        }\n        console.log(parameters)\n\n        try {\n          let data = await this.lexicalService.updateGenericRelation(lexicalElementId, parameters).toPromise();\n        } catch (e) {\n          if (e.status == 200) {\n            this.memorySeeAlso[index] = selectedValues\n            this.lexicalService.refreshLinkCounter('+1')\n            this.toastr.success('SeeAlso updated', '', {\n              timeOut: 5000,\n            });\n          } else {\n            this.toastr.error(e.error, 'Error', {\n              timeOut: 5000,\n            });\n          }\n        }\n\n      } else {\n        let oldValue = this.memorySeeAlso[index];\n        let parameters = {\n          type: \"reference\",\n          relation: \"http://www.w3.org/2000/01/rdf-schema#seeAlso\",\n          value: selectedValues,\n          currentValue: oldValue\n        }\n        console.log(parameters)\n        try {\n          let data = await this.lexicalService.updateGenericRelation(lexicalElementId, parameters).toPromise();\n        } catch (e) {\n          if (e.status == 200) {\n            this.memorySeeAlso[index] = selectedValues\n            this.lexicalService.refreshLinkCounter('+1')\n            this.toastr.success('SeeAlso updated', '', {\n              timeOut: 5000,\n            });\n          } else {\n            this.toastr.error(e.error, 'Error', {\n              timeOut: 5000,\n            });\n          }\n        }\n\n      }\n\n    }\n\n\n  }\n\n  deleteData() {\n    this.searchResults = [];\n  }\n\n\n\n  onSearchFilter(data) {\n    this.filterLoading = true;\n    this.searchResults = [];\n    console.log(this.object)\n    if (this.object.lexicalEntry != undefined && this.object.form == undefined && this.object.sense == undefined) {\n      let parameters = {\n        text: data,\n        searchMode: \"startsWith\",\n        type: \"\",\n        pos: \"\",\n        formType: \"entry\",\n        author: \"\",\n        lang: \"\",\n        status: \"\",\n        offset: 0,\n        limit: 500\n      }\n      //console.log(data.length)\n      this.lexicalService.getLexicalEntriesList(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data=> {\n          console.log(data)\n          if(data){\n            let filter_lang = data.list;\n            \n            filter_lang.forEach(element => {\n              element['label_lang'] = element.label + \"@\" + element.language;\n            });\n            console.log(filter_lang);\n            this.searchResults = data.list;\n          }\n        }, error=> { \n          console.log(error)\n        } \n      )\n      \n      \n\n\n    } else if (this.object.form != undefined) {\n      let lexId = this.object.parentInstanceName;\n      let parameters = {\n        text: data,\n        searchMode: \"startsWith\",\n        representationType: \"writtenRep\",\n        author: \"\",\n        offset: 0,\n        limit: 500\n      }\n      this.lexicalService.getFormList(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data=> {\n          console.log(data)\n          if(data){\n            let filter_lang = data.list;\n            \n            filter_lang.forEach(element => {\n              element['label_lang'] = element.label + \"@\" + element.language;\n            });\n            console.log(filter_lang);\n            this.searchResults = data.list;\n          }\n        }, error=> { \n          console.log(error)\n        } \n      )\n    } else if (this.object.sense != undefined) {\n\n      let parameters = {\n        text: data,\n        searchMode: \"startsWith\",\n        type: \"\",\n        field: \"definition\",\n        pos: \"\",\n        formType: \"entry\",\n        author: \"\",\n        lang: \"\",\n        status: \"\",\n        offset: 0,\n        limit: 500\n      }\n\n\n      this.lexicalService.getLexicalSensesList(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data=> {\n          console.log(data)\n          if(data){\n            let filter_lang = data.list;\n            \n            filter_lang.forEach(element => {\n              element['label_lang'] = element.label + \"@\" + element.language;\n            });\n            console.log(filter_lang);\n            this.searchResults = data.list;\n          }\n        }, error=> { \n          console.log(error)\n        } \n      )\n    } else if (this.object.etymology != undefined) {\n\n      let parameters = {\n        text: data,\n        searchMode: \"startsWith\",\n        type: \"etymon\",\n        pos: \"\",\n        formType: \"entry\",\n        author: \"\",\n        lang: \"\",\n        status: \"\",\n        offset: 0,\n        limit: 500\n      }\n      this.lexicalService.getLexicalEntriesList(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data=> {\n          console.log(data)\n          if(data){\n            let filter_lang = data.list;\n            \n            filter_lang.forEach(element => {\n              element['label_lang'] = element.label + \"@\" + element.language;\n            });\n            console.log(filter_lang);\n            this.searchResults = data.list;\n          }\n        }, error=> { \n          console.log(error)\n        } \n      )\n    }\n    else {\n      this.filterLoading = false;\n    }\n    //console.log(data)\n\n  }\n\n  triggerSeeAlsoInput(evt, i) {\n    if (evt.key != 'Control' && evt.key != 'Shift' && evt.key != 'Alt') {\n      let value = evt.target.value;\n      this.subject_input.next({ value, i })\n    }\n  }\n\n  triggerSeeAlso(evt) {\n    if (evt.target != undefined) {\n      this.subject.next(evt.target.value)\n    }\n\n  }\n  onChanges(): void {\n    this.seeAlsoForm.valueChanges.pipe(debounceTime(200), takeUntil(this.destroy$)).subscribe(searchParams => {\n      //console.log(searchParams)\n    })\n  }\n\n  createSeeAlsoEntry(e?, i?, le?, lt?) {\n    if (e == undefined) {\n      return this.formBuilder.group({\n        entity: null,\n        inferred: false,\n        lexical_entity: null,\n        link_type: 'internal'\n      })\n    } else {\n      return this.formBuilder.group({\n        entity: e,\n        inferred: i,\n        lexical_entity: le,\n        link_type: lt\n      })\n    }\n\n  }\n\n  addSeeAlsoEntry(e?, i?, le?, lt?) {\n    this.seeAlsoArray = this.seeAlsoForm.get('seeAlsoArray') as FormArray;\n\n    if (e == undefined) {\n      this.disableSeeAlso = true;\n\n      this.seeAlsoArray.push(this.createSeeAlsoEntry());\n    } else {\n      this.seeAlsoArray.push(this.createSeeAlsoEntry(e, i, le, lt));\n    }\n\n\n    this.triggerTooltip();\n  }\n\n  async removeElement(index) {\n    this.seeAlsoArray = this.seeAlsoForm.get('seeAlsoArray') as FormArray;\n\n    let lexical_entity = this.seeAlsoArray.at(index).get('lexical_entity').value;\n    //console.log('Lexical Entity: '+lexical_entity)\n    if (lexical_entity == '' || lexical_entity == null) {\n      lexical_entity = this.seeAlsoArray.at(index).get('entity').value;\n      //console.log('Entity: '+lexical_entity)\n    }\n\n    if (this.object.lexicalEntry != undefined) {\n\n      let lexId = this.object.lexicalEntry;\n\n      let parameters = {\n        relation: 'http://www.w3.org/2000/01/rdf-schema#seeAlso',\n        value: lexical_entity\n      }\n\n      //console.log(parameters)\n      //console.log(index)\n      try {\n        let delete_see_also = await this.lexicalService.deleteLinguisticRelation(lexId, parameters).toPromise();\n\n\n        this.lexicalService.updateCoreCard(this.object)\n        this.toastr.success('SeeAlso deleted', '', {\n          timeOut: 5000,\n        });\n        this.lexicalService.refreshLinkCounter('-1')\n\n      } catch (e) {\n        if(e.status == 200){\n          this.toastr.success('SeeAlso deleted', '', {\n            timeOut: 5000,\n          });\n        }else{\n          this.toastr.error(e.error, 'Error', {\n            timeOut: 5000,\n          });\n        }\n        \n        this.lexicalService.refreshLinkCounter('-1')\n\n      }\n\n\n    } else if (this.object.form != undefined) {\n      let formId = this.object.form;\n\n      let parameters = {\n        relation: 'http://www.w3.org/2000/01/rdf-schema#seeAlso',\n        value: lexical_entity\n      }\n\n      try {\n        let delete_see_also = await this.lexicalService.deleteLinguisticRelation(formId, parameters).toPromise();\n        this.lexicalService.updateCoreCard(this.object)\n        this.toastr.success('SeeAlso deleted', '', {\n          timeOut: 5000,\n        });\n        this.lexicalService.refreshLinkCounter('-1')\n\n      } catch (e) {\n        this.toastr.error(e.error, 'Error', {\n          timeOut: 5000,\n        });\n        this.lexicalService.refreshLinkCounter('-1')\n      }\n\n\n    } else if (this.object.sense != undefined) {\n      let senseId = this.object.sense;\n\n      let parameters = {\n        type: 'morphology',\n        relation: 'http://www.w3.org/2000/01/rdf-schema#seeAlso',\n        value: lexical_entity\n      }\n\n      //console.log(parameters)\n\n      try {\n        let delete_see_also = await this.lexicalService.deleteLinguisticRelation(senseId, parameters).toPromise();\n\n        this.lexicalService.updateCoreCard(this.object)\n        this.toastr.success('SeeAlso deleted', '', {\n          timeOut: 5000,\n        });\n        this.lexicalService.refreshLinkCounter('-1')\n\n      } catch (e) {\n        this.toastr.error(e.error, 'Error', {\n          timeOut: 5000,\n        });\n        this.lexicalService.refreshLinkCounter('-1')\n      }\n    } else if (this.object.etymology != undefined) {\n      let etymId = this.object.etymology;\n      this.lexicalService.refreshLinkCounter('-1')\n\n      let parameters = {\n        type: 'morphology',\n        relation: 'http://www.w3.org/2000/01/rdf-schema#seeAlso',\n        value: lexical_entity\n      }\n\n      //console.log(parameters)\n\n      try {\n        let delete_see_also = await this.lexicalService.deleteLinguisticRelation(etymId, parameters).toPromise();\n\n        this.lexicalService.updateCoreCard(this.object)\n        this.toastr.success('SeeAlso deleted', '', {\n          timeOut: 5000,\n        });\n        this.lexicalService.refreshLinkCounter('-1')\n\n      } catch (e) {\n        this.toastr.error(e.error, 'Error', {\n          timeOut: 5000,\n        });\n        this.lexicalService.refreshLinkCounter('-1')\n      }\n    } else if (this.object.lexicalConcept != undefined) {\n      let conceptId = this.object.lexicalConcept;\n      this.lexicalService.refreshLinkCounter('-1')\n\n      let parameters = {\n        type: 'morphology',\n        relation: 'http://www.w3.org/2000/01/rdf-schema#seeAlso',\n        value: lexical_entity\n      }\n\n      //console.log(parameters)\n\n      try {\n        let delete_see_also = await this.lexicalService.deleteLinguisticRelation(conceptId, parameters).toPromise();\n\n        this.lexicalService.updateCoreCard(this.object)\n        this.toastr.success('SeeAlso deleted', '', {\n          timeOut: 5000,\n        });\n        this.lexicalService.refreshLinkCounter('-1')\n\n      } catch (e) {\n        if(e.status == 200){\n          this.toastr.success('See also deleted correctly', '', {\n            timeOut: 5000,\n          });\n        }else{\n          this.toastr.error(e.error, 'Error', {\n            timeOut: 5000,\n          });\n        }\n        \n        this.lexicalService.refreshLinkCounter('-1')\n      }\n    }\n    this.disableSeeAlso = false;\n    this.memorySeeAlso.splice(index, 1)\n    this.seeAlsoArray.removeAt(index);\n\n  }\n\n  ngOnDestroy(): void {\n    this.search_filter_subscriber.unsubscribe();\n    this.search_by_input_subscriber.unsubscribe();\n\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n\n}\n","\n\n<form [formGroup]=\"seeAlsoForm\">\n    <div class=\"form-group row mt-3\">\n        <div class=\"input-group col-sm-12\">\n            <div class=\"card\">\n                <span class=\"text-id\">SEE ALSO</span>\n                <a (click)=\"addSeeAlsoEntry()\" class=\"pointer\"  [ngClass]=\"{no_pointer: disableSeeAlso}\"><span class=\"collapse-icon\"><i\n                            class=\"fa fa-plus-square\"></i></span></a>\n                <div class=\"card-body\">\n\n                    <div formArrayName=\"seeAlsoArray\" class=\"mt-3\">\n\n                        <div *ngFor=\"let seeAlso of seeAlsoForm.get('seeAlsoArray')['controls']; let i = index\">\n                            <div [formGroupName]=\"i\">\n                                <div class=\"d-flex\">\n                                    <div class=\"form-group row ml-2  mr-2 w-100\" *ngIf=\"{switch : seeAlso.get('link_type').value != 'internal'}; let variable\">\n                                        <div class=\"input-group\" *ngIf=\"{boolean : seeAlso.get('inferred').value}; let inf\">\n                                              \n                                            <ng-select #seeAlsoSelect formControlName=\"entity\" name=\"entity\" [dropdownPosition]=\"'bottom'\"\n                                            (keyup)=\"triggerSeeAlso($event)\" (change)=\"onChangeSeeAlso(seeAlsoSelect, i)\"\n                                            [items]=\"searchResults\" bindValue=\"label\" (focus)=\"deleteData()\" bindLabel=\"label\"\n                                            placeholder=\"Search lexical entry\" appendTo=\"body\" \n                                            *ngIf=\"!variable.switch && !isSense && !isLexicalConcept && seeAlso.get('link_type').value != 'external'\">\n                                                <ng-template ng-option-tmp let-item=\"item\" let-search=\"searchTerm\">\n                                                    <div>\n                                                        <span>{{item.label}} </span><span style=\"color: blue;\">@{{item.language}}</span>\n                                                    </div>\n                \n                                                </ng-template>\n                                            </ng-select>\n\n                                            <ng-select #seeAlsoSenses\n                                                (change)=\"onChangeSeeAlso(seeAlsoSenses, i)\" (focus)=\"deleteData()\"\n                                                (keyup)=\"triggerSeeAlso($event)\" formControlName=\"entity\" name=\"entity\"\n                                                [dropdownPosition]=\"'bottom'\"\n                                                bindValue=\"definition\" class=\"resizeNgSelect\" [items]=\"searchResults\"\n                                                bindLabel=\"definition\" placeholder=\"Search entity\" appendTo=\"body\"\n                                                *ngIf=\"!variable.switch && isSense && !isLexicalConcept && seeAlso.get('link_type').value != 'external'\" [readonly]=\"inf.boolean\">\n                                            </ng-select>\n                                            <input formControlName=\"entity\" name=\"entity\" type=\"text\"\n                                                class=\"form-control \" (keyup)=\"triggerSeeAlsoInput($event, i)\"\n                                                placeholder=\"Insert URI\" *ngIf=\"variable.switch || isLexicalConcept\">\n\n                                           \n\n                                            <div class=\"input-group-append\" *ngIf=\"!inf.boolean\">\n                                                <div class=\"input-group-append ml-2 form-check\" *ngIf=\"!isLexicalConcept\">\n                                                    <input class=\"form-check-input see-also-tooltip\" type=\"checkbox\"\n                                                        (change)=\"variable.switch=!variable.switch; variable.switch ? seeAlso.get('link_type').value = 'external' : seeAlso.get('link_type').value = 'internal'\"\n                                                        data-toggle=\"tooltip\" data-placement=\"bottom\"\n                                                        data-trigger=\"hover\"\n                                                        title=\"Clicca per inserire un URI manualmente\"\n                                                        [checked]=\"variable.switch\">\n                                                    <label class=\"form-check-label\" for=\"extCheck\"></label>\n                                                </div>\n                                                \n                                                <div class=\"input-group-append ml-2\">\n                                                    <button (click)=\"removeElement(i)\" class=\"btn btn-danger\"\n                                                        type=\"button\"><i class=\"fa fa-trash-alt\"></i></button>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</form>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-profile-page',\n  templateUrl: './profile-page.component.html',\n  styleUrls: ['./profile-page.component.scss']\n})\nexport class ProfilePageComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","\n\n<div class=\"container-fluid profile-page\">\n    <div class=\"row h-100\">\n        <div class=\"col-md-12\">\n            <app-profiles-table></app-profiles-table>\n        </div>\n    </div>\n</div>\n","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, Input, OnDestroy, OnInit, SimpleChanges } from '@angular/core';\nimport { Subject, Subscription } from 'rxjs';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\n\nimport { FormBuilder, FormGroup, FormArray, FormControl } from '@angular/forms';\nimport { debounceTime, pairwise, startWith, takeUntil } from 'rxjs/operators';\nimport { ConceptService } from 'src/app/services/concept/concept.service';\nimport { ToastrService } from 'ngx-toastr';\nimport { NgSelectComponent } from '@ng-select/ng-select';\n@Component({\n  selector: 'app-lexical-concept-form',\n  templateUrl: './lexical-concept-form.component.html',\n  styleUrls: ['./lexical-concept-form.component.scss']\n})\nexport class LexicalConceptFormComponent implements OnInit, OnDestroy {\n\n  switchInput = false;\n  subscription: Subscription;\n  object: any;\n  peopleLoading = false;\n  counter = 0;\n  componentRef: any;\n\n  @Input() lexicalConceptData: any;\n\n  lexicalConceptForm = new FormGroup({\n    label: new FormControl(''),\n    definition: new FormControl(''),\n    isEvokedBy: new FormArray([this.createIsEvokedBy()]),\n    lexicalizedSenses: new FormArray([this.createLexicalizedSense()])\n  })\n\n  isEvokedByArray: FormArray;\n  lexicalizedSensesArray: FormArray;\n  /* scheme: FormArray;\n  conceptReference: FormArray; */\n\n  destroy$: Subject<boolean> = new Subject();\n  disableAddIsEvokedBy: boolean = false;\n  disableAddLexicalizedSense: boolean = false;\n  memoryIsEvokedBy = [];\n  memoryLexicalizedSenses = [];\n  evokedBySubject: Subject<any> = new Subject();\n  lexicalizedSenseSubject: Subject<any> = new Subject();\n\n  searchResults: any[] = [];\n  searchResultsSenses: any[] = [];\n\n\n\n  constructor(private lexicalService: LexicalEntriesService,\n    private formBuilder: FormBuilder,\n    private conceptService: ConceptService,\n    private toastr: ToastrService) {\n  }\n\n  ngOnInit() {\n\n    this.lexicalConceptForm = this.formBuilder.group({\n      defaultLabel: '',\n      definition: '',\n      isEvokedBy: this.formBuilder.array([]),\n      lexicalizedSenses: this.formBuilder.array([]),\n\n    })\n    this.onChanges();\n    this.triggerTooltip();\n\n    this.evokedBySubject.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      data => {\n        this.onSearchFilter(data)\n      }\n    );\n\n    this.lexicalizedSenseSubject.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      data => {\n        this.onSearchFilterLexicalizedSense(data)\n      }\n    );\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    setTimeout(() => {\n      if (this.object != changes.lexicalConceptData.currentValue) {\n        this.isEvokedByArray = this.lexicalConceptForm.get('isEvokedBy') as FormArray;\n        this.isEvokedByArray.clear();\n\n        this.lexicalizedSensesArray = this.lexicalConceptForm.get('lexicalizedSenses') as FormArray;\n        this.lexicalizedSensesArray.clear();\n\n        this.lexicalConceptForm.reset();\n\n        this.disableAddIsEvokedBy = false;\n        this.disableAddLexicalizedSense = false;\n        this.memoryIsEvokedBy = [];\n        this.memoryLexicalizedSenses = [];\n      }\n      //this.loadPeople();\n      this.object = changes.lexicalConceptData.currentValue;\n      if (this.object != null) {\n        this.lexicalConceptForm.get('defaultLabel').setValue(this.object.defaultLabel, { emitEvent: false });\n        this.lexicalConceptForm.get('definition').setValue(this.object.definition, { emitEvent: false });\n\n        const conceptId = this.object.lexicalConcept;\n        this.lexicalService.getLexEntryLinguisticRelation(conceptId, 'isEvokedBy').pipe(takeUntil(this.destroy$)).subscribe(\n          data => {\n            console.log(data)\n            for (var i = 0; i < data.length; i++) {\n              let entity = data[i]['entity'];\n              let type = data[i]['linkType'];\n              let label = data[i]['label'];\n              let inferred = data[i]['inferred'];\n              this.addIsEvokedBy(entity, type, inferred, label);\n              this.memoryIsEvokedBy.push(data[i])\n            }\n          }, error => {\n            console.log(error)\n          }\n        );\n\n        this.lexicalService.getLexEntryLinguisticRelation(conceptId, 'lexicalizedSense').pipe(takeUntil(this.destroy$)).subscribe(\n          data => {\n            console.log(data)\n            for (var i = 0; i < data.length; i++) {\n              let entity = data[i]['entity'];\n              let type = data[i]['linkType'];\n              let label = data[i]['label'];\n              let inferred = data[i]['inferred'];\n              this.addLexicalizedSense(entity, type, inferred, label);\n              this.memoryLexicalizedSenses.push(data[i])\n            }\n          }, error => {\n            console.log(error)\n          }\n        )\n      }\n      this.triggerTooltip();\n    }, 10)\n  }\n\n  triggerTooltip() {\n    setTimeout(() => {\n      //@ts-ignore\n      $('.vartrans-tooltip').tooltip({\n        trigger: 'hover'\n      });\n    }, 500);\n  }\n\n\n\n  onChanges(): void {\n    this.lexicalConceptForm.get('defaultLabel').valueChanges.pipe(debounceTime(1000), startWith(this.lexicalConceptForm.get('defaultLabel').value), pairwise(), takeUntil(this.destroy$)).subscribe(([prev, next]: [any, any]) => {\n      if (next != null) {\n        let parameters = {\n          relation: \"http://www.w3.org/2004/02/skos/core#prefLabel\",\n          source: this.object.lexicalConcept,\n          target: next,\n          oldTarget: prev == null ? this.object.defaultLabel : prev,\n          targetLanguage: this.object.language,\n          oldTargetLanguage: this.object.language\n        }\n\n\n        this.conceptService.updateSkosLabel(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n          data => {\n            console.log(data)\n          }, error => {\n            console.log(error);\n\n            //this.lexicalService.changeDecompLabel(next)\n            if (error.status != 200) {\n              this.toastr.error(error.error, 'Error', {\n                timeOut: 5000,\n              });\n            } else {\n              const data = this.object;\n              data['request'] = 0;\n              data['new_label'] = next;\n              this.lexicalService.refreshAfterEdit(data);\n              this.lexicalService.spinnerAction('off');\n              this.lexicalService.updateCoreCard({ lastUpdate: error.error.text });\n              this.toastr.success('Label changed correctly for ' + this.object.lexicalConcept, '', {\n                timeOut: 5000,\n              });\n            }\n          }\n        )\n      }\n    })\n\n    this.lexicalConceptForm.get('definition').valueChanges.pipe(debounceTime(1000), startWith(this.lexicalConceptForm.get('definition').value), pairwise(), takeUntil(this.destroy$)).subscribe(([prev, next]: [any, any]) => {\n      if (next != null) {\n        let parameters = {\n          relation: \"http://www.w3.org/2004/02/skos/core#definition\",\n          source: this.object.lexicalConcept,\n          target: next,\n          oldTarget: prev == null ? this.object.definition : prev,\n          targetLanguage: this.object.language,\n          oldTargetLanguage: this.object.language\n        }\n\n\n        this.conceptService.updateNoteProperty(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n          data => {\n            console.log(data)\n          }, error => {\n            console.log(error);\n\n            //this.lexicalService.changeDecompLabel(next)\n            if (error.status != 200) {\n              this.toastr.error(error.error, 'Error', {\n                timeOut: 5000,\n              });\n            } else {\n\n              this.lexicalService.spinnerAction('off');\n              this.lexicalService.updateCoreCard({ lastUpdate: error.error.text });\n              this.toastr.success('Definition changed correctly for ' + this.object.lexicalConcept, '', {\n                timeOut: 5000,\n              });\n              this.lexicalConceptForm.get('definition').setValue(next, { emitEvent: false });\n            }\n          }\n        )\n      }\n    })\n  }\n\n  onSearchFilter(data) {\n    this.searchResults = [];\n\n    let value = data.value;\n    let index = data.index;\n\n    this.isEvokedByArray = this.lexicalConceptForm.get('isEvokedBy') as FormArray;\n\n    let parameters = {\n      text: value,\n      searchMode: \"startsWith\",\n      type: \"\",\n      pos: \"\",\n      formType: \"entry\",\n      author: \"\",\n      lang: \"\",\n      status: \"\",\n      offset: 0,\n      limit: 500\n    }\n\n    /* && data.length >= 3 */\n    this.lexicalService.getLexicalEntriesList(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n      data => {\n        console.log(data)\n\n        if (data.list.length > 0) {\n          let filter_lang = data.list.filter(\n            element => element.language != 'null'\n          )\n\n          console.log(filter_lang)\n          this.searchResults = filter_lang;\n        } else {\n          let filter_lang = [];\n          this.searchResults = filter_lang;\n        }\n\n      }, error => {\n        //console.log(error)\n      }\n    )\n  }\n\n  onSearchFilterLexicalizedSense(data) {\n    this.searchResultsSenses = [];\n\n    let value = data.value;\n    let index = data.index;\n\n    this.isEvokedByArray = this.lexicalConceptForm.get('isEvokedBy') as FormArray;\n\n    let parameters = {\n      text: value,\n      searchMode: \"startsWith\",\n      type: \"\",\n      field: \"\",\n      pos: \"\",\n      formType: \"entry\",\n      author: \"\",\n      lang: \"\",\n      status: \"\",\n      offset: 0,\n      limit: 500\n    }\n\n    /* && data.length >= 3 */\n    this.lexicalService.getLexicalSensesList(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n      data => {\n        console.log(data)\n\n        if (data.list.length > 0) {\n          let filter_lang = data.list.filter(\n            element => element.language != 'null'\n          )\n\n          console.log(filter_lang)\n          this.searchResultsSenses = filter_lang;\n        } else {\n        }\n\n      }, error => {\n        //console.log(error)\n      }\n    )\n  }\n\n\n  triggerIsEvokedBy(evt, i) {\n    console.log(evt)\n    if (evt.target != undefined) {\n\n      this.evokedBySubject.next({ value: evt.target.value, index: i })\n    }\n  }\n\n  triggerLexicalizedSense(evt, i) {\n    console.log(evt)\n    if (evt.target != undefined) {\n\n      this.lexicalizedSenseSubject.next({ value: evt.target.value, index: i })\n    }\n  }\n\n  handleIsEvokedBy(evt, i) {\n\n    if (evt instanceof NgSelectComponent) {\n      if (evt.selectedItems.length > 0) {\n        console.log(evt.selectedItems[0])\n\n        let entity = evt.selectedItems[0].value['lexicalEntry'];\n        let label = evt.selectedItems[0].value['label'];\n        this.onChangeIsEvokedBy({ name: entity, i: i, label: label })\n      }\n    }\n  }\n\n  handleLexicalizedSense(evt, i) {\n\n    if (evt instanceof NgSelectComponent) {\n      if (evt.selectedItems.length > 0) {\n        console.log(evt.selectedItems[0])\n\n        let entity = evt.selectedItems[0].value['sense'];\n        let label = evt.selectedItems[0].value['lemma'];\n        this.onChangeLexicalizedSense({ name: entity, i: i, label: label })\n      }\n    }\n  }\n\n  onChangeIsEvokedBy(data) {\n    var index = data['i'];\n    this.isEvokedByArray = this.lexicalConceptForm.get(\"isEvokedBy\") as FormArray;\n\n    let existOrNot = this.memoryIsEvokedBy.some(element => element?.entity == data.name || element?.name == data.name)\n\n    if (this.memoryIsEvokedBy[index] == undefined && !existOrNot) {\n      let newValue = data.name;\n\n\n      const parameters = {\n        type: \"conceptRel\",\n        relation: \"http://www.w3.org/ns/lemon/ontolex#isEvokedBy\",\n        value: newValue\n      }\n      console.log(parameters)\n      let conceptId = this.object.lexicalConcept;\n      this.lexicalService.updateLinguisticRelation(conceptId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data);\n          this.lexicalService.spinnerAction('off');\n          data['request'] = 0;\n          this.lexicalService.refreshAfterEdit(data);\n          this.lexicalService.updateCoreCard(data)\n          this.disableAddIsEvokedBy = false;\n        }, error => {\n          console.log(error)\n\n          /* this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n          }); */\n          this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n          this.lexicalService.spinnerAction('off');\n          if (error.status == 200) {\n            this.disableAddIsEvokedBy = false;\n            this.toastr.success('Lexical concept added correctly for ' + conceptId, '', {\n              timeOut: 5000,\n            });\n          } else {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n\n          }\n\n\n          this.isEvokedByArray.at(index).get('label').setValue(data.label, { emitEvent: false });\n          this.isEvokedByArray.at(index).get('entity').setValue(data.name, { emitEvent: false });\n          this.isEvokedByArray.at(index).get('type').setValue('internal', { emitEvent: false });\n          this.isEvokedByArray.at(index).get('inferred').setValue(false, { emitEvent: false });\n\n\n\n        }\n      )\n      this.memoryIsEvokedBy[index] = data;\n\n\n    } else if (this.memoryIsEvokedBy[index] != undefined) {\n      const oldValue = this.memoryIsEvokedBy[index]['entity'] == undefined ? this.memoryIsEvokedBy[index]['instance_name'] : this.memoryIsEvokedBy[index]['entity']\n      const newValue = data['name']\n      const parameters = {\n        type: \"conceptRel\",\n        relation: \"http://www.w3.org/ns/lemon/ontolex#isEvokedBy\",\n        value: newValue,\n        currentValue: oldValue\n      }\n\n      let conceptId = this.object.lexicalConcept;\n      console.log(parameters)\n      this.lexicalService.updateLinguisticRelation(conceptId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data);\n          this.lexicalService.spinnerAction('off');\n          this.lexicalService.updateCoreCard(data)\n          data['request'] = 0;\n          this.lexicalService.refreshAfterEdit(data);\n        }, error => {\n          console.log(error)\n          const data = this.object;\n          data['request'] = 0;\n\n          //this.lexicalService.refreshAfterEdit(data);\n          this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n          this.lexicalService.spinnerAction('off');\n          if (error.status == 200) {\n            this.toastr.success('Lexical Concept changed correctly for ' + conceptId, '', {\n              timeOut: 5000,\n            });\n          } else {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n          }\n        }\n      )\n      this.memoryIsEvokedBy[index] = data;\n    } else if (existOrNot) {\n      this.toastr.error('This lexical concept already exist in this lexical entry', 'Error', {\n        timeOut: 5000\n      })\n    }\n\n\n  }\n\n  onChangeLexicalizedSense(data) {\n    var index = data['i'];\n    this.lexicalizedSensesArray = this.lexicalConceptForm.get(\"lexicalizedSenses\") as FormArray;\n\n    let existOrNot = this.memoryLexicalizedSenses.some(element => element?.entity == data.name || element?.name == data.name)\n\n    if (this.memoryLexicalizedSenses[index] == undefined && !existOrNot) {\n      let newValue = data.name;\n\n\n      const parameters = {\n        type: \"conceptRel\",\n        relation: \"http://www.w3.org/ns/lemon/ontolex#lexicalizedSense\",\n        value: newValue\n      }\n      console.log(parameters)\n      let conceptId = this.object.lexicalConcept;\n      this.lexicalService.updateLinguisticRelation(conceptId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data);\n          this.lexicalService.spinnerAction('off');\n          data['request'] = 0;\n          this.lexicalService.refreshAfterEdit(data);\n          this.lexicalService.updateCoreCard(data)\n          this.disableAddLexicalizedSense = false;\n        }, error => {\n          console.log(error)\n\n          /* this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n          }); */\n          this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n          this.lexicalService.spinnerAction('off');\n          if (error.status == 200) {\n            this.disableAddLexicalizedSense = false;\n            this.toastr.success('Lexicalized sense added correctly for ' + conceptId, '', {\n              timeOut: 5000,\n            });\n            this.lexicalizedSensesArray.at(index).get('label').setValue(data.label, { emitEvent: false });\n            this.lexicalizedSensesArray.at(index).get('entity').setValue(data.name, { emitEvent: false });\n            this.lexicalizedSensesArray.at(index).get('type').setValue('internal', { emitEvent: false });\n            this.lexicalizedSensesArray.at(index).get('inferred').setValue(false, { emitEvent: false });\n          } else {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n\n          }\n\n\n          \n\n\n\n        }\n      )\n      this.memoryLexicalizedSenses[index] = data;\n\n\n    } else if (this.memoryLexicalizedSenses[index] != undefined) {\n      const oldValue = this.memoryLexicalizedSenses[index]['entity'] == undefined ? this.memoryLexicalizedSenses[index]['name'] : this.memoryLexicalizedSenses[index]['entity']\n      const newValue = data['name']\n      const parameters = {\n        type: \"conceptRel\",\n        relation: \"http://www.w3.org/ns/lemon/ontolex#lexicalizedSense\",\n        value: newValue,\n        currentValue: oldValue\n      }\n      let raw_data = data;\n      let conceptId = this.object.lexicalConcept;\n      console.log(parameters)\n      this.lexicalService.updateLinguisticRelation(conceptId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data);\n          this.lexicalService.spinnerAction('off');\n          this.lexicalService.updateCoreCard(data)\n          data['request'] = 0;\n          this.lexicalService.refreshAfterEdit(data);\n        }, error => {\n          console.log(error)\n          const data = raw_data;\n          data['request'] = 0;\n\n          //this.lexicalService.refreshAfterEdit(data);\n          this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n          this.lexicalService.spinnerAction('off');\n          if (error.status == 200) {\n            this.toastr.success('Lexicalized sense changed correctly for ' + conceptId, '', {\n              timeOut: 5000,\n            });\n            this.lexicalizedSensesArray.at(index).get('label').setValue(data.label, { emitEvent: false });\n            this.lexicalizedSensesArray.at(index).get('entity').setValue(data.name, { emitEvent: false });\n            this.lexicalizedSensesArray.at(index).get('type').setValue('internal', { emitEvent: false });\n            this.lexicalizedSensesArray.at(index).get('inferred').setValue(false, { emitEvent: false });\n          } else {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n          }\n        }\n      )\n      this.memoryLexicalizedSenses[index] = data;\n    } else if (existOrNot) {\n      this.toastr.error('This lexicalized sense already exist in this lexical entry', 'Error', {\n        timeOut: 5000\n      })\n    }\n\n\n  }\n\n  addIsEvokedBy(entity?, type?, inferred?, label?) {\n    this.isEvokedByArray = this.lexicalConceptForm.get('isEvokedBy') as FormArray;\n    if (entity != undefined) {\n      this.isEvokedByArray.push(this.createIsEvokedBy(entity, type, inferred, label));\n    } else {\n      this.disableAddIsEvokedBy = true;\n      this.isEvokedByArray.push(this.createIsEvokedBy());\n    }\n  }\n\n  addLexicalizedSense(entity?, type?, inferred?, label?) {\n    this.lexicalizedSensesArray = this.lexicalConceptForm.get('lexicalizedSenses') as FormArray;\n    if (entity != undefined) {\n      this.lexicalizedSensesArray.push(this.createLexicalizedSense(entity, type, inferred, label));\n    } else {\n      this.disableAddIsEvokedBy = true;\n      this.lexicalizedSensesArray.push(this.createLexicalizedSense());\n    }\n  }\n\n  createIsEvokedBy(e?, t?, i?, l?): FormGroup {\n\n    if (e != undefined) {\n      return this.formBuilder.group({\n        entity: e,\n        inferred: i,\n        label: l,\n        type: t,\n      })\n    } else {\n      return this.formBuilder.group({\n        entity: new FormControl(''),\n        inferred: new FormControl(false),\n        label: new FormControl(''),\n        type: new FormControl(''),\n      })\n    }\n  }\n\n  createLexicalizedSense(e?, t?, i?, l?): FormGroup {\n\n    if (e != undefined) {\n      return this.formBuilder.group({\n        entity: e,\n        inferred: i,\n        label: l,\n        type: t,\n      })\n    } else {\n      return this.formBuilder.group({\n        entity: new FormControl(''),\n        inferred: new FormControl(false),\n        label: new FormControl(''),\n        type: new FormControl(''),\n      })\n    }\n  }\n\n  removeLexicalizedSense(index) {\n    this.lexicalizedSensesArray = this.lexicalConceptForm.get('lexicalizedSenses') as FormArray;\n\n    this.disableAddLexicalizedSense = false;\n    const entity = this.lexicalizedSensesArray.at(index).get('entity').value;\n\n    let conceptId = this.object.lexicalConcept;\n\n    let parameters = {\n      relation: 'http://www.w3.org/ns/lemon/ontolex#lexicalizedSense',\n      value: entity\n    }\n\n\n    if (entity != '') {\n      this.lexicalService.deleteLinguisticRelation(conceptId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data)\n          this.lexicalService.updateCoreCard(this.object);\n          this.toastr.success(\"Relation removed\", '', {\n            timeOut: 5000,\n          });\n\n        }, error => {\n          console.log(error)\n          //this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n          if (error.status == 200) {\n            this.toastr.success('Relation removed', '', {\n              timeOut: 5000,\n            });\n          } else {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n          }\n\n        }\n      )\n    }\n\n\n    this.lexicalizedSensesArray.removeAt(index);\n\n    this.memoryLexicalizedSenses.splice(index, 1)\n  }\n\n  removeIsEvokedBy(index) {\n    this.isEvokedByArray = this.lexicalConceptForm.get('isEvokedBy') as FormArray;\n\n    this.disableAddIsEvokedBy = false;\n    const entity = this.isEvokedByArray.at(index).get('entity').value;\n\n    let conceptId = this.object.lexicalConcept;\n\n    let parameters = {\n      relation: 'http://www.w3.org/ns/lemon/ontolex#isEvokedBy',\n      value: entity\n    }\n\n\n    if (entity != '') {\n      this.lexicalService.deleteLinguisticRelation(conceptId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data)\n          this.lexicalService.updateCoreCard(this.object);\n          this.toastr.success(\"Relation removed\", '', {\n            timeOut: 5000,\n          });\n\n        }, error => {\n          console.log(error)\n          //this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n          if (error.status == 200) {\n            this.toastr.success('Relation removed', '', {\n              timeOut: 5000,\n            });\n          } else {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n          }\n\n        }\n      )\n    }\n\n\n    this.isEvokedByArray.removeAt(index);\n\n    this.memoryIsEvokedBy.splice(index, 1)\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n\n}\n\n","\n\n<form [formGroup]=\"lexicalConceptForm\" *ngIf=\"object!=null\">\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <label for=\"inputLabel\" class=\"col-xl-3 col-form-label\">Pref label:</label>\n        <div class=\"input-group col-xl-7\">\n            <input formControlName=\"defaultLabel\" name=\"defaultLabel\" type=\"text\" class=\"form-control\" placeholder=\"\">\n            <div class=\"input-group-append\">\n                <span class=\"input-group-text\" id=\"basic-addon2\" style=\"font-size: .75rem; font-weight: 900;\">@{{object.language}}</span>\n            </div>\n        </div>\n    </div>    \n\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <label for=\"inputLabel\" class=\"col-xl-3 col-form-label\">Definition:</label>\n        <div class=\"input-group col-xl-8\">\n            <textarea formControlName=\"definition\" name=\"definition\" class=\"form-control\" style=\"resize: none;\"></textarea>\n        </div>\n    </div>\n\n\n    <!-- IS EVOKED BY -->\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <div class=\"input-group col-xl-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>IS EVOKED BY</b></span>\n                <a class=\"pointer\" [ngClass]=\"{no_pointer: disableAddIsEvokedBy}\" (click)=\"addIsEvokedBy()\"><span class=\"collapse-icon\"><i\n                    class=\"fa fa-plus-square\"></i></span></a>\n\n                <div class=\"card-body\">\n                    <div class=\"form-group row ml-2 mt-3 mr-2\" formArrayName=\"isEvokedBy\" *ngFor=\"let isEvoked of lexicalConceptForm.get('isEvokedBy')['controls']; let i = index\">\n                        \n                        <div class=\"input-group col-xl-12\" [formGroupName]=\"i\">\n                            \n                            <ng-select #select_evokedby formControlName=\"label\" name=\"label\" [items]=\"searchResults\" \n                                (keyup)=\"triggerIsEvokedBy($event, i)\" (change)=\"handleIsEvokedBy(select_evokedby, i)\"\n                                [searchable]=\"!isEvoked.get('inferred').value\"\n                                bindValue=\"label\" bindLabel=\"label\" placeholder=\"Search entity\" appendTo=\"body\" [clearable]=\"false\"\n                                >\n                                \n                                <ng-template ng-option-tmp let-item=\"item\" let-search=\"searchTerm\">\n                                    <div>\n                                        <span>{{item.label}} </span><span style=\"color: blue;\">@{{item.language}}</span>\n                                    </div>\n\n                                </ng-template>\n                            </ng-select>\n                            \n                            \n                            <div class=\"input-group-append ml-2\">\n                                <button (click)=\"removeIsEvokedBy(i)\" class=\"btn btn-danger\" type=\"button\" *ngIf=\"!isEvoked.get('inferred').value\"><i\n                                        class=\"fa fa-trash-alt\"></i></button>\n                            </div>\n                        </div>\n                    </div>\n                   \n                </div>\n            </div>\n        </div>\n    </div>\n    \n    <!-- LEXICALIZED SENSES -->\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <div class=\"input-group col-xl-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>LEXICALIZED SENSES</b></span>\n                <a class=\"pointer\" [ngClass]=\"{no_pointer: disableAddLexicalizedSense}\" (click)=\"addLexicalizedSense()\"><span class=\"collapse-icon\"><i\n                    class=\"fa fa-plus-square\"></i></span></a>\n\n                <div class=\"card-body\">\n                    <div class=\"form-group row ml-2 mt-3 mr-2\" formArrayName=\"lexicalizedSenses\" *ngFor=\"let lexicalizedSense of lexicalConceptForm.get('lexicalizedSenses')['controls']; let i = index\">\n                        \n                        <div class=\"input-group col-xl-12\" [formGroupName]=\"i\">\n                            \n                            <ng-select #select_lexicalizedSense formControlName=\"label\" name=\"label\" [items]=\"searchResultsSenses\" \n                                (keyup)=\"triggerLexicalizedSense($event, i)\" (change)=\"handleLexicalizedSense(select_lexicalizedSense, i)\"\n                                [searchable]=\"!lexicalizedSense.get('inferred').value\"\n                                bindValue=\"lemma\" bindLabel=\"lemma\" placeholder=\"Search entity\" appendTo=\"body\" [clearable]=\"false\"\n                                >\n                                \n                                <ng-template ng-option-tmp let-item=\"item\" let-search=\"searchTerm\">\n                                    <div>\n                                        <span>{{item.lemma}} </span><br>\n                                        <sub style=\"color: blue;\">@{{item.label}}</sub>\n                                    </div>\n\n                                </ng-template>\n                            </ng-select>\n                            \n                            \n                            <div class=\"input-group-append ml-2\">\n                                <button (click)=\"removeLexicalizedSense(i)\" class=\"btn btn-danger\" type=\"button\" *ngIf=\"!lexicalizedSense.get('inferred').value\"><i\n                                        class=\"fa fa-trash-alt\"></i></button>\n                            </div>\n                        </div>\n                    </div>\n                   \n                </div>\n            </div>\n        </div>\n    </div>\n</form>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, Input, OnDestroy, OnInit, SimpleChanges } from '@angular/core';\nimport { FormArray, FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Subject, Subscription } from 'rxjs';\nimport { debounceTime, pairwise, startWith, take, takeUntil } from 'rxjs/operators';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\nimport { ToastrService } from 'ngx-toastr';\nimport { NgSelectComponent } from '@ng-select/ng-select';\nimport { ConceptService } from 'src/app/services/concept/concept.service';\n\n\n@Component({\n  selector: 'app-sense-core-form',\n  templateUrl: './sense-core-form.component.html',\n  styleUrls: ['./sense-core-form.component.scss']\n})\nexport class SenseCoreFormComponent implements OnInit, OnDestroy {\n\n  @Input() senseData: any;\n\n  private subject_def: Subject<any> = new Subject();\n  private subject_ex_def: Subject<any> = new Subject();\n\n  switchInput = false;\n  subscription: Subscription;\n  object: any;\n  peopleLoading = false;\n  counter = 0;\n\n  disableAddDef = false;\n\n  definitionData = [];\n  definitionMemory = [];\n\n  memoryConfidence = null;\n\n  staticDef = [];\n\n  senseCore = new FormGroup({\n    definition: new FormArray([this.createDefinition()]),\n    confidence: new FormControl(null),\n    usage: new FormControl('', [Validators.required, Validators.minLength(5)]),\n    topic: new FormControl('', [Validators.required, Validators.minLength(5)]),\n    reference: new FormArray([this.createReference()]),\n    lexical_concept: new FormArray([]),\n    sense_of: new FormControl('', [Validators.required, Validators.minLength(5)])\n  })\n\n  definitionArray: FormArray;\n  lexicalConceptArray: FormArray;\n\n  subject_def_subscription: Subscription;\n  subject_ex_def_subscription: Subscription;\n  destroy$: Subject<boolean> = new Subject();\n  searchResults: any[] = [];\n  filterLoading: boolean = false;\n  lexical_concept_subject: Subject<any> = new Subject();\n  memoryLexicalConcept: any[] = [];\n  disableAddLexicalConcept: boolean;\n\n  constructor(private lexicalService: LexicalEntriesService,\n    private formBuilder: FormBuilder,\n    private toastr: ToastrService,\n    private conceptService: ConceptService) { }\n\n  ngOnInit() {\n    setTimeout(() => {\n      //@ts-ignore\n      $('.denotes-tooltip').tooltip({\n        trigger: 'hover'\n      });\n    }, 1000);\n    this.loadPeople();\n\n    this.subject_def_subscription = this.subject_def.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      data => {\n        this.onChangeDefinition(data)\n      }\n    )\n\n    this.subject_ex_def_subscription = this.subject_ex_def.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      data => {\n        this.onChangeExistingDefinition(data['evt'], data['i'])\n      }\n    )\n\n    this.lexical_concept_subject.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      data => {\n        this.onSearchFilter(data)\n      }\n    )\n\n    this.senseCore = this.formBuilder.group({\n      definition: this.formBuilder.array([]),\n      confidence: false,\n      usage: '',\n      topic: '',\n      reference: this.formBuilder.array([this.createReference()]),\n      lexical_concept: this.formBuilder.array([]),\n      sense_of: ''\n    })\n\n    this.onChanges();\n\n  }\n\n  private loadPeople() {\n    /* this.peopleLoading = true;\n    this.dataService.getPeople().subscribe(x => {\n      this.people = x;\n      this.peopleLoading = false;\n    }); */\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    setTimeout(() => {\n      if (this.object != changes.senseData.currentValue) {\n        this.lexicalConceptArray = this.senseCore.get('lexical_concept') as FormArray;\n        this.lexicalConceptArray.clear();\n\n        this.definitionArray = this.senseCore.get('definition') as FormArray;\n        this.definitionArray.clear();\n\n        this.staticDef = [];\n        this.memoryLexicalConcept = [];\n        this.memoryConfidence = [];\n      }\n      this.object = changes.senseData.currentValue;\n      if (this.object != null) {\n\n        this.definitionData = [];\n        this.definitionMemory = [];\n\n        for (var i = 0; i < this.object.definition.length; i++) {\n          const pId = this.object.definition[i]['propertyID'];\n          const pVal = this.object.definition[i]['propertyValue'];\n          this.definitionData.push(pId);\n\n          if (pId == 'definition' && pVal == '') {\n            this.definitionMemory.push(pId);\n            this.addDefinition(pId, pVal)\n\n            this.staticDef.push({ trait: pId, value: pVal })\n          }\n\n          if (pVal != '') {\n            this.definitionMemory.push(pId);\n            this.addDefinition(pId, pVal)\n\n            this.staticDef.push({ trait: pId, value: pVal })\n          }\n        }\n        //console.log(this.object)\n        if (this.object.confidence == 0) {\n          this.senseCore.get('confidence').setValue(true, { emitEvent: false });\n        } else {\n          this.senseCore.get('confidence').setValue(false, { emitEvent: false });\n        }\n        this.senseCore.get('topic').setValue(this.object.topic, { emitEvent: false })\n        this.senseCore.get('usage').setValue(this.object.usage, { emitEvent: false });\n        /* this.addLexicalConcept(this.object.concept); */\n        this.senseCore.get('sense_of').setValue(this.object.sense, { emitEvent: false });\n        const senseId = this.object.sense;\n        this.lexicalService.getLexEntryLinguisticRelation(senseId, 'isLexicalizedSenseOf').pipe(takeUntil(this.destroy$)).subscribe(\n          data => {\n            console.log(data)\n            for (var i = 0; i < data.length; i++) {\n              let entity = data[i]['entity'];\n              let type = data[i]['linkType'];\n              let label = data[i]['label'];\n              let inferred = data[i]['inferred'];\n              this.addLexicalConcept(entity, type, inferred, label);\n              this.memoryLexicalConcept.push(data[i])\n            }\n          }, error => {\n            console.log(error)\n          }\n        )\n      }\n    }, 10)\n  }\n\n\n  onChanges(): void {\n    this.senseCore.get('usage').valueChanges.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(newDef => {\n      this.lexicalService.spinnerAction('on');\n      let senseId = this.object.sense;\n      let parameters = {\n        relation: \"http://www.w3.org/ns/lemon/ontolex#usage\",\n        value: newDef\n      }\n      this.lexicalService.updateSense(senseId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data)\n          this.lexicalService.spinnerAction('off');\n          //this.lexicalService.refreshLexEntryTree();\n          this.lexicalService.updateCoreCard(this.object)\n        }, error => {\n          console.log(error)\n          //this.lexicalService.refreshLexEntryTree();\n          this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n          this.lexicalService.spinnerAction('off');\n          if (error.status != 200) {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n          } else {\n            this.toastr.success('Sense usage changed', '', {\n              timeOut: 5000,\n            });\n          }\n        }\n      )\n    })\n\n    this.senseCore.get('confidence').valueChanges.pipe(debounceTime(100), startWith(this.senseCore.get('confidence').value), pairwise(), takeUntil(this.destroy$)).subscribe(([prev, next]: [any, any]) => {\n      let confidence_value = null;\n      console.log(confidence_value);\n      let senseId = this.object.sense;\n\n      this.senseCore.get('confidence').setValue(next, { emitEvent: false });\n\n      let oldValue = prev ? 0 : 1;\n      let newValue = next ? 0 : 1;\n      let parameters = {\n        relation: 'http://www.lexinfo.net/ontology/3.0/lexinfo#confidence',\n        value: newValue\n      };\n\n\n      //if (this.memoryConfidence != null) parameters['currentValue'] = oldValue;\n      this.memoryConfidence = oldValue;\n\n      this.lexicalService.updateSense(senseId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data)\n        },\n        error => {\n          if (error.status == 200) this.toastr.success('Confidence updated', '', { timeOut: 5000 })\n          if (error.status != 200) this.toastr.error(error.error, '', { timeOut: 5000 })\n        }\n      )\n\n    });\n\n    this.senseCore.get('topic').valueChanges.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(newTopic => {\n      if (newTopic.trim() != '') {\n        this.lexicalService.spinnerAction('on');\n        let senseId = this.object.sense;\n        let parameters = {\n          relation: \"http://purl.org/dc/terms/subject\",\n          value: newTopic\n        }\n        this.lexicalService.updateSense(senseId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n          data => {\n            console.log(data)\n            this.lexicalService.spinnerAction('off');\n            //this.lexicalService.refreshLexEntryTree();\n            this.lexicalService.updateCoreCard(this.object)\n            this.toastr.success('Sense topic changed', '', {\n              timeOut: 5000,\n            });\n\n          }, error => {\n            console.log(error)\n            //this.lexicalService.refreshLexEntryTree();\n            this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n            this.lexicalService.spinnerAction('off');\n            if (typeof (error.error) != 'object') {\n              this.toastr.error(error.error, 'Error', {\n                timeOut: 5000,\n              });\n            }\n\n          }\n        )\n      }\n\n    })\n\n    this.senseCore.get('reference').valueChanges.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(newDef => {\n      this.lexicalService.spinnerAction('on');\n      let senseId = this.object.sense;\n      let parameters = {\n        relation: \"http://www.w3.org/ns/lemon/ontolex#reference\",\n        value: newDef[0]['entity']\n      }\n      //console.log(senseId)\n      console.log(parameters);\n      this.lexicalService.updateSense(senseId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data)\n          this.lexicalService.spinnerAction('off');\n          //this.lexicalService.refreshLexEntryTree();\n          this.lexicalService.updateCoreCard(this.object)\n        }, error => {\n          console.log(error)\n          //this.lexicalService.refreshLexEntryTree();\n          this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n          this.lexicalService.spinnerAction('off');\n          if (error.status != 200) {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n          } else {\n            this.toastr.success('Sense reference changed', '', {\n              timeOut: 5000,\n            });\n          }\n        }\n      )\n    })\n  }\n\n  onChangeDefinitionTrait(evt, i) {\n\n    setTimeout(() => {\n      this.definitionArray = this.senseCore.get('definition') as FormArray;\n      this.definitionArray.at(i).patchValue({ propertyID: evt.target.value, propertyValue: \"\" });\n      if (evt.target.value != '') {\n\n        this.definitionMemory[i] = evt.target.value;\n      } else {\n\n        this.definitionMemory.splice(i, 1)\n      }\n\n\n\n    }, 250);\n  }\n\n  createReference() {\n    return this.formBuilder.group({\n      entity: new FormControl(null, [Validators.required, Validators.minLength(5)])\n    })\n  }\n\n  addDefinition(pId?, pVal?) {\n    this.definitionArray = this.senseCore.get('definition') as FormArray;\n    if (pId != undefined) {\n      this.definitionArray.push(this.createDefinition(pId, pVal));\n    } else {\n      this.disableAddDef = true;\n      this.definitionArray.push(this.createDefinition());\n    }\n  }\n\n  removeDefinition(index) {\n    const definitionArray = this.senseCore.get('definition') as FormArray;\n\n    const trait = this.definitionArray.at(index).get('propertyID').value;\n    const value = this.definitionArray.at(index).get('propertyValue').value;\n\n    //console.log(trait + value)\n\n    if (trait != null) {\n\n      let senseId = this.object.sense;\n\n      let parameters = {\n        relation: 'http://www.lexinfo.net/ontology/3.0/lexinfo#' + trait,\n        value: value\n      }\n\n      this.lexicalService.deleteLinguisticRelation(senseId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data)\n          this.lexicalService.updateCoreCard(this.object)\n\n          this.toastr.success('Sense definition deleted', '', {\n            timeOut: 5000,\n          });\n\n        }, error => {\n          console.log(error);\n          this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n          if (typeof (error.error) != 'object') {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n          }\n        }\n      )\n    } else {\n      this.disableAddDef = false;\n    }\n    this.definitionMemory.splice(index, 1);\n    this.staticDef.splice(index, 1);\n    definitionArray.removeAt(index)\n  }\n\n  debounceExistingKeyup(evt, i) {\n    this.lexicalService.spinnerAction('on');\n    this.subject_ex_def.next({ evt, i })\n  }\n\n  debounceKeyup(evt, i) {\n    this.lexicalService.spinnerAction('on');\n    this.subject_def.next({ evt, i })\n  }\n\n  createDefinition(pId?, pVal?) {\n    if (pId != undefined) {\n      return this.formBuilder.group({\n        propertyID: new FormControl(pId, [Validators.required, Validators.minLength(0)]),\n        propertyValue: new FormControl(pVal, [Validators.required, Validators.minLength(0)])\n      })\n    } else {\n      return this.formBuilder.group({\n        propertyID: new FormControl(null, [Validators.required, Validators.minLength(0)]),\n        propertyValue: new FormControl(null, [Validators.required, Validators.minLength(0)])\n      })\n    }\n\n  }\n\n  onSearchFilter(data) {\n    this.filterLoading = true;\n    this.searchResults = [];\n\n    let value = data.value;\n    let index = data.index;\n\n    this.lexicalConceptArray = this.senseCore.get('lexical_concept') as FormArray;\n\n    if (this.object.sense != undefined) {\n      let parameters = {\n        text: value,\n        searchMode: \"startsWith\",\n        labelType: \"prefLabel\",\n        author: \"\",\n        offset: 0,\n        limit: 500\n      }\n\n      /* && data.length >= 3 */\n\n      this.conceptService.conceptFilter(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data)\n\n          if (data.list.length > 0) {\n            let filter_lang = [];\n            filter_lang = data.list.filter(\n              element => element.language != 'null'\n            )\n\n            console.log(filter_lang)\n            this.searchResults = filter_lang;\n            this.filterLoading = false;\n          } else {\n            this.filterLoading = false;\n          }\n\n        }, error => {\n          //console.log(error)\n          this.filterLoading = false;\n        }\n      )\n\n    } else {\n      this.filterLoading = false;\n\n\n    }\n\n  }\n\n  triggerLexicalConcept(evt, i) {\n    console.log(evt)\n    if (evt.target != undefined) {\n\n      this.lexical_concept_subject.next({ value: evt.target.value, index: i })\n    }\n  }\n\n  handleLexicalConcept(evt, i) {\n\n    if (evt instanceof NgSelectComponent) {\n      if (evt.selectedItems.length > 0) {\n        console.log(evt.selectedItems[0])\n\n        let label = evt.selectedItems[0].value['lexicalConcept'];\n        let prefLabel = evt.selectedItems[0].value['defaultLabel'];\n        \n        this.onChangeLexicalConcept({ name: label, i: i, defaultLabel: prefLabel })\n      }\n    } else {\n      let label = evt.target.value;\n      this.lexical_concept_subject.next({ name: label, i: i })\n    }\n  }\n\n  onChangeLexicalConcept(data) {\n    var index = data['i'];\n    this.lexicalConceptArray = this.senseCore.get(\"lexical_concept\") as FormArray;\n    let existOrNot = this.memoryLexicalConcept.some(element => element?.entity == data.name || element?.name == data.name)\n\n    if (this.memoryLexicalConcept[index] == undefined && !existOrNot) {\n      let newValue = data.name;\n\n\n      const parameters = {\n        type: \"conceptRel\",\n        relation: \"http://www.w3.org/ns/lemon/ontolex#isLexicalizedSenseOf\",\n        value: newValue\n      }\n      console.log(parameters)\n      let senseId = this.object.sense;\n      this.lexicalService.updateLinguisticRelation(senseId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data);\n          this.lexicalService.spinnerAction('off');\n          data['request'] = 0;\n          this.lexicalService.refreshAfterEdit(data);\n          this.lexicalService.updateCoreCard(data)\n          this.disableAddLexicalConcept = false;\n        }, error => {\n          console.log(error)\n\n          /* this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n          }); */\n          this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n          this.lexicalService.spinnerAction('off');\n          if (error.status == 200) {\n            this.disableAddLexicalConcept = false;\n            this.toastr.success('Lexical concept added correctly for ' + senseId, '', {\n              timeOut: 5000,\n            });\n            this.lexicalConceptArray.at(index).get('label').setValue(data.defaultLabel, { emitEvent: false });\n            this.lexicalConceptArray.at(index).get('entity').setValue(data.name, { emitEvent: false });\n            this.lexicalConceptArray.at(index).get('type').setValue('internal', { emitEvent: false });\n            this.lexicalConceptArray.at(index).get('inferred').setValue(false, { emitEvent: false });\n          } else {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n\n          }\n\n\n          \n\n\n\n        }\n      )\n      this.memoryLexicalConcept[index] = data;\n\n\n    } else if (this.memoryLexicalConcept[index] != undefined) {\n      const oldValue = this.memoryLexicalConcept[index]['entity'] == undefined ? this.memoryLexicalConcept[index]['name'] : this.memoryLexicalConcept[index]['entity']\n      const newValue = data['name']\n      const parameters = {\n        type: \"conceptRel\",\n        relation: \"http://www.w3.org/ns/lemon/ontolex#isLexicalizedSenseOf\",\n        value: newValue,\n        currentValue: oldValue\n      }\n\n      let senseId = this.object.sense;\n      console.log(parameters);\n\n      let raw_data = data;\n      this.lexicalService.updateLinguisticRelation(senseId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data);\n          this.lexicalService.spinnerAction('off');\n          this.lexicalService.updateCoreCard(data)\n          data['request'] = 0;\n          this.lexicalService.refreshAfterEdit(data);\n        }, error => {\n          console.log(error)\n          const data = raw_data;\n          data['request'] = 0;\n\n          //this.lexicalService.refreshAfterEdit(data);\n          this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n          this.lexicalService.spinnerAction('off');\n          if (error.status == 200) {\n            this.toastr.success('Lexical Concept changed correctly for ' + senseId, '', {\n              timeOut: 5000,\n            });\n\n            this.lexicalConceptArray.at(index).get('label').setValue(raw_data.defaultLabel, { emitEvent: false });\n            this.lexicalConceptArray.at(index).get('entity').setValue(raw_data.name, { emitEvent: false });\n            this.lexicalConceptArray.at(index).get('type').setValue('internal', { emitEvent: false });\n            this.lexicalConceptArray.at(index).get('inferred').setValue(false, { emitEvent: false });\n          } else {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n          }\n        }\n      )\n      this.memoryLexicalConcept[index] = data;\n    } else if (existOrNot) {\n      this.toastr.error('This lexical concept already exist in this lexical entry', 'Error', {\n        timeOut: 5000\n      })\n    }\n\n\n  }\n\n  onChangeExistingDefinition(evt, i) {\n\n    this.definitionArray = this.senseCore.get('definition') as FormArray;\n    const trait = this.definitionArray.at(i).get('propertyID').value;\n    const newValue = evt.target.value;\n    const senseId = this.object.sense;\n    let namespace = trait == 'definition' ? 'http://www.w3.org/2004/02/skos/core#' : 'http://www.lexinfo.net/ontology/3.0/lexinfo#';\n    const parameters = {\n      relation: namespace + trait,\n      value: newValue\n    }\n\n    if (trait != undefined && newValue != '') {\n\n      this.staticDef[i] = { trait: trait, value: newValue };\n      this.lexicalService.updateSense(senseId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data)\n          this.lexicalService.spinnerAction('off');\n          //this.lexicalService.refreshLexEntryTree();\n          if (trait == 'definition') {\n\n          }\n          this.lexicalService.updateCoreCard(data)\n        }, error => {\n          console.log(error);\n          //this.lexicalService.refreshLexEntryTree();\n          if (trait == 'definition') {\n            const data = this.object;\n            data['whatToSearch'] = 'sense';\n            data['new_definition'] = newValue;\n            data['request'] = 6;\n            this.lexicalService.refreshAfterEdit(data);\n          }\n          this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n          this.lexicalService.spinnerAction('off');\n          if (error.status != 200) {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n          } else {\n            this.toastr.success('Sense definition changed', '', {\n              timeOut: 5000,\n            });\n          }\n        }\n      )\n    } else {\n      this.lexicalService.spinnerAction('off');\n      this.staticDef[i] = { trait: trait, value: \"\" };\n    }\n  }\n\n  onChangeDefinition(object) {\n\n    this.definitionArray = this.senseCore.get('definition') as FormArray;\n    const trait = this.definitionArray.at(object.i).get('propertyID').value;\n    const newValue = object.evt.target.value;\n    const senseId = this.object.sense;\n    let namespace = trait == 'definition' ? 'http://www.w3.org/2004/02/skos/core#' : 'http://www.lexinfo.net/ontology/3.0/lexinfo#';\n    const parameters = { relation: namespace + trait, value: newValue }\n\n    if (trait != undefined) {\n\n      this.staticDef.push({ trait: trait, value: newValue });\n      this.lexicalService.updateSense(senseId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data)\n          this.lexicalService.spinnerAction('off');\n          //this.lexicalService.refreshLexEntryTree();\n          this.lexicalService.updateCoreCard(data)\n          this.disableAddDef = false;\n        }, error => {\n          console.log(error);\n          //this.lexicalService.refreshLexEntryTree();\n\n          this.disableAddDef = false;\n          if (error.status != 200) {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n            this.lexicalService.spinnerAction('off');\n          } else {\n\n            if (trait == 'definition') {\n              const data = this.object;\n              data['whatToSearch'] = 'sense';\n              data['new_definition'] = newValue;\n              data['request'] = 6;\n\n              this.lexicalService.refreshAfterEdit(data);\n\n            }\n            this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n            this.lexicalService.spinnerAction('off');\n            this.toastr.success('Sense ' + trait + ' changed', '', {\n              timeOut: 5000,\n            });\n          }\n\n        }\n      )\n    } else {\n      this.lexicalService.spinnerAction('off');\n    }\n  }\n\n\n  removeReference(index) {\n    const referenceArray = this.senseCore.get('reference') as FormArray;\n    referenceArray.removeAt(index)\n  }\n\n  createLexicalConcept(e?, t?, i?, l?) {\n    if (e != undefined) {\n      return this.formBuilder.group({\n        entity: e,\n        inferred: i,\n        label: l,\n        type: t\n      })\n    } else {\n      return this.formBuilder.group({\n        entity: '',\n        inferred: false,\n        label: '',\n        type: null\n      })\n    }\n\n  }\n\n  addLexicalConcept(entity?, type?, inferred?, label?) {\n    this.lexicalConceptArray = this.senseCore.get('lexical_concept') as FormArray;\n    if (entity != undefined) {\n      this.lexicalConceptArray.push(this.createLexicalConcept(entity, type, inferred, label));\n    } else {\n      this.disableAddLexicalConcept = true;\n      this.lexicalConceptArray.push(this.createLexicalConcept());\n    }\n  }\n\n  removeLexicalConcept(index) {\n    this.lexicalConceptArray = this.senseCore.get('lexical_concept') as FormArray;\n\n    this.disableAddLexicalConcept = false;\n    const entity = this.lexicalConceptArray.at(index).get('entity').value;\n\n    let senseId = this.object.sense;\n\n    let parameters = {\n      relation: 'http://www.w3.org/ns/lemon/ontolex#isLexicalizedSenseOf',\n      value: entity\n    }\n\n\n    if (entity != '') {\n      this.lexicalService.deleteLinguisticRelation(senseId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data)\n          this.lexicalService.updateCoreCard(this.object);\n          this.toastr.success(\"Lexical Concept removed\", '', {\n            timeOut: 5000,\n          });\n\n        }, error => {\n          console.log(error)\n          //this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n          if (error.status == 200) {\n            this.toastr.success('Lexical Concept deleted correctly', 'Error', {\n              timeOut: 5000,\n            });\n          } else {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n          }\n\n        }\n      )\n    }\n\n\n    this.lexicalConceptArray.removeAt(index);\n\n    this.memoryLexicalConcept.splice(index, 1)\n  }\n\n  ngOnDestroy(): void {\n    this.subject_def_subscription.unsubscribe();\n    this.subject_ex_def_subscription.unsubscribe();\n\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n}\n","\n\n<form [formGroup]=\"senseCore\">\n    \n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <div class=\"input-group col-lg-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>DEFINITIONS</b></span>\n                <a class=\"pointer\" (click)=\"addDefinition()\" [ngClass]=\"{no_pointer: disableAddDef}\"><span class=\"collapse-icon\"><i\n                            class=\"fa fa-plus-square\"></i></span></a>\n                <div class=\"card-body\">\n\n                    <div class=\"d-flex my-3\" *ngFor=\"let def of staticDef; let i = index\">\n                        <div class=\"col-md-3\">\n                            <span style=\"line-height: 50px;\" class=\"col-form-label\">{{def['trait']}}</span>\n                        </div>\n                        <div class=\"input-group col-md-9\">\n                            <textarea type=\"text\" class=\"form-control\"\n                                placeholder=\"\" (keyup)=\"debounceExistingKeyup($event, i)\" [value]=\"def['value']\" style=\"resize: none;\"></textarea>\n                            <div (click)=\"removeDefinition(i)\" class=\"input-group-append ml-2\" *ngIf=\"def['trait'] != 'definition'\"> <button\n                                    class=\"btn btn-danger\" type=\"button\"\n                                    style=\"font-size: 12px; border-radius: .25rem;\"><i\n                                        class=\"fa fa-trash-alt\"></i></button>\n                            </div>\n                            <div class=\"invalid-feedback\" *ngIf=\"staticDef[i]['value'] == ''\" style=\"display: block;\">\n                                Please, don't leave this field blank\n                            </div>\n\n                        </div>\n                    </div>\n\n                    <div class=\"d-flex my-2\" formArrayName=\"definition\"\n                        *ngFor=\"let def of senseCore.get('definition')['controls']; let i = index\">\n                        <div class=\"col-md-3\" [formGroupName]=\"i\" *ngIf=\"i + 1 > staticDef.length\">\n                            <select class=\"form-control selectTrait\" formControlName=\"propertyID\" name=\"propertyID\"\n                                style=\"font-size: 12px; height: 50px;\" (change)=\"onChangeDefinitionTrait($event, i)\">\n                                <option value=\"\">Select a trait...</option>\n                                <option *ngFor=\"let df of definitionData\" [disabled]=\"definitionMemory.indexOf(df) > -1\" [selected]=\"def.value['propertyID'] === df\">{{df}}</option>\n                            </select>\n                            <div class=\"invalid-feedback\" *ngIf=\"def.get('propertyID').invalid\" style=\"display: block;\">\n                                Please, don't leave this field blank\n                            </div>\n                        </div>\n                        <div class=\"input-group col-md-9\" [formGroupName]=\"i\" *ngIf=\"i + 1 > staticDef.length\">\n                            <textarea formControlName=\"propertyValue\" name=\"propertyValue\" type=\"text\" class=\"form-control\"\n                                placeholder=\"\" (keyup)=\"debounceKeyup($event, i)\" style=\"resize: none;\"></textarea>\n                            <div (click)=\"removeDefinition(i)\" class=\"input-group-append ml-2\"> <button\n                                    class=\"btn btn-danger\" type=\"button\"\n                                    style=\"font-size: 12px; border-radius: .25rem;\"><i\n                                        class=\"fa fa-trash-alt\"></i></button>\n                            </div>\n                            <div class=\"invalid-feedback\" *ngIf=\"def.get('propertyValue').invalid\" style=\"display: block;\">\n                                Please, don't leave this field blank\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <label for=\"inputLabel\" class=\"col-xl-3 col-form-label\">Uncertain:</label>\n        <div class=\"input-group col-xl-7\">\n            <input formControlName=\"confidence\" name=\"confidence\" type=\"checkbox\"> <!-- [checked]=\"etyForm.get('confidence').value == 0\" -->\n        </div>\n    </div>\n\n    <!-- <div class=\"form-group row ml-2 mt-4 mr-2\">\n        <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Usage:</label>\n        <div class=\"input-group col-lg-8\">\n            <textarea formControlName=\"usage\" name=\"usage\" class=\"form-control\" style=\"resize: none;\"></textarea>\n        </div>\n    </div>\n\n    <div class=\"form-group row ml-2 mt-4 mr-2\">\n        <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Topic:</label>\n        <div class=\"input-group col-lg-8\">\n            <input formControlName=\"topic\" name=\"topic\" class=\"form-control\" style=\"resize: none;\" />\n        </div>\n    </div> -->\n\n    <!-- REFERENCE -->\n    <!-- <div formArrayName=\"reference\">\n        <div *ngFor=\"let ref of senseCore['controls'].reference['controls']; let i = index\">\n            <div [formGroupName]=\"i\">\n                <div class=\"form-group row ml-2 mt-3 mr-2\">\n                    <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Reference:</label>\n                    <div class=\"input-group col-xl-9\" *ngIf=\"{switch : false}; let variable\">\n                        <ng-select formControlName=\"entity\" name=\"entity\" [items]=\"people\" bindValue=\"name\"\n                            bindLabel=\"name\" placeholder=\"Search entity\" appendTo=\"body\" [loading]=\"peopleLoading\"\n                            *ngIf=\"!variable.switch\">\n                        </ng-select>\n                        <input formControlName=\"entity\" name=\"entity\" type=\"text\" class=\"form-control\"\n                            placeholder=\"Insert URI\" *ngIf=\"variable.switch\">\n                        <div class=\"input-group-append ml-3 form-check\" style=\"align-items: center;\">\n                            <input class=\"form-check-input vartrans-tooltip\" type=\"checkbox\"\n                                (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\"\n                                data-placement=\"bottom\" data-trigger=\"hover\"\n                                title=\"Clicca per inserire un URI manualmente\">\n                        </div>\n                        <div class=\"input-group-append ml-2\">\n                            <button class=\"btn btn-primary\" type=\"button\"><i\n                                    class=\"fa fa-external-link-alt\"></i></button>\n                        </div>\n                        <div class=\"input-group-append ml-2\">\n                            <button (click)=\"removeReference(i)\" class=\"btn btn-danger\" type=\"button\"><i\n                                    class=\"fa fa-trash-alt\"></i></button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div> -->\n\n    <div class=\"form-group row ml-2 mt-4 mr-2\">\n\n    </div>\n\n\n    <!-- LEXICAL CONCEPT -->\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <div class=\"input-group col-xl-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>LEXICAL CONCEPT</b></span>\n                <a class=\"pointer\" [ngClass]=\"{no_pointer: disableAddLexicalConcept}\" (click)=\"addLexicalConcept()\"><span class=\"collapse-icon\"><i\n                            class=\"fa fa-plus-square\"></i></span></a>\n\n                <div class=\"card-body\">\n                    <div class=\"form-group row ml-2 mt-3 mr-2\" formArrayName=\"lexical_concept\"\n                        *ngFor=\"let concept of senseCore.get('lexical_concept')['controls']; let i = index\">\n                        <div class=\"input-group col-xl-12\"  [formGroupName]=\"i\">\n                            <ng-select #select_lexicalConcept formControlName=\"label\" name=\"label\" [items]=\"searchResults\" \n                                (keyup)=\"triggerLexicalConcept($event, i)\" (change)=\"handleLexicalConcept(select_lexicalConcept, i)\"\n                                bindValue=\"defaultLabel\" bindLabel=\"defaultLabel\" placeholder=\"Search entity\" appendTo=\"body\" [clearable]=\"false\"\n                                >\n                                \n                                <ng-template ng-option-tmp let-item=\"item\" let-search=\"searchTerm\">\n                                    <div>\n                                        <span>{{item.defaultLabel}} </span><span style=\"color: blue;\">@{{item.language}}</span>\n                                    </div>\n\n                                </ng-template>\n                            </ng-select>\n                            \n                            \n                            <div class=\"input-group-append ml-2\">\n                                <button (click)=\"removeLexicalConcept(i)\" class=\"btn btn-danger\" type=\"button\"><i\n                                        class=\"fa fa-trash-alt\"></i></button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n\n    <!-- SHOW INFERENCE -->\n    <!-- <div class=\"form-group row ml-2 mt-3 mr-2 inference\">\n        <div class=\"input-group col-xl-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><a data-toggle=\"collapse\" href=\"#inferenceCollapse\" role=\"button\"\n                        aria-expanded=\"false\" aria-controls=\"inferenceCollapse\"><span class=\"badge badge-warning\"><b\n                                style=\"color: white; font-size: 12px;\">SHOW INFERENCE</b></span></a></span>\n                <div class=\"card-body\">\n                    <div class=\"collapse\" id=\"inferenceCollapse\">\n\n                        <div class=\"form-group row ml-2 mt-3 mr-2\">\n                            <div class=\"input-group col-xl-12\" *ngIf=\"{switch : false}; let variable\">\n                                <div class=\"form-group row w-100\">\n                                    <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Is sense of:</label>\n                                    <div class=\"input-group col-lg-8\">\n                                        <input formControlName=\"sense_of\" name=\"sense_of\" type=\"text\" class=\"form-control\"\n                                            placeholder=\"\">\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"form-group row ml-2 mr-2\">\n                            <label class=\"col-xl-3 col-form-label\">Lexicalized Sense:</label>\n                            <div class=\"col-xl-9 card mt-0 p-0\"\n                                style=\"max-height: 10vh;overflow: auto; border: 1px solid rgba(0,0,0,.125) !important\">\n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Sense</label>\n                                </div>\n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Sense</label>\n                                </div>\n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Sense</label>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"form-group row ml-2 mr-2\">\n                            <label class=\"col-xl-3 col-form-label\">Is Evoked By:</label>\n                            <div class=\"col-xl-9 card mt-0 p-0\"\n                                style=\"max-height: 10vh;overflow: auto; border: 1px solid rgba(0,0,0,.125) !important\">\n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Entry@LANG</label>\n                                </div>\n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Entry@LANG</label>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"form-group row ml-2 mr-2\">\n                            <label class=\"col-xl-3 col-form-label\">Narrower:</label>\n                            <div class=\"col-xl-9 card mt-0 p-0\"\n                                style=\"max-height: 10vh;overflow: auto; border: 1px solid rgba(0,0,0,.125) !important\">\n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Concept</label>\n                                    <label class=\"col-xl-6 col-form-label\">Depth</label>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"form-group row ml-2 mr-2\">\n                            <label class=\"col-xl-3 col-form-label\">Borader:</label>\n                            <div class=\"col-xl-9 card mt-0 p-0\"\n                                style=\"max-height: 10vh;overflow: auto; border: 1px solid rgba(0,0,0,.125) !important\">\n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Concept</label>\n                                    <label class=\"col-xl-6 col-form-label\">Depth</label>\n                                </div>\n                            </div>\n                        </div>\n\n                    </div>\n                    \n                </div>\n            </div>\n        </div>\n    </div> -->\n</form>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, Input, OnDestroy, OnInit, SimpleChanges } from '@angular/core';\nimport { Subject, Subscription } from 'rxjs';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\n\nimport { FormBuilder, FormGroup, FormArray, FormControl } from '@angular/forms';\nimport { debounceTime, takeUntil } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-sense-vartrans-form',\n  templateUrl: './sense-vartrans-form.component.html',\n  styleUrls: ['./sense-vartrans-form.component.scss']\n})\nexport class SenseVartransFormComponent implements OnInit, OnDestroy {\n\n  switchInput = false;\n  subscription: Subscription;\n  object: any;\n  peopleLoading = false;\n  counter = 0;\n  componentRef: any;\n\n  @Input() senseData : any;\n\n  senseVartransForm = new FormGroup({\n    label: new FormControl(''),\n    translation: new FormArray([this.createTranslation()]),\n    senseTranslation: new FormArray([this.createSenseTranslation()]),\n    terminologicalRelation: new FormArray([this.createTerminologicalRelation()])\n  })\n\n  translation: FormArray;\n  senseTranslation: FormArray;\n  terminologicalRelation: FormArray;\n  terminologicalRelationSub : FormArray;\n  destroy$ : Subject<boolean> = new Subject();\n  constructor(private lexicalService: LexicalEntriesService, private formBuilder: FormBuilder) {\n  }\n\n  ngOnInit() {\n    \n    this.senseVartransForm = this.formBuilder.group({\n      label: '',\n      translation: this.formBuilder.array([this.createTranslation()]),\n      senseTranslation: this.formBuilder.array([this.createSenseTranslation()]),\n      terminologicalRelation: this.formBuilder.array([this.createTerminologicalRelation()])\n    })\n    this.onChanges();\n    this.loadPeople();\n    this.triggerTooltip();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    setTimeout(()=> {\n      if(this.object != changes.senseData.currentValue){\n        if(this.terminologicalRelation != null){\n          this.terminologicalRelation.clear();\n          this.senseTranslation.clear();\n          this.translation.clear();\n        }\n      }\n      this.loadPeople();\n      this.object = changes.senseData.currentValue;\n      if(this.object != null){\n        this.senseVartransForm.get('label').setValue(this.object.label, {emitEvent:false});\n      }\n      this.triggerTooltip();\n  }, 10)\n  }\n\n  triggerTooltip(){\n    setTimeout(() => {\n      //@ts-ignore\n      $('.vartrans-tooltip').tooltip({\n        trigger : 'hover'\n      });\n    }, 500);\n  }\n\n  private loadPeople() {\n   \n  }\n\n  onChanges(): void {\n    this.senseVartransForm.valueChanges.pipe(debounceTime(200), takeUntil(this.destroy$)).subscribe(searchParams => {\n      //console.log(searchParams)\n    })\n  }\n\n  createTranslation(): FormGroup {\n    return this.formBuilder.group({\n      type: '',\n      confidence: 0.0,\n      target: ''\n    })\n  }\n\n  addTranslation() {\n    this.translation = this.senseVartransForm.get('translation') as FormArray;\n    this.translation.push(this.createTranslation());\n    this.triggerTooltip();\n  }\n\n  removeTranslation(index) {\n    this.translation = this.senseVartransForm.get('translation') as FormArray;\n    this.translation.removeAt(index);\n  }\n\n  addSenseTranslation() {\n    this.senseTranslation = this.senseVartransForm.get('senseTranslation') as FormArray;\n    this.senseTranslation.push(this.createSenseTranslation());\n    this.triggerTooltip();\n  }\n\n  removeSenseTranslation(index) {\n    this.senseTranslation = this.senseVartransForm.get('senseTranslation') as FormArray;\n    this.senseTranslation.removeAt(index);\n  }\n\n  addTerminologicalRelation() {\n    this.terminologicalRelation = this.senseVartransForm.get('terminologicalRelation') as FormArray;\n    this.terminologicalRelation.push(this.createTerminologicalRelation());\n    this.triggerTooltip();\n  }\n\n  removeTerminologicalRelation(index) {\n    this.terminologicalRelation = this.senseVartransForm.get('terminologicalRelation') as FormArray;\n    this.terminologicalRelation.removeAt(index);\n  }\n\n  addTerminologicalRelationSub(index) {\n    const control = (<FormArray>this.senseVartransForm.controls['terminologicalRelation']).at(index).get('sub_rel') as FormArray;\n    control.insert(index, this.createSubTerminologicalRelation())\n    this.triggerTooltip();\n  }\n\n  removeTerminologicalRelationSub(index, iy) {\n    const control = (<FormArray>this.senseVartransForm.controls['terminologicalRelation']).at(index).get('sub_rel') as FormArray;\n    control.removeAt(iy);\n  }\n\n  createSenseTranslation(): FormGroup {\n    return this.formBuilder.group({\n      relation: '',\n      entity: ''\n    })\n  }\n\n  createTerminologicalRelation(): FormGroup {\n    return this.formBuilder.group({\n      a_entity: '',\n      relation: '',\n      b_entity: '',\n      sub_rel: new FormArray([])\n    })\n  }\n\n  createSubTerminologicalRelation(): FormGroup {\n    return this.formBuilder.group({\n      sub_relation: 'eee',\n      sub_entity: ''\n    })\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n}\n","\n\n<form [formGroup]=\"senseVartransForm\" *ngIf=\"object!=null\"> \n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <label for=\"inputLabel\" class=\"col-xl-3 col-form-label\">Label:</label>\n        <div class=\"input-group col-xl-5\">\n            <input formControlName=\"label\" name=\"label\" type=\"text\" class=\"form-control\" placeholder=\"\">\n        </div>\n    </div>\n    \n    <!-- TRANSLATION -->\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <div class=\"input-group col-xl-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>TRANSLATION</b></span>\n                <a class=\"pointer\" (click)=\"addTranslation()\"><span class=\"collapse-icon\"><i class=\"fa fa-plus-square\"></i></span></a>\n\n                <div class=\"card-body\">\n                    <div formArrayName=\"translation\">\n                        <div *ngFor=\"let trans of senseVartransForm.get('translation')['controls']; let i = index\">\n                            <div class=\"form-group row ml-2 mt-3 mr-2\">\n                        \n                                <label for=\"inputLabel\" class=\"col-xl-3 mb-3 col-form-label \">Type:</label>\n                                <div class=\"input-group col-xl-5 mb-3\" [formGroupName]=\"i\">\n                                    <select class=\"form-control\" formControlName=\"type\" name=\"type\">\n                                        <option>Relations...</option>\n                                        <option>...</option>\n                                    </select>\n                                </div>\n                            </div>\n                            <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                <label for=\"inputLabel\" class=\"col-xl-3 mb-3 col-form-label \">Confidence:</label>\n                                <div class=\"input-group col-xl-2 mb-3\" [formGroupName]=\"i\">\n                                    <input formControlName=\"confidence\" name=\"confidence\" type=\"number\" step=\"0.1\" min=\"0\" max=\"10\" class=\"form-control\" placeholder=\"\">\n                                </div>\n                            </div>\n                            \n                            <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                <label for=\"inputLabel\" class=\"col-xl-3 mb-3 col-form-label \">Target:</label>\n                                <div class=\"input-group col-xl-9\" *ngIf=\"{switch : false}; let variable\" [formGroupName]=\"i\">\n                                    <ng-select formControlName=\"target\" name=\"target\" [items]=\"people\" bindValue=\"name\" bindLabel=\"name\" placeholder=\"Search entity\" appendTo=\"body\"\n                                        [loading]=\"peopleLoading\" *ngIf=\"!variable.switch\">\n                                    </ng-select>\n                                    <input formControlName=\"target\" name=\"target\" type=\"text\" class=\"form-control\" placeholder=\"Insert URI\" *ngIf=\"variable.switch\">\n                                    <div class=\"input-group-append ml-3 form-check\">\n                                        <input class=\"form-check-input vartrans-tooltip\" type=\"checkbox\" (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\" data-placement=\"bottom\" data-trigger=\"hover\" title=\"Clicca per inserire un URI manualmente\">\n                                    </div>\n                                    <div class=\"input-group-append ml-2\">\n                                        <button class=\"btn btn-primary\" type=\"button\" (click)=\"modalRoot.show()\"><i\n                                                class=\"fa fa-external-link-alt\" ></i></button>\n                                                <app-modal #modalRoot class=\"modal-demo\" [maximizable]=\"true\" [backdrop]=\"false\">\n                                                    <ng-container class=\"app-modal-header\">Demo modal</ng-container>\n                                                    <ng-container class=\"app-modal-body\">\n                                                        <h3>MODAL DIALOG</h3>\n                                                        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.\n                                                            Lorem Ipsum has been the industrys standard dummy text ever since the 1500s.</p>\n                                                    </ng-container>\n                                                    <ng-container class=\"app-modal-footer\">\n                                                        <button type=\"button\" class=\"button button3\" (click)=\"modalRoot.hide()\">Delete</button>\n                                                        <button type=\"button\" class=\"button button1\" (click)=\"modalRoot.hide()\">Save</button>\n                                                        <button type=\"button\" class=\"button button2\" style=\"float: right;\"\n                                                            (click)=\"modalRoot.hide()\">Close\n                                                        </button>\n                                                    </ng-container>\n                                                </app-modal>\n                                    </div>\n                                    <div class=\"input-group-append ml-2\">\n                                        <button (click)=\"removeTranslation(i)\" class=\"btn btn-danger\" type=\"button\"><i class=\"fa fa-trash-alt\"></i></button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    \n                </div>\n            </div>\n        </div>\n    </div>\n\n    <!-- SENSE RELATION DIRECT -->\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <div class=\"input-group col-xl-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>SENSE RELATION</b><span class=\"badge badge-primary ml-2\">DIRECT</span></span>\n                <a (click)=\"addSenseTranslation()\" class=\"pointer\"><span class=\"collapse-icon\"><i class=\"fa fa-plus-square\"></i></span></a>\n\n                <div class=\"card-body\">\n                    <div class=\"form-group row ml-2 mt-3 mr-2\" formArrayName=\"senseTranslation\" *ngFor=\"let direct of senseVartransForm.get('senseTranslation')['controls']; let i = index\">\n                        <div class=\"col-xl-5\" [formGroupName]=\"i\">\n                            <select class=\"form-control\" formControlName=\"relation\" name=\"relation\">\n                                <option>Relations...</option>\n                                <option>...</option>\n                            </select>\n                        </div>\n                        <div class=\"input-group col-xl-7\" *ngIf=\"{switch : false}; let variable\" [formGroupName]=\"i\">\n                            <ng-select formControlName=\"entity\" name=\"entity\" [items]=\"people\" bindValue=\"name\" bindLabel=\"name\" placeholder=\"Search entity\" appendTo=\"body\"\n                                [loading]=\"peopleLoading\" *ngIf=\"!variable.switch\">\n                            </ng-select>\n                            <input formControlName=\"entity\" name=\"entity\" type=\"text\" class=\"form-control\" placeholder=\"Insert URI\" *ngIf=\"variable.switch\">\n                            <div class=\"input-group-append ml-3 form-check\">\n                                <input class=\"form-check-input vartrans-tooltip\" type=\"checkbox\" (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\" data-placement=\"bottom\" data-trigger=\"hover\" title=\"Clicca per inserire un URI manualmente\">\n                            </div>\n                            <div class=\"input-group-append ml-2\">\n                                <button class=\"btn btn-primary\" type=\"button\"><i\n                                        class=\"fa fa-external-link-alt\" (click)=\"modalRoot.show()\"></i></button>\n                                <app-modal #modalRoot class=\"modal-demo\" [maximizable]=\"true\" [backdrop]=\"false\">\n                                    <ng-container class=\"app-modal-header\">Demo modal</ng-container>\n                                    <ng-container class=\"app-modal-body\">\n                                        <h3>MODAL DIALOG</h3>\n                                        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.\n                                            Lorem Ipsum has been the industrys standard dummy text ever since the 1500s.</p>\n                                    </ng-container>\n                                    <ng-container class=\"app-modal-footer\">\n                                        <button type=\"button\" class=\"button button3\" (click)=\"modalRoot.hide()\">Delete</button>\n                                        <button type=\"button\" class=\"button button1\" (click)=\"modalRoot.hide()\">Save</button>\n                                        <button type=\"button\" class=\"button button2\" style=\"float: right;\"\n                                            (click)=\"modalRoot.hide()\">Close\n                                        </button>\n                                    </ng-container>\n                                </app-modal>\n                            </div>\n                            <div class=\"input-group-append ml-2\">\n                                <button (click)=\"removeSenseTranslation(i)\" class=\"btn btn-danger\" type=\"button\"><i class=\"fa fa-trash-alt\"></i></button>\n                            </div>\n                        </div>\n                    </div>\n                   \n                </div>\n            </div>\n        </div>\n    </div>\n\n\n    <!-- TERMINOLOGICAL RELATION INDIRECT -->\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <div class=\"input-group col-xl-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>TERMINOLOGICAL RELATION</b><span class=\"badge badge-primary ml-2\">INDIRECT</span></span>\n                <a class=\"pointer\" (click)=\"addTerminologicalRelation()\"><span class=\"collapse-icon\"><i class=\"fa fa-plus-square\"></i></span></a>\n                <div class=\"card-body\">\n                    <div formArrayName=\"terminologicalRelation\">\n                        <div *ngFor=\"let indirect of senseVartransForm['controls'].terminologicalRelation['controls']; let i = index\">\n                            <div [formGroupName]=\"i\">\n                                <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                    <div class=\"col-xl-3\">\n                                        <input type=\"text\" class=\"form-control\" formControlName=\"a_entity\" name=\"a_entity\">\n                                    </div>\n                                    <div class=\"col-xl-3\">\n                                        <select class=\"form-control\" formControlName=\"relation\" name=\"relation\">\n                                            <option>Relation</option>\n                                            <option>...</option>\n                                        </select>\n                                    </div>\n                                    <div class=\"input-group col-xl-6\" *ngIf=\"{switch : false}; let variable\">\n                                        <ng-select formControlName=\"b_entity\" name=\"b_entity\" [items]=\"people\" class=\"resizeNgSelect\" bindValue=\"name\" bindLabel=\"name\" placeholder=\"Search entity\" appendTo=\"body\"\n                                            [loading]=\"peopleLoading\" *ngIf=\"!variable.switch\">\n                                        </ng-select>\n                                        <input formControlName=\"b_entity\" name=\"b_entity\" type=\"text\" class=\"form-control\" placeholder=\"Insert URI\" *ngIf=\"variable.switch\">\n                                        <div class=\"input-group-append ml-3 form-check\">\n                                            <input class=\"form-check-input vartrans-tooltip\" type=\"checkbox\" (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\" data-placement=\"bottom\" data-trigger=\"hover\" title=\"Clicca per inserire un URI manualmente\">\n                                        </div>\n                                        <div class=\"input-group-append ml-2\">\n                                            <button class=\"btn btn-primary\" type=\"button\"><i\n                                                    class=\"fa fa-external-link-alt\"></i></button>\n                                        </div>\n                                        <div class=\"input-group-append ml-2\">\n                                            <button (click)=\"removeTerminologicalRelation(i)\" class=\"btn btn-danger\" type=\"button\"><i class=\"fa fa-trash-alt\"></i></button>\n                                        </div>\n                                        <div class=\"input-group-append ml-2\">\n                                            <button (click)=\"addTerminologicalRelationSub(i)\" class=\"btn btn-outline-primary\" type=\"button\"><i class=\"fa fa-plus\"></i></button>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div formArrayName=\"sub_rel\">\n                                    <div *ngFor=\"let sub of indirect['controls'].sub_rel['controls']; let j = index\">\n                                        <div [formGroupName]=\"j\">\n                                            <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                                <div class=\"col-xl-3\" ></div>\n                                                <div class=\"col-xl-3\">\n                                                    <select class=\"form-control\" formControlName=\"sub_relation\" name=\"sub_relation\">\n                                                        <option>{{sub.value['sub_relation']}}</option>\n                                                        <option>...</option>\n                                                    </select>\n                                                </div>\n                                                <div class=\"input-group col-xl-6\" *ngIf=\"{switch : false}; let variable\">\n                                                    <ng-select formControlName=\"sub_entity\" name=\"sub_entity\" [items]=\"people\" class=\"resizeNgSelect\" bindLabel=\"name\" bindValue=\"name\" placeholder=\"Search entity\" appendTo=\"body\"\n                                                        [loading]=\"peopleLoading\" *ngIf=\"!variable.switch\">\n                                                    </ng-select>\n                                                    <input formControlName=\"sub_entity\" name=\"sub_entity\" type=\"text\" class=\"form-control\" id=\"inputDenotes\" placeholder=\"Insert URI\" *ngIf=\"variable.switch\">\n                                                    <div class=\"input-group-append ml-3 form-check\">\n                                                        <input class=\"form-check-input vartrans-tooltip\" type=\"checkbox\" (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\" data-placement=\"bottom\" data-trigger=\"hover\" title=\"Clicca per inserire un URI manualmente\">\n                                                    </div>\n                                                    <div class=\"input-group-append ml-2\">\n                                                        <button class=\"btn btn-primary\" type=\"button\"><i\n                                                                class=\"fa fa-external-link-alt\"></i></button>\n                                                    </div>\n                                                    <div class=\"input-group-append ml-2\">\n                                                        <button (click)=\"removeTerminologicalRelationSub(i, j)\" class=\"btn btn-danger\" type=\"button\"><i class=\"fa fa-trash-alt\"></i></button>\n                                                    </div>\n                                                    <div class=\"input-group-append ml-2\">\n                                                        <button  class=\"btn btn-outline-primary invisible\" type=\"button\"><i class=\"fa fa-plus\"></i></button>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>  \n                    </div>           \n                </div>\n            </div>\n        </div>\n    </div>\n\n    <!-- SHOW INFERENCE -->\n    <!-- <div class=\"form-group row ml-2 mt-3 mr-2 inference\">\n        <div class=\"input-group col-xl-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><a data-toggle=\"collapse\" href=\"#inferenceCollapse\" role=\"button\" aria-expanded=\"false\" aria-controls=\"inferenceCollapse\"><span class=\"badge badge-warning\"><b style=\"color: white; font-size: 12px;\">SHOW INFERENCE</b></span></a></span>\n                <div class=\"card-body\">\n                    <div class=\"collapse\" id=\"inferenceCollapse\">\n\n                        <div class=\"form-group row ml-2 mr-2\">\n                            <label class=\"col-xl-3 col-form-label\">Lexicalized Sense:</label>\n                            <div class=\"col-xl-9 card mt-0 p-0\" style=\"max-height: 10vh;overflow: auto; border: 1px solid rgba(0,0,0,.125) !important\">    \n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Sense</label>\n                                </div>      \n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Sense</label>\n                                </div>        \n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Sense</label>\n                                </div>  \n                            </div>\n                        </div>\n\n                        <div class=\"form-group row ml-2 mr-2\">\n                            <label class=\"col-xl-3 col-form-label\">Is Evoked By:</label>\n                            <div class=\"col-xl-9 card mt-0 p-0\" style=\"max-height: 10vh;overflow: auto; border: 1px solid rgba(0,0,0,.125) !important\">    \n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Entry@LANG</label>\n                                </div> \n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Entry@LANG</label>\n                                </div>          \n                            </div>\n                        </div>\n\n                        <div class=\"form-group row ml-2 mr-2\">\n                            <label class=\"col-xl-3 col-form-label\">Narrower:</label>\n                            <div class=\"col-xl-9 card mt-0 p-0\" style=\"max-height: 10vh;overflow: auto; border: 1px solid rgba(0,0,0,.125) !important\">    \n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Concept</label>\n                                    <label class=\"col-xl-6 col-form-label\">Depth</label>\n                                </div>           \n                            </div>\n                        </div>\n                        \n                        <div class=\"form-group row ml-2 mr-2\">\n                            <label class=\"col-xl-3 col-form-label\">Borader:</label>\n                            <div class=\"col-xl-9 card mt-0 p-0\" style=\"max-height: 10vh;overflow: auto; border: 1px solid rgba(0,0,0,.125) !important\">    \n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Concept</label>\n                                    <label class=\"col-xl-6 col-form-label\">Depth</label>\n                                </div>           \n                            </div>\n                        </div>\n                        \n                    </div>\n                </div>\n            </div>\n        </div>\n    </div> -->\n</form>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, ComponentFactoryResolver, ElementRef, Input, OnChanges, OnDestroy, OnInit, QueryList, SimpleChanges, ViewChild, ViewChildren, ViewContainerRef } from '@angular/core';\nimport { ModalComponent } from 'ng-modal-lib';\nimport { ToastrService } from 'ngx-toastr';\nimport { Subject, Subscription } from 'rxjs';\nimport { debounceTime, take, takeUntil } from 'rxjs/operators';\nimport { AnnotatorService } from 'src/app/services/annotator/annotator.service';\nimport { BibliographyService } from 'src/app/services/bibliography-service/bibliography.service';\nimport { ExpanderService } from 'src/app/services/expander/expander.service';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\nimport { FormPanelComponent } from './form-panel/form-panel.component';\n\n@Component({\n  selector: 'app-attestation-panel',\n  templateUrl: './attestation-panel.component.html',\n  styleUrls: ['./attestation-panel.component.scss']\n})\nexport class AttestationPanelComponent implements OnInit,OnChanges, OnDestroy {\n\n  @Input() attestationData: any;\n  @ViewChild('addBibliographyAttestation', {static: false}) modal: ModalComponent;\n  @ViewChild('table_body') tableBody: ElementRef;\n  @ViewChild('accordion') accordion: ElementRef; \n  @ViewChild('formPanel', {read: ViewContainerRef}) vc: ViewContainerRef;\n\n\n\n  bibliography = [];\n  typesData = [];\n  private update_anno_subject: Subject<any> = new Subject();\n  private update_biblio_anno_subject: Subject<any> = new Subject();\n  private searchSubject : Subject<any> = new Subject();\n\n  start = 0;\n  sortField = 'title';\n  direction = 'asc';\n  memorySort = {field : '', direction : ''}\n  queryTitle = '';\n  queryMode = 'titleCreatorYear';\n  selectedItem;\n  selectedAnnotation;\n  fileId;\n\n  arrayPanelFormsData = {};\n  arrayComponents = [];\n  typeDesc = '';\n  staticOtherDef = [];\n  labelData = [];\n  bind = this;\n\n  destroy$ : Subject<boolean> = new Subject();\n\n  get_form_subscription : Subscription;\n  get_id_text_subscription : Subscription;\n  update_anno_subscription : Subscription;\n  update_anno_biblio_subject_subscription : Subscription;\n  biblio_bootstrap_subscription : Subscription;\n  search_subject_subscription : Subscription;\n\n  constructor(private toastr: ToastrService, \n              private biblioService : BibliographyService, \n              private expander: ExpanderService, \n              private annotatorService : AnnotatorService, \n              private lexicalService : LexicalEntriesService,\n              private factory: ComponentFactoryResolver) { }\n  \n  \n  formData = [];\n  ngOnInit(): void {\n\n    this.lexicalService.getFormTypes().pipe(takeUntil(this.destroy$)).subscribe(\n      data => {\n        this.typesData = data;\n        //console.log(this.typesData)\n      },\n      error => {\n        //console.log(error)\n      }\n    )\n\n    this.annotatorService.getIdText$.pipe(takeUntil(this.destroy$)).subscribe(\n      data=>{\n        console.log(data);\n        this.fileId = data;\n      },error=>{\n        console.log(error)\n      }\n    )\n\n    this.update_anno_subject.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      data => {\n        if(data != null){\n          this.updateAnnotation(data)\n        }\n      }\n    )\n    \n\n   this.update_biblio_anno_subject.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      data => {\n        if(data != null){\n          this.updateBiblioAnnotation(data)\n        }\n      }\n    )\n\n    this.biblioService.bootstrapData(this.start, this.sortField, this.direction).pipe(takeUntil(this.destroy$)).subscribe(\n      data=> {\n        this.memorySort = {field : this.sortField, direction : this.direction}\n        this.bibliography = data;\n        this.bibliography.forEach(element => {\n          element['selected'] = false;\n        })\n        \n        \n        //@ts-ignore\n        $('#biblioModalAnnotation').modal('hide');\n        $('.modal-backdrop').remove();\n      },error=>{\n        console.log(error)\n      }\n    )\n\n    this.searchSubject.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      data => {\n        this.queryTitle  = data.query;\n        data.queryMode ? this.queryMode = 'everything' : this.queryMode = 'titleCreatorYear';\n        this.searchBibliography(this.queryTitle, this.queryMode);\n      }\n    )\n  }\n  \n\n  ngOnChanges(changes: SimpleChanges) { \n    \n    console.log(changes)\n    if(changes.attestationData.currentValue != null){\n      setTimeout(() => {\n\n        if(changes.attestationData.currentValue != this.formData){\n          this.formData = [];\n          //this.arrayPanelFormsData = {}\n          this.selectedItem = null;\n          this.selectedAnnotation = null;\n          this.typeDesc = '';\n          this.staticOtherDef = [];\n          this.labelData = [];\n          \n        }\n        this.formData = changes.attestationData.currentValue;\n        console.log(this.formData)\n        if(this.formData.length == 0){\n          this.lexicalService.triggerAttestationPanel(false);\n          this.typeDesc = '';\n          this.staticOtherDef = [];\n          this.labelData = [];\n        }else{\n         /*  this.formData.forEach(element => {\n            this.arrayPanelFormsData[element.id] = {};\n            this.arrayPanelFormsData[element.id].data = undefined;\n            this.arrayPanelFormsData[element.id].isOpen = false;\n          }); */\n        }\n        \n      }, 10);\n      \n    }else{\n      this.formData = [];\n      this.typeDesc = '';\n      this.staticOtherDef = [];\n      this.labelData = [];\n      this.selectedItem = null;\n      this.selectedAnnotation = null;\n    }\n  }\n\n  cancelAttestation(index, id, node_id){\n    this.formData.splice(index,1);\n    this.annotatorService.deleteAnnotationRequest(id, node_id);\n    \n    this.annotatorService.deleteAnnotation(id).pipe(takeUntil(this.destroy$)).subscribe(\n      data=> {\n        console.log(data);\n        this.toastr.success('Attestation deleted correctly', 'Info', {\n          timeOut : 5000\n        })\n        this.annotatorService.closePanelForm(id);\n        if(this.arrayComponents.length > 0){\n          this.arrayComponents.forEach(instanceComponent => {\n            if(instanceComponent.instance.id == id){\n    \n              setTimeout(() => {\n                instanceComponent.instance.formPanelModal.hide();\n              }, 100);\n            }\n          })\n        }\n      },error => {\n        console.log(error);\n        this.toastr.error('Error on deleting attestation', 'Error', {\n          timeOut : 5000\n        })\n      }\n    );\n    if(this.formData.length == 0){\n      this.lexicalService.triggerAttestationPanel(false);\n      //this.lexicalService.sendToCoreTab(null);\n      /* this.expander.openCollapseEdit(false);\n      this.expander.expandCollapseEdit(false);\n\n      this.expander.openCollapseEpigraphy(true);\n      this.expander.expandCollapseEpigraphy(true); */\n    }\n\n    \n  }\n\n  triggerUpdateAttestation(evt, newValue, propKey, annotation){\n    this.update_anno_subject.next({event : evt, newValue : newValue, propKey: propKey, annotation : annotation})\n  }\n\n  debounceKeyup(value, annotation, index, field){\n    this.update_biblio_anno_subject.next({v: value, a: annotation, i: index, f: field})\n  }\n\n  updateAnnotation(data){\n    if(data !=null){\n      let id_annotation = data?.annotation?.id;\n      let newValue = data?.newValue;\n      let property = data?.propKey;\n\n      let annotation = data?.annotation; \n\n      if(property == 'confidence' && data.event.target.checked == true){\n        annotation.attributes.confidence = 0; \n      }else if(property == 'confidence' && data.event.target.checked == false){\n        annotation.attributes.confidence = 1; \n      }else{\n        annotation.attributes[property] = newValue;\n      }\n\n\n      this.annotatorService.updateAnnotation(annotation).subscribe(\n        data=> {\n          console.log(data);\n          this.toastr.success('Attestation updated correctly', 'Info', {\n            timeOut : 5000\n          })\n        },error => {\n          console.log(error);\n          this.toastr.error('Error on updating attestation', 'Error', {\n            timeOut : 5000\n          })\n        }\n      )\n\n    } \n  }\n\n  updateBiblioAnnotation(data){\n    if(data != null){\n      console.log(data);\n\n      let id_annotation = data?.a.id;\n      let newValue = data?.v;\n      let index = data?.i;\n      let field = data?.f;\n\n      this.formData.forEach(\n        element=>{\n          if(element.id == id_annotation){\n            element.attributes.bibliography[index][field] = newValue;\n          }\n        }\n      )\n      let annotation = data?.a;\n      console.log(annotation)\n      this.annotatorService.updateAnnotation(annotation).pipe(takeUntil(this.destroy$)).subscribe(\n        data=> {\n          console.log(data);\n          this.toastr.success('Attestation updated correctly', 'Info', {\n            timeOut : 5000\n          })\n        },error => {\n          console.log(error);\n          this.toastr.error('Error on updating attestation', 'Error', {\n            timeOut : 5000\n          })\n        }\n      )\n      \n    }\n  }\n\n  getForm(formId, index){\n\n    setTimeout(() => {\n      console.log('#attestation_collapse-'+index+'')\n      let item_collapse = this.accordion.nativeElement.querySelectorAll('#attestation_collapse-'+index)[0];\n      if(item_collapse.classList.contains('show')){\n        this.lexicalService.getFormData(formId, 'core').pipe(takeUntil(this.destroy$)).subscribe(\n          data=>{\n            console.log(data);\n            this.lexicalService.triggerLexicalEntryTree({request: true, data: data})\n            \n            //this.lexicalService.sendToCoreTab(data)\n            this.lexicalService.sendToEtymologyTab(null);\n            this.lexicalService.sendToRightTab(data);\n            //this.lexicalService.updateCoreCard({lastUpdate : data['lastUpdate'], creationDate : data['creationDate']});\n            \n            if(this.expander.isEpigraphyTabOpen() && !this.expander.isEditTabOpen()){\n              if(this.expander.isEpigraphyTabExpanded() && !this.expander.isEditTabExpanded()){\n                this.expander.openCollapseEdit(true);\n                this.expander.expandCollapseEpigraphy(false)\n              }\n            }\n            \n            var text_detail = document.querySelectorAll('#text-dettaglio');\n            text_detail.forEach(element => {\n              if(!element.classList.contains('show')){\n                element.classList.add('show')\n              }\n            })\n          },\n          error=>{\n            console.log(error)\n          }\n        )\n      }else{\n        console.log(\"non fai partire ricerca\")\n      }\n      console.log(item_collapse)\n    }, 500);\n    \n    \n  }\n\n  showBiblioModal(item){\n    this.selectedAnnotation = item;\n    this.modal.show();\n  }\n\n  checkIfCreatorExist(item?){\n    return item.some(element => element.creatorType === 'author')\n  }\n\n  selectItem(evt, i){\n    /* console.log(evt, i); */\n    if(evt.shiftKey){\n\n    }\n    this.bibliography.forEach(element=> {\n      if(element.key == i.key){\n        element.selected = !element.selected;\n        element.selected ? this.selectedItem = element : this.selectedItem = null;\n        return true;\n      }else{\n        element.selected = false;\n        return false;\n      }\n    })\n    \n  }\n\n  onCloseModal(){\n    this.selectedItem = null;\n    this.start = 0;\n    this.sortField = 'title';\n    this.direction = 'asc';\n    this.tableBody.nativeElement.scrollTop = 0;\n    this.memorySort = { field: this.sortField, direction: this.direction}\n    this.biblioService.bootstrapData(this.start, this.sortField, this.direction).pipe(takeUntil(this.destroy$)).subscribe(\n      data=> {\n        this.bibliography = data;\n        this.bibliography.forEach(element => {\n          element['selected'] = false;\n        }) \n                \n       \n      },error=>{\n        console.log(error)\n      }\n    );\n  }\n\n  onScrollDown(){\n    //@ts-ignore\n    $(\"#biblioModalAnnotation\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.table-body');\n    //@ts-ignore\n    $('#biblioModalAnnotation').modal({backdrop: 'static', keyboard: false})  \n    $('.modal-backdrop').appendTo('.table-body');\n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n\n    this.start += 25;\n    \n    if(this.queryTitle != ''){\n      this.biblioService.filterBibliography(this.start, this.sortField, this.direction, this.queryTitle, this.queryMode).pipe(takeUntil(this.destroy$)).subscribe(\n        data=>{\n          console.log(data)\n          //@ts-ignore\n          $('#biblioModalAnnotation').modal('hide');\n          $('.modal-backdrop').remove();\n          data.forEach(element => {\n            this.bibliography.push(element)\n          });\n        },error=>{\n          console.log(error)\n        }\n      )\n    }else{\n      this.biblioService.filterBibliography(this.start, this.sortField, this.direction, this.queryTitle, this.queryMode).pipe(takeUntil(this.destroy$)).subscribe(\n        data=> {\n          \n          data.forEach(element => {\n            this.bibliography.push(element)\n          });\n                  \n          //@ts-ignore\n          $('#biblioModalAnnotation').modal('hide');\n          $('.modal-backdrop').remove();\n        },error=>{\n          console.log(error)\n        }\n      );\n    }\n\n    \n  }\n\n  addBibliographyItem(item?){\n    //@ts-ignore\n    $(\"#biblioModalAnnotation\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.ui-modal');\n    //@ts-ignore\n    $('#biblioModalAnnotation').modal({backdrop: 'static', keyboard: false})  \n    \n    $('.modal-backdrop').css('height', 'inherit');\n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n\n    let instance = '';\n    /* if(this.object.lexicalEntryInstanceName != undefined\n      && this.object.lexicalEntryInstanceName.senseInstanceName == undefined){\n        instance = this.object.lexicalEntryInstanceName;\n    }else if(this.object.formInstanceName != undefined){\n      instance = this.object.formInstanceName;\n    }else if(this.object.senseInstanceName != undefined){\n      instance = this.object.senseInstanceName;\n    } */\n\n    if(item != undefined){\n\n      let id = item.data.key != undefined ? item.data.key : '';\n      let title = item.data.title != undefined ? item.data.title : '';\n      let author;\n      \n      item.data.creators.forEach(element => {\n        if(element.creatorType == 'author'){\n          author = element.lastName + ' ' + element.firstName;\n          return true;\n        }else{\n          return false;\n        }\n      });\n      author = author != undefined ? author : ''\n      let date = item.data.date != undefined ? item.data.date : '';\n      let url = item.data.url != undefined ? item.data.url : ''\n      let seeAlsoLink = '';\n\n      item.data['note'] = \"\";;\n      item.data['textualRef'] = \"\";\n\n      let parameters = {\n        id : id,\n        title: title,\n        author: author,\n        date: date,\n        url: url,\n        seeAlsoLink: seeAlsoLink\n      }\n\n      console.log(item, this.selectedAnnotation);\n      this.modal.hide();\n\n     let anno_id = this.selectedAnnotation.id;\n\n      this.formData.forEach(\n        attestation => {\n          if(attestation.id == anno_id){\n            console.log(attestation)\n            attestation?.attributes?.bibliography.push(item?.data)\n          }\n        }\n      );\n\n      this.annotatorService.updateAnnotation(this.selectedAnnotation).pipe(takeUntil(this.destroy$)).subscribe(\n        data=>{\n          console.log(data);\n          //@ts-ignore\n          $('#biblioModalAnnotation').modal('hide');\n          $('.modal-backdrop').remove();\n\n          this.modal.hide();\n\n          this.toastr.success('Item added correctly', 'Info', {\n            timeOut : 5000\n          })\n\n        },error=>{\n          console.log(error);\n          //@ts-ignore\n          $('#biblioModalAnnotation').modal('hide');\n          $('.modal-backdrop').remove();\n\n          this.modal.hide();\n\n          this.toastr.error('Error on adding item', 'Info', {\n            timeOut : 5000\n          })\n\n        }\n      )\n      /* this.annotatorService.updateAnnotation() */\n      /*       \n      this.lexicalService.addBibliographyData(instance, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data=>{\n          console.log(data);\n          setTimeout(() => {\n            //@ts-ignore\n            $('#biblioModal').modal('hide');\n            $('.modal-backdrop').remove();\n            this.toastr.success('Item added, check bibliography panel', '', {\n              timeOut: 5000,\n            });\n            this.biblioService.triggerPanel(data)\n            setTimeout(() => {\n              this.modal.hide();\n            }, 10);\n          }, 300);\n          this.biblioService.sendDataToBibliographyPanel(data);\n        },error=>{\n          console.log(error)\n          if(typeof(error.error) == 'string' && error.error.length < 1000){\n            this.toastr.error(error.error, '', {\n              timeOut: 5000,\n            });\n          }else{\n            this.toastr.error(error.statusText, '', {\n              timeOut: 5000,\n            });\n          }\n          \n          setTimeout(() => {\n            //@ts-ignore\n            $('#biblioModal').modal('hide');\n            $('.modal-backdrop').remove();\n\n            setTimeout(() => {\n              this.modal.hide();\n            }, 10);\n          }, 300);\n          \n        }\n      ) */\n    }\n    \n  }\n\n  sortBibliography(evt?, val?){\n    \n    \n    if(this.memorySort.field == val){\n      if(this.direction == 'asc'){\n        this.direction = 'desc'\n        this.memorySort.direction = 'desc';\n      }else{\n        this.direction = 'asc';\n        this.memorySort.direction = 'asc';\n      }\n    }else{\n      this.sortField = val;\n      this.direction = 'asc';\n      this.memorySort = {field : this.sortField, direction : this.direction};\n    }\n\n    //@ts-ignore\n    $(\"#biblioModalAnnotation\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.table-body');\n    //@ts-ignore\n    $('#biblioModalAnnotation').modal({backdrop: 'static', keyboard: false})  \n    $('.modal-backdrop').appendTo('.table-body');\n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n    this.start = 0;\n    this.tableBody.nativeElement.scrollTop = 0;\n\n    this.biblioService.filterBibliography(this.start, this.sortField, this.direction, this.queryTitle, this.queryMode).pipe(takeUntil(this.destroy$)).subscribe(\n      data=>{\n        console.log(data)\n        this.bibliography = [];\n        //@ts-ignore\n        $('#biblioModalAnnotation').modal('hide');\n        $('.modal-backdrop').remove();\n        data.forEach(element => {\n          this.bibliography.push(element)\n        });\n      },error=>{\n        console.log(error)\n      }\n    )\n    \n  }\n\n  removeItem(item, j) {\n    console.log(item, j)\n    \n    this.formData.forEach(\n      annotation=>{\n        if(item?.id == annotation.id){\n          annotation.attributes.bibliography.splice(j, 1)\n        }\n      }\n    )\n\n    this.annotatorService.updateAnnotation(item).pipe(takeUntil(this.destroy$)).subscribe(\n      data=>{\n        console.log(data)\n        this.toastr.success('Attestation removed correctly', 'Info', {\n          timeOut : 5000\n        })\n      },\n      error=>{\n        console.log(error)\n        this.toastr.error('Error on removing attestation', 'Error', {\n          timeOut : 5000\n        })\n      }\n    )\n    console.log(this.formData, item)\n  }\n\n  triggerSearch(evt, query, queryMode) {\n    if(evt.key != 'Control' && evt.key != 'Shift' && evt.key != 'Alt'){\n      this.searchSubject.next({query, queryMode})\n    }\n  }\n  \n  searchBibliography(query?:string, queryMode?:any){\n    this.start = 0;\n    this.selectedItem = null;\n    //@ts-ignore\n    $(\"#biblioModalAnnotation\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.table-body');\n    //@ts-ignore\n    $('#biblioModalAnnotation').modal({backdrop: 'static', keyboard: false})  \n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n    this.tableBody.nativeElement.scrollTop = 0;\n    if(this.queryTitle != ''){\n      this.biblioService.filterBibliography(this.start, this.sortField, this.direction, this.queryTitle, this.queryMode).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data);\n          this.bibliography = [];\n          data.forEach(element => {\n            this.bibliography.push(element)\n          });\n          //@ts-ignore\n          $('#biblioModalAnnotation').modal('hide');\n          $('.modal-backdrop').remove();\n        },\n        error => {\n          console.log(error)\n        }\n      )\n    }else{\n      this.biblioService.filterBibliography(this.start, this.sortField, this.direction, this.queryTitle, this.queryMode).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data);\n          this.bibliography = [];\n          data.forEach(element => {\n            this.bibliography.push(element)\n          });\n          //@ts-ignore\n          $('#biblioModalAnnotation').modal('hide');\n          $('.modal-backdrop').remove();\n        },\n        error => {\n          console.log(error)\n        }\n      )\n    }\n  }158\n\n  \n\n  loadFormData(idAnnotation, formId, label){\n    console.log(idAnnotation)\n    let panel = this.annotatorService.getPanelForm(idAnnotation);\n    if(panel == undefined){\n      this.lexicalService.getFormData(formId, 'core').pipe(takeUntil(this.destroy$)).subscribe(\n        data=> {\n          console.log(data);\n          if(data != undefined){\n            this.annotatorService.newPanelForm(idAnnotation);\n            const factory = this.factory.resolveComponentFactory(FormPanelComponent);\n            const componentRef = this.vc.createComponent(factory);\n            this.arrayComponents.push(componentRef);\n            (<FormPanelComponent>componentRef.instance).label = label + \" - \" + data.label[0].propertyValue;\n            (<FormPanelComponent>componentRef.instance).formId = formId;\n            (<FormPanelComponent>componentRef.instance).id = idAnnotation;\n            (<FormPanelComponent>componentRef.instance).formData = data;\n            (<FormPanelComponent>componentRef.instance).triggerFormPanel();\n          }\n        }, error=> {\n          console.log(error)\n        }\n      )\n      \n    }else{\n\n    }\n\n  }\n\n  ngOnDestroy(): void {\n    \n\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n}\n","\n\n<div class=\"card\">\n    <div class=\"card-header\" id=\"attestationHeading\">\n        <h5 class=\"mb-0\">\n            <a class=\"btn btn-link w-100 d-flex align-self-center collapsed \" data-toggle=\"collapse\"\n                data-target=\"#attestationCollapse\" aria-expanded=\"true\" aria-controls=\"attestationCollapse\">\n                Attestation Panel<i class=\"fa ml-auto\"></i>\n            </a>\n        </h5>\n    </div>\n    <div id=\"attestationCollapse\" class=\"collapse\" aria-labelledby=\"attestationHeading\" #accordion>\n        <div class=\"card-body\">\n            <div *ngIf=\"formData != null\">\n               \n                <div class=\"card mb-4 pt-4\" *ngFor=\"let item of formData; let i = index\">\n                    \n                    <a class=\"attestationCollapse\" data-toggle=\"collapse\" [attr.data-target]=\"'#attestation_collapse-'+i\"\n                        aria-expanded=\"true\" [attr.aria-controls]=\"'#attestation_collapse-'+i\" ><span class=\"text-id pointer\"> <!-- (click)=\"getForm(item?.value, i)\" --><b\n                                class=\"badge badge-primary\">{{fileId == undefined ? item?.attributes.fileId : fileId}} - {{item?.attributes.label != undefined ? item?.attributes.label : ''}}</b></span></a>\n                   \n                    <a  (click)=\"loadFormData(item?.id, item?.value, fileId == null ? item?.attributes.fileId : fileId); \" class=\"pointer\"><span container=\"body\" placement=\"top\" ngbTooltip=\"Open in new panel\" class=\"external-icon\"><i class=\"fa fa-external-link-alt\"></i></span></a>\n                    <a (click)=\"cancelAttestation(i, item?.id, item?.attributes.node_id)\" class=\"pointer\"><span class=\"trash-icon\"><i class=\"fa fa-trash\"></i></span></a>\n                    \n\n                    <div [id]=\"'attestation_collapse-'+i\" class=\"collapse\" >\n                        <div class=\"card-body\" style=\"max-height: 20rem;  overflow: auto;  \">\n                            <!-- <div class=\"form-group row ml-2 mr-2 mb-0\">\n                                <label for=\"inputLabel\" class=\"col-lg-4 pl-0 pr-0 col-form-label\">URI:</label>\n                                <div class=\"input-group col-lg-8 pl-0 pr-0\">\n                                    <span class=\"font-italic overflow-auto p-1\">{{item?.value}}</span>\n                                </div>\n                            </div> -->\n                            \n                            \n                            <div class=\"form-group row ml-2 mr-2 mb-0\" *ngFor=\"let subprop of item?.attributes | keyvalue\">\n                                <label for=\"inputLabel\" class=\"col-lg-4 pl-0 pr-0 col-form-label\" *ngIf=\"subprop?.key != 'bibliography' && subprop?.key != 'validity' && subprop?.key != 'node_id' && subprop?.key != 'lexicalEntry' && subprop?.key != 'fileId' && subprop?.key != 'form_id' && subprop?.key != 'creator' && subprop?.key != 'timestamp' && subprop?.key != 'label' && subprop?.key != 'confidence'\">{{subprop?.key}}:</label>\n                                <label for=\"inputLabel\" class=\"col-lg-4 pl-0 pr-0 col-form-label\" *ngIf=\"subprop?.key == 'label'\">form:</label>\n                                <label for=\"inputLabel\" class=\"col-lg-4 pl-0 pr-0 col-form-label\" *ngIf=\"subprop?.key == 'confidence'\">uncertain:</label>\n\n                                \n                                <div class=\"input-group col-lg-8 pl-0 pr-0\">\n                                    <span class=\"font-italic overflow-auto p-1\" *ngIf=\"subprop?.key == 'label'\">{{subprop?.value}}</span>\n                                    <span class=\"font-italic overflow-auto p-1\" *ngIf=\"subprop?.key == 'leiden' && !item.empty_file\">{{subprop?.value}}</span>\n                                    <input #sub_property *ngIf=\"subprop?.key != 'creator' && \n                                                  subprop?.key != 'label' && \n                                                  subprop?.key != 'note' &&\n                                                  subprop?.key != 'timestamp' &&\n                                                  subprop?.key != 'node_id' &&\n                                                  subprop?.key != 'form_id' &&\n                                                  subprop?.key != 'confidence' &&\n                                                  subprop?.key != 'bibliography'  &&\n                                                  subprop?.key != 'validity' &&\n                                                  subprop?.key != 'leiden' &&\n                                                  subprop?.key != 'lexicalEntry' &&\n                                                  subprop?.key != 'fileId'\" \n                                                  (keyup)=\"triggerUpdateAttestation($event, sub_property.value, subprop?.key, item)\" id=\"attributes\" name=\"attributes\" type=\"text\" class=\"form-control\" placeholder=\"No info\" [value]=\"subprop?.value\">\n                                    <input #confidence (change)=\"triggerUpdateAttestation($event, confidence.value, subprop?.key, item)\" type=\"checkbox\" *ngIf=\"subprop?.key == 'confidence'\" [checked]=\"subprop?.value == 0\" >\n                                    <input #leiden (keyup)=\"triggerUpdateAttestation($event, leiden.value, subprop?.key, item)\" type=\"text\" *ngIf=\"item.empty_file && subprop?.key == 'leiden'\" class=\"form-control\" placeholder=\"No info\" [value]=\"subprop?.value\">\n<!--                                     <input #confidence *ngIf=\"subprop?.key == 'confidence'\" (keyup)=\"triggerUpdateAttestation($event, confidence.value, subprop?.key, item)\" (change)=\"triggerUpdateAttestation($event, confidence.value, subprop?.key, item)\" id=\"attributes\" name=\"attributes\" type=\"number\" min=\"0\" max=\"1\" step=\"0.1\" class=\"form-control\" placeholder=\"No info\" [value]=\"subprop?.value\">\n -->                                    <!-- <span class=\"font-italic overflow-auto p-1\" *ngIf=\"subprop?.key == 'timestamp'\">{{subprop?.value | date: 'dd/MM/yyyy HH:mm:ss'}}</span> -->\n                                    <textarea #text_area (keyup)=\"triggerUpdateAttestation($event, text_area.value, subprop?.key, item)\" *ngIf=\"subprop?.key == 'note'\" id=\"attributes\" name=\"attributes\" type=\"text\" class=\"form-control\" placeholder=\"No info\" style=\"resize: none;\">{{subprop?.value}}</textarea>\n                                </div>\n                            </div>\n                            <div class=\"form-group row ml-2 mr-2 mb-0\">\n                                <label for=\"inputLabel\" class=\"col-lg-4 pl-0 pr-0 col-form-label\">bibliography:</label>\n                                <div class=\"input-group col-lg-8 pl-0 pr-0 justify-content-between\">\n                                    <span class=\"font-italic overflow-auto p-1\" *ngIf=\"item?.attributes.bibliography.length == 0\">\n                                        No bibliography\n                                    </span>\n                                    <span class=\"font-italic overflow-auto p-1\" *ngIf=\"item?.attributes.bibliography.length != 0\">\n                                        {{item?.attributes?.bibliography.length}} item(s)\n                                    </span>\n                                    <button (click)=\"showBiblioModal(item)\" title=\"Add new bibliography item\" class=\"btn btn-success rounded-circle\" style=\"\n                                    width: 20px;\n                                    height: 20px;\n                                    padding: 0%;\n                                    border-radius: 15px !important;\">\n                                        <i class=\"fas fa-plus\"></i>\n                                    </button>\n                                </div>\n                                \n                                \n                            </div>\n                            <div *ngIf=\"item?.attributes.bibliography.length > 0\">\n                                <div class=\"form-group row ml-2 mt-3 mb-1  mr-2\" *ngFor=\"let item_biblio of item?.attributes.bibliography; let j = index\">\n                                    <div class=\"input-group col-xl-12 p-0\">\n                                        <!-- {{item_biblio.creators | json}} -->\n                                        <div id=\"accordion\">\n                                            <div class=\"card\">\n                                                <a class=\"biblioCollapse\" data-toggle=\"collapse\" [attr.data-target]=\"'#attestation_biblio_collapse-'+item?.id+'-'+j\" aria-expanded=\"true\" [attr.aria-controls]=\"'#attestation_biblio_collapse-'+item?.id+'-'+j\">\n                                                    \n                                                    <span class=\"text-id pointer\" style=\"z-index: 0;\">\n                                                        <span  *ngFor=\"let auth of item_biblio.creators\">\n                                                            <b *ngIf=\"auth.creatorType == 'author'\">{{auth.lastName}} {{auth.firstName}} </b>\n                                                        </span>\n                                                        <b>- ({{item_biblio.title != undefined ? (item_biblio.title | slice:0:10) +'...' : ''}})</b>\n                                                    </span>\n                                                    <!-- <span class=\"text-id pointer\">\n                                                        \n                                                    </span> -->\n                                                </a>\n                                                <span *ngIf=\"item_biblio != undefined\" class=\"icons-container\">\n                                                    <!-- {{bibliographyData[i]['url'] | json}} -->\n                                                    <!-- <span><a target=\"_blank\" class=\"pointer text-primary\" (click)=\"synchronizeBibliography(biblio.get('id').value)\"><span class=\"synchro-icon\"><i class=\"fas fa-sync-alt\" *ngIf=\"!loadingSynchro\"></i> <i class=\"fas fa-sync fa-spin\" *ngIf=\"loadingSynchro\"></i></span></a></span> -->\n                                                    <span ><a  href=\"https://www.zotero.org/groups/2552746/prin_italia_antica/items/{{item_biblio.key}}/library\" target=\"_blank\" class=\"pointer text-primary\"><span class=\"external-icon\"><i class=\"fas fa-external-link-alt\"></i></span></a></span>\n                                                    <span><a *ngIf=\"item_biblio.url != ''\" [href]=\"item_biblio.url\" target=\"_blank\" class=\"pointer text-primary\"><span class=\"download-icon\"><i class=\"fas fa-download\"></i></span></a></span>\n                                                </span>\n                                                \n                                                <a class=\"pointer\" (click)=\"removeItem(item, j)\"><span class=\"trash-icon\"><i class=\"fa fa-trash text-danger\"></i></span></a> \n                                                \n                                                <div [id]=\"'attestation_biblio_collapse-'+item?.id+'-'+j\" class=\"collapse\" > <!-- data-parent=\"#accordion\" -->\n                                                    <div class=\"card-body mt-2\">\n                                                        <div class=\"form-group row ml-2 mr-2 mb-0\">\n                                                            <label for=\"inputLabel\" class=\"col-lg-4 px-0 col-form-label\">Title:</label>\n                                                            <div class=\"input-group col-lg-8 pl-0\">\n                                                                <input id=\"title\"  name=\"title\" type=\"text\" class=\"form-control\" placeholder=\"\" disabled [value]=\"item_biblio?.title\">\n                                                            </div>\n                                                        </div>           \n                                                        <div class=\"form-group row ml-2 mr-2 mb-0\">\n                                                            <label for=\"inputLabel\" class=\"col-lg-4 px-0 col-form-label\">Author:</label>\n                                                            <div class=\"input-group col-lg-8 pl-0  \">\n                                                                <span *ngFor=\"let auth of item_biblio.creators\" class=\"pb-1\">\n                                                                    <input id=\"author\"   name=\"author\" type=\"text\" class=\"form-control\" placeholder=\"\" disabled [value]=\"auth.firstName + ' ' + auth.lastName\">\n                                                                </span>\n                                                                \n                                                            </div>\n                                                        </div>   \n                                                        <div class=\"form-group row ml-2 mr-2 mb-0\">\n                                                            <label for=\"inputLabel\" class=\"col-lg-4 px-0 col-form-label\">Date:</label>\n                                                            <div class=\"input-group col-lg-8 pl-0\">\n                                                                <input id=\"date\"   name=\"date\" type=\"text\" class=\"form-control\" placeholder=\"\" disabled [value]=\"item_biblio.date\">\n                                                            </div>\n                                                        </div>\n                                                        <div class=\"form-group row ml-2 mr-2\">\n                                                            <label for=\"inputLabel\" class=\"col-lg-4 px-0 col-form-label\">Note:</label>\n                                                            <div class=\"input-group col-lg-8 pl-0\">\n                                                                <textarea #note_item_biblio_anno (keyup)=\"debounceKeyup(note_item_biblio_anno.value, item, j, 'note')\"  name=\"note\" class=\"form-control\" style=\"resize: none;\" [value]=\"item_biblio.note\"></textarea>\n                                                            </div>\n                                                        </div>  \n                                                        <div class=\"form-group row ml-2 mr-2\">\n                                                            <label for=\"inputLabel\" class=\"col-lg-4 px-0 col-form-label\">TextualRef:</label>\n                                                            <div class=\"input-group col-lg-8 pl-0\">\n                                                                <textarea #txtref_item_biblio_anno (keyup)=\"debounceKeyup(txtref_item_biblio_anno.value, item, j, 'textualRef')\"  name=\"textualReference\" class=\"form-control\" style=\"resize: none;\" [value]=\"item_biblio.textualRef\"></textarea>\n                                                            </div>\n                                                        </div>     \n                                                    </div>\n                                                </div>                                            \n                                            </div>\n                                        </div>\n                                        \n                                        \n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n\n                    \n                </div>\n            </div>\n           \n        </div>\n    </div>\n\n</div>\n\n\n\n\n<!-- ################ BIBLIO MODAL ################# -->\n                    \n<app-modal #addBibliographyAttestation class=\"biblio_modal\" [backdrop]=\"false\" [inViewport]=\"true\" (closeModal)=\"onCloseModal()\">\n\n    <ng-container class=\"app-modal-header\">\n        <img src=\"../../../../../../assets/images/zotero_logo.png\">\n        <span class=\"ml-2 biblio-header-title\">Library: PRIN Italia Antica</span>\n    </ng-container>\n    \n    <ng-container class=\"app-modal-body\">\n        <!-- SEARCH BAR -->\n        <div class=\"w-25 pt-1 pb-1\">\n            <div class=\"input-group mb-3\" *ngIf=\"{switch : false}; let variable\">\n                <div class=\"input-group-prepend\">\n                    <button class=\"btn btn-outline-secondary dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\"\n                        aria-haspopup=\"true\" aria-expanded=\"false\"><i class=\"fa fa-search\"></i></button>\n                    <div class=\"dropdown-menu\">\n                        <a [class.disable_click_fire]=\"!variable.switch\" class=\"dropdown-item\" style=\"cursor: pointer;\"\n                            (click)=\"variable.switch = false; searchBibliography(searchBiblio.value, variable.switch);\">Normal</a>\n                        <a [class.disable_click_fire]=\"variable.switch\" class=\"dropdown-item\" style=\"cursor: pointer;\"\n                            (click)=\"variable.switch = true; searchBibliography(searchBiblio.value, variable.switch);\">Full\n                            Text</a>\n                    </div>\n                </div>\n                <input #searchBiblio (keyup)=\"triggerSearch($event, searchBiblio.value, variable.switch)\" type=\"text\"\n                    class=\"form-control\" aria-label=\"Text input with dropdown button\"\n                    [placeholder]=\"variable.switch ?'Title, creator, year + Full Text' : 'Title, creator, year'\"\n                    style=\"font-size: 12px;\">\n            </div>\n\n        </div>\n        <!-- {{'start: '+start + ' sortField: '+ sortField + ' direction: '+ direction + ' queryTitle: '+ queryTitle + ' queryMode: '+ queryMode}} -->\n\n        <!-- SKELETON CONTAINER -->\n        <div class=\"container-fluid\">\n            <div class=\"row\">\n                <div class=\"col-md-8 pl-0\">\n\n\n                    <!-- TABLE -->\n                    <div class=\"table-responsive table-body\">\n                        <div id=\"biblioModalAnnotation\" class=\"modal fade\" role=\"dialog\">\n                            <div class=\"modal-dialog\">\n\n                                <!-- Modal content-->\n                                <div class=\"modal-content\">\n                                    <div class=\"modal-body\">\n                                        <div class=\"d-flex justify-content-center\">\n                                            <div class=\"spinner-border\" role=\"status\">\n                                                <span class=\"sr-only\">Loading...</span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n\n                            </div>\n                        </div>\n                        \n                        <table class=\"table table-striped table-hover\" [hidden]=\"bibliography.length == 0\">\n                            <thead>\n                                <tr>\n                                    <th scope=\"col\" style=\"width: 50%; cursor: pointer;\" (click)=\"sortBibliography($event, 'title')\">\n                                        <span>Title</span>\n                                        <span class=\"float-right\">\n                                            <i class=\"fas fa-sort-up\" *ngIf=\"direction == 'asc' && sortField == 'title'\"></i>\n                                            <i class=\"fas fa-sort-down\" *ngIf=\"direction == 'desc' && sortField == 'title'\"></i>\n                                        </span>\n                                    </th>\n                                    <th scope=\"col\" style=\"width: 30%; cursor: pointer;\" (click)=\"sortBibliography($event, 'creator')\">\n                                        <span>Creator</span>\n                                        <span class=\"float-right\">\n                                            <i class=\"fas fa-sort-up\" *ngIf=\"direction == 'asc' && sortField == 'creator'\"></i>\n                                            <i class=\"fas fa-sort-down\" *ngIf=\"direction == 'desc' && sortField == 'creator'\"></i>\n                                        </span>\n                                    </th>\n                                    <th scope=\"col\" style=\"width: 20%; cursor: pointer;\" (click)=\"sortBibliography($event, 'date')\">\n                                        <span>Date</span>\n                                        <span class=\"float-right\">\n                                            <i class=\"fas fa-sort-up\" *ngIf=\"direction == 'asc' && sortField == 'date'\"></i>\n                                            <i class=\"fas fa-sort-down\" *ngIf=\"direction == 'desc' && sortField == 'date'\"></i>\n                                        </span>\n                                    </th>\n                                </tr>\n                            </thead>\n                            <tbody #table_body infiniteScroll [infiniteScrollDistance]=\"0.4\"\n                                [infiniteScrollThrottle]=\"150\" [scrollWindow]=\"false\" (scrolled)=\"onScrollDown()\">\n\n\n                                <tr *ngFor=\"let item of bibliography\" (click)=\"selectItem($event, item)\"\n                                    [ngClass]=\"item?.selected ? 'selected' : ''\" style=\"cursor: pointer;\">\n                                    <td style=\"width: 50%\">\n                                        <span *ngIf=\"item.data.itemType == 'book'\" class=\"pl-1 pr-1\">\n                                            <i class=\"fas fa-book\"></i>\n                                        </span>\n                                        <span *ngIf=\"item.data.itemType == 'bookSection'\" class=\"pl-1 pr-1\">\n                                            <i class=\"fas fa-book-open\"></i>\n                                        </span>\n                                        <span *ngIf=\"item.data.itemType == 'journalArticle'\" class=\"pl-1 pr-1\">\n                                            <i class=\"far fa-newspaper\"></i>\n                                        </span>\n                                        <span *ngIf=\"item.data.itemType == 'note'\" class=\"pl-1 pr-1\">\n                                            <i class=\"far fa-clipboard\"></i>\n                                        </span>\n                                        <span *ngIf=\"item.data.itemType == 'attachment'\" class=\"pl-1 pr-1\">\n                                            <i class=\"fas fa-paperclip\"></i>\n                                        </span>\n                                        <span *ngIf=\"item.data.itemType == 'conferencePaper'\" class=\"pl-1 pr-1\">\n                                            <i class=\"fas fa-chalkboard-teacher\"></i>\n                                        </span>\n                                        <span\n                                            *ngIf=\"item.data.title != undefined && item.data.title != ''\">{{item.data.title |titlecase}}</span>\n                                        <span *ngIf=\"item.data.title == undefined || item.data.title == ''\"\n                                            class=\"font-italic\">No title</span>\n                                    </td>\n                                    <td style=\"width: 30%\">\n                                        <span *ngIf=\"item.data.creators != undefined\">\n                                            <span *ngFor=\"let author of item.data.creators; let i = index\">\n                                                <span *ngIf=\"author.creatorType == 'author'\">\n                                                    {{author.lastName | titlecase}} {{author.firstName | titlecase}} \n                                                </span>\n                                            </span>\n                                            <span *ngIf=\"!checkIfCreatorExist(item.data.creators)\"\n                                                class=\"font-italic\">No data</span>\n                                        </span>\n                                        <span *ngIf=\"item.data.creators == undefined\" class=\"font-italic\">No data</span>\n                                    </td>\n                                    <td style=\"width: 20%\">\n                                        <span *ngIf=\"item.data.date != undefined && item.data.date != ''\">\n                                            {{item.data.date | titlecase}}\n                                        </span>\n                                        <span *ngIf=\"item.data.date == undefined || item.data.date == ''\"\n                                            class=\"font-italic\">\n                                            No info\n                                        </span>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <p class=\"font-italic text-muted no-results\" *ngIf=\"bibliography.length == 0\">No results</p>\n                    </div>\n\n\n                </div>\n                <div class=\"col-md-4\" style=\"font-size: 14px;\">\n                    <div class=\"row\">\n                        <div class=\"col-md-12 item-description\"\n                            style=\"height: calc(100vh - 37rem); overflow: auto; font-size: 13px;\">\n                            <div *ngIf=\"!selectedItem\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-12\">\n                                        <p class=\"text-muted text-center align-middle mb-1 font-italic\">\n                                            No item selected\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div *ngIf=\"selectedItem\">\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.itemType != '' && selectedItem.data.itemType != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Item type\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.itemType | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.title != '' && selectedItem.data.title != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Title\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.title | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.creators != undefined && selectedItem.data.creators.length > 0 && checkIfCreatorExist(selectedItem.data.creators)\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Author\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <span *ngFor=\"let author of selectedItem.data.creators\">\n                                            <span *ngIf=\"author.creatorType == 'author'\">\n                                                <p class=\"font-weight-normal mb-1\">\n                                                    {{author.firstName | titlecase}} {{author.lastName | titlecase}}\n                                                </p>\n                                            </span>\n                                        </span>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.creators != undefined && selectedItem.data.creators.length > 0\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Editor\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <span *ngFor=\"let editor of selectedItem.data.creators\">\n                                            <span *ngIf=\"editor.creatorType == 'editor'\">\n                                                <p class=\"font-weight-normal mb-1\">\n                                                    {{editor.firstName | titlecase}} {{editor.lastName | titlecase}}\n                                                </p>\n                                            </span>\n                                        </span>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.publicationTitle != '' && selectedItem.data.publicationTitle != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Publication\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.publicationTitle | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.publisher != '' && selectedItem.data.publisher != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Publisher\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.publisher | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.issue != '' && selectedItem.data.issue != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Issue\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.issue | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.pages != '' && selectedItem.data.pages != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Pages\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.pages | titlecase }}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.place != '' && selectedItem.data.place != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Place\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.place | titlecase }}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.date != '' && selectedItem.data.pages != date\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Date\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.date | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.journalAbbreviation != '' && selectedItem.data.journalAbbreviation != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Journal Abbr\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.journalAbbreviation | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.DOI != '' && selectedItem.data.DOI != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            <a class=\"text-muted\" href=\"{{'https://doi.org/'+selectedItem.data.DOI}}\"\n                                                target=\"_blank\">DOI <i class=\"fas fa-external-link-alt\"></i></a>\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.DOI | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.ISSN != '' && selectedItem.data.ISSN != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            ISSN\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.ISSN | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.url != '' && selectedItem.data.url != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            <a class=\"text-muted\" href=\"{{selectedItem.data.url}}\" target=\"_blank\">URL\n                                                <i class=\"fas fa-external-link-alt\"></i></a>\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.url}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.accessDate != '' && selectedItem.data.accessDate != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Accessed\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.accessDate}}\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-md-12\" style=\"height: calc(40vh - 10rem); overflow: auto; font-size: 13px;\">\n                            <div *ngIf=\"!selectedItem\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-12\">\n                                        <p class=\"text-muted text-center align-middle mb-1 font-italic\">\n                                            No item selected\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div\n                                *ngIf=\"selectedItem && (selectedItem.data.abstractNote == '' || selectedItem.data.abstractNote == undefined)\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-12\">\n                                        <p class=\"text-muted text-center align-middle mb-1 font-italic\">\n                                            No info\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div\n                                *ngIf=\"selectedItem && (selectedItem.data.abstractNote != '' && selectedItem.data.abstractNote != undefined)\">\n                                <p class=\"text-muted font-weight-bold\">\n                                    Abstract\n                                </p>\n                                <p class=\"font-weight-normal\">\n                                    {{selectedItem.data.abstractNote}}\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-md-12 d-flex justify-content-end\">\n                    <button class=\"btn btn-secondary w-25\" [disabled]=\"!selectedItem\" (click)=\"addBibliographyItem(selectedItem)\">Save</button>\n                    <!-- <button class=\"btn btn-secondary\" (click)=\"addBibliography.hide()\">Close</button> -->\n                </div>\n            </div>\n        </div>\n    </ng-container>\n\n    <ng-container class=\"app-modal-footer\">\n    </ng-container>\n</app-modal>\n\n<ng-template #formPanel></ng-template>\n","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-search-page',\n  templateUrl: './search-page.component.html',\n  styleUrls: ['./search-page.component.scss']\n})\nexport class SearchPageComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","\n\n<div class=\"container-fluid\">\n\t<div class=\"row justify-content-center\">\n\t\t<div class=\"col-md-3 d-flex\">\n      <br>\n      <app-data-search-form class=\"w-100\"></app-data-search-form>  \n    </div>\n    <div class=\"col-md-9\">\n\n    </div>\n\t</div>\n</div>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { NgModule } from '@angular/core';\n\nimport { Routes, RouterModule } from '@angular/router';\nimport { AuthGuard } from './services/guard/auth.guard';\nimport { HomePageComponent } from './views/home-page/home-page.component';\nimport { LexiconPageComponent } from './views/lexicon-page/lexicon-page.component';\nimport { LoginPageComponent } from './views/login-page/login-page.component';\nimport { PageNotFoundComponent } from './views/page-not-found/page-not-found.component';\nimport { ProfilePageComponent } from './views/profile-page/profile-page.component';\nimport { SearchPageComponent } from './views/search-page/search-page.component';\n\nconst routes: Routes = [\n  {path: '', redirectTo: 'lexicon', pathMatch: 'full'},\n  /* {path: 'home', component: HomePageComponent}, */\n  /* {path: 'login', component: LoginPageComponent}, */\n  {path: 'lexicon', component: LexiconPageComponent, canActivate: [AuthGuard], data: {roles: ['USER']}},\n  {path: 'user', component: ProfilePageComponent, canActivate: [AuthGuard], data: {roles: ['ADMIN']}},\n  /* {path: 'search', component: SearchPageComponent}, */\n  /* {path: '**', component: PageNotFoundComponent} */\n  {path: '**', component: LexiconPageComponent}\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LilaService {\n\n  private baseUrl_document = \"/LexO-backend-itant_itant/service/fedex/search\"\n  private endpoint = 'https://lila-erc.eu/sparql/lila_knowledge_base/sparql'\n\n  constructor(private http: HttpClient) { }\n\n  queryCognate(label: string): Observable<any> {\n    return this.http.post(this.baseUrl_document+'?sparqlQuery='+encodeURIComponent(`\n    prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n    prefix ontolex: <http://www.w3.org/ns/lemon/ontolex#>\n    prefix lila: <http://lila-erc.eu/ontologies/lila/>\n    prefix lb: <http://lila-erc.eu/data/id/lemma/LemmaBank>\n    SELECT ?lemma ?pos ?wr \n    WHERE {\n      ?lemma a lila:Lemma ;\n      ontolex:writtenRep ?wr ;\n      lila:hasPOS ?pos .\n      FILTER regex(?wr, \"^`+label+`\", \"i\") }\n    LIMIT 500`)+'&endpoint='+this.endpoint, null)\n  }\n\n  queryEtymon(label: string): Observable<any> {\n    return this.http.post(this.baseUrl_document+'?sparqlQuery='+encodeURIComponent(`\n    PREFIX lime: <http://www.w3.org/ns/lemon/lime#>\n    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n    PREFIX lemonEty: <http://lari-datasets.ilc.cnr.it/lemonEty#>\n    PREFIX igvll: <http://lila-erc.eu/data/lexicalResources/IGVLL/>\n    SELECT  ?etymon ?language ?label ?comment WHERE\n    { ?etymon a lemonEty:Etymon ;\n      rdfs:label ?label ;\n      rdfs:comment ?comment ;\n      lime:language ?language .\n    FILTER regex(?label, \"^\\\\\\\\*`+label+`\", \"i\")}\n    LIMIT 500`)+'&endpoint='+this.endpoint, null)\n  }\n}\n","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, Input, OnDestroy, OnInit, SimpleChanges } from '@angular/core';\nimport { Form, FormArray, FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { forkJoin, Observable, Subject, Subscription } from 'rxjs';\nimport { debounceTime, pairwise, startWith, take, takeUntil } from 'rxjs/operators';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\nimport { ToastrService } from 'ngx-toastr';\nimport { DocumentSystemService } from 'src/app/services/document-system/document-system.service';\nimport { AnnotatorService } from 'src/app/services/annotator/annotator.service';\n\n@Component({\n  selector: 'app-form-core-form',\n  templateUrl: './form-core-form.component.html',\n  styleUrls: ['./form-core-form.component.scss']\n})\nexport class FormCoreFormComponent implements OnInit, OnDestroy {\n\n  @Input() formData: any;\n\n  private subject_label: Subject<any> = new Subject();\n  private subject_ex_label: Subject<any> = new Subject();\n\n  switchInput = false;\n  subscription: Subscription;\n  object: any;\n  peopleLoading = false;\n  counter = 0;\n  typesData = [];\n  morphologyData = [];\n  valueTraits = [];\n  memoryTraits = [];\n  interval;\n\n  formCore = new FormGroup({\n    inheritance: new FormArray([this.createInheritance()]),\n    type: new FormControl(''),\n    confidence: new FormControl(null),\n    label: new FormArray([this.createLabel()]),\n    morphoTraits: new FormArray([this.createMorphoTraits()])\n  })\n\n  labelData = [];\n  memoryLabel = [];\n\n  ontolexRepresentations = [];\n  lexinfoRepresentations = [];\n  typeDesc = '';\n\n  staticOtherDef = [];\n  staticMorpho = [];\n\n  morphoTraits: FormArray;\n  inheritanceArray: FormArray;\n  labelArray: FormArray;\n\n  disableAddOther = false;\n  disableAddMorpho = false;\n\n  get_morpho_data_subscription: Subscription;\n  subject_label_subscription: Subscription;\n  subject_ex_label_subscription: Subscription;\n  get_form_type_subscription: Subscription;\n\n  destroy$: Subject<boolean> = new Subject();\n\n  constructor(private lexicalService: LexicalEntriesService, \n              private formBuilder: FormBuilder, \n              private toastr: ToastrService,\n              private documentService : DocumentSystemService,\n              private annotatorService : AnnotatorService) { }\n\n  ngOnInit() {\n    this.get_morpho_data_subscription = this.lexicalService.getMorphologyData().subscribe(\n      data => {\n        this.morphologyData = data;\n        this.morphologyData = this.morphologyData.filter(x => {\n          if (x.propertyId != 'partOfSpeech') {\n            return true;\n          } else {\n            return false\n          }\n        })\n      }\n    )\n\n    this.formCore = this.formBuilder.group({\n      inheritance: this.formBuilder.array([]),\n      type: '',\n      confidence: null,\n      label: this.formBuilder.array([]),\n      morphoTraits: this.formBuilder.array([]),\n    })\n\n    this.onChanges();\n\n    this.subject_label_subscription = this.subject_label.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      data => {\n        this.onChangeLabel(data)\n      }\n    )\n\n    this.subject_ex_label_subscription = this.subject_ex_label.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n      data => {\n\n        this.onChangeExistingLabelValue(data['evt'], data['i']);\n      }\n    )\n\n    this.get_form_type_subscription = this.lexicalService.getFormTypes().subscribe(\n      data => {\n        this.typesData = data;\n        //console.log(this.typesData)\n      },\n      error => {\n        //console.log(error)\n      }\n    )\n\n  }\n\n\n  ngOnChanges(changes: SimpleChanges) {\n    setTimeout(() => {\n      if (this.object != changes.formData.currentValue) {\n        this.morphoTraits = this.formCore.get('morphoTraits') as FormArray;\n        this.morphoTraits.clear();\n\n        this.inheritanceArray = this.formCore.get('inheritance') as FormArray;\n        this.inheritanceArray.clear();\n\n        this.labelArray = this.formCore.get('label') as FormArray;\n        this.labelArray.clear();\n\n        this.staticMorpho = [];\n        this.staticOtherDef = [];\n      }\n      this.object = changes.formData.currentValue;\n      if (this.object != null) {\n\n        this.valueTraits = [];\n        this.memoryTraits = [];\n        this.memoryLabel = [];\n        this.labelData = [];\n\n        if (this.object.inheritedMorphology != undefined) {\n          for (var i = 0; i < this.object.inheritedMorphology.length; i++) {\n            const trait = this.object.inheritedMorphology[i]['trait'];\n            const value = this.object.inheritedMorphology[i]['value'];\n            this.addInheritance(trait, value.split('#')[1]);\n          }\n        }\n\n        \n\n        if (this.object.confidence == 0) {\n          this.formCore.get('confidence').setValue(true, { emitEvent: false });\n        } else {\n          this.formCore.get('confidence').setValue(false, { emitEvent: false });\n        }\n        this.formCore.get('type').setValue(this.object.type, { emitEvent: false });\n\n        for (var i = 0; i < this.object.label.length; i++) {\n\n          const trait = this.object.label[i]['propertyID'];\n          const value = this.object.label[i]['propertyValue'];\n\n          this.labelData.push(trait);\n\n          if (value != '') {\n            this.addLabel(trait, value);\n            this.memoryLabel.push(trait);\n\n           \n            this.staticOtherDef.push({ trait: trait, value: value })\n          }\n\n        }\n\n\n\n        setTimeout(async () => {\n          this.morphologyData = await this.lexicalService.getMorphologyData().toPromise();\n          for (var i = 0; i < this.object.morphology.length; i++) {\n            const trait = this.object.morphology[i]['trait'];\n            const value = this.object.morphology[i]['value'];\n\n            let traitDescription = '';\n            this.morphologyData.filter(x => {\n              if (x.propertyId == trait && trait != 'http://www.lexinfo.net/ontology/3.0/lexinfo#partOfSpeech') {\n                x.propertyValues.filter(y => {\n                  if (y.valueId == value) {\n                    traitDescription = y.valueDescription;\n                    return true;\n                  } else {\n                    return false;\n                  }\n                })\n                return true;\n              } else {\n                return false;\n              }\n            })\n            this.addMorphoTraits(trait, value, traitDescription);\n            this.onChangeTrait(trait, i);\n\n            this.staticMorpho.push({ trait: trait, value: value })\n          }\n        }, 1);\n\n\n        setTimeout(async () => {\n          this.ontolexRepresentations = await this.lexicalService.getOntolexRepresentations().toPromise();\n          this.lexinfoRepresentations = await this.lexicalService.getLexinfoRepresentations().toPromise();\n          this.typesData = await this.lexicalService.getFormTypes().toPromise();\n          let type = this.formCore.get('type').value;\n          this.typesData.forEach(el => {\n            if (el.valueId.split('#')[1] == type) {\n\n              this.typeDesc = el.valueDescription;\n            }\n          })\n\n\n\n        }, 1);\n\n        let formId = this.object.form;\n        this.documentService.searchAttestations(formId).pipe(takeUntil(this.destroy$)).subscribe(\n          data=>{\n            console.log(data);\n            if(data!= undefined){\n              let rows = data.rows;\n              if(data.rows.length > 0){\n\n                let ids = new Set();\n                let tokensId = new Set();\n                rows.forEach(element => {\n                  let path = element.nodePath.split('/');\n                  let tokenId = null;\n                  element.tokens.forEach(token => {\n                    if(token.id != undefined) {\n                      tokenId = token.id;\n                      return;\n                    }\n                  });\n                  path = path[path.length-1];\n                  ids.add(JSON.stringify({nodeId: element.nodeId}));\n                  tokensId.add(JSON.stringify({tokenId : tokenId, nodePath: path}))\n                });\n\n                console.log(ids, tokensId);\n                if(ids.size > 0){\n                  this.getAnnotations(ids, tokensId);\n                }\n              }else{\n                this.lexicalService.triggerAttestationPanel(false);\n                this.lexicalService.sendToAttestationPanel(null);\n              }\n            }\n          },error=>{\n            console.log(error)\n          }\n        );\n      }\n    }, 1)\n\n  }\n\n  getAnnotations(setIds, tokensId){\n    console.log(setIds);\n    let annotation_array = [];\n\n    const requests : Observable<any>[] = [];\n    setIds.forEach(element => {\n      let elem = JSON.parse(element);\n      requests.push(this.annotatorService.getAnnotation(elem.nodeId));\n    });\n\n    forkJoin(requests).pipe(takeUntil(this.destroy$)).subscribe(\n      (data : any)=>{\n        console.log(data);\n\n        if(data!=undefined){\n          let filter_anno = [];\n          \n          data.forEach(element => {\n            if(element.annotations != undefined){\n              let annotations = element.annotations;\n\n              annotations.forEach(anno => {\n                if(anno.layer == 'attestation'){\n                  if(anno.value == this.object.form){\n                    if(anno.attributes.bibliography == undefined) anno.attributes['bibliography'] = [];\n                    tokensId.forEach(element => {\n                      let elem = JSON.parse(element);\n                      if(elem.tokenId == anno.attributes.node_id) anno.attributes['fileId'] = elem.nodePath;\n                      //console.log(element, anno)\n                    });\n                    filter_anno.push(anno)\n                  }\n                  \n                }\n              });\n            }\n          });\n\n          console.log(filter_anno);\n          this.lexicalService.triggerAttestationPanel(true);\n          this.lexicalService.sendToAttestationPanel(filter_anno);\n        }\n      },error=> {\n        console.log(error)\n      }\n    )\n    \n  }\n\n  onChanges(): void {\n\n    this.formCore.get('confidence').valueChanges.pipe(debounceTime(100), startWith(this.formCore.get('confidence').value), pairwise(), takeUntil(this.destroy$)).subscribe(([prev, next]: [any, any]) => {\n      let confidence_value = null;\n      console.log(confidence_value);\n      let formId = this.object.form;\n\n      this.formCore.get('confidence').setValue(next, { emitEvent: false });\n\n      let oldValue = prev ? 0 : 1;\n      let newValue = next ? 0 : 1;\n      let parameters = {\n        /* type: \"confidence\", */\n        relation: 'http://www.lexinfo.net/ontology/3.0/lexinfo#confidence',\n        value: newValue\n      };\n\n\n      if (prev !== null) parameters['currentValue'] = oldValue;\n\n      this.lexicalService.updateForm(formId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data => { },\n        error => {\n          if (error.status == 200) this.toastr.success('Confidence updated', '', { timeOut: 5000 })\n          if (error.status != 200) this.toastr.error(error.error, '', { timeOut: 5000 })\n        }\n      )\n\n    });\n  }\n\n\n\n  onChangeType(evt) {\n    this.lexicalService.spinnerAction('on');\n    const newType = evt.target.value;\n    const formId = this.object.form\n    const parameters = {relation: \"http://www.w3.org/1999/02/22-rdf-syntax-ns#type\", value: newType }\n    this.lexicalService.updateForm(formId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n      data => {\n        console.log(data)\n        this.lexicalService.spinnerAction('off');\n        data['request'] = 5;\n        data['new_type'] = newType;\n        this.lexicalService.refreshAfterEdit(data);\n        this.lexicalService.updateCoreCard(this.object)\n\n        setTimeout(() => {\n          let type = this.formCore.get('type').value;\n          this.typesData.forEach(el => {\n            if (el.valueId == type) {\n\n              this.typeDesc = el.valueDescription;\n            }\n          })\n          //@ts-ignore\n          $('.type-tooltip').tooltip({\n            trigger: 'hover'\n          });\n\n\n        }, 1000);\n      }, error => {\n        console.log(error);\n        const data = this.object;\n        data['request'] = 5;\n        data['new_type'] = newType;\n        this.lexicalService.refreshAfterEdit(data);\n        this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n        this.lexicalService.spinnerAction('off');\n\n        if (typeof (error.error) != 'object') {\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n        } else {\n          this.toastr.success('Type changed', '', {\n            timeOut: 5000,\n          });\n        }\n\n        setTimeout(() => {\n          let type = this.formCore.get('type').value;\n          this.typesData.forEach(el => {\n            if (el.valueId == type) {\n\n              this.typeDesc = el.valueDescription;\n            }\n          })\n          //@ts-ignore\n          $('.type-tooltip').tooltip({\n            trigger: 'hover'\n          });\n\n\n        }, 1000);\n      }\n    )\n  }\n\n  debounceKeyup(evt, i) {\n    this.lexicalService.spinnerAction('on');\n    this.subject_label.next({ evt, i })\n  }\n\n  debounceKeyupExisting(evt, i) {\n    this.lexicalService.spinnerAction('on');\n    this.subject_ex_label.next({ evt, i })\n  }\n\n  onChangeExistingValue(evt, i) {\n    this.lexicalService.spinnerAction('on');\n    this.morphoTraits = this.formCore.get('morphoTraits') as FormArray;\n    const trait = this.morphoTraits.at(i).get('trait').value;\n    const oldValue = this.morphoTraits.at(i).get('value').value;\n    const newValue = evt.target.value;\n\n    this.morphoTraits.at(i).get('value').setValue(newValue, { emitEvent: false });\n\n    if (newValue != '') {\n      let parameters = {\n        type: \"morphology\",\n        relation: trait,\n        value: newValue,\n        currentValue: oldValue\n      }\n\n      this.staticMorpho[i] = { trait: trait, value: newValue }\n      let formId = this.object.form;\n      console.log(parameters)\n\n      this.lexicalService.updateLinguisticRelation(formId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data)\n          //this.lexicalService.refreshAfterEdit(data);\n          this.lexicalService.updateCoreCard(data)\n          this.lexicalService.spinnerAction('off');\n        },\n        error => {\n          console.log(error)\n          //this.lexicalService.refreshAfterEdit({ label: this.object.label });\n          this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n          this.lexicalService.spinnerAction('off');\n          if (error.status != 200) {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n          } else {\n            this.toastr.success('Morphologic trait changed', '', {\n              timeOut: 5000,\n            });\n          }\n        }\n      )\n\n    } else {\n      this.lexicalService.spinnerAction('off');\n    }\n  }\n\n  onChangeValue(i) {\n    this.lexicalService.spinnerAction('on');\n    this.morphoTraits = this.formCore.get('morphoTraits') as FormArray;\n    const trait = this.morphoTraits.at(i).get('trait').value;\n    const value = this.morphoTraits.at(i).get('value').value;\n    if (trait != '' && value != '') {\n\n      let parameters = {\n        type: \"morphology\",\n        relation: trait,\n        value: value\n      }\n      let formId = this.object.form;\n\n      let traitDescription = '';\n      this.morphologyData.filter(x => {\n        if (x.propertyId == trait && trait != 'partOfSpeech') {\n          x.propertyValues.filter(y => {\n            if (y.valueId == value) {\n              traitDescription = y.valueDescription;\n              return true;\n            } else {\n              return false;\n            }\n          })\n          return true;\n        } else {\n          return false;\n        }\n      })\n      console.log(parameters);\n      this.morphoTraits.at(i).get('description').setValue(traitDescription, { emitEvent: false });\n\n      this.staticMorpho.push({ trait: trait, value: value })\n\n      this.lexicalService.updateLinguisticRelation(formId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data)\n          this.lexicalService.spinnerAction('off');\n          this.lexicalService.updateCoreCard(this.object)\n          this.disableAddMorpho = false;\n          setTimeout(() => {\n\n            //@ts-ignore\n            $('.trait-tooltip').tooltip({\n              trigger: 'hover'\n            });\n\n\n          }, 1000);\n        },\n        error => {\n          console.log(error)\n          this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n          this.lexicalService.spinnerAction('off');\n          this.disableAddMorpho = false;\n          if (typeof (error.error) != 'object') {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n          } else {\n            this.toastr.success('Morphotrait changed correctly', 'Ok', {\n              timeOut: 5000,\n            });\n          }\n\n          setTimeout(() => {\n\n            //@ts-ignore\n            $('.trait-tooltip').tooltip({\n              trigger: 'hover'\n            });\n\n\n          }, 1000);\n        }\n      )\n    } else {\n      this.lexicalService.spinnerAction('off');\n    }\n  }\n\n  onChangeTrait(evt, i) {\n\n    if (evt.target != undefined) {\n      setTimeout(() => {\n        this.morphoTraits = this.formCore.get('morphoTraits') as FormArray;\n        this.morphoTraits.at(i).patchValue({ trait: evt.target.value, value: \"\" });\n        //console.log(evt.target.value)\n        if (evt.target.value != '') {\n          var arrayValues = this.morphologyData.filter(x => {\n            return x['propertyId'] == evt.target.value;\n          })['0']['propertyValues'];\n          this.valueTraits[i] = arrayValues;\n          this.memoryTraits[i] = evt.target.value;\n        } else {\n          let arrayValues = [];\n          this.valueTraits[i] = arrayValues\n          this.memoryTraits.splice(i, 1)\n        }\n\n\n\n      }, 500);\n    } else {\n\n\n      try {\n        var arrayValues = this.morphologyData.filter(x => {\n          return x['propertyId'] == evt;\n        })['0']['propertyValues'];\n        this.valueTraits[i] = arrayValues;\n        this.memoryTraits.push(evt);\n        //console.log(\"CIAO\")\n\n\n      } catch (e) {\n        console.log(e)\n      }\n\n\n\n    }\n  }\n\n  onChangeLabelTrait(evt, i) {\n\n    setTimeout(() => {\n      this.labelArray = this.formCore.get('label') as FormArray;\n      this.labelArray.at(i).patchValue({ propertyID: evt.target.value, propertyValue: \"\" });\n      //console.log(this.labelArray)\n      if (evt.target.value != '') {\n\n        this.memoryLabel[i] = evt.target.value;\n      } else {\n\n        this.memoryLabel.splice(i, 1)\n      }\n\n\n\n    }, 250);\n  }\n\n  onChangeExistingLabelValue(evt, i) {\n    this.lexicalService.spinnerAction('on');\n    this.labelArray = this.formCore.get('label') as FormArray;\n    let trait = this.labelArray.at(i).get('propertyID').value;\n    const newValue = evt.target.value;\n    this.ontolexRepresentations.forEach(\n      element=> {\n        if(element.valueId.split('#')[1] == trait){\n          trait = element.valueId;\n        }\n      }\n    )\n\n    this.lexinfoRepresentations.forEach(\n      element=> {\n        if(element.valueId.split('#')[1] == trait){\n          trait = element.valueId;\n        }\n      }\n    )\n    //console.log(this.object)\n\n    if (newValue != '') {\n      const parameters = { relation: trait, value: newValue }\n\n      this.staticOtherDef[i] = { trait: trait.split('#')[1], value: newValue }\n      let formId = this.object.form;\n\n\n\n      this.lexicalService.updateForm(formId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data)\n          this.lexicalService.spinnerAction('off');\n          //this.lexicalService.refreshLexEntryTree();\n          this.lexicalService.updateCoreCard(data)\n        }, error => {\n          console.log(error);\n          //this.lexicalService.refreshLexEntryTree();\n\n          this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n          this.lexicalService.spinnerAction('off');\n\n          if (typeof (error.error) != 'object') {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n          } else {\n            this.toastr.success('Label changed', '', {\n              timeOut: 5000,\n            });\n          }\n        }\n      )\n\n      if (trait.split('#')[1] == 'writtenRep') {\n        const data = this.object;\n        data['whatToSearch'] = 'form';\n        data['new_label'] = newValue;\n        data['request'] = 3;\n        this.lexicalService.refreshAfterEdit(data);\n      }\n\n    } else {\n      this.lexicalService.spinnerAction('off');\n      this.staticOtherDef[i] = { trait: trait, value: \"\" }\n    }\n  }\n\n  onChangeLabel(object) {\n\n    this.labelArray = this.formCore.get('label') as FormArray;\n    let trait = this.labelArray.at(object.i).get('propertyID').value;\n    this.ontolexRepresentations.forEach(\n      element=> {\n        if(element.valueId.split('#')[1] == trait){\n          trait = element.valueId;\n        }\n      }\n    )\n\n    this.lexinfoRepresentations.forEach(\n      element=> {\n        if(element.valueId.split('#')[1] == trait){\n          trait = element.valueId;\n        }\n      }\n    )\n\n    const newValue = object.evt.target.value;\n    const formId = this.object.form;\n    const parameters = { relation: trait, value: newValue }\n    //console.log(this.object)\n    this.staticOtherDef.push({ trait: trait.split('#')[1], value: newValue })\n\n    if (trait != undefined && newValue != '') {\n      this.lexicalService.updateForm(formId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data)\n          this.lexicalService.spinnerAction('off');\n          this.lexicalService.refreshAfterEdit(data);\n          this.lexicalService.updateCoreCard(data)\n          this.disableAddOther = false;\n        }, error => {\n          console.log(error);\n          this.disableAddOther = false;\n\n          this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n          this.lexicalService.spinnerAction('off');\n\n          if (error.status == 200) {\n            this.toastr.success('Label updated', 'Success', { timeOut: 5000 })\n          } else {\n            this.toastr.error(error.message, 'Error', { timeOut: 5000 })\n          }\n        }\n      )\n    } else {\n      this.lexicalService.spinnerAction('off');\n    }\n  }\n\n  createMorphoTraits(t?, v?, d?): FormGroup {\n    if (t != undefined) {\n      return this.formBuilder.group({\n        trait: new FormControl(t, [Validators.required, Validators.minLength(0)]),\n        value: new FormControl(v, [Validators.required, Validators.minLength(0)]),\n        description: new FormControl(d, [Validators.required, Validators.minLength(0)])\n      })\n    } else {\n      return this.formBuilder.group({\n        trait: new FormControl('', [Validators.required, Validators.minLength(0)]),\n        value: new FormControl('', [Validators.required, Validators.minLength(0)]),\n        description: new FormControl('', [Validators.required, Validators.minLength(0)])\n      })\n    }\n  }\n\n  createInheritance(t?, v?): FormGroup {\n    return this.formBuilder.group({\n      trait: t,\n      value: v\n    })\n  }\n\n  createLabel(t?, v?): FormGroup {\n    if (t != undefined) {\n      return this.formBuilder.group({\n        propertyID: new FormControl(t, [Validators.required, Validators.minLength(0)]),\n        propertyValue: new FormControl(v, [Validators.required, Validators.minLength(0)])\n      })\n    } else {\n      return this.formBuilder.group({\n        propertyID: new FormControl('', [Validators.required, Validators.minLength(0)]),\n        propertyValue: new FormControl('', [Validators.required, Validators.minLength(0)])\n      })\n    }\n\n  }\n\n  addLabel(t?, v?) {\n    this.labelArray = this.formCore.get('label') as FormArray;\n    if (t != undefined) {\n      this.labelArray.push(this.createLabel(t, v));\n    } else {\n      this.disableAddOther = true;\n      this.labelArray.push(this.createLabel());\n    }\n\n  }\n\n  addInheritance(t?, v?) {\n    this.inheritanceArray = this.formCore.get('inheritance') as FormArray;\n    this.inheritanceArray.push(this.createInheritance(t, v));\n  }\n\n  addMorphoTraits(t?, v?, d?) {\n    this.morphoTraits = this.formCore.get('morphoTraits') as FormArray;\n    if (t != undefined) {\n      this.morphoTraits.push(this.createMorphoTraits(t, v, d));\n    } else {\n      this.morphoTraits.push(this.createMorphoTraits());\n      this.disableAddMorpho = true;\n    }\n  }\n\n  removeElement(index) {\n    this.morphoTraits = this.formCore.get('morphoTraits') as FormArray;\n\n    const trait = this.morphoTraits.at(index).get('trait').value;\n    const value = this.morphoTraits.at(index).get('value').value;\n\n    //console.log(trait + value)\n\n    if (trait != '') {\n\n      let formId = this.object.form;\n\n      let parameters = {\n        type: 'morphology',\n        relation: trait,\n        value: value\n      }\n\n      this.lexicalService.deleteLinguisticRelation(formId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data)\n          this.toastr.success('Element removed', '', {\n            timeOut: 5000,\n          });\n          this.lexicalService.updateCoreCard(this.object)\n        }, error => {\n          console.log(error)\n          if (error.status != 200) {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n          }\n        }\n      )\n    } \n    this.disableAddMorpho = false;\n    this.staticMorpho.splice(index, 1);\n    this.morphoTraits.removeAt(index);\n    this.memoryTraits.splice(index, 1);\n    this.valueTraits.splice(index, 1)\n  }\n\n  removeLabel(index) {\n    this.labelArray = this.formCore.get('label') as FormArray;\n\n\n    const trait = this.labelArray.at(index).get('propertyID').value;\n    const value = this.labelArray.at(index).get('propertyValue').value;\n\n    //console.log(trait + value)\n\n    if (trait != '') {\n\n      let formId = this.object.form;\n\n      let parameters = {\n        type: 'morphology',\n        relation: trait,\n        value: value\n      }\n\n      this.lexicalService.deleteLinguisticRelation(formId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n        data => {\n          console.log(data)\n\n          this.toastr.success('Label removed', 'Ok', { timeOut: 5000 })\n          this.lexicalService.updateCoreCard(this.object)\n        }, error => {\n          console.log(error)\n          if (error.status != 200) {\n            this.toastr.error(error.message, 'Error', { timeOut: 5000 })\n          }\n        }\n      )\n    } else {\n      this.disableAddOther = false;\n\n    }\n    this.staticOtherDef.splice(index, 1)\n    this.labelArray.removeAt(index);\n  }\n\n  ngOnDestroy(): void {\n    this.get_morpho_data_subscription.unsubscribe();\n    this.subject_label_subscription.unsubscribe();\n    this.subject_ex_label_subscription.unsubscribe();\n    this.get_form_type_subscription.unsubscribe();\n\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n\n}\n","\n\n<form [formGroup]=\"formCore\" *ngIf=\"object != null\">\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <div class=\"input-group col-lg-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>INHERITANCE</b></span>\n                <div class=\"card-body\">\n                    <div class=\"d-flex my-2\" formArrayName=\"inheritance\"\n                        *ngFor=\"let inher of formCore.get('inheritance')['controls']; let i = index\">\n                        <div class=\"col-lg-3\" [formGroupName]=\"i\" *ngIf=\"inher.value['trait'] == 'partOfSpeech'\">\n                            <span class=\"col-form-label\">{{inher.value['trait']}}</span>\n                        </div>\n                        <div class=\"col-lg-3\" [formGroupName]=\"i\" *ngIf=\"inher.value['trait'] != 'partOfSpeech'\">\n                            <span class=\"col-form-label\">{{inher.value['trait'].split('#')[1]}}</span>\n                        </div>\n                        <div class=\"input-group col-lg-7 col-md-12\" [formGroupName]=\"i\">\n\n                            <input formControlName=\"value\" name=\"value\" type=\"text\" class=\"form-control\" placeholder=\"\"\n                                [value]=\"inher.value['value'].split('#')[1]\" readonly>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <label for=\"inputType\" class=\"col-lg-3 col-form-label\">Type:</label>\n        <div class=\"col-lg-7 input-group\">\n            <select  class=\"form-control\" (change)=\"onChangeType($event)\">\n                <option *ngFor=\"let type of typesData\" [selected]=\"object.type === type['valueId'].split('#')[1]\" [value]=\"type['valueId']\">{{type['valueLabel'] }}\n                </option>\n            </select>\n            <div class=\"input-group-append ml-2\">\n                 <button class=\"btn btn-secondary type-tooltip\" container=\"body\" placement=\"right\" [ngbTooltip]=\"typeDesc\" \n                    style=\"font-size: 12px; border-radius: .25rem;\"><i class=\"fas fa-question\"></i></button>\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"form-group row ml-2 mt-3 mr-2\" *ngIf=\"{confidence : formCore.get('confidence').value >= 0}; let variable\">\n        <div class=\"col-lg-3\">\n            <span class=\"col-form-label\">Uncertain</span>\n        </div>\n        <div class=\"col-lg-3 input-group\">\n            <input formControlName=\"confidence\" name=\"confidence\" type=\"checkbox\" >\n            <!-- <input *ngIf=\"variable.confidence\" id=\"attributes\"  step=\"0.1\" formControlName=\"confidence\" name=\"confidence\" type=\"number\" min=\"0\" max=\"1\" class=\"form-control\" placeholder=\"No info\" [value]=\"formCore.get('confidence').value\">\n            <button type=\"button\" class=\"btn btn-secondary btn-sm ml-2\" *ngIf=\"!variable.confidence\" (click)=\"variable.confidence = !variable.confidence\"><i class=\"fas fa-plus\"></i></button>\n            <button type=\"button\" class=\"btn btn-secondary btn-sm ml-2\" *ngIf=\"variable.confidence\" (click)=\"variable.confidence = !variable.confidence; applyUncertain()\"><i class=\"fas fa-minus\"></i></button> -->\n        </div>\n    </div>\n\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <div class=\"input-group col-lg-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>OTHER REPRESENTATION</b></span>\n                <a class=\"pointer\" (click)=\"addLabel()\" [ngClass]=\"{no_pointer: disableAddOther}\"><span class=\"collapse-icon\"><i\n                            class=\"fa fa-plus-square\"></i></span></a>\n                <div class=\"card-body\">\n                    <div class=\"d-flex my-3\" *ngFor=\"let def of staticOtherDef; let i = index\">\n                        <div class=\"col-md-4\">\n                            <label class=\"col-form-label\">{{def['trait']}}</label>\n                        </div>\n                        <div class=\"input-group col-md-8\">\n                            <input type=\"text\" class=\"form-control\"\n                                placeholder=\"\" (keyup)=\"debounceKeyupExisting($event, i)\" [value]=\"def['value']\">\n                            <div *ngIf=\"def['trait'] != 'writtenRep'\" (click)=\"removeLabel(i)\" class=\"input-group-append ml-2\"> <button\n                                    class=\"btn btn-danger\" type=\"button\"\n                                    style=\"font-size: 12px; border-radius: .25rem;\"><i\n                                        class=\"fa fa-trash-alt\"></i></button>\n                            </div>\n                            <div class=\"invalid-feedback\" *ngIf=\"staticOtherDef[i]['value'] == ''\" style=\"display: block;\">\n                                Please, don't leave this field blank\n                            </div>\n\n                        </div>\n                    </div>\n                    <div class=\"d-flex my-2\" formArrayName=\"label\"\n                        *ngFor=\"let l of formCore.get('label')['controls']; let i = index\">\n                        <div class=\"col-md-4\" [formGroupName]=\"i\" *ngIf=\"i + 1 > staticOtherDef.length\">\n                            <select class=\"form-control selectTrait\" formControlName=\"propertyID\" name=\"propertyID\"\n                                style=\"font-size: 12px;\" (change)=\"onChangeLabelTrait($event, i)\">\n                                <option value=\"\">Select a trait...</option>\n                                <option *ngFor=\"let ld of labelData\" [selected]=\"l.value['propertyID'] === ld\"\n                                    [disabled]=\"memoryLabel.indexOf(ld) > -1\" >{{ld}}</option>\n                            </select>\n                            <div class=\"invalid-feedback\" *ngIf=\"l.get('propertyID').invalid\" style=\"display: block;\">\n                                Please, don't leave this field blank\n                            </div>\n                        </div>\n                        <div class=\"input-group col-md-8\" [formGroupName]=\"i\" *ngIf=\"i + 1 > staticOtherDef.length\">\n                            <input formControlName=\"propertyValue\" name=\"propertyValue\" type=\"text\" class=\"form-control\"\n                                placeholder=\"\" (keyup)=\"debounceKeyup($event, i)\">\n                            <div (click)=\"removeLabel(i)\" class=\"input-group-append ml-2\"> <button\n                                    class=\"btn btn-danger\" type=\"button\"\n                                    style=\"font-size: 12px; border-radius: .25rem;\"><i\n                                        class=\"fa fa-trash-alt\"></i></button>\n                            </div>\n                            <div class=\"invalid-feedback\" *ngIf=\"l.get('propertyValue').invalid\" style=\"display: block;\">\n                                Please, don't leave this field blank\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n    </div>\n\n\n\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <div class=\"input-group col-lg-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>MORPHOLOGY</b></span>\n                <a class=\"pointer\" (click)=\"addMorphoTraits()\" [ngClass]=\"{no_pointer: disableAddMorpho}\"><span class=\"collapse-icon\"><i\n                            class=\"fa fa-plus-square\"></i></span></a>\n                <div class=\"card-body\">\n\n                    <div class=\"d-flex my-3\" *ngFor=\"let stat of staticMorpho; let i = index\">\n                        \n                        <div class=\"col-md-4\"> <!-- *ngIf=\"stat['trait'] != 'partOfSpeech'\" -->\n                            <label class=\"col-form-label\">{{stat['trait'].split('#')[1]}}</label>\n                        </div>\n                        <div class=\"input-group col-md-8\">\n                            <select class=\"form-control selectTrait\" style=\"font-size:12px;\"\n                                (change)=\"onChangeExistingValue($event, i)\">\n                                <option *ngFor=\"let item of valueTraits[i];\"\n                                    [selected]=\"stat['value'] === item.valueId\" [value]=\"item.valueId\">{{item.valueLabel}}</option>\n                            </select>\n                           \n                            <div class=\"input-group-append ml-2\">\n                                <button *ngIf=\"formCore['controls'].morphoTraits?.value[i] != null\" class=\"btn btn-secondary trait-tooltip\" type=\"button\" container=\"body\" placement=\"right\" [ngbTooltip]=\"formCore.get('morphoTraits').at(i).get('description').value\" \n                                    style=\"font-size: 12px; border-radius: .25rem;\"><i class=\"fas fa-question\"></i></button>\n                            </div>\n                            <div (click)=\"removeElement(i)\" class=\"input-group-append ml-2\"> <button\n                                    class=\"btn btn-danger\" type=\"button\"\n                                    style=\"font-size: 12px; border-radius: .25rem;\"><i\n                                        class=\"fa fa-trash-alt\"></i></button>\n                            </div>\n                        </div>\n                    </div>\n                    \n                    <div>\n\n                    </div>\n                    \n                    <div class=\"d-flex\" formArrayName=\"morphoTraits\"\n                        *ngFor=\"let morpho of formCore.get('morphoTraits')['controls']; let i = index\">\n                        <div class=\"col-md-4 my-2\" [formGroupName]=\"i\" *ngIf=\"i + 1 > staticMorpho.length\">\n                            <select class=\"form-control selectTrait\" formControlName=\"trait\" name=\"trait\"\n                                style=\"font-size: 12px;\" (change)=\"onChangeTrait($event, i)\">\n                                <option value=\"\">Select a trait...</option>\n                                <option *ngFor=\"let mt of morphologyData\"\n                                    [selected]=\"morpho.value['trait'] === mt.propertyId\"\n                                    [disabled]=\"memoryTraits.indexOf(mt.propertyId) > -1 || mt.propertyId == 'http://www.lexinfo.net/ontology/3.0/lexinfo#partOfSpeech'\" [value]=\"mt.propertyId\">{{mt.propertyLabel}}</option>\n                            </select>\n                            <div class=\"invalid-feedback\" *ngIf=\"morpho.get('trait').invalid\" style=\"display: block;\">\n                                Please, don't leave this field blank\n                            </div>\n                        </div>\n                        <div class=\"input-group col-md-8 my-2\" [formGroupName]=\"i\" *ngIf=\"i + 1> staticMorpho.length\">\n                            <select class=\"form-control selectTrait\" formControlName=\"value\" name=\"value\"\n                                style=\"font-size:12px;\" (change)=\"onChangeValue(i)\">\n                                <option value=\"\">Select a value...</option>\n                                <option *ngFor=\"let item of valueTraits[i];\" [attr.data-index]=\"i\"\n                                    [selected]=\"morpho.value['value'] === item.valueId\" [value]=\"item.valueId\">{{item.valueLabel}}</option>\n                            </select>\n\n                            <div (click)=\"removeElement(i)\" class=\"input-group-append ml-2\"> <button\n                                    class=\"btn btn-danger\" type=\"button\"\n                                    style=\"font-size: 12px; border-radius: .25rem;\"><i\n                                        class=\"fa fa-trash-alt\"></i></button>\n                            </div>\n                            <div class=\"invalid-feedback\" *ngIf=\"morpho.get('value').invalid\" style=\"display: block;\">\n                                Please, don't leave this field blank\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</form>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-data-search-form',\n  templateUrl: './data-search-form.component.html',\n  styleUrls: ['./data-search-form.component.scss']\n})\nexport class DataSearchFormComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  onSubmit(): void {\n    // Process checkout data here\n    \n    console.warn('Your order has been submitted');\n    \n  }\n}\n","\n\n<form (ngSubmit)=\"onSubmit()\" class=\"h-100 d-flex flex-column\">\n    <!-- FULL TEXT -->\n    <div class=\"card\">\n        <div class=\"card-header\" id=\"headingOne\">\n            <h5 class=\"mb-0\">\n                <a class=\"btn\" aria-expanded=\"true\">\n                    Ricerca Full-Text\n                </a>\n            </h5>\n        </div>\n        <div class=\"collapse show\" aria-labelledby=\"headingOne\" data-parent=\"#search-accordion\">\n            <div class=\"card-body\">\n                <div class=\"form-row\">\n                    <div class=\"form-group col-md-8\">\n                        <label for=\"fullTextInput\">Testo: </label>\n                        <input type=\"text\" class=\"form-control\" id=\"fullTextInput\" placeholder=\"\">\n                    </div>\n                </div>\n                <div class=\"form-row\">\n                    <div class=\"form-group col-md-8\">\n                        <label for=\"selectFullText\">Cerca le schede che contengono:</label>\n                        <select class=\"form-control\" id=\"selectFullText\">\n                            <option>Tutte le parole</option>\n                            <option>Una qualsiasi delle parole</option>\n                            <option>La frase esatta</option>\n                        </select>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n    </div>\n\n    <div id=\"search-accordion\">\n\n        <!-- DATI GENERALI -->\n        <div class=\"card\">\n            <div class=\"card-header\" id=\"generalDataHeading\">\n                <h5 class=\"mb-0\">\n                    <a class=\"btn btn-link collapsed\" data-toggle=\"collapse\" data-target=\"#generalDataCollapse\"\n                        aria-expanded=\"false\" aria-controls=\"generalDataCollapse\">\n                        <i class=\"fa\"></i>&nbsp;Dati generali\n                    </a>\n                </h5>\n            </div>\n            <div id=\"generalDataCollapse\" class=\"collapse\" aria-labelledby=\"generalDataHeading\"\n                data-parent=\"#search-accordion\">\n                <div class=\"card-body form-row\">\n                    <div class=\"form-group col-md-6\">\n                        <label for=\"idText\">Identificativo:</label>\n                        <input type=\"text\" class=\"form-control\" id=\"idText\" placeholder=\"\">\n                    </div>\n                    <div class=\"form-group col-md-6\">\n                        <label for=\"titleInput\">Titolo: </label>\n                        <input type=\"text\" class=\"form-control\" id=\"titleInput\" placeholder=\"\">\n                    </div>\n                    <div class=\"form-group col-md-8\">\n                        <label for=\"selectTitle\">Cerca le schede che contengono:</label>\n                        <select class=\"form-control\" id=\"selectTitle\">\n                            <option>Tutte le parole</option>\n                            <option>Una qualsiasi delle parole</option>\n                            <option>La frase esatta</option>\n                        </select>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- SUPPORTO -->\n        <div class=\"card\">\n            <div class=\"card-header\" id=\"supportHeading\">\n                <h5 class=\"mb-0\">\n                    <a class=\"btn btn-link collapsed\" data-toggle=\"collapse\" data-target=\"#supportCollapse\"\n                        aria-expanded=\"false\" aria-controls=\"supportCollapse\">\n                        <i class=\"fa\"></i>&nbsp;Supporto\n                    </a>\n                </h5>\n            </div>\n            <div id=\"supportCollapse\" class=\"collapse\" aria-labelledby=\"supportHeading\" data-parent=\"#search-accordion\">\n                <div class=\"card-body\">\n                    <div class=\"row\">\n                        <div class=\"form-group col-md-8\">\n                            <label for=\"inscriptionType\">Tipo di iscrizione: </label>\n                            <select class=\"form-control\" id=\"inscriptionType\">\n                                <option>Funeraria</option>\n                                <option>Ode</option>\n                                <option>Mercantile</option>\n                            </select>\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"form-group col-md-8\">\n                            <label for=\"objectType\">Tipo di oggetto: </label>\n                            <select class=\"form-control\" id=\"objectType\">\n                                <option>Marmo</option>\n                                <option>Papiro</option>\n                                <option>Pietra</option>\n                            </select>\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"form-group col-md-8\">\n                            <label for=\"ancientPlaceName\">Luogo di rinvenimento (nome antico): </label>\n                            <input type=\"text\" class=\"form-control\" id=\"ancientPlaceName\" placeholder=\"\">\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"form-group col-md-8\">\n                            <label for=\"modernPlaceName\">Luogo di rinvenimento (nome moderno): </label>\n                            <input type=\"text\" class=\"form-control\" id=\"modernPlaceName\" placeholder=\"\">\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n\n        <!-- BIBLIOGRAFIA -->\n        <div class=\"card\">\n            <div class=\"card-header\" id=\"bibliographyHeading\">\n                <h5 class=\"mb-0\">\n                    <a class=\"btn btn-link collapsed\" data-toggle=\"collapse\" data-target=\"#bibliographyCollapse\"\n                        aria-expanded=\"false\" aria-controls=\"bibliographyCollapse\">\n                        <i class=\"fa\"></i>&nbsp;Bibliografia\n                    </a>\n                </h5>\n            </div>\n            <div id=\"bibliographyCollapse\" class=\"collapse\" aria-labelledby=\"bibliographyHeading\"\n                data-parent=\"#search-accordion\">\n                <div class=\"card-body\">\n                    <div class=\"row\">\n                        <div class=\"form-group col-md-8\">\n                            <label for=\"authorSelect\">Autore: </label>\n                            <select class=\"form-control\" id=\"authorSelect\">\n                                <option>...</option>\n                            </select>\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"form-group col-md-8\">\n                            <label for=\"titleInput\">Titolo: </label>\n                            <input type=\"text\" class=\"form-control\" id=\"titleInput\" placeholder=\"\">\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"form-group col-md-8\">\n                            <label for=\"publicationYear\">Anno pubblicazione:&nbsp;&nbsp;&nbsp;&nbsp;</label>\n                            <input type=\"number\" class=\"form-control\" id=\"publicationYear\" placeholder=\"1900\">\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- CRONOLOGIA -->\n        <div class=\"card\">\n            <div class=\"card-header\" id=\"chronologyHeading\">\n                <h5 class=\"mb-0\">\n                    <a class=\"btn btn-link collapsed\" data-toggle=\"collapse\" data-target=\"#chronologyCollapse\"\n                        aria-expanded=\"false\" aria-controls=\"chronologyCollapse\">\n                        <i class=\"fa\"></i>&nbsp;Cronologia\n                    </a>\n                </h5>\n            </div>\n            <div id=\"chronologyCollapse\" class=\"collapse\" aria-labelledby=\"chronologyHeading\"\n                data-parent=\"#search-accordion\">\n                <div class=\"card-body\">\n                    <div class=\"form-group\">\n                        <div class=\"form-check\">\n                            <input class=\"form-check-input\" type=\"checkbox\" id=\"intervalDate\"\n                                onchange=\"document.getElementById('toDate').disabled = !this.checked;\">\n                            <label class=\"form-check-label\" for=\"intervalDate\">\n                                Intervallo\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class=\"form-group mb-2\">\n                        <label for=\"fromDate\">Da:&nbsp;&nbsp;&nbsp;&nbsp;</label>\n                        <input type=\"number\" class=\"form-control\" id=\"fromDate\" placeholder=\"-100\">\n                    </div>\n                    <div class=\"form-group mb-2\">\n                        <label for=\"toDate\">A:&nbsp;&nbsp;&nbsp;&nbsp;</label>\n                        <input type=\"number\" class=\"form-control\" id=\"toDate\" placeholder=\"100\" disabled>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n\n        <!-- TESTO -->\n        <div class=\"card\">\n            <div class=\"card-header\" id=\"textHeading\">\n                <h5 class=\"mb-0\">\n                    <a class=\"btn btn-link collapsed\" data-toggle=\"collapse\" data-target=\"#textCollapse\"\n                        aria-expanded=\"false\" aria-controls=\"textCollapse\">\n                        <i class=\"fa\"></i>&nbsp;Testo\n                    </a>\n                </h5>\n            </div>\n            <div id=\"textCollapse\" class=\"collapse\" aria-labelledby=\"textHeading\" data-parent=\"#search-accordion\">\n                <div class=\"card-body\">\n                    <div class=\"form-row align-items-center\">\n                        <div class=\"col-sm-6 my-1\">\n                            <label class=\"sr-only\" for=\"searchText\">Testo:</label>\n                            <input type=\"text\" class=\"form-control\" id=\"searchText\" placeholder=\"Cerca nel testo\">\n                        </div>\n                        <div class=\"col-sm-6 my-1\">\n                            <div class=\"custom-control custom-switch custom-switch-lg\">\n                                <input type=\"checkbox\" class=\"custom-control-input\" id=\"transliteratorSwitcher\">\n                                <label class=\"custom-control-label\" for=\"transliteratorSwitcher\">Greek char</label>\n                            </div>\n                        </div>\n                        <div class=\"col-sm-6 my-2\">\n                            <label class=\"sr-only\" for=\"editionSelect\">Example select</label>\n                            <select class=\"form-control\" id=\"editionSelect\">\n                                <option>Diplomatica</option>\n                                <option>Interpretativa</option>\n                                <option>Entrambe</option>\n                            </select>\n                        </div>\n                    </div>\n                    <div class=\"form-row align-items-center\">\n                        <div class=\"col-md-4 col-sm-12\">\n                            <label for=\"langSelect\">Lingua</label>\n                            <select class=\"form-control\" id=\"langSelect\">\n                                <option>...</option>\n                            </select>\n                        </div>\n                        <div class=\"col-md-4 col-sm-12\">\n                            <label for=\"alfaSelect\">Alfabeto</label>\n                            <select class=\"form-control\" id=\"alfaSelect\">\n                                <option>...</option>\n                            </select>\n                        </div>\n                        <div class=\"col-md-4 col-sm-12\">\n                            <label for=\"ducSelect\">Ductus</label>\n                            <select class=\"form-control\" id=\"ducSelect\">\n                                <option>...</option>\n                            </select>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <!-- BUTTONS -->\n    <div class=\"h-100 mb-3\" style=\"border:none;\">\n        <div class=\" h-100\">\n            <div class=\"form-row align-items-end h-100\">\n                <div class=\"col-sm-2\">\n\n                </div>\n                <div class=\"col-sm-4\">\n                    <button class=\"btn btn-danger btn-block\" type=\"reset\" value=\"Reset\"><i class=\"fa fa-eraser\"></i>\n                        Reset</button>\n                </div>\n                <div class=\"col-sm-4\">\n                    <button class=\"btn btn-primary btn-block\" type=\"submit\" value=\"Submit\"><i class=\"fa fa-search\"></i>\n                        Cerca</button>\n                </div>\n                <div class=\"col-sm-2\">\n\n                </div>\n            </div>\n        </div>\n    </div>\n</form>","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ModalComponent } from 'ng-modal-lib';\nimport { Subscription } from 'rxjs';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\n\n@Component({\n  selector: 'app-cognate-panel',\n  templateUrl: './cognate-panel.component.html',\n  styleUrls: ['./cognate-panel.component.scss']\n})\nexport class CognatePanelComponent implements OnInit {\n\n  public lexicalEntryId: string;\n  public cogInstanceName : any;\n  public label : any;\n  public subscription: Subscription;\n  public lexicalEntryData : any;\n  public id : any;\n\n  @ViewChild('cognatePanelModal', {static: false}) cognatePanelModal: ModalComponent;\n\n\n  constructor(private lexicalService: LexicalEntriesService) { }\n\n  ngOnInit(): void {\n  }\n\n  triggerCognatePanel(data?){\n    setTimeout(() => {\n      this.cognatePanelModal.show();\n      \n    }, 100);\n    \n  }\n\n  onCloseModal(cogInstanceName, lexInstanceName){\n    this.lexicalService.closePanelForm(cogInstanceName, lexInstanceName);\n    console.log(this.lexicalService.getAllPanelForms())\n  }\n\n}\n","\n<app-modal #cognatePanelModal style=\"top: 10%;\" class=\"modal-demo\" [maximizable]=\"false\" [inViewport]=\"true\"  [backdrop]=\"false\" class=\"panelFormData\" (closeModal)=\"onCloseModal(cogInstanceName, lexicalEntryId)\">\n    <ng-container class=\"app-modal-header\">{{label}}</ng-container>\n    <ng-container class=\"app-modal-body\">\n       <app-lexical-entry-core-form [lexData]=\"lexicalEntryData\"></app-lexical-entry-core-form>\n    </ng-container>\n    \n</app-modal>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { ChangeDetectorRef, Component, ComponentFactoryResolver, Input, OnDestroy, OnInit, SimpleChanges, ViewChild, ViewContainerRef } from '@angular/core';\nimport { LexicalEntriesService } from '../../../../../../services/lexical-entries/lexical-entries.service';\nimport { Subject, Subscription } from 'rxjs';\nimport { ToastrService } from 'ngx-toastr';\n\n\nimport { FormBuilder, FormGroup, FormArray, FormControl, Validators, Form } from '@angular/forms';\nimport { debounceTime, distinctUntilChanged, pairwise, startWith, take, takeUntil } from 'rxjs/operators';\nimport { NgSelectComponent } from '@ng-select/ng-select';\nimport { LilaService } from 'src/app/services/lila/lila.service';\nimport { CognatePanelComponent } from './cognate-panel/cognate-panel.component';\nimport { ConceptService } from 'src/app/services/concept/concept.service';\n\n\n@Component({\n    selector: 'app-lexical-entry-core-form',\n    templateUrl: './lexical-entry-core-form.component.html',\n    styleUrls: ['./lexical-entry-core-form.component.scss']\n})\nexport class LexicalEntryCoreFormComponent implements OnInit, OnDestroy {\n\n    @Input() lexData: any;\n    @ViewChild('cognatePanel', { read: ViewContainerRef }) vc: ViewContainerRef;\n\n    destroy$: Subject<boolean> = new Subject();\n    private subject: Subject<any> = new Subject();\n    switchInput = false;\n    subscription: Subscription;\n    object: any;\n    peopleLoading = false;\n    counter = 0;\n    lexEntryTypesData = [];\n    morphologyData = [];\n    valueTraits = [];\n    memoryTraits = [];\n    memoryValues = [];\n    languages = [];\n\n    memoryDenotes = [];\n    memoryCognates = [];\n    memoryEvokes = [];\n    memoryStem = '';\n\n    valuePos = [];\n    memoryPos = '';\n\n    posDescription = '';\n    typeDesc = '';\n    staticMorpho = [];\n\n    memoryConfidence = null;\n\n    interval;\n\n    searchResults = [];\n    filterLoading = false;\n\n\n\n    private denotes_subject: Subject<any> = new Subject();\n    private cognates_subject: Subject<any> = new Subject();\n    private evokes_subject: Subject<any> = new Subject();\n    private subterm_subject: Subject<any> = new Subject();\n    private ext_subterm_subject_subscription: Subscription;\n\n\n\n    /* public urlRegex = /(^|\\s)((https?:\\/\\/)?[\\w-]+(\\.[\\w-]+)+\\.?(:\\d+)?(\\/\\S*)?)/gi */\n    public urlRegex = /(^|\\s)((https?:\\/\\/.+))/;\n\n    emptyLabelFlag = false;\n    emptyFlag = false;\n\n    disableAddMorpho = false;\n    disableAddSubterm = false;\n\n    isMultiword = false;\n    memorySubterm = [];\n\n    coreForm = new FormGroup({\n        label: new FormControl('', [Validators.required, Validators.minLength(2)]),\n        type: new FormControl(''),\n        confidence: new FormControl(null),\n        language: new FormControl('', [Validators.required, Validators.minLength(0)]),\n        pos: new FormControl(''),\n        morphoTraits: new FormArray([this.createMorphoTraits()]),\n        stemType: new FormControl(''),\n        evokes: new FormArray([this.createEvokes()]),\n        denotes: new FormArray([this.createDenotes()]),\n        cognates: new FormArray([this.createCognates()]),\n        isCognate: new FormControl(null),\n        isEtymon: new FormControl(null),\n        subterm: new FormArray([])\n    })\n\n    morphoTraits: FormArray;\n    evokesArray: FormArray;\n    denotesArray: FormArray;\n    cognatesArray: FormArray;\n    subtermArray: FormArray;\n    disableAddCognates = false;\n    disableAddDenotes = false;\n    disableAddEvokes = false;\n    arrayComponents = [];\n\n    denotes_subject_subscription: Subscription;\n    cognates_subject_subscription: Subscription;\n    update_lang_subscription: Subscription;\n    get_languages_subscription: Subscription;\n    subject_subscription: Subscription;\n    private ext_subterm_subject: Subject<any> = new Subject();\n    subject_evokes_search: Subject<any> = new Subject();\n    searchResultsConcepts: any;\n\n\n    constructor(private lexicalService: LexicalEntriesService,\n        private formBuilder: FormBuilder,\n        private toastr: ToastrService,\n        private lilaService: LilaService,\n        private factory: ComponentFactoryResolver,\n        private conceptService : ConceptService) {\n\n    }\n\n    ngOnInit() {\n        /* setTimeout(() => {\n            //@ts-ignore\n            $('.denotes-tooltip').tooltip({\n                trigger: 'hover'\n            });\n        }, 1000); */\n\n\n\n\n        this.denotes_subject_subscription = this.denotes_subject.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n            data => {\n                this.onChangeDenotes(data)\n            }\n        )\n\n        this.evokes_subject.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n            data=>{\n                this.onChangeEvokes(data);\n            }\n        )\n\n        this.ext_subterm_subject_subscription = this.ext_subterm_subject.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n            data => {\n                this.onChangeSubterm(data)\n            }\n        )\n\n        this.cognates_subject_subscription = this.cognates_subject.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n            data => {\n                this.onChangeCognates(data)\n            }\n        )\n\n        this.subterm_subject.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n            data => {\n                this.onSearchFilterSubterm(data)\n            }\n        )\n\n        this.update_lang_subscription = this.lexicalService.updateLangSelect$.subscribe(\n            signal => {\n\n                if (signal != null) {\n\n                    this.languages = [];\n                    this.lexicalService.getLexiconLanguages().pipe(takeUntil(this.destroy$)).subscribe(\n                        data => {\n                            console.log(data)\n                            for (var i = 0; i < data.length; i++) {\n                                this.languages[i] = data[i]\n                            }\n                        }\n                    );\n                }\n            }\n        );\n\n        this.get_languages_subscription = this.lexicalService.getLexiconLanguages().subscribe(\n            data => {\n                this.languages = [];\n                for (var i = 0; i < data.length; i++) {\n                    this.languages[i] = data[i]\n                }\n            }\n        );\n\n        this.subject_subscription = this.subject.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n            data => {\n                this.onSearchFilter(data)\n            }\n        )\n\n        this.subject_evokes_search.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n            data => {\n                this.onSearchLexicalConcept(data)\n            }\n        )\n        \n\n\n        //this.lexEntryTypesData = await this.lexicalService.getMorphologyData().toPromise();\n\n        this.coreForm = this.formBuilder.group({\n            label: '',\n            type: '',\n            confidence: false,\n            language: '',\n            pos: '',\n            morphoTraits: this.formBuilder.array([]),\n            stemType: '',\n            evokes: this.formBuilder.array([this.createEvokes()]),\n            denotes: this.formBuilder.array([this.createDenotes()]),\n            cognates: this.formBuilder.array([this.createCognates()]),\n            isCognate: false,\n            isEtymon: false,\n            subterm: this.formBuilder.array([]),\n        })\n\n        this.onChanges();\n    }\n\n    /* triggerDenotes(evt) {\n        if (evt.target != undefined) {\n            this.subject.next(evt.target.value)\n        }\n    } */\n\n    triggerCognates(evt, i) {\n        console.log(evt)\n        if (evt.target != undefined) {\n\n            this.subject.next({ value: evt.target.value, index: i })\n        }\n    }\n\n\n    triggerEvokes(evt, i) {\n        console.log(evt)\n        if (evt.target != undefined) {\n\n            this.subject_evokes_search.next({ value: evt.target.value, index: i })\n        }\n    }\n\n    onSearchFilterSubterm(data) {\n        this.searchResults = [];\n\n        if (this.object.lexicalEntry != undefined) {\n            let parameters = {\n                text: data,\n                searchMode: \"startsWith\",\n                type: \"\",\n                pos: \"\",\n                formType: \"entry\",\n                author: \"\",\n                lang: \"\",\n                status: \"\",\n                offset: 0,\n                limit: 500\n            }\n\n            /* && data.length >= 3 */\n\n            this.lexicalService.getLexicalEntriesList(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n                data => {\n                    console.log(data)\n                    let filter_lang = data.list.filter(\n                        element => element.lexicalEntry != this.object.lexicalEntry\n                    )\n\n                    console.log(filter_lang)\n                    this.searchResults = filter_lang;\n                }, error => {\n                    console.log(error)\n                }\n            )\n\n\n        } else {\n        }\n\n    }\n\n    onSearchFilter(data) {\n        this.filterLoading = true;\n        this.searchResults = [];\n\n        let value = data.value;\n        let index = data.index;\n\n        this.cognatesArray = this.coreForm.get('cognates') as FormArray;\n\n        if (this.object.lexicalEntry != undefined && !this.cognatesArray.at(index).get('lila').value) {\n            let parameters = {\n                text: value,\n                searchMode: \"startsWith\",\n                type: \"\",\n                pos: \"\",\n                formType: \"entry\",\n                author: \"\",\n                lang: \"\",\n                status: \"\",\n                offset: 0,\n                limit: 500\n            }\n\n            /* && data.length >= 3 */\n            this.lexicalService.getLexicalEntriesList(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n                data => {\n                    console.log(data)\n\n                    if (data.list.length > 0) {\n                        let filter_lang = data.list.filter(\n                            element => element.language != this.object.language\n                        )\n                        filter_lang.forEach(element => {\n                            element['label_lang'] = element.label + \"@\" + element.language\n                        });\n                        console.log(filter_lang)\n                        this.searchResults = filter_lang;\n                        this.filterLoading = false;\n                    } else {\n                        this.filterLoading = false;\n                    }\n\n                }, error => {\n                    //console.log(error)\n                    this.filterLoading = false;\n                }\n            )\n\n        } else if (this.object.lexicalEntry != undefined && this.cognatesArray.at(index).get('lila').value) {\n\n            this.searchResults = [];\n            this.lilaService.queryCognate(value).pipe(takeUntil(this.destroy$)).subscribe(\n                data => {\n                    console.log(data);\n                    if (data.list.length > 0) {\n\n\n                        const map = data.list.map(element => (\n                            {\n                                label: element[2].value,\n                                labelValue: element[0].value,\n                                pos: element[1].value\n                            })\n                        )\n\n                        map.forEach(element => {\n                            let tmpLblVal = element.labelValue.split('/');\n                            let labelValue = tmpLblVal[tmpLblVal.length - 1];\n\n                            let tmpLblPos = element.pos.split('/');\n                            let pos = tmpLblPos[tmpLblPos.length - 1];\n\n\n                            element.labelElement = labelValue;\n                            element.labelPos = pos;\n\n                        });\n\n\n\n                        this.searchResults = map;\n                        console.log(this.searchResults)\n                        this.filterLoading = false;\n\n\n                    }\n                },\n                error => {\n                    console.log(error)\n                    this.filterLoading = false;\n                }\n            )\n\n        } else {\n            this.filterLoading = false;\n\n\n        }\n\n    }\n\n    onSearchLexicalConcept(data) {\n        this.filterLoading = true;\n        this.searchResults = [];\n\n        let value = data.value;\n        let index = data.index;\n\n        this.evokesArray = this.coreForm.get('evokes') as FormArray;\n\n        if (this.object.lexicalEntry != undefined) {\n            let parameters = {\n                text: value,\n                searchMode: \"startsWith\",\n                labelType: \"prefLabel\",\n                author: \"\",\n                offset: 0,\n                limit: 500\n            }\n\n            /* && data.length >= 3 */\n            this.conceptService.conceptFilter(parameters).pipe(takeUntil(this.destroy$)).subscribe(\n                data => {\n                    console.log(data)\n\n                    if (data.list.length > 0) {\n                        let filter_lang = data.list.filter(\n                            element => element.language != 'null'\n                        )\n    \n                        console.log(filter_lang)\n                        this.searchResults = filter_lang;\n                    } else {\n                        this.filterLoading = false;\n                    }\n\n                }, error => {\n                    //console.log(error)\n                    this.filterLoading = false;\n                }\n            )\n\n        } else if (this.object.lexicalEntry != undefined && this.cognatesArray.at(index).get('lila').value) {\n\n            this.searchResults = [];\n            this.lilaService.queryCognate(value).pipe(takeUntil(this.destroy$)).subscribe(\n                data => {\n                    console.log(data);\n                    if (data.list.length > 0) {\n\n\n                        const map = data.list.map(element => (\n                            {\n                                label: element[2].value,\n                                labelValue: element[0].value,\n                                pos: element[1].value\n                            })\n                        )\n\n                        map.forEach(element => {\n                            let tmpLblVal = element.labelValue.split('/');\n                            let labelValue = tmpLblVal[tmpLblVal.length - 1];\n\n                            let tmpLblPos = element.pos.split('/');\n                            let pos = tmpLblPos[tmpLblPos.length - 1];\n\n\n                            element.labelElement = labelValue;\n                            element.labelPos = pos;\n\n                        });\n\n\n\n                        this.searchResults = map;\n                        console.log(this.searchResults)\n                        this.filterLoading = false;\n\n\n                    }\n                },\n                error => {\n                    console.log(error)\n                    this.filterLoading = false;\n                }\n            )\n\n        } else {\n            this.filterLoading = false;\n\n\n        }\n\n    }\n\n    deleteData() {\n        this.searchResults = [];\n    }\n\n\n\n    //TODO: inserire un wizard per la creazione di multiword al volo\n\n    ngOnChanges(changes: SimpleChanges) {\n        setTimeout(() => {\n            if (this.object != changes.lexData.currentValue) {\n                this.morphoTraits = this.coreForm.get('morphoTraits') as FormArray;\n                this.morphoTraits.clear();\n\n                this.denotesArray = this.coreForm.get('denotes') as FormArray;\n                this.denotesArray.clear();\n\n                this.cognatesArray = this.coreForm.get('cognates') as FormArray;\n                this.cognatesArray.clear();\n\n                this.evokesArray = this.coreForm.get('evokes') as FormArray;\n                this.evokesArray.clear();\n\n                this.disableAddCognates = false;\n                this.disableAddDenotes = false;\n                this.disableAddMorpho = false;\n                this.disableAddEvokes = false;\n                \n                this.subtermArray = this.coreForm.get('subterm') as FormArray;\n                this.subtermArray.clear();\n\n                this.memoryStem = '';\n                this.memoryPos = '';\n\n                this.staticMorpho = []\n\n                this.memorySubterm = [];\n                \n                this.memoryCognates = [];\n                \n                this.isMultiword = false;\n            }\n            this.object = changes.lexData.currentValue;\n\n\n            if (this.object != null) {\n\n                const lexId = this.object.lexicalEntry;\n                this.coreForm.get('label').setValue(this.object.label, { emitEvent: false });\n                this.coreForm.get('stemType').setValue(this.object.stemType, { emitEvent: false });\n                if (this.object.stemType != '') {\n                    this.memoryStem = this.object.stemType;\n                }\n                if (this.object.type == 'Etymon') {\n                    this.coreForm.get('type').disable({ onlySelf: true, emitEvent: false })\n                } else {\n                    this.coreForm.get('type').enable({ onlySelf: true, emitEvent: false })\n                }\n\n                if (this.object.confidence == 0) {\n                    //spento se null o 1\n                    //acceso se 0\n                    this.coreForm.get('confidence').patchValue(true, { emitEvent: false });\n                } else {\n                    this.coreForm.get('confidence').setValue(null, { emitEvent: false });\n                }\n\n\n                this.object.type.forEach(element => {\n                    if (element != 'Cognate') {\n                        this.coreForm.get('type').setValue(element, { emitEvent: false });\n                        return true;\n                    } else {\n                        return false;\n                    }\n                });\n\n                let isCognate = this.object.type.find(element => element == 'Cognate');\n                this.isMultiword = this.object.type.some(element => element == 'MultiWordExpression');\n                if (this.isMultiword) {\n                    this.getSubterms(lexId);\n                }\n                if (isCognate) {\n                    this.coreForm.get('isCognate').setValue(true, { emitEvent: false })\n                } else {\n                    this.coreForm.get('isCognate').setValue(false, { emitEvent: false })\n                }\n\n                let isEtymon = this.object.type.find(element => element == 'Etymon');\n                if (isEtymon) {\n                    this.coreForm.get('isEtymon').setValue(true, { emitEvent: false })\n                } else {\n                    this.coreForm.get('isEtymon').setValue(false, { emitEvent: false })\n                }\n\n                //this.coreForm.get('type').setValue(this.object.type, { emitEvent: false });\n                this.coreForm.get('language').setValue(this.object.language, { emitEvent: false });\n                this.coreForm.get('pos').setValue(this.object.pos, { emitEvent: false });\n\n                this.memoryPos = this.object.pos;\n\n                this.valueTraits = [];\n                this.memoryTraits = [];\n                this.memoryDenotes = [];\n                this.memoryCognates = [];\n                this.memoryValues = [];\n                this.memoryEvokes = [];\n                this.memoryConfidence = null;\n\n                /*  //console.log('MORFOLOGIA')\n                 //console.log(this.object.morphology) */\n                setTimeout(async () => {\n                    this.morphologyData = await this.lexicalService.getMorphologyData().toPromise();\n                    this.valuePos = this.morphologyData.filter(x => {\n                        if (x.propertyId == 'http://www.lexinfo.net/ontology/3.0/lexinfo#partOfSpeech') {\n                            return true;\n                        } else {\n                            return false;\n                        }\n                    })\n                    this.valuePos = this.valuePos[0]['propertyValues'];\n\n                    for (var i = 0; i < this.object.morphology.length; i++) {\n                        const trait = this.object.morphology[i]['trait'];\n                        const value = this.object.morphology[i]['value'];\n\n                        let traitDescription = '';\n                        let labelTrait = this.object.morphology[i]['trait'].split('#')[1];\n                        let labelValue = this.object.morphology[i]['value'].split('#')[1];\n                        this.morphologyData.filter(x => {\n                            if (x.propertyId == trait && trait != 'http://www.lexinfo.net/ontology/3.0/lexinfo#partOfSpeech') {\n                                x.propertyValues.filter(y => {\n                                    if (y.valueId == value) {\n                                        traitDescription = y.valueDescription;\n                                        return true;\n                                    } else {\n                                        return false;\n                                    }\n                                })\n                                return true;\n                            } else {\n                                return false;\n                            }\n                        })\n\n                        this.memoryValues[i] = this.object.morphology[i]['value'];\n\n\n\n                        let pos = this.coreForm.get('pos').value;\n                        this.valuePos.forEach(el => {\n                            if (el.valueId.split('#')[1] == pos) {\n\n                                this.posDescription = el.valueDescription;\n                            }\n                        })\n\n                        //this.valuePos.map(element => element.valueId = element.valueId.split('#')[1])\n                        this.addMorphoTraits(trait, value, traitDescription, labelTrait, labelValue);\n                        this.onChangeTrait(trait, i);\n\n                        this.staticMorpho.push({ trait: trait, value: value });\n\n                    }\n                }, 50);\n\n\n\n                setTimeout(async () => {\n                    if(this.lexEntryTypesData.length == 0) {\n                        this.lexEntryTypesData = await this.lexicalService.getLexEntryTypes().toPromise();\n                    }\n                    let type = this.coreForm.get('type').value;\n                    this.lexEntryTypesData.forEach(el => {\n                        if (el.valueId.split('#')[1] == type) {\n                            this.coreForm.get('type').setValue(el.valueId, { emitEvent: false });\n                            this.typeDesc = el.valueDescription;\n                        }\n                    })\n\n\n\n                }, 100);\n\n                this.lexicalService.getLexEntryLinguisticRelation(lexId, 'denotes').pipe(takeUntil(this.destroy$)).subscribe(\n                    data => {\n                        //console.log(data)\n                        for (var i = 0; i < data.length; i++) {\n                            let entity = data[i]['entity'];\n                            let type = data[i]['linkType'];\n                            this.addDenotes(entity, type);\n                            this.memoryDenotes.push(data[i])\n                        }\n                    }, error => {\n                        //console.log(error)\n                    }\n                )\n\n                this.lexicalService.getLexEntryLinguisticRelation(lexId, 'evokes').pipe(takeUntil(this.destroy$)).subscribe(\n                    data => {\n                        console.log(data)\n                        for (var i = 0; i < data.length; i++) {\n                            let entity = data[i]['entity'];\n                            let type = data[i]['linkType'];\n                            let label = data[i]['label'];\n                            let inferred = data[i]['inferred'];\n                            this.addEvokes(entity, type, inferred, label);\n                            this.memoryEvokes.push(data[i])\n                        }\n                    }, error => {\n                        console.log(error)\n                    }\n                )\n\n                this.lexicalService.getLexEntryLinguisticRelation(lexId, 'cognate').pipe(takeUntil(this.destroy$)).subscribe(\n                    data => {\n                        console.log(data)\n                        for (var i = 0; i < data.length; i++) {\n                            let label = data[i].label;\n                            //let instanceName = data[i]['lexicalEntry']\n                            let entity = data[i]['entity'];\n                            let type = data[i]['linkType'];\n                            let lexicalEntry = this.object.lexicalEntry;\n\n                            if (label == \"\") {\n                                let tmp = entity.split('/');\n                                label = tmp[tmp.length - 1]\n                            }\n                            this.addCognates(label, lexicalEntry, entity, type);\n                            this.memoryCognates.push(data[i])\n                        }\n                    }, error => {\n                        console.log(error)\n                    }\n                )\n            }\n\n\n        }, 10)\n\n    }\n\n    async getSubterms(lexId) {\n        try {\n            let get_subterms_req = await this.lexicalService.getSubTerms(this.object.lexicalEntry).toPromise();\n            if (get_subterms_req != undefined) {\n                Array.from(get_subterms_req).forEach((element: any) => {\n                    this.addSubterm(element.lexicalEntry, element.label, element.language);\n                    this.memorySubterm.push(element);\n                })\n            }\n        } catch (error) {\n            console.log(error);\n            if (error.status != 200) {\n                this.toastr.error(\"Something went wrong on get subterms, please check the log\", \"Error\", { timeOut: 5000 })\n            }\n        }\n    }\n\n    triggerSubterm(evt) {\n        console.log(evt)\n        if (evt.target != undefined) {\n\n            this.subterm_subject.next(evt.target.value)\n        }\n    }\n\n    onChangeLanguage(evt) {\n\n        this.lexicalService.spinnerAction('on');\n        let langLabel = evt.target.value;\n        let langValue;\n        this.languages.forEach(element => {\n            if (element['label'].toLowerCase() == langLabel.toLowerCase()) {\n                langValue = element['label'];\n                return;\n            }\n        });\n\n        if (langValue != undefined) {\n            let lexId = this.object.lexicalEntry;\n            let parameters = {\n                relation: 'http://www.w3.org/ns/lemon/lime#entry',\n                value: langValue\n            }\n\n            this.lexicalService.updateLexicalEntry(lexId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n                data => {\n                    //console.log(data)\n                    this.lexicalService.spinnerAction('off');\n                    this.lexicalService.updateCoreCard(data)\n                    data['request'] = 0;\n                    data['new_lang'] = langValue.toLowerCase();\n                    this.lexicalService.refreshAfterEdit(data);\n                    this.lexicalService.refreshLangTable();\n                    this.lexicalService.refreshFilter({ request: true })\n                }, error => {\n                    //console.log(error)\n                    const data = this.object;\n                    data['request'] = 0;\n                    data['new_lang'] = langValue.toLowerCase();\n                    this.lexicalService.refreshAfterEdit(data);\n                    this.lexicalService.spinnerAction('off');\n                    this.lexicalService.refreshLangTable();\n                    this.lexicalService.refreshFilter({ request: true })\n                    this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                    if (typeof (error.error) != 'object') {\n                        this.toastr.error(error.error, 'Error', {\n                            timeOut: 5000,\n                        });\n                    } else {\n                        this.toastr.success('Language changed correctly for ' + lexId, '', {\n                            timeOut: 5000,\n                        });\n                    }\n                }\n            )\n        } else {\n            this.lexicalService.spinnerAction('off');\n        }\n\n    }\n\n    onChangePos(evt) {\n        this.lexicalService.spinnerAction('on');\n        let posValue = evt.target.value;\n        let lexId = this.object.lexicalEntry;\n        let parameters;\n        if (this.memoryPos == '') {\n\n            parameters = {\n                type: \"morphology\",\n                relation: 'http://www.lexinfo.net/ontology/3.0/lexinfo#partOfSpeech',\n                value: posValue\n            }\n\n        } else {\n            parameters = {\n                type: \"morphology\",\n                relation: 'http://www.lexinfo.net/ontology/3.0/lexinfo#partOfSpeech',\n                value: posValue,\n                currentValue: 'http://www.lexinfo.net/ontology/3.0/lexinfo#' + this.memoryPos\n            }\n        }\n\n        console.log(parameters)\n        this.lexicalService.updateLinguisticRelation(lexId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n            response => {\n                console.log(response)\n                this.memoryPos = posValue;\n                let data = {};\n                data['request'] = 0;\n                data['new_pos'] = posValue;\n                data['lexicalEntry'] = this.object.lexicalEntry;\n                //this.lexicalService.updateCoreCard(data)\n                this.lexicalService.spinnerAction('off');\n                this.lexicalService.refreshAfterEdit(data);\n                this.lexicalService.refreshFilter({ request: true })\n\n                setTimeout(() => {\n\n                    this.valuePos.forEach(el => {\n                        if (el.valueId == posValue) {\n                            this.posDescription = el.valueDescription;\n                        }\n                    })\n                    //@ts-ignore\n                    $('.pos-tooltip').tooltip({\n                        trigger: 'hover',\n                    });\n\n                }, 1000);\n            },\n            error => {\n                console.log(error);\n\n                this.lexicalService.spinnerAction('off');\n\n                if (error.status != 200) {\n                    this.toastr.error(error.error, 'Error', {\n                        timeOut: 5000,\n                    });\n                } else {\n                    const data = this.object;\n                    data['request'] = 0;\n                    data['new_pos'] = posValue;\n                    this.lexicalService.refreshAfterEdit(data);\n                    this.lexicalService.refreshFilter({ request: true })\n                    this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                    this.memoryPos = posValue;\n                    this.toastr.success('Pos changed correctly for ' + lexId, '', {\n                        timeOut: 5000,\n                    });\n                }\n                setTimeout(() => {\n\n                    this.valuePos.forEach(el => {\n                        if (el.valueId == posValue) {\n                            this.posDescription = el.valueDescription;\n                        }\n                    })\n                    //@ts-ignore\n                    $('.pos-tooltip').tooltip({\n                        trigger: 'hover'\n                    });\n\n                }, 1000);\n            }\n        )\n\n\n    }\n\n    onChangeExistingValue(evt, i) {\n        this.lexicalService.spinnerAction('on');\n        this.morphoTraits = this.coreForm.get('morphoTraits') as FormArray;\n        const trait = this.morphoTraits.at(i).get('trait').value;\n        const oldValue = this.morphoTraits.at(i).get('value').value;\n        const newValue = evt.target.value;\n        if (newValue != '') {\n            let parameters = {\n                type: \"morphology\",\n                relation: trait,\n                value: newValue,\n                currentValue: oldValue\n            }\n\n            this.morphoTraits.at(i).get('value').setValue(newValue, { emitEvent: false });\n\n            this.staticMorpho[i] = { trait: trait, value: newValue }\n            let lexId = this.object.lexicalEntry;\n\n            this.lexicalService.updateLinguisticRelation(lexId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n                data => {\n                    //console.log(data)\n                    data['request'] = 0;\n                    this.lexicalService.refreshAfterEdit(data);\n                    this.lexicalService.spinnerAction('off');\n                    this.lexicalService.refreshFilter({ request: true })\n                    this.lexicalService.updateCoreCard(data)\n                },\n                error => {\n                    //console.log(error)\n                    this.lexicalService.refreshAfterEdit({ request: 0, label: this.object.label });\n                    this.lexicalService.spinnerAction('off');\n                    this.lexicalService.refreshFilter({ request: true })\n                    this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                    if (error.status != 200) {\n                        this.toastr.error(error.error, 'Error', {\n                            timeOut: 5000,\n                        });\n                    } else {\n                        this.toastr.success('Morphotraits changed correctly for ' + lexId, '', {\n                            timeOut: 5000,\n                        });\n                    }\n                }\n            )\n\n        } else {\n            this.lexicalService.spinnerAction('on');\n        }\n    }\n\n    onChangeValue(i) {\n        this.lexicalService.spinnerAction('on');\n        this.morphoTraits = this.coreForm.get('morphoTraits') as FormArray;\n        const trait = this.morphoTraits.at(i).get('trait').value;\n        const value = this.morphoTraits.at(i).get('value').value;\n\n        if (trait != '' && value != '') {\n            let parameters;\n            if (this.memoryValues[i] == \"\") {\n                parameters = {\n                    type: \"morphology\",\n                    relation: trait,\n                    value: value\n                }\n            } else {\n                parameters = {\n                    type: \"morphology\",\n                    relation: trait,\n                    value: value,\n                    currentValue: this.memoryValues[i]\n                }\n            }\n\n            this.staticMorpho.push({ trait: trait, value: value })\n            let lexId = this.object.lexicalEntry;\n\n            this.lexicalService.updateLinguisticRelation(lexId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n                data => {\n                    //console.log(data)\n                    data['request'] = 0;\n                    this.lexicalService.refreshAfterEdit(data);\n                    this.lexicalService.spinnerAction('off');\n                    this.lexicalService.refreshFilter({ request: true })\n                    this.lexicalService.updateCoreCard(data)\n\n                    this.disableAddMorpho = false;\n                    setTimeout(() => {\n\n                        let traitDescription = '';\n                        this.morphologyData.filter(x => {\n                            if (x.propertyId == trait && trait != 'http://www.lexinfo.net/ontology/3.0/lexinfo#partOfSpeech') {\n                                x.propertyValues.filter(y => {\n                                    if (y.valueId == value) {\n                                        traitDescription = y.valueDescription;\n                                        return true;\n                                    } else {\n                                        return false;\n                                    }\n                                })\n                                return true;\n                            } else {\n                                return false;\n                            }\n                        })\n\n                        //@ts-ignore\n                        $('.trait-tooltip').tooltip({\n                            trigger: 'hover'\n                        });\n\n\n                    }, 1000);\n                },\n                error => {\n                    //console.log(error)\n                    this.lexicalService.refreshAfterEdit({ request: 0, label: this.object.label });\n                    this.lexicalService.spinnerAction('off');\n                    this.lexicalService.refreshFilter({ request: true })\n                    this.disableAddMorpho = false;\n                    this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                    setTimeout(() => {\n\n                        let traitDescription = '';\n                        this.morphologyData.filter(x => {\n                            if (x.propertyId == trait && trait != 'http://www.lexinfo.net/ontology/3.0/lexinfo#partOfSpeech') {\n                                x.propertyValues.filter(y => {\n                                    if (y.valueId == value) {\n                                        traitDescription = y.valueDescription;\n                                        return true;\n                                    } else {\n                                        return false;\n                                    }\n                                })\n                                return true;\n                            } else {\n                                return false;\n                            }\n                        })\n\n                        this.morphoTraits = this.coreForm.get('morphoTraits') as FormArray;\n                        this.morphoTraits.at(i).patchValue({ trait: trait, value: value, description: traitDescription });\n\n                        //@ts-ignore\n                        $('.trait-tooltip').tooltip({\n                            trigger: 'hover'\n                        });\n                        if (typeof (error.error) != 'object') {\n                            this.toastr.error(error.error, 'Error', {\n                                timeOut: 5000,\n                            });\n                        } else {\n                            this.toastr.success('Morphotraits changed correctly for ' + lexId, '', {\n                                timeOut: 5000,\n                            });\n                        }\n\n                    }, 1000);\n                }\n            )\n        } else {\n            this.lexicalService.spinnerAction('off');\n        }\n    }\n\n    onChangeTrait(evt, i) {\n\n        if (evt.target != undefined) {\n            setTimeout(() => {\n                this.morphoTraits = this.coreForm.get('morphoTraits') as FormArray;\n                this.morphoTraits.at(i).patchValue({ trait: evt.target.value, value: \"\" });\n                if (evt.target.value != '') {\n                    let arrayValues = this.morphologyData.filter(x => {\n                        return x['propertyId'] == evt.target.value;\n                    })['0']['propertyValues'];\n                    //arrayValues.map(element=>element.valueId = element.valueId.split('#')[1])\n                    this.valueTraits[i] = arrayValues;\n                    this.memoryTraits[i] = evt.target.value;\n                    this.memoryValues[i] = \"\";\n                } else {\n                    this.memoryValues.splice(i, 1);\n                    let arrayValues = [];\n                    this.valueTraits[i] = arrayValues\n                    this.memoryTraits.splice(i, 1)\n                }\n            }, 500);\n        } else {\n            setTimeout(() => {\n                try {\n                    var arrayValues = this.morphologyData.filter(x => {\n                        return x['propertyId'] == evt;\n                    })['0']['propertyValues'];\n                    this.valueTraits[i] = arrayValues;\n                    this.memoryTraits.push(evt);\n                } catch (e) {\n                    console.log(e)\n                }\n            }, 1000);\n\n        }\n    }\n\n\n    onChanges(): void {\n\n        this.coreForm.get(\"label\").valueChanges.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n            updatedLabel => {\n                if (updatedLabel.length >= 2 && updatedLabel.trim() != '') {\n                    this.emptyLabelFlag = false;\n                    this.lexicalService.spinnerAction('on');\n                    let lexId = this.object.lexicalEntry;\n                    let parameters = {\n                        relation: 'http://www.w3.org/2000/01/rdf-schema#label',\n                        value: updatedLabel\n                    }\n                    this.lexicalService.updateLexicalEntry(lexId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n                        data => {\n                            console.log(data);\n                            data['request'] = 0;\n                            data['new_label'] = updatedLabel\n                            this.lexicalService.refreshAfterEdit(data);\n                            this.lexicalService.spinnerAction('off');\n                            this.lexicalService.updateCoreCard(data)\n\n                        },\n                        error => {\n                            console.log(error);\n                            const data = this.object;\n                            data['request'] = 0;\n                            data['new_label'] = updatedLabel;\n                            this.lexicalService.refreshAfterEdit(data);\n                            this.lexicalService.spinnerAction('off');\n                            this.lexicalService.updateCoreCard({ lastUpdate: error.error.text });\n                            this.lexicalService.changeDecompLabel(updatedLabel)\n                            if (typeof (error.error) != 'object') {\n                                this.toastr.error(error.error, 'Error', {\n                                    timeOut: 5000,\n                                });\n                            } else {\n                                this.toastr.success('Label changed correctly for ' + lexId, '', {\n                                    timeOut: 5000,\n                                });\n                            }\n                        }\n                    )\n                } else if (updatedLabel.length < 3) {\n\n                    this.emptyLabelFlag = true;\n                }\n            }\n        )\n\n        this.coreForm.get('confidence').valueChanges.pipe(debounceTime(100), startWith(this.coreForm.get('confidence').value), pairwise(), takeUntil(this.destroy$)).subscribe(([prev, next]: [any, any]) => {\n\n            let lexId = this.object.lexicalEntry;\n\n            this.coreForm.get('confidence').setValue(next, { emitEvent: false });\n\n            let oldValue = prev ? 0 : 1;\n            let newValue = next ? 0 : 1;\n            let parameters = {\n                relation: 'http://www.lexinfo.net/ontology/3.0/lexinfo#confidence',\n                value: newValue\n            };\n\n            //if (this.memoryConfidence != null) parameters['currentValue'] = oldValue;\n            this.memoryConfidence = oldValue;\n\n\n            this.lexicalService.updateLexicalEntry(lexId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n                data => { },\n                error => {\n                    if (error.status == 200) this.toastr.success('Confidence updated', '', { timeOut: 5000 })\n                    if (error.status != 200) this.toastr.error(error.error, '', { timeOut: 5000 })\n                }\n            )\n\n        });\n\n\n\n        this.coreForm.get(\"stemType\").valueChanges.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(\n            updateStem => {\n                if (updateStem != '') {\n                    this.lexicalService.spinnerAction('on');\n                    let lexId = this.object.lexicalEntry;\n                    let parameters = {\n                        type: 'extension',\n                        relation: 'https://www.prin-italia-antica.unifi.it#stemType',\n                        value: updateStem\n                    }\n                    if (this.memoryStem != '') parameters['currentValue'] = this.memoryStem;\n                    console.log(parameters)\n                    this.lexicalService.updateGenericRelation(lexId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n                        data => {\n                            console.log(data);\n\n                            this.lexicalService.spinnerAction('off');\n                            this.lexicalService.updateCoreCard(data)\n\n                        },\n                        error => {\n                            console.log(error);\n\n                            this.lexicalService.spinnerAction('off');\n                            this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                            if (typeof (error.error) != 'object') {\n                                this.toastr.error(error.error, 'Error', {\n                                    timeOut: 5000,\n                                });\n                            } else {\n                                this.memoryStem = updateStem;\n                                this.toastr.success('stemType changed correctly for ' + lexId, '', {\n                                    timeOut: 5000,\n                                });\n                            }\n                        }\n                    )\n                } else {\n                    this.toastr.error('Empty value not allowed');\n                }\n\n\n            }\n        )\n\n        this.coreForm.get(\"type\").valueChanges.pipe(debounceTime(200), takeUntil(this.destroy$)).subscribe(\n            newType => {\n                this.lexicalService.spinnerAction('on');\n                let lexId = this.object.lexicalEntry;\n                let parameters = {\n                    relation: 'http://www.w3.org/1999/02/22-rdf-syntax-ns#type',\n                    value: newType\n                }\n                this.lexicalService.updateLexicalEntry(lexId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n                    data => {\n                        //console.log(data);\n                        this.lexicalService.spinnerAction('off');\n                        data['request'] = 0;\n                        data['new_type'] = newType;\n                        this.lexicalService.refreshAfterEdit(data);\n                        this.lexicalService.refreshFilter({ request: true })\n                        this.lexicalService.updateCoreCard(data)\n\n                        setTimeout(() => {\n                            let type = this.coreForm.get('type').value;\n                            this.lexEntryTypesData.forEach(el => {\n                                if (el.valueId == type) {\n\n                                    this.typeDesc = el.valueDescription;\n                                }\n                            })\n                            //@ts-ignore\n                            $('.type-tooltip').tooltip({\n                                trigger: 'hover'\n                            });\n\n\n                        }, 1000);\n\n                    },\n                    error => {\n                        //console.log(error);\n                        const data = this.object;\n                        data['request'] = 0;\n                        data['new_type'] = newType;\n                        this.lexicalService.refreshAfterEdit(data);\n                        this.lexicalService.spinnerAction('off');\n                        this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                        this.lexicalService.refreshFilter({ request: true })\n                        if (typeof (error.error) != 'object') {\n                            this.toastr.error(error.error, 'Error', {\n                                timeOut: 5000,\n                            });\n                        } else {\n                            this.toastr.success('Type changed correctly for ' + lexId, '', {\n                                timeOut: 5000,\n                            });\n                        }\n                        setTimeout(() => {\n                            let type = this.coreForm.get('type').value;\n                            this.lexEntryTypesData.forEach(el => {\n                                if (el.valueId == type) {\n\n                                    this.typeDesc = el.valueDescription;\n                                }\n                            })\n                            //@ts-ignore\n                            $('.type-tooltip').tooltip({\n                                trigger: 'hover'\n                            });\n\n\n                        }, 1000);\n                    }\n                )\n            }\n        )\n    }\n\n\n    createMorphoTraits(t?, v?, d?, lT?, lV?): FormGroup {\n        if (t != undefined) {\n            return this.formBuilder.group({\n                trait: new FormControl(t, [Validators.required, Validators.minLength(0)]),\n                labelTrait: new FormControl(lT),\n                labelValue: new FormControl(lV),\n                value: new FormControl(v, [Validators.required, Validators.minLength(0)]),\n                description: new FormControl(d, [Validators.required, Validators.minLength(0)]),\n            })\n        } else {\n            return this.formBuilder.group({\n                trait: new FormControl('', [Validators.required, Validators.minLength(0)]),\n                labelTrait: new FormControl(''),\n                labelValue: new FormControl(''),\n                value: new FormControl('', [Validators.required, Validators.minLength(0)]),\n                description: new FormControl(null, [Validators.required, Validators.minLength(0)])\n            })\n        }\n    }\n\n    createEvokes(e?, t?, i?, l?): FormGroup {\n\n        if (e != undefined) {\n            return this.formBuilder.group({\n                entity: e,\n                inferred : i,\n                label : l,\n                type: t,\n            })\n        } else {\n            return this.formBuilder.group({\n                entity: new FormControl(''),\n                inferred : new FormControl(false),\n                label : new FormControl(''),\n                type : new FormControl(''),\n            })\n        }\n    }\n\n    createDenotes(e?, t?): FormGroup {\n        if (e != undefined) {\n            return this.formBuilder.group({\n                entity: new FormControl(e, [Validators.required, Validators.pattern(this.urlRegex)]),\n                type: t\n            })\n        } else {\n            return this.formBuilder.group({\n                entity: new FormControl(null, [Validators.required, Validators.pattern(this.urlRegex)]),\n                type: null\n            })\n        }\n    }\n\n    createCognates(l?, lexName?, e?, t?, lila?): FormGroup {\n        if (e != undefined) {\n            return this.formBuilder.group({\n                label: new FormControl(l, [Validators.required]),\n                lexicalEntry: new FormControl(lexName, [Validators.required]),\n                entity: new FormControl(e, [Validators.required, Validators.pattern(this.urlRegex)]),\n                type: t,\n                lila: lila\n            })\n        } else {\n            return this.formBuilder.group({\n                label: new FormControl(null, [Validators.required]),\n                lexicalEntry: new FormControl(null, [Validators.required]),\n                entity: new FormControl(null, [Validators.required, Validators.pattern(this.urlRegex)]),\n                type: null,\n                lila: false\n            })\n        }\n    }\n\n    createSubtermComponent(e?, l?, lang?) {\n        if (e != undefined) {\n            return this.formBuilder.group({\n                entity: e,\n                label: l,\n                language: lang\n            })\n        } else {\n            return this.formBuilder.group({\n                entity: '',\n                label: '',\n                language: ''\n            })\n        }\n\n    }\n\n    addSubterm(e?, label?, lang?) {\n        this.subtermArray = this.coreForm.get('subterm') as FormArray;\n\n        if (e != undefined) {\n            this.subtermArray.push(this.createSubtermComponent(e, label, lang));\n            this.disableAddSubterm = false;\n        } else {\n            this.subtermArray.push(this.createSubtermComponent());\n            this.disableAddSubterm = true;\n        }\n\n\n    }\n\n    handleDenotes(evt, i) {\n\n        if (evt instanceof NgSelectComponent) {\n            if (evt.selectedItems.length > 0) {\n                let label = evt.selectedItems[0]['value']['lexicalEntry'];\n                this.onChangeDenotes({ name: label, i: i })\n            }\n        } else {\n            let label = evt.target.value;\n            this.denotes_subject.next({ name: label, i: i })\n        }\n    }\n\n    handleCognates(evt, i) {\n\n        if (evt instanceof NgSelectComponent) {\n            if (evt.selectedItems.length > 0) {\n                console.log(evt.selectedItems[0])\n                let label = \"\";\n                let instanceName = '';\n                if (evt.selectedItems[0]['value']['lexicalEntry'] == undefined) {\n                    label = evt.selectedItems[0]['value']['label'];\n                    instanceName = evt.selectedItems[0]['value']['labelValue'];\n                } else {\n                    label = evt.selectedItems[0]['value']['lexicalEntry'];\n                    instanceName = evt.selectedItems[0]['value']['lexicalEntry'];\n                }\n                this.onChangeCognates({ name: label, i: i, instance_name: instanceName })\n            }\n        } else {\n            let label = evt.target.value;\n            this.cognates_subject.next({ instance_name: label, i: i, external: true })\n        }\n    }\n\n    handleSubterm(evt, i) {\n\n        if (evt instanceof NgSelectComponent) {\n            if (evt.selectedItems.length > 0) {\n                console.log(evt.selectedItems[0])\n                let label = evt.selectedItems[0]['value']['label'];\n                let lexId = evt.selectedItems[0]['value']['lexicalEntry'];\n                this.onChangeSubterm({ name: label, lexicalEntry: lexId, i: i, object: evt.selectedItems[0]['value'] })\n            }\n        } else {\n            let label = evt.target.value;\n            this.ext_subterm_subject.next({ lexicalEntry: label, i: i })\n        }\n    }\n\n    async onChangeSubterm(data) {\n        var index = data['i'];\n        this.subtermArray = this.coreForm.get(\"subterm\") as FormArray;\n        if (this.memorySubterm[index] == undefined) {\n            const newValue = data['lexicalEntry']\n            const parameters = {\n                type: \"decomp\",\n                relation: \"http://www.w3.org/ns/lemon/decomp#subterm\",\n                value: newValue\n            }\n            console.log(parameters)\n\n            this.object['request'] = 'subterm'\n            let lexId = this.object.lexicalEntry;\n\n            try {\n                let change_subterm_req = await this.lexicalService.updateLinguisticRelation(lexId, parameters).toPromise();\n                console.log(change_subterm_req);\n                this.lexicalService.spinnerAction('off');\n                /* data['request'] = 0;\n                this.lexicalService.refreshAfterEdit(data); */\n                //this.lexicalService.updateLexCard(data) TODO: inserire updater per decomp qua\n                this.memorySubterm[index] = change_subterm_req;\n\n                this.subtermArray.at(index).patchValue({ entity: change_subterm_req.object.label, label: change_subterm_req['label'], language: change_subterm_req['language'] })\n                this.disableAddSubterm = false;\n\n                this.lexicalService.addSubElementRequest({ 'lex': this.object, 'data': change_subterm_req });\n            } catch (error) {\n                this.lexicalService.spinnerAction('off');\n                if (error.status == 200) {\n\n                    this.toastr.success('Subterm changed correctly for ' + lexId, '', {\n                        timeOut: 5000,\n                    });\n\n                    this.disableAddSubterm = false;\n                    this.memorySubterm[index] = this.object;\n                    data['request'] = 'subterm';\n                    this.subtermArray.at(index).patchValue({ entity: newValue, label: data.object.label, language: data.object.language })\n                    this.lexicalService.addSubElementRequest({ 'lex': this.object, 'data': data['object'] });\n                    //this.lexicalService.updateLexCard({ lastUpdate: error.error.text })\n\n                } else {\n                    this.toastr.error(error.error, 'Error', {\n                        timeOut: 5000,\n                    });\n\n                }\n            }\n\n        } else {\n            const oldValue = this.memorySubterm[index]['lexicalEntry']\n            const newValue = data['lexicalEntry']\n            const parameters = {\n                type: \"decomp\",\n                relation: \"http://www.w3.org/ns/lemon/decomp#subterm\",\n                value: newValue,\n                currentValue: oldValue\n            }\n\n            let lexId = this.object.lexicalEntry;\n            console.log(parameters);\n\n            try {\n                let change_subterm_req = await this.lexicalService.updateLinguisticRelation(lexId, parameters).toPromise();\n                console.log(change_subterm_req);\n                this.lexicalService.spinnerAction('off');\n                change_subterm_req['request'] = 0;\n                this.lexicalService.refreshAfterEdit(change_subterm_req);\n            } catch (error) {\n                console.log(error)\n                const data = this.object;\n                data['request'] = 0;\n\n\n\n                this.lexicalService.spinnerAction('off');\n                if (error.status == 200) {\n                    this.toastr.success('Label changed correctly for ' + lexId, '', {\n                        timeOut: 5000,\n                    });\n                } else {\n                    this.toastr.error(error.error, 'Error', {\n                        timeOut: 5000,\n                    });\n                }\n            }\n\n\n            this.memorySubterm[index] = data;\n        }\n\n\n    }\n\n    onChangeDenotes(data) {\n\n        if (data['name'] != '') {\n            var index = data['i'];\n            this.denotesArray = this.coreForm.get(\"denotes\") as FormArray;\n            if (this.memoryDenotes[index] == undefined) {\n                const newValue = data['name']\n                const parameters = {\n                    type: \"conceptRef\",\n                    relation: \"http://www.w3.org/ns/lemon/ontolex#denotes\",\n                    value: newValue\n                }\n                //console.log(parameters)\n                let lexId = this.object.lexicalEntry;\n                this.lexicalService.updateLinguisticRelation(lexId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n                    data => {\n                        console.log(data);\n                        this.disableAddDenotes = false;\n                        this.lexicalService.spinnerAction('off');\n                        data['request'] = 0;\n                        this.lexicalService.refreshAfterEdit(data);\n                        this.lexicalService.updateCoreCard(data)\n                    }, error => {\n                        console.log(error)\n\n                        /* this.toastr.error(error.error, 'Error', {\n                            timeOut: 5000,\n                        }); */\n\n\n                        this.lexicalService.spinnerAction('off');\n                        if (error.status == 200) {\n                            this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                            this.toastr.success('Denotes changed correctly for ' + lexId, '', {\n                                timeOut: 5000,\n                            });\n                            this.disableAddDenotes = false;\n                        } else {\n                            this.toastr.error(error.error, 'Error', {\n                                timeOut: 5000,\n                            });\n\n                        }\n                    }\n                )\n                this.memoryDenotes[index] = data;\n\n\n            } else {\n                const oldValue = this.memoryDenotes[index]['entity']\n                const newValue = data['name']\n                const parameters = {\n                    type: \"conceptRef\",\n                    relation: \"http://www.w3.org/ns/lemon/ontolex#denotes\",\n                    value: newValue,\n                    currentValue: oldValue\n                }\n\n                let lexId = this.object.lexicalEntry;\n                //console.log(parameters)\n                this.lexicalService.updateLinguisticRelation(lexId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n                    data => {\n                        console.log(data);\n                        this.lexicalService.spinnerAction('off');\n                        this.lexicalService.updateCoreCard(data)\n                        data['request'] = 0;\n                        this.lexicalService.refreshAfterEdit(data);\n                        this.disableAddDenotes = false;\n                    }, error => {\n                        console.log(error)\n                        if (error.status == 200) {\n                            const data = this.object;\n                            data['request'] = 0;\n\n                            //this.lexicalService.refreshAfterEdit(data);\n                            this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                            this.lexicalService.spinnerAction('off');\n                            this.toastr.success('Denotes changed correctly for ' + lexId, '', {\n                                timeOut: 5000,\n                            });\n                            this.disableAddDenotes = false;\n                        } else {\n                            this.toastr.error(error.error, 'Error', {\n                                timeOut: 5000,\n                            });\n                        }\n\n                    }\n                )\n                this.memoryDenotes[index] = data;\n            }\n        } else {\n            this.toastr.error('Empty value not allowed')\n        }\n\n\n\n    }\n\n    onChangeEvokes(data) {\n\n        if (data['name'] != '') {\n            var index = data['i'];\n            this.evokesArray = this.coreForm.get(\"evokes\") as FormArray;\n            if (this.memoryEvokes[index] == undefined) {\n                const newValue = data['name']\n                const parameters = {\n                    type: \"conceptRel\",\n                    relation: \"http://www.w3.org/ns/lemon/ontolex#evokes\",\n                    value: newValue\n                }\n                //console.log(parameters)\n                let lexId = this.object.lexicalEntry;\n\n                this.lexicalService.updateLinguisticRelation(lexId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n                    data => {\n                        console.log(data);\n                        this.disableAddDenotes = false;\n                        this.lexicalService.spinnerAction('off');\n                        data['request'] = 0;\n                        this.lexicalService.refreshAfterEdit(data);\n                        this.lexicalService.updateCoreCard(data)\n                    }, error => {\n                        console.log(error)\n\n                        /* this.toastr.error(error.error, 'Error', {\n                            timeOut: 5000,\n                        }); */\n\n\n                        this.lexicalService.spinnerAction('off');\n                        if (error.status == 200) {\n                            this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                            this.toastr.success('Evokes changed correctly for ' + lexId, '', {\n                                timeOut: 5000,\n                            });\n                            this.disableAddEvokes = false;\n                            this.memoryEvokes[index] = data;\n                        } else {\n                            this.toastr.error(error.error, 'Error', {\n                                timeOut: 5000,\n                            });\n\n                        }\n                    }\n                )\n                \n\n\n            } else {\n                const oldValue = this.memoryEvokes[index]['entity'] == undefined ? this.memoryEvokes[index]['name'] : this.memoryEvokes[index]['entity'];\n                const newValue = data['name']\n                const parameters = {\n                    type: \"conceptRel\",\n                    relation: \"http://www.w3.org/ns/lemon/ontolex#evokes\",\n                    value: newValue,\n                    currentValue: oldValue\n                }\n\n                let lexId = this.object.lexicalEntry;\n                //console.log(parameters)\n                this.lexicalService.updateLinguisticRelation(lexId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n                    data => {\n                        console.log(data);\n                        this.lexicalService.spinnerAction('off');\n                        this.lexicalService.updateCoreCard(data)\n                        data['request'] = 0;\n                        this.lexicalService.refreshAfterEdit(data);\n                        this.disableAddEvokes = false;\n                    }, error => {\n                        console.log(error)\n                        if (error.status == 200) {\n                            const data = this.object;\n                            data['request'] = 0;\n\n                            //this.lexicalService.refreshAfterEdit(data);\n                            this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                            this.lexicalService.spinnerAction('off');\n                            this.toastr.success('Denotes changed correctly for ' + lexId, '', {\n                                timeOut: 5000,\n                            });\n                            this.disableAddEvokes = false;\n                            this.memoryEvokes[index] = data;\n                        } else {\n                            this.toastr.error(error.error, 'Error', {\n                                timeOut: 5000,\n                            });\n                        }\n\n                    }\n                )\n                \n            }\n        } else {\n            this.toastr.error('Empty value not allowed')\n        }\n\n\n\n    }\n\n    onChangeCognates(data) {\n\n        var index = data['i'];\n        this.cognatesArray = this.coreForm.get(\"cognates\") as FormArray;\n\n        let existOrNot = this.memoryCognates.some(element => element?.entity == data.instance_name || element?.name == data.instance_name)\n\n        if (this.memoryCognates[index] == undefined && !existOrNot) {\n            let newValue = ''\n            if (this.cognatesArray.at(index).get('lila').value) {\n                newValue = data.instance_name\n\n            } else {\n                newValue = data.instance_name\n\n            }\n\n            const parameters = {\n                type: \"lexicalRel\",\n                relation: \"http://lari-datasets.ilc.cnr.it/lemonEty#cognate\",\n                value: newValue\n            }\n            console.log(parameters)\n            let lexId = this.object.lexicalEntry;\n            this.lexicalService.updateLinguisticRelation(lexId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n                data => {\n                    console.log(data);\n                    this.lexicalService.spinnerAction('off');\n                    data['request'] = 0;\n                    this.lexicalService.refreshAfterEdit(data);\n                    this.lexicalService.updateCoreCard(data)\n                    this.disableAddCognates = false;\n                }, error => {\n                    console.log(error)\n\n                    /* this.toastr.error(error.error, 'Error', {\n                        timeOut: 5000,\n                    }); */\n                    this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                    this.lexicalService.spinnerAction('off');\n                    if (error.status == 200) {\n                        this.disableAddCognates = false;\n                        this.toastr.success('Cognates changed correctly for ' + lexId, '', {\n                            timeOut: 5000,\n                        });\n\n                        if (this.cognatesArray.at(index).get('lila').value) {\n                            this.cognatesArray.at(index).get('entity').setValue(data.instance_name, { emitEvent: false });\n                            this.cognatesArray.at(index).get('type').setValue('external', { emitEvent: false });\n                            this.cognatesArray.at(index).get('lila').setValue(true, { emitEvent: false });\n                        } else {\n                            this.cognatesArray.at(index).get('lexicalEntry').setValue(this.object.lexicalEntry, { emitEvent: false });\n                            this.cognatesArray.at(index).get('entity').setValue(data.instance_name, { emitEvent: false });\n                            if(data.external){\n                                this.cognatesArray.at(index).get('type').setValue('external', { emitEvent: false });\n                            }else{\n                                this.cognatesArray.at(index).get('type').setValue('internal', { emitEvent: false });\n                            }\n                            \n                            this.cognatesArray.at(index).get('lila').setValue(false, { emitEvent: false });\n    \n                        }\n                    } else {\n                        this.toastr.error(error.error, 'Error', {\n                            timeOut: 5000,\n                        });\n\n                    }\n\n                    \n\n                }\n            )\n            this.memoryCognates[index] = data;\n\n\n        } else if (this.memoryCognates[index] != undefined && !existOrNot) {\n            const oldValue = this.memoryCognates[index]['entity'] == undefined ? this.memoryCognates[index]['instance_name'] : this.memoryCognates[index]['entity']\n            const newValue = data['instance_name']\n            const parameters = {\n                type: \"lexicalRel\",\n                relation: \"http://lari-datasets.ilc.cnr.it/lemonEty#cognate\",\n                value: newValue,\n                currentValue: oldValue\n            }\n\n            let lexId = this.object.lexicalEntry;\n            console.log(parameters)\n            this.lexicalService.updateLinguisticRelation(lexId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n                data => {\n                    console.log(data);\n                    this.lexicalService.spinnerAction('off');\n                    this.lexicalService.updateCoreCard(data)\n                    data['request'] = 0;\n                    this.lexicalService.refreshAfterEdit(data);\n                }, error => {\n                    console.log(error)\n                    /* const data = this.object;\n                    data['request'] = 0; */\n\n                    //this.lexicalService.refreshAfterEdit(data);\n                    this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                    this.lexicalService.spinnerAction('off');\n                    if (error.status == 200) {\n                        this.toastr.success('Label changed correctly for ' + lexId, '', {\n                            timeOut: 5000,\n                        });\n\n                        if (this.cognatesArray.at(index).get('lila').value) {\n                            this.cognatesArray.at(index).get('entity').setValue(data.instance_name, { emitEvent: false });\n                            this.cognatesArray.at(index).get('type').setValue('external', { emitEvent: false });\n                            this.cognatesArray.at(index).get('lila').setValue(true, { emitEvent: false });\n                        } else {\n                            this.cognatesArray.at(index).get('lexicalEntry').setValue(this.object.lexicalEntry, { emitEvent: false });\n                            this.cognatesArray.at(index).get('entity').setValue(data.instance_name, { emitEvent: false });\n                            if(data.external){\n                                this.cognatesArray.at(index).get('type').setValue('external', { emitEvent: false });\n                            }else{\n                                this.cognatesArray.at(index).get('type').setValue('internal', { emitEvent: false });\n                            }\n                            \n                            this.cognatesArray.at(index).get('lila').setValue(false, { emitEvent: false });\n    \n                        }\n                    } else {\n                        this.toastr.error(error.error, 'Error', {\n                            timeOut: 5000,\n                        });\n                    }\n                }\n            )\n            this.memoryCognates[index] = data;\n        } else if (existOrNot) {\n            this.toastr.error('This cognates already exist in this lexical entry', 'Error', {\n                timeOut: 5000\n            })\n        }\n\n\n    }\n\n     handleEvokes(evt, i) {\n \n         if (evt instanceof NgSelectComponent) {\n             if (evt.selectedItems.length > 0) {\n                 let label = evt.selectedItems[0].value['lexicalConcept']\n                 this.onChangeEvokes({ name: label, i: i })\n             }\n         } else {\n             let label = evt.target.value;\n             this.evokes_subject.next({ name: label, i: i })\n         }\n \n     }\n \n\n\n    addDenotes(e?, t?) {\n\n        this.denotesArray = this.coreForm.get(\"denotes\") as FormArray;\n        if (e != undefined) {\n            this.denotesArray.push(this.createDenotes(e, t));\n        } else {\n            this.disableAddDenotes = true;\n            this.denotesArray.push(this.createDenotes());\n        }\n\n    }\n\n    addEvokes(e?, t?, i?, l?) {\n\n        this.evokesArray = this.coreForm.get(\"evokes\") as FormArray;\n        if (e != undefined) {\n            this.evokesArray.push(this.createEvokes(e, t, i, l));\n        } else {\n            this.disableAddEvokes = true;\n            this.evokesArray.push(this.createEvokes());\n        }\n\n    }\n\n\n    addCognates(l?, lexIn?, e?, t?) {\n\n        setTimeout(() => {\n            //@ts-ignore\n            $('.cognates-tooltip').tooltip({\n                trigger: 'hover'\n            });\n        }, 1000);\n        this.cognatesArray = this.coreForm.get(\"cognates\") as FormArray;\n        if (e != undefined) {\n            let lila = false;\n            if (e.includes('lila')) {\n                lila = true;\n            }\n            this.cognatesArray.push(this.createCognates(l, lexIn, e, t, lila));\n        } else {\n            this.disableAddCognates = true;\n            this.cognatesArray.push(this.createCognates());\n        }\n\n    }\n\n\n\n    addMorphoTraits(t?, v?, d?, lT?, lV?) {\n\n        this.morphoTraits = this.coreForm.get('morphoTraits') as FormArray;\n        if (t != undefined) {\n            this.morphoTraits.push(this.createMorphoTraits(t, v, d, lT, lV));\n        } else {\n            this.disableAddMorpho = true;\n            this.morphoTraits.push(this.createMorphoTraits());\n        }\n    }\n\n    removeElement(index) {\n\n        this.memoryTraits.splice(index, 1);\n        this.valueTraits.splice(index, 1);\n        this.staticMorpho.splice(index, 1)\n\n        this.morphoTraits = this.coreForm.get('morphoTraits') as FormArray;\n\n        const trait = this.morphoTraits.at(index).get('trait').value;\n        const value = this.morphoTraits.at(index).get('value').value;\n\n\n\n        if (trait != '') {\n\n            let lexId = this.object.lexicalEntry;\n\n            let parameters = {\n                type: 'morphology',\n                relation: trait,\n                value: value\n            }\n\n            //console.log(parameters)\n\n            this.lexicalService.deleteLinguisticRelation(lexId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n                data => {\n                    //console.log(data)\n                    this.lexicalService.updateCoreCard(this.object)\n                    this.lexicalService.refreshAfterEdit({ request: 0, label: this.object.label });\n                    this.lexicalService.spinnerAction('off');\n                    this.lexicalService.refreshFilter({ request: true })\n                    this.toastr.success('Element removed correctly for ' + lexId, '', {\n                        timeOut: 5000,\n                    });\n                }, error => {\n                    //console.log(error)\n                    this.lexicalService.refreshAfterEdit({ request: 0, label: this.object.label });\n                    this.lexicalService.spinnerAction('off');\n                    this.lexicalService.refreshFilter({ request: true })\n                    this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                    if (error.status != 200) {\n                        this.toastr.error(error.error, 'Error', {\n                            timeOut: 5000,\n                        });\n                    } else {\n                        this.toastr.success('Element removed correctly for ' + lexId, '', {\n                            timeOut: 5000,\n                        });\n                    }\n                }\n            )\n        } else {\n            this.disableAddMorpho = false;\n        }\n\n\n        this.morphoTraits.removeAt(index);\n    }\n\n    removeDenotes(index) {\n        this.disableAddDenotes = false;\n        this.denotesArray = this.coreForm.get('denotes') as FormArray;\n\n        const entity = this.denotesArray.at(index).get('entity').value;\n\n        let lexId = this.object.lexicalEntry;\n\n        let parameters = {\n            relation: 'http://www.w3.org/ns/lemon/ontolex#denotes',\n            value: entity\n        }\n\n\n        if (entity != '') {\n            this.lexicalService.deleteLinguisticRelation(lexId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n                data => {\n                    console.log(data)\n                    this.lexicalService.updateCoreCard(this.object);\n                    this.toastr.success(\"Denotes removed\", '', {\n                        timeOut: 5000,\n                    });\n\n                }, error => {\n                    console.log(error)\n                    //this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                    this.toastr.error(error.error, 'Error', {\n                        timeOut: 5000,\n                    });\n                }\n            )\n        }\n\n\n        this.denotesArray.removeAt(index);\n\n        this.memoryDenotes.splice(index, 1)\n    }\n\n    removeEvokes(index) {\n        this.disableAddEvokes = false;\n        this.evokesArray = this.coreForm.get('evokes') as FormArray;\n\n        const entity = this.evokesArray.at(index).get('entity').value;\n\n        let lexId = this.object.lexicalEntry;\n\n        let parameters = {\n            relation: 'http://www.w3.org/ns/lemon/ontolex#evokes',\n            value: entity\n        }\n\n\n        if (entity != '') {\n            this.lexicalService.deleteLinguisticRelation(lexId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n                data => {\n                    console.log(data)\n                    this.lexicalService.updateCoreCard(this.object);\n                    this.toastr.success(\"Evokes removed\", '', {\n                        timeOut: 5000,\n                    });\n\n                }, error => {\n                    console.log(error)\n                    //this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                    if(error.status == 200){\n                        this.toastr.success('Evokes deleted correctly', '', {\n                            timeOut: 5000,\n                        });\n                    }else{\n                        this.toastr.error(error.error, 'Error', {\n                            timeOut: 5000,\n                        });\n                    }\n                    \n                }\n            )\n        }\n\n\n        this.evokesArray.removeAt(index);\n\n        this.memoryDenotes.splice(index, 1)\n    }\n\n    removeCognates(index) {\n        this.cognatesArray = this.coreForm.get('cognates') as FormArray;\n\n        const entity = this.cognatesArray.at(index).get('entity').value;\n\n        let lexId = this.object.lexicalEntry;\n\n        let parameters = {\n            relation: 'http://lari-datasets.ilc.cnr.it/lemonEty#cognate',\n            value: entity\n        }\n\n\n        if (entity != '') {\n            this.lexicalService.deleteLinguisticRelation(lexId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n                data => {\n                    console.log(data)\n                    this.lexicalService.updateCoreCard(this.object);\n                    /* this.annotatorService.closePanelForm(id);\n                    if(this.arrayComponents.length > 0){\n                    this.arrayComponents.forEach(instanceComponent => {\n                        if(instanceComponent.instance.id == id){\n                \n                        setTimeout(() => {\n                            instanceComponent.instance.formPanelModal.hide();\n                        }, 100);\n                        }\n                    })\n                    } */\n                    this.toastr.success(\"Cognate deleted successfully\", '', {\n                        timeOut: 5000,\n                    });\n\n                }, error => {\n                    console.log(error)\n                    //this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                    if(error.status == 200){\n                        this.toastr.success(\"Cognate removed correctly\", '', {\n                            timeOut: 5000,\n                        });\n                    }else{\n                        this.toastr.error(error.error, 'Error', {\n                            timeOut: 5000,\n                        });\n                    }\n                    \n                }\n            )\n        }\n\n        this.disableAddCognates = false;\n        this.cognatesArray.removeAt(index);\n\n        this.memoryCognates.splice(index, 1)\n    }\n\n    isEtymon(boolean: boolean) {\n\n        setTimeout(() => {\n            //@ts-ignore\n            $('.type-tooltip').tooltip({\n                trigger: 'hover'\n            });\n        }, 700);\n\n        this.lexicalService.spinnerAction('on');\n        let lexId = this.object.lexicalEntry;\n        let value = '';\n        if (boolean) {\n            value = 'http://lari-datasets.ilc.cnr.it/lemonEty#Etymon'\n            this.coreForm.get('type').setValue('Etymon', { emitEvent: false });\n            this.coreForm.get('type').disable({ onlySelf: true, emitEvent: false })\n            if (typeof (this.object.type != 'string')) {\n                this.object.type.push('Etymon');\n            } else {\n                this.object.type = 'Etymon'\n            }\n        } else {\n            value = 'http://www.w3.org/ns/lemon/ontolex#LexicalEntry'\n            this.coreForm.get('type').setValue('LexicalEntry', { emitEvent: false });\n            this.coreForm.get('type').enable({ onlySelf: true, emitEvent: false })\n            if (typeof (this.object.type != 'string')) {\n                this.object.type.splice(this.object.type.indexOf('Etymon'), 1);\n                if (this.object.type.length == 0) {\n                    this.object.type.push(value);\n                }\n            } else {\n                this.object.type = 'LexicalEntry';\n            }\n        }\n\n        let parameters = {\n            relation: 'http://www.w3.org/1999/02/22-rdf-syntax-ns#type',\n            value: value\n        }\n\n\n\n        this.lexicalService.updateLexicalEntry(lexId, parameters).pipe(takeUntil(this.destroy$)).subscribe(\n            data => {\n                console.log(data);\n                this.lexicalService.spinnerAction('off');\n                this.lexicalService.updateCoreCard(data)\n                this.lexicalService.refreshFilter({ request: true })\n\n                this.lexicalService.triggerSameAs(this.object.type)\n            },\n            error => {\n                console.log(error);\n                const data = this.object;\n                this.lexicalService.spinnerAction('off');\n\n\n                if (error.status == '200') {\n                    this.lexicalService.refreshFilter({ request: true })\n                    this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n\n                    this.toastr.success('Lexical Entry updated', '', {\n                        timeOut: 5000\n                    })\n                    this.lexicalService.triggerSameAs(this.object.type)\n                } else {\n                    this.toastr.error(error.error, '', { timeOut: 5000 })\n                }\n\n\n            }\n        )\n    }\n\n    loadCognateData(cognateInstanceName, lexInstanceName, label) {\n        let panel = this.lexicalService.getPanelCognate(cognateInstanceName, lexInstanceName);\n        if (panel == undefined) {\n            this.lexicalService.getLexEntryData(cognateInstanceName).pipe(takeUntil(this.destroy$)).subscribe(\n                data => {\n                    console.log(data);\n                    if (data != undefined) {\n                        this.lexicalService.newPanelForm(cognateInstanceName, lexInstanceName);\n                        const factory = this.factory.resolveComponentFactory(CognatePanelComponent);\n                        const componentRef = this.vc.createComponent(factory);\n                        this.arrayComponents.push(componentRef);\n                        (<CognatePanelComponent>componentRef.instance).label = label;\n                        (<CognatePanelComponent>componentRef.instance).lexicalEntryId = lexInstanceName;\n                        (<CognatePanelComponent>componentRef.instance).cogInstanceName = cognateInstanceName;\n                        //(<CognatePanelComponent>componentRef.instance).id = idAnnotation;\n                        (<CognatePanelComponent>componentRef.instance).lexicalEntryData = data;\n                        (<CognatePanelComponent>componentRef.instance).triggerCognatePanel();\n                    }\n                }, error => {\n                    console.log(error)\n                }\n            )\n\n        } else {\n\n        }\n\n    }\n\n    async removeSubterm(index) {\n\n\n        if (this.object.lexicalEntry != undefined) {\n            this.subtermArray = this.coreForm.get('subterm') as FormArray;\n\n            let entity = this.subtermArray.at(index).get('entity').value;\n            let lexId = this.object.lexicalEntry;\n\n            let parameters = {\n                relation: \"http://www.w3.org/ns/lemon/decomp#subterm\",\n                value: entity\n            }\n\n            if (entity != '') {\n                try {\n                    let delete_linguistic_rel_req = await this.lexicalService.deleteLinguisticRelation(lexId, parameters).toPromise();\n                    console.log(delete_linguistic_rel_req);\n                    this.toastr.info('Subterm removed correctly', 'Info', {\n                        timeOut: 5000\n                    })\n                    this.lexicalService.deleteRequest({ subterm: entity, parentNode: this.object.lexicalEntry });\n                } catch (error) {\n                    console.log(error)\n                    if (error.status == 200) {\n                        this.toastr.info('Subterm removed correctly', 'Info', {\n                            timeOut: 5000\n                        })\n                        this.lexicalService.deleteRequest({ subterm: entity, parentNode: this.object.lexicalEntry });\n                    } else {\n                        this.toastr.error(\"Something went wrong, please check the log\", \"Error\", { timeOut: 5000 })\n                    }\n                }\n            }else{\n                //null\n            }\n\n            \n\n        }\n\n        this.subtermArray.removeAt(index);\n        this.memorySubterm.splice(index, 1);\n        this.disableAddSubterm = false;\n    }\n\n    ngOnDestroy(): void {\n        this.denotes_subject_subscription.unsubscribe();\n        this.cognates_subject_subscription.unsubscribe();\n        this.update_lang_subscription.unsubscribe();\n        this.get_languages_subscription.unsubscribe();\n        this.subject_subscription.unsubscribe();\n        this.subterm_subject.unsubscribe();\n        this.destroy$.next(true);\n        this.destroy$.complete();\n    }\n}\n","<form [formGroup]=\"coreForm\" *ngIf=\"object != null\">\n    <div *ngIf=\"{etymon : coreForm.get('type').value == 'Etymon'}; let variable\">\n        <div class=\"form-group row m-2\">\n            <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Label:</label>\n            <div class=\"input-group col-lg-7\">\n                <input id=\"label\" formControlName=\"label\" name=\"label\" type=\"text\" class=\"form-control\" placeholder=\"\"\n                    required>\n\n                <div class=\"invalid-feedback\" *ngIf=\"emptyLabelFlag\" style=\"display: block;\">\n                    Please, insert at least two characters.\n                </div>\n            </div>\n        </div>\n        <!-- <div class=\"form-group row m-2\">\n            <div class=\"col-lg-3\">\n                <div class=\"form-check p-0\">\n                    <label class=\"form-check-label\" for=\"gridCheck1\">\n                        Etymon\n                    </label>\n                    <input [checked]=\"coreForm.get('type').value == 'Etymon'\" class=\"form-check-input\" style=\"margin-left: 10px;\" type=\"checkbox\" id=\"gridCheck1\" onchange=\"document.getElementById('typeSelect').disabled = checked;\" (change)=\"variable.etymon = !variable.etymon; isEtymon(variable.etymon);\">\n                </div>\n            </div>\n        </div> -->\n\n        <div class=\"form-group row m-2\">\n            <div class=\"col-lg-3\">\n                <label class=\"\" for=\"sw\">Etymon</label>\n            </div>\n            <div class=\"col-lg-9\">\n                <div class=\"custom-control custom-switch d-inline\" id=\"sw\">\n                    <input type=\"checkbox\" class=\"custom-control-input\" id=\"edit_extra_block\" name=\"extra_block\"\n                        value=\"\" [checked]=\"coreForm.get('type').value == 'Etymon'\" style=\"margin-left: 10px;\"\n                        onchange=\"document.getElementById('typeSelect').disabled = this.checked;\"\n                        (change)=\"variable.etymon = !variable.etymon; isEtymon(variable.etymon);\">\n                    <label class=\"custom-control-label\" for=\"edit_extra_block\"></label>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"form-group row m-2\">\n            <div class=\"col-lg-3\">\n                <label for=\"uncertainBox\">Uncertain</label>\n            </div>\n\n            <div class=\"col-lg-3 input-group uncertain\">\n                <input formControlName=\"confidence\" name=\"confidence\" type=\"checkbox\"\n                    [checked]=\"coreForm.get('confidence').value\">\n                <!-- <input *ngIf=\"variable.confidence\" id=\"attributes\"  step=\"0.1\" formControlName=\"confidence\" name=\"confidence\" type=\"number\" min=\"0\" max=\"1\" class=\"form-control\" placeholder=\"No info\" [value]=\"coreForm.get('confidence').value\">\n                <button type=\"button\" class=\"btn btn-secondary btn-sm ml-2\" *ngIf=\"!variable.confidence\" (click)=\"variable.confidence = !variable.confidence\"><i class=\"fas fa-plus\"></i></button>\n                <button type=\"button\" class=\"btn btn-secondary btn-sm ml-2\" *ngIf=\"variable.confidence\" (click)=\"variable.confidence = !variable.confidence; applyUncertain()\"><i class=\"fas fa-minus\"></i></button> -->\n            </div>\n        </div>\n\n        <div class=\"form-group row m-2\" *ngIf=\"!variable.etymon\">\n            <div class=\"col-lg-3 col-form-label\">\n                <label for=\"inputType\">Type:</label>\n            </div>\n            <div class=\"col-lg-9 input-group\">\n                <select id=\"typeSelect\" class=\"form-control\" formControlName=\"type\">\n                    <option *ngFor=\"let lx of lexEntryTypesData\" [value]=\"lx['valueId']\"\n                        [selected]=\"coreForm.get('type').value.split('#')[1] == lx['valueId'].split('#')[1]\">\n                        {{lx['valueLabel']}}\n                    </option>\n                </select>\n                <div class=\"input-group-append ml-2\">\n                    <button *ngIf=\"!variable.etymon\" class=\"btn btn-secondary type-tooltip\" type=\"button\"\n                        placement=\"top\" container=\"body\" [ngbTooltip]=\"typeDesc\"\n                        style=\"font-size: 12px; border-radius: .25rem;\"><i class=\"fas fa-question\"></i></button>\n                    <button *ngIf=\"variable.etymon\" class=\"btn btn-secondary type-tooltip\" type=\"button\"\n                        data-toggle=\"tooltip\" data-placement=\"top\" data-trigger=\"hover\"\n                        title=\"Etymon' is a subclass of Lexical Entry that consists of individuals whose role is to describe the origin and history of another Lexical Entry.\"\n                        style=\"font-size: 12px; border-radius: .25rem;\"><i class=\"fas fa-question\"></i></button>\n                </div>\n                <div class=\"input-group-append ml-2\">\n                    <button [style.visibility]=\"coreForm.get('isCognate').value ? 'visible' : 'hidden'\"\n                        class=\"btn btn-warning type-tooltip\" type=\"button\" data-toggle=\"tooltip\" data-placement=\"top\"\n                        data-trigger=\"hover\"\n                        title=\"In linguistics, cognates, also called lexical cognates, are words that have a common etymological origin.\"\n                        style=\"font-size: 12px; border-radius: .25rem;\">Cognate</button>\n                </div>\n            </div>\n        </div>\n        <div class=\"form-group row m-2\">\n            <label for=\"inputLanguage\" class=\"col-lg-3 col-form-label\">Language:</label>\n            <div class=\"col-lg-7\">\n                <select formControlName=\"language\" name=\"language\" class=\"form-control\"\n                    (change)=\"onChangeLanguage($event)\">\n                    <option value=\"\">Select language....</option>\n                    <option *ngFor=\"let la of languages\" [value]=\"la['label'].toLowerCase()\"\n                        [selected]=\"object.language.toLowerCase() == la['label'].toLowerCase()\">{{la['label']}}\n                    </option>\n                </select>\n                <div class=\"invalid-feedback\" *ngIf=\"coreForm.get('language').value == ''\" style=\"display: block;\">\n                    Please, don't leave this field blank\n                </div>\n            </div>\n        </div>\n    </div>\n\n\n    <!-- MORPHOLOGY -->\n    <div class=\"form-group row m-2\">\n        <div class=\"input-group col-lg-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>MORPHOLOGY</b></span>\n                <a class=\"pointer\" (click)=\"addMorphoTraits()\" [ngClass]=\"{no_pointer: disableAddMorpho}\"><span\n                        class=\"collapse-icon\"><i class=\"fa fa-plus-square\"></i></span></a>\n                <div class=\"card-body\">\n                    <div class=\"d-flex my-3\">\n                        <div class=\"col-md-4\">\n                            <label for=\"selectPos\" class=\"col-form-label\">Part of speech:</label>\n                        </div>\n                        <div class=\"input-group col-md-8\">\n                            <select class=\"form-control selectTrait\" style=\"font-size:12px;\"\n                                (change)=\"onChangePos($event)\">\n                                <option value=\"\">Select a value...</option>\n                                <option *ngFor=\"let item of valuePos;\"\n                                    [selected]=\"item.valueId.split('#')[1] == object.pos\" [value]=\"item.valueId\">\n                                    {{item.valueLabel}}</option>\n                            </select>\n                            <div class=\"input-group-append ml-2\">\n                                <button class=\"btn btn-secondary pos-tooltip\" type=\"button\" placement=\"top\"\n                                    container=\"body\" [ngbTooltip]=\"posDescription\"\n                                    style=\"font-size: 12px; border-radius: .25rem;\"><i\n                                        class=\"fas fa-question\"></i></button>\n                            </div>\n\n                            <div class=\"invalid-feedback\" *ngIf=\"!coreForm.get('pos').valid\" style=\"display: block;\">\n                                Please, don't leave this field blank\n                            </div>\n\n                        </div>\n                    </div>\n\n\n                    <ng-container *ngFor=\"let stat of staticMorpho; let i = index\">\n                        <div class=\"d-flex my-3\"\n                            *ngIf=\"stat['trait'] != 'http://www.lexinfo.net/ontology/3.0/lexinfo#partOfSpeech'\">\n                            <div class=\"col-md-4\">\n                                <label class=\"col-form-label\">{{stat['trait'].split('#')[1]}}</label>\n                            </div>\n                            <div class=\"input-group col-md-8\">\n                                <select class=\"form-control selectTrait\" style=\"font-size:12px;\"\n                                    (change)=\"onChangeExistingValue($event, i)\">\n                                    <option *ngFor=\"let item of valueTraits[i];\"\n                                        [selected]=\"stat['value'] === item.valueId\" [value]=\"item.valueId\">\n                                        {{item.valueLabel}}</option>\n                                </select>\n                                <div class=\"input-group-append ml-2\">\n                                    <button *ngIf=\"coreForm['controls'].morphoTraits?.value[i] != null\"\n                                        class=\"btn btn-secondary trait-tooltip\" type=\"button\" placement=\"top\"\n                                        container=\"body\"\n                                        [ngbTooltip]=\"coreForm.get('morphoTraits').at(i).get('description').value\"\n                                        style=\"font-size: 12px; border-radius: .25rem;\"><i\n                                            class=\"fas fa-question\"></i></button>\n\n                                </div>\n                                <div (click)=\"removeElement(i)\" class=\"input-group-append ml-2\"> <button\n                                        class=\"btn btn-danger\" type=\"button\"\n                                        style=\"font-size: 12px; border-radius: .25rem;\"><i\n                                            class=\"fa fa-trash-alt\"></i></button>\n                                </div>\n                            </div>\n                        </div>\n                    </ng-container>\n\n                    <ng-container formArrayName=\"morphoTraits\"\n                        *ngFor=\"let morpho of coreForm.get('morphoTraits')['controls']; let i = index\">\n                        <div class=\"d-flex my-2\" *ngIf=\"i + 1 > staticMorpho.length\">\n                            <div class=\"col-md-4\" [formGroupName]=\"i\">\n                                <select class=\"form-control selectTrait\" formControlName=\"trait\" name=\"trait\"\n                                    style=\"font-size: 12px;\" (change)=\"onChangeTrait($event, i)\">\n                                    <option value=\"\">Select a trait...</option>\n                                    <option *ngFor=\"let mt of morphologyData\"\n                                        [selected]=\"morpho.value['trait'] === mt.propertyId\" [value]=\"mt.propertyId\"\n                                        [disabled]=\"memoryTraits.indexOf(mt.propertyId) > -1 || mt.propertyId == 'http://www.lexinfo.net/ontology/3.0/lexinfo#partOfSpeech'\">\n                                        {{mt.propertyLabel}}</option>\n                                </select>\n                                <div class=\"invalid-feedback\" *ngIf=\"morpho.get('trait').invalid\"\n                                    style=\"display: block;\">\n                                    Please, don't leave this field blank\n                                </div>\n                            </div>\n                            <div class=\"input-group col-md-8\" [formGroupName]=\"i\">\n                                <select class=\"form-control selectTrait\" formControlName=\"value\" name=\"value\"\n                                    style=\"font-size:12px;\" (change)=\"onChangeValue(i)\">\n                                    <option value=\"\">Select a value...</option>\n                                    <option *ngFor=\"let item of valueTraits[i];\" [attr.data-index]=\"i\"\n                                        [selected]=\"morpho.value['value'] === item.valueId\" [value]=\"item.valueId\">\n                                        {{item.valueLabel}}</option>\n                                </select>\n                                <div (click)=\"removeElement(i)\" class=\"input-group-append ml-2\"> <button\n                                        class=\"btn btn-danger\" type=\"button\"\n                                        style=\"font-size: 12px; border-radius: .25rem;\"><i\n                                            class=\"fa fa-trash-alt\"></i></button>\n                                </div>\n                                <div class=\"invalid-feedback\" *ngIf=\"morpho.get('value').invalid\"\n                                    style=\"display: block;\">\n                                    Please, don't leave this field blank\n                                </div>\n                            </div>\n                        </div>\n\n                    </ng-container>\n\n\n\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"form-group row m-2 mt-3\">\n        <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Stem type:</label>\n        <div class=\"input-group col-lg-7\">\n            <input id=\"stemType\" formControlName=\"stemType\" name=\"stemType\" type=\"text\" class=\"form-control\"\n                placeholder=\"Insert Stem Type...\" required>\n            <!-- <div class=\"invalid-feedback\" *ngIf=\"emptyLabelFlag\" style=\"display: block;\">\n                Please, insert at least three characters.\n            </div> -->\n        </div>\n    </div>\n\n\n    <div class=\"form-group row m-2\">\n        <div class=\"input-group col-lg-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>EVOKES</b></span>\n                <a class=\"pointer\" (click)=\"addEvokes()\" [ngClass]=\"{no_pointer: disableAddEvokes}\"><span\n                        class=\"collapse-icon\"><i class=\"fa fa-plus-square\"></i></span></a>\n                <div class=\"card-body\">\n                    <div class=\"form-group row m-2\" formArrayName=\"evokes\"\n                        *ngFor=\"let evoke of coreForm.get('evokes')['controls']; let i = index\">\n                        <div class=\"input-group col-xl-12\" [formGroupName]=\"i\" >\n                           \n                            <ng-select #select_evokes formControlName=\"label\" name=\"label\" [dropdownPosition]=\"'top'\"\n                                (keyup)=\"triggerEvokes($event, i)\" (change)=\"handleEvokes(select_evokes, i)\"\n                                [items]=\"searchResults\" bindValue=\"defaultLabel\"  (focus)=\"deleteData()\" bindLabel=\"defaultLabel\"\n                                placeholder=\"Search lexical concept\" appendTo=\"body\" [clearable]=\"false\"\n                                >\n                                <ng-template ng-option-tmp let-item=\"item\" let-search=\"searchTerm\">\n                                    <div>\n                                        <span>{{item.defaultLabel}} </span><span style=\"color: blue;\">@{{item.language}}</span>\n                                    </div>\n\n                                </ng-template>\n\n                                \n                            </ng-select>\n                            <!-- <input formControlName=\"entity\" name=\"entity\" type=\"text\"\n                                [value]=\"evoke.get('entity').value\" class=\"form-control\" placeholder=\"Insert URI\"\n                                (keyup)=\"handleEvokes($event, i)\" *ngIf=\"variable.switch\"> -->\n                            <!-- <div class=\"input-group-append ml-2\" *ngIf=\"evoke.get('entity').value != ''\">\n                                <a [href]=\"evoke.get('entity').value\" target=\"_blank\" class=\"btn btn-primary\"\n                                    type=\"button\"><i class=\"fa fa-external-link-alt\"></i></a>\n                            </div> -->\n                            <div class=\"input-group-append ml-2\">\n                                <button (click)=\"removeEvokes(i)\" class=\"btn btn-danger\" type=\"button\"><i\n                                        class=\"fa fa-trash-alt\"></i></button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"form-group row ml-2 mt-3 mr-2\" *ngIf=\"isMultiword\">\n        <div class=\"input-group col-xl-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>SUBTERM</b></span>\n                <a class=\"pointer\" (click)=\"addSubterm()\"><span class=\"collapse-icon\"\n                        [class.disabled]=\"disableAddSubterm\"><i class=\"fa fa-plus-square\"></i></span></a>\n                <!-- <a class=\"pointer\" (click)=\"removeSubterm(i)\"><span class=\"trash-icon\"><i class=\"fa fa-trash\"></i></span></a> -->\n                <div class=\"card-body\">\n\n\n\n                    <!-- SUB-TERM -->\n                    <div formArrayName=\"subterm\" class=\"col-xl-12\">\n                        <div *ngFor=\"let sub of coreForm['controls'].subterm['controls']; let i = index\">\n                            <div [formGroupName]=\"i\" class=\"d-xl-flex\" style=\"align-items: center;\">\n                                <div class=\"form-group row ml-2 mt-2 mr-2 w-100\">\n                                    <div class=\"input-group\">\n                                        <ng-select #select_subterm formControlName=\"label\" name=\"label\"\n                                            [dropdownPosition]=\"'top'\" (keyup)=\"triggerSubterm($event)\"\n                                            (change)=\"handleSubterm(select_subterm, i)\" [items]=\"searchResults\"\n                                            bindValue=\"label\" (focus)=\"deleteData()\" bindLabel=\"label\"\n                                            placeholder=\"Search lexical entries\" appendTo=\"body\">\n                                            <ng-template ng-option-tmp let-item=\"item\" let-search=\"searchTerm\">\n                                                <div>\n                                                    <span>{{item.label}} </span><span\n                                                        style=\"color: blue;\">@{{item.language}}</span>\n                                                </div>\n\n                                            </ng-template>\n                                        </ng-select>\n\n                                        <!-- <div class=\"input-group-append ml-2\">\n                                            <button class=\"btn btn-primary\" type=\"button\"><i\n                                                    class=\"fa fa-external-link-alt\"></i></button>\n                                        </div> -->\n                                        <div class=\"input-group-append ml-2\">\n                                            <button (click)=\"removeSubterm(i)\" class=\"btn btn-danger\" type=\"button\"><i\n                                                    class=\"fa fa-trash-alt\"></i></button>\n                                        </div>\n                                        <!--  <div class=\"input-group-append ml-2\">\n                                            <button  class=\"btn btn-outline-primary invisible\" type=\"button\"><i class=\"fa fa-plus\"></i></button>\n                                        </div> -->\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"form-group row m-2\">\n        <div class=\"input-group col-lg-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>COGNATES</b></span>\n                <a class=\"pointer\" (click)=\"addCognates()\" [ngClass]=\"{no_pointer: disableAddCognates}\"><span\n                        class=\"collapse-icon\"><i class=\"fa fa-plus-square\"></i></span></a>\n                <div class=\"card-body\">\n                    <div class=\"form-group row m-2\" formArrayName=\"cognates\"\n                        *ngFor=\"let cog of coreForm.get('cognates')['controls']; let i = index\">\n                        <div class=\"input-group col-xl-12\" [formGroupName]=\"i\" *ngIf=\"{switch : false}; let variable\">\n                            <!-- {{variable.switch}}\n                            {{cog.get('lila').value}} -->\n                            <ng-select #select_cognates formControlName=\"label\" name=\"label\" [dropdownPosition]=\"'top'\"\n                                (keyup)=\"triggerCognates($event, i)\" (change)=\"handleCognates(select_cognates, i)\"\n                                [items]=\"searchResults\" bindValue=\"label\" (focus)=\"deleteData()\" bindLabel=\"label\"\n                                placeholder=\"Search cognates\" appendTo=\"body\"\n                                *ngIf=\"!variable.switch || cog.get('lila').value && cog.get('type').value == 'internal'\">\n                                <ng-template ng-option-tmp let-item=\"item\" let-search=\"searchTerm\"\n                                    *ngIf=\"!cog.get('lila').value\">\n                                    <div>\n                                        <span>{{item.label}} </span><span style=\"color: blue;\">@{{item.language}}</span>\n                                    </div>\n\n                                </ng-template>\n\n                                <ng-template ng-option-tmp let-item=\"item\" let-search=\"searchTerm\"\n                                    *ngIf=\"cog.get('lila').value\">\n\n                                    <div class=\"card-body p-0\">\n                                        <h6 class=\"card-title m-0\" [ngOptionHighlight]=\"search\">{{item.label}}</h6>\n                                        <small>\n                                            <span>\n                                                {{item.labelPos}}\n                                            </span>\n                                        </small>\n                                        <small class=\"card-text\">\n\n\n                                        </small>\n\n                                    </div>\n\n                                </ng-template>\n                            </ng-select>\n                            <input formControlName=\"entity\" name=\"entity\" type=\"text\" [value]=\"cog.get('entity').value\"\n                                class=\"form-control\" placeholder=\"Insert URI\"\n                                *ngIf=\"variable.switch  && !cog.get('lila').value\" (keyup)=\"handleCognates($event, i)\">\n                            <div class=\"input-group-append ml-3 form-check\" style=\"align-items: center;\">\n                                <input class=\"form-check-input cognates-tooltip\" type=\"checkbox\"\n                                    (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\"\n                                    data-placement=\"bottom\" data-trigger=\"hover\"\n                                    title=\"Clicca per inserire un URI manualmente\">\n                            </div>\n                            <div class=\"input-group-append ml-2\"\n                                *ngIf=\"cog.get('type').value == 'external' && cog.get('entity').value != ''\"\n                                container=\"body\" placement=\"top\" ngbTooltip=\"Open in Lila Page\">\n                                <a [href]=\"cog.get('entity').value\" target=\"_blank\" class=\"btn btn-info\"\n                                    type=\"button\"><i class=\"fas fa-globe-europe\"></i></a>\n                            </div>\n                            <div class=\"input-group-append ml-2\"\n                                *ngIf=\"cog.get('type').value == 'internal' && cog.get('entity').value != ''\"\n                                container=\"body\" placement=\"top\" ngbTooltip=\"Open in new panel\">\n                                <a (click)=\"loadCognateData(cog.get('entity').value, cog.get('lexicalEntry').value, cog.get('label').value); \"\n                                    class=\"btn btn-primary\" type=\"button\"><i class=\"fas fa-external-link-alt\"></i></a>\n                            </div>\n                            <div class=\"input-group-append ml-2\" *ngIf=\"!variable.switch\">\n                                <div class=\"btn-group-toggle\" data-toggle=\"buttons\" placement=\"top\"\n                                    ngbTooltip=\"Enable LiLa endpoint\" title=\"Enable LiLa endpoint\">\n                                    <label class=\"btn btn-secondary\">\n                                        <input type=\"checkbox\" autocomplete=\"off\" formControlName=\"lila\" name=\"lila\"\n                                            style=\"border-radius: .3rem;\">\n                                        <i class=\"fas fa-project-diagram\"></i>\n                                        <!--                                       <img src=\"../../../../../../../assets/images/graphql.png\" alt=\"Avatar\" class=\"image\" style=\"height: 20px;\">\n -->\n                                    </label>\n                                </div>\n                            </div>\n                            <div class=\"input-group-append ml-2\">\n                                <button (click)=\"removeCognates(i)\" class=\"btn btn-danger\" type=\"button\"><i\n                                        class=\"fa fa-trash-alt\"></i></button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n</form>\n\n<!-- {{coreForm.value | json}} -->\n\n<ng-template #cognatePanel></ng-template>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, Input, OnDestroy, OnInit, SimpleChanges } from '@angular/core';\nimport { ToastrService } from 'ngx-toastr';\nimport { Subscription } from 'rxjs';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\n\n@Component({\n  selector: 'app-link-panel',\n  templateUrl: './link-panel.component.html',\n  styleUrls: ['./link-panel.component.scss']\n})\nexport class LinkPanelComponent implements OnInit, OnDestroy {\n\n  @Input() linkData: any[] | any;\n  \n  seeAlsoData : {};\n  sameAsData : {};\n  counterElement = 0;\n  object : any;\n\n  refresh_subscription : Subscription;\n\n  constructor(private lexicalService: LexicalEntriesService, private toastr : ToastrService) { }\n\n  ngOnInit(): void {\n\n    this.refresh_subscription = this.lexicalService.refreshLinkCounter$.subscribe(\n      data=>{\n        console.log(data)\n        if(data!=null){\n          this.counterElement = eval(this.counterElement.toString()+data)\n        }\n      },error=>{\n        console.log(error)\n      }\n    )\n  }\n\n  async ngOnChanges(changes: SimpleChanges){\n    if(changes.linkData.currentValue != null){\n      this.counterElement = 0;\n      this.object = changes.linkData.currentValue;\n      this.sameAsData = null;\n      this.seeAlsoData = null;\n      let lexicalElementId = '';\n      let instanceNameType = '';\n      let parameters = {};\n      if (this.object.lexicalEntry != undefined && this.object.form == undefined && this.object.sense == undefined) {\n        lexicalElementId = this.object.lexicalEntry;\n        instanceNameType = 'lexicalEntry'\n      } else if (this.object.form != undefined) {\n        lexicalElementId = this.object.form;\n        instanceNameType = 'form'\n      } else if (this.object.sense != undefined) {\n        lexicalElementId = this.object.sense;\n        instanceNameType = 'sense'\n      } else if (this.object.etymology != undefined) {\n        lexicalElementId = this.object.etymology;\n        instanceNameType = 'etymology'\n      } else if(this.object.lexicalConcept != undefined) {\n        lexicalElementId = this.object.lexicalConcept;\n        instanceNameType = 'lexicalConcept'\n      }\n      /* //console.log(changes.linkData.currentValue) */\n\n\n      try{\n        let same_as_data = await this.lexicalService.getLexEntryGenericRelation(lexicalElementId, 'sameAs').toPromise()\n        console.log(same_as_data)\n        this.sameAsData = {}\n        this.sameAsData['array'] = same_as_data;\n        if(instanceNameType == 'lexicalEntry'){\n          this.sameAsData['parentNodeLabel']= this.object['lexicalEntry'];\n        }\n        this.sameAsData[instanceNameType]= this.object[instanceNameType];\n        this.sameAsData['type'] = this.object.type;\n      }catch(e){\n        if(e.status == 200){\n          this.sameAsData = {}\n          this.sameAsData['array'] = [];\n          if(instanceNameType == 'lexicalEntry'){\n            this.sameAsData['parentNodeLabel']= this.object['lexicalEntry'];\n          }\n          this.sameAsData[instanceNameType]= this.object[instanceNameType];\n          this.sameAsData['label']= this.object['label'];\n          this.sameAsData['type'] = this.object.type;\n          console.log(e);\n        }else{\n          //this.toastr.info(e.error.text, 'Info', {timeOut: 5000})\n        }\n        \n      }\n      \n      try{\n        let see_also_data = await this.lexicalService.getLexEntryGenericRelation(lexicalElementId, 'seeAlso').toPromise();\n        console.log(see_also_data)\n        this.seeAlsoData = {}\n        this.seeAlsoData['array'] = see_also_data;\n        this.seeAlsoData['parentNodeLabel']= this.object['lexicalEntry'];\n        this.seeAlsoData[instanceNameType]= this.object[instanceNameType];\n      }catch(e){\n        this.seeAlsoData = {}\n        this.seeAlsoData['array'] = [];\n        this.seeAlsoData['parentNodeLabel']= this.object['lexicalEntry'];\n        this.seeAlsoData[instanceNameType]= this.object[instanceNameType];\n      }\n      \n\n      //console.log(this.object)\n      if(this.object.links != undefined){\n        this.object.links.forEach(element => {\n          if(element.type != undefined){\n            if(element.type == 'Reference'){\n              element.elements.forEach(sub => {\n                this.counterElement += sub.count;\n              });\n            }\n          }\n        });\n      }\n      \n    \n      \n    }else{\n      this.counterElement = 0;\n      this.sameAsData = null;\n      this.seeAlsoData = null;\n    }\n  }\n\n  \n  ngOnDestroy(): void {\n      this.refresh_subscription.unsubscribe();\n  }\n}\n","\n\n<div class=\"card\">\n    <div class=\"card-header\" id=\"referenceHeading\">\n        <h5 class=\"mb-0\">\n            <a class=\"btn btn-link w-100 d-flex align-self-center collapsed\" data-toggle=\"collapse\"\n                data-target=\"#referenceCollapse\" aria-expanded=\"true\" aria-controls=\"referenceCollapse\">\n                Link Panel&nbsp; <span *ngIf=\"counterElement > 0\">({{counterElement}})</span><i class=\"fa  ml-auto\"></i>\n            </a>\n        </h5>\n    </div>\n    <div id=\"referenceCollapse\" class=\"collapse\" aria-labelledby=\"referenceHeading\">\n        <div class=\"card-body\">\n            <app-see-also *ngIf=\"seeAlsoData != undefined\" [seeAlsoData]=\"seeAlsoData\"></app-see-also>\n            <app-same-as *ngIf=\"sameAsData != undefined\"  [sameAsData]=\"sameAsData\"></app-same-as>\n        </div>\n    </div>\n</div>"],"sourceRoot":"webpack:///"}