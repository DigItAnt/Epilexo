{"version":3,"sources":["./src/app/components/lexicon-panel/lexicon-panel.component.ts","./src/app/components/lexicon-panel/lexicon-panel.component.html","./src/app/components/link-panel/same-as/same-as.component.ts","./src/app/components/link-panel/same-as/same-as.component.html","./src/app/components/attestation-panel/form-panel/form-panel.component.ts","./src/app/components/attestation-panel/form-panel/form-panel.component.html","./src/app/components/lexicon-panel/document-system-tree/lexical-entry-tree/lexical-entry-tree.component.ts","./src/app/components/lexicon-panel/document-system-tree/lexical-entry-tree/lexical-entry-tree.component.html","./src/app/components/lexicon-panel/text-detail/epigraphy-detail/epigraphy-tab/epigraphy-form/search-form/search-form.component.ts","./src/app/components/lexicon-panel/text-detail/epigraphy-detail/epigraphy-tab/epigraphy-form/search-form/search-form.component.html","./src/app/components/lexicon-panel/document-system-tree/concept-tree/concept-tree.component.ts","./src/app/components/lexicon-panel/document-system-tree/concept-tree/concept-tree.component.html","./src/app/services/document-system/document-system.service.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/synsem-tab/synsem-tab.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/synsem-tab/synsem-tab.component.html","./src/app/components/lexicon-panel/text-detail/edit-detail/decomposition-tab/decomposition-tab.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/decomposition-tab/decomposition-tab.component.html","./src/app/views/home-page/home-page.component.ts","./src/app/views/home-page/home-page.component.html","./src/app/services/auth/auth.service.ts","./src/environments/environment.ts","./src/app/components/lexicon-panel/document-system-tree/skos-tree/skos-tree.component.ts","./src/app/components/lexicon-panel/document-system-tree/skos-tree/skos-tree.component.html","./src/app/components/profiles-table/profiles-table.component.ts","./src/app/components/profiles-table/profiles-table.component.html","./src/app/services/annotator/annotator.service.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/vartrans-tab/vartrans-tab.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/vartrans-tab/vartrans-tab.component.html","./src/app/components/lexicon-panel/text-detail/edit-detail/core-tab/core-tab.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/core-tab/core-tab.component.html","./src/app/components/lexicon-panel/text-detail/edit-detail/vartrans-tab/lexical-entry-vartrans-form/lexical-entry-vartrans-form.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/vartrans-tab/lexical-entry-vartrans-form/lexical-entry-vartrans-form.component.html","./src/app/components/lexicon-panel/document-system-tree/language-manager/language-manager.component.ts","./src/app/components/lexicon-panel/document-system-tree/language-manager/language-manager.component.html","./src/app/services/bibliography-service/bibliography.service.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/synsem-tab/lexical-entry-synsem-form/lexical-entry-synsem-form.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/synsem-tab/lexical-entry-synsem-form/lexical-entry-synsem-form.component.html","./src/app/components/profiles-table/validator/password-match.ts","./src/app/services/concept/concept.service.ts","./src/app/views/login-page/login-page.component.ts","./src/app/views/login-page/login-page.component.html","./src/app/app.component.ts","./src/app/app.component.html","./src/app/components/lexicon-panel/text-detail/edit-detail/etymology-tab/etymology-form/etymology-form.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/etymology-tab/etymology-form/etymology-form.component.html","./src/app/views/lexicon-page/lexicon-page.component.ts","./src/app/views/lexicon-page/lexicon-page.component.html","./src/app/components/lexicon-panel/document-system-tree/lexical-entry-tree/interfaces/lexical-entry-interface.ts","./src/app/components/lexicon-panel/document-system-tree/text-tree/text-tree.component.ts","./src/app/components/lexicon-panel/document-system-tree/text-tree/text-tree.component.html","./src/app/components/lexicon-panel/text-detail/edit-detail/decomposition-tab/lexical-entry-decomp-form/lexical-entry-decomp-form.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/decomposition-tab/lexical-entry-decomp-form/lexical-entry-decomp-form.component.html","./src/app/components/lexicon-panel/text-detail/edit-detail/dictionary-tab/dictionary-tab.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/dictionary-tab/dictionary-tab.component.html","./src/app/app.module.ts","./src/app/components/metadata-panel/metadata-panel.component.ts","./src/app/components/metadata-panel/metadata-panel.component.html","./src/app/components/lexicon-panel/text-detail/edit-detail/edit-detail.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/edit-detail.component.html","./src/app/services/expander/expander.service.ts","./src/app/components/lexicon-panel/text-detail/epigraphy-detail/epigraphy-tab/epigraphy-form/epigraphy-form.component.ts","./src/app/components/lexicon-panel/text-detail/epigraphy-detail/epigraphy-tab/epigraphy-form/epigraphy-form.component.html","./src/app/components/lexicon-panel/text-detail/epigraphy-detail/epigraphy-detail.component.ts","./src/app/components/lexicon-panel/text-detail/epigraphy-detail/epigraphy-detail.component.html","./src/app/components/lexicon-panel/document-system-tree/document-system-tree.component.ts","./src/app/components/lexicon-panel/document-system-tree/document-system-tree.component.html","./src/app/components/bibliography-panel/bibliography-panel.component.ts","./src/app/components/bibliography-panel/bibliography-panel.component.html","./src/app/services/initializer/app-init.ts","./src/app/components/note-panel/note-panel.component.ts","./src/app/components/note-panel/note-panel.component.html","./src/app/services/lexical-entries/lexical-entries.service.ts","./src/app/views/unauthorized-page/unauthorized-page/unauthorized-page.component.ts","./src/app/views/unauthorized-page/unauthorized-page/unauthorized-page.component.html","./src/app/components/navbar/navbar.component.ts","./src/app/components/navbar/navbar.component.html","./src/app/components/lexicon-panel/text-detail/edit-detail/etymology-tab/etymology-tab.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/etymology-tab/etymology-tab.component.html","./src/app/components/lexicon-panel/text-detail/text-detail.component.ts","./src/app/components/lexicon-panel/text-detail/text-detail.component.html","./src/app/services/guard/auth.guard.ts","./src/app/components/lexicon-panel/text-detail/epigraphy-detail/epigraphy-tab/epigraphy-tab.component.ts","./src/app/components/lexicon-panel/text-detail/epigraphy-detail/epigraphy-tab/epigraphy-tab.component.html","./src/app/views/page-not-found/page-not-found.component.ts","./src/app/views/page-not-found/page-not-found.component.html","./src/app/components/link-panel/see-also/see-also.component.ts","./src/app/components/link-panel/see-also/see-also.component.html","./src/app/views/profile-page/profile-page.component.ts","./src/app/views/profile-page/profile-page.component.html","./src/app/components/lexicon-panel/text-detail/edit-detail/core-tab/lexical-concept-form/lexical-concept-form.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/core-tab/lexical-concept-form/lexical-concept-form.component.html","./src/app/components/lexicon-panel/text-detail/edit-detail/core-tab/sense-core-form/sense-core-form.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/core-tab/sense-core-form/sense-core-form.component.html","./src/app/components/lexicon-panel/text-detail/edit-detail/vartrans-tab/sense-vartrans-form/sense-vartrans-form.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/vartrans-tab/sense-vartrans-form/sense-vartrans-form.component.html","./src/app/components/attestation-panel/attestation-panel.component.ts","./src/app/components/attestation-panel/attestation-panel.component.html","./src/app/views/search-page/search-page.component.ts","./src/app/views/search-page/search-page.component.html","./src/app/app-routing.module.ts","./src/app/services/lila/lila.service.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/core-tab/form-core-form/form-core-form.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/core-tab/form-core-form/form-core-form.component.html","./src/app/components/data-search-form/data-search-form.component.ts","./src/app/components/data-search-form/data-search-form.component.html","./src/app/components/lexicon-panel/text-detail/edit-detail/core-tab/lexical-entry-core-form/cognate-panel/cognate-panel.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/core-tab/lexical-entry-core-form/cognate-panel/cognate-panel.component.html","./src/app/components/lexicon-panel/text-detail/edit-detail/core-tab/lexical-entry-core-form/lexical-entry-core-form.component.ts","./src/app/components/lexicon-panel/text-detail/edit-detail/core-tab/lexical-entry-core-form/lexical-entry-core-form.component.html","./src/main.ts","./$_lazy_route_resource lazy namespace object","./src/app/components/link-panel/link-panel.component.ts","./src/app/components/link-panel/link-panel.component.html"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-lexicon-panel',\n  templateUrl: './lexicon-panel.component.html',\n  styleUrls: ['./lexicon-panel.component.scss']\n})\nexport class LexiconPanelComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","\n\n<div class=\"container-fluid\" >\n    <div class=\"row\" >\n        <div class=\"col-md-4 p-1\" >\n            <app-document-system-tree></app-document-system-tree>\n        </div>\n        <div class=\"col-md-8 p-1\" >\n            <app-text-detail></app-text-detail>\n        </div>\n    </div>\n</div>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, Input, OnInit, QueryList, SimpleChanges, ViewChildren } from '@angular/core';\nimport { FormArray, FormBuilder, FormControl, FormGroup } from '@angular/forms';\nimport { Subject, Subscription } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\nimport { ToastrService } from 'ngx-toastr';\nimport { LilaService } from 'src/app/services/lila/lila.service';\nimport { NgSelectComponent } from '@ng-select/ng-select';\n\n@Component({\n  selector: 'app-same-as',\n  templateUrl: './same-as.component.html',\n  styleUrls: ['./same-as.component.scss']\n})\nexport class SameAsComponent implements OnInit {\n\n  @Input() sameAsData: any[] | any;\n\n  private subject: Subject<any> = new Subject();\n  private subject_input: Subject<any> = new Subject();\n  subscription: Subscription;\n  object: any;\n  searchResults=[];\n  filterLoading = false;\n\n  @ViewChildren('sameAsSelect') sameAsList: QueryList<NgSelectComponent>;\n\n\n  memorySameAs = [];\n  isSense;\n  isForm;\n  isLexEntry;\n\n  sameAsForm = new FormGroup({\n    sameAsArray: new FormArray([this.createSameAsEntry()]),\n    isEtymon: new FormControl(null),\n    isCognate: new FormControl(null)\n  })\n\n  sameAsArray: FormArray;\n\n  constructor(private formBuilder: FormBuilder, \n              private lexicalService : LexicalEntriesService, \n              private toastr: ToastrService,\n              private lilaService: LilaService) {\n  }\n\n  ngOnInit() {\n    this.sameAsForm = this.formBuilder.group({\n      sameAsArray: this.formBuilder.array([]),\n      isEtymon: false,\n      isCognate: false,\n    })\n\n    this.subject.pipe(debounceTime(1000)).subscribe(\n      data => {\n        this.onSearchFilter(data)\n      }\n    )\n\n    this.lexicalService.triggerSameAs$.subscribe(\n      data=> {\n        console.log(data);\n        if((data != undefined || data != null) && this.object != undefined){\n          this.object.type = data;\n          if(typeof(this.object.type) != \"string\"){\n            let isCognate = this.object.type.find(element => element == 'Cognate');\n            if(isCognate){\n                this.sameAsForm.get('isCognate').setValue(true, {emitEvent: false})\n            }else{\n                this.sameAsForm.get('isCognate').setValue(false, {emitEvent: false})\n            }\n    \n            let isEtymon = this.object.type.find(element => element == 'Etymon');\n            if(isEtymon){\n                this.sameAsForm.get('isEtymon').setValue(true, {emitEvent: false})\n            }else{\n                this.sameAsForm.get('isEtymon').setValue(false, {emitEvent: false})\n            }\n          }else{\n            if(this.object.type == 'Cognate'){\n              this.sameAsForm.get('isCognate').setValue(true, {emitEvent: false})\n            }else{\n              this.sameAsForm.get('isCognate').setValue(false, {emitEvent: false})\n            }\n\n            if(this.object.type == 'Etymon'){\n              this.sameAsForm.get('isEtymon').setValue(true, {emitEvent: false})\n            }else{\n              this.sameAsForm.get('isEtymon').setValue(false, {emitEvent: false})\n            }\n          }\n        }\n      },error=> {\n        console.log(error)\n      }\n    )\n\n    this.subject_input.pipe(debounceTime(1000)).subscribe(\n      data => {        \n        this.onChangeSameAsByInput(data['value'], data['i'])\n      }\n    )\n  \n    this.triggerTooltip();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    setTimeout(() => {\n      if(changes.sameAsData.currentValue != undefined){\n        this.object = changes.sameAsData.currentValue;\n        this.sameAsArray = this.sameAsForm.get('sameAsArray') as FormArray;\n        this.sameAsArray.clear();\n        \n        this.memorySameAs = [];\n        console.log(this.object)\n  \n        this.object.array.forEach(element => {\n          this.addSameAsEntry(element.lexicalEntity, element.linkType == 'external')\n          this.memorySameAs.push(element.lexicalEntity);\n        });\n\n        //console.log(this.memorySameAs)\n        if(this.object.type != undefined){\n          if(typeof(this.object.type) != \"string\"){\n            let isCognate = this.object.type.find(element => element == 'Cognate');\n            if(isCognate){\n                this.sameAsForm.get('isCognate').setValue(true, {emitEvent: false})\n            }else{\n                this.sameAsForm.get('isCognate').setValue(false, {emitEvent: false})\n            }\n    \n            let isEtymon = this.object.type.find(element => element == 'Etymon');\n            if(isEtymon){\n                this.sameAsForm.get('isEtymon').setValue(true, {emitEvent: false})\n            }else{\n                this.sameAsForm.get('isEtymon').setValue(false, {emitEvent: false})\n            }\n          }else{\n            if(this.object.type == 'Cognate'){\n              this.sameAsForm.get('isCognate').setValue(true, {emitEvent: false})\n            }else{\n              this.sameAsForm.get('isCognate').setValue(false, {emitEvent: false})\n            }\n\n            if(this.object.type == 'Etymon'){\n              this.sameAsForm.get('isEtymon').setValue(true, {emitEvent: false})\n            }else{\n              this.sameAsForm.get('isEtymon').setValue(false, {emitEvent: false})\n            }\n          }\n          \n        }\n        \n\n        if(this.object.lexicalEntryInstanceName != undefined){\n          this.isLexEntry = true;\n          this.isForm = false;\n          this.isSense = false;\n        }else if(this.object.formInstanceName != undefined){\n          this.isLexEntry = false;\n          this.isForm = true;\n          this.isSense = false;\n        }else if(this.object.senseInstanceName != undefined){\n          this.isLexEntry = false;\n          this.isForm = false;\n          this.isSense = true;\n        }\n        \n      }else {\n        this.object = null;\n      }\n    }, 10);\n  }\n\n  onChangeSameAsByInput(value, index){\n    if(value.trim() != ''){\n      var selectedValues = value;\n      var lexicalElementId = '';\n      let parameters =  {};\n      if (this.object.lexicalEntryInstanceName != undefined) {\n        lexicalElementId = this.object.lexicalEntryInstanceName;\n      } else if (this.object.formInstanceName != undefined) {\n        lexicalElementId = this.object.formInstanceName;\n      } else if (this.object.senseInstanceName != undefined) {\n        lexicalElementId = this.object.senseInstanceName;\n      } else if (this.object.etymologyInstanceName != undefined) {\n        lexicalElementId = this.object.etymologyInstanceName;\n      }\n  \n      //console.log(this.memorySameAs[index])\n      if (this.memorySameAs[index] == undefined ||  this.memorySameAs[index]  == \"\") {\n        parameters = {\n          type: \"reference\",\n          relation: \"sameAs\",\n          value: selectedValues\n        }\n       \n  \n        this.memorySameAs[index] = selectedValues;\n      } else {\n        let oldValue = this.memorySameAs[index];\n        parameters = {\n          type: \"reference\",\n          relation: \"sameAs\",\n          value: selectedValues,\n          currentValue: oldValue\n        }\n       \n      }\n\n      this.lexicalService.updateGenericRelation(lexicalElementId, parameters).subscribe(\n        data => {\n          console.log(data)\n        }, error => {\n          console.log(error)\n          if(error.status == '200'){\n            this.toastr.success(\"SameAs Changed\", '', {\n              timeOut: 5000,\n            });\n\n            this.sameAsArray = this.sameAsForm.get('sameAsArray') as FormArray;\n            this.sameAsArray.at(index).get('inferred').setValue(true,{emitEvent: false} )\n          }else{\n            this.toastr.error(error.error.text, 'Error', {\n              timeOut: 5000,\n            });\n          }\n          \n        }\n      )\n    }\n    \n  }\n\n  onChangeSameAs(sameAs, index){\n    console.log(sameAs.selectedItems)\n    if(sameAs.selectedItems.length != 0){\n      let parameters = {};\n      var selectedValues = sameAs.selectedItems[0].value.lexicalEntry;\n\n      if(selectedValues == undefined){\n        sameAs.selectedItems[0].value.lexicalEntry;\n      }\n\n      let lexId = this.object.lexicalEntryInstanceName;\n    \n      if (this.memorySameAs[index] == undefined ||  this.memorySameAs[index]  == \"\") {\n        parameters = {\n          type: \"reference\",\n          relation: \"sameAs\",\n          value: selectedValues\n        }\n       \n  \n        this.memorySameAs[index] = selectedValues;\n      } else {\n        let oldValue = this.memorySameAs[index];\n        parameters = {\n          type: \"reference\",\n          relation: \"sameAs\",\n          value: selectedValues,\n          currentValue: oldValue\n        }\n       \n      }\n      console.log(parameters)\n      this.lexicalService.updateGenericRelation(lexId, parameters).subscribe(\n        data=>{\n          console.log(data)\n          this.sameAsArray.at(index).get('inferred').setValue(true,{emitEvent: false} )\n        }, error=>{\n          console.log(error)\n          if(error.status == 200){\n            this.toastr.success('SameAs Changed', '', {timeOut : 5000})\n            this.sameAsArray.at(index).get('inferred').setValue(true,{emitEvent: false} )\n          }else{\n            if(error.status == 200){\n              this.toastr.error(error.error.text, '', {timeOut : 5000})\n            }\n          }\n        }\n      )\n    }\n    \n    \n  }\n\n  onSearchFilter(data){\n    this.filterLoading = true;\n    this.searchResults = [];\n\n    let value = data.value;\n    let index = data.index;\n    console.log(data)\n    this.sameAsArray = this.sameAsForm.get('sameAsArray') as FormArray;\n    let isLila = this.sameAsArray.at(index).get('lila').value;\n\n    if(!isLila){\n      if(this.object.lexicalEntryInstanceName != undefined){\n        let parameters = {\n          text: data,\n          searchMode: \"startsWith\",\n          type: \"\",\n          pos: \"\",\n          formType: \"entry\",\n          author: \"\",\n          lang: \"\",\n          status: \"\",\n          offset: 0,\n          limit: 500\n        }\n        console.log(data.length)\n          this.lexicalService.getLexicalEntriesList(parameters).subscribe(\n            data=>{\n              console.log(data)\n              this.searchResults = data['list']\n              console.log(this.searchResults)\n              this.filterLoading = false;\n            },error=>{\n              console.log(error)\n              this.filterLoading = false;\n            }\n          )\n        \n      }else if(this.object.formInstanceName != undefined){\n          let lexId = this.object.parentInstanceName;\n          let parameters = {\n            text: data,\n            searchMode: \"startsWith\",\n            representationType: \"writtenRep\",\n            author: \"\",\n            offset: 0,\n            limit: 500\n          }\n          console.log(parameters);\n          this.lexicalService.getFormList(parameters).subscribe(\n            data=>{\n              console.log(data)\n              this.searchResults = data['list']\n              this.filterLoading = false;\n            },error=>{\n              console.log(error)\n              this.filterLoading = false;\n            }\n          )\n        \n        \n      }else if(this.object.senseInstanceName != undefined){\n          let parameters = {\n            text: data,\n            searchMode: \"startsWith\",\n            type: \"\",\n            pos: \"\",\n            formType: \"entry\",\n            author: \"\",\n            lang: \"\",\n            status: \"\",\n            offset: 0,\n            limit: 500\n          }\n    \n          this.lexicalService.getLexicalSensesList(parameters).subscribe(\n            data=>{\n              this.searchResults = data\n              this.filterLoading = false;\n            },error=>{\n              console.log(error)\n              this.filterLoading = false;\n            }\n          )\n      }\n    }else if(isLila){\n      this.searchResults = [];\n      if(this.sameAsForm.get('isEtymon').value){\n          this.lilaService.queryEtymon(value).subscribe(\n              data=>{\n                  console.log(data)\n                  if(data.list.length > 0){\n                    const map = data.list.map(element => (\n                      {\n                        label: element[2]?.value, \n                        language : element[1]?.value,\n                        lexicalEntry : element[0]?.value\n                      })\n                    )\n\n                    \n                    \n\n                    this.searchResults = map;\n                    console.log(this.searchResults)\n                  }\n              },\n              error=>{\n                  console.log(error)\n              }\n          )\n      }\n\n\n      if(this.sameAsForm.get('isCognate').value){\n          this.lilaService.queryCognate(value).subscribe(\n              data=>{\n                  console.log(data);\n                  if(data.list.length > 0){\n\n                    \n                    const map = data.list.map(element => (\n                      {\n                        label: this.object.label, \n                        labelValue: element[0].value, \n                        pos : element[1].value\n                      })\n                    )\n\n                    map.forEach(element => {\n                      let tmpLblVal = element.labelValue.split('/');\n                      let labelValue = tmpLblVal[tmpLblVal.length - 1];\n\n                      let tmpLblPos = element.pos.split('/');\n                      let pos = tmpLblPos[tmpLblPos.length - 1];\n\n\n                      element.labelElement = labelValue;\n                      element.labelPos = pos;\n\n                    });\n\n                    \n\n                    this.searchResults = map;\n                    console.log(this.searchResults)\n\n                  }\n\n              },\n              error=>{\n                  console.log(error)\n              }\n          )\n      }\n    }\n    \n\n    console.log(data)\n  \n  }\n\n  triggerLilaSearch(index){\n    \n    \n    setTimeout(() => {\n      this.sameAsArray = this.sameAsForm.get('sameAsArray') as FormArray;\n      if(this.sameAsArray.at(index).get('lila').value){\n        const element = Array.from(this.sameAsList)[index];\n\n        /* if(element!=undefined){\n          \n          this.onSearchFilter({value: this.object.label, index: index})\n        } */\n\n        /* setTimeout(() => {\n          element.filter(this.object.label)\n        }, 100); */\n      }\n      \n      \n\n    }, 250);\n  }\n\n  deleteData(){\n    this.searchResults = [];\n  }\n\n  triggerSameAsInput(evt, i){\n    if(evt.target != undefined){\n      let value = evt.target.value;\n      this.subject_input.next({value, i})\n    }\n  }\n\n  triggerSameAs(evt,i){\n    console.log(evt.target.value)\n    if(evt.target != undefined){\n      this.subject.next({value: evt.target.value, index: i})\n    }\n  }\n\n  triggerTooltip() {\n    setTimeout(() => {\n      //@ts-ignore\n      $('.same-as-tooltip').tooltip({\n        trigger: 'hover'\n      });\n    }, 500);\n  }\n\n  createSameAsEntry(e?, i?) {\n    if(e == undefined){\n      return this.formBuilder.group({\n        entity: null,\n        inferred : false,\n        lila: false\n      })\n    }else{\n      return this.formBuilder.group({\n        entity: e,\n        inferred : i,\n        lila: false\n      })\n    }\n    \n  }\n\n  addSameAsEntry(e?, i?) {\n\n\n    this.sameAsArray = this.sameAsForm.get('sameAsArray') as FormArray;\n    if(e == undefined){\n      this.sameAsArray.push(this.createSameAsEntry());\n    }else{\n      this.sameAsArray.push(this.createSameAsEntry(e, i));\n    }\n\n    \n    \n    this.triggerTooltip();\n\n    \n  }\n\n  removeElement(index) {\n    this.sameAsArray = this.sameAsForm.get('sameAsArray') as FormArray;\n    const lexical_entity = this.sameAsArray.at(index).get('entity').value;\n\n    if (this.object.lexicalEntryInstanceName != undefined) {\n\n      let lexId = this.object.lexicalEntryInstanceName;\n\n      let parameters = {\n        relation: 'sameAs',\n        value: lexical_entity\n      }\n\n      \n\n      this.lexicalService.deleteLinguisticRelation(lexId, parameters).subscribe(\n        data => {\n          console.log(data)\n          this.lexicalService.updateCoreCard(this.object)\n          this.lexicalService.refreshLinkCounter('-1')\n          this.toastr.success(\"SameAs Removed\", 'Error', {\n            timeOut: 5000,\n          });\n        }, error => {\n          console.log(error)\n          if(error.status == 200){\n            this.toastr.success(\"SameAs Removed\", 'Error', {\n              timeOut: 5000,\n            });\n          }else{\n            this.toastr.error(error.error.text, 'Error', {\n              timeOut: 5000,\n            });\n          }\n          \n        }\n      )\n    } else if (this.object.formInstanceName != undefined) {\n      let formId = this.object.formInstanceName;\n\n      let parameters = {\n        relation: 'sameAs',\n        value: lexical_entity\n      }\n\n      \n\n      this.lexicalService.deleteLinguisticRelation(formId, parameters).subscribe(\n        data => {\n          //console.log(data)\n          this.lexicalService.updateCoreCard(this.object)\n          this.lexicalService.refreshLinkCounter('-1')\n        }, error => {\n          //console.log(error)\n        }\n      )\n\n    } else if (this.object.senseInstanceName != undefined) {\n      let senseId = this.object.senseInstanceName;\n\n      let parameters = {\n        type: 'morphology',\n        relation: 'sameAs',\n        value: lexical_entity\n      }\n\n      //console.log(parameters)\n\n      this.lexicalService.deleteLinguisticRelation(senseId, parameters).subscribe(\n        data => {\n          //console.log(data)\n          this.lexicalService.updateCoreCard(this.object)\n          this.lexicalService.refreshLinkCounter('-1')\n        }, error => {\n          //console.log(error)\n        }\n      )\n    }\n    this.memorySameAs.splice(index, 1)\n    this.sameAsArray.removeAt(index);\n  }\n\n}\n","\n\n<form [formGroup]=\"sameAsForm\">\n    <div class=\"form-group row mt-3\">\n        <div class=\"input-group col-sm-12\">\n            <div class=\"card\">\n                <span class=\"text-id\">SAME AS</span>\n                <a (click)=\"addSameAsEntry()\" class=\"pointer\"><span class=\"collapse-icon\"><i\n                            class=\"fa fa-plus-square\"></i></span></a>\n                <div class=\"card-body\">\n                    <div formArrayName=\"sameAsArray\" class=\"mt-3\">\n                        <div *ngFor=\"let sameAs of sameAsForm.get('sameAsArray')['controls']; let i = index\">\n                            <div [formGroupName]=\"i\">\n                                <div class=\"d-flex\">\n                                    <div class=\"form-group row ml-2  mr-2 w-100\" *ngIf=\"{switch : false}; let variable\">\n                                        <div class=\"input-group\" *ngIf=\"{boolean : sameAs.get('inferred').value}; let inf\">\n                                            <ng-select [isOpen]=\"dropdown\" #sameAsSelect formControlName=\"entity\" name=\"entity\"\n                                                (change)=\"onChangeSameAs(sameAsSelect, i)\" (focus)=\"deleteData()\"\n                                                (keyup)=\"triggerSameAs($event, i)\" bindValue=\"label\" class=\"resizeNgSelect\" [items]=\"searchResults\"\n                                                bindLabel=\"label\" placeholder=\"Search entity\" appendTo=\"body\"\n                                                [hidden]=\"!sameAs.get('lila').value\" [readonly]=\"inf.boolean\">\n                                                <ng-template ng-option-tmp let-item=\"item\" let-search=\"searchTerm\">\n                                           \n                                                    <div class=\"card-body p-0\">\n                                                        <span class=\"card-title m-0\" [ngOptionHighlight]=\"search\">{{item.label}}</span>\n                                                        <span style=\"color: blue;\">@{{item.language}}</span>\n                                                        <small class=\"card-text\">\n                                                           \n                                        \n                                                        </small>\n                                                       \n                                                    </div>\n                                        \n                                                </ng-template>\n                                               \n                                            </ng-select>\n                                            \n                                            <input formControlName=\"entity\" name=\"entity\" type=\"text\"\n                                                class=\"form-control \" (keyup)=\"triggerSameAsInput($event, i)\"\n                                                placeholder=\"Insert URI\" [hidden]=\"sameAs.get('lila').value\">\n\n                                            <div class=\"input-group-append\">\n                                               <!--  <div class=\"input-group-append ml-2 form-check\">\n                                                    <input class=\"form-check-input same-as-tooltip\" type=\"checkbox\"\n                                                        (change)=\"variable.switch=!variable.switch\"\n                                                        data-toggle=\"tooltip\" data-placement=\"bottom\"\n                                                        data-trigger=\"hover\"\n                                                        title=\"Clicca per inserire un URI manualmente\">\n                                                    <label class=\"form-check-label\" for=\"extCheck\"></label>\n                                                </div> -->\n                                                \n                                                <div class=\"input-group-append ml-2\" *ngIf=\"(sameAsForm.get('isCognate').value || sameAsForm.get('isEtymon').value) && (!inf.boolean && !sameAs.get('inferred').value)\">\n                                                    <div class=\"btn-group-toggle\" data-toggle=\"buttons\" placement=\"top\" ngbTooltip=\"Enable LiLa endpoint\" title=\"Enable LiLa endpoint\" >\n                                                        <label class=\"btn btn-secondary\" >\n                                                          <input (click)=\"triggerLilaSearch(i)\" type=\"checkbox\" autocomplete=\"off\" autocomplete=\"off\" formControlName=\"lila\" name=\"lila\" style=\"border-radius: .3rem;\" > \n                                                            <!-- <img src=\"../../../../../../../assets/images/graphql.png\" alt=\"Avatar\" class=\"image\" style=\"height: 20px;\" /> -->\n                                                            <i class=\"fas fa-project-diagram\"></i>\n                                                        </label>\n                                                    </div>\n                                                </div>\n                                                <div class=\"input-group-append ml-2\" *ngIf=\"inf.boolean\">\n                                                    <a [href]=\"sameAs.get('entity').value\" target=\"_blank\"  class=\"btn btn-primary\"\n                                                        type=\"button\"><i class=\"fas fa-external-link-alt\"></i></a>\n                                                </div>\n                                                <div class=\"input-group-append ml-2\">\n                                                    <button (click)=\"removeElement(i)\" class=\"btn btn-danger\"\n                                                        type=\"button\"><i class=\"fa fa-trash-alt\"></i></button>\n                                                </div>\n                                            </div>\n\n                                           \n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</form>","import { Component, Input, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { ModalComponent } from 'ng-modal-lib';\nimport { Subscription } from 'rxjs';\nimport { debounceTime, first } from 'rxjs/operators';\nimport { AnnotatorService } from 'src/app/services/annotator/annotator.service';\n\n@Component({\n  selector: 'app-form-panel',\n  templateUrl: './form-panel.component.html',\n  styleUrls: ['./form-panel.component.scss']\n})\nexport class FormPanelComponent implements OnInit, OnDestroy {\n  public formId: string;\n  public label : any;\n  public subscription: Subscription;\n  public formData : any;\n  public id : any;\n\n  @ViewChild('formPanelModal', {static: false}) formPanelModal: ModalComponent;\n  \n  constructor(private annotatorService : AnnotatorService) { }\n\n  ngOnInit(): void {\n    \n  }\n\n  ngOnDestroy() : void {\n    this.subscription.unsubscribe();\n  }\n\n\n  triggerFormPanel(data?){\n    setTimeout(() => {\n      this.formPanelModal.show();\n      \n    }, 100);\n    \n  }\n\n  onCloseModal(idForm){\n    this.annotatorService.closePanelForm(idForm);\n    console.log(this.annotatorService.getAllPanelForms())\n  }\n}\n","<app-modal #formPanelModal style=\"top: 10%;\" class=\"modal-demo\" [maximizable]=\"false\" [inViewport]=\"true\"  [backdrop]=\"false\" class=\"panelFormData\" (closeModal)=\"onCloseModal(id)\">\n    <ng-container class=\"app-modal-header\">{{label}}</ng-container>\n    <ng-container class=\"app-modal-body\">\n       <app-form-core-form [formData]=\"formData\"></app-form-core-form>\n    </ng-container>\n    <!-- <ng-container class=\"app-modal-footer\">\n        <button type=\"button\" class=\"button button3\"\n            (click)=\"formPanelModal.hide()\">Delete</button>\n        <button type=\"button\" class=\"button button1\"\n            (click)=\"formPanelModal.hide()\">Save</button>\n        <button type=\"button\" class=\"button button2\"\n            style=\"float: right;\" (click)=\"formPanelModal.hide()\">Close\n        </button>\n    </ng-container> -->\n</app-modal>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { ApplicationRef, Component, ElementRef, Input, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { TreeNode, TreeModel, TREE_ACTIONS, KEYS, IActionMapping, ITreeOptions, ITreeState } from '@circlon/angular-tree-component';\nimport { formTypeEnum, LexicalEntryRequest, searchModeEnum, typeEnum } from './interfaces/lexical-entry-interface'\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { ContextMenuComponent } from 'ngx-contextmenu';\n\nimport * as _ from 'underscore';\ndeclare var $: JQueryStatic;\n\n\nimport { debounceTime } from 'rxjs/operators';\nimport { ExpanderService } from 'src/app/services/expander/expander.service';\nimport { Subject } from 'rxjs';\nimport { ToastrService } from 'ngx-toastr';\n\n\nconst actionMapping: IActionMapping = {\n  mouse: {\n\n    dblClick: (tree, node, $event) => {\n      if (node.hasChildren) {\n        TREE_ACTIONS.TOGGLE_EXPANDED(tree, node, $event);\n      }\n    },\n    click: (tree, node, $event) => {\n\n      TREE_ACTIONS.TOGGLE_ACTIVE(tree, node, $event);\n      TREE_ACTIONS.TOGGLE_EXPANDED(tree, node, $event);\n    },\n    contextMenu: (tree, node, $event) => {\n\n      TREE_ACTIONS.TOGGLE_ACTIVE(tree, node, $event);\n      TREE_ACTIONS.TOGGLE_EXPANDED(tree, node, $event);\n    },\n  }\n};\n\n@Component({\n  selector: 'app-lexical-entry-tree',\n  templateUrl: './lexical-entry-tree.component.html',\n  styleUrls: ['./lexical-entry-tree.component.scss']\n})\n\nexport class LexicalEntryTreeComponent implements OnInit {\n  state!: ITreeState;\n  show = false;\n  modalShow = false;\n  flagAuthor = false;\n  searchIconSpinner = false;\n  viewPort: any;\n  titlePopover = \"Search examples\"\n  popoverWildcards = \"<span><b>Multiple character wildcard search:</b></span>&nbsp;<span><i>te*</i></span><br><span><b>Single character wildcard search:</b></span>&nbsp;<span><i>te?t</i></span><br> <b>Fuzzy search:</b></span>&nbsp;<span><i>test~</i></span><br><b>Weighted fuzzy search:</b></span>&nbsp;<span><i>test~0.8</i></span>\"\n  labelView = true;\n  idView = false;\n  offset = 0;\n  limit = 500;\n  interval;\n\n  @ViewChild(ContextMenuComponent) public basicMenu: ContextMenuComponent;\n  /* sub : Subscription; */\n\n  counter = 0;\n\n  @Input() triggerShowTree: any;\n  @ViewChild('lexicalEntry') lexicalEntryTree: any;\n\n  nodes;\n  languages;\n  types;\n  authors;\n  partOfSpeech;\n  selectedNodeId;\n  status = [{ \"label\": \"false\", \"count\": 0 }, { \"label\": \"true\", \"count\": 0 }];\n  parameters: LexicalEntryRequest = {\n    text: \"\",\n    searchMode: searchModeEnum.startsWith,\n    type: \"\",\n    pos: \"\",\n    formType: \"entry\",\n    author: \"\",\n    lang: \"\",\n    status: \"\",\n    offset: this.offset,\n    limit: this.limit\n  }\n\n\n  options: ITreeOptions = {\n    useVirtualScroll: true,\n    scrollOnActivate: false,\n    nodeHeight: 13,\n    actionMapping,\n    getChildren: this.getChildren.bind(this)\n  };\n\n\n  filterForm = new FormGroup({\n    text: new FormControl(''),\n    searchMode: new FormControl('startsWith'),\n    type: new FormControl(''),\n    pos: new FormControl(''),\n    formType: new FormControl('entry'),\n    author: new FormControl(''),\n    lang: new FormControl(''),\n    status: new FormControl('')\n  });\n\n  initialValues = this.filterForm.value;\n\n  copySubject: Subject<string> = new Subject();\n\n  constructor(private expander: ExpanderService, private renderer: Renderer2, private element: ElementRef, private lexicalService: LexicalEntriesService, private toastr: ToastrService) {\n\n    var refreshTooltip = setInterval((val) => {\n      //console.log('called'); \n      //@ts-ignore\n      $('.lexical-tooltip').tooltip('disable');\n      //@ts-ignore\n      $('.lexical-tooltip').tooltip('enable');\n      //@ts-ignore\n      $('.note-tooltip').tooltip('disable');\n      //@ts-ignore\n      $('.note-tooltip').tooltip('enable');\n    }, 2000)\n  }\n\n  ngOnInit(): void {\n\n    this.viewPort = this.element.nativeElement.querySelector('tree-viewport');\n    this.renderer.addClass(this.viewPort, 'search-results');\n\n    this.onChanges();\n\n    this.lexicalService.deleteReq$.subscribe(\n      signal => {\n\n        ////console.log(\"richiesta eliminazione lexical entry\");\n        if (signal != null) {\n          this.lexEntryDeleteReq(signal);\n        }\n\n      }\n    )\n\n    this.lexicalService.addSubReq$.subscribe(\n      signal => {\n\n        if (signal != null) {\n          this.addSubElement(signal)\n        }\n      }\n    )\n\n    this.copySubject.pipe(debounceTime(500)).subscribe(v => {\n      let selBox = document.createElement('textarea');\n      selBox.style.position = 'fixed';\n      selBox.style.left = '0';\n      selBox.style.top = '0';\n      selBox.style.opacity = '0';\n      selBox.value = v;\n      document.body.appendChild(selBox);\n      selBox.focus();\n      selBox.select();\n      document.execCommand('copy');\n      document.body.removeChild(selBox);\n\n      this.toastr.info('URI copied', 'Info', {\n        timeOut: 5000,\n      });\n    })\n\n    this.lexicalService.refreshFilter$.subscribe(\n      signal => {\n\n        if (signal != null) {\n\n          this.lexicalService.getLexicalEntriesList(this.parameters).subscribe(\n            data => {\n              this.counter = data['totalHits'];\n            },\n            error => {\n              //console.log(error)\n            }\n          );\n\n\n          this.lexicalService.getLanguages().subscribe(\n            data => {\n\n              this.languages = data;\n            }\n          );\n\n          this.lexicalService.getTypes().subscribe(\n            data => {\n              this.types = data;\n            }\n          );\n\n          this.lexicalService.getAuthors().subscribe(\n            data => {\n              this.authors = data;\n            }\n          );\n\n          this.lexicalService.getPos().subscribe(\n            data => {\n              this.partOfSpeech = data;\n            }\n          )\n\n          this.lexicalService.getStatus().subscribe(\n            data => {\n              this.status = data;\n            }\n          )\n\n\n        }\n      }\n    )\n\n    /* //console.log(this.parameters) */\n    this.lexicalService.getLexicalEntriesList(this.parameters).subscribe(\n      data => {\n        this.nodes = data['list'];\n        this.counter = data['totalHits'];\n      },\n      error => {\n        //console.log(error)\n      }\n    );\n\n    this.lexicalService.getLanguages().subscribe(\n      data => {\n        this.languages = data;\n      }\n    );\n\n    this.lexicalService.getTypes().subscribe(\n      data => {\n        this.types = data;\n      }\n    );\n\n    this.lexicalService.getAuthors().subscribe(\n      data => {\n        this.authors = data;\n      }\n    );\n\n    this.lexicalService.getPos().subscribe(\n      data => {\n        this.partOfSpeech = data;\n      }\n    )\n\n    this.lexicalService.getStatus().subscribe(\n      data => {\n        this.status = data;\n      }\n    )\n  }\n\n  onChanges() {\n    this.filterForm.valueChanges.pipe(debounceTime(500)).subscribe(searchParams => {\n      this.offset = 0;\n      this.lexicalEntriesFilter(searchParams);\n    })\n  }\n\n  addSubElement(signal?) {\n\n    setTimeout(() => {\n      let instanceName;\n      let lex = signal.lex;\n      let data = signal.data;\n      console.log(lex)\n      console.log(data)\n      switch (lex.request) {\n        case 'form': instanceName = 'formInstanceName'; break;\n        case 'sense': instanceName = 'senseInstanceName'; break;\n        case 'etymology': instanceName = 'etymologyInstanceName'; break;\n        case 'subterm': instanceName = 'lexicalEntryInstanceName'; break;\n        case 'constituent': instanceName = 'componentInstanceName'; break;\n      }\n      this.lexicalEntryTree.treeModel.getNodeBy(x => {\n        if (lex.lexicalEntryInstanceName != undefined) {\n          if (x.data.lexicalEntryInstanceName === lex.lexicalEntryInstanceName) {\n            if (x.data.children == undefined && !x.isExpanded) {\n              x.expand();\n              var that = this;\n              this.interval = setInterval((val) => {\n                if (x.data.children != undefined) {\n                  this.lexicalEntryTree.treeModel.getNodeBy(y => {\n                    if (y.data[instanceName] != undefined) {\n                      /* console.log(y.data[instanceName]) */\n                      if (y.data['creator'] == x.data.creator) {\n                        y.data['flagAuthor'] = false;\n                      } else {\n                        y.data['flagAuthor'] = true;\n                      }\n                      if (y.data[instanceName] === data[instanceName]) {\n                        y.setActiveAndVisible();\n                        clearInterval(that.interval)\n                        return true;\n                      } else {\n                        return false;\n                      }\n                    } else {\n                      return false;\n                    }\n                  })\n                }\n              }, 3000)\n\n            } else if (x.data.children != undefined) {\n              let checkExistence = x.data.children.filter(element => {\n                return element.label === lex.request\n              });\n              if (checkExistence.length == 1) {\n                x.data.children.filter(element => {\n                  if (element.label === lex.request) {\n                    if (lex.request == 'sense') {\n                      data['label'] = 'no definition'\n                      data['definition'] = 'no definition'\n                    } else if (lex.request == 'etymology') {\n                      data['label'] = \"Etymology of: \" + lex.parentNodeLabel;\n                      console.log(data['label'])\n                    } else if (lex.request == 'subterm') {\n                      data.label = data.label;\n                      data.children = null;\n                      data.hasChildren = false;\n                    } else if (lex.request == 'constituent') {\n                      data.label = '';\n                      data.children = null;\n                      data.hasChildren = false;\n                    } else {\n                      data['label'] = data[instanceName];\n                    }\n                    /* console.log(data['creator'] == x.data.creator);\n                    console.log(data['creator'], x.data.creator) */\n\n                    if (data['creator'] == x.data.creator) {\n                      data['flagAuthor'] = false;\n                    } else {\n                      data['flagAuthor'] = true;\n                    }\n\n                    element.count++;\n                    element.children.push(data);\n                    this.lexicalEntryTree.treeModel.update();\n                    this.lexicalEntryTree.treeModel.getNodeBy(y => {\n                      if (y.data.etymology == undefined && y.data.label === data['label'] && lex.request != 'subterm') {\n                        y.setActiveAndVisible();\n                      } else if (y.data.etymology != undefined && y.data.etymologyInstanceName === data['etymologyInstanceName'] && lex.request != 'subterm') {\n                        y.setActiveAndVisible();\n                      }\n                    })\n                    return true;\n                  } else {\n                    return false;\n                  }\n                });\n              } else if (checkExistence.length == 0) {\n                let node = {\n                  hasChildren: true,\n                  label: lex.request,\n                  children: [],\n                  count: 0\n                }\n                x.data.children.push(node);\n                x.data.children.sort(function (a, b) {\n                  var textA = a.label.toUpperCase();\n                  var textB = b.label.toUpperCase();\n                  return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\n                })\n                this.lexicalEntryTree.treeModel.update();\n                x.data.children.filter(element => {\n                  if (element.label === lex.request) {\n                    console.log(data['creator'], x.data.reator)\n                    if (data['creator'] == x.data.creator) {\n                      data['flagAuthor'] = false;\n                    } else {\n                      data['flagAuthor'] = true;\n                    }\n                    \n                    if (lex.request == 'sense') {\n                      data['definition'] = 'no definition';\n                      data.label = 'no definintion'\n                    }else if (lex.request == 'subterm') {\n                      data.label = data.label;\n                      data.children = null;\n                      data.hasChildren = false;\n                    }else{\n                      data['label'] = data[instanceName];\n                    }\n\n                    if (lex.request == 'subterm') {\n                      data.children == null;\n                      data.hasChildren = false;\n                      data.label = data.label;\n                    }\n\n                    if (lex.request == 'constituent') {\n                      data.children == null;\n                      data.label = '';\n                    }\n\n                    element.count++;\n                    element.children.push(data);\n                    this.lexicalEntryTree.treeModel.update();\n                    this.lexicalEntryTree.treeModel.getNodeBy(y => {\n                      if (y.data.label === data['label']  && lex.request != 'subterm') { /* && lex.request != 'subterm' */\n                        y.setActiveAndVisible();\n                      }\n                    })\n                    return true;\n                  } else {\n                    return false;\n                  }\n                });\n              }\n            } else {\n              return false;\n            }\n            return true;\n          } else {\n            return false;\n          }\n        } else {\n          return false;\n        }\n      })\n    }, 300);\n  }\n\n  lexEntryDeleteReq(signal?) {\n\n\n    setTimeout(() => {\n\n      this.lexicalEntryTree.treeModel.getNodeBy(x => {\n        if (signal.lexicalEntryInstanceName != undefined && signal.formInstanceName == undefined) {\n          if (x.data.lexicalEntryInstanceName === signal.lexicalEntryInstanceName) {\n\n            x.parent.data.children.splice(x.parent.data.children.indexOf(x.data), 1);\n\n            let countSubterm = x.parent.data.count;\n            if (countSubterm != 0) {\n              x.parent.data.count--;\n              countSubterm--;\n            }\n\n            //this.lexicalEntryTree.treeModel.update();\n            if (this.nodes.length == 0) {\n              this.lexicalEntriesFilter(this.parameters);\n            }\n\n\n\n            if (countSubterm == 0) {\n              x.parent.parent.data.children.splice(x.parent.parent.data.children.indexOf(x.parent.data), 1)\n            }\n            console.log(x.parent)\n\n            this.lexicalEntryTree.treeModel.update()\n\n            return true;\n          } else {\n            return false;\n          }\n        } else if (signal.formInstanceName != undefined) {\n          if (x.data.formInstanceName === signal.formInstanceName) {\n\n            x.parent.data.children.splice(x.parent.data.children.indexOf(x.data), 1);\n            let countForm = x.parent.data.count;\n            if (countForm != 0) {\n              x.parent.data.count--;\n              countForm--;\n            }\n\n            if (countForm == 0) {\n              x.parent.parent.data.children.splice(x.parent.parent.data.children.indexOf(x.parent.data), 1)\n            }\n            console.log(x.parent)\n\n            this.lexicalEntryTree.treeModel.update()\n\n            return true;\n          } else {\n            return false;\n          }\n        } else if (signal.senseInstanceName != undefined) {\n          if (x.data.senseInstanceName === signal.senseInstanceName) {\n\n            x.parent.data.children.splice(x.parent.data.children.indexOf(x.data), 1);\n            let countSense = x.parent.data.count;\n            if (countSense != 0) {\n              x.parent.data.count--;\n              countSense--;\n            }\n\n            if (countSense == 0) {\n              x.parent.parent.data.children.splice(x.parent.parent.data.children.indexOf(x.parent.data), 1)\n            }\n            console.log(x.parent)\n\n            this.lexicalEntryTree.treeModel.update()\n\n            return true;\n          } else {\n            return false;\n          }\n        } else if (signal.etymology != undefined) {\n          if (x.data.etymologyInstanceName === signal.etymology.etymologyInstanceName) {\n            x.parent.data.children.splice(x.parent.data.children.indexOf(x.data), 1);\n            let countSense = x.parent.data.count;\n            if (countSense != 0) {\n              x.parent.data.count--;\n              countSense--;\n            }\n\n            if (countSense == 0) {\n              x.parent.parent.data.children.splice(x.parent.parent.data.children.indexOf(x.parent.data), 1)\n            }\n            console.log(x.parent)\n\n            this.lexicalEntryTree.treeModel.update()\n\n            return true;\n          } else {\n            return false;\n          }\n        } else if (signal.componentInstanceName != undefined) {\n          if (x.data.componentInstanceName === signal.componentInstanceName) {\n            x.parent.data.children.splice(x.parent.data.children.indexOf(x.data), 1);\n            let countSense = x.parent.data.count;\n            if (countSense != 0) {\n              x.parent.data.count--;\n              countSense--;\n            }\n\n            if (countSense == 0) {\n              x.parent.parent.data.children.splice(x.parent.parent.data.children.indexOf(x.parent.data), 1)\n            }\n            console.log(x.parent)\n\n            this.lexicalEntryTree.treeModel.update()\n\n            return true;\n          } else {\n            return false;\n          }\n        } else if(signal.subtermInstanceName != undefined){\n          let parent = signal.parentNodeInstanceName;\n          if(x.data.lexicalEntryInstanceName == signal.parentNodeInstanceName ){\n            console.log(x)\n            let children = x.data.children;\n\n            if(children.length >= 1){\n              Array.from(children).forEach((y : any) => {\n                if(y.lexicalEntryInstanceName == signal.subtermInstanceName){\n                \n                  console.log(y, x)\n\n                  x.data.children.splice(x.data.children.indexOf(y), 1);\n\n                  let countSubterm = x.data.count;\n                  if (countSubterm != 0) {\n                    x.data.count--;\n                    countSubterm--;\n                  }\n\n                  if (this.nodes.length == 0) {\n                    this.lexicalEntriesFilter(this.parameters);\n                  }\n      \n      \n      \n                  if (countSubterm == 0) {\n                    x.parent.data.children.splice(x.parent.data.children.indexOf(x.data), 1)\n                  }\n\n                  this.lexicalEntryTree.treeModel.update()\n                  return true\n                  \n                }else{\n                  return false\n                }\n              })\n            }\n          }\n        }else {\n          return false;\n        }\n        return false;\n      })\n\n    }, 300);\n  }\n\n  lexicalEntriesFilter(newPar) {\n\n    setTimeout(() => {\n      const viewPort_prova = this.element.nativeElement.querySelector('tree-viewport') as HTMLElement;\n      viewPort_prova.scrollTop = 0\n    }, 300);\n\n    this.searchIconSpinner = true;\n    let parameters = newPar;\n    parameters['offset'] = this.offset;\n    parameters['limit'] = this.limit;\n    console.log(parameters)\n    this.lexicalService.getLexicalEntriesList(newPar).subscribe(\n      data => {\n        console.log(data)\n        if (data['list'].length > 0) {\n          this.show = false;\n        } else {\n          this.show = true;\n        }\n        this.nodes = data['list'];\n        this.counter = data['totalHits'];\n        this.lexicalEntryTree.treeModel.update();\n        this.updateTreeView();\n        this.searchIconSpinner = false;\n      },\n      error => {\n        console.log(error)\n      }\n    )\n  }\n\n  getParameters() {\n    return this.initialValues;\n  }\n\n  ngAfterViewInit(): void {\n    //@ts-ignore\n    $('[data-toggle=\"popover\"]').popover({\n      html: true,\n      title: this.titlePopover,\n      content: this.popoverWildcards\n    });\n  }\n\n  resetFields() {\n    this.initialValues.text = '';\n    this.parameters.text = '';\n    this.offset = 0;\n    this.filterForm.reset(this.initialValues, { emitEvent: false });\n    setTimeout(() => {\n      //this.filterForm.get('text').setValue('', {eventEmit : false});\n      this.lexicalEntriesFilter(this.parameters);\n      this.lexicalEntryTree.treeModel.update();\n      //this.updateTreeView();\n      /* this.lexicalService.sendToCoreTab(null);\n      this.lexicalService.sendToRightTab(null); */\n    }, 500);\n\n  }\n\n  updateTreeView() {\n\n    setTimeout(() => {\n      this.lexicalEntryTree.sizeChanged();\n      //@ts-ignore\n      $('.lexical-tooltip').tooltip();\n    }, 1000);\n  }\n\n  onEvent = ($event: any) => {\n\n    console.log($event)\n    setTimeout(() => {\n      //@ts-ignore\n      $('.lexical-tooltip').tooltip();\n    }, 2000);\n\n    if ($event.eventName == 'activate' && $event.node.data.lexicalEntry != undefined\n      && $event.node.data.form == undefined\n      && $event.node.data.sense == undefined\n      && $event.node.data.etymology == undefined\n      && $event.node.data.lexicalEntryInstanceName != this.selectedNodeId) {\n      //this.lexicalService.sendToCoreTab($event.node.data);\n      let idLexicalEntry = $event.node.data.lexicalEntryInstanceName;\n      this.lexicalService.getLexEntryData(idLexicalEntry).subscribe(\n        data => {\n\n          console.log(data);\n          this.selectedNodeId = $event.node.data.lexicalEntryInstanceName;\n          this.lexicalService.sendToCoreTab(data);\n          this.lexicalService.sendToRightTab(data);\n          this.lexicalService.sendToEtymologyTab(null);\n          this.lexicalService.updateCoreCard({ lastUpdate: data['lastUpdate'], creationDate: data['creationDate'] });\n\n          //this.lexicalService.sendToAttestationPanel(null);\n          //this.lexicalService.triggerAttestationPanel(false);\n\n\n          /* if(this.expander.isEpigraphyTabExpanded() && !this.expander.isEditTabExpanded()){\n            this.expander.expandCollapseEdit(false);\n            this.expander.expandCollapseEpigraphy(false);\n          }else if(!this.expander.isEpigraphyTabExpanded() && !this.expander.isEditTabExpanded()){\n            this.expander.expandCollapseEdit(true);\n          } */\n\n          if (!this.expander.isEditTabOpen() && !this.expander.isEpigraphyTabOpen()) {\n            if (!this.expander.isEditTabExpanded() && !this.expander.isEpigraphyTabExpanded()) {\n\n              this.expander.expandCollapseEdit(true);\n              this.expander.openCollapseEdit(true);\n            }\n          } else if (!this.expander.isEditTabOpen() && this.expander.isEpigraphyTabOpen()) {\n            if (!this.expander.isEditTabExpanded() && this.expander.isEpigraphyTabExpanded()) {\n              this.expander.expandCollapseEpigraphy(false);\n              this.expander.openCollapseEdit(true)\n            }\n          }\n\n\n          //@ts-ignore\n          $(\"#coreTabModal\").modal(\"show\");\n          $('.modal-backdrop').appendTo('.core-tab-body');\n          //@ts-ignore\n          $('#coreTabModal').modal({ backdrop: 'static', keyboard: false })\n          $('body').removeClass(\"modal-open\")\n          $('body').css(\"padding-right\", \"\");\n\n          if (data.note != undefined) {\n            if (data.note != \"\") {\n              this.lexicalService.triggerNotePanel(true);\n            } else {\n              this.lexicalService.triggerNotePanel(false);\n            }\n          }\n        },\n        error => {\n\n        }\n      )\n    } else if ($event.eventName == 'activate'\n      && $event.node.data.form != undefined\n      && $event.node.data.formInstanceName != this.selectedNodeId) {\n\n      let formId = $event.node.data.formInstanceName;\n\n      this.lexicalService.getFormData(formId, 'core').subscribe(\n        data => {\n          console.log(data)\n          this.selectedNodeId = $event.node.data.formInstanceName;\n          data['parentNodeLabel'] = $event.node.parent.parent.data.label;\n          data['parentNodeInstanceName'] = $event.node.parent.parent.data.lexicalEntryInstanceName;\n          this.lexicalService.sendToCoreTab(data)\n          this.lexicalService.sendToEtymologyTab(null);\n          this.lexicalService.sendToRightTab(data);\n          this.lexicalService.updateCoreCard({ lastUpdate: data['lastUpdate'], creationDate: data['creationDate'] })\n          //@ts-ignore\n          $(\"#coreTabModal\").modal(\"show\");\n          $('.modal-backdrop').appendTo('.core-tab-body');\n          //@ts-ignore\n          $('#coreTabModal').modal({ backdrop: 'static', keyboard: false })\n          $('body').removeClass(\"modal-open\")\n          $('body').css(\"padding-right\", \"\");\n\n          // this.lexicalService.sendToAttestationPanel(null);\n          // this.lexicalService.triggerAttestationPanel(false);\n\n          if (!this.expander.isEditTabOpen() && !this.expander.isEpigraphyTabOpen()) {\n            if (!this.expander.isEditTabExpanded() && !this.expander.isEpigraphyTabExpanded()) {\n\n              this.expander.expandCollapseEdit(true);\n              this.expander.openCollapseEdit(true);\n            }\n          } else if (!this.expander.isEditTabOpen() && this.expander.isEpigraphyTabOpen()) {\n            if (!this.expander.isEditTabExpanded() && this.expander.isEpigraphyTabExpanded()) {\n              this.expander.expandCollapseEpigraphy(false);\n              this.expander.openCollapseEdit(true)\n            }\n          }\n\n          if (data.note != undefined) {\n            if (data.note != \"\") {\n              this.lexicalService.triggerNotePanel(true);\n            } else {\n              this.lexicalService.triggerNotePanel(false);\n            }\n          }\n        },\n        error => {\n          //console.log(error)\n        }\n      )\n\n    } else if ($event.eventName == 'activate'\n      && $event.node.data.sense != undefined\n      && $event.node.data.senseInstanceName != this.selectedNodeId) {\n\n      let senseId = $event.node.data.senseInstanceName;\n\n      this.lexicalService.getSenseData(senseId, 'core').subscribe(\n        data => {\n          this.selectedNodeId = $event.node.data.senseInstanceName;\n          data['parentNodeLabel'] = $event.node.parent.parent.data.label;\n          data['parentNodeInstanceName'] = $event.node.parent.parent.data.lexicalEntryInstanceName;\n          data['type'] = $event.node.parent.parent.data.type;\n          console.log(data)\n          this.lexicalService.sendToCoreTab(data)\n          this.lexicalService.sendToEtymologyTab(null);\n          this.lexicalService.sendToRightTab(data);\n          this.lexicalService.updateCoreCard({ lastUpdate: data['lastUpdate'], creationDate: data['creationDate'] })\n\n          // this.lexicalService.sendToAttestationPanel(null);\n          // this.lexicalService.triggerAttestationPanel(false);\n          //@ts-ignore\n          $(\"#coreTabModal\").modal(\"show\");\n          $('.modal-backdrop').appendTo('.core-tab-body');\n          //@ts-ignore\n          $('#coreTabModal').modal({ backdrop: 'static', keyboard: false })\n          $('body').removeClass(\"modal-open\")\n          $('body').css(\"padding-right\", \"\");\n\n          if (!this.expander.isEditTabOpen() && !this.expander.isEpigraphyTabOpen()) {\n            if (!this.expander.isEditTabExpanded() && !this.expander.isEpigraphyTabExpanded()) {\n\n              this.expander.expandCollapseEdit(true);\n              this.expander.openCollapseEdit(true);\n            }\n          } else if (!this.expander.isEditTabOpen() && this.expander.isEpigraphyTabOpen()) {\n            if (!this.expander.isEditTabExpanded() && this.expander.isEpigraphyTabExpanded()) {\n              this.expander.expandCollapseEpigraphy(false);\n              this.expander.openCollapseEdit(true)\n            }\n          }\n\n          if (data.note != undefined) {\n            if (data.note != \"\") {\n              this.lexicalService.triggerNotePanel(true);\n            } else {\n              this.lexicalService.triggerNotePanel(false);\n            }\n          }\n        },\n        error => {\n          //console.log(error)\n        }\n      )\n    } else if ($event.eventName == 'activate'\n      && $event.node.data.etymology != undefined\n      && $event.node.data.etymologyInstanceName != this.selectedNodeId) {\n\n      let etymologyId = $event.node.data.etymologyInstanceName;\n\n      this.lexicalService.getEtymologyData(etymologyId).subscribe(\n        data => {\n          this.selectedNodeId = $event.node.data.etymologyInstanceName;\n          data['parentNodeLabel'] = $event.node.parent.parent.data.label;\n          data['parentNodeInstanceName'] = $event.node.parent.parent.data.lexicalEntryInstanceName;\n          console.log(data)\n          data['type'] = $event.node.parent.parent.data.type;\n          // this.lexicalService.sendToAttestationPanel(null);\n          // this.lexicalService.triggerAttestationPanel(false);\n\n          //this.lexicalService.sendToCoreTab(null);\n          this.lexicalService.sendToEtymologyTab(data);\n          this.lexicalService.sendToRightTab(data);\n          this.lexicalService.updateCoreCard({ lastUpdate: data['etymology']['lastUpdate'], creationDate: data['etymology']['creationDate'] })\n          //@ts-ignore\n          $(\"#etymologyTabModal\").modal(\"show\");\n          $('.modal-backdrop').appendTo('.etym-tab-body');\n          //@ts-ignore\n          $('#etymologyTabModal').modal({ backdrop: 'static', keyboard: false })\n          $('body').removeClass(\"modal-open\")\n          $('body').css(\"padding-right\", \"\");\n\n          if (!this.expander.isEditTabOpen() && !this.expander.isEpigraphyTabOpen()) {\n            if (!this.expander.isEditTabExpanded() && !this.expander.isEpigraphyTabExpanded()) {\n\n              this.expander.expandCollapseEdit(true);\n              this.expander.openCollapseEdit(true);\n            }\n          } else if (!this.expander.isEditTabOpen() && this.expander.isEpigraphyTabOpen()) {\n            if (!this.expander.isEditTabExpanded() && this.expander.isEpigraphyTabExpanded()) {\n              this.expander.expandCollapseEpigraphy(false);\n              this.expander.openCollapseEdit(true)\n            }\n          }\n\n          if (data.note != undefined) {\n            if (data.note != \"\") {\n              this.lexicalService.triggerNotePanel(true);\n            } else {\n              this.lexicalService.triggerNotePanel(false);\n            }\n          }\n        },\n        error => {\n          console.log(error)\n        }\n      )\n    } else if ($event.eventName == 'activate'\n      && $event.node.data.component != undefined\n      && $event.node.data.componentInstanceName != this.selectedNodeId) {\n\n      let compId = $event.node.data.componentInstanceName;\n      let parentInstanceLabel = $event.node.parent.parent.data.label;\n      let parentInstanceName = $event.node.parent.parent.data.lexicalEntryInstanceName;\n\n      this.lexicalService.getLexEntryData(parentInstanceName).subscribe(\n        data => {\n          this.selectedNodeId = $event.node.data.parentNodeInstanceName;\n          \n          console.log(data)\n          //this.lexicalService.sendToCoreTab(data);\n          //this.lexicalService.sendToEtymologyTab(data);\n          //this.lexicalService.sendToDecompTab(data);\n          this.lexicalService.sendToRightTab(data);\n          // this.lexicalService.sendToAttestationPanel(null);\n          // this.lexicalService.triggerAttestationPanel(false);\n          this.lexicalService.updateCoreCard({ lastUpdate: data['lastUpdate'], creationDate: data['creationDate'] })\n          //@ts-ignore\n          $(\"#etymologyTabModal\").modal(\"show\");\n          $('.modal-backdrop').appendTo('.etym-tab-body');\n          //@ts-ignore\n          $('#etymologyTabModal').modal({ backdrop: 'static', keyboard: false })\n          $('body').removeClass(\"modal-open\")\n          $('body').css(\"padding-right\", \"\");\n\n          if (!this.expander.isEditTabOpen() && !this.expander.isEpigraphyTabOpen()) {\n            if (!this.expander.isEditTabExpanded() && !this.expander.isEpigraphyTabExpanded()) {\n\n              this.expander.expandCollapseEdit(true);\n              this.expander.openCollapseEdit(true);\n            }\n          } else if (!this.expander.isEditTabOpen() && this.expander.isEpigraphyTabOpen()) {\n            if (!this.expander.isEditTabExpanded() && this.expander.isEpigraphyTabExpanded()) {\n              this.expander.expandCollapseEpigraphy(false);\n              this.expander.openCollapseEdit(true)\n            }\n          }\n\n          if (data.note != undefined) {\n            if (data.note != \"\") {\n              this.lexicalService.triggerNotePanel(true);\n            } else {\n              this.lexicalService.triggerNotePanel(false);\n            }\n          }\n        },\n        error => {\n          console.log(error)\n        }\n      )\n    }\n\n  };\n\n  onKey = ($event: any) => {\n    var that = this;\n    setTimeout(function () {\n      var results = document.body.querySelectorAll('tree-node-collection > div')[1].children.length;\n      if (results == 0) {\n        that.show = true;\n      } else {\n        that.show = false;\n      }\n    }, 5);\n  };\n\n  onScrollDown(treeModel: TreeModel) {\n\n    this.offset += 500;\n    this.modalShow = true;\n\n    //@ts-ignore\n    $(\"#lazyLoadingModal\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.tree-view');\n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n\n    let parameters = this.filterForm.value;\n    parameters['offset'] = this.offset;\n    parameters['limit'] = this.limit;\n\n    this.lexicalService.getLexicalEntriesList(parameters).pipe(debounceTime(200)).subscribe(\n      data => {\n        //@ts-ignore\n        $('#lazyLoadingModal').modal('hide');\n        $('.modal-backdrop').remove();\n        for (var i = 0; i < data['list'].length; i++) {\n          this.nodes.push(data['list'][i]);\n        };\n        //this.counter = this.nodes.length;\n        this.lexicalEntryTree.treeModel.update();\n        this.updateTreeView();\n        this.modalShow = false;\n\n        setTimeout(() => {\n          //@ts-ignore\n          $('#lazyLoadingModal').modal('hide');\n          $('.modal-backdrop').remove();\n        }, 300);\n      },\n      error => {\n\n      }\n    )\n  }\n\n  getChildren(node: any) {\n\n    let newNodes: any;\n    if (node.data.lexicalEntryInstanceName != undefined) {\n      let instance = node.data.lexicalEntryInstanceName;\n      this.lexicalService.getLexEntryElements(instance).subscribe(\n        data => {\n          console.log(data['elements'])\n          data[\"elements\"] = data[\"elements\"].filter(function (obj) {\n            return obj.count != 0;\n          })\n          newNodes = data[\"elements\"].map((c) => Object.assign({}, c));\n\n          newNodes.forEach(element => {\n            setTimeout(() => {\n              try {\n                const someNode = this.lexicalEntryTree.treeModel.getNodeById(element.id);\n\n                someNode.expand();\n                //console.log(someNode)\n                var that = this;\n                /* this.interval = setInterval((val)=>{                \n                               \n                  \n                }, 2000) */\n              } catch (e) {\n                console.log(e)\n              }\n\n            }, 1000);\n\n          });\n\n        },\n        error => {\n\n        }\n      );\n    } else if (node.data.label == \"form\") {\n      let parentInstance = node.parent.data.lexicalEntryInstanceName;\n      this.lexicalService.getLexEntryForms(parentInstance).subscribe(\n        data => {\n          newNodes = data.map((c) => Object.assign({}, c));\n          for (var i = 0; i < newNodes.length; i++) {\n            if (newNodes[i].creator == node.parent.data.creator) {\n              newNodes[i]['flagAuthor'] = false\n            } else {\n              newNodes[i]['flagAuthor'] = true\n            }\n          }\n        }\n      )\n    } else if (node.data.label == \"sense\") {\n      let parentInstance = node.parent.data.lexicalEntryInstanceName;\n      this.lexicalService.getSensesList(parentInstance).subscribe(\n        data => {\n          /* //console.log(data) */\n          newNodes = data.map((c) => Object.assign({}, c));\n          for (var i = 0; i < newNodes.length; i++) {\n            newNodes[i]['hasChildren'] = null;\n            if (newNodes[i].creator == node.parent.data.creator) {\n              newNodes[i]['flagAuthor'] = false\n            } else {\n              newNodes[i]['flagAuthor'] = true\n            }\n          }\n        }, error => {\n          //console.log(error)\n        }\n      )\n    } else if (node.data.label == \"etymology\") {\n      let parentInstance = node.parent.data.lexicalEntryInstanceName;\n      this.lexicalService.getEtymologies(parentInstance).subscribe(\n        data => {\n          console.log(data)\n          newNodes = data.map((c) => Object.assign({}, c));\n          for (var i = 0; i < newNodes.length; i++) {\n            newNodes[i]['hasChildren'] = null;\n            if (newNodes[i].creator == node.parent.data.creator) {\n              newNodes[i]['flagAuthor'] = false\n            } else {\n              newNodes[i]['flagAuthor'] = true\n            }\n          }\n        }, error => {\n          //console.log(error)\n        }\n      )\n\n    } else if (node.data.label == \"constituent\") {\n      let parentInstance = node.parent.data.lexicalEntryInstanceName;\n      this.lexicalService.getConstituents(parentInstance).subscribe(\n        data => {\n          console.log(data)\n          newNodes = data.map((c) => Object.assign({}, c));\n          for (var i = 0; i < newNodes.length; i++) {\n            newNodes[i]['hasChildren'] = null;\n            /* if (newNodes[i].creator == node.parent.data.creator) {\n              newNodes[i]['flagAuthor'] = false\n            } else {\n              newNodes[i]['flagAuthor'] = true\n            } */\n          }\n        }, error => {\n          //console.log(error)\n        }\n      )\n\n    } else if (node.data.label == \"subterm\") {\n      let parentInstance = node.parent.data.lexicalEntryInstanceName;\n      this.lexicalService.getSubTerms(parentInstance).subscribe(\n        data => {\n          console.log(data)\n          newNodes = data.map((c) => Object.assign({}, c));\n          for (var i = 0; i < newNodes.length; i++) {\n            newNodes[i]['hasChildren'] = null;\n            /* if (newNodes[i].creator == node.parent.data.creator) {\n              newNodes[i]['flagAuthor'] = false\n            } else {\n              newNodes[i]['flagAuthor'] = true\n            } */\n          }\n        }, error => {\n          //console.log(error)\n        }\n      )\n\n    }\n\n    return new Promise((resolve, reject) => {\n      setTimeout(() => resolve(newNodes), 1000);\n    });\n  }\n\n\n  /* To copy any Text */\n  copyText(val: string) {\n    console.log(val)\n\n    let value = '';\n    if (val['lexicalEntry'] != undefined && val['sense'] == undefined && val['etymology'] == undefined) {\n      value = val['lexicalEntry']\n    } else if (val['form'] != undefined) {\n      value = val['form']\n    } else if (val['sense'] != undefined) {\n      value = val['sense']\n    } else if (val['etymology'] != undefined) {\n      value = val['etymology']\n    }\n    this.copySubject.next(value);\n  }\n}","\n\n<form [formGroup]=\"filterForm\">\n    <div class=\"input-group col-md-12 mt-1 p-0\">\n        <input formControlName=\"text\" id=\"filterLexicalEntry\" name=\"text\" type=\"text\" class=\"form-control\"\n            placeholder=\"Search\" [value]=\"filterForm.get('text').value\"/>\n        <div class=\"input-group-append\">\n            <span class=\"input-group-text loading_icon_append\" id=\"basic-addon2\">\n                <div class=\"spinner-border spinner-border-sm m-1\" role=\"status\" *ngIf=\"searchIconSpinner\">\n                    <span class=\"sr-only\">Loading...</span>\n                </div>\n            </span>\n        </div>\n        <div id=\"buttons-container\" class=\"input-group-append\">\n            <button class=\"btn  btn-sm btn-info btn-block filter-button\" type=\"button\" data-toggle=\"popover\"\n                data-placement=\"bottom\" data-trigger=\"hover\"><i class=\"fa fa-question\"></i></button>\n            <button class=\"btn btn-sm btn-secondary btn-block filter-button\" type=\"button\" value=\"Filter\" title=\"Filter\"\n                data-toggle=\"collapse\" data-target=\"#filterCollapse\" aria-expanded=\"false\"\n                aria-controls=\"filterCollapse\"><i class=\"fa fa-filter\"></i></button>\n            <button class=\"btn btn-sm btn-danger btn-block reset-button\" type=\"button\" value=\"Reset\" title=\"Reset\"\n                (click)=\"resetFields();\" style=\"border-top-right-radius: .25rem; border-bottom-right-radius: .25rem;\"><i\n                    class=\"fa fa-times\"></i></button>\n            <button class=\"btn btn-block counter-button\" type=\"button\"><span\n                    class=\"font-weight-bold font-italic text-muted\">{{counter}}</span></button>\n        </div>\n    </div>\n\n\n    <div class=\"d-flex flex-wrap mt-3\">\n        <div class=\"col-md-6 col-sm-3\">\n            <div class=\"form-check\">\n                <input formControlName=\"searchMode\" class=\"form-check-input\" type=\"radio\" name=\"searchMode\"\n                    id=\"equalsRadio\" value=\"equals\">\n                <label class=\"form-check-label\" for=\"equalsRadio\">\n                    Equals\n                </label>\n            </div>\n        </div>\n        <div class=\"col-md-6 col-sm-3\">\n            <div class=\"form-check\">\n                <input formControlName=\"searchMode\" class=\"form-check-input\" type=\"radio\" name=\"searchMode\"\n                    id=\"startRadio\" value=\"startsWith\">\n                <label class=\"form-check-label\" for=\"startRadio\">\n                    Starts\n                </label>\n            </div>\n        </div>\n        <div class=\"col-md-6 col-sm-3\">\n            <div class=\"form-check\">\n                <input formControlName=\"searchMode\" class=\"form-check-input\" type=\"radio\" name=\"searchMode\"\n                    id=\"containsRadio\" value=\"contains\">\n                <label class=\"form-check-label\" for=\"containsRadio\">\n                    Contains\n                </label>\n            </div>\n        </div>\n        <div class=\"col-md-6 col-sm-3\">\n            <div class=\"form-check\">\n                <input formControlName=\"searchMode\" class=\"form-check-input\" type=\"radio\" name=\"searchMode\"\n                    id=\"endRadio\" value=\"end\">\n                <label class=\"form-check-label\" for=\"endRadio\">\n                    Ends\n                </label>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"collapse multi-collapse\" id=\"filterCollapse\">\n        <div class=\"d-flex flex-wrap mt-3\">\n            <div class=\"col-md-6 col-sm-12\">\n                <select formControlName=\"type\" class=\"form-control\" id=\"type\" name=\"type\">\n                    <option value=\"\">Type</option>\n                    <option *ngFor=\"let type of types\" [value]=\"type.label\">{{type.label}} - {{type.count}}</option>\n                </select>\n            </div>\n            <div class=\"col-md-6 col-sm-12\">\n                <div class=\"d-md-none mt-3\"></div>\n                <select formControlName=\"pos\" class=\"form-control\" id=\"pos\" name=\"pos\">\n                    <option value=\"\">Pos</option>\n                    <option *ngFor=\"let ps of partOfSpeech\" [value]=\"ps.label\">{{ps.label}} - {{ps.count}} </option>\n                </select>\n            </div>\n        </div>\n\n        <div class=\"d-flex flex-wrap mt-3\">\n            <div class=\"col-md-6 col-sm-12\">\n                <div class=\"d-md-none mt-3\"></div>\n                <select formControlName=\"formType\" class=\"form-control\" id=\"formType\" name=\"formType\">\n                    <option value=\"entry\">entry</option>\n                    <option value=\"flexed\">flexed</option>\n                </select>\n            </div>\n            <div class=\"col-md-6 col-sm-12\">\n                <div class=\"d-md-none mt-3\"></div>\n                <select formControlName=\"author\" class=\"form-control\" id=\"author\" name=\"author\">\n                    <option value=\"\">Author</option>\n                    <option *ngFor=\"let auth of authors\" [value]=\"auth.label\">{{auth.label}} - {{auth.count}}</option>\n                </select>\n            </div>\n        </div>\n        <div class=\"d-flex flex-wrap mt-3\">\n            <div class=\"col-md-6 col-sm-12\">\n                <div class=\"d-md-none mt-3\"></div>\n                <select formControlName=\"lang\" class=\"form-control\" id=\"lang\" name=\"lang\">\n                    <option value=\"\">Language</option>\n                    <option *ngFor=\"let lang of languages\" [value]=\"lang.label\">{{lang.label}} - {{lang.count}}\n                    </option>\n                </select>\n            </div>\n            <div class=\"col-md-6 col-sm-12\">\n                <div class=\"d-md-none mt-3\"></div>\n                <select formControlName=\"status\" class=\"form-control\" id=\"status\" name=\"status\">\n                    <option value=\"\">Status</option>\n                    <option value=\"working\">working</option>\n                    <option value=\"completed\">completed</option>\n                    <option value=\"reviewed\">reviewed</option>\n                </select>\n            </div>\n        </div>\n    </div>\n</form>\n\n\n<!-- INFINITE SCROLL AND TREE VIEW -->\n<div class=\"col-md-12 mt-3 rounded border border-secondary tree-view\" infiniteScroll [infiniteScrollDistance]=\"0.4\"\n    [infiniteScrollThrottle]=\"150\" [infiniteScrollContainer]=\"'.search-results'\" [fromRoot]=\"true\"\n    (scrolled)=\"onScrollDown(lexicalEntry.treeModel)\" style=\"height: calc(100vh - 21rem); overflow-x: auto;\">\n\n    <div id=\"lazyLoadingModal\" class=\"modal fade\" role=\"dialog\">\n        <div class=\"modal-dialog\">\n\n            <!-- Modal content-->\n            <div class=\"modal-content\">\n                <div class=\"modal-body\">\n                    <div class=\"d-flex justify-content-center\">\n                        <div class=\"spinner-border\" role=\"status\">\n                            <span class=\"sr-only\">Loading...</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    </div>\n\n    <p class=\"mx-3\" *ngIf=\"show\">Nessun risultato</p>\n    <tree-root #lexicalEntry [(state)]=\"state\" [nodes]=\"nodes\" [options]=\"options\" [focused]=\"true\"\n        (activate)=\"onEvent($event)\" (deactivate)=\"onEvent($event)\" class=\"lexicalEntryTree\">\n        \n        <ng-template #treeNodeWrapperTemplate let-node let-index=\"index\">\n            <div class=\"node-wrapper\"  style=\"justify-content: space-between; padding: 0px 15px;\" > <!-- [style.padding-left]=\"node.getNodePadding()\" -->\n                <div>\n                    <tree-node-expander [node]=\"node\" *ngIf=\"node.data.hasChildren == true\"></tree-node-expander>\n                    <div class=\"node-content-wrapper\" [class.node-content-wrapper-active]=\"node.isActive\"\n                        [class.node-content-wrapper-focused]=\"node.isFocused\" (click)=\"node.mouseAction('click', $event)\"\n                        (dblclick)=\"node.mouseAction('dblClick', $event)\" [contextMenu]=\"basicMenu\" [contextMenuSubject]=\"node.data\">\n    \n                        <span\n                            *ngIf=\"node.data.count == undefined && labelView && node.data.componentInstanceName == undefined && node.data.definition == undefined && node.data.type!='canonicalForm' && node.data.sense == undefined\">{{\n                            node.data.label }}</span>\n                        <span\n                            *ngIf=\"node.data.count == undefined && idView && node.data.definition == undefined && node.data.type!='canonicalForm' && node.data.sense == undefined && node.data.etymologyInstanceName == undefined\">{{\n                            node.data.lexicalEntryInstanceName }}</span>\n    \n                        <span\n                            *ngIf=\"node.data.count == undefined && labelView && node.data.definition == undefined && node.data.type=='canonicalForm' && node.data.sense == undefined\"><b>{{\n                                node.data.label }}</b></span>\n                        <span\n                            *ngIf=\"node.data.count == undefined && idView && node.data.definition == undefined && node.data.type=='canonicalForm' && node.data.sense == undefined\"><b>{{\n                                node.data.formInstanceName }}</b></span>\n                        <span\n                            *ngIf=\"node.data.count == undefined && idView && node.data.definition == undefined && node.data.type!='canonicalForm' && node.data.sense == undefined\">{{\n                            node.data.formInstanceName }}</span>\n                        <span *ngIf=\"node.data.count == undefined && idView && node.data.definition != undefined\">{{\n                            node.data.senseInstanceName }}</span>\n\n                        <span *ngIf=\"node.data.count == undefined && idView && node.data.etymologyInstanceName != undefined\">{{\n                            node.data.etymologyInstanceName }}</span>\n\n                        <span *ngIf=\"node.data.count == undefined && labelView && node.data.componentInstanceName != undefined && node.data.label == ''\">\n                           Anonimous component</span>\n\n                        <span *ngIf=\"node.data.count == undefined && labelView && node.data.componentInstanceName != undefined && node.data.label != ''\">\n                            {{node.data.label}}</span>\n                        \n                        <span *ngIf=\"node.data.count == undefined && idView && node.data.componentInstanceName != undefined\">\n                            {{node.data.componentInstanceName}}</span>\n    \n                        <span class=\"lexical-tooltip\"\n                            *ngIf=\"node.data.count == undefined && labelView && node.data.definition != undefined && node.data.label != undefined\"\n                            data-toggle=\"tooltip\" data-html=\"true\" [title]=\"node.data.definition\">{{node.data.label.length >\n                            10 ? (node.data.label | slice:0:10) +'...' : node.data.label}}</span>\n                        <span class=\"lexical-tooltip\"\n                            *ngIf=\"node.data.count == undefined && idView && node.data.definition != undefined && node.data.label != undefined\"\n                            data-toggle=\"tooltip\" data-html=\"true\" [title]=\"node.data.definition\">{{ node.data.instanceName\n                            }}</span>\n    \n                        <span *ngIf=\"node.data.count != undefined\"><i><span\n                                    style=\"color: #6e6e6e\">{{node.data.label}}</span></i>&nbsp;({{ node.data.count\n                            }})</span>\n                        <span *ngIf=\"node.data.writtenRep != ''\">{{ node.data.writtenRep }}</span>\n                        <sub *ngIf=\"labelView && node.data.sense == undefined\">{{node.data.pos}}</sub>\n                        <span *ngIf=\"node.data.language != null && labelView\" class=\"lang\">@{{node.data.language}}</span>\n                        <!-- <span  *ngIf=\"node.data.count == undefined\" >\n                            {{ node.data.name }}\n                        </span> -->\n                    </div>\n                    <!-- <span *ngIf=\"node.data.count == undefined && node.data.definition == undefined && node.data.type!='canonicalForm' && node.data.sense == undefined && node.data.etymologyInstanceName == undefined\">\n                        <button class=\"btn btn-outline-primary btn-sm\" (click)=\"copyText(node.data.lexicalEntry)\" style=\"padding: 0 0.25rem;\"><i style=\"font-size: 12px;\" class=\"fa fa-copy\"></i></button>\n                    </span> -->\n                    \n                </div>\n                \n                <div class=\"icons-container\">\n                    <div style=\"width: 30%;\">\n                        <i *ngIf=\"node.data.note != '' && node.data.note != null\"\n                            class=\"far fa-comment-dots note-tooltip note_{{node.data.id}}\" data-toggle=\"tooltip\"\n                            data-html=\"true\" [title]=\"node.data.note\"></i>\n                    </div>\n                    <div style=\"width: 30%;\">\n                        <i *ngIf=\"node.data.lexicalEntryInstanceName != undefined && !flagAuthor && node.data.status == 'working'\"\n                            class=\"fas fa-user lexical-tooltip\" data-toggle=\"tooltip\" data-html=\"true\"\n                            [title]=\"node.data.creator\"></i>\n\n                        <i *ngIf=\"node.data.lexicalEntryInstanceName != undefined && !flagAuthor && node.data.status == 'completed'\"\n                            class=\"fas fa-user lexical-tooltip\" data-toggle=\"tooltip\" data-html=\"true\"\n                            [title]=\"node.data.author\"></i>\n\n                        <i *ngIf=\"node.data.lexicalEntryInstanceName != undefined && !flagAuthor && node.data.status == 'reviewed'\"\n                            class=\"fas fa-user lexical-tooltip\" data-toggle=\"tooltip\" data-html=\"true\"\n                            [title]=\"node.data.revisor\"></i>\n\n                        <i *ngIf=\"node.data.formInstanceName != undefined && node.data.flagAuthor\"\n                            class=\"fas fa-user lexical-tooltip\" data-toggle=\"tooltip\" data-html=\"true\"\n                            [title]=\"node.data.creator\"></i>\n                        <i *ngIf=\"node.data.senseInstanceName != undefined && node.data.flagAuthor\"\n                            class=\"fas fa-user lexical-tooltip\" data-toggle=\"tooltip\" data-html=\"true\"\n                            [title]=\"node.data.creator\"></i>\n                            <i *ngIf=\"node.data.etymologyInstanceName != undefined && node.data.flagAuthor\"\n                            class=\"fas fa-user lexical-tooltip\" data-toggle=\"tooltip\" data-html=\"true\"\n                            [title]=\"node.data.creator\"></i>\n                    </div>\n                    <div style=\"width: 30%;\">\n                        <i *ngIf=\"node.data.status != undefined && node.data.status == 'working'\" class=\"fa fa-circle\"\n                            style=\"color:red;\"></i>\n                        <i *ngIf=\"node.data.status != undefined && node.data.status == 'completed'\" class=\"fa fa-circle\"\n                            style=\"color:yellow;\"></i>\n                        <i *ngIf=\"node.data.status != undefined && node.data.status == 'reviewed'\"\n                            class=\"fa fa-circle lexical-tooltip\" style=\"color: green;\" data-toggle=\"tooltip\"\n                            data-html=\"true\" [title]=\"node.data.revisor\"></i>\n                    </div>\n\n                </div>\n            </div>\n        </ng-template>\n        <context-menu>\n\n            <!-- FOLDER CONTEXT MENU -->\n            <ng-template contextMenuItem let-item (execute)=\"copyText($event.item)\">\n              Copy URI\n            </ng-template>\n        </context-menu>\n        <ng-template #loadingTemplate let-loadingNode>\n            <div *ngIf=\"loadingNode.hasChildren\">\n                <div class=\"spinner-border spinner-border-sm m-1\" role=\"status\">\n                    <span class=\"sr-only\">Loading...</span>\n                </div>\n            </div>\n        </ng-template>\n    </tree-root>\n\n    \n</div>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, Input, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { NgSelectComponent } from '@ng-select/ng-select';\nimport { data } from 'jquery';\nimport { ToastrService } from 'ngx-toastr';\nimport { Subject } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport { AnnotatorService } from 'src/app/services/annotator/annotator.service';\nimport { AuthService } from 'src/app/services/auth/auth.service';\nimport { ExpanderService } from 'src/app/services/expander/expander.service';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\n\n@Component({\n  selector: 'app-search-form',\n  templateUrl: './search-form.component.html',\n  styleUrls: ['./search-form.component.scss']\n})\nexport class SearchFormComponent implements OnInit {\n  private search_subject: Subject<any> = new Subject();\n  private search_lex_entries_subject: Subject<any> = new Subject();\n  searchResults: any[];\n  lex_searchResuts: any[];\n  languages = [];\n  morphologyData = [];\n  lexEntryTypesData: any;\n  typesData: any;\n  addTagFormText: any;\n  creator : any;\n\n\n  constructor(private formBuilder: FormBuilder, private modalService: NgbModal, private toastr: ToastrService, private annotatorService: AnnotatorService, private lexicalService: LexicalEntriesService, private expander: ExpanderService, private renderer: Renderer2, private auth : AuthService) { }\n\n  @Input() bind;\n  @ViewChild('addFormModal') addFormModal: any;\n  @ViewChild('select_form') select_form: NgSelectComponent;\n  @ViewChild('search_lexicalEntry') search_lexicalEntry: NgSelectComponent;\n  loader = false;\n  modalStep = 0;\n\n  stepOneForm = new FormGroup({\n    existOrNot: new FormControl('', Validators.required),\n  })\n\n  stepTwoForm = new FormGroup({\n    lexicalEntry: new FormControl('', Validators.required)\n  })\n\n  stepThreeForm = new FormGroup({\n    label: new FormControl('', Validators.required),\n    type: new FormControl('', Validators.required),\n    language: new FormControl('', Validators.required),\n    pos: new FormControl('', Validators.required),\n  });\n\n  stepFourForm = new FormGroup({\n    writtenForm: new FormControl('', Validators.required),\n    type: new FormControl('', Validators.required),\n  });\n\n  statusForm = new FormGroup({\n    lexicalEntryCreation: new FormControl(''),\n    attachingLanguage: new FormControl(''),\n    attachingType: new FormControl(''),\n    attachingLabel: new FormControl(''),\n    attachingPos: new FormControl(''),\n    creatingForm: new FormControl(''),\n    attachingWrittenForm: new FormControl(''),\n    attachingFormType: new FormControl(''),\n    finish: new FormControl(''),\n    error: new FormControl(null)\n  })\n\n  ngOnInit(): void {\n    setTimeout(() => {\n      //console.log(this.select_form);\n    }, 1000);\n\n    if(this.auth.getLoggedUser()['preferred_username'] != undefined){\n      this.creator = this.auth.getLoggedUser()['preferred_username'];\n    }\n\n    this.search_lex_entries_subject.pipe(debounceTime(1000)).subscribe(\n      data => {\n        this.onSearchLexicalEntriesFilter(data)\n      }\n    )\n\n    this.search_subject.pipe(debounceTime(1000)).subscribe(\n      data => {\n        this.onSearchFilter(data)\n      }\n    )\n\n    this.lexicalService.getLexiconLanguages().subscribe(\n      data => {\n        this.languages = [];\n        for (var i = 0; i < data.length; i++) {\n          this.languages[i] = data[i]\n        }\n      }\n    );\n\n    this.lexicalService.getMorphologyData().subscribe(\n      data => {\n        /* this.morphologyData = data; */\n\n        let morphoData = data;\n\n        this.morphologyData = morphoData.filter(x => {\n          if (x.propertyId == 'partOfSpeech') {\n            return true;\n          } else {\n            return false;\n          }\n        })\n\n        this.morphologyData = this.morphologyData[0]['propertyValues'];\n      }\n    )\n\n    this.lexicalService.getLexEntryTypes().subscribe(\n      data => {\n        //console.log(data)\n        this.lexEntryTypesData = data;\n\n      }\n    )\n\n    this.lexicalService.getFormTypes().subscribe(\n      data => {\n        this.typesData = data;\n        //console.log(this.typesData)\n      },\n      error => {\n        //console.log(error)\n      }\n    )\n\n    this.annotatorService.triggerSearch$.subscribe(\n      request => {\n        console.log(request);\n        if (request != null) {\n          this.bindSelection(request);\n        }\n      }, error => {\n\n      }\n    ).unsubscribe();\n\n\n    this.stepOneForm = this.formBuilder.group({\n      existOrNot: ['', Validators.required]\n    })\n\n    this.stepTwoForm = this.formBuilder.group({\n      lexicalEntry: ['', Validators.required]\n    })\n\n    this.stepThreeForm = this.formBuilder.group({\n      label: ['', Validators.required],\n      type: ['', Validators.required],\n      language: ['', Validators.required],\n      pos: ['', Validators.required],\n    });\n\n    this.stepFourForm = this.formBuilder.group({\n      writtenForm: ['', Validators.required],\n      type: ['', Validators.required]\n    });\n\n    this.statusForm = this.formBuilder.group({\n      lexicalEntryCreation: ['pause'],\n      attachingLanguage: ['pause'],\n      attachingType: ['pause'],\n      attachingLabel: ['pause'],\n      attachingPos: ['pause'],\n      creatingForm: ['pause'],\n      attachingWrittenForm: ['pause'],\n      attachingFormType: ['pause'],\n      finish: ['pause'],\n      error: [null]\n    })\n  }\n\n\n  triggerSearch(evt) {\n    //console.log(evt)\n    if (evt.target != undefined && evt.key != 'Control') {\n\n      this.search_subject.next(evt.target.value)\n    }\n  }\n\n  triggerSearchLexicalEntries(evt) {\n    if (evt.target != undefined && evt.key != 'Control') {\n\n      this.search_lex_entries_subject.next(evt.target.value)\n    }\n  }\n\n  onSearchFilter(data) {\n    this.searchResults = [];\n    /* console.log(data) */\n    let parameters = {\n      text: data,\n      searchMode: \"startsWith\",\n      representationType: \"writtenRep\",\n      author: \"\",\n      offset: 0,\n      limit: 500\n    }\n    console.log(parameters)\n    if (data != undefined) { /* && data.length >= 3 */\n\n      this.lexicalService.getFormList(parameters).subscribe(\n        data => {\n          console.log(data)\n          this.searchResults = data['list'];\n          this.loader = false;\n        }, error => {\n          console.log(error)\n          this.loader = false;\n        }\n      )\n    }\n\n  }\n\n  onSearchLexicalEntriesFilter(data) {\n    this.searchResults = [];\n    /* console.log(data) */\n    let parameters = {\n      text: data,\n      searchMode: \"startsWith\",\n      type: \"\",\n      pos: \"\",\n      formType: \"entry\",\n      author: \"\",\n      lang: \"\",\n      status: \"\",\n      offset: 0,\n      limit: 500\n    }\n\n    console.log(parameters)\n    if (data != \"\") { /* && data.length >= 3 */\n\n      this.lexicalService.getLexicalEntriesList(parameters).subscribe(\n        data => {\n          console.log(data)\n          this.lex_searchResuts = data['list'];\n          this.loader = false;\n        }, error => {\n          //console.log(error)\n        }\n      )\n    }\n\n  }\n\n  clearAll() {\n    this.select_form.handleClearClick();\n  }\n\n  clearAllLexicalEntries() {\n    this.search_lexicalEntry.handleClearClick();\n  }\n\n  bindSelection(req) {\n    this.loader = true;\n    setTimeout(() => {\n      this.select_form.filter(req);\n      this.onSearchFilter(req)\n    }, 100);\n\n  }\n\n  /* ngOnDestroy(){\n    this.lexicalService.\n  } */\n\n  handleForm(evt) {\n\n    if (evt instanceof NgSelectComponent) {\n      if (evt.selectedItems.length > 0) {\n        /* console.log(evt.selectedItems[0]) */\n        let label;\n        if (evt.selectedItems[0]['value']['formInstanceName'] != undefined) {\n          label = evt.selectedItems[0]['value']['formInstanceName'];\n        } else {\n          label = evt.selectedItems[0].label;\n        }\n        this.onChangeForm(evt.selectedItems[0]['value'])\n      }\n    } /* else {\n        let label = evt.target.value;\n        this.form_subject.next({ name: label})\n    } */\n  }\n\n\n  onChangeForm(data) {\n\n\n\n    let parameters = {}\n    let idPopover = this.bind.selectedPopover.tokenId;\n    let tokenData = this.bind.object[idPopover];\n    let element_id = this.bind.epiData.element_id;\n    let textSelection = this.bind.message;\n    let selectionSpan = this.bind.spanSelection;\n    let formValue = data.form;\n\n    if(this.creator == undefined){\n      this.creator = '';\n    }\n\n    console.log(selectionSpan)\n    console.log(textSelection)\n    if (textSelection != '' && textSelection != undefined) {\n      //console.log(111)\n      parameters[\"value\"] = formValue;\n      parameters[\"layer\"] = \"attestation\";\n      parameters[\"attributes\"] = {\n        author: this.creator,\n        creator: this.creator,\n        note: \"\",\n        confidence: 1,\n        timestamp: new Date().getTime().toString(),\n        bibliography: [],\n        validity: \"\",\n        externalRef: \"\",\n        node_id: tokenData.id,\n        label: data.label,\n        form_id: data.formInstanceName\n      };\n      parameters[\"spans\"] = [\n        {\n          start: selectionSpan.start.toString(),\n          end: selectionSpan.end.toString()\n        }\n      ];\n      parameters[\"id\"] = tokenData.node;\n    } else if (textSelection == '' && !Array.isArray(selectionSpan) && !this.bind.isEmptyFile) {\n      //console.log(222)\n      parameters[\"value\"] = formValue;\n      parameters[\"layer\"] = \"attestation\";\n      parameters[\"attributes\"] = {\n        author: this.creator,\n        creator: this.creator,\n        note: \"\",\n        confidence: 1,\n        timestamp: new Date().getTime().toString(),\n        bibliography: [],\n        validity: \"\",\n        externalRef: \"\",\n        node_id: tokenData.id,\n        label: data.label,\n        form_id: data.formInstanceName\n      };\n      parameters[\"spans\"] = [\n        {\n          start: tokenData.begin.toString(),\n          end: tokenData.end.toString()\n        }\n      ];\n      parameters[\"id\"] = tokenData.node;\n    } else if (Array.isArray(selectionSpan)) { //MULTIWORD\n      //console.log(333)\n      parameters[\"value\"] = formValue;\n      parameters[\"layer\"] = \"attestation\";\n      parameters[\"attributes\"] = {\n        author: this.creator,\n        creator: this.creator,\n        note: \"\",\n        confidence: 1,\n        timestamp: new Date().getTime().toString(),\n        bibliography: [],\n        validity: \"\",\n        externalRef: \"\",\n        node_id: tokenData.id,\n        label: data.label,\n        form_id: data.formInstanceName\n      };\n      parameters[\"spans\"] = selectionSpan\n      parameters[\"id\"] = tokenData.node;\n    } else if (this.bind.isEmptyFile) {\n      parameters[\"value\"] = formValue;\n      parameters[\"layer\"] = \"attestation\";\n      parameters[\"attributes\"] = {\n        author: this.creator,\n        creator: this.creator,\n        note: \"\",\n        confidence: 1,\n        timestamp: new Date().getTime().toString(),\n        bibliography: [],\n        validity: \"\",\n        externalRef: \"\",\n        node_id: undefined,\n        label: data.label,\n        form_id: data.formInstanceName\n      };\n      parameters[\"spans\"] = [\n        {\n          start: 0,\n          end: 0\n        }\n      ];\n      parameters[\"id\"] = element_id;\n    }\n    //console.log(idPopover, tokenData, data);\n\n    console.log(parameters)\n\n    let identifier;\n\n    if (!this.bind.isEmptyFile) {\n      identifier = tokenData.node;\n    } else {\n      identifier = element_id\n    }\n\n    this.annotatorService.addAnnotation(parameters, identifier).subscribe(\n      data => {\n        console.log(data);\n        this.bind.annotationArray.push(data.annotation);\n\n        if (!this.bind.isEmptyFile) {\n          this.bind.populateLocalAnnotation(tokenData);\n        } else {\n          this.bind.populateLocalAnnotation(data.annotation)\n        }\n\n\n        if (!this.bind.isEmptyFile) {\n          this.bind.object.forEach(element => {\n            if (data.annotation.attributes.node_id == element.id) {\n              let positionElement = element.position;\n              let elementHTML = document.getElementsByClassName('token-' + (positionElement - 1))[0]\n              this.renderer.addClass(elementHTML, 'annotation');\n            }\n          });\n        }\n\n\n        this.toastr.success('New attestation created', 'Info', {\n          timeOut: 5000\n        })\n\n      },\n      error => {\n        console.log(error);\n        this.toastr.error('Error on create new attestation', 'Error', {\n          timeOut: 5000\n        })\n      }\n    )\n\n\n  }\n\n  addNewForm = (form: string) => {\n    this.addTagFormText = form;\n\n\n    let index = this.bind.selectedPopover.tokenId;\n    let popover = this.bind.spanPopovers.toArray()[index];\n\n    if (popover != undefined) {\n      if (popover.isOpen()) {\n        popover.close();\n      }\n    }\n\n    this.modalService.open(this.addFormModal, {\n      size: 'lg',\n      windowClass: 'dark-modal',\n      beforeDismiss: () => {\n        if (this.stepOneForm.touched || this.stepTwoForm.touched || this.stepThreeForm.touched || this.stepFourForm.touched) {\n          if (!confirm('There are unsaved changes. Do you really want to quit without saving?')) {\n            return false;\n          } else {\n            this.stepOneForm.reset();\n            this.stepOneForm.markAsUntouched();\n            this.stepOneForm.markAsPristine();\n\n            this.stepTwoForm.reset();\n            this.stepTwoForm.markAsUntouched();\n            this.stepTwoForm.markAsPristine();\n\n            this.stepThreeForm.reset();\n            this.stepThreeForm.markAsUntouched();\n            this.stepThreeForm.markAsPristine();\n\n            this.stepFourForm.reset();\n            this.stepFourForm.markAsUntouched();\n            this.stepFourForm.markAsPristine();\n\n            this.statusForm.reset();\n            this.statusForm.markAsPristine();\n            this.statusForm.markAsUntouched();\n            return true;\n          }\n\n        } else {\n          this.stepOneForm.reset();\n          this.stepOneForm.markAsUntouched();\n          this.stepOneForm.markAsPristine();\n\n          this.stepTwoForm.reset();\n          this.stepTwoForm.markAsUntouched();\n          this.stepTwoForm.markAsPristine();\n\n          this.stepThreeForm.reset();\n          this.stepThreeForm.markAsUntouched();\n          this.stepThreeForm.markAsPristine();\n\n          this.stepFourForm.reset();\n          this.stepFourForm.markAsUntouched();\n          this.stepFourForm.markAsPristine();\n          return true;\n        }\n      }\n    });\n    this.modalStep = 1;\n\n  }\n\n  nextStep() {\n    if (this.modalStep == 1) {\n      if (this.stepOneForm.get('existOrNot').value == 'new') {\n        this.modalStep = 3;\n      } else {\n        this.modalStep = 2;\n      }\n\n      if (this.stepTwoForm.touched) {\n        this.stepTwoForm.reset();\n        this.stepTwoForm.markAsUntouched();\n        this.stepTwoForm.markAsPristine();\n        this.clearAll();\n      }\n\n      if (this.stepThreeForm.touched) {\n        this.stepThreeForm.reset();\n        this.stepThreeForm.markAsUntouched();\n        this.stepThreeForm.markAsPristine();\n      }\n\n      if (this.stepFourForm.touched) {\n        this.stepFourForm.reset();\n        this.stepFourForm.markAsUntouched();\n        this.stepFourForm.markAsPristine();\n      }\n\n    } else if (this.modalStep == 3) {\n      this.modalStep += 1;\n      if (this.stepTwoForm.touched) {\n        this.stepTwoForm.reset();\n        this.stepTwoForm.markAsUntouched();\n        this.stepTwoForm.markAsPristine();\n\n        this.clearAll();\n      }\n\n      if (this.stepFourForm.touched) {\n        this.stepFourForm.reset();\n        this.stepFourForm.markAsUntouched();\n        this.stepFourForm.markAsPristine();\n      }\n\n      this.stepFourForm.get('writtenForm').patchValue(this.addTagFormText, { emitEvent: false });\n\n    } else if (this.modalStep == 2) {\n      this.modalStep = 4;\n      if (this.stepThreeForm.touched) {\n        this.stepThreeForm.reset();\n        this.stepThreeForm.markAsUntouched();\n        this.stepThreeForm.markAsPristine();\n      }\n\n      if (this.stepFourForm.touched) {\n        this.stepFourForm.reset();\n        this.stepFourForm.markAsUntouched();\n        this.stepFourForm.markAsPristine();\n      }\n\n      this.stepFourForm.get('writtenForm').patchValue(this.addTagFormText, { emitEvent: false });\n    } else {\n      this.modalStep += 1;\n\n      if (this.modalStep == 6) {\n        this.wizardFactory();\n      }\n\n      if (this.modalStep > 6) {\n        this.modalStep = 6;\n      }\n    }\n\n  }\n\n  previousStep() {\n    if (this.modalStep == 2) {\n      this.modalStep -= 1;\n    } else if (this.modalStep == 3) {\n      this.modalStep = 1;\n    } else if (this.modalStep == 4) {\n\n      if (this.stepThreeForm.touched) {\n        this.modalStep = 3;\n      } else if (this.stepTwoForm.touched) {\n        this.modalStep = 2;\n      }\n    } else if (this.modalStep == 5) {\n      this.modalStep -= 1;\n    }\n  }\n\n  wizardFactory() {\n\n    //nuova lexical entry\n    if (this.stepThreeForm.touched) {\n\n      //lexical entry creazion\n      this.statusForm.get('lexicalEntryCreation').patchValue('pending', { emitEvent: false });\n      this.lexicalService.newLexicalEntry().subscribe(\n        data => {\n          console.log(data);\n\n          this.statusForm.get('lexicalEntryCreation').patchValue('ok', { emitEvent: false })\n\n          this.statusForm.get('attachingLanguage').patchValue('pending', { emitEvent: false })\n          //attaching language\n          let lexId = data.lexicalEntryInstanceName;\n          let lang = this.stepThreeForm.get('language').value;\n          let parameters = {\n            relation: 'language',\n            value: lang\n          }\n\n          this.lexicalService.updateLexicalEntry(lexId, parameters).subscribe(\n            data => {\n              console.log(data)\n            }, error => {\n              console.log(error);\n\n              if (error.status == 200) {\n                this.statusForm.get('attachingLanguage').patchValue('ok', { emitEvent: false });\n\n\n                //attaching type\n                this.statusForm.get('attachingType').patchValue('pending', { emitEvent: false });\n                let type = this.stepThreeForm.get('type').value;\n                let parameters = {\n                  relation: 'type',\n                  value: type\n                }\n\n                this.lexicalService.updateLexicalEntry(lexId, parameters).subscribe(\n                  data => {\n                    console.log(data)\n                  }, error => {\n                    console.log(error);\n                    if (error.status == 200) {\n\n                      this.statusForm.get('attachingType').patchValue('ok', { emitEvent: false });\n\n                      this.statusForm.get('attachingLabel').patchValue('pending', { emitEvent: false });\n                      //attaching label\n                      let label = this.stepThreeForm.get('label').value;\n                      let parameters = {\n                        relation: 'label',\n                        value: label\n                      };\n\n                      this.lexicalService.updateLexicalEntry(lexId, parameters).subscribe(\n                        data => {\n                          console.log(data)\n                        }, error => {\n                          console.log(error);\n\n                          if (error.status == 200) {\n                            this.statusForm.get('attachingLabel').patchValue('ok', { emitEvent: false });\n\n\n                            //attaching pos\n                            this.statusForm.get('attachingPos').patchValue('pending', { emitEvent: false });\n\n                            let pos = this.stepThreeForm.get('pos').value;\n                            let parameters = {\n                              type: 'morphology',\n                              relation: 'partOfSpeech',\n                              value: pos\n                            }\n\n                            this.lexicalService.updateLinguisticRelation(lexId, parameters).subscribe(\n                              data => {\n                                console.log(data)\n                              }, error => {\n                                console.log(error);\n\n                                this.statusForm.get('attachingPos').patchValue('ok', { emitEvent: false });\n\n                                //creating form\n                                this.statusForm.get('creatingForm').patchValue('pending', { emitEvent: false });\n\n\n                                this.lexicalService.createNewForm(lexId).subscribe(\n                                  data=>{\n                                    console.log(data);\n\n                                    let formId = data.formInstanceName;\n\n                                    this.statusForm.get('creatingForm').patchValue('ok', { emitEvent: false });\n\n\n                                    //attaching writtenRep to form\n                                    this.statusForm.get('attachingWrittenForm').patchValue('pending', { emitEvent: false });\n                                    let writtenRep = this.stepFourForm.get('writtenForm').value;\n                                    let parameters = {\n                                      relation: 'writtenRep',\n                                      value: writtenRep\n                                    }\n\n                                    this.lexicalService.updateForm(formId, parameters).subscribe(\n                                      data=>{\n                                        console.log(data)\n                                        this.statusForm.get('attachingWrittenForm').patchValue('ok', { emitEvent: false });\n                                      },error=>{\n                                        console.log(error)\n                                        this.statusForm.get('attachingWrittenForm').patchValue('ok', { emitEvent: false });\n\n                                        //attach type to form\n                                        this.statusForm.get('attachingFormType').patchValue('pending', { emitEvent: false });\n                                        let typeForm = this.stepFourForm.get('type').value;\n\n                                        let parameters = {\n                                          relation: 'type',\n                                          value : typeForm\n                                        }\n\n                                        this.lexicalService.updateForm(formId, parameters).subscribe(\n                                          data=>{\n                                            console.log(data);\n                                            this.statusForm.get('attachingFormType').patchValue('ok', { emitEvent: false });\n                                            this.statusForm.get('finish').patchValue('ok', { emitEvent: false });\n                                          },error=>{\n                                            console.log(error);\n                                            this.statusForm.get('attachingFormType').patchValue('ok', { emitEvent: false });\n\n                                            this.statusForm.get('finish').patchValue('ok', { emitEvent: false });\n\n                                          }\n                                        )\n                                      }\n                                    )\n\n                                  },error=>{\n                                    console.log(error);\n\n                                  }\n                                )\n                              }\n                            )\n                          }\n                        }\n                      )\n\n                    }\n                  }\n                )\n\n              }\n            }\n          )\n\n        }, error => {\n          console.log(error)\n        }\n      )\n    } else if (this.stepTwoForm.touched) { //lexical entry esistente\n\n      let lexId = this.stepTwoForm.get('lexicalEntry').value;\n      //creating form\n      this.statusForm.get('creatingForm').patchValue('pending', { emitEvent: false });\n\n\n      this.lexicalService.createNewForm(lexId).subscribe(\n        data=>{\n          console.log(data);\n\n          let formId = data.formInstanceName;\n\n          this.statusForm.get('creatingForm').patchValue('ok', { emitEvent: false });\n\n\n          //attaching writtenRep to form\n          this.statusForm.get('attachingWrittenForm').patchValue('pending', { emitEvent: false });\n          let writtenRep = this.stepFourForm.get('writtenForm').value;\n          let parameters = {\n            relation: 'writtenRep',\n            value: writtenRep\n          }\n\n          this.lexicalService.updateForm(formId, parameters).subscribe(\n            data=>{\n              console.log(data)\n              this.statusForm.get('attachingWrittenForm').patchValue('ok', { emitEvent: false });\n            },error=>{\n              console.log(error)\n              this.statusForm.get('attachingWrittenForm').patchValue('ok', { emitEvent: false });\n\n              //attach type to form\n              this.statusForm.get('attachingFormType').patchValue('pending', { emitEvent: false });\n              let typeForm = this.stepFourForm.get('type').value;\n\n              let parameters = {\n                relation: 'type',\n                value : typeForm\n              }\n\n              this.lexicalService.updateForm(formId, parameters).subscribe(\n                data=>{\n                  console.log(data);\n                  this.statusForm.get('attachingFormType').patchValue('ok', { emitEvent: false });\n                  this.statusForm.get('finish').patchValue('ok', { emitEvent: false });\n                },error=>{\n                  console.log(error);\n                  this.statusForm.get('attachingFormType').patchValue('ok', { emitEvent: false });\n\n                  this.statusForm.get('finish').patchValue('ok', { emitEvent: false });\n\n                }\n              )\n            }\n          )\n\n        },error=>{\n          console.log(error);\n\n        }\n      )\n      \n    }\n  }\n\n}\n","<div class=\"input-group col-xl-12 searchSelect\">\n    <ng-select #select_form name=\"entity\" [addTag]=\"addNewForm\" [clearable]=\"false\" (focus)=\"true\" bindValue=\"label\"\n        bindLabel=\"label\" placeholder=\"Search form\" appendTo=\".token_modal\" (keyup)=\"triggerSearch($event)\"\n        [items]=\"searchResults\" (change)=\"handleForm(select_form)\" [loading]=\"loader\">\n        <!--  -->\n        <!-- && cog.get('type').value != 'external' -->\n        <!-- \"\n     -->\n        <!-- (focus)=\"deleteData()\" -->\n        <!-- -->\n        <ng-template ng-option-tmp let-item=\"item\" let-search=\"searchTerm\">\n            <!--     <div>\n    <span>{{item.label}} </span><span style=\"color: blue;\">@{{item.language}}</span>\n</div> -->\n            <div class=\"card-body p-0\">\n                <h6 class=\"card-title m-0\" [ngOptionHighlight]=\"search\">{{item.label}}</h6>\n                <!-- <p class=\"card-subtitle mb-2 text-muted\">{{item.type}}</p> -->\n                <small *ngFor=\"let sub of item.morphology\">\n                    <span *ngIf=\"sub.trait == 'case' || sub.trait == 'gender' || sub.trait == 'number' || sub.trait == 'partOfSpeech'\">\n                        {{sub.trait}} : {{sub.value}} <br>\n                    </span>\n                </small>\n                <small class=\"card-text\">\n                    <!-- <img height=\"15\" width=\"15\" [src]=\"item.avatar\"/> -->\n                    <!-- LexicalEntry: {{item.lexicalEntryInstanceName}} -->\n\n                </small>\n                <!--  <div *ngIf=\"item.name === 'Pavilnys'\">\n        <a href=\"#\" class=\"card-link\">Card link</a>\n        <a href=\"#\" class=\"card-link\">Another link</a>\n    </div> -->\n            </div>\n\n        </ng-template>\n    </ng-select>\n\n    <div class=\"input-group-append ml-2\">\n        <button (click)=\"clearAll()\" class=\"btn btn-danger\" type=\"button\">Clear</button>\n    </div>\n</div>\n\n<ng-template #addFormModal let-modal>\n    <div class=\"modal-header\">\n        <h4 class=\"modal-title\" id=\"modal-basic-title\">Wizard</h4>\n        <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"modal.dismiss('Cross click')\">\n            <span aria-hidden=\"true\">&times;</span>\n        </button>\n    </div>\n\n    <form [formGroup]=\"stepOneForm\" *ngIf=\"modalStep == 1\">\n        <div class=\"modal-body\">\n            <!-- {{modalStep}} -->\n            <div class=\"form-group\" >\n                <p>To create a new lexical form it is necessary to have a reference lexical entry. Select one of the two options:</p>\n                <div class=\"form-check form-check-inline\">\n                    <input class=\"form-check-input\" formControlName=\"existOrNot\" name=\"existOrNot\" type=\"radio\" value=\"new\">\n                    <label class=\"form-check-label\" for=\"existOrNot\">Create new lexical entry</label>\n                </div>\n                <div class=\"form-check form-check-inline\">\n                    <input class=\"form-check-input\" formControlName=\"existOrNot\" name=\"existOrNot\" type=\"radio\" value=\"exist\">\n                    <label class=\"form-check-label\" for=\"existOrNot\">Choose one existing lexical entry</label>\n                </div>\n            </div>\n            \n        </div>\n        <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"previousStep()\"\n                [disabled]=\"modalStep == 1\">Previous</button>\n            <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"nextStep()\" [disabled]=\"stepOneForm.invalid\">Next</button>\n        </div>  \n       \n    </form>\n\n    <form [formGroup]=\"stepTwoForm\"  *ngIf=\"modalStep == 2\">\n        <div class=\"modal-body\">\n            <!-- {{modalStep}} -->\n            <p>Choose a lexical entry:</p>\n            <div class=\"input-group searchSelect\">\n                <ng-select #search_lexicalEntry formControlName=\"lexicalEntry\" name=\"lexicalEntry\" [clearable]=\"false\" (focus)=\"true\" bindValue=\"lexicalEntryInstanceName\"\n                bindLabel=\"label\" placeholder=\"Search form\" appendTo=\"body\" (keyup)=\"triggerSearchLexicalEntries($event)\"\n                [items]=\"lex_searchResuts\" [loading]=\"loader\"> </ng-select>\n                \n                <div class=\"input-group-append ml-2\">\n                    <button (click)=\"clearAll()\" class=\"btn btn-danger\" type=\"button\">Clear</button>\n                </div>\n            </div>\n            \n        </div>\n        <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"previousStep()\"\n                [disabled]=\"modalStep == 1\">Previous</button>\n            <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"nextStep()\" [disabled]=\"stepTwoForm.invalid\">Next</button>\n        </div>  \n       \n    </form>\n\n    <form [formGroup]=\"stepThreeForm\"  *ngIf=\"modalStep == 3\">\n        <div class=\"modal-body\">\n            <!-- {{modalStep}} -->\n            <p>Enter basic info for lexical entry creation:</p>\n            <div class=\"form-row\">\n                <div class=\"col-md-4 mb-3\">\n                    <label for=\"label\">Label</label>\n                    <input type=\"text\" class=\"form-control\" formControlName=\"label\" name=\"label\" id=\"label\" required>\n                    <div class=\"invalid-feedback\">\n                        Please provide a valid state.\n                    </div>\n                </div>\n                <div class=\"col-md-3 mb-3\">\n                    <label for=\"label\">Type</label>\n                    <select class=\"custom-select\" formControlName=\"type\" name=\"type\" id=\"type\" required>\n                        <option selected value=\"\">Select type</option>\n                        <option *ngFor=\"let type of lexEntryTypesData\" [value]=\"type.valueId\">{{type.valueLabel}}</option>\n                    </select>\n                    <div class=\"invalid-feedback\">\n                        Please provide a valid state.\n                    </div>\n                </div>\n                <div class=\"col-md-2 mb-3\">\n                    <label for=\"label\">Language</label>\n                    <select class=\"custom-select\" formControlName=\"language\" name=\"language\" id=\"language\" required>\n                        <option selected value=\"\">Select language</option>\n                        <option *ngFor=\"let lang of languages\" [value]=\"lang.label\">{{lang.label}}</option>\n                    </select>\n                    <div class=\"invalid-feedback\">\n                        Please provide a valid state.\n                    </div>\n                </div>\n                <div class=\"col-md-3 mb-3\">\n                    <label for=\"label\">Part of Speech</label>\n                    <select class=\"custom-select\" formControlName=\"pos\" name=\"pos\" id=\"pos\" required>\n                        <option selected value=\"\">Select pos</option>\n                        <option *ngFor=\"let pos of morphologyData\" [value]=\"pos.valueId\">{{pos.valueLabel}}</option>\n                    </select>\n                    <div class=\"invalid-feedback\">\n                        Please provide a valid state.\n                    </div>\n                </div>\n            </div>\n            <!-- <div class=\"form-row\">\n                \n            </div> -->\n            \n        </div>\n        <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"previousStep()\"\n                [disabled]=\"modalStep == 1\">Previous</button>\n            <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"nextStep()\" [disabled]=\"stepThreeForm.invalid\">Next</button>\n        </div>  \n       \n    </form>\n\n    <form [formGroup]=\"stepFourForm\"  *ngIf=\"modalStep == 4\">\n        <div class=\"modal-body\">\n            <p>Enter basic info for form creation:</p>\n            <div class=\"form-row\">\n                <div class=\"col-md-4 mb-3\">\n                    <label for=\"label\">Written Form</label>\n                    <input type=\"text\" class=\"form-control\" formControlName=\"writtenForm\" name=\"writtenForm\" id=\"writtenForm\" required>\n                    <div class=\"invalid-feedback\">\n                        Please provide a valid state.\n                    </div>\n                </div>\n                <div class=\"col-md-3 mb-3\">\n                    <label for=\"label\">Type</label>\n                    <select class=\"custom-select\" formControlName=\"type\" name=\"type\" id=\"type\" required>\n                        <option selected value=\"\">Select type</option>\n                        <option *ngFor=\"let type of typesData\" [value]=\"type.valueId\">{{type.valueLabel}}</option>\n                    </select>\n                    <div class=\"invalid-feedback\">\n                        Please provide a valid state.\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"previousStep()\">Previous</button>\n            <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"nextStep()\" [disabled]=\"stepFourForm.invalid\">Next</button>\n        </div>  \n    </form>\n\n    <div *ngIf=\"modalStep == 5\">\n        <div class=\"modal-body\">\n            <p>Summary:</p>\n\n            <div class=\"row\">\n                <div class=\"col-4\">\n                    <p>Lexical form to create</p>\n                </div>\n                <div class=\"col-8\">\n                    <p>{{stepFourForm.get('writtenForm').value}}  -  {{stepFourForm.get('type').value}}</p>\n               </div>\n            </div>\n\n            <div class=\"row\" *ngIf=\"stepTwoForm.touched\">\n                <div class=\"col-4\">\n                    <p>Lexical Entry to be attached</p>\n                </div>\n                <div class=\"col-8\">\n                    <p>{{stepTwoForm.get('lexicalEntry').value}}</p>\n               </div>\n            </div>\n\n            <div class=\"row\" *ngIf=\"stepThreeForm.touched\">\n                <div class=\"col-4\">\n                    <p>New lexical entry to be attached</p>\n                </div>\n                <div class=\"col-8\">\n                    <p>{{stepThreeForm.get('label').value}}</p>\n               </div>\n            </div>\n\n\n        </div>\n        <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"previousStep()\">Previous</button>\n            <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"nextStep()\">Proceed</button>\n        </div>\n    </div>\n\n\n    <form [formGroup]=\"statusForm\"  *ngIf=\"modalStep == 6\">\n        <div class=\"modal-body\">\n            <p>Summary:</p>\n            \n            <div class=\"row\" *ngIf=\"stepThreeForm.touched\">\n                <div class=\"col-4\">\n                    <p [ngClass]=\"{'text-muted': statusForm.get('lexicalEntryCreation').value == 'pause'}\">Lexical entry creation</p>\n                </div>\n                <div class=\"col-8\">\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('lexicalEntryCreation').value == 'pause'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-pause-circle fa-2x\" style=\"color: gray;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('lexicalEntryCreation').value == 'pending'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"spinner-border mr-auto ml-auto\" role=\"status\" aria-hidden=\"true\"></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('lexicalEntryCreation').value == 'ok'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-check-circle fa-2x\" style=\"color: green;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('lexicalEntryCreation').value == 'error'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-times-circle fa-2x\" style=\"color: red;\"></i></div>\n                    </div>\n               </div>\n            </div>\n\n            <div class=\"row\" *ngIf=\"stepThreeForm.touched\">\n                <div class=\"col-4\">\n                    <p [ngClass]=\"{'text-muted': statusForm.get('attachingLanguage').value == 'pause'}\">Attaching language</p>\n                </div>\n                <div class=\"col-8\">\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingLanguage').value == 'pause'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-pause-circle fa-2x\" style=\"color: gray;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingLanguage').value == 'pending'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"spinner-border mr-auto ml-auto\" role=\"status\" aria-hidden=\"true\"></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingLanguage').value == 'ok'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-check-circle fa-2x\" style=\"color: green;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingLanguage').value == 'error'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-times-circle fa-2x\" style=\"color: red;\"></i></div>\n                    </div>\n               </div>\n            </div>\n\n            <div class=\"row\" *ngIf=\"stepThreeForm.touched\">\n                <div class=\"col-4\">\n                    <p [ngClass]=\"{'text-muted': statusForm.get('attachingType').value == 'pause'}\">Attaching type</p>\n                </div>\n                <div class=\"col-8\">\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingType').value == 'pause'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-pause-circle fa-2x\" style=\"color: gray;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingType').value == 'pending'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"spinner-border mr-auto ml-auto\" role=\"status\" aria-hidden=\"true\"></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingType').value == 'ok'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-check-circle fa-2x\" style=\"color: green;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingType').value == 'error'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-times-circle fa-2x\" style=\"color: red;\"></i></div>\n                    </div>\n               </div>\n            </div>\n\n            <div class=\"row\" *ngIf=\"stepThreeForm.touched\">\n                <div class=\"col-4\">\n                    <p [ngClass]=\"{'text-muted': statusForm.get('attachingLabel').value == 'pause'}\">Attaching label</p>\n                </div>\n                <div class=\"col-8\">\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingLabel').value == 'pause'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-pause-circle fa-2x\" style=\"color: gray;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingLabel').value == 'pending'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"spinner-border mr-auto ml-auto\" role=\"status\" aria-hidden=\"true\"></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingLabel').value == 'ok'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-check-circle fa-2x\" style=\"color: green;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingLabel').value == 'error'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-times-circle fa-2x\" style=\"color: red;\"></i></div>\n                    </div>\n               </div>\n            </div>\n\n            <div class=\"row\" *ngIf=\"stepThreeForm.touched\">\n                <div class=\"col-4\">\n                    <p [ngClass]=\"{'text-muted': statusForm.get('attachingPos').value == 'pause'}\">Attaching part of speech</p>\n                </div>\n                <div class=\"col-8\">\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingPos').value == 'pause'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-pause-circle fa-2x\" style=\"color: gray;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingPos').value == 'pending'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"spinner-border mr-auto ml-auto\" role=\"status\" aria-hidden=\"true\"></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingPos').value == 'ok'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-check-circle fa-2x\" style=\"color: green;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingPos').value == 'error'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-times-circle fa-2x\" style=\"color: red;\"></i></div>\n                    </div>\n               </div>\n            </div>\n\n            <div class=\"row\">\n                <div class=\"col-4\">\n                    <p [ngClass]=\"{'text-muted': statusForm.get('creatingForm').value == 'pause'}\">Creating form</p>\n                </div>\n                <div class=\"col-8\">\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('creatingForm').value == 'pause'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-pause-circle fa-2x\" style=\"color: gray;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('creatingForm').value == 'pending'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"spinner-border mr-auto ml-auto\" role=\"status\" aria-hidden=\"true\"></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('creatingForm').value == 'ok'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-check-circle fa-2x\" style=\"color: green;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('creatingForm').value == 'error'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-times-circle fa-2x\" style=\"color: red;\"></i></div>\n                    </div>\n               </div>\n            </div>\n\n            <div class=\"row\">\n                <div class=\"col-4\">\n                    <p [ngClass]=\"{'text-muted': statusForm.get('attachingWrittenForm').value == 'pause'}\">Attaching written form property</p>\n                </div>\n                <div class=\"col-8\">\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingWrittenForm').value == 'pause'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-pause-circle fa-2x\" style=\"color: gray;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingWrittenForm').value == 'pending'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"spinner-border mr-auto ml-auto\" role=\"status\" aria-hidden=\"true\"></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingWrittenForm').value == 'ok'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-check-circle fa-2x\" style=\"color: green;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingWrittenForm').value == 'error'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-times-circle fa-2x\" style=\"color: red;\"></i></div>\n                    </div>\n               </div>\n            </div>\n\n            <div class=\"row\">\n                <div class=\"col-4\">\n                    <p [ngClass]=\"{'text-muted': statusForm.get('attachingFormType').value == 'pause'}\">Attaching type property</p>\n                </div>\n                <div class=\"col-8\">\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingFormType').value == 'pause'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-pause-circle fa-2x\" style=\"color: gray;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingFormType').value == 'pending'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"spinner-border mr-auto ml-auto\" role=\"status\" aria-hidden=\"true\"></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingFormType').value == 'ok'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-check-circle fa-2x\" style=\"color: green;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('attachingFormType').value == 'error'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-times-circle fa-2x\" style=\"color: red;\"></i></div>\n                    </div>\n               </div>\n            </div>\n\n            <div class=\"row\">\n                <div class=\"col-4\">\n                    <p [ngClass]=\"{'text-muted': statusForm.get('finish').value == 'pause'}\">Finish</p>\n                </div>\n                <div class=\"col-8\">\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('finish').value == 'pause'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-pause-circle fa-2x\" style=\"color: gray;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('finish').value == 'pending'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"spinner-border mr-auto ml-auto\" role=\"status\" aria-hidden=\"true\"></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('finish').value == 'ok'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-check-circle fa-2x\" style=\"color: green;\"></i></div>\n                    </div>\n                    <div class=\"d-flex align-items-center\" *ngIf=\"statusForm.get('finish').value == 'error'\">\n                        <!-- <strong>Loading...</strong> -->\n                        <div class=\"mr-auto ml-auto\" aria-hidden=\"true\"><i class=\"fas fa-times-circle fa-2x\" style=\"color: red;\"></i></div>\n                    </div>\n               </div>\n            </div>\n        </div>\n        <div class=\"modal-footer\">\n            <!-- <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"previousStep()\">Previous</button> -->\n            <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"modal.close('finish')\" [disabled]=\"statusForm.get('finish').value != 'ok'\">Close</button>\n        </div>\n    </form>\n    \n    \n</ng-template>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder, FormControl, FormGroup } from '@angular/forms';\nimport { IActionMapping, ITreeOptions, ITreeState, KEYS, TreeModel, TREE_ACTIONS } from '@circlon/angular-tree-component';\nimport { debounceTime } from 'rxjs/operators';\nimport { ConceptService } from 'src/app/services/concept/concept.service';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\nimport { v4 } from 'uuid';\n\nconst actionMapping: IActionMapping = {\n  mouse: {\n    /* dblClick: (tree, node, $event) => {\n      if (node.hasChildren) {\n        TREE_ACTIONS.TOGGLE_EXPANDED(tree, node, $event);\n      }\n    }, */\n    click: (tree, node, $event) => {\n      $event.shiftKey\n        ? TREE_ACTIONS.TOGGLE_ACTIVE_MULTI(tree, node, $event)\n        : TREE_ACTIONS.TOGGLE_ACTIVE(tree, node, $event);\n      \n      if(node.data.rename_mode){\n        $event.preventDefault();\n      }/* else{\n        TREE_ACTIONS.TOGGLE_ACTIVE(tree, node, $event);\n      } */\n    },\n    expanderClick: (tree, node, $event) => {\n      if(node.data.rename_mode){\n        $event.preventDefault();\n      }else{\n        //console.log(node);\n        TREE_ACTIONS.TOGGLE_EXPANDED(tree, node, $event);\n      }\n    }\n    /* contextMenu: (tree, node, $event) => {\n      //$event.preventDefault();\n      //alert(`context menu for ${node.data.name}`);\n      TREE_ACTIONS.TOGGLE_ACTIVE(tree, node, $event);\n    } */\n  },\n  keys: {\n    [KEYS.ENTER]: (tree, node, $event) => alert(`This is ${node.data.name}`)\n  }\n};\n\n@Component({\n  selector: 'app-concept-tree',\n  templateUrl: './concept-tree.component.html',\n  styleUrls: ['./concept-tree.component.scss']\n})\nexport class ConceptTreeComponent implements OnInit {\n\n  state!: ITreeState;\n  @ViewChild('treeConcept') treeConcept: any;\n  selectedNodeId;\n\n  options: ITreeOptions = {\n    actionMapping,\n    allowDrag: (node) => node.isLeaf,\n    allowDrop: (element, { parent, index }) => {\n      // return true / false based on element, to.parent, to.index. e.g.\n      //console.log(element, parent, index, parent.data.type == 'folder')\n      return parent.data.type == 'directory';\n    },\n    getNodeClone: (node) => ({\n      ...node.data,\n      id: v4(),\n      name: `copy of ${node.data.name}`\n    })\n  };\n  \n\n  searchIconSpinner = false;\n  initialValues\n  conceptFilterForm = new FormGroup({\n    search_text : new FormControl(null),\n    search_mode : new FormControl(null)\n  })\n\n  counter = 0;\n  nodes = [];\n  show = false;\n  offset: number;\n  modalShow: boolean;\n  limit: any;\n\n\n  constructor(private element: ElementRef,\n              private formBuilder: FormBuilder,\n              private lexicalService : LexicalEntriesService,\n              private conceptService : ConceptService\n  ) { }\n\n  ngOnInit(): void {\n    this.loadTree();\n    this.conceptFilterForm = this.formBuilder.group({\n      search_text : new FormControl(null),\n      search_mode : new FormControl('starts')\n    })\n    this.onChanges();\n    this.initialValues = this.conceptFilterForm.value\n  }\n\n\n  onChanges() {\n    this.conceptFilterForm.valueChanges.pipe(debounceTime(500)).subscribe(searchParams => {\n      console.log(searchParams)\n      this.searchFilter(searchParams)\n    })\n  }\n\n  onEvent = ($event: any) => {\n    console.log($event);\n\n    if ($event.eventName == 'activate' && $event.node.data.type != 'directory' && this.selectedNodeId != $event.node.data['element-id']) {\n      this.selectedNodeId = $event.node.data['element-id'];\n      /* //@ts-ignore\n      $(\"#epigraphyTabModal\").modal(\"show\");\n      $('.modal-backdrop').appendTo('.epigraphy-tab-body');\n      //@ts-ignore\n      $('#epigraphyTabModal').modal({backdrop: 'static', keyboard: false})  \n      $('body').removeClass(\"modal-open\")\n      $('body').css(\"padding-right\", \"\"); */\n\n    }\n  }\n\n  \n\n  onMoveNode($event) {\n    console.log($event);\n    let node_type = $event.node.type;\n    let target_type = $event.to.parent.type;\n    this.moveNode($event);\n    \n  }\n\n  moveNode(evt){\n    if(evt != undefined){\n      //console.log(evt);\n      let element_id = evt.node['element-id'];\n      let target_id = evt.to.parent['element-id'];\n      let parameters = {\n        \"requestUUID\": \"string\",\n        \"user-id\": 0,\n        \"element-id\": element_id,\n        \"target-id\": target_id\n      }\n            \n      \n      /* this.documentService.moveFolder(parameters).subscribe(\n        data=>{\n          this.toastr.info('Folder '+ evt.node['name'] +' moved', '', {\n            timeOut: 5000,\n          });\n          //console.log(data);\n        },error=>{\n          console.log(error)\n        }\n      ) */\n    }\n  }\n\n  loadTree(){\n    \n\n  }\n\n  onScrollDown(treeModel: TreeModel) {\n\n    this.offset += 500;\n    this.modalShow = true;\n\n    //@ts-ignore\n    $(\"#lazyLoadingModal\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.tree-view');\n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n\n    let parameters = this.conceptFilterForm.value;\n    parameters['offset'] = this.offset;\n    parameters['limit'] = this.limit;\n\n    this.lexicalService.getLexicalEntriesList(parameters).pipe(debounceTime(200)).subscribe(\n      data => {\n        //@ts-ignore\n        $('#lazyLoadingModal').modal('hide');\n        $('.modal-backdrop').remove();\n        for (var i = 0; i < data['list'].length; i++) {\n          this.nodes.push(data['list'][i]);\n        };\n        //this.counter = this.nodes.length;\n        this.treeConcept.treeModel.update();\n        this.updateTreeView();\n        this.modalShow = false;\n\n        setTimeout(() => {\n          //@ts-ignore\n          $('#lazyLoadingModal').modal('hide');\n          $('.modal-backdrop').remove();\n        }, 300);\n      },\n      error => {\n\n      }\n    )\n  }\n\n  updateTreeView() {\n    setTimeout(() => {\n      //@ts-ignore\n      $('.input-tooltip').tooltip({\n          trigger: 'hover'\n      });\n    }, 300);\n    \n    setTimeout(() => {\n      this.treeConcept.sizeChanged();\n      //@ts-ignore\n      $('.lexical-tooltip').tooltip();\n    }, 1000);\n  }\n\n  resetFields(){\n    this.conceptFilterForm.reset(this.initialValues, {emitEvent : false});\n    setTimeout(() => {\n      this.loadTree();\n      this.treeConcept.treeModel.update();\n      this.updateTreeView();\n      \n    }, 500);  \n  }\n\n\n  searchFilter(newPar) {\n    \n    setTimeout(() => {\n      const viewPort_prova = this.element.nativeElement.querySelector('tree-viewport') as HTMLElement;\n      viewPort_prova.scrollTop = 0\n    }, 300);\n\n    let search_text = newPar.search_text != null ? newPar.search_text : '';\n    this.searchIconSpinner = true;\n    let parameters = {\n      \"requestUUID\" : \"string\",\n      \"contains\" : newPar.search_mode == 'contains' ? true : false,\n      \"metadata\" : {},\n      \"search-text\": search_text,\n      \"start-with\" : newPar.search_mode == 'start' ? true : false,\n      \"user-id\": 0,\n      \"exact-date\": newPar.date_mode == 'exact' ? true : false,\n      \"from-date\":  newPar.date_mode == 'from' ? true : false,\n      \"util-date\":  newPar.date_mode == 'until' ? true : false\n    };\n    \n    console.log(parameters)\n    this.searchIconSpinner = false;\n    \n    /* this.documentService.searchFiles(newPar).subscribe(\n      data => {\n        if(data['files'].length > 0){\n          this.show = false;\n        }else {\n          this.show = true;\n        }\n        this.nodes = data['files'];\n        this.counter = data['results'];\n        this.treeText.treeModel.update();\n        this.updateTreeView();\n        this.searchIconSpinner = false;\n        \n      },\n      error => {\n        console.log(error)\n        this.searchIconSpinner = false;\n\n        this.toastr.error('Error on search text', 'Error', {\n          timeOut : 5000\n        })\n      }\n    ) */\n  }\n\n}\n","<form [formGroup]=\"conceptFilterForm\">\n  <div class=\"input-group col-md-12 mt-2 px-1\">\n    <input formControlName=\"search_text\" id=\"filterConcept\" name=\"search_text\" type=\"text\" class=\"form-control\"\n      placeholder=\"Search\" />\n    <div class=\"input-group-append\">\n      <span class=\"input-group-text loading_icon_append border-left-0\" id=\"basic-addon2\">\n        <div class=\"spinner-border spinner-border-sm m-1\" role=\"status\" *ngIf=\"searchIconSpinner\">\n          <span class=\"sr-only\">Loading...</span>\n        </div>\n      </span>\n    </div>\n    <div id=\"buttons-container\" class=\"input-group-append\">\n      <!-- <button class=\"btn btn-info btn-block filter-button\" type=\"button\" data-toggle=\"popover\" data-placement=\"bottom\"\n        data-trigger=\"hover\"><i class=\"fa fa-question\"></i></button> -->\n      <button class=\"btn btn-sm btn-secondary btn-block filter-button\" type=\"button\" value=\"Filter\" title=\"Filter\"\n        data-toggle=\"collapse\" data-target=\"#conceptFilterCollapse\" aria-expanded=\"false\"\n        aria-controls=\"conceptFilterCollapse\"><i class=\"fa fa-filter\"></i></button>\n      <button class=\"btn btn-sm btn-danger btn-block reset-button\" type=\"button\" value=\"Reset\" title=\"Reset\"\n        (click)=\"resetFields();\" style=\"border-top-right-radius: .25rem; border-bottom-right-radius: .25rem;\"><i\n          class=\"fa fa-times\"></i></button>\n      <button class=\"btn btn-sm btn-block counter-button\" type=\"button\"><span\n          class=\"font-weight-bold font-italic text-muted\">{{counter}}</span></button>\n    </div>\n  </div>\n\n  <div class=\"d-flex flex-wrap mt-3\">\n\n    <div class=\"col-md-6 col-sm-6\">\n      <div class=\"form-check\">\n        <input formControlName=\"search_mode\" class=\"form-check-input\" type=\"radio\" name=\"search_mode\" id=\"startsRadio\"\n          value=\"starts\">\n        <label class=\"form-check-label\" for=\"startsRadio\">\n          Starts\n        </label>\n      </div>\n    </div>\n    <div class=\"col-md-6 col-sm-6\">\n      <div class=\"form-check\">\n        <input formControlName=\"search_mode\" class=\"form-check-input\" type=\"radio\" name=\"search_mode\" id=\"containsRadio\"\n          value=\"contains\">\n        <label class=\"form-check-label\" for=\"containsRadio\">\n          Contains\n        </label>\n      </div>\n    </div>\n\n  </div>\n\n</form>\n\n<div class=\"d-flex flex-wrap mt-3 col-md-12\">\n  <div class=\"input-group justify-content-end\">\n    <div class=\"input-group-append\">\n      <button class=\"btn btn-light btn-block filter-button\" title=\"Add new child for selected node\"><i\n          class=\"fas fa-plus 2x\"></i></button>\n      <button class=\"btn btn-light btn-block reset-button\" type=\"button\" value=\"Reset\"\n        title=\"Add new sibling for selected node\"\n        style=\"border-top-right-radius: .25rem; border-bottom-right-radius: .25rem;\"><i\n          class=\"fas fa-user-plus 2x\"></i></button>\n      <button class=\"btn btn-light btn-block reset-button\" type=\"button\" value=\"Reset\" title=\"Delete selected node\"\n        style=\"border-top-right-radius: .25rem; border-bottom-right-radius: .25rem;\"><i\n          class=\"fas fa-times-circle 2x\"></i></button>\n\n    </div>\n  </div>\n</div>\n\n\n<div class=\"col-md-12 mt-3 rounded border border-secondary tree-view\" infiniteScroll [infiniteScrollDistance]=\"0.4\"\n  [infiniteScrollThrottle]=\"150\" [infiniteScrollContainer]=\"'.search-results'\" [fromRoot]=\"true\"\n  (scrolled)=\"onScrollDown(treeConcept.treeModel)\">\n  <p *ngIf=\"show\">Nessun risultato</p>\n\n  <tree-root #treeConcept [nodes]=\"nodes\" [(state)]=\"state\" [options]=\"options\" [focused]=\"true\"\n    (activate)=\"onEvent($event)\" (moveNode)=\"onMoveNode($event)\" [focused]=\"true\" (activate)=\"onEvent($event)\"\n    (deactivate)=\"onEvent($event)\" class=\"lexicalConceptTree\">\n\n    <div id=\"lazyLoadingModal\" class=\"modal fade\" role=\"dialog\">\n      <div class=\"modal-dialog\">\n\n        <!-- Modal content-->\n        <div class=\"modal-content\">\n          <div class=\"modal-body\">\n            <div class=\"d-flex justify-content-center\">\n              <div class=\"spinner-border\" role=\"status\">\n                <span class=\"sr-only\">Loading...</span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n      </div>\n    </div>\n    <p class=\"mx-3\" *ngIf=\"show\">Nessun risultato</p>\n    <ng-template #treeNodeWrapperTemplate let-node let-index=\"index\">\n      <div class=\"node-wrapper\" style=\"justify-content: space-between; padding: 0px 15px;\">\n        <!-- [style.padding-left]=\"node.getNodePadding()\" -->\n        <div>\n          <tree-node-expander [node]=\"node\" *ngIf=\"node.data.hasChildren == true\"></tree-node-expander>\n          <div class=\"node-content-wrapper\" [class.node-content-wrapper-active]=\"node.isActive\"\n            [class.node-content-wrapper-focused]=\"node.isFocused\" (click)=\"node.mouseAction('click', $event)\"\n            (dblclick)=\"node.mouseAction('dblClick', $event)\" [contextMenu]=\"basicMenu\"\n            [contextMenuSubject]=\"node.data\">\n\n            <span\n              *ngIf=\"node.data.count == undefined && labelView && node.data.componentInstanceName == undefined && node.data.definition == undefined && node.data.type!='canonicalForm' && node.data.sense == undefined\">{{\n              node.data.label }}</span>\n            <span\n              *ngIf=\"node.data.count == undefined && idView && node.data.definition == undefined && node.data.type!='canonicalForm' && node.data.sense == undefined && node.data.etymologyInstanceName == undefined\">{{\n              node.data.lexicalEntryInstanceName }}</span>\n\n            <span\n              *ngIf=\"node.data.count == undefined && labelView && node.data.definition == undefined && node.data.type=='canonicalForm' && node.data.sense == undefined\"><b>{{\n                node.data.label }}</b></span>\n          \n\n           \n            <span class=\"lexical-tooltip\"\n              *ngIf=\"node.data.count == undefined && labelView && node.data.definition != undefined && node.data.label != undefined\"\n              data-toggle=\"tooltip\" data-html=\"true\" [title]=\"node.data.definition\">{{node.data.label.length >\n              10 ? (node.data.label | slice:0:10) +'...' : node.data.label}}</span>\n            <span class=\"lexical-tooltip\"\n              *ngIf=\"node.data.count == undefined && idView && node.data.definition != undefined && node.data.label != undefined\"\n              data-toggle=\"tooltip\" data-html=\"true\" [title]=\"node.data.definition\">{{ node.data.instanceName\n              }}</span>\n\n            <span *ngIf=\"node.data.count != undefined\"><i><span\n                  style=\"color: #6e6e6e\">{{node.data.label}}</span></i>&nbsp;({{ node.data.count\n              }})</span>\n           <!--  <span *ngIf=\"node.data.writtenRep != ''\">{{ node.data.writtenRep }}</span>\n            <sub *ngIf=\"labelView && node.data.sense == undefined\">{{node.data.pos}}</sub>\n            <span *ngIf=\"node.data.language != null && labelView\" class=\"lang\">@{{node.data.language}}</span> -->\n          \n          </div>         \n        </div>\n\n      </div>\n    </ng-template>\n  </tree-root>\n</div>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DocumentSystemService {\n\n  private baseUrl_document = \"/cash_itant/\"\n  //private baseUrl_document = \"https://lari2.ilc.cnr.it/cash/\"\n\n  private _epigraphyData: BehaviorSubject<object> = new BehaviorSubject(null);\n  private _epigraphyTextData: BehaviorSubject<string> = new BehaviorSubject(null);\n  private _epigraphyLeidenData: BehaviorSubject<any> = new BehaviorSubject(null);\n  private _epigraphyTranslationData: BehaviorSubject<any> = new BehaviorSubject(null);\n  private _metadataData : BehaviorSubject<object> = new BehaviorSubject(null);\n  private _triggerMetadataPanel : BehaviorSubject<boolean> = new BehaviorSubject(null);\n\n  epigraphyData$ = this._epigraphyData.asObservable();\n  epigraphyTextData$ = this._epigraphyTextData.asObservable();\n  epigraphyLeidenData$ = this._epigraphyLeidenData.asObservable();\n  epigraphyTranslationData$ = this._epigraphyTranslationData.asObservable();\n  metadataData$ = this._metadataData.asObservable();\n  triggerMetadataPanel$ = this._triggerMetadataPanel.asObservable();\n\n  constructor(private http: HttpClient) { }\n\n  sendToEpigraphyTab(object: object) {\n    this._epigraphyData.next(object)\n  } \n\n  sendTextToEpigraphyTab(string : string){\n    this._epigraphyTextData.next(string);\n  }\n\n  sendTranslationToEpigraphyTab(array : any){\n    this._epigraphyTranslationData.next(array);\n  }\n\n  sendLeidenToEpigraphyTab(string : any){\n    this._epigraphyLeidenData.next(string);\n  }\n\n  sendToMetadataPanel(object : object){\n    this._metadataData.next(object);\n  }\n\n  triggerMetadataPanel(bool: boolean){\n    this._triggerMetadataPanel.next(bool);\n  }\n\n  //GET /api/getDocumentSystem  ---> return document system\n  getDocumentSystem(): Observable<any> {\n    return this.http.get(this.baseUrl_document + \"api/getDocumentSystem?requestUUID=11\")\n  }\n\n  //POST /api/crud/addFolder --> add folder to document system\n  addFolder(parameters): Observable<any> {\n    return this.http.post(this.baseUrl_document + \"api/crud/addFolder\", parameters)\n  }\n\n  //POST /api/crud/removeFolder --> remove Folder folder from document system\n  removeFolder(parameters): Observable<any> {\n    return this.http.post(this.baseUrl_document + \"api/crud/removeFolder\", parameters)\n  }\n\n  //POST /api/crud/moveFolder --> move Folder to another folder\n  moveFolder(parameters): Observable<any> {\n    return this.http.post(this.baseUrl_document + \"api/crud/moveFolder\", parameters)\n  }\n\n  //POST /api/crud/renameFolder --> rename folder\n  renameFolder(parameters): Observable<any> {\n    return this.http.post(this.baseUrl_document + \"api/crud/renameFolder\", parameters)\n  }\n\n\n  //POST /api/crud/uploadFile --> upload text\n  uploadFile(parameters, element_id, request_uuid): Observable<any> {\n    return this.http.post(this.baseUrl_document + \"api/crud/uploadFile?requestUUID=\"+request_uuid+\"&element-id=\"+element_id+\"\", parameters)\n  }\n\n  //POST /api/crud/removeFile --> upload text\n  removeFile(parameters): Observable<any> {\n    return this.http.post(this.baseUrl_document + \"api/crud/removeFile\", parameters)\n  }\n\n  //POST /api/crud/renameFile --> upload text\n  renameFile(parameters): Observable<any> {\n    return this.http.post(this.baseUrl_document + \"api/crud/renameFile\", parameters)\n  }\n\n  //POST /api/crud/moveFileTo --> move file to another folder\n  moveFileTo(parameters): Observable<any> {\n    return this.http.post(this.baseUrl_document + \"api/crud/moveFileTo\", parameters)\n  }\n\n  //POST /api/crud/copyFileTo --> move file to another folder\n  copyFileTo(parameters): Observable<any> {\n    return this.http.post(this.baseUrl_document + \"api/crud/copyFileTo\", parameters)\n  }\n\n  //POST /api/crud/downloadFile --> move file to another folder\n  downloadFile(parameters): Observable<any> {\n    return this.http.post(this.baseUrl_document + \"api/crud/downloadFile\", parameters)\n  }\n\n  //POST /api/crud/updateMetadata --> move file to another folder\n  updateMetadata(parameters): Observable<any> {\n    return this.http.post(this.baseUrl_document + \"api/crud/updateMetadata\", parameters)\n  }\n  \n  //POST /api/crud/deleteMetadata --> move file to another folder\n  deleteMetadata(parameters): Observable<any> {\n    return this.http.post(this.baseUrl_document + \"api/crud/deleteMetadata\", parameters)\n  }\n\n  //POST /api/crud/searchFiles --> move file to another folder\n  searchFiles(parameters): Observable<any> {\n    return this.http.post(this.baseUrl_document + \"api/searchFiles\", parameters)\n  }\n\n  //POST /api/crud/createFile --> create file\n  createFile(parameters): Observable<any> {\n    return this.http.post(this.baseUrl_document + \"api/crud/createFile\", parameters)\n  }\n\n\n  getContent(nodeId) : Observable<any> {\n    return this.http.get(this.baseUrl_document + \"api/v1/getcontent?requestUUID=11&nodeid=\"+nodeId);\n  }\n\n\n  testConvert(parameters) : Observable<any> {\n    return this.http.post('/leiden/', parameters);\n  }\n}\n","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, ElementRef, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { ExpanderService } from 'src/app/services/expander/expander.service';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\n\nimport {\n  animate,\n  style,\n  transition,\n  trigger,\n  state\n} from \"@angular/animations\";\n\n@Component({\n  selector: 'app-synsem-tab',\n  templateUrl: './synsem-tab.component.html',\n  styleUrls: ['./synsem-tab.component.scss'],\n  animations: [\n    trigger('slideInOut', [\n      state('in', style({\n        height: 'calc(100vh - 17rem)',\n        \n      })),\n      state('out', style({\n        height: 'calc(50vh - 12.5rem)',\n      })),\n      transition('in => out', animate('400ms ease-in-out')),\n      transition('out => in', animate('400ms ease-in-out'))\n    ])\n  ]\n})\nexport class SynsemTabComponent implements OnInit {\n\n  lock = 0;\n  object: any;\n  exp_trig = '';\n  lexicalEntryData : any;\n  isLexicalEntry = false;\n\n  @ViewChild('expander') expander_body: ElementRef;\n\n  constructor(private lexicalService: LexicalEntriesService, private expand: ExpanderService, private rend : Renderer2) { }\n\n  ngOnInit(): void {\n    this.lexicalService.coreData$.subscribe(\n      object => {\n        if(this.object != object){\n          this.lexicalEntryData = null;\n        }\n        this.object = object\n        \n        if(this.object != null){\n          if(this.object.lexicalEntry != undefined && this.object.sense == undefined){\n            this.isLexicalEntry = true;\n            this.lexicalEntryData = object;\n          }else if(this.object.form != undefined){\n            this.isLexicalEntry = false;\n            this.lexicalEntryData = null;\n            this.object = null;\n          }else if(this.object.sense != undefined){\n            this.isLexicalEntry = false;\n            this.lexicalEntryData = null;\n            this.object = null;\n          }\n        }\n      }\n    );\n    \n    this.expand.expEdit$.subscribe(\n      trigger => {\n        if(trigger){\n          let isEditExpanded = this.expand.isEditTabExpanded();\n          let isEpigraphyExpanded = this.expand.isEpigraphyTabExpanded();\n\n          if(!isEpigraphyExpanded){\n            this.exp_trig = 'in';\n            this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(100vh - 17rem)')\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(100vh - 17rem)')\n          }else{\n            this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 12.5rem)');\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)');\n            this.exp_trig = 'in';\n          }\n          \n        }else if(trigger==null){\n          return;\n        }else{\n          this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 12.5rem)');\n          this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)');\n          this.exp_trig = 'out';\n        }\n      }\n    );\n\n    this.expand.expEpigraphy$.subscribe(\n      trigger => {\n        setTimeout(() => {\n          if(trigger){\n            this.exp_trig = 'in';\n            this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 12.5rem)')\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)')\n          }else if(trigger==null){\n            return;\n          }else{\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)');\n            this.exp_trig = 'out';\n          }\n        }, 100);\n        \n      }\n    );\n  }\n\n  changeStatus() {\n    if (this.lock < 2) {\n      this.lock++;\n    } else if (this.lock > 1) {\n      this.lock--;\n    }\n    setTimeout(() => {\n      //@ts-ignore\n      $('.locked-tooltip').tooltip({\n        trigger: 'hover'\n      });\n    }, 10);\n  }\n\n}\n","\n\n<div id=\"cardsAccordion\" class=\"accordion\" [hidden]=\"object == null\">\n    <div class=\"card my-2\">\n        <div class=\"card-header\">\n            <h5 class=\"mb-0 w-100 d-flex justify-content-between align-self-center\">\n                <div>\n                    <span class=\"btn\">\n                        CREATED BY foo ON 11/12/2020 15:15\n                    </span>\n                </div>\n                <div>\n                    <button class=\"btn btn-link\">\n                        <i class=\"fa fa-trash\"></i>\n                    </button>\n                    <button class=\"btn btn-link\" (click)=\"changeStatus()\">\n                        <i class=\"fa fa-circle\" *ngIf=\"lock==0\" style=\"color: red\"></i>\n                        <i class=\"fa fa-circle\" *ngIf=\"lock==1\" style=\"color: yellow\"></i>\n                        <i class=\"fa fa-circle locked-tooltip\" *ngIf=\"lock==2\" data-toggle=\"tooltip\"\n                            data-placement=\"bottom\" data-html=\"true\" title=\"Locked tooltip\" style=\"color:green;\"></i>\n                    </button>\n                </div>\n            </h5>\n        </div>\n        <div #expander [@slideInOut]=\"exp_trig\" class=\"card-body\">\n            <app-lexical-entry-synsem-form [lexData]=\"lexicalEntryData\" *ngIf=\"isLexicalEntry\"></app-lexical-entry-synsem-form>\n        </div>\n        <div class=\"card-footer text-muted\">\n            <div class=\"w-100 d-flex justify-content-between align-items-center\">\n                <div>\n                    <span>LAST UPDATE ON 15/12/2020 14:30 BY foo</span>\n                </div>\n                <div class=\"btn-group dropup dropleft\">\n                    <button class=\"btn btn-success\" type=\"button\" id=\"dropdownAddLemma\" data-toggle=\"dropdown\"\n                        aria-haspopup=\"true\" aria-expanded=\"false\"> <i class=\"fas fa-plus\"></i> </button>\n                    <div class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"dropdownAddLemma\">\n                        <a class=\"dropdown-item\" href=\"#\">Add Form</a>\n                        <a class=\"dropdown-item\" href=\"#\">Add Sense</a>\n                        <a class=\"dropdown-item\" href=\"#\">Add Frame</a>\n                        <a class=\"dropdown-item\" href=\"#\">Add Lexical Concept</a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, ElementRef, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { LexicalEntriesService } from '../../../../../services/lexical-entries/lexical-entries.service';\nimport { ExpanderService } from 'src/app/services/expander/expander.service';\n\nimport {\n  animate,\n  style,\n  transition,\n  trigger,\n  state\n} from \"@angular/animations\";\nimport { ToastrService } from 'ngx-toastr';\n\n\n@Component({\n  selector: 'app-decomposition-tab',\n  templateUrl: './decomposition-tab.component.html',\n  styleUrls: ['./decomposition-tab.component.scss'],\n  animations: [\n    trigger('slideInOut', [\n      state('in', style({\n        height: 'calc(100vh - 17rem)',\n        \n      })),\n      state('out', style({\n        height: 'calc(50vh - 12.5rem)',\n      })),\n      transition('in => out', animate('400ms ease-in-out')),\n      transition('out => in', animate('400ms ease-in-out'))\n    ])\n  ]\n})\nexport class DecompositionTabComponent implements OnInit {\n\n  lock = 0;\n  object: any;\n  exp_trig = '';\n\n  creationDate;\n  lastUpdate;\n\n  isLexicalEntry = false;\n  searchIconSpinner = false;\n\n  decompData : any;\n\n  @ViewChild('expander') expander_body: ElementRef;\n  \n  constructor(private toastr: ToastrService, private lexicalService: LexicalEntriesService, private expand: ExpanderService, private rend: Renderer2) { }\n\n  ngOnInit(): void {\n    this.lexicalService.coreData$.subscribe(\n      object => {\n        this.object = null;\n        if(this.object != object){\n          this.decompData = null;\n        }\n        this.object = object\n        \n        if(this.object != null){\n          if(this.object.lexicalEntry != undefined && this.object.sense == undefined){\n            this.isLexicalEntry = true;\n            this.decompData = object;\n\n            this.creationDate = object['creationDate'];\n            this.lastUpdate = object['lastUpdate']\n          }else if(this.object.form != undefined){\n            this.isLexicalEntry = false;\n            this.decompData = null;\n            this.object = null;\n          }else if(this.object.sense != undefined){\n            this.isLexicalEntry = false;\n            this.decompData = null;\n            this.object = null;\n          }\n        }\n      }\n    );\n\n    this.lexicalService.decompData$.subscribe(\n      object => {\n        this.object = null;\n        if(this.object != object){\n          this.decompData = null;\n        }\n        this.object = object\n        \n        if(this.object != null){\n          if(this.object.lexicalEntry != undefined && this.object.sense == undefined){\n            this.isLexicalEntry = true;\n            this.decompData = object;\n\n            this.creationDate = object['creationDate'];\n            this.lastUpdate = object['lastUpdate']\n          }else if(this.object.form != undefined){\n            this.isLexicalEntry = false;\n            this.decompData = null;\n            this.object = null;\n          }else if(this.object.sense != undefined){\n            this.isLexicalEntry = false;\n            this.decompData = null;\n            this.object = null;\n          }\n        }\n      }\n    );\n\n    /* \n\n    TODO: inserire updater per decomposition e etymology\n    \n    this.lexicalService.updateLexCardReq$.subscribe(\n      data => {\n        console.log(data)\n        if(data != null){\n          this.lastUpdate = data['lastUpdate']\n          if(data['creationDate'] != undefined){\n            this.creationDate = data['creationDate']\n          }\n        }\n      }\n    ) */\n\n    this.expand.expEdit$.subscribe(\n      trigger => {\n        setTimeout(() => {\n          if(trigger){\n            let isEditExpanded = this.expand.isEditTabExpanded();\n            let isEpigraphyExpanded = this.expand.isEpigraphyTabExpanded();\n  \n            if(!isEpigraphyExpanded){\n              this.exp_trig = 'in';\n              this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(100vh - 17rem)')\n              this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(100vh - 17rem)')\n            }else{\n              this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 12.5rem)');\n              this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)');\n              this.exp_trig = 'in';\n            }\n            \n          }else if(trigger==null){\n            return;\n          }else{\n            this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 12.5rem)');\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)');\n            this.exp_trig = 'out';\n          }\n        }, 100);\n        \n      }\n    );\n\n    this.expand.expEpigraphy$.subscribe(\n      trigger => {\n        setTimeout(() => {\n          if(trigger){\n            this.exp_trig = 'in';\n            this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 12.5rem)')\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)')\n          }else if(trigger==null){\n            return;\n          }else{\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)');\n            this.exp_trig = 'out';\n          }\n        }, 100);\n        \n      }\n    );\n  }\n\n  /* changeStatus() {\n    if (this.lock < 2) {\n      this.lock++;\n    } else if (this.lock > 1) {\n      this.lock--;\n    }\n\n    if(this.lock==2){\n      setTimeout(() => {\n        //@ts-ignore\n        $('.locked-tooltip').tooltip({\n          trigger: 'hover'\n        });\n      }, 10);\n    }else if(this.lock < 2){\n      setTimeout(() => {\n        //@ts-ignore\n        $('.locked-tooltip').tooltip('disable');\n      }, 10);\n    }\n    \n  } */\n\n  addNewForm(){\n    this.searchIconSpinner = true;\n    /* console.log(this.object) */\n    this.object['request'] = 'form'\n    if(this.isLexicalEntry){\n      let lexicalId = this.object.lexicalEntryInstanceName;\n      this.lexicalService.createNewForm(lexicalId).subscribe(\n        data=>{\n          this.toastr.success('Form added correctly', '', {\n            timeOut: 5000,\n          });\n          console.log(data);\n          if(data['creator'] == this.object.creator){\n            data['flagAuthor'] = false;\n          }else{\n            data['flagAuthor'] = true;\n          }\n          this.lexicalService.addSubElementRequest({'lex' : this.object, 'data' : data});\n          this.searchIconSpinner = false;\n        },error=> {\n          console.log(error)\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n          this.searchIconSpinner = false;\n        }\n      )\n    }/* else if(this.isForm){\n      let parentNodeInstanceName = this.object.parentNodeInstanceName;\n      //console.log(this.object);\n      this.object['request'] = 'form';\n      this.object['lexicalEntryInstanceName'] = parentNodeInstanceName\n      this.lexicalService.createNewForm(parentNodeInstanceName).subscribe(\n        data=>{\n          if(data['creator'] == this.object.creator){\n            data['flagAuthor'] = false;\n          }else{\n            data['flagAuthor'] = true;\n          }\n          this.lexicalService.addSubElementRequest({'lex' : this.object, 'data' : data});\n          this.searchIconSpinner = false;\n          this.toastr.success('Form added correctly', '', {\n            timeOut: 5000,\n          });\n        },error=> {\n          //console.log(error)\n          this.searchIconSpinner = false;\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n        }\n      )\n    }else if(this.isSense){\n      let parentNodeInstanceName = this.object.parentNodeInstanceName;\n      this.object['request'] = 'form';\n      this.object['lexicalEntryInstanceName'] = parentNodeInstanceName\n      //console.log(this.object);\n      this.lexicalService.createNewForm(parentNodeInstanceName).subscribe(\n        data=>{\n          if(data['creator'] == this.object.creator){\n            data['flagAuthor'] = false;\n          }else{\n            data['flagAuthor'] = true;\n          }\n          this.lexicalService.addSubElementRequest({'lex' : this.object, 'data' : data});\n          this.searchIconSpinner = false;\n          this.toastr.success('Form added correctly', '', {\n            timeOut: 5000,\n          });\n        },error=> {\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n          this.searchIconSpinner = false;\n        }\n      )\n    } */\n    \n  }\n\n  addNewSense(){\n    this.searchIconSpinner = true;\n    this.object['request'] = 'sense'\n    if(this.isLexicalEntry){\n      let lexicalId = this.object.lexicalEntryInstanceName;\n      this.lexicalService.createNewSense(lexicalId).subscribe(\n        data=>{\n          if(data['creator'] == this.object.creator){\n            data['flagAuthor'] = false;\n          }else{\n            data['flagAuthor'] = true;\n          }\n          this.lexicalService.addSubElementRequest({'lex' : this.object, 'data' : data});\n          this.searchIconSpinner = false;\n          this.toastr.success('Sense added correctly', '', {\n            timeOut: 5000,\n          });\n        },error=> {\n          this.searchIconSpinner = false;\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n          \n        }\n      )\n    }/* else if(this.isSense){\n      let parentNodeInstanceName = this.object.parentNodeInstanceName;\n      this.object['lexicalEntryInstanceName'] = parentNodeInstanceName\n      this.object['request'] = 'sense'\n      //console.log(this.object);\n      this.lexicalService.createNewSense(parentNodeInstanceName).subscribe(\n        data=>{\n          if(data['creator'] == this.object.creator){\n            data['flagAuthor'] = false;\n          }else{\n            data['flagAuthor'] = true;\n          }\n          this.lexicalService.addSubElementRequest({'lex' : this.object, 'data' : data});\n          this.searchIconSpinner = false;\n          this.toastr.success('Sense added correctly', '', {\n            timeOut: 5000,\n          });\n        },error=> {\n          this.searchIconSpinner = false;\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n        }\n      )\n    }else if(this.isForm){\n      let parentNodeInstanceName = this.object.parentNodeInstanceName;\n      this.object['lexicalEntryInstanceName'] = parentNodeInstanceName\n      this.object['request'] = 'sense'\n      //console.log(this.object);\n      this.lexicalService.createNewSense(parentNodeInstanceName).subscribe(\n        data=>{\n          if(data['creator'] == this.object.creator){\n            data['flagAuthor'] = false;\n          }else{\n            data['flagAuthor'] = true;\n          }\n          this.lexicalService.addSubElementRequest({'lex' : this.object, 'data' : data});\n          this.searchIconSpinner = false;\n          this.toastr.success('Sense added correctly', '', {\n            timeOut: 5000,\n          });\n          //this.lexicalService.refreshLexEntryTree();\n        },error=> {\n          this.searchIconSpinner = false;\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n          //this.lexicalService.refreshLexEntryTree();\n        }\n      )\n    } */\n\n  }\n\n  addNewEtymology(){\n    this.searchIconSpinner = true;\n    this.object['request'] = 'etymology'\n    let parentNodeInstanceName = '';\n    if(this.object.lexicalEntryInstanceName != undefined\n      && this.object.senseInstanceName == undefined){\n        console.log(1)\n        parentNodeInstanceName = this.object.lexicalEntryInstanceName;\n    }/* else if(this.object.formInstanceName != undefined){\n      parentNodeInstanceName = this.object.parentNodeInstanceName;\n      this.object['lexicalEntryInstanceName'] = parentNodeInstanceName\n      console.log(2)\n    }else if(this.object.senseInstanceName != undefined){\n      parentNodeInstanceName = this.object.parentNodeInstanceName;\n      this.object['lexicalEntryInstanceName'] = parentNodeInstanceName\n      console.log(3)\n    } */\n\n    console.log(parentNodeInstanceName)\n    this.lexicalService.createNewEtymology(parentNodeInstanceName).subscribe(\n      data=>{\n        console.log(data)\n        if(data['creator'] == this.object.creator){\n          data['flagAuthor'] = false;\n        }else{\n          data['flagAuthor'] = true;\n        }\n        this.lexicalService.addSubElementRequest({'lex' : this.object, 'data' : data});\n        this.searchIconSpinner = false;\n        this.toastr.success('Etymology added correctly', '', {\n          timeOut: 5000,\n        });\n      },error=> {\n        this.searchIconSpinner = false;\n      }\n    )\n\n  }\n\n}\n","\n\n<div id=\"cardsAccordion\" class=\"accordion\" [hidden]=\"object == null\">\n    <div class=\"card my-2\">\n        <div class=\"card-header\">\n            <h5 class=\"mb-0 w-100 d-flex justify-content-between align-self-center\">\n                <div>\n                    <span class=\"btn\" *ngIf=\"object != null\">\n                        CREATED BY {{object.creator}} ON {{creationDate | date :'dd/MM/yyyy hh:mm:ss'}}\n                    </span>\n                </div>\n                <div>\n                    <div class=\"spinner-border spinner-border-sm m-1\" role=\"status\" *ngIf=\"searchIconSpinner\">\n                        <span class=\"sr-only\">Loading...</span>\n                    </div>\n                    <!-- <button class=\"btn btn-link\">\n                        <i class=\"fa fa-trash\"></i>\n                    </button> -->\n                    <!-- <button class=\"btn btn-link\" (click)=\"changeStatus()\">\n                        <i class=\"fa fa-circle\" *ngIf=\"lock==0\" style=\"color: red\"></i>\n                        <i class=\"fa fa-circle\" *ngIf=\"lock==1\" style=\"color: yellow\"></i>\n                        <i class=\"fa fa-circle locked-tooltip\" *ngIf=\"lock==2\" data-toggle=\"tooltip\"\n                            data-placement=\"bottom\" data-html=\"true\" title=\"Locked tooltip\" style=\"color:green;\"></i>\n                    </button> -->\n                </div>\n            </h5>\n        </div>\n        <div #expander [@slideInOut]=\"exp_trig\" class=\"card-body\">\n            \n            <app-lexical-entry-decomp-form [decData]=\"decompData\" *ngIf=\"isLexicalEntry\"></app-lexical-entry-decomp-form>\n            \n        </div>\n        <div class=\"card-footer text-muted\">\n            <div class=\"w-100 d-flex justify-content-between align-items-center\">\n                <div *ngIf=\"object != null\">\n                    <span>LAST UPDATE ON {{lastUpdate | date :'dd/MM/yyyy hh:mm:ss'}} BY {{object.revisor}}</span>\n                </div>\n                <div class=\"btn-group dropup dropleft\">\n                    <button class=\"btn btn-success\" type=\"button\" id=\"dropdownAddLemma\" data-toggle=\"dropdown\"\n                        aria-haspopup=\"true\" aria-expanded=\"false\"> <i class=\"fas fa-plus\"></i> </button>\n                    <div class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"dropdownAddLemma\">\n                        <button class=\"dropdown-item\" title=\"add new form\" (click)=\"addNewForm()\">Add Form</button>\n                        <button class=\"dropdown-item\" title=\"add new sense\" (click)=\"addNewSense()\">Add Sense</button>\n                        <button class=\"dropdown-item\" title=\"add new etymology\" (click)=\"addNewEtymology()\">Add Etymology</button>\n                        <!-- <button class=\"dropdown-item\" title=\"add new bibliography item\" (click)=\"showBiblioModal()\" disabled>Add Bibliography</button> -->\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-home-page',\n  templateUrl: './home-page.component.html',\n  styleUrls: ['./home-page.component.scss']\n})\nexport class HomePageComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","\n\n<div class=\"cover-container d-flex w-100 p-3 mx-auto flex-column text-center\">\n\n    <div class=\"starter-template\">\n        <h3>Institute for Computational Linguistics (ILC)</h3>\n        <p class=\"lead\">\"A. Zampolli CNR - Pisa, Italy\"<br> <a href=\"http://www.ilc.cnr.it\" target=\"_blank\">www.ilc.cnr.it</a></p>\n        <img class=\"logo\" src=\"../../../assets/images/LexOIcon.png\" width=\"100\"/>\n        <h5 class=\"title\">epilexo v1.0</h5>\n        \n    </div>\n    <footer class=\"mastfoot\">\n        <div class=\"inner\">\n          <p>Institute for Computational Linguistics \"A. Zampolli\", Pisa <br/> <a href=\"https://www.ilc.cnr.it.com/\">http://ilc.cnr.it</a></p>\n        </div>\n    </footer>\n</div>\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { KeycloakService } from 'keycloak-angular';\nimport { KeycloakProfile, KeycloakTokenParsed } from 'keycloak-js';\nimport { from, Observable } from 'rxjs';\nimport { environment } from 'src/environments/environment';\n\n@Injectable()\nexport class AuthService {\n\n  private baseUrl = environment.keycloak.issuer;\n  private realmId = environment.keycloak.realm;\n  private clientId = environment.keycloak.clientId;\n  \n\n\n  constructor(private keycloakService: KeycloakService, private http: HttpClient) {}\n\n  public getLoggedUser(): KeycloakTokenParsed | undefined {\n    try {\n      const userDetails: KeycloakTokenParsed | undefined = this.keycloakService.getKeycloakInstance()\n        .idTokenParsed;\n      return userDetails;\n    } catch (e) {\n      console.error(\"Exception\", e);\n      return undefined;\n    }\n  }\n\n  public isLoggedIn() : Promise<boolean> {\n    return this.keycloakService.isLoggedIn();\n  }\n\n  public loadUserProfile() : Promise<KeycloakProfile> {\n    return this.keycloakService.loadUserProfile();\n  }\n\n  public login() : void {\n    this.keycloakService.login();\n  }\n\n  public logout() : void {\n  \n    this.keycloakService.logout();\n  }\n\n  public redirectToProfile(): void {\n    this.keycloakService.getKeycloakInstance().accountManagement();\n  }\n\n  public getUsername(): any {\n    if(this.getLoggedUser() != undefined){\n      return this.getLoggedUser()['preferred_username'];\n    }else{\n      window.location.reload();\n      return null;\n    }\n    \n  }\n\n  public getCurrentUserRole(): string[] {\n    return this.keycloakService.getKeycloakInstance().realmAccess.roles;\n  }\n\n  public searchUser(search?): any {\n    let string = this.baseUrl + 'admin/realms/' + this.realmId + '/users';\n    if(search != undefined){\n      string += '?search='+search;\n    }\n    return this.http.get(string);\n  }\n\n  public getUserByUsername(username?): any {\n    let string = this.baseUrl + 'admin/realms/' + this.realmId + '/users';\n    if(username != undefined){\n      string += '?username='+username;\n    }\n    return this.http.get(string);\n  }\n\n\n  public getUserRoles(userId: string, clientId: string): any {\n    //let string = this.baseUrl + 'admin/realms/' + this.realmId + '/users/' + id + '/role-mappings/realm';\n    let string = this.baseUrl + 'admin/realms/' + this.realmId + '/users/'+ userId +'/role-mappings/clients/' + clientId;\n    return this.http.get(string)\n  }\n\n  public getAllClientsRoles(id: string): any {\n    let string = this.baseUrl + 'admin/realms/' + this.realmId  + '/clients/' + id + '/roles/';\n    return this.http.get(string)\n  }\n\n\n  public getClientsInfo(): any {\n    let string = this.baseUrl + 'admin/realms/' + this.realmId + '/clients/';\n    return this.http.get(string)\n  }\n\n  public getUserInfo(id): any {\n    let string = this.baseUrl + 'admin/realms/' + this.realmId + '/users/' + id;\n    return this.http.get(string);\n  }\n\n  public getUsersByRole(id, role_name){\n    \n    let string = this.baseUrl + 'admin/realms/' + this.realmId + '/clients/' + id + '/roles/' + role_name +'/users';\n    return this.http.get(string);\n  }\n\n  public createUser(parameters) {\n    let string = this.baseUrl +'admin/realms/' + this.realmId + '/users/';\n    return this.http.post(string, parameters)\n  }\n\n  public deleteUser(idUser : string) {\n    let string = this.baseUrl +'admin/realms/' + this.realmId + '/users/' + idUser;\n    return this.http.delete(string)\n  }\n\n  public updateUser(idUser : string, body) {\n    let string = this.baseUrl +'admin/realms/' + this.realmId + '/users/' + idUser;\n    return this.http.put(string, body)\n  }\n\n  public assignRolesToUser(userId, clientId, parameters) {\n    let string = this.baseUrl +'admin/realms/' + this.realmId + '/users/' + userId + '/role-mappings/clients/' + clientId ;\n    return this.http.post(string, parameters)\n  }\n\n  public deleteRolesToUser(userId, clientId, parameters) {\n    let options = { headers: new HttpHeaders().set('Content-Type', 'application/json'), body: parameters };\n    let string = this.baseUrl +'admin/realms/' + this.realmId + '/users/' + userId + '/role-mappings/clients/' + clientId ;\n    return this.http.delete(string, options)\n  }\n}","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  keycloak: {\n    // Url of the Identity Provider\n    issuer: 'https://lari2.ilc.cnr.it/auth/',\n\n    // Realm\n    realm: 'princnr',\n\n    // The SPA's id. \n    // The SPA is registerd with this id at the auth-server\n    clientId: 'princlient',\n  }\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { FormGroup, FormControl, FormBuilder } from '@angular/forms';\nimport { IActionMapping, TREE_ACTIONS, KEYS, ITreeState, ITreeOptions, TreeModel } from '@circlon/angular-tree-component';\nimport { debounceTime } from 'rxjs/operators';\nimport { ConceptService } from 'src/app/services/concept/concept.service';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\nimport { v4 } from 'uuid';\n\nconst actionMapping: IActionMapping = {\n  mouse: {\n    /* dblClick: (tree, node, $event) => {\n      if (node.hasChildren) {\n        TREE_ACTIONS.TOGGLE_EXPANDED(tree, node, $event);\n      }\n    }, */\n    click: (tree, node, $event) => {\n      $event.shiftKey\n        ? TREE_ACTIONS.TOGGLE_ACTIVE_MULTI(tree, node, $event)\n        : TREE_ACTIONS.TOGGLE_ACTIVE(tree, node, $event);\n\n      if (node.data.rename_mode) {\n        $event.preventDefault();\n      }/* else{\n        TREE_ACTIONS.TOGGLE_ACTIVE(tree, node, $event);\n      } */\n    },\n    expanderClick: (tree, node, $event) => {\n      if (node.data.rename_mode) {\n        $event.preventDefault();\n      } else {\n        //console.log(node);\n        TREE_ACTIONS.TOGGLE_EXPANDED(tree, node, $event);\n      }\n    }\n    /* contextMenu: (tree, node, $event) => {\n      //$event.preventDefault();\n      //alert(`context menu for ${node.data.name}`);\n      TREE_ACTIONS.TOGGLE_ACTIVE(tree, node, $event);\n    } */\n  },\n  keys: {\n    [KEYS.ENTER]: (tree, node, $event) => alert(`This is ${node.data.name}`)\n  }\n};\n\n@Component({\n  selector: 'app-skos-tree',\n  templateUrl: './skos-tree.component.html',\n  styleUrls: ['./skos-tree.component.scss']\n})\nexport class SkosTreeComponent implements OnInit {\n\n  state!: ITreeState;\n  @ViewChild('skosConcept') skosConcept: any;\n  selectedNodeId;\n\n  options: ITreeOptions = {\n    actionMapping,\n    allowDrag: (node) => node.isLeaf,\n    allowDrop: (element, { parent, index }) => {\n      // return true / false based on element, to.parent, to.index. e.g.\n      //console.log(element, parent, index, parent.data.type == 'folder')\n      return parent.data.type == 'directory';\n    },\n    getNodeClone: (node) => ({\n      ...node.data,\n      id: v4(),\n      name: `copy of ${node.data.name}`\n    })\n  };\n\n\n  searchIconSpinner = false;\n  initialValues\n  skosFilterForm = new FormGroup({\n    search_text: new FormControl(null),\n    search_mode: new FormControl(null)\n  })\n\n  counter = 0;\n  nodes = [];\n  show = false;\n  offset: number;\n  modalShow: boolean;\n  limit: any;\n\n  constructor(private element: ElementRef,\n    private formBuilder: FormBuilder,\n    private lexicalService: LexicalEntriesService,\n    private conceptService: ConceptService\n  ) { }\n\n  ngOnInit(): void {\n    this.loadTree();\n    this.skosFilterForm = this.formBuilder.group({\n      search_text : new FormControl(null),\n      search_mode : new FormControl('starts')\n    })\n    this.onChanges();\n    this.initialValues = this.skosFilterForm.value\n  }\n\n\n  onChanges() {\n    this.skosFilterForm.valueChanges.pipe(debounceTime(500)).subscribe(searchParams => {\n      console.log(searchParams)\n      this.searchFilter(searchParams)\n    })\n  }\n\n  onEvent = ($event: any) => {\n    console.log($event);\n\n    if ($event.eventName == 'activate' && $event.node.data.type != 'directory' && this.selectedNodeId != $event.node.data['element-id']) {\n      this.selectedNodeId = $event.node.data['element-id'];\n      /* //@ts-ignore\n      $(\"#epigraphyTabModal\").modal(\"show\");\n      $('.modal-backdrop').appendTo('.epigraphy-tab-body');\n      //@ts-ignore\n      $('#epigraphyTabModal').modal({backdrop: 'static', keyboard: false})  \n      $('body').removeClass(\"modal-open\")\n      $('body').css(\"padding-right\", \"\"); */\n\n    }\n  }\n\n  \n\n  onMoveNode($event) {\n    console.log($event);\n    let node_type = $event.node.type;\n    let target_type = $event.to.parent.type;\n    this.moveNode($event);\n    \n  }\n\n  moveNode(evt){\n    if(evt != undefined){\n      //console.log(evt);\n      let element_id = evt.node['element-id'];\n      let target_id = evt.to.parent['element-id'];\n      let parameters = {\n        \"requestUUID\": \"string\",\n        \"user-id\": 0,\n        \"element-id\": element_id,\n        \"target-id\": target_id\n      }\n            \n      \n      /* this.documentService.moveFolder(parameters).subscribe(\n        data=>{\n          this.toastr.info('Folder '+ evt.node['name'] +' moved', '', {\n            timeOut: 5000,\n          });\n          //console.log(data);\n        },error=>{\n          console.log(error)\n        }\n      ) */\n    }\n  }\n\n  loadTree(){\n    \n\n  }\n\n  onScrollDown(treeModel: TreeModel) {\n\n    this.offset += 500;\n    this.modalShow = true;\n\n    //@ts-ignore\n    $(\"#lazyLoadingModal\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.tree-view');\n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n\n    let parameters = this.skosFilterForm.value;\n    parameters['offset'] = this.offset;\n    parameters['limit'] = this.limit;\n\n    this.lexicalService.getLexicalEntriesList(parameters).pipe(debounceTime(200)).subscribe(\n      data => {\n        //@ts-ignore\n        $('#lazyLoadingModal').modal('hide');\n        $('.modal-backdrop').remove();\n        for (var i = 0; i < data['list'].length; i++) {\n          this.nodes.push(data['list'][i]);\n        };\n        //this.counter = this.nodes.length;\n        this.skosConcept.treeModel.update();\n        this.updateTreeView();\n        this.modalShow = false;\n\n        setTimeout(() => {\n          //@ts-ignore\n          $('#lazyLoadingModal').modal('hide');\n          $('.modal-backdrop').remove();\n        }, 300);\n      },\n      error => {\n\n      }\n    )\n  }\n\n  updateTreeView() {\n    setTimeout(() => {\n      //@ts-ignore\n      $('.input-tooltip').tooltip({\n          trigger: 'hover'\n      });\n    }, 300);\n    \n    setTimeout(() => {\n      this.skosConcept.sizeChanged();\n      //@ts-ignore\n      $('.lexical-tooltip').tooltip();\n    }, 1000);\n  }\n\n  resetFields(){\n    this.skosFilterForm.reset(this.initialValues, {emitEvent : false});\n    setTimeout(() => {\n      this.loadTree();\n      this.skosConcept.treeModel.update();\n      this.updateTreeView();\n      \n    }, 500);  \n  }\n\n\n  searchFilter(newPar) {\n    \n    setTimeout(() => {\n      const viewPort_prova = this.element.nativeElement.querySelector('tree-viewport') as HTMLElement;\n      viewPort_prova.scrollTop = 0\n    }, 300);\n\n    let search_text = newPar.search_text != null ? newPar.search_text : '';\n    this.searchIconSpinner = true;\n    let parameters = {\n      \"requestUUID\" : \"string\",\n      \"contains\" : newPar.search_mode == 'contains' ? true : false,\n      \"metadata\" : {},\n      \"search-text\": search_text,\n      \"start-with\" : newPar.search_mode == 'start' ? true : false,\n      \"user-id\": 0,\n      \"exact-date\": newPar.date_mode == 'exact' ? true : false,\n      \"from-date\":  newPar.date_mode == 'from' ? true : false,\n      \"util-date\":  newPar.date_mode == 'until' ? true : false\n    };\n    \n    console.log(parameters)\n    this.searchIconSpinner = false;\n    \n    /* this.documentService.searchFiles(newPar).subscribe(\n      data => {\n        if(data['files'].length > 0){\n          this.show = false;\n        }else {\n          this.show = true;\n        }\n        this.nodes = data['files'];\n        this.counter = data['results'];\n        this.treeText.treeModel.update();\n        this.updateTreeView();\n        this.searchIconSpinner = false;\n        \n      },\n      error => {\n        console.log(error)\n        this.searchIconSpinner = false;\n\n        this.toastr.error('Error on search text', 'Error', {\n          timeOut : 5000\n        })\n      }\n    ) */\n  }\n\n}\n","<form [formGroup]=\"skosFilterForm\">\n    <div class=\"input-group col-md-12 mt-2 px-1\">\n      <input formControlName=\"search_text\" id=\"filterConcept\" name=\"search_text\" type=\"text\" class=\"form-control\"\n        placeholder=\"Search\" />\n      <div class=\"input-group-append\">\n        <span class=\"input-group-text loading_icon_append border-left-0\" id=\"basic-addon2\">\n          <div class=\"spinner-border spinner-border-sm m-1\" role=\"status\" *ngIf=\"searchIconSpinner\">\n            <span class=\"sr-only\">Loading...</span>\n          </div>\n        </span>\n      </div>\n      <div id=\"buttons-container\" class=\"input-group-append\">\n        <!-- <button class=\"btn btn-info btn-block filter-button\" type=\"button\" data-toggle=\"popover\" data-placement=\"bottom\"\n          data-trigger=\"hover\"><i class=\"fa fa-question\"></i></button> -->\n        <button class=\"btn btn-sm btn-secondary btn-block filter-button\" type=\"button\" value=\"Filter\" title=\"Filter\"\n          data-toggle=\"collapse\" data-target=\"#conceptFilterCollapse\" aria-expanded=\"false\"\n          aria-controls=\"conceptFilterCollapse\"><i class=\"fa fa-filter\"></i></button>\n        <button class=\"btn btn-sm btn-danger btn-block reset-button\" type=\"button\" value=\"Reset\" title=\"Reset\"\n          (click)=\"resetFields();\" style=\"border-top-right-radius: .25rem; border-bottom-right-radius: .25rem;\"><i\n            class=\"fa fa-times\"></i></button>\n        <button class=\"btn btn-sm btn-block counter-button\" type=\"button\"><span\n            class=\"font-weight-bold font-italic text-muted\">{{counter}}</span></button>\n      </div>\n    </div>\n  \n    <div class=\"d-flex flex-wrap mt-3\">\n  \n      <div class=\"col-md-6 col-sm-6\">\n        <div class=\"form-check\">\n          <input formControlName=\"search_mode\" class=\"form-check-input\" type=\"radio\" name=\"search_mode\" id=\"startsRadio\"\n            value=\"starts\">\n          <label class=\"form-check-label\" for=\"startsRadio\">\n            Starts\n          </label>\n        </div>\n      </div>\n      <div class=\"col-md-6 col-sm-6\">\n        <div class=\"form-check\">\n          <input formControlName=\"search_mode\" class=\"form-check-input\" type=\"radio\" name=\"search_mode\" id=\"containsRadio\"\n            value=\"contains\">\n          <label class=\"form-check-label\" for=\"containsRadio\">\n            Contains\n          </label>\n        </div>\n      </div>\n  \n    </div>\n  \n  </form>\n  \n  <div class=\"d-flex flex-wrap mt-3 col-md-12\">\n    <div class=\"input-group justify-content-end\">\n      <div class=\"input-group-append\">\n        <button class=\"btn btn-light btn-block filter-button\" title=\"Add new child for selected node\"><i\n            class=\"fas fa-plus 2x\"></i></button>\n        <button class=\"btn btn-light btn-block reset-button\" type=\"button\" value=\"Reset\"\n          title=\"Add new sibling for selected node\"\n          style=\"border-top-right-radius: .25rem; border-bottom-right-radius: .25rem;\"><i\n            class=\"fas fa-user-plus 2x\"></i></button>\n        <button class=\"btn btn-light btn-block reset-button\" type=\"button\" value=\"Reset\" title=\"Delete selected node\"\n          style=\"border-top-right-radius: .25rem; border-bottom-right-radius: .25rem;\"><i\n            class=\"fas fa-times-circle 2x\"></i></button>\n  \n      </div>\n    </div>\n  </div>\n  \n  \n  <div class=\"col-md-12 mt-3 rounded border border-secondary tree-view\" infiniteScroll [infiniteScrollDistance]=\"0.4\"\n    [infiniteScrollThrottle]=\"150\" [infiniteScrollContainer]=\"'.search-results'\" [fromRoot]=\"true\"\n    (scrolled)=\"onScrollDown(skosConcept.treeModel)\">\n    <p *ngIf=\"show\">Nessun risultato</p>\n  \n    <tree-root #skosConcept [nodes]=\"nodes\" [(state)]=\"state\" [options]=\"options\" [focused]=\"true\"\n      (activate)=\"onEvent($event)\" (moveNode)=\"onMoveNode($event)\" [focused]=\"true\" (activate)=\"onEvent($event)\"\n      (deactivate)=\"onEvent($event)\" class=\"lexicalConceptTree\">\n  \n      <div id=\"lazyLoadingModal\" class=\"modal fade\" role=\"dialog\">\n        <div class=\"modal-dialog\">\n  \n          <!-- Modal content-->\n          <div class=\"modal-content\">\n            <div class=\"modal-body\">\n              <div class=\"d-flex justify-content-center\">\n                <div class=\"spinner-border\" role=\"status\">\n                  <span class=\"sr-only\">Loading...</span>\n                </div>\n              </div>\n            </div>\n          </div>\n  \n        </div>\n      </div>\n      <p class=\"mx-3\" *ngIf=\"show\">Nessun risultato</p>\n      <ng-template #treeNodeWrapperTemplate let-node let-index=\"index\">\n        <div class=\"node-wrapper\" style=\"justify-content: space-between; padding: 0px 15px;\">\n          <!-- [style.padding-left]=\"node.getNodePadding()\" -->\n          <div>\n            <tree-node-expander [node]=\"node\" *ngIf=\"node.data.hasChildren == true\"></tree-node-expander>\n            <div class=\"node-content-wrapper\" [class.node-content-wrapper-active]=\"node.isActive\"\n              [class.node-content-wrapper-focused]=\"node.isFocused\" (click)=\"node.mouseAction('click', $event)\"\n              (dblclick)=\"node.mouseAction('dblClick', $event)\" [contextMenu]=\"basicMenu\"\n              [contextMenuSubject]=\"node.data\">\n  \n              <span\n                *ngIf=\"node.data.count == undefined && labelView && node.data.componentInstanceName == undefined && node.data.definition == undefined && node.data.type!='canonicalForm' && node.data.sense == undefined\">{{\n                node.data.label }}</span>\n              <span\n                *ngIf=\"node.data.count == undefined && idView && node.data.definition == undefined && node.data.type!='canonicalForm' && node.data.sense == undefined && node.data.etymologyInstanceName == undefined\">{{\n                node.data.lexicalEntryInstanceName }}</span>\n  \n              <span\n                *ngIf=\"node.data.count == undefined && labelView && node.data.definition == undefined && node.data.type=='canonicalForm' && node.data.sense == undefined\"><b>{{\n                  node.data.label }}</b></span>\n            \n  \n             \n              <span class=\"lexical-tooltip\"\n                *ngIf=\"node.data.count == undefined && labelView && node.data.definition != undefined && node.data.label != undefined\"\n                data-toggle=\"tooltip\" data-html=\"true\" [title]=\"node.data.definition\">{{node.data.label.length >\n                10 ? (node.data.label | slice:0:10) +'...' : node.data.label}}</span>\n              <span class=\"lexical-tooltip\"\n                *ngIf=\"node.data.count == undefined && idView && node.data.definition != undefined && node.data.label != undefined\"\n                data-toggle=\"tooltip\" data-html=\"true\" [title]=\"node.data.definition\">{{ node.data.instanceName\n                }}</span>\n  \n              <span *ngIf=\"node.data.count != undefined\"><i><span\n                    style=\"color: #6e6e6e\">{{node.data.label}}</span></i>&nbsp;({{ node.data.count\n                }})</span>\n             <!--  <span *ngIf=\"node.data.writtenRep != ''\">{{ node.data.writtenRep }}</span>\n              <sub *ngIf=\"labelView && node.data.sense == undefined\">{{node.data.pos}}</sub>\n              <span *ngIf=\"node.data.language != null && labelView\" class=\"lang\">@{{node.data.language}}</span> -->\n            \n            </div>         \n          </div>\n  \n        </div>\n      </ng-template>\n    </tree-root>\n  </div>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { HttpClient } from '@angular/common/http';\nimport { Component, OnInit, AfterViewInit, ViewChild, OnChanges, SimpleChanges, ElementRef, Input } from '@angular/core';\nimport { AbstractControl, FormArray, FormBuilder, FormControl, FormGroup, ValidationErrors, ValidatorFn, Validators } from '@angular/forms';\nimport { NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\nimport { KeycloakService } from 'keycloak-angular';\nimport { Subject } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport { AuthService } from 'src/app/services/auth/auth.service';\nimport { ConfirmedValidator } from './validator/password-match';\n\n@Component({\n  selector: 'app-profiles-table',\n  templateUrl: './profiles-table.component.html',\n  styleUrls: ['./profiles-table.component.scss']\n})\nexport class ProfilesTableComponent implements OnInit, OnChanges {\n\n  message = '';\n  users = [];\n  private idClient;\n  private selected_idUser;\n  private modalRef : NgbModalRef;\n  private temporaryId : string;\n  public isPopulated = false;\n  public creationRequest = false;\n  public itsMe = null;\n\n  private initialValue : any;\n  \n\n  selectedRoles = [];\n  filterSelectedRoles = [];\n  roles: any[] = [];\n  //rolesNames = ['ADMIN', 'USER', 'REVIEWER'];\n\n  @ViewChild('user_list') user_list:ElementRef; \n  @ViewChild('button_create') button_create:ElementRef; \n  @Input() isNotTheSameId : boolean;\n\n\n  userDetailForm = new FormGroup({\n    id: new FormControl(null),\n    username: new FormControl(null, Validators.required),\n    email: new FormControl(null, Validators.required),\n    password: new FormControl(null),\n    repeat_password: new FormControl(null),\n    roles: new FormArray([]),\n    enabled: new FormControl(null, Validators.required)\n  })\n\n  private search_subject: Subject<any> = new Subject();\n  roles_array: FormArray;\n\n  constructor(private httpClient: HttpClient, private auth: AuthService, private formBuilder: FormBuilder, private modalService: NgbModal, private keycloakService : KeycloakService) { }\n\n\n  ngOnInit(): void {\n\n    //this.keycloakService.isTokenExpired();\n    //this.keycloakService.updateToken(15);\n    this.userDetailForm = this.formBuilder.group({\n      id : new FormControl(null),\n      username : new FormControl(null, [Validators.required, Validators.minLength(3)]),\n      email : new FormControl(null, [Validators.required, Validators.minLength(3), Validators.pattern('^[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$')]),\n      password : new FormControl(null, [Validators.required, Validators.minLength(8)]),\n      repeat_password : new FormControl(null, [Validators.required]),\n      roles : [],\n      enabled : new FormControl(false, [Validators.required]),\n    }, {validator : ConfirmedValidator('password', 'repeat_password')});\n\n    this.auth.getClientsInfo().subscribe(\n      data => {\n        if (data != undefined && Array.isArray(data)) {\n          /* this.idClient = data[0].id; */\n          data.forEach(element => {\n            if(element.clientId == 'princlient'){\n              this.idClient = element.id;\n            }\n          })\n        }\n      },\n      error => { console.log(error) }\n    )\n\n    \n    var checkIdTimer = setInterval((val)=>{                 \n      try{\n          if(this.idClient !=undefined){\n\n            this.auth.getAllClientsRoles(this.idClient).subscribe(\n              data => {\n                let array = [];\n                data.forEach((element, i) => {\n                  if (element.name.toUpperCase() == element.name) {\n                    array.push({name: element.name, id: element.id});\n                  };\n                });\n                console.log(array)\n                array.forEach((c, i) => {\n                  this.roles.push({ id: i, name: c.name, role_id: c.id });\n                });\n        \n        \n                this.getUsersByRole(array);\n        \n                // this.selectedRoles = ['ADMIN', 'USER']\n              },\n              error => { console.log(error) }\n            )\n            \n            clearInterval(checkIdTimer)\n          }else{\n            clearInterval(checkIdTimer)\n          }\n          \n      }catch(e){\n          console.log(e)\n      }    \n    }, 500)\n\n    \n    \n    \n\n    /* this.rolesNames.forEach((c, i) => {\n      this.roles.push({ id: i, name: c });\n    }); */\n\n    this.auth.searchUser().subscribe(\n      data => {\n        //this.users = data;\n        if(data!= undefined){\n          Array.from(data).forEach((usr:any) => {\n            if(usr.username != undefined){\n              if(usr.username != 'prinadmin'){\n                this.users.push(usr);\n              }\n            }\n          })\n        }\n      }, error => {\n        console.log(error)\n      }\n    )\n\n\n    this.search_subject.pipe(debounceTime(1000)).subscribe(\n      data => {\n        this.searchUsers(data);\n      }\n    )\n\n\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    console.log(changes)\n  }\n\n  public getUsersByRole(roles_array) {\n    \n    roles_array.forEach(element => {\n      \n      \n      this.auth.getUsersByRole(this.idClient, element.name).subscribe(\n        (data : any[])=>{\n          //console.log(element, data);\n\n          data.forEach(usr => {\n            this.users.filter(obj => {\n              if(obj.id == usr.id){\n                obj[element.name] = true;\n                obj['haveRoles'] = true;\n              }\n            })\n          })\n          \n        }, error => {\n          console.log(error)\n        }\n      )\n    });\n    \n  }\n\n  searchUsers(data?) {\n    // console.log(data)\n    this.auth.searchUser(data).subscribe(\n      data => {\n        //console.log(data);\n        this.users = data;\n\n        let array = [];\n        \n        this.roles.forEach(\n          element => { array.push(element.name)}\n        )\n        this.getUsersByRole(array)\n      }, error => {\n        console.log(error)\n      }\n    )\n  }\n\n  triggerSearch(event?) {\n    if (event != undefined) {\n      let value = event.target.value;\n      this.search_subject.next(value);\n    }\n  }\n\n  userDetail(id) {\n    if(id != undefined){\n      this.selected_idUser = id;\n\n      this.button_create.nativeElement.classList.remove('active');\n\n      this.auth.getUserInfo(id).subscribe(\n        responseUserInfo=>{\n          //console.log(responseUserInfo);\n\n          this.auth.getUserRoles(this.selected_idUser, this.idClient).subscribe(\n            responseUserRoles => {\n              //console.log(responseUserRoles)\n\n              if(responseUserRoles != undefined && Array.isArray(responseUserRoles)){\n                let filter = responseUserRoles.filter(element=> element.name.toUpperCase() === element.name);\n\n                const extractRoleName = (obj) => {\n                  return obj.name;\n                }\n\n                let id = responseUserInfo.id;\n                let username = responseUserInfo.username;\n                let roles = filter.map(extractRoleName);\n                let enabled = responseUserInfo.enabled;\n                let email = responseUserInfo.email;\n                console.log(\"RUOLI\", roles);\n                this.populateForm(id, username, email, roles, enabled)\n              }\n            }, errorUserRoles => {\n              console.log(errorUserRoles)\n            }\n          )\n        }, error=>{\n          console.log(error)\n        }\n      )\n    }\n  }\n\n  populateForm(id, username, email, roles, enabled){\n    \n\n    this.userDetailForm = this.formBuilder.group({\n      id : new FormControl(id),\n      username : new FormControl(username, [Validators.required, Validators.minLength(3)]),\n      email : new FormControl(email, [Validators.required, Validators.minLength(3), Validators.pattern('^[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$')]),\n      password : new FormControl(null),\n      repeat_password : new FormControl(null),\n      roles : [],\n      enabled : new FormControl(enabled, [Validators.required]),\n    }, {validator : ConfirmedValidator('password', 'repeat_password')});\n\n    \n    \n\n\n    this.selectedRoles = roles;\n    this.creationRequest = false;\n    this.isPopulated = true;\n\n    setTimeout(() => {\n      this.initialValue = this.userDetailForm.value;\n    }, 500);\n\n\n    this.itsMe = this.auth.getLoggedUser().sub == this.selected_idUser;\n\n    \n  }\n\n  markAsTouched(){\n    this.userDetailForm.markAsTouched();\n  }\n\n  updateUser(){\n    if(this.userDetailForm.valid && !(JSON.stringify(this.initialValue) == JSON.stringify(this.userDetailForm.value))){\n      let parameters = {\n        enabled: this.userDetailForm.get('enabled').value,\n        email: this.userDetailForm.get('email').value,\n        username: this.userDetailForm.get('username').value,\n      }\n      console.log(parameters);\n\n      this.auth.updateUser(this.selected_idUser, parameters).subscribe(\n        data=>{\n          console.log(data);\n\n          if(JSON.stringify(this.initialValue.roles) != JSON.stringify(this.userDetailForm.get('roles').value)){\n\n            /* if(this.selectedRoles.length == 0){\n              let object = [];\n              let obj = {};\n              this.roles.forEach(roles=>{\n                obj = {\n                  id : roles.role_id,\n                  name: roles.name\n                }\n                object.push(obj);\n\n                console.log(object)\n                this.auth.deleteRolesToUser(this.selected_idUser, this.idClient, object).subscribe(\n                  data=>{\n                    console.log(data);\n                    this.users.forEach(element => {\n                      if(element.id == this.selected_idUser){\n                        element[obj['name']] = false;\n                        element['haveRoles'] = false;\n                      }\n                    });\n\n                    this.userDetail(this.selected_idUser);\n                  },\n                  error=>{console.log(error)}\n                );\n\n                object = [];\n              })\n\n\n              \n            }else{\n\n              \n\n            } */\n\n\n            let initialRoles = this.initialValue.roles;\n            let updatedRoles = this.userDetailForm.get('roles').value;\n\n            let difference = updatedRoles.filter(x => !initialRoles.includes(x));\n            let removeDiff = initialRoles.filter(x => !updatedRoles.includes(x));\n\n            console.log(difference, removeDiff);\n\n            if(difference.length != 0){\n              difference.forEach(element=>{\n\n                let object = [];\n                let obj = {};\n                this.roles.forEach(roles=>{\n                  if(element == roles.name){\n                    obj = {\n                      id : roles.role_id,\n                      name: roles.name\n                    }\n\n                    object.push(obj);\n                    console.log(object)\n                    this.auth.assignRolesToUser(this.selected_idUser, this.idClient, object).subscribe(\n                      data=>{\n                        console.log(data);\n                        this.users.forEach(element => {\n                          if(element.id == this.selected_idUser){\n                            element[obj['name']] = true;\n                            element['haveRoles'] = true;\n                          }\n                        });\n                        this.userDetail(this.selected_idUser);\n                      },\n                      error=>{console.log(error)}\n                    )\n\n                    object = [];\n                    \n                  }\n                })\n\n                \n\n                \n              });\n            }else if(removeDiff.length != 0){\n              removeDiff.forEach(element => {\n                let object = [];\n                let obj = {};\n                this.roles.forEach(roles=>{\n                  if(element == roles.name){\n                    obj = {\n                      id : roles.role_id,\n                      name: roles.name\n                    }\n                    object.push(obj);\n  \n                    console.log(object)\n                    this.auth.deleteRolesToUser(this.selected_idUser, this.idClient, object).subscribe(\n                      data=>{\n                        console.log(data);\n                        this.users.forEach(element => {\n                          if(element.id == this.selected_idUser){\n                            element[obj['name']] = false;\n                            element['haveRoles'] = false;\n                          }\n                        });\n\n                        this.userDetail(this.selected_idUser);\n                      },\n                      error=>{console.log(error)}\n                    );\n    \n                    object = [];\n                  }\n                  \n                  \n                })\n              });\n              \n            }\n          }\n        },\n        error=>{\n          console.log(error)\n        }\n      )\n    }else{\n      alert(\"No update. There are same info\")\n    }\n\n  }\n\n  \n  registerUser() {\n    console.log(this.userDetailForm)\n    if(this.userDetailForm.valid){\n      let parameters = {\n        /* id: this.temporaryId, */\n        enabled: this.userDetailForm.get('enabled').value,\n        email: this.userDetailForm.get('email').value,\n        username: this.userDetailForm.get('username').value,\n        credentials: [\n          {\n            type: \"password\",\n            value: this.userDetailForm.get('password').value,\n            temporary: false\n          }\n        ]\n      }\n\n      console.log(parameters);\n\n      this.auth.createUser(parameters).subscribe(\n        data=>{\n          console.log(data);\n\n          this.auth.getUserByUsername(this.userDetailForm.get('username').value).subscribe(\n            data=>{\n              console.log(data);\n              if(data != undefined){\n              \n                this.cleanActiveLinks();\n                data.forEach(newUser => {\n\n                  if(this.selectedRoles.length > 0){\n\n    \n                    this.selectedRoles.forEach(element=>{\n\n                      let object = [];\n                      let obj = {};\n                      this.roles.forEach(roles=>{\n                        if(element == roles.name){\n                          obj = {\n                            id : roles.role_id,\n                            name: roles.name\n                          }\n\n                          object.push(obj);\n                        }\n                      })\n\n                      \n\n                      console.log(object)\n                      this.auth.assignRolesToUser(newUser.id, this.idClient, object).subscribe(\n                        data=>{\n                          console.log(data);\n                          this.users.forEach(element => {\n                            if(element.id == newUser.id){\n                              element[obj['name']] = true;\n                              element['haveRoles'] = true;\n                            }\n                          });\n                        },\n                        error=>{console.log(error)}\n                      )\n                    });\n\n                    \n                  }\n                  \n                  \n\n                  this.users.push(newUser);\n\n                  this.userDetail(newUser.id);\n\n\n                  setTimeout(() => {\n                    this.activeNewUserLink(this.userDetailForm.get('username').value)\n                  }, 100);\n                  \n                });\n\n                \n              } \n            },\n            error=>{\n              console.log(error)\n            }\n          )\n        },\n        error=>{\n          console.log(error)\n        }\n      )\n    }\n  }\n\n  resetForm(){\n    this.userDetailForm.reset();\n    this.userDetailForm.markAsUntouched();\n    this.userDetailForm.markAsPristine();\n  }\n\n  deleteUser(){\n    console.log(this.selected_idUser);\n\n    this.auth.deleteUser(this.selected_idUser).subscribe(\n      data=>{\n        console.log(data)\n        let filtered = this.users.filter(\n          element=> element.id != this.selected_idUser\n        )\n\n        this.users = filtered;\n    \n        this.cleanActiveLinks();\n        this.userDetailForm.reset();\n        this.isPopulated = false;\n        this.creationRequest = false;\n    \n        this.modalRef.close();\n      },\n      error=>{console.log(error)}\n    )\n\n    \n  }\n\n\n  /* addRoles(role){\n    this.rolesArray = this.userDetailForm.get('roles') as FormArray;\n    if(role == undefined){\n      this.rolesArray.push(this.createRoles());\n    }else{\n      this.rolesArray.push(this.createRoles(role));\n    }\n  } */\n\n\n  createNewUser(){\n\n    this.cleanActiveLinks();\n    this.selected_idUser = null;\n\n    const makeId = function makeid() {\n          var result           = '';\n          var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n          var charactersLength = characters.length;\n          for ( var i = 0; i < 9; i++ ) {\n            result += characters.charAt(Math.floor(Math.random() * charactersLength));\n          }\n\n          result += '-'\n\n          for ( var j = 0; j < 5; j++ ) {\n            result += characters.charAt(Math.floor(Math.random() * charactersLength));\n          }\n\n          result += '-'\n\n          for ( var l = 0; l < 5; l++ ) {\n            result += characters.charAt(Math.floor(Math.random() * charactersLength));\n          }\n\n          result += '-'\n\n          for ( var m = 0; m < 13; m++ ) {\n            result += characters.charAt(Math.floor(Math.random() * charactersLength));\n          }\n          \n          return result;\n    }\n\n    this.temporaryId = makeId();\n    \n\n    this.userDetailForm = this.formBuilder.group({\n      id : new FormControl(this.temporaryId),\n      username : new FormControl(null, [Validators.required, Validators.minLength(3)]),\n      email : new FormControl(null, [Validators.required, Validators.minLength(3), Validators.pattern('^[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$')]),\n      password : new FormControl(null, [Validators.required, Validators.minLength(8)]),\n      repeat_password : new FormControl(null, [Validators.required]),\n      roles : [],\n      enabled : new FormControl(false, [Validators.required]),\n    }, {validator : ConfirmedValidator('password', 'repeat_password')});\n    this.creationRequest = true;\n    this.isPopulated = true;\n    this.selectedRoles = [];\n\n    this.itsMe = false;\n  }\n\n  cleanActiveLinks(){\n    var links = this.user_list.nativeElement.querySelectorAll('a')\n    links.forEach(element => {\n      if(element.classList.contains('active')){\n        element.classList.remove('active');\n      }\n    });\n  }\n\n  activeNewUserLink(username){\n    var links = this.user_list.nativeElement.querySelectorAll('a')\n    links.forEach(element => {\n//      console.log(element.innerText, username)\n      if(element.innerText == username){\n        element.classList.add('active');\n      }\n      \n    });\n  }\n\n\n  findInvalidControls() {\n    const invalid = [];\n    const controls = this.userDetailForm.controls;\n    for (const name in controls) {\n        if (controls[name].invalid) {\n            invalid.push(name);\n        }\n    }\n\n    \n    return invalid;\n  }\n\n  open(content) {\n\n    this.modalRef = this.modalService.open(content)\n  }\n\n  /* addTagFn(name) {\n    return { name: name, tag: true };\n  } */\n}\n","<div class=\"row h-100\">\n\n  <!-- USER LIST -->\n  <div class=\"col-lg-3 pb-3\">\n    <div class=\"card h-100\">\n      <div class=\"card-header d-flex justify-content-between\">\n        <div class=\"d-flex align-items-center\">\n          Users\n        </div>\n        <button #button_create type=\"button\" class=\"btn btn-primary btn-sm\" (click)=\"createNewUser()\" data-toggle=\"list\"\n          href=\"#user-detail\" role=\"tab\" aria-controls=\"home\"><i class=\"fas fa-plus-square\"></i> Create</button>\n\n      </div>\n      <div class=\"card-body\">\n\n        <!-- SEARCH BAR -->\n        <div class=\"input-group\">\n          <span class=\"input-group-prepend\">\n            <div class=\"input-group-text bg-transparent border-right-0\"><i class=\"fa fa-search\"></i></div>\n            <!-- <button class=\"btn btn-secondary btn-block filter-button\" type=\"button\" value=\"Filter\" title=\"Filter\"\n              data-toggle=\"collapse\" data-target=\"#filterUserCollapse\" aria-expanded=\"false\"\n              aria-controls=\"filterUserCollapse\"><i class=\"fa fa-filter\"></i></button> -->\n          </span>\n          <input class=\"form-control py-2 border-left-0 border\" type=\"text\" id=\"example-search-input\"\n            (keyup)=\"triggerSearch($event)\">\n        </div>\n\n        <!-- <div class=\"collapse multi-collapse\" id=\"filterUserCollapse\">\n          <div class=\"form-group row mt-3 \">\n            <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Roles:</label>\n            <div class=\"input-group col-lg-9\">\n              <ng-select [multiple]=\"true\" [(ngModel)]=\"filterSelectedRoles\" [ngModelOptions]=\"{standalone: true}\">\n                <ng-option *ngFor=\"let role of roles\" [value]=\"role.name\">{{role.name}}</ng-option>\n              </ng-select>\n            </div>\n          </div>\n        </div> -->\n\n\n        <!-- USER-LIST -->\n        <div class=\"list-group mt-2 user-list\" id=\"list-tab\" role=\"tablist\" #user_list>\n          <a class=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\"\n            id=\"users-list\" data-toggle=\"list\" href=\"#user-detail\" role=\"tab\" aria-controls=\"home\"\n            *ngFor=\"let usr of users\" (click)=\"userDetail(usr.id)\">\n            {{usr.username}}\n            <span class=\"badge badge-primary badge-pill\" *ngIf=\"usr.haveRoles != undefined\">\n              <div class=\"d-flex justify-content-between align-items-center\">\n                <i class=\"fas fa-crown m-2\" *ngIf=\"usr.ADMIN\"></i>\n                <i class=\"fas fa-user m-2\" *ngIf=\"usr.USER\"></i>\n              </div>\n            </span>\n          </a>\n        </div>\n\n      </div>\n      <div class=\"card-footer text-muted\">\n        2 days ago\n      </div>\n    </div>\n  </div>\n\n  <!-- USER DETAILS -->\n\n\n  <div class=\"col-lg-9 pb-3\" [hidden]=\"!isPopulated\">\n    <div class=\"card h-100\">\n      <div class=\"card-header d-flex justify-content-between\">\n        <div class=\"d-flex align-items-center\">\n          User details\n        </div>\n\n      </div>\n      <div class=\"card-body\">\n\n        <div class=\"tab-content h-100\" id=\"nav-tabContent\">\n          <div class=\"tab-pane fade h-100\" id=\"user-detail\" role=\"tabpanel\" aria-labelledby=\"users-list\">\n\n            <form [formGroup]=\"userDetailForm\" class=\"h-100 d-flex flex-column\">\n              <div class=\"form-group row ml-2 mt-3 mr-2\" *ngIf=\"!creationRequest\">\n                <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">ID:</label>\n                <div class=\"input-group col-lg-9\">\n                  <input id=\"id\" formControlName=\"id\" name=\"id\" type=\"text\" class=\"form-control\" placeholder=\"\"\n                    disabled>\n                  <!-- <div class=\"invalid-feedback\" style=\"display: block;\">\n                        Please, insert at least three characters.\n                    </div> -->\n                </div>\n              </div>\n\n              <!-- {{creationRequest}} -->\n              <div class=\"form-group row ml-2 mt-3 mr-2\">\n                <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Username:</label>\n                <div class=\"input-group col-lg-9\">\n                  <input id=\"username\" formControlName=\"username\" name=\"username\" type=\"text\" class=\"form-control\"\n                    placeholder=\"\" *ngIf=\"!creationRequest\" disabled>\n                  <input id=\"username\" formControlName=\"username\" name=\"username\" type=\"text\" class=\"form-control\"\n                    placeholder=\"\" *ngIf=\"creationRequest\">\n                  <div class=\"invalid-feedback\" style=\"display: block;\" *ngIf=\"userDetailForm.get('username').invalid\">\n                        Please insert at least 4 characters\n                    </div>\n                </div>\n              </div>\n\n              <div class=\"form-group row ml-2 mt-3 mr-2\">\n                <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Email:</label>\n                <div class=\"input-group col-lg-9\">\n                  <input id=\"email\" formControlName=\"email\" name=\"email\" type=\"text\" class=\"form-control\" \n                    placeholder=\"\">\n                  <div class=\"invalid-feedback\" style=\"display: block;\" *ngIf=\"userDetailForm.get('email').invalid\">\n                        Please, insert a valid email address.\n                    </div>\n                </div>\n              </div>\n\n              <div class=\"form-group row ml-2 mt-3 mr-2\">\n                <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Password:</label>\n                <div class=\"input-group col-lg-9\">\n                  <input id=\"password\" formControlName=\"password\" name=\"password\" type=\"password\" class=\"form-control\"\n                    placeholder=\"\">\n                  <div class=\"invalid-feedback\" style=\"display: block;\" *ngIf=\"userDetailForm.get('password').invalid\">\n                        Please, insert at least 8 characters.\n                    </div>\n                </div>\n              </div>\n\n              <div class=\"form-group row ml-2 mt-3 mr-2\">\n                <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Repeat password:</label>\n                <div class=\"input-group col-lg-9\">\n                  <input id=\"repeat_password\" formControlName=\"repeat_password\" name=\"repeat_password\" type=\"password\"\n                    class=\"form-control\" placeholder=\"\">\n                  <div class=\"invalid-feedback\" style=\"display: block;\"  *ngIf=\"userDetailForm.get('repeat_password').invalid\">\n                        Password not matching.\n                    </div>\n                </div>\n              </div>\n\n              <div class=\"form-group row ml-2 mt-3 mr-2\">\n                <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Roles:</label>\n                <div class=\"input-group col-lg-9\">\n                  <ng-select [multiple]=\"true\" formControlName=\"roles\" (change)=\"markAsTouched()\" [(ngModel)]=\"selectedRoles\" > <!-- [ngModelOptions]=\"{standalone: true}\" -->\n                    <ng-option *ngFor=\"let role of roles\" [value]=\"role.name\">{{role.name}}</ng-option>\n                    <!-- <ng-option [value]=\"'custom'\">Custom</ng-option> -->\n                  </ng-select>\n                </div>\n              </div>\n\n              <div class=\"form-group row ml-2 mt-3 mr-2\">\n                <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Enabled:</label>\n                <div class=\"custom-control custom-switch col-lg-9\" style=\"padding-left: 3.25rem !important;\">\n                  <input type=\"checkbox\" class=\"custom-control-input\" id=\"customSwitch1\" formControlName=\"enabled\"\n                    name=\"enabled\">\n                  <label class=\"custom-control-label\" for=\"customSwitch1\"></label>\n                </div>\n              </div>\n              <div class=\"form-group row ml-2 mt-auto mr-2\">\n                <div class=\"col-lg-3\">\n                  <button type=\"button\" class=\"btn btn-danger\" (click)=\"open(deleteModal)\" *ngIf=\"!creationRequest && !itsMe\">Delete User</button>\n                </div>\n                \n                <!-- <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Enabled:</label> -->\n                <!-- <div class=\"custom-control custom-switch col-lg-9\" style=\"padding-left: 3.25rem !important;\">\n                  <input type=\"checkbox\" class=\"custom-control-input\" id=\"customSwitch1\" formControlName=\"enabled\"\n                    name=\"enabled\">\n                  <label class=\"custom-control-label\" for=\"customSwitch1\"></label>\n                </div> -->\n              </div>\n\n              <div>\n                {{userDetailForm.value | json}}\n                <!-- {{initialValues.value}} -->\n                <!-- {{userDetailForm.valid | json}}\n                {{findInvalidControls() | json}} -->\n                \n              </div>\n            </form>\n\n          </div>\n        </div>\n\n      </div>\n      <div class=\"card-footer text-muted d-flex justify-content-end\">\n        <button class=\"btn btn-primary mr-2\" [disabled]=\"userDetailForm.invalid || userDetailForm.pristine\" (click)=\"registerUser()\" *ngIf=\"creationRequest\">\n          <i class=\"fas fa-save\"></i> \n          Register\n        </button>\n        <button class=\"btn btn-primary mr-2\" [disabled]=\"userDetailForm.invalid || userDetailForm.pristine\" (click)=\"updateUser()\" *ngIf=\"!creationRequest\">\n          <i class=\"fas fa-save\"></i> \n          Update\n        </button>\n        <button type=\"button\" class=\"btn btn-secondary\" (click)=\"resetForm()\" [disabled]=\"!creationRequest || !userDetailForm.touched\"><i class=\"fas fa-times\"></i> Cancel</button>\n      </div>\n    </div>\n  </div>\n\n</div>\n\n\n<ng-template #deleteModal let-modal>\n  <div class=\"modal-header\">\n      <h4 class=\"modal-title\" id=\"modal-basic-title\">Wizard</h4>\n      <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"modal.dismiss('Cross click')\">\n          <span aria-hidden=\"true\">&times;</span>\n      </button>\n  </div>\n\n  <div class=\"modal-body\">\n      Are you sure to delete this user?\n  </div>\n      \n  <div class=\"modal-footer\">\n      <button type=\"button\" class=\"btn btn-outline-dark\" >No</button>\n      <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"deleteUser()\">Yes</button>\n  </div>  \n  \n     \n  \n</ng-template>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AnnotatorService {\n  //private baseUrl = \"https://lari2.ilc.cnr.it/cash/api/v1/\"\n  private baseUrl = \"/cash_itant/api/v1/\"\n\n\n  constructor(private http: HttpClient) { }\n  \n  private _triggerSearch: BehaviorSubject<any> = new BehaviorSubject(null);\n  private _deleteAnnoRequest: BehaviorSubject<any> = new BehaviorSubject(null);\n  private _getIdText: BehaviorSubject<any> = new BehaviorSubject(null);\n\n  private arrayPanelFormsData = {};\n\n\n  triggerSearch$ = this._triggerSearch.asObservable();\n  deleteAnnoReq$ = this._deleteAnnoRequest.asObservable();\n  getIdText$ = this._getIdText.asObservable();\n\n  triggerSearch(string : string) {\n    this._triggerSearch.next(string)\n  } \n\n  deleteAnnotationRequest(id : number, node_id : number){\n    this._deleteAnnoRequest.next({id, node_id})\n  }\n\n  getIdText(object: any){\n    this._getIdText.next(object);\n  }\n\n  getPanelForm(id_annotation) : object{\n    return this.arrayPanelFormsData[id_annotation];\n  }\n\n  getAllPanelForms() : object {\n    return this.arrayPanelFormsData;\n  }\n\n  closePanelForm(id_annotation) : void {\n    this.arrayPanelFormsData[id_annotation] = undefined;\n  }\n\n  newPanelForm(id_annotation) : void {\n    this.arrayPanelFormsData[id_annotation] = {};\n    this.arrayPanelFormsData[id_annotation].data = undefined;\n    this.arrayPanelFormsData[id_annotation].isOpen = undefined;\n\n  }\n\n  getTokens(id: number) : Observable<any> {\n    return this.http.get(this.baseUrl + 'token?requestUUID=test123&nodeid='+id);\n  }\n\n  getText(id: number) : Observable<any> {\n    return this.http.get(this.baseUrl + 'gettext?requestUUID=test123&nodeid='+id);\n  }\n\n  addAnnotation(parameters : object, id : number) : Observable<any>{\n    return this.http.post(this.baseUrl + 'annotation?requestUUID=test123&nodeid='+id, parameters);\n  }\n\n  getAnnotation(id : number) : Observable<any>{\n    return this.http.get(this.baseUrl + 'annotation?requestUUID=test123&nodeid='+id);\n  }\n\n  deleteAnnotation(id: number) : Observable<any> {\n    return this.http.delete(this.baseUrl + 'annotate?requestUUID=test123&annotationID='+id);\n  }\n\n  updateAnnotation(annotation : object) : Observable<any>{\n    return this.http.put(this.baseUrl + 'annotation?requestUUID=test123', annotation);\n  }\n\n}\n","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, ElementRef, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { ExpanderService } from 'src/app/services/expander/expander.service';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\n\nimport {\n  animate,\n  style,\n  transition,\n  trigger,\n  state\n} from \"@angular/animations\";\n\n@Component({\n  selector: 'app-vartrans-tab',\n  templateUrl: './vartrans-tab.component.html',\n  styleUrls: ['./vartrans-tab.component.scss'],\n  animations: [\n    trigger('slideInOut', [\n      state('in', style({\n        height: 'calc(100vh - 17rem)',\n        \n      })),\n      state('out', style({\n        height: 'calc(50vh - 12.5rem)',\n      })),\n      transition('in => out', animate('400ms ease-in-out')),\n      transition('out => in', animate('400ms ease-in-out'))\n    ])\n  ]\n})\nexport class VartransTabComponent implements OnInit {\n\n  lock = 0;\n  object: any;\n  exp_trig = '';\n\n  lexicalEntryData : any;\n  senseData : any;\n\n  isLexicalEntry = false;\n  isSense = false;\n\n  @ViewChild('expander') expander_body: ElementRef;\n\n  constructor(private lexicalService: LexicalEntriesService, private expand: ExpanderService, private rend : Renderer2) { }\n\n  ngOnInit(): void {\n    this.lexicalService.coreData$.subscribe(\n      object => {\n        if(this.object != object){\n          this.lexicalEntryData = null;\n          this.senseData = null;\n        }\n        this.object = object\n        \n        if(this.object != null){\n          if(this.object.lexicalEntry != undefined && this.object.sense == undefined){\n            this.isLexicalEntry = true;\n            this.isSense = false;\n            this.lexicalEntryData = object;\n          }else if(this.object.sense != undefined){\n            this.isLexicalEntry = false;\n            this.isSense = true;\n            this.senseData = object;\n            this.lexicalEntryData = null;\n          }else if(this.object.form != undefined){\n            this.isLexicalEntry = false;\n            this.isSense = false;\n            this.lexicalEntryData = null;\n            this.object = null;\n          }\n        }\n      }\n    );\n    \n    this.expand.expEdit$.subscribe(\n      trigger => {\n        if(trigger){\n          let isEditExpanded = this.expand.isEditTabExpanded();\n          let isEpigraphyExpanded = this.expand.isEpigraphyTabExpanded();\n\n          if(!isEpigraphyExpanded){\n            this.exp_trig = 'in';\n            this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(100vh - 17rem)')\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(100vh - 17rem)')\n          }else{\n            this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 12.5rem)');\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)');\n            this.exp_trig = 'in';\n          }\n          \n        }else if(trigger==null){\n          return;\n        }else{\n          this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 12.5rem)');\n          this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)');\n          this.exp_trig = 'out';\n        }\n      }\n    );\n\n    this.expand.expEpigraphy$.subscribe(\n      trigger => {\n        setTimeout(() => {\n          if(trigger){\n            this.exp_trig = 'in';\n            this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 12.5rem)')\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)')\n          }else if(trigger==null){\n            return;\n          }else{\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)');\n            this.exp_trig = 'out';\n          }\n        }, 100);\n        \n      }\n    );\n  }\n\n  changeStatus() {\n    if (this.lock < 2) {\n      this.lock++;\n    } else if (this.lock > 1) {\n      this.lock--;\n    }\n    setTimeout(() => {\n      //@ts-ignore\n      $('.locked-tooltip').tooltip({\n        trigger: 'hover'\n      });\n    }, 10);\n  }\n\n}\n","\n\n<div id=\"cardsAccordion\" class=\"accordion\" [hidden]=\"object == null\">\n    <div class=\"card my-2\">\n        <div class=\"card-header\">\n            <h5 class=\"mb-0 w-100 d-flex justify-content-between align-self-center\">\n                <div>\n                    <span class=\"btn\">\n                        CREATED BY foo ON 11/12/2020 15:15\n                    </span>\n                </div>\n                <div>\n                    <button class=\"btn btn-link\">\n                        <i class=\"fa fa-trash\"></i>\n                    </button>\n                    <button class=\"btn btn-link\" (click)=\"changeStatus()\">\n                        <i class=\"fa fa-circle\" *ngIf=\"lock==0\" style=\"color: red\"></i>\n                        <i class=\"fa fa-circle\" *ngIf=\"lock==1\" style=\"color: yellow\"></i>\n                        <i class=\"fa fa-circle locked-tooltip\" *ngIf=\"lock==2\" data-toggle=\"tooltip\"\n                            data-placement=\"bottom\" data-html=\"true\" title=\"Locked tooltip\" style=\"color:green;\"></i>\n                    </button>\n                </div>\n            </h5>\n        </div>\n        <div #expander [@slideInOut]=\"exp_trig\" class=\"card-body\">\n            <app-lexical-entry-vartrans-form [lexData]=\"lexicalEntryData\" *ngIf=\"isLexicalEntry\"></app-lexical-entry-vartrans-form>\n            <app-sense-vartrans-form [senseData]=\"senseData\" *ngIf=\"isSense\"></app-sense-vartrans-form>\n        </div>\n        <div class=\"card-footer text-muted\">\n            <div class=\"w-100 d-flex justify-content-between align-items-center\">\n                <div>\n                    <span>LAST UPDATE ON 15/12/2020 14:30 BY foo</span>\n                </div>\n                <div class=\"btn-group dropup dropleft\">\n                    <button class=\"btn btn-success\" type=\"button\" id=\"dropdownAddLemma\" data-toggle=\"dropdown\"\n                        aria-haspopup=\"true\" aria-expanded=\"false\"> <i class=\"fas fa-plus\"></i> </button>\n                    <div class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"dropdownAddLemma\">\n                        <a class=\"dropdown-item\" href=\"#\">Add Form</a>\n                        <a class=\"dropdown-item\" href=\"#\">Add Sense</a>\n                        <a class=\"dropdown-item\" href=\"#\">Add Frame</a>\n                        <a class=\"dropdown-item\" href=\"#\">Add Lexical Concept</a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, ElementRef, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { LexicalEntriesService } from '../../../../../services/lexical-entries/lexical-entries.service';\nimport { ExpanderService } from 'src/app/services/expander/expander.service';\nimport { ToastrService } from 'ngx-toastr';\n\nimport {\n  animate,\n  style,\n  transition,\n  trigger,\n  state\n} from \"@angular/animations\";\nimport { debounceTime } from 'rxjs/operators';\nimport { ModalComponent } from 'ng-modal-lib';\nimport { BibliographyService } from 'src/app/services/bibliography-service/bibliography.service';\nimport { Subject } from 'rxjs';\n\n@Component({\n  selector: 'app-core-tab',\n  templateUrl: './core-tab.component.html',\n  styleUrls: ['./core-tab.component.scss'],\n  animations: [\n    trigger('slideInOut', [\n      state('in', style({\n        height: 'calc(100vh - 17rem)',\n        \n      })),\n      state('out', style({\n        height: 'calc(50vh - 10rem)',\n      })),\n      transition('in => out', animate('400ms ease-in-out')),\n      transition('out => in', animate('400ms ease-in-out'))\n    ])\n  ]\n})\nexport class CoreTabComponent implements OnInit {\n\n  lock = 0;\n  object: any;\n  exp_trig = '';\n\n  isLexicalEntry = false;\n  isForm = false;\n  isSense = false;\n  isLexicalConcept = false;\n  searchIconSpinner = false;\n  goBack = false;\n\n  bibliography = [];\n  selectedItem;\n\n  selectedLexicalElement;\n\n  lexicalEntryData : any;\n  formData : any;\n  senseData : any;\n  lexicalConceptData : any;\n\n  lastUpdateDate : any;\n  creationDate : any;\n  creator : any;\n  revisor : any;\n\n  start = 0;\n  sortField = 'title';\n  direction = 'asc';\n  memorySort = {field : '', direction : ''}\n  queryTitle = '';\n  queryMode = 'titleCreatorYear';\n\n  private searchSubject : Subject<any> = new Subject();\n\n  @ViewChild('expander') expander_body: ElementRef;\n  @ViewChild('addBibliography', {static: false}) modal: ModalComponent;\n  @ViewChild('table_body') tableBody: ElementRef;\n  @ViewChild('searchBiblio') searchBiblio: ElementRef;\n\n  constructor(private lexicalService: LexicalEntriesService, private biblioService : BibliographyService, private expand: ExpanderService, private rend: Renderer2, private toastr: ToastrService) { }\n\n  ngOnInit(): void {\n\n    this.lexicalService.coreData$.subscribe(\n      object => {\n        if(this.object != object){\n          this.lexicalEntryData = null;\n          this.formData = null;\n          this.senseData = null;\n          \n          \n        }\n        this.object = object\n        /* console.log(this.object) */\n        if(this.object != null){\n          setTimeout(() => {\n            //@ts-ignore\n            $('#coreTabModal').modal('hide');\n            $('.modal-backdrop').remove();\n            var timer = setInterval((val)=>{                 \n              try{\n                  //@ts-ignore\n                  $('#coreTabModal').modal('hide');\n                  if(!$('#coreTabModal').is(':visible')){\n                    clearInterval(timer)\n                  }\n                  \n              }catch(e){\n                  console.log(e)\n              }    \n            }, 10)\n          }, 500);\n          this.creator = this.object.creator;\n          this.revisor = this.object.revisor;\n          \n          if(this.object.lexicalEntry != undefined && this.object.sense == undefined && this.object.form == undefined){\n            this.isLexicalEntry = true;\n            this.isForm = false;\n            this.isSense = false;\n            this.lexicalEntryData = object;\n            this.formData = null;\n            this.lexicalConceptData = null;\n            this.isLexicalConcept = false;\n          }else if(this.object.form != undefined && this.object.sense == undefined){\n            this.isLexicalEntry = false;\n            this.isForm = true;\n            this.isSense = false;\n            this.formData = object;\n            this.lexicalEntryData = null;\n            this.lexicalConceptData = null;\n            this.isLexicalConcept = false;\n          }else if(this.object.sense != undefined){\n            this.isLexicalEntry = false;\n            this.isForm = false;\n            this.isSense = true;\n            this.senseData = object;\n            this.formData = null;\n            this.lexicalEntryData = null;\n            this.lexicalConceptData = null;\n            this.isLexicalConcept = false;\n          }else if(this.object.lexicalConcept != undefined && this.object.sense == undefined){\n            this.isLexicalEntry = false;\n            this.isForm = false;\n            this.isSense = false;\n            this.isLexicalConcept = true;\n            this.senseData = null;\n            this.formData = null;\n            this.lexicalEntryData = null;\n            this.lexicalConceptData = object;\n          }\n\n\n          switch(this.object.status){\n            case 'working' : {\n              this.lock = 0; \n              this.goBack = false;\n              setTimeout(() => {\n                //@ts-ignore\n                $('.locked-tooltip').tooltip('disable');\n              }, 10);\n              break;\n            }\n            case 'completed' : {\n              this.lock = 1; \n              this.goBack = false;\n              setTimeout(() => {\n                //@ts-ignore\n                $('.locked-tooltip').tooltip('disable');\n              }, 10);\n              break;\n            }\n            case 'reviewed' : {\n              this.lock = 2;\n              this.goBack = true;\n              setTimeout(() => {\n                //@ts-ignore\n                $('.locked-tooltip').tooltip('enable');\n                //@ts-ignore\n                $('.locked-tooltip').tooltip({\n                  trigger: 'hover'\n                });\n              }, 50);\n              break;\n            }\n          }\n\n        }\n      }\n    );\n\n    this.expand.expEdit$.subscribe(\n      trigger => {\n        /* console.log(\"trigger core-tab: \", trigger) */\n        setTimeout(() => {\n          if(trigger){\n            let isEditExpanded = this.expand.isEditTabExpanded();\n            let isEpigraphyExpanded = this.expand.isEpigraphyTabExpanded();\n  \n            /* console.log(isEditExpanded);\n            console.log(isEpigraphyExpanded) */\n  \n            \n              if(!isEpigraphyExpanded){\n                this.exp_trig = 'in';\n                this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(100vh - 17rem)')\n                this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(100vh - 17rem)')\n              }else{\n                this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 10rem)');\n                this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 10rem)');\n                this.exp_trig = 'in';\n              }\n            \n            \n            \n          }else if(trigger==null){\n            return;\n          }else{\n            this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 10rem)');\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 10rem)');\n            this.exp_trig = 'out';\n          }\n        }, 100);\n        \n      }\n    );\n\n    this.expand.expEpigraphy$.subscribe(\n      trigger => {\n        setTimeout(() => {\n          if(trigger){\n            this.exp_trig = 'in';\n            this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 10rem)')\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 10rem)')\n          }else if(trigger==null){\n            return;\n          }else{\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 10rem)');\n            this.exp_trig = 'out';\n          }\n        }, 100);\n        \n      }\n    );\n\n    this.lexicalService.updateCoreCardReq$.subscribe(\n      data => {\n        console.log(data)\n        if(data != null){\n          this.lastUpdateDate = data['lastUpdate']\n          if(data['creationDate'] != undefined){\n            this.creationDate = data['creationDate']\n          }\n        }\n      }\n    )\n\n    this.lexicalService.spinnerAction$.subscribe(\n      data => {\n        if(data == 'on'){\n          this.searchIconSpinner = true;\n        }else{\n          this.searchIconSpinner = false;\n        }\n      },\n      error => {\n\n      }\n    )\n\n    this.searchSubject.pipe(debounceTime(1000)).subscribe(\n      data => {\n        this.queryTitle  = data.query;\n        data.queryMode ? this.queryMode = 'everything' : this.queryMode = 'titleCreatorYear';\n        this.searchBibliography(this.queryTitle, this.queryMode);\n      }\n    )\n\n    //@ts-ignore\n    $(\"#biblioModal\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.ui-modal');\n    //@ts-ignore\n    $('#biblioModal').modal({backdrop: 'static', keyboard: false})  \n    \n    $('.modal-backdrop').css('height', 'inherit');\n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n\n    this.biblioService.bootstrapData(this.start, this.sortField, this.direction).subscribe(\n      data=> {\n        this.memorySort = {field : this.sortField, direction : this.direction}\n        this.bibliography = data;\n        this.bibliography.forEach(element => {\n          element['selected'] = false;\n        })\n        \n        \n        //@ts-ignore\n        $('#biblioModal').modal('hide');\n        $('.modal-backdrop').remove();\n      },error=>{\n        console.log(error)\n      }\n    )\n  }\n\n  changeStatus() {\n\n    //console.log(this.goBack)\n\n    if(!this.goBack){\n      this.lock++;\n      if (this.lock == 2){\n        this.goBack = true;\n      }\n    }else if(this.goBack){\n      this.lock--;\n      if (this.lock == 0){\n        this.goBack = false;\n      }\n    }\n\n    this.searchIconSpinner = true;\n    let lexicalId = this.object.lexicalEntryInstanceName;\n    //console.log(this.lock)\n    switch(this.lock){\n      case 0 : {\n          let parameters = {\n            relation : \"status\",\n            value : \"working\"\n          }\n          this.lexicalService.updateLexicalEntry(lexicalId, parameters).pipe(debounceTime(500)).subscribe(\n          data => {\n            this.searchIconSpinner = false;\n            data['request'] = 0;\n            this.lexicalService.updateCoreCard(data)\n            this.lexicalService.refreshAfterEdit(data);\n            setTimeout(() => {\n              //@ts-ignore\n              $('.locked-tooltip').tooltip('disable');\n            }, 10);\n          },\n          error => {\n            this.searchIconSpinner = false;\n            const data = this.object;\n            data['request'] = 0;\n            this.lexicalService.refreshAfterEdit(data);\n            this.lexicalService.updateCoreCard({lastUpdate : error.error.text})\n            setTimeout(() => {\n              //@ts-ignore\n              $('.locked-tooltip').tooltip('disable');\n            }, 10);\n          }\n        )\n      }; break;\n      case 1 : {\n        let parameters = {\n          relation : \"status\",\n          value : \"completed\"\n        }\n        this.lexicalService.updateLexicalEntry(lexicalId, parameters).pipe(debounceTime(500)).subscribe(\n          data => {\n\n            this.searchIconSpinner = false;\n            data['request'] = 0;\n            this.lexicalService.updateCoreCard(data)\n            this.lexicalService.refreshAfterEdit(data);\n            setTimeout(() => {\n              //@ts-ignore\n              $('.locked-tooltip').tooltip('disable');\n            }, 10);\n          },\n          error => {\n            this.searchIconSpinner = false;\n            const data = this.object;\n            data['request'] = 0;\n            this.lexicalService.refreshAfterEdit(data);\n            this.lexicalService.updateCoreCard({lastUpdate : error.error.text})\n            setTimeout(() => {\n              //@ts-ignore\n              $('.locked-tooltip').tooltip('disable');\n            }, 10);\n          }\n        )\n      }; break;\n      case 2 : {\n        let parameters = {\n          relation : \"status\",\n          value : \"reviewed\"\n        }\n        this.lexicalService.updateLexicalEntry(lexicalId, parameters).pipe(debounceTime(500)).subscribe(\n          data => {\n            this.searchIconSpinner = false;\n            data['request'] = 0;\n            this.lexicalService.updateCoreCard(data)\n            this.lexicalService.refreshAfterEdit(data);\n            setTimeout(() => {\n              //@ts-ignore\n              $('.locked-tooltip').tooltip('enable');\n              //@ts-ignore\n              $('.locked-tooltip').tooltip({\n                trigger: 'hover'\n              });\n            }, 50);\n          },\n          error => {\n            \n            this.searchIconSpinner = false;\n            const data = this.object;\n            data['request'] = 0;\n            this.lexicalService.refreshAfterEdit(data);\n            this.lexicalService.updateCoreCard({lastUpdate : error.error.text})\n            setTimeout(() => {\n              //@ts-ignore\n              $('.locked-tooltip').tooltip('enable');\n              //@ts-ignore\n              $('.locked-tooltip').tooltip({\n                trigger: 'hover'\n              });\n            }, 50);\n          }\n        )\n      }; break;\n    }\n    \n  }\n\n  deleteLexicalEntry(){\n    this.searchIconSpinner = true;\n    let lexicalId = this.object.lexicalEntryInstanceName\n    this.lexicalService.deleteLexicalEntry(lexicalId).subscribe(\n      data=>{\n        //console.log(data)\n        this.searchIconSpinner = false;\n        this.lexicalService.deleteRequest(this.object);\n        this.lexicalEntryData = null;\n        this.isLexicalEntry = false;\n        this.object = null;\n        this.lexicalService.refreshLangTable();\n        this.lexicalService.refreshFilter({request : true})\n        this.lexicalService.sendToCoreTab(null);\n        this.lexicalService.sendToRightTab(null);\n        this.biblioService.sendDataToBibliographyPanel(null);\n\n        this.expand.expandCollapseEdit(false);\n        this.expand.openCollapseEdit(false)\n        if(this.expand.isEpigraphyOpen){\n          this.expand.expandCollapseEpigraphy();\n        }\n        this.toastr.success(lexicalId + 'deleted correctly', '', {\n          timeOut: 5000,\n        });\n      },error=> {\n        //console.log(error)\n        this.searchIconSpinner = false;\n        //this.lexicalService.deleteRequest(this.object);\n        //this.lexicalService.refreshLangTable();\n        //this.lexicalService.refreshFilter({request : true})\n        this.toastr.error(error.error, 'Error', {\n          timeOut: 5000,\n        });\n      }\n    )\n  }\n\n  deleteForm(){\n    this.searchIconSpinner = true;\n    let lexicalId = this.object.formInstanceName;    \n    this.lexicalService.deleteForm(lexicalId).subscribe(\n      data=>{\n        this.searchIconSpinner = false;\n        this.lexicalService.deleteRequest(this.object);\n        this.isForm = false;\n        this.object = null;\n        this.toastr.success(lexicalId + 'deleted correctly', '', {\n          timeOut: 5000,\n        });\n      },error=> {\n        console.log(error)\n        this.searchIconSpinner = false;\n        this.lexicalService.deleteRequest(this.object);\n        if(error.status != 200){\n          this.toastr.error(error.message, 'Error', {timeOut: 5000})\n        }\n      }\n    )\n  }\n\n  deleteSense(){\n    this.searchIconSpinner = true;\n    let lexicalId = this.object.senseInstanceName;\n    \n    this.lexicalService.deleteSense(lexicalId).subscribe(\n      data=>{\n        this.searchIconSpinner = false;\n        this.lexicalService.deleteRequest(this.object);\n        this.isSense = false;\n        this.object = null;\n        this.toastr.success(lexicalId + 'deleted correctly', '', {\n          timeOut: 5000,\n        });\n      },error=> {\n        this.searchIconSpinner = false;\n        this.lexicalService.deleteRequest(this.object);\n      }\n    )\n  }\n\n  addNewForm(){\n    this.searchIconSpinner = true;\n    /* console.log(this.object) */\n    this.object['request'] = 'form'\n    if(this.isLexicalEntry){\n      let lexicalId = this.object.lexicalEntryInstanceName;\n      this.lexicalService.createNewForm(lexicalId).subscribe(\n        data=>{\n          this.toastr.success('Form added correctly', '', {\n            timeOut: 5000,\n          });\n          console.log(data);\n          if(data['creator'] == this.object.creator){\n            data['flagAuthor'] = false;\n          }else{\n            data['flagAuthor'] = true;\n          }\n          this.lexicalService.addSubElementRequest({'lex' : this.object, 'data' : data});\n          this.searchIconSpinner = false;\n        },error=> {\n          console.log(error)\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n          this.searchIconSpinner = false;\n        }\n      )\n    }else if(this.isForm){\n      let parentNodeInstanceName = this.object.parentNodeInstanceName;\n      //console.log(this.object);\n      this.object['request'] = 'form';\n      this.object['lexicalEntryInstanceName'] = parentNodeInstanceName\n      this.lexicalService.createNewForm(parentNodeInstanceName).subscribe(\n        data=>{\n          if(data['creator'] == this.object.creator){\n            data['flagAuthor'] = false;\n          }else{\n            data['flagAuthor'] = true;\n          }\n          this.lexicalService.addSubElementRequest({'lex' : this.object, 'data' : data});\n          this.searchIconSpinner = false;\n          this.toastr.success('Form added correctly', '', {\n            timeOut: 5000,\n          });\n        },error=> {\n          //console.log(error)\n          this.searchIconSpinner = false;\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n        }\n      )\n    }else if(this.isSense){\n      let parentNodeInstanceName = this.object.parentNodeInstanceName;\n      this.object['request'] = 'form';\n      this.object['lexicalEntryInstanceName'] = parentNodeInstanceName\n      //console.log(this.object);\n      this.lexicalService.createNewForm(parentNodeInstanceName).subscribe(\n        data=>{\n          if(data['creator'] == this.object.creator){\n            data['flagAuthor'] = false;\n          }else{\n            data['flagAuthor'] = true;\n          }\n          this.lexicalService.addSubElementRequest({'lex' : this.object, 'data' : data});\n          this.searchIconSpinner = false;\n          this.toastr.success('Form added correctly', '', {\n            timeOut: 5000,\n          });\n        },error=> {\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n          this.searchIconSpinner = false;\n        }\n      )\n    }\n    \n  }\n\n  addNewSense(){\n    this.searchIconSpinner = true;\n    this.object['request'] = 'sense'\n    if(this.isLexicalEntry){\n      let lexicalId = this.object.lexicalEntryInstanceName;\n      this.lexicalService.createNewSense(lexicalId).subscribe(\n        data=>{\n          if(data['creator'] == this.object.creator){\n            data['flagAuthor'] = false;\n          }else{\n            data['flagAuthor'] = true;\n          }\n          this.lexicalService.addSubElementRequest({'lex' : this.object, 'data' : data});\n          this.searchIconSpinner = false;\n          this.toastr.success('Sense added correctly', '', {\n            timeOut: 5000,\n          });\n        },error=> {\n          this.searchIconSpinner = false;\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n          \n        }\n      )\n    }else if(this.isSense){\n      let parentNodeInstanceName = this.object.parentNodeInstanceName;\n      this.object['lexicalEntryInstanceName'] = parentNodeInstanceName\n      this.object['request'] = 'sense'\n      //console.log(this.object);\n      this.lexicalService.createNewSense(parentNodeInstanceName).subscribe(\n        data=>{\n          if(data['creator'] == this.object.creator){\n            data['flagAuthor'] = false;\n          }else{\n            data['flagAuthor'] = true;\n          }\n          this.lexicalService.addSubElementRequest({'lex' : this.object, 'data' : data});\n          this.searchIconSpinner = false;\n          this.toastr.success('Sense added correctly', '', {\n            timeOut: 5000,\n          });\n        },error=> {\n          this.searchIconSpinner = false;\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n        }\n      )\n    }else if(this.isForm){\n      let parentNodeInstanceName = this.object.parentNodeInstanceName;\n      this.object['lexicalEntryInstanceName'] = parentNodeInstanceName\n      this.object['request'] = 'sense'\n      //console.log(this.object);\n      this.lexicalService.createNewSense(parentNodeInstanceName).subscribe(\n        data=>{\n          if(data['creator'] == this.object.creator){\n            data['flagAuthor'] = false;\n          }else{\n            data['flagAuthor'] = true;\n          }\n          this.lexicalService.addSubElementRequest({'lex' : this.object, 'data' : data});\n          this.searchIconSpinner = false;\n          this.toastr.success('Sense added correctly', '', {\n            timeOut: 5000,\n          });\n          //this.lexicalService.refreshLexEntryTree();\n        },error=> {\n          this.searchIconSpinner = false;\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n          //this.lexicalService.refreshLexEntryTree();\n        }\n      )\n    }\n\n  }\n\n  addNewEtymology(){\n    this.searchIconSpinner = true;\n    this.object['request'] = 'etymology'\n    let parentNodeInstanceName = '';\n    if(this.object.lexicalEntryInstanceName != undefined\n      && this.object.senseInstanceName == undefined){\n        console.log(1)\n        parentNodeInstanceName = this.object.lexicalEntryInstanceName;\n    }else if(this.object.formInstanceName != undefined){\n      parentNodeInstanceName = this.object.parentNodeInstanceName;\n      this.object['lexicalEntryInstanceName'] = parentNodeInstanceName\n      console.log(2)\n    }else if(this.object.senseInstanceName != undefined){\n      parentNodeInstanceName = this.object.parentNodeInstanceName;\n      this.object['lexicalEntryInstanceName'] = parentNodeInstanceName\n      console.log(3)\n    }\n\n    console.log(parentNodeInstanceName)\n    this.lexicalService.createNewEtymology(parentNodeInstanceName).subscribe(\n      data=>{\n        console.log(data)\n        if(data['creator'] == this.object.creator){\n          data['flagAuthor'] = false;\n        }else{\n          data['flagAuthor'] = true;\n        }\n        this.lexicalService.addSubElementRequest({'lex' : this.object, 'data' : data});\n        this.searchIconSpinner = false;\n        this.toastr.success('Etymology added correctly', '', {\n          timeOut: 5000,\n        });\n      },error=> {\n        this.searchIconSpinner = false;\n      }\n    )\n\n  }\n\n  showBiblioModal(){\n    this.modal.show();\n  }\n\n  addBibliographyItem(item?){\n    //@ts-ignore\n    $(\"#biblioModal\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.ui-modal');\n    //@ts-ignore\n    $('#biblioModal').modal({backdrop: 'static', keyboard: false})  \n    \n    $('.modal-backdrop').css('height', 'inherit');\n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n\n    let instance = '';\n    if(this.object.lexicalEntryInstanceName != undefined\n      && this.object.lexicalEntryInstanceName.senseInstanceName == undefined){\n        instance = this.object.lexicalEntryInstanceName;\n    }else if(this.object.formInstanceName != undefined){\n      instance = this.object.formInstanceName;\n    }else if(this.object.senseInstanceName != undefined){\n      instance = this.object.senseInstanceName;\n    }\n\n    if(item != undefined){\n\n      let id = item.data.key != undefined ? item.data.key : '';\n      let title = item.data.title.replace(\"\\\"\", '') != undefined ? item.data.title : '';\n      let author;\n      \n      item.data.creators.forEach(element => {\n        if(element.creatorType == 'author'){\n          author = element.lastName + ' ' + element.firstName;\n          return true;\n        }else{\n          return false;\n        }\n      });\n      author = author != undefined ? author : ''\n      let date = item.data.date != undefined ? item.data.date : '';\n      let url = item.data.url != undefined ? item.data.url : ''\n      let seeAlsoLink = '';\n\n      let parameters = {\n        id : id,\n        title: title,\n        author: author,\n        date: date,\n        url: url,\n        seeAlsoLink: seeAlsoLink\n      }\n      console.log(instance, parameters)\n      this.lexicalService.addBibliographyData(instance, parameters).subscribe(\n        data=>{\n          console.log(data);\n          setTimeout(() => {\n            //@ts-ignore\n            $('#biblioModal').modal('hide');\n            $('.modal-backdrop').remove();\n            this.toastr.success('Item added, check bibliography panel', '', {\n              timeOut: 5000,\n            });\n            this.biblioService.triggerPanel(data)\n            setTimeout(() => {\n              this.modal.hide();\n            }, 10);\n          }, 300);\n          this.biblioService.sendDataToBibliographyPanel(data);\n        },error=>{\n          console.log(error)\n          if(typeof(error.error) == 'string' && error.error.length < 1000){\n            this.toastr.error(error.error, '', {\n              timeOut: 5000,\n            });\n          }else{\n            this.toastr.error(error.statusText, '', {\n              timeOut: 5000,\n            });\n          }\n          \n          setTimeout(() => {\n            //@ts-ignore\n            $('#biblioModal').modal('hide');\n            $('.modal-backdrop').remove();\n\n            setTimeout(() => {\n              this.modal.hide();\n            }, 10);\n          }, 300);\n          \n        }\n      )\n    }\n    \n  }\n\n  checkIfCreatorExist(item?){\n    return item.some(element => element.creatorType === 'author')\n  }\n\n  triggerSearch(evt, query, queryMode) {\n    if(evt.key != 'Control' && evt.key != 'Shift' && evt.key != 'Alt'){\n      this.searchSubject.next({query, queryMode})\n    }\n  }\n\n  searchBibliography(query?:string, queryMode?:any){\n    this.start = 0;\n    this.selectedItem = null;\n    //@ts-ignore\n    $(\"#biblioModal\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.table-body');\n    //@ts-ignore\n    $('#biblioModal').modal({backdrop: 'static', keyboard: false})  \n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n    this.tableBody.nativeElement.scrollTop = 0;\n    if(this.queryTitle != ''){\n      this.biblioService.filterBibliography(this.start, this.sortField, this.direction, this.queryTitle, this.queryMode).subscribe(\n        data => {\n          console.log(data);\n          this.bibliography = [];\n          data.forEach(element => {\n            this.bibliography.push(element)\n          });\n          //@ts-ignore\n          $('#biblioModal').modal('hide');\n          $('.modal-backdrop').remove();\n        },\n        error => {\n          console.log(error)\n        }\n      )\n    }else{\n      this.biblioService.filterBibliography(this.start, this.sortField, this.direction, this.queryTitle, this.queryMode).subscribe(\n        data => {\n          console.log(data);\n          this.bibliography = [];\n          data.forEach(element => {\n            this.bibliography.push(element)\n          });\n          //@ts-ignore\n          $('#biblioModal').modal('hide');\n          $('.modal-backdrop').remove();\n        },\n        error => {\n          console.log(error)\n        }\n      )\n    }\n  }\n\n  onScrollDown(){\n    //@ts-ignore\n    $(\"#biblioModal\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.table-body');\n    //@ts-ignore\n    $('#biblioModal').modal({backdrop: 'static', keyboard: false})  \n    $('.modal-backdrop').appendTo('.table-body');\n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n\n    this.start += 25;\n    \n    if(this.queryTitle != ''){\n      this.biblioService.filterBibliography(this.start, this.sortField, this.direction, this.queryTitle, this.queryMode).subscribe(\n        data=>{\n          console.log(data)\n          //@ts-ignore\n          $('#biblioModal').modal('hide');\n          $('.modal-backdrop').remove();\n          data.forEach(element => {\n            this.bibliography.push(element)\n          });\n        },error=>{\n          console.log(error)\n        }\n      )\n    }else{\n      this.biblioService.filterBibliography(this.start, this.sortField, this.direction, this.queryTitle, this.queryMode).subscribe(\n        data=> {\n          \n          data.forEach(element => {\n            this.bibliography.push(element)\n          });\n                  \n          //@ts-ignore\n          $('#biblioModal').modal('hide');\n          $('.modal-backdrop').remove();\n        },error=>{\n          console.log(error)\n        }\n      );\n    }\n\n    \n  }\n\n  selectItem(evt, i){\n    /* console.log(evt, i); */\n    if(evt.shiftKey){\n\n    }\n    this.bibliography.forEach(element=> {\n      if(element.key == i.key){\n        element.selected = !element.selected;\n        element.selected ? this.selectedItem = element : this.selectedItem = null;\n        return true;\n      }else{\n        element.selected = false;\n        return false;\n      }\n    })\n    \n  }\n\n  sortBibliography(evt?, val?){\n    \n    \n    if(this.memorySort.field == val){\n      if(this.direction == 'asc'){\n        this.direction = 'desc'\n        this.memorySort.direction = 'desc';\n      }else{\n        this.direction = 'asc';\n        this.memorySort.direction = 'asc';\n      }\n    }else{\n      this.sortField = val;\n      this.direction = 'asc';\n      this.memorySort = {field : this.sortField, direction : this.direction};\n    }\n\n    //@ts-ignore\n    $(\"#biblioModal\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.table-body');\n    //@ts-ignore\n    $('#biblioModal').modal({backdrop: 'static', keyboard: false})  \n    $('.modal-backdrop').appendTo('.table-body');\n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n    this.start = 0;\n    this.tableBody.nativeElement.scrollTop = 0;\n\n    this.biblioService.filterBibliography(this.start, this.sortField, this.direction, this.queryTitle, this.queryMode).subscribe(\n      data=>{\n        console.log(data)\n        this.bibliography = [];\n        //@ts-ignore\n        $('#biblioModal').modal('hide');\n        $('.modal-backdrop').remove();\n        data.forEach(element => {\n          this.bibliography.push(element)\n        });\n      },error=>{\n        console.log(error)\n      }\n    )\n    \n  }\n\n  onCloseModal(){\n    this.selectedItem = null;\n    this.start = 0;\n    this.sortField = 'title';\n    this.direction = 'asc';\n    this.tableBody.nativeElement.scrollTop = 0;\n    this.memorySort = { field: this.sortField, direction: this.direction}\n    this.biblioService.bootstrapData(this.start, this.sortField, this.direction).subscribe(\n      data=> {\n        this.bibliography = data;\n        this.bibliography.forEach(element => {\n          element['selected'] = false;\n        }) \n                \n       \n      },error=>{\n        console.log(error)\n      }\n    );\n  }\n}\n","\n\n<div id=\"cardsAccordion\" class=\"accordion\" [hidden]=\"object == null\">\n    <div class=\"card my-2\">\n        <div class=\"card-header\">\n            <h5 class=\"mb-0 w-100 d-flex justify-content-between align-self-center\">\n                <div>\n                    <span class=\"btn\" *ngIf=\"object != null\">\n                        <span *ngIf=\"isLexicalEntry\">\n                            Lexical Entry\n                        </span>\n                        <span *ngIf=\"isSense\">\n                            Sense\n                        </span>\n                        <span *ngIf=\"isForm\">\n                            Form\n                        </span>\n                        CREATED BY {{creator}} ON {{creationDate | date :'dd/MM/yyyy hh:mm:ss'}}\n                    </span>\n                </div>\n                <div>\n                    <div class=\"spinner-border spinner-border-sm m-1\" role=\"status\" *ngIf=\"searchIconSpinner\">\n                        <span class=\"sr-only\">Loading...</span>\n                    </div>\n                    <button class=\"btn btn-link\" *ngIf=\"isLexicalEntry\" (click)=\"removeElementModal.show()\">\n                        <i class=\"fa fa-trash\"></i>\n                    </button>\n                    <button class=\"btn btn-link\" *ngIf=\"isForm\" title=\"delete form\" (click)=\"removeElementModal.show()\">\n                        <i class=\"fa fa-trash\"></i>\n                    </button>\n                    <button class=\"btn btn-link\" *ngIf=\"isSense\" title=\"delete sense\"\n                        (click)=\"removeElementModal.show()\">\n                        <i class=\"fa fa-trash\"></i>\n                    </button>\n                    <button class=\"btn btn-link\" (click)=\"changeStatus()\" *ngIf=\"isLexicalEntry\">\n                        <i class=\"fa fa-circle\" [hidden]=\"lock!=0\" style=\"color: red\"></i>\n                        <i class=\"fa fa-circle\" [hidden]=\"lock!=1\" style=\"color: yellow\"></i>\n                        <i class=\"fa fa-circle locked-tooltip\" [hidden]=\"lock!=2\" data-toggle=\"tooltip\"\n                            data-placement=\"bottom\" data-html=\"true\" title=\"Locked tooltip\" style=\"color:green;\"></i>\n                    </button>\n                </div>\n            </h5>\n        </div>\n        <div #expander [@slideInOut]=\"exp_trig\" class=\"card-body core-tab-body\">\n            \n            <div id=\"coreTabModal\" class=\"modal fade\" role=\"dialog\">\n                <div class=\"modal-dialog\">\n\n                    <!-- Modal content-->\n                    <div class=\"modal-content\">\n                        <div class=\"modal-body\">\n                            <div class=\"d-flex justify-content-center\">\n                                <div class=\"spinner-border\" role=\"status\">\n                                    <span class=\"sr-only\">Loading...</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n            <app-lexical-entry-core-form [lexData]=\"lexicalEntryData\" *ngIf=\"isLexicalEntry\">\n            </app-lexical-entry-core-form>\n            <app-form-core-form [formData]=\"formData\" *ngIf=\"isForm\"></app-form-core-form>\n            <app-sense-core-form [senseData]=\"senseData\" *ngIf=\"isSense\"></app-sense-core-form>\n            <app-lexical-concept-form [lexicalConceptData]=\"lexicalConceptData\" *ngIf=\"isLexicalConcept\">\n            </app-lexical-concept-form>\n        </div>\n        <div class=\"card-footer text-muted\">\n            <div class=\"w-100 d-flex justify-content-between align-items-center\">\n                <div *ngIf=\"object != null\">\n                    <span class=\"pl-2\">LAST UPDATE ON {{lastUpdateDate | date :'dd/MM/yyyy hh:mm:ss'}}</span>\n                </div>\n                <div class=\"btn-group dropup dropleft\">\n                    <button class=\"btn btn-success\" type=\"button\" id=\"dropdownAddLemma\" data-toggle=\"dropdown\"\n                        aria-haspopup=\"true\" aria-expanded=\"false\"> <i class=\"fas fa-plus\"></i> </button>\n                    <div class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"dropdownAddLemma\">\n                        <button class=\"dropdown-item\" title=\"add new form\" (click)=\"addNewForm()\">Add Form</button>\n                        <button class=\"dropdown-item\" title=\"add new sense\" (click)=\"addNewSense()\">Add Sense</button>\n                        <button class=\"dropdown-item\" title=\"add new etymology\" (click)=\"addNewEtymology()\">Add Etymology</button>\n                        <button class=\"dropdown-item\" title=\"add new bibliography item\" (click)=\"showBiblioModal()\">Add Bibliography</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<app-modal #removeElementModal class=\"remove_element_modal\">\n    <ng-container class=\"app-modal-header\"></ng-container>\n    <ng-container class=\"app-modal-body\">\n        <div class=\"card\">\n            <div class=\"card-body\" *ngIf=\"object != null\">\n                <div class=\"form-group row ml-2 mt-3 mr-2\" *ngIf=\"isLexicalEntry\">\n                    <label for=\"inputLabel\" class=\"col-lg-12 col-form-label\"\n                        style=\"font-size: 12px; text-align: center\">Are you sure to delete {{object.label}}?</label>\n                </div>\n                <div class=\"form-group row ml-2 mt-3 mr-2\" *ngIf=\"isForm\">\n                    <label for=\"inputLabel\" class=\"col-lg-12 col-form-label\"\n                        style=\"font-size: 12px; text-align: center\">Are you sure to delete\n                        {{object.label[0]['propertyValue']}}?</label>\n                </div>\n                <div class=\"form-group row ml-2 mt-3 mr-2\" *ngIf=\"isSense\">\n                    <label for=\"inputLabel\" class=\"col-lg-12 col-form-label\"\n                        style=\"font-size: 12px; text-align: center\">Are you sure to delete\n                        {{object.senseInstanceName}}?</label>\n                </div>\n                <div class=\"form-group row ml-2 mt-3 mr-2 justify-content-md-center\">\n                    <div class=\"input-group col-lg-5 justify-content-md-center\"\n                        style=\"align-items: center; text-align: center;\">\n                        <div class=\"input-group-append ml-2\" *ngIf=\"isLexicalEntry\">\n                            <button class=\"btn btn-success\" type=\"button\"\n                                (click)=\"deleteLexicalEntry(); removeElementModal.hide()\"><i\n                                    class=\"fas fa-check\"></i></button>\n                        </div>\n                        <div class=\"input-group-append ml-2\" *ngIf=\"isForm\">\n                            <button class=\"btn btn-success\" type=\"button\"\n                                (click)=\"deleteForm(); removeElementModal.hide()\"><i class=\"fas fa-check\"></i></button>\n                        </div>\n                        <div class=\"input-group-append ml-2\" *ngIf=\"isSense\">\n                            <button class=\"btn btn-success\" type=\"button\"\n                                (click)=\"deleteSense(); removeElementModal.hide()\"><i class=\"fas fa-check\"></i></button>\n                        </div>\n                        <div class=\"input-group-append ml-2\">\n                            <button class=\"btn btn-danger\" type=\"button\" (click)=\"removeElementModal.hide()\"><i\n                                    class=\"fas fa-times\"></i></button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </ng-container>\n</app-modal>\n\n<app-modal #addBibliography class=\"biblio_modal\" [backdrop]=\"false\" [inViewport]=\"true\" (closeModal)=\"onCloseModal()\">\n\n    <ng-container class=\"app-modal-header\">\n        <img src=\"../../../../../../assets/images/zotero_logo.png\">\n        <span class=\"ml-2 biblio-header-title\">Library: PRIN Italia Antica</span>\n    </ng-container>\n\n    <ng-container class=\"app-modal-body\">\n        <!-- SEARCH BAR -->\n        <div class=\"w-25 pt-1 pb-1\">\n            <div class=\"input-group mb-3\" *ngIf=\"{switch : false}; let variable\">\n                <div class=\"input-group-prepend\">\n                    <button class=\"btn btn-outline-secondary dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\"\n                        aria-haspopup=\"true\" aria-expanded=\"false\"><i class=\"fa fa-search\"></i></button>\n                    <div class=\"dropdown-menu\">\n                        <a [class.disable_click_fire]=\"!variable.switch\" class=\"dropdown-item\" style=\"cursor: pointer;\"\n                            (click)=\"variable.switch = false; searchBibliography(searchBiblio.value, variable.switch);\">Normal</a>\n                        <a [class.disable_click_fire]=\"variable.switch\" class=\"dropdown-item\" style=\"cursor: pointer;\"\n                            (click)=\"variable.switch = true; searchBibliography(searchBiblio.value, variable.switch);\">Full\n                            Text</a>\n                    </div>\n                </div>\n                <input #searchBiblio (keyup)=\"triggerSearch($event, searchBiblio.value, variable.switch)\" type=\"text\"\n                    class=\"form-control\" aria-label=\"Text input with dropdown button\"\n                    [placeholder]=\"variable.switch ?'Title, creator, year + Full Text' : 'Title, creator, year'\"\n                    style=\"font-size: 12px;\">\n            </div>\n\n        </div>\n        <!-- {{'start: '+start + ' sortField: '+ sortField + ' direction: '+ direction + ' queryTitle: '+ queryTitle + ' queryMode: '+ queryMode}} -->\n\n        <!-- SKELETON CONTAINER -->\n        <div class=\"container-fluid\">\n            <div class=\"row\">\n                <div class=\"col-md-8 pl-0\">\n\n\n                    <!-- TABLE -->\n                    <div class=\"table-responsive table-body\">\n                        <div id=\"biblioModal\" class=\"modal fade\" role=\"dialog\">\n                            <div class=\"modal-dialog\">\n\n                                <!-- Modal content-->\n                                <div class=\"modal-content\">\n                                    <div class=\"modal-body\">\n                                        <div class=\"d-flex justify-content-center\">\n                                            <div class=\"spinner-border\" role=\"status\">\n                                                <span class=\"sr-only\">Loading...</span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n\n                            </div>\n                        </div>\n                        \n                        <table class=\"table table-striped table-hover\" [hidden]=\"bibliography.length == 0\">\n                            <thead>\n                                <tr>\n                                    <th scope=\"col\" style=\"width: 50%; cursor: pointer;\" (click)=\"sortBibliography($event, 'title')\">\n                                        <span>Title</span>\n                                        <span class=\"float-right\">\n                                            <i class=\"fas fa-sort-up\" *ngIf=\"direction == 'asc' && sortField == 'title'\"></i>\n                                            <i class=\"fas fa-sort-down\" *ngIf=\"direction == 'desc' && sortField == 'title'\"></i>\n                                        </span>\n                                    </th>\n                                    <th scope=\"col\" style=\"width: 30%; cursor: pointer;\" (click)=\"sortBibliography($event, 'creator')\">\n                                        <span>Creator</span>\n                                        <span class=\"float-right\">\n                                            <i class=\"fas fa-sort-up\" *ngIf=\"direction == 'asc' && sortField == 'creator'\"></i>\n                                            <i class=\"fas fa-sort-down\" *ngIf=\"direction == 'desc' && sortField == 'creator'\"></i>\n                                        </span>\n                                    </th>\n                                    <th scope=\"col\" style=\"width: 20%; cursor: pointer;\" (click)=\"sortBibliography($event, 'date')\">\n                                        <span>Date</span>\n                                        <span class=\"float-right\">\n                                            <i class=\"fas fa-sort-up\" *ngIf=\"direction == 'asc' && sortField == 'date'\"></i>\n                                            <i class=\"fas fa-sort-down\" *ngIf=\"direction == 'desc' && sortField == 'date'\"></i>\n                                        </span>\n                                    </th>\n                                </tr>\n                            </thead>\n                            <tbody #table_body infiniteScroll [infiniteScrollDistance]=\"0.4\"\n                                [infiniteScrollThrottle]=\"150\" [scrollWindow]=\"false\" (scrolled)=\"onScrollDown()\">\n\n\n                                <tr *ngFor=\"let item of bibliography\" (click)=\"selectItem($event, item)\"\n                                    [ngClass]=\"item?.selected ? 'selected' : ''\" style=\"cursor: pointer;\">\n                                    <td style=\"width: 50%\">\n                                        <span *ngIf=\"item.data.itemType == 'book'\" class=\"pl-1 pr-1\">\n                                            <i class=\"fas fa-book\"></i>\n                                        </span>\n                                        <span *ngIf=\"item.data.itemType == 'bookSection'\" class=\"pl-1 pr-1\">\n                                            <i class=\"fas fa-book-open\"></i>\n                                        </span>\n                                        <span *ngIf=\"item.data.itemType == 'journalArticle'\" class=\"pl-1 pr-1\">\n                                            <i class=\"far fa-newspaper\"></i>\n                                        </span>\n                                        <span *ngIf=\"item.data.itemType == 'note'\" class=\"pl-1 pr-1\">\n                                            <i class=\"far fa-clipboard\"></i>\n                                        </span>\n                                        <span *ngIf=\"item.data.itemType == 'attachment'\" class=\"pl-1 pr-1\">\n                                            <i class=\"fas fa-paperclip\"></i>\n                                        </span>\n                                        <span *ngIf=\"item.data.itemType == 'conferencePaper'\" class=\"pl-1 pr-1\">\n                                            <i class=\"fas fa-chalkboard-teacher\"></i>\n                                        </span>\n                                        <span\n                                            *ngIf=\"item.data.title != undefined && item.data.title != ''\">{{item.data.title |titlecase}}</span>\n                                        <span *ngIf=\"item.data.title == undefined || item.data.title == ''\"\n                                            class=\"font-italic\">No title</span>\n                                    </td>\n                                    <td style=\"width: 30%\">\n                                        <span *ngIf=\"item.data.creators != undefined\">\n                                            <span *ngFor=\"let author of item.data.creators; let i = index\">\n                                                <span *ngIf=\"author.creatorType == 'author'\">\n                                                    {{author.lastName | titlecase}} {{author.firstName | titlecase}} \n                                                </span>\n                                            </span>\n                                            <span *ngIf=\"!checkIfCreatorExist(item.data.creators)\"\n                                                class=\"font-italic\">No data</span>\n                                        </span>\n                                        <span *ngIf=\"item.data.creators == undefined\" class=\"font-italic\">No data</span>\n                                    </td>\n                                    <td style=\"width: 20%\">\n                                        <span *ngIf=\"item.data.date != undefined && item.data.date != ''\">\n                                            {{item.data.date | titlecase}}\n                                        </span>\n                                        <span *ngIf=\"item.data.date == undefined || item.data.date == ''\"\n                                            class=\"font-italic\">\n                                            No info\n                                        </span>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <p class=\"font-italic text-muted no-results\" *ngIf=\"bibliography.length == 0\">No results</p>\n                    </div>\n\n\n                </div>\n                <div class=\"col-md-4\" style=\"font-size: 14px;\">\n                    <div class=\"row\">\n                        <div class=\"col-md-12 item-description\"\n                            style=\"height: calc(100vh - 37rem); overflow: auto; font-size: 13px;\">\n                            <div *ngIf=\"!selectedItem\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-12\">\n                                        <p class=\"text-muted text-center align-middle mb-1 font-italic\">\n                                            No item selected\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div *ngIf=\"selectedItem\">\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.itemType != '' && selectedItem.data.itemType != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Item type\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.itemType | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.title != '' && selectedItem.data.title != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Title\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.title | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.creators != undefined && selectedItem.data.creators.length > 0 && checkIfCreatorExist(selectedItem.data.creators)\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Author\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <span *ngFor=\"let author of selectedItem.data.creators\">\n                                            <span *ngIf=\"author.creatorType == 'author'\">\n                                                <p class=\"font-weight-normal mb-1\">\n                                                    {{author.firstName | titlecase}} {{author.lastName | titlecase}}\n                                                </p>\n                                            </span>\n                                        </span>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.creators != undefined && selectedItem.data.creators.length > 0\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Editor\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <span *ngFor=\"let editor of selectedItem.data.creators\">\n                                            <span *ngIf=\"editor.creatorType == 'editor'\">\n                                                <p class=\"font-weight-normal mb-1\">\n                                                    {{editor.firstName | titlecase}} {{editor.lastName | titlecase}}\n                                                </p>\n                                            </span>\n                                        </span>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.publicationTitle != '' && selectedItem.data.publicationTitle != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Publication\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.publicationTitle | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.publisher != '' && selectedItem.data.publisher != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Publisher\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.publisher | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.issue != '' && selectedItem.data.issue != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Issue\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.issue | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.pages != '' && selectedItem.data.pages != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Pages\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.pages | titlecase }}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.place != '' && selectedItem.data.place != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Place\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.place | titlecase }}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.date != '' && selectedItem.data.pages != date\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Date\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.date | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.journalAbbreviation != '' && selectedItem.data.journalAbbreviation != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Journal Abbr\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.journalAbbreviation | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.DOI != '' && selectedItem.data.DOI != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            <a class=\"text-muted\" href=\"{{'https://doi.org/'+selectedItem.data.DOI}}\"\n                                                target=\"_blank\">DOI <i class=\"fas fa-external-link-alt\"></i></a>\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.DOI | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.ISSN != '' && selectedItem.data.ISSN != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            ISSN\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.ISSN | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.url != '' && selectedItem.data.url != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            <a class=\"text-muted\" href=\"{{selectedItem.data.url}}\" target=\"_blank\">URL\n                                                <i class=\"fas fa-external-link-alt\"></i></a>\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.url}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.accessDate != '' && selectedItem.data.accessDate != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Accessed\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.accessDate}}\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-md-12\" style=\"height: calc(40vh - 10rem); overflow: auto; font-size: 13px;\">\n                            <div *ngIf=\"!selectedItem\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-12\">\n                                        <p class=\"text-muted text-center align-middle mb-1 font-italic\">\n                                            No item selected\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div\n                                *ngIf=\"selectedItem && (selectedItem.data.abstractNote == '' || selectedItem.data.abstractNote == undefined)\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-12\">\n                                        <p class=\"text-muted text-center align-middle mb-1 font-italic\">\n                                            No info\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div\n                                *ngIf=\"selectedItem && (selectedItem.data.abstractNote != '' && selectedItem.data.abstractNote != undefined)\">\n                                <p class=\"text-muted font-weight-bold\">\n                                    Abstract\n                                </p>\n                                <p class=\"font-weight-normal\">\n                                    {{selectedItem.data.abstractNote}}\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-md-12 d-flex justify-content-end\">\n                    <button class=\"btn btn-secondary w-25\" [disabled]=\"!selectedItem\" (click)=\"addBibliographyItem(selectedItem)\">Save</button>\n                    <!-- <button class=\"btn btn-secondary\" (click)=\"addBibliography.hide()\">Close</button> -->\n                </div>\n            </div>\n        </div>\n    </ng-container>\n\n    <ng-container class=\"app-modal-footer\">\n    </ng-container>\n</app-modal>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, Input, OnInit, SimpleChanges } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\n\nimport { FormBuilder, FormGroup, FormArray, FormControl } from '@angular/forms';\nimport { debounceTime } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-lexical-entry-vartrans-form',\n  templateUrl: './lexical-entry-vartrans-form.component.html',\n  styleUrls: ['./lexical-entry-vartrans-form.component.scss']\n})\nexport class LexicalEntryVartransFormComponent implements OnInit {\n\n  switchInput = false;\n  subscription: Subscription;\n  object: any;\n  peopleLoading = false;\n  counter = 0;\n  componentRef: any;\n\n  @Input() lexData : any;\n\n  vartransForm = new FormGroup({\n    label: new FormControl(''),\n    translatableAs: new FormArray([this.createTranslatableAs()]),\n    lexicalRelationDirect: new FormArray([this.createLexicalRelationDirect()]),\n    lexicalRelationIndirect: new FormArray([this.createLexicalRelationIndirect()])\n  })\n\n  translatableAs: FormArray;\n  lexicalRelationDirect: FormArray;\n  lexicalRelationIndirect: FormArray;\n  lexicalRelationIndirectSub : FormArray;\n\n  constructor( private lexicalService: LexicalEntriesService, private formBuilder: FormBuilder) {\n  }\n\n  ngOnInit() {\n    \n    this.vartransForm = this.formBuilder.group({\n      label: '',\n      translatableAs: this.formBuilder.array([this.createTranslatableAs()]),\n      lexicalRelationDirect: this.formBuilder.array([this.createLexicalRelationDirect()]),\n      lexicalRelationIndirect: this.formBuilder.array([])\n    })\n    this.onChanges();\n    this.loadPeople();\n    this.triggerTooltip();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    setTimeout(()=> {\n      if(this.object != changes.lexData.currentValue){\n        if(this.lexicalRelationIndirect != null){\n          this.lexicalRelationIndirect.clear();\n        }\n      }\n      this.loadPeople();\n      this.object = changes.lexData.currentValue;\n      if(this.object != null){\n        this.vartransForm.get('label').setValue(this.object.label, {emitEvent:false});\n        this.addLexicalRelationIndirect();\n      }\n      this.triggerTooltip();\n  }, 10)\n  }\n\n  triggerTooltip(){\n    setTimeout(() => {\n      //@ts-ignore\n      $('.vartrans-tooltip').tooltip({\n        trigger : 'hover'\n      });\n    }, 500);\n  }\n\n  private loadPeople() {\n    /* this.peopleLoading = true;\n    this.dataService.getPeople().subscribe(x => {\n      this.people = x;\n      this.peopleLoading = false;\n    }); */\n  }\n\n  onChanges(): void {\n    this.vartransForm.valueChanges.pipe(debounceTime(200)).subscribe(searchParams => {\n      /* //console.log(searchParams) */\n    })\n  }\n\n  createTranslatableAs(): FormGroup {\n    return this.formBuilder.group({\n      entity: ''\n    })\n  }\n\n  addTranslatableAs() {\n    this.translatableAs = this.vartransForm.get('translatableAs') as FormArray;\n    this.translatableAs.push(this.createTranslatableAs());\n    this.triggerTooltip();\n  }\n\n  removeTranslatableAs(index) {\n    this.translatableAs = this.vartransForm.get('translatableAs') as FormArray;\n    this.translatableAs.removeAt(index);\n  }\n\n  addLexicalRelationDirect() {\n    this.lexicalRelationDirect = this.vartransForm.get('lexicalRelationDirect') as FormArray;\n    this.lexicalRelationDirect.push(this.createLexicalRelationDirect());\n    this.triggerTooltip();\n  }\n\n  removeLexicalRelationDirect(index) {\n    this.lexicalRelationDirect = this.vartransForm.get('lexicalRelationDirect') as FormArray;\n    this.lexicalRelationDirect.removeAt(index);\n  }\n\n  addLexicalRelationIndirect() {\n    this.lexicalRelationIndirect = this.vartransForm.get('lexicalRelationIndirect') as FormArray;\n    this.lexicalRelationIndirect.push(this.createLexicalRelationIndirect());\n    this.triggerTooltip();\n  }\n\n  removeLexicalRelationIndirect(index) {\n    this.lexicalRelationIndirect = this.vartransForm.get('lexicalRelationIndirect') as FormArray;\n    this.lexicalRelationIndirect.removeAt(index);\n  }\n\n  addLexicalRelationIndirectSub(index) {\n    const control = (<FormArray>this.vartransForm.controls['lexicalRelationIndirect']).at(index).get('sub_rel') as FormArray;\n    control.insert(index, this.createSubLexicalRelationIndirect())\n    this.triggerTooltip();\n  }\n\n  removeLexicalRelationIndirectSub(index, iy) {\n    const control = (<FormArray>this.vartransForm.controls['lexicalRelationIndirect']).at(index).get('sub_rel') as FormArray;\n    control.removeAt(iy);\n  }\n\n  createLexicalRelationDirect(): FormGroup {\n    return this.formBuilder.group({\n      relation: '',\n      entity: ''\n    })\n  }\n\n  createLexicalRelationIndirect(): FormGroup {\n    return this.formBuilder.group({\n      a_entity: '',\n      relation: '',\n      b_entity: '',\n      sub_rel: new FormArray([])\n    })\n  }\n\n  createSubLexicalRelationIndirect(): FormGroup {\n    return this.formBuilder.group({\n      sub_relation: 'eee',\n      sub_entity: ''\n    })\n  }\n}\n","\n\n<form [formGroup]=\"vartransForm\" *ngIf=\"object!=null\">\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <label for=\"inputLabel\" class=\"col-xl-3 col-form-label\">Label:</label>\n        <div class=\"input-group col-xl-5\">\n            <input formControlName=\"label\" name=\"label\" type=\"text\" class=\"form-control\" placeholder=\"\">\n        </div>\n    </div>\n    \n    <!-- TRANSLATABLE AS -->\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <div class=\"input-group col-xl-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>TRANSLATABLE AS</b></span>\n                <a class=\"pointer\" (click)=\"addTranslatableAs()\"><span class=\"collapse-icon\"><i class=\"fa fa-plus-square\"></i></span></a>\n\n                <div class=\"card-body\">\n                    <div class=\"form-group row ml-2 mt-3 mr-2\" formArrayName=\"translatableAs\" *ngFor=\"let trans of vartransForm.get('translatableAs')['controls']; let i = index\">\n                        <div class=\"input-group col-xl-9\" *ngIf=\"{switch : false}; let variable\" [formGroupName]=\"i\">\n                            <ng-select formControlName=\"entity\" name=\"entity\" [items]=\"people\" bindValue=\"name\" bindLabel=\"name\" placeholder=\"Search entity\" appendTo=\"body\"\n                                [loading]=\"peopleLoading\" *ngIf=\"!variable.switch\">\n                            </ng-select>\n                            <input formControlName=\"entity\" name=\"entity\" type=\"text\" class=\"form-control\" placeholder=\"Insert URI\" *ngIf=\"variable.switch\">\n                            <div class=\"input-group-append ml-3 form-check\">\n                                <input class=\"form-check-input vartrans-tooltip\" type=\"checkbox\" (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\" data-placement=\"bottom\" data-trigger=\"hover\" title=\"Clicca per inserire un URI manualmente\">\n                            </div>\n                            <div class=\"input-group-append ml-2\">\n                                <button class=\"btn btn-primary\" type=\"button\"><i\n                                        class=\"fa fa-external-link-alt\" (click)=\"modalRoot.show()\"></i></button>\n                                        <app-modal #modalRoot class=\"modal-demo\" [maximizable]=\"true\" [backdrop]=\"false\">\n                                            <ng-container class=\"app-modal-header\">Demo modal</ng-container>\n                                            <ng-container class=\"app-modal-body\">\n                                                <h3>MODAL DIALOG</h3>\n                                                <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.\n                                                    Lorem Ipsum has been the industrys standard dummy text ever since the 1500s.</p>\n                                            </ng-container>\n                                            <ng-container class=\"app-modal-footer\">\n                                                <button type=\"button\" class=\"button button3\" (click)=\"modalRoot.hide()\">Delete</button>\n                                                <button type=\"button\" class=\"button button1\" (click)=\"modalRoot.hide()\">Save</button>\n                                                <button type=\"button\" class=\"button button2\" style=\"float: right;\"\n                                                    (click)=\"modalRoot.hide()\">Close\n                                                </button>\n                                            </ng-container>\n                                        </app-modal>\n                            </div>\n                            <div class=\"input-group-append ml-2\">\n                                <button (click)=\"removeTranslatableAs(i)\" class=\"btn btn-danger\" type=\"button\"><i class=\"fa fa-trash-alt\"></i></button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <!-- LEXICAL RELATION DIRECT -->\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <div class=\"input-group col-xl-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>LEXICAL RELATION</b><span class=\"badge badge-primary ml-2\">DIRECT</span></span>\n                <a (click)=\"addLexicalRelationDirect()\" class=\"pointer\"><span class=\"collapse-icon\"><i class=\"fa fa-plus-square\"></i></span></a>\n\n                <div class=\"card-body\">\n                    <div class=\"form-group row ml-2 mt-3 mr-2\" formArrayName=\"lexicalRelationDirect\" *ngFor=\"let direct of vartransForm.get('lexicalRelationDirect')['controls']; let i = index\">\n                        <div class=\"col-xl-5\" [formGroupName]=\"i\">\n                            <select class=\"form-control\" formControlName=\"relation\" name=\"relation\">\n                                <option>Relations...</option>\n                                <option>...</option>\n                            </select>\n                        </div>\n                        <div class=\"input-group col-xl-7\" *ngIf=\"{switch : false}; let variable\" [formGroupName]=\"i\">\n                            <ng-select formControlName=\"entity\" name=\"entity\" [items]=\"people\" bindValue=\"name\" bindLabel=\"name\" placeholder=\"Search entity\" appendTo=\"body\"\n                                [loading]=\"peopleLoading\" *ngIf=\"!variable.switch\">\n                            </ng-select>\n                            <input formControlName=\"entity\" name=\"entity\" type=\"text\" class=\"form-control\" placeholder=\"Insert URI\" *ngIf=\"variable.switch\">\n                            <div class=\"input-group-append ml-3 form-check\">\n                                <input class=\"form-check-input vartrans-tooltip\" type=\"checkbox\" (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\" data-placement=\"bottom\" data-trigger=\"hover\" title=\"Clicca per inserire un URI manualmente\">\n                            </div>\n                            <div class=\"input-group-append ml-2\">\n                                <button class=\"btn btn-primary\" type=\"button\"><i\n                                        class=\"fa fa-external-link-alt\" (click)=\"modalRoot.show()\"></i></button>\n                                <app-modal #modalRoot class=\"modal-demo\" [maximizable]=\"true\" [backdrop]=\"false\">\n                                    <ng-container class=\"app-modal-header\">Demo modal</ng-container>\n                                    <ng-container class=\"app-modal-body\">\n                                        <h3>MODAL DIALOG</h3>\n                                        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.\n                                            Lorem Ipsum has been the industrys standard dummy text ever since the 1500s.</p>\n                                    </ng-container>\n                                    <ng-container class=\"app-modal-footer\">\n                                        <button type=\"button\" class=\"button button3\" (click)=\"modalRoot.hide()\">Delete</button>\n                                        <button type=\"button\" class=\"button button1\" (click)=\"modalRoot.hide()\">Save</button>\n                                        <button type=\"button\" class=\"button button2\" style=\"float: right;\"\n                                            (click)=\"modalRoot.hide()\">Close\n                                        </button>\n                                    </ng-container>\n                                </app-modal>\n                            </div>\n                            <div class=\"input-group-append ml-2\">\n                                <button (click)=\"removeLexicalRelationDirect(i)\" class=\"btn btn-danger\" type=\"button\"><i class=\"fa fa-trash-alt\"></i></button>\n                            </div>\n                        </div>\n                    </div>\n                   \n                </div>\n            </div>\n        </div>\n    </div>\n\n\n    <!-- LEXICAL RELATION INDIRECT -->\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <div class=\"input-group col-xl-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>LEXICAL RELATION</b><span class=\"badge badge-primary ml-2\">INDIRECT</span></span>\n                <a class=\"pointer\" (click)=\"addLexicalRelationIndirect()\"><span class=\"collapse-icon\"><i class=\"fa fa-plus-square\"></i></span></a>\n                <div class=\"card-body\">\n                    <div formArrayName=\"lexicalRelationIndirect\">\n                        <div *ngFor=\"let indirect of vartransForm['controls'].lexicalRelationIndirect['controls']; let i = index\">\n                            <div [formGroupName]=\"i\">\n                                <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                    <div class=\"col-xl-3\">\n                                        <input type=\"text\" class=\"form-control\" formControlName=\"a_entity\" name=\"a_entity\">\n                                    </div>\n                                    <div class=\"col-xl-3\">\n                                        <select class=\"form-control\" formControlName=\"relation\" name=\"relation\">\n                                            <option>Relation</option>\n                                            <option>...</option>\n                                        </select>\n                                    </div>\n                                    <div class=\"input-group col-xl-6\" *ngIf=\"{switch : false}; let variable\">\n                                        <ng-select formControlName=\"b_entity\" name=\"b_entity\" [items]=\"people\" class=\"resizeNgSelect\" bindValue=\"name\" bindLabel=\"name\" placeholder=\"Search entity\" appendTo=\"body\"\n                                            [loading]=\"peopleLoading\" *ngIf=\"!variable.switch\">\n                                        </ng-select>\n                                        <input formControlName=\"b_entity\" name=\"b_entity\" type=\"text\" class=\"form-control\" placeholder=\"Insert URI\" *ngIf=\"variable.switch\">\n                                        <div class=\"input-group-append ml-3 form-check\">\n                                            <input class=\"form-check-input vartrans-tooltip\" type=\"checkbox\" (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\" data-placement=\"bottom\" data-trigger=\"hover\" title=\"Clicca per inserire un URI manualmente\">\n                                        </div>\n                                        <div class=\"input-group-append ml-2\">\n                                            <button class=\"btn btn-primary\" type=\"button\"><i\n                                                    class=\"fa fa-external-link-alt\"></i></button>\n                                        </div>\n                                        <div class=\"input-group-append ml-2\">\n                                            <button (click)=\"removeLexicalRelationIndirect(i)\" class=\"btn btn-danger\" type=\"button\"><i class=\"fa fa-trash-alt\"></i></button>\n                                        </div>\n                                        <div class=\"input-group-append ml-2\">\n                                            <button (click)=\"addLexicalRelationIndirectSub(i)\" class=\"btn btn-outline-primary\" type=\"button\"><i class=\"fa fa-plus\"></i></button>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div formArrayName=\"sub_rel\">\n                                    <div *ngFor=\"let sub of indirect['controls'].sub_rel['controls']; let j = index\">\n                                        <div [formGroupName]=\"j\">\n                                            <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                                <div class=\"col-xl-3\" ></div>\n                                                <div class=\"col-xl-3\">\n                                                    <select class=\"form-control\" formControlName=\"sub_relation\" name=\"sub_relation\">\n                                                        <option>{{sub.value['sub_relation']}}</option>\n                                                        <option>...</option>\n                                                    </select>\n                                                </div>\n                                                <div class=\"input-group col-xl-6\" *ngIf=\"{switch : false}; let variable\">\n                                                    <ng-select formControlName=\"sub_entity\" name=\"sub_entity\" [items]=\"people\" class=\"resizeNgSelect\" bindLabel=\"name\" bindValue=\"name\" placeholder=\"Search entity\" appendTo=\"body\"\n                                                        [loading]=\"peopleLoading\" *ngIf=\"!variable.switch\">\n                                                    </ng-select>\n                                                    <input formControlName=\"sub_entity\" name=\"sub_entity\" type=\"text\" class=\"form-control\" id=\"inputDenotes\" placeholder=\"Insert URI\" *ngIf=\"variable.switch\">\n                                                    <div class=\"input-group-append ml-3 form-check\">\n                                                        <input class=\"form-check-input vartrans-tooltip\" type=\"checkbox\" (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\" data-placement=\"bottom\" data-trigger=\"hover\" title=\"Clicca per inserire un URI manualmente\">\n                                                    </div>\n                                                    <div class=\"input-group-append ml-2\">\n                                                        <button class=\"btn btn-primary\" type=\"button\"><i\n                                                                class=\"fa fa-external-link-alt\"></i></button>\n                                                    </div>\n                                                    <div class=\"input-group-append ml-2\">\n                                                        <button (click)=\"removeLexicalRelationIndirectSub(i, j)\" class=\"btn btn-danger\" type=\"button\"><i class=\"fa fa-trash-alt\"></i></button>\n                                                    </div>\n                                                    <div class=\"input-group-append ml-2\">\n                                                        <button  class=\"btn btn-outline-primary invisible\" type=\"button\"><i class=\"fa fa-plus\"></i></button>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>  \n                    </div>           \n                </div>\n            </div>\n        </div>\n    </div>\n</form>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Subject } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\nimport { ToastrService } from 'ngx-toastr';\n\n@Component({\n  selector: 'app-language-manager',\n  templateUrl: './language-manager.component.html',\n  styleUrls: ['./language-manager.component.scss']\n})\nexport class LanguageManagerComponent implements OnInit {\n\n  languageList = [];\n  editLangArray = [];\n  isValid = false;\n  loadingService = false;\n  removeMessage;\n\n  private subject: Subject<any> = new Subject();\n  /* public urlRegex = /(^|\\s)((https?:\\/\\/.+))/ */\n\n  editLangForm = new FormGroup({\n    description: new FormControl(''),\n    lexvo : new FormControl('', [Validators.required, Validators.minLength(3)]),\n    label: new FormControl('', [Validators.required, Validators.minLength(2), Validators.maxLength(3)])\n  })\n  constructor(private lexicalService: LexicalEntriesService, private toastr: ToastrService) { }\n\n\n  ngOnInit(): void {\n\n    /* this.loadLangData(); */\n\n    /*  this.onChanges(); */\n    this.lexicalService.refreshLangTable$.subscribe(\n      data => {\n        /* //console.log(\"refresh\"); */\n        this.loadLangData();\n      }, error => {\n        //console.log(\"no refresh\")\n      }\n    )\n\n    this.subject.pipe(debounceTime(1000)).subscribe(\n      data => {\n        this.onEditLanguage(data)\n      }\n    )\n  }\n\n\n  loadLangData() {\n    this.lexicalService.getLexiconLanguages().subscribe(\n      data => {\n        /* //console.log(data) */\n        this.languageList = data;\n      }, error => {\n        //console.log(error)\n      }\n    )\n  }\n\n  onSubmit(inputValue: string) {\n    //console.log(inputValue.match(/^[A-Za-z]{2,3}$/))\n    if (inputValue.match(/^[A-Za-z]{2,3}$/)) {\n      this.isValid = true;\n      this.loadingService = true;\n      \n      this.lexicalService.createNewLanguage(inputValue).subscribe(\n        data => {\n          console.log(data)\n          this.loadingService = false;\n          this.lexicalService.refreshFilter({request: true});\n          this.lexicalService.updateLangSelect({request: true});\n          this.lexicalService.refreshLangTable();\n          this.toastr.info('Language '+ data['label'] + ' created', '', {\n            timeOut: 5000,\n          });\n\n        }, error => {\n          console.log(error)\n          this.loadingService = false;\n          this.lexicalService.refreshLangTable();\n          this.lexicalService.refreshFilter({request: true});\n          this.lexicalService.updateLangSelect({request: true});\n        }\n      )\n    } else {\n      this.isValid = false;\n    }\n  }\n\n  triggerEdit(i, v) {\n    this.subject.next({ i, v })\n  }\n\n  onEditLanguage(data) {\n    \n    if(data['v'].trim() != ''){\n      if (data['i'] == \"description\") {\n        let langId = this.editLangArray['languageInstanceName'];\n        let parameters = {\n          relation: 'description',\n          value: data['v']\n        }\n  \n        this.lexicalService.updateLanguage(langId, parameters).subscribe(\n          data => {\n            console.log(data)\n            this.lexicalService.refreshLangTable();\n            this.lexicalService.refreshFilter({request : true})\n          }, error => {\n            console.log(error)\n            this.lexicalService.refreshLangTable();\n            this.lexicalService.refreshFilter({request : true})\n            if(error.statusText == 'OK'){\n              this.toastr.info('Description for '+langId+' updated', '', {\n                timeOut: 5000,\n              });\n            }else{\n              this.toastr.error(error.error, 'Error', {\n                timeOut: 5000,\n              });\n            }\n          }\n        )\n      } else if (data['i'] == \"lexvo\") {\n        //console.log(data)\n        let langId = this.editLangArray['languageInstanceName'];\n        let parameters = {\n          relation: 'lexvo',\n          value: data['v']\n        }\n  \n        this.lexicalService.updateLanguage(langId, parameters).subscribe(\n          data => {\n            console.log(data)\n            this.lexicalService.refreshLangTable();\n            this.lexicalService.refreshFilter({request : true})\n          }, error => {\n            console.log(error)\n            this.lexicalService.refreshLangTable();\n            this.lexicalService.refreshFilter({request : true})\n            if(error.statusText == 'OK'){\n              this.toastr.info('Description for '+langId+' updated', '', {\n                timeOut: 5000,\n              });\n            }else{\n              this.toastr.error(error.error, 'Error', {\n                timeOut: 5000,\n              });\n            }\n          }\n        )\n      }else if (data['i'] == \"label\") {\n        if(this.editLangForm.get('label').valid){\n          let langId = this.editLangArray['languageInstanceName'];\n          let parameters = {\n            relation: 'language',\n            value: data['v']\n          }\n    \n          this.lexicalService.updateLanguage(langId, parameters).subscribe(\n            data => {\n              console.log(data)\n              this.lexicalService.refreshLangTable();\n            }, error => {\n              console.log(error)\n              this.lexicalService.refreshLangTable();\n              if(error.statusText == 'OK'){\n                this.toastr.info('Description for '+langId+' updated', '', {\n                  timeOut: 5000,\n                });\n              }else{\n                this.toastr.error(error.error, 'Error', {\n                  timeOut: 5000,\n                });\n              }\n            }\n          )\n        }else{\n          this.toastr.error('Not valid string for label field', 'Error', {\n            timeOut: 5000,\n          });\n        }\n        \n      }\n    }else{\n      this.toastr.error(\"Don't insert empty value\", 'Error', {\n        timeOut: 5000,\n      });\n    }\n    \n  }\n\n  editLang(index) {\n    this.editLangArray = this.languageList[index]\n    this.editLangForm.get('description').setValue(this.editLangArray['description'], { eventEmit: false })\n    this.editLangForm.get('lexvo').setValue(this.editLangArray['lexvo'], { eventEmit: false })\n    this.editLangForm.get('label').setValue(this.editLangArray['label'], { eventEmit: false })\n    //console.log(this.editLangArray)\n  }\n\n  checkEditValid(index) {\n    return this.editLangForm.get(index).valid;\n  }\n\n  removeLang(index) {\n    this.removeMessage = this.languageList[index]['languageInstanceName']\n  }\n\n  deleteLangRequest(){\n    let langId = this.removeMessage;\n    this.lexicalService.deleteLanguage(langId).subscribe(\n      data=>{\n        console.log(data);\n        this.lexicalService.refreshLangTable();\n        this.lexicalService.refreshFilter({request : true})\n        this.toastr.info('Language ' +langId+' removed', '', {\n          timeOut: 5000,\n        });\n      },error=>{\n        console.log(error);\n        this.lexicalService.refreshLangTable();\n        this.lexicalService.refreshFilter({request : true})\n        this.toastr.error(error.error, 'Error', {\n          timeOut: 5000,\n        });\n      }\n    )\n  }\n\n\n}\n","\n\n<div class=\"card\">\n    <span class=\"text-id\"><b>LANGUAGE LIST</b></span>\n    <a class=\"pointer\" (click)=\"addLanguageModal.show()\"><span class=\"collapse-icon\"><i\n                class=\"fa fa-plus-square\"></i></span></a>\n    <div class=\"card-body\">\n        <div class=\"form-group row ml-3 mt-3 mr-3 mb-0\">\n            <table class=\"table table_language table-bordered  table-hover\">\n                <thead>\n                    <tr>\n                        <th scope=\"col\">#</th>\n                        <th scope=\"col\">Label</th>\n                        <th scope=\"col\">Creator</th>\n                        <th scope=\"col\">Description</th>\n                        <th scope=\"col\">Entries</th>\n                        <th scope=\"col\">Actions</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr *ngFor=\"let lang of languageList; let i = index\">\n                        <th scope=\"row\">{{i+1}}</th>\n                        <td>{{lang['label']}}</td>\n                        <td>{{lang['creator'] != \"\" ? lang['creator'] : '<'+'empty'+'>'}}</td>\n                        <td>{{lang['description'] != \"\" ? (lang['description'] | slice:0:50) +'...' : '<'+'empty'+'>'}}\n                        </td>\n                        <td>{{lang['entries']}}</td>\n                        <td>\n                            <span><button class=\"btn btn-primary mr-1\" (click)=\"editLang(i); editLangModal.show()\"><i\n                                        class=\"fas fa-edit\"></i></button></span>\n                            <span><button class=\"btn btn-danger ml-1\" (click)=\"removeLang(i); removeLangModal.show()\"><i\n                                        class=\"fas fa-trash-alt\"></i></button></span>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>\n\n<app-modal #removeLangModal class=\"remove_languages_modal\">\n    <ng-container class=\"app-modal-header\"></ng-container>\n    <ng-container class=\"app-modal-body\">\n        <div class=\"card\">\n            <div class=\"card-body\">\n                <div class=\"form-group row ml-2 mt-3 mr-2\">\n                    <label for=\"inputLabel\" class=\"col-lg-12 col-form-label\" style=\"font-size: 12px; text-align: center\">Are you sure to delete {{removeMessage}}?</label>\n                </div>\n                <div class=\"form-group row ml-2 mt-3 mr-2 justify-content-md-center\">\n                    <div class=\"input-group col-lg-5 justify-content-md-center\" style=\"align-items: center; text-align: center;\">\n                        <div class=\"input-group-append ml-2\">\n                            <button class=\"btn btn-success\" type=\"button\" (click)=\"deleteLangRequest(); removeLangModal.hide()\"><i\n                                    class=\"fas fa-check\"></i></button>\n                        </div>\n                        <div class=\"input-group-append ml-2\">\n                            <button class=\"btn btn-danger\" type=\"button\" (click)=\"removeLangModal.hide()\"><i\n                                    class=\"fas fa-times\"></i></button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </ng-container>\n</app-modal>\n\n\n<app-modal #editLangModal class=\"edit_languages_modal\" >\n    <ng-container class=\"app-modal-header\"></ng-container>\n    <ng-container class=\"app-modal-body\">\n        <div class=\"card\" *ngIf=\"editLangArray\">\n            <span class=\"text-id\"><b>LANGUAGE EDITOR</b></span>\n            <!-- <a class=\"pointer\" (click)=\"addLanguageModal.show()\"><span class=\"collapse-icon\"><i\n                        class=\"fa fa-plus-square\"></i></span></a> -->\n            <div class=\"card-body\">\n                <form [formGroup]=\"editLangForm\">\n                    <div *ngFor=\"let item of editLangArray | keyvalue\">\n                        <div class=\"form-group row ml-2 mt-3 mr-2\" *ngIf=\"item.key == 'description' || item.key == 'label' || item.key == 'lexvo'\">\n                            <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\" style=\"font-size: 12px;\">{{item.key}}</label>\n                            <div class=\"input-group col-lg-9\" style=\"align-items: center;\">\n                                <input #inputLang type=\"text\" class=\"form-control\" placeholder=\"\" [value]=\"item.value\" [formControlName]=\"item.key\" [name]=\"item.key\" (keyup)=\"triggerEdit(item.key, inputLang.value)\">\n                                <div class=\"invalid-feedback\" *ngIf=\"!checkEditValid(item.key)\" style=\"display: block; font-size: 9px;\">\n                                    Invalid Field\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </ng-container>\n</app-modal>\n\n\n\n\n<app-modal #addLanguageModal class=\"add_languages_modal\">\n    <ng-container class=\"app-modal-header\"></ng-container>\n    <ng-container class=\"app-modal-body\">\n        <div class=\"card\">\n            <div class=\"card-body\">\n                <div class=\"form-group row ml-2 mt-3 mr-2\">\n                    <label for=\"inputLabel\" class=\"col-lg-5 col-form-label\" style=\"font-size: 12px;\">Insert a language\n                        code (max 2-3 chars):</label>\n                    <div class=\"input-group col-lg-7\" style=\"align-items: center;\">\n                        <input #inputAddLanguage id=\"label\" type=\"text\" class=\"form-control\" placeholder=\"\" #langValue>\n                        <div class=\"input-group-append ml-2\">\n                            <button class=\"btn btn-success\" type=\"button\" (click)=\"onSubmit(langValue.value); addLanguageModal.hide()\"\n                            [disabled]=\"inputAddLanguage.value.length < 2 || inputAddLanguage.value.length > 3\"><i\n                                    class=\"fas fa-check\"></i></button>\n                        </div>\n                        <div class=\"spinner-border spinner-border-sm m-1\" role=\"status\" *ngIf=\"loadingService\">\n                            <span class=\"sr-only\">Loading...</span>\n                        </div>\n                        <div class=\"invalid-feedback\" *ngIf=\"!isValid\" style=\"display: block; font-size: 9px;\">\n                            Please, insert at least three characters.\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </ng-container>\n</app-modal>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BibliographyService {\n\n  constructor(private http: HttpClient) { }\n\n\n  private baseUrl = \"https://api.zotero.org/groups/2552746/items\";\n  \n  private _addBiblioItem: BehaviorSubject<any> = new BehaviorSubject(null);\n  private _triggerPanel: BehaviorSubject<object> = new BehaviorSubject(null);\n  addBiblioReq$ = this._addBiblioItem.asObservable();\n  triggerPanel$ = this._triggerPanel.asObservable();\n\n  sendDataToBibliographyPanel(object: any) {\n    this._addBiblioItem.next(object)\n  }\n\n  triggerPanel(object: object) {\n    this._triggerPanel.next(object)\n  } \n\n  bootstrapData(start? : number, sortField? : string, direction? : string) : Observable<any> {\n    return this.http.get(this.baseUrl + '?limit=25&start='+start+'&sort='+sortField+'&direction='+direction+'&v=3');\n  }\n\n  filterBibliography(start? : number, sortField? : string, direction? : string, query?, queryMode?) : Observable<any> {\n    return this.http.get(this.baseUrl + '?limit=25&q='+query+'&qmode='+queryMode+'&start='+start+'&sort='+sortField+'&direction='+direction+'&v=3');\n  }\n\n}\n","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, Input, OnInit, SimpleChanges } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\n\nimport { FormBuilder, FormGroup, FormArray, FormControl } from '@angular/forms';\nimport { debounceTime } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-lexical-entry-synsem-form',\n  templateUrl: './lexical-entry-synsem-form.component.html',\n  styleUrls: ['./lexical-entry-synsem-form.component.scss']\n})\nexport class LexicalEntrySynsemFormComponent implements OnInit {\n\n  switchInput = false;\n  subscription: Subscription;\n  object: any;\n  peopleLoading = false;\n  counter = 0;\n  componentRef: any;\n\n  @Input() lexData: any;\n\n  synsemForm = new FormGroup({\n    label: new FormControl(''),\n    frames: new FormArray([this.createFrame()])\n  })\n\n  frameArray: FormArray;\n\n  constructor(private lexicalService: LexicalEntriesService, private formBuilder: FormBuilder) {\n  }\n\n  ngOnInit() {\n\n    this.synsemForm = this.formBuilder.group({\n      label: '',\n      frames: this.formBuilder.array([])\n    })\n    this.onChanges();\n    this.loadPeople();\n    this.triggerTooltip();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    setTimeout(() => {\n      if (this.object != changes.lexData.currentValue) {\n        if (this.frameArray != null) {\n          this.frameArray.clear();\n        }\n      }\n      this.loadPeople();\n      this.object = changes.lexData.currentValue;\n      if (this.object != null) {\n        this.synsemForm.get('label').setValue(this.object.label, { emitEvent: false });\n\n      }\n      this.triggerTooltip();\n    }, 10)\n  }\n\n  triggerTooltip() {\n    setTimeout(() => {\n      //@ts-ignore\n      $('.vartrans-tooltip').tooltip({\n        trigger: 'hover'\n      });\n    }, 500);\n  }\n\n  private loadPeople() {\n    /* this.peopleLoading = true;\n    this.dataService.getPeople().subscribe(x => {\n      this.people = x;\n      this.peopleLoading = false;\n    }); */\n  }\n\n  onChanges(): void {\n    this.synsemForm.valueChanges.pipe(debounceTime(200)).subscribe(searchParams => {\n      //console.log(searchParams)\n    })\n  }\n\n  addFrame() {\n    this.frameArray = this.synsemForm.get('frames') as FormArray;\n    this.frameArray.push(this.createFrame());\n  }\n\n  addArg(index){\n    const control = (<FormArray>this.synsemForm.controls['frames']).at(index).get('args') as FormArray;\n    control.push(this.createArg());\n  }\n\n  addForm(ix, iy){\n    const control = ((<FormArray>this.synsemForm.controls['frames']).at(ix).get('args') as FormArray).at(iy).get('form') as FormArray;\n    control.push(this.createForm());\n  }\n\n  removeArg(ix, iy){\n    const control = (<FormArray>this.synsemForm.controls['frames']).at(ix).get('args') as FormArray;\n    control.removeAt(iy);\n  }\n\n  removeForm(ix, iy, iz){\n    const control = ((<FormArray>this.synsemForm.controls['frames']).at(ix).get('args') as FormArray).at(iy).get('form') as FormArray;\n    control.removeAt(iz);\n  }\n\n  removeFrame(index) {\n    this.frameArray = this.synsemForm.get('frames') as FormArray;\n    this.frameArray.removeAt(index);\n  }\n\n  createFrame(): FormGroup {\n    return this.formBuilder.group({\n      label: '',\n      type: '',\n      example: '',\n      args: new FormArray([])\n    })\n  }\n\n  createArg() : FormGroup {\n    return this.formBuilder.group({\n      label: '',\n      type: '',\n      marker: '',\n      optional: false,\n      form: new FormArray([])\n    })\n  }\n\n  createForm() : FormGroup {\n    return this.formBuilder.group({\n      form_label: ''\n    })\n  }\n\n\n}\n","\n\n<form [formGroup]=\"synsemForm\" *ngIf=\"object!=null\">\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <label for=\"inputLabel\" class=\"col-xl-3 col-form-label\">Label:</label>\n        <div class=\"input-group col-xl-5\">\n            <input formControlName=\"label\" name=\"label\" type=\"text\" class=\"form-control\" placeholder=\"\">\n        </div>\n        <div class=\"input-group-append\">\n            <div class=\"input-group-append ml-2\">\n                <button (click)=\"addFrame()\" class=\"btn btn-outline-primary\" type=\"button\"><i class=\"fa fa-plus\"></i></button>\n            </div>\n        </div>\n    </div>\n    \n    <!-- FRAME -->\n    <div formArrayName=\"frames\">\n        <div *ngFor=\"let frame of synsemForm['controls'].frames['controls']; let i = index\">\n            <div [formGroupName]=\"i\">\n                <div class=\"form-group row ml-2 mt-3 mr-2\">\n                    <div class=\"input-group col-xl-12\">\n                        <div class=\"card\">\n                            <span class=\"text-id\"><b>FRAME</b></span>\n                            <a class=\"pointer\" (click)=\"addArg(i)\"><span class=\"add-icon\"><i class=\"fa fa-plus-square\"></i></span></a>\n                            <a class=\"pointer\" (click)=\"removeFrame(i)\"><span class=\"trash-icon\"><i class=\"fa fa-trash\"></i></span></a>\n                            <div class=\"card-body\">\n                                <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                    <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Label:</label>\n                                    <div class=\"input-group col-lg-5\">\n                                        <input formControlName=\"label\" name=\"label\" type=\"text\" class=\"form-control\" placeholder=\"\">\n                                    </div>\n                                </div>\n                                <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                    <label for=\"inputType\" class=\"col-lg-3 col-form-label\">Type:</label>\n                                    <div class=\"col-lg-5\">\n                                        <select formControlName=\"type\" name=\"type\" class=\"form-control\">\n                                            <option [value]=\"object.type\">{{object.type}}</option>\n                                        </select>\n                                    </div>\n                                </div>\n                                <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                    <label for=\"inputLanguage\" class=\"col-lg-3 col-form-label\">Example:</label>\n                                    <div class=\"col-lg-8\">\n                                        <input formControlName=\"example\" name=\"example\" type=\"text\" class=\"form-control\" placeholder=\"\">\n                                    </div>\n                                </div>\n\n                                <!-- ARGS -->\n                                <div formArrayName=\"args\">\n                                    <div *ngFor=\"let a of frame['controls'].args['controls']; let j = index\">\n                                        <div [formGroupName]=\"j\">\n                                            <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                                <div class=\"input-group col-xl-12\">\n                                                    <div class=\"card\">\n                                                        <span class=\"text-id\"><span class=\"badge badge-primary ml-2\">ARG#{{j+1}}</span></span>\n                                                        <a class=\"pointer\" (click)=\"addForm(i, j)\"><span class=\"add-icon\"><i class=\"fa fa-plus-square\"></i></span></a>\n                                                        <a class=\"pointer\" (click)=\"removeArg(i, j)\"><span class=\"trash-icon\"><i class=\"fa fa-trash\"></i></span></a>\n                                                        <div class=\"card-body\">\n                                                            <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                                                <label class=\"col-lg-3 col-form-label\">Label:</label>\n                                                                <div class=\"input-group col-lg-5\">\n                                                                    <input formControlName=\"label\" name=\"label\" type=\"text\" class=\"form-control\" placeholder=\"\">\n                                                                </div>\n                                                            </div>\n                                                            <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                                                <label for=\"inputType\" class=\"col-lg-3 col-form-label\">Type:</label>\n                                                                <div class=\"col-lg-5\">\n                                                                    <select formControlName=\"type\" name=\"type\" class=\"form-control\">\n                                                                        <option [value]=\"object.type\">{{object.type}}</option>\n                                                                    </select>\n                                                                </div>\n                                                            </div>\n                                                            <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                                                <label class=\"col-lg-3 col-form-label\">Marker:</label>\n                                                                <div class=\"col-lg-5\">\n                                                                    <input formControlName=\"marker\" name=\"marker\" type=\"text\" class=\"form-control\" placeholder=\"\">\n                                                                </div>\n                                                            </div>\n                                                            <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                                                <label class=\"col-lg-3 col-form-label\">Optional:</label>        \n                                                                <div class=\"input-group col-lg-7 ml-3\">\n                                                                    <div class=\"input-group-append ml-2\" style=\"align-items: center;\">\n                                                                        <input formControlName=\"optional\" name=\"optional\" class=\"form-check-input\" type=\"checkbox\">\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n\n                                                            <div class=\"form-group row ml-2 mt-3 mr-2\" *ngIf=\"a['controls'].form['controls'].length > 0\" style=\"align-items:baseline;\">\n                                                                <label class=\"col-lg-3 col-form-label\">Form:</label>\n\n                                                                <!-- FORM -->\n                                                                <div formArrayName=\"form\" class=\"col-lg-9\" style=\"max-height: 15vh;overflow: auto;\">\n                                                                    <div *ngFor=\"let form of a['controls'].form['controls']; let k = index\">\n                                                                        <div [formGroupName]=\"k\">\n                                                                            <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                                                                <div class=\"input-group\" *ngIf=\"{switch : false}; let variable\">\n                                                                                    <ng-select formControlName=\"form_label\" name=\"form_label\" [items]=\"people\" class=\"resizeNgSelect\" bindLabel=\"name\" bindValue=\"name\" placeholder=\"Search entity\" appendTo=\"body\"\n                                                                                        [loading]=\"peopleLoading\" *ngIf=\"!variable.switch\">\n                                                                                    </ng-select>\n                                                                                    <input formControlName=\"form_label\" name=\"form_label\" type=\"text\" class=\"form-control\" id=\"inputDenotes\" placeholder=\"Insert URI\" *ngIf=\"variable.switch\">\n                                                                                    <div class=\"input-group-append ml-3 form-check\">\n                                                                                        <input class=\"form-check-input vartrans-tooltip\" type=\"checkbox\" (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\" data-placement=\"bottom\" data-trigger=\"hover\" title=\"Clicca per inserire un URI manualmente\">\n                                                                                    </div>\n                                                                                    <div class=\"input-group-append ml-2\">\n                                                                                        <button class=\"btn btn-primary\" type=\"button\"><i\n                                                                                                class=\"fa fa-external-link-alt\"></i></button>\n                                                                                    </div>\n                                                                                    <div class=\"input-group-append ml-2\">\n                                                                                        <button (click)=\"removeForm(i, j, k)\" class=\"btn btn-danger\" type=\"button\"><i class=\"fa fa-trash-alt\"></i></button>\n                                                                                    </div>\n                                                                                    \n                                                                                </div>\n                                                                            </div>  \n                                                                        </div>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    \n</form>","import { FormGroup } from '@angular/forms';\n    \nexport function ConfirmedValidator(controlName: string, matchingControlName: string){\n    return (formGroup: FormGroup) => {\n        const control = formGroup.controls[controlName];\n        const matchingControl = formGroup.controls[matchingControlName];\n        if (matchingControl.errors && !matchingControl.errors.confirmedValidator) {\n            return;\n        }\n        if (control.value !== matchingControl.value) {\n            matchingControl.setErrors({ confirmedValidator: true });\n        } else {\n            matchingControl.setErrors(null);\n        }\n    }\n}","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ConceptService {\n\n\n  constructor(private http: HttpClient) { }\n\n  \n}\n","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-login-page',\n  templateUrl: './login-page.component.html',\n  styleUrls: ['./login-page.component.scss']\n})\nexport class LoginPageComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","\n\n<div class=\"text-center\">\n    <form class=\"form-signin\">\n      <img class=\"mb-4\" src=\"../../../assets/images/LexOIcon.png\" alt=\"\" width=\"120\" >\n      <h1 class=\"h3 mb-3 font-weight-normal\">Please sign in</h1>\n      <label for=\"inputEmail\" class=\"sr-only\">Email address</label>\n      <input type=\"email\" id=\"inputEmail\" class=\"form-control\" placeholder=\"Email address\" required autofocus>\n      <label for=\"inputPassword\" class=\"sr-only\">Password</label>\n      <input type=\"password\" id=\"inputPassword\" class=\"form-control\" placeholder=\"Password\" required>\n      <div class=\"checkbox mb-3\">\n        <label>\n          <input type=\"checkbox\" value=\"remember-me\"> Remember me\n        </label>\n      </div>\n      <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">Sign in</button>\n      <p class=\"mt-5 mb-3 text-muted\">&copy; 2020</p>\n    </form>\n</div>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'epilexo';\n}\n","\n\n<app-navbar></app-navbar>\n<router-outlet></router-outlet>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, Input, OnInit, QueryList, SimpleChanges, ViewChildren } from '@angular/core';\nimport { FormArray, FormBuilder, FormControl, FormGroup } from '@angular/forms';\nimport { NgSelectComponent } from '@ng-select/ng-select';\nimport { ToastrService } from 'ngx-toastr';\nimport { Subject, Subscription } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\nimport { LilaService } from 'src/app/services/lila/lila.service';\n\n@Component({\n  selector: 'app-etymology-form',\n  templateUrl: './etymology-form.component.html',\n  styleUrls: ['./etymology-form.component.scss']\n})\nexport class EtymologyFormComponent implements OnInit {\n\n  @Input() etymData: any;\n  @ViewChildren('etyLink') etyLinkList: QueryList<NgSelectComponent>;\n  switchInput = false;\n  subscription: Subscription;\n  object: any;\n  peopleLoading = false;\n  counter = 0;\n  componentRef: any;\n\n\n  etyForm = new FormGroup({\n    label: new FormControl(''),\n    author: new FormControl(''),\n    confidence : new FormControl(null),\n    etylink: new FormArray([this.createEtyLink()]),\n    cognates: new FormArray([this.createCognate()]),\n    isEtymon: new FormControl(false),\n    isCognate: new FormControl(false)\n  })\n\n  etyLinkArray: FormArray;\n  cognatesArray: FormArray;\n\n  private subject_cognates: Subject<any> = new Subject();\n  private subject_cognates_input: Subject<any> = new Subject();\n  private subject_etylink: Subject<any> = new Subject();\n  private subject_etylink_input: Subject<any> = new Subject();\n  private etylink_note_subject : Subject<any> = new Subject();\n  private etylink_label_subject : Subject<any> = new Subject();\n  searchResults = [];\n  filterLoading = false;\n\n  memoryLinks = [];\n\n  constructor(private lexicalService: LexicalEntriesService, \n              private formBuilder: FormBuilder, \n              private toastr: ToastrService,\n              private lilaService : LilaService) { }\n\n  ngOnInit(): void {\n\n    this.etyForm = this.formBuilder.group({\n      label: '',\n      author: '',\n      confidence : false,\n      etylink: this.formBuilder.array([]),\n      cognates : this.formBuilder.array([]),\n      isEtymon: false,\n      isCognate: false\n    })\n    this.onChanges();\n    this.triggerTooltip();\n\n    this.subject_cognates.pipe(debounceTime(1000)).subscribe(\n      data => {\n        if(data != null){\n          this.onSearchFilter(data)\n\n        }\n      }\n    )\n\n    this.subject_etylink.pipe(debounceTime(1000)).subscribe(\n      data => {\n        if(data != null){\n          this.onSearchFilter(data)\n\n        }\n      }\n    )\n\n    this.subject_etylink_input.pipe(debounceTime(1000)).subscribe(\n      data => {\n        console.log(data)\n        if(data != null){\n          let value= data['value'];\n          let index = data['i'];\n          this.onChangeEtylink(value, index)\n        }\n        \n      }\n    )\n\n    this.subject_cognates_input.pipe(debounceTime(1000)).subscribe(\n      data => {\n        this.onSearchFilter(data)\n      }\n    )\n\n    this.etylink_note_subject.pipe(debounceTime(1000)).subscribe(\n      data => {\n        this.onChangeEtylinkNote(data)\n      }\n    )\n\n    this.etylink_label_subject.pipe(debounceTime(1000)).subscribe(\n      data => {\n        this.onChangeEtylinkLabel(data)\n      }\n    )\n  }\n  \n\n  triggerTooltip() {\n    setTimeout(() => {\n      //@ts-ignore\n      $('.vartrans-tooltip').tooltip({\n        trigger: 'hover'\n      });\n    }, 500);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    \n      if (this.object != changes.etymData.currentValue) {\n        if (this.etyLinkArray != undefined || this.cognatesArray != undefined) {\n          this.etyLinkArray.clear();\n          //this.cognatesArray.clear();\n          \n          this.memoryLinks = [];\n        }\n      }\n      this.object = changes.etymData.currentValue;\n      console.log(this.object)\n      if (this.object != null) {\n        this.etyForm.get('label').setValue(this.object.etymology.label, { emitEvent: false });\n        this.etyForm.get('author').setValue(this.object.etymology.hypothesisOf, { emitEvent: false });\n        if(this.object.etymology.confidence == 0){\n          this.etyForm.get('confidence').setValue(true, { emitEvent: false });\n        }else{\n          this.etyForm.get('confidence').setValue(false, { emitEvent: false });\n        }\n\n        let isCognate = this.object.type.find(element => element == 'Cognate');\n        if(isCognate){\n            this.etyForm.get('isCognate').setValue(true, {emitEvent: false})\n        }else{\n            this.etyForm.get('isCognate').setValue(false, {emitEvent: false})\n        }\n\n        let isEtymon = this.object.type.find(element => element == 'Etymon');\n        if(isEtymon){\n            this.etyForm.get('isEtymon').setValue(true, {emitEvent: false})\n        }else{\n            this.etyForm.get('isEtymon').setValue(false, {emitEvent: false})\n        }\n        \n        if(this.object.etyLinks != undefined){\n          if(this.object.etyLinks.length != 0){\n            this.object.etyLinks.forEach(element => {\n              let lex_entity = element.etySourceLabel == '' ? element.etySource : element.etySourceLabel;\n              let label = element.label == '' ? element.etySourceLabel : element.label;\n              let ety_type = element.etyLinkType;\n              let ety_source = element.etySource;\n              let ety_target = element.etyTarget;\n              let note = element.note;\n              let external_iri = element.externalIRI;\n              this.addEtyLink(lex_entity, label, ety_type, ety_source, ety_target, note, external_iri);\n              this.memoryLinks.push(element);\n              /* console.log(element) */\n            });\n          }\n        }\n      }\n      this.triggerTooltip();\n    \n  }\n\n\n  onChanges(): void {\n    /* this.etyForm.valueChanges.pipe(debounceTime(200)).subscribe(searchParams => {\n      console.log(searchParams)\n    }) */\n    this.etyForm.get('confidence').valueChanges.pipe(debounceTime(100)).subscribe(newConfidence => {\n      let confidence_value = null;\n      console.log(newConfidence)\n      if(newConfidence == false){\n        confidence_value = 1\n        this.etyForm.get('confidence').setValue(false, { emitEvent: false });\n      }else{\n        confidence_value = 0\n        this.etyForm.get('confidence').setValue(true, { emitEvent: false });\n      }\n\n      this.lexicalService.spinnerAction('on');\n      let etyId = this.object.etymology.etymologyInstanceName;\n      let parameters = {\n          type: \"confidence\",\n          relation: 'confidence',\n          value: confidence_value\n      }\n      console.log(parameters)\n      this.lexicalService.updateGenericRelation(etyId, parameters).subscribe(\n          data => {\n              console.log(data);\n              /* data['request'] = 0;\n              data['new_label'] = confidence_value\n              this.lexicalService.refreshAfterEdit(data); */\n              //this.lexicalService.updateLexCard(data)\n              this.lexicalService.spinnerAction('off');\n          },\n          error => {\n              console.log(error);\n              /*  const data = this.object.etymology;\n              data['request'] = 0;\n              data['new_label'] = confidence_value;\n              this.lexicalService.refreshAfterEdit(data); */\n              this.lexicalService.spinnerAction('off');\n              //this.lexicalService.updateLexCard({ lastUpdate: error.error.text })\n              if(error.status == 200){\n                this.toastr.success('Label updated', '', {timeOut: 5000})\n\n              }else{\n                this.toastr.error(error.error, 'Error', {timeOut: 5000})\n\n              }\n          }\n      )\n\n    });\n\n\n    this.etyForm.get(\"label\").valueChanges.pipe(debounceTime(1000)).subscribe(\n      updatedLabel => {\n        if (updatedLabel.length > 2 && updatedLabel.trim() != '') {\n          this.lexicalService.spinnerAction('on');\n          let etyId = this.object.etymology.etymologyInstanceName;\n          let parameters = {\n              relation: 'label',\n              value: updatedLabel\n          }\n          this.lexicalService.updateEtymology(etyId, parameters).subscribe(\n            data => {\n                //console.log(data);\n                data['request'] = 0;\n                data['new_label'] = updatedLabel\n                this.lexicalService.refreshAfterEdit(data);\n                this.lexicalService.spinnerAction('off');\n                //this.lexicalService.updateLexCard(data)\n                this.toastr.success('Label updated', '', {timeOut: 5000})\n            },\n            error => {\n                //console.log(error);\n                const data = this.object.etymology;\n                data['request'] = 0;\n                data['new_label'] = updatedLabel;\n                this.lexicalService.refreshAfterEdit(data);\n                this.lexicalService.spinnerAction('off');\n                //this.lexicalService.updateLexCard({ lastUpdate: error.error.text })\n                if(error.status == 200){\n                  this.toastr.success('Label updated', '', {timeOut: 5000})\n\n                }else{\n                  this.toastr.error(error.error, 'Error', {timeOut: 5000})\n\n                }\n            }\n          )\n        }\n      }\n    )\n\n    this.etyForm.get(\"author\").valueChanges.pipe(debounceTime(1000)).subscribe(\n      updateAuthor => {\n        \n        this.lexicalService.spinnerAction('on');\n        let etyId = this.object.etymology.etymologyInstanceName;\n        let parameters = {\n            relation: 'hypothesisOf',\n            value: updateAuthor\n        }\n        this.lexicalService.updateEtymology(etyId, parameters).subscribe(\n          data => {\n              //console.log(data);\n              /* data['request'] = 0;\n              data['new_label'] = updateAuthor\n              this.lexicalService.refreshAfterEdit(data); */\n              this.lexicalService.spinnerAction('off');\n              //this.lexicalService.updateLexCard(data)\n              this.toastr.success('Author updated', '', {timeOut: 5000})\n          },\n          error => {\n              //console.log(error);\n              /* const data = this.object;\n              data['request'] = 0;\n              data['new_label'] = updateAuthor;\n              this.lexicalService.refreshAfterEdit(data); */\n              this.lexicalService.spinnerAction('off');\n              //this.lexicalService.updateLexCard({ lastUpdate: error.error.text })\n              if(error.status == 200){\n                this.toastr.success('Label updated', '', {timeOut: 5000})\n\n              }else{\n                this.toastr.error(error.error, 'Error', {timeOut: 5000})\n\n              }\n          }\n        )\n        \n      }\n    )\n  }\n\n  onChangeEtylinkNote(data){\n    console.log(data)\n    if(data != undefined){\n      \n      let newValue = data.evt.target.value;\n      let currentValue;\n      let index = data?.index;\n      \n      let oldValue = this.memoryLinks[index].note;\n\n      let instanceName = this.object.etyLinks[index].etymologicalLinkInstanceName;\n      \n\n      let parameters = {\n        relation: 'note',\n        value : newValue,\n        currentValue : oldValue\n      };\n\n      console.log(parameters)\n\n      this.lexicalService.updateEtylink(instanceName, parameters).subscribe(\n        data=> {\n          console.log(data);\n          this.lexicalService.spinnerAction('off');\n          //this.lexicalService.updateLexCard(this.object)\n          this.memoryLinks[index].note = newValue\n          this.toastr.success('EtyLink note updated', '', {timeOut: 5000})\n        },error=> {\n          console.log(error);\n          //this.lexicalService.updateLexCard({ lastUpdate: error.error.text })\n          this.lexicalService.spinnerAction('off');\n          this.memoryLinks[index].note = newValue\n          if(error.status == 200){\n            this.toastr.success('Label updated', '', {timeOut: 5000})\n\n          }else{\n            this.toastr.error(error.error, 'Error', {timeOut: 5000})\n\n          }\n        }\n      )\n    \n    }\n  }\n\n  onChangeEtylinkLabel(data){\n    console.log(data)\n    if(data != undefined){\n      \n      let newValue = data.evt.target.value;\n      let currentValue;\n      let index = data?.index;\n      \n      let oldValue = this.memoryLinks[index].note;\n\n      let instanceName = this.object.etyLinks[index].etymologicalLinkInstanceName;\n      \n\n      let parameters = {\n        relation: 'label',\n        value : newValue,\n        currentValue : oldValue\n      };\n\n      console.log(parameters)\n\n      this.lexicalService.updateEtylink(instanceName, parameters).subscribe(\n        data=> {\n          console.log(data);\n          this.lexicalService.spinnerAction('off');\n          //this.lexicalService.updateLexCard(this.object)\n          this.memoryLinks[index].note = newValue\n          this.toastr.success('EtyLink label updated', '', {timeOut: 5000})\n\n        },error=> {\n          console.log(error);\n          //this.lexicalService.updateLexCard({ lastUpdate: error.error.text })\n          this.lexicalService.spinnerAction('off');\n          this.memoryLinks[index].note = newValue\n          this.toastr.error(error.error, 'Error', {timeOut: 5000})\n        }\n      )\n    \n    }\n  }\n\n  onChangeEtylinkType(index, evt){\n    console.log(index, evt.target.value)\n    this.etyLinkArray = this.etyForm.get('etylink') as FormArray;\n    let selectedValues, etymId;\n    selectedValues = evt.target.value;\n    \n    if (this.object.etymology.etymologyInstanceName != undefined) {\n      etymId = this.object.etyLinks[index].etymologicalLinkInstanceName;\n    }\n\n    if(selectedValues != null){\n      \n      //let oldValue = this.memoryLinks[index].etySource;\n      let parameters = {\n        relation: \"etyLinkType\",\n        value: selectedValues,\n      }\n      console.log(parameters)\n      this.lexicalService.updateEtylink(etymId, parameters).subscribe(\n        data => {\n          console.log(data)\n        }, error => {\n          console.log(error)\n          if(error.status == 200){\n            this.toastr.success('Etylink type updated', '', {timeOut: 5000})\n            //this.lexicalService.updateLexCard({ lastUpdate: error.error.text })\n          }else{\n            this.toastr.error(error.error, 'Error', {timeOut: 5000})\n          }\n        }\n        )\n      \n    }\n  }\n\n  onChangeEtylink(etyLink, index) {\n    console.log(etyLink.selectedItems)\n    this.etyLinkArray = this.etyForm.get('etylink') as FormArray;\n    let selectedValues, etymId, etySourceLabel, instanceName;\n\n    if(!this.etyLinkArray.at(index).get('lila').value){\n      if(etyLink.selectedItems != undefined){\n        if (etyLink.selectedItems.length != 0) {\n          selectedValues = etyLink.selectedItems[0].value.lexicalEntryInstanceName;\n          etySourceLabel = etyLink.selectedItems[0].value.label;\n          instanceName = etyLink.selectedItems[0].value.lexicalEntry;\n        }\n      }else if(etyLink != \"\"){\n        selectedValues = etyLink;\n        etySourceLabel = '';\n        instanceName = etyLink;\n      }\n    }else{\n      selectedValues = etyLink.selectedItems[0].value.lexicalEntry;\n      etySourceLabel = etyLink.selectedItems[0].value.label;\n      instanceName = etyLink.selectedItems[0].value.lexicalEntry;\n    }\n    \n    \n    //console.log(index);\n    //console.log(this.object.etyLinks[index])\n    if (this.object.etymology.etymologyInstanceName != undefined) {\n      etymId = this.object.etyLinks[index].etymologicalLinkInstanceName;\n    }\n\n    let existOrNot = this.memoryLinks.some(element => element.etySource == instanceName);\n\n    if(typeof(etyLink) != 'string' && !existOrNot){\n      if(selectedValues != null && etyLink?.selectedItems[0]?.value.new_etymon == undefined){\n      \n        let oldValue = this.memoryLinks[index].etySource;\n        let parameters = {\n          type: \"etyLink\",\n          relation: \"etySource\",\n          value: selectedValues,\n          currentValue: oldValue\n        }\n  \n        console.log(parameters)\n        this.lexicalService.updateLinguisticRelation(etymId, parameters).subscribe(\n          data => {\n            console.log(data)\n          }, error => {\n            console.log(error)\n            if(error.status == 200){\n              this.memoryLinks[index]['etySourceLabel'] = etySourceLabel;\n              this.etyLinkArray.at(index).patchValue({ label: etySourceLabel});\n              this.etyLinkArray.at(index).patchValue({ etySource: instanceName});\n              //this.lexicalService.updateLexCard({ lastUpdate: error.error.text }) TODO: inserire updater per decomposition e etymology\n              this.toastr.success('Etylink source updated', '', {timeOut: 5000})\n            }else{\n              this.toastr.error(error.error, 'Error', {timeOut: 5000})\n            }\n          }\n        )\n        \n      }else if(etyLink.selectedItems[0].value.new_etymon){\n        \n        let label_new_lexical_entry = etyLink.selectedItems[0].value.name;\n        this.lexicalService.newLexicalEntry().subscribe(\n          data=> {\n            console.log(data);\n            let lexical_entry = data.lexicalEntry;\n            let lexical_entry_in = data.lexicalEntryInstanceName;\n            this.memoryLinks[index]['etySourceLabel'] = etySourceLabel;\n            this.etyLinkArray.at(index).patchValue({ lex_entity: label_new_lexical_entry});\n            this.etyLinkArray.at(index).patchValue({ etySource: lexical_entry});\n  \n            \n            let parameters = {\n              relation: 'label',\n              value: label_new_lexical_entry\n            }\n            console.log(parameters)\n            this.lexicalService.updateLexicalEntry(lexical_entry_in, parameters).subscribe(\n              data => {\n                  console.log(data);\n                  \n              },\n              error => {\n                  //console.log(error);\n                  this.lexicalService.spinnerAction('off');\n                  this.lexicalService.spinnerAction('off');\n  \n                  parameters = {\n                    relation: 'type',\n                    value: 'Etymon'\n                  }\n  \n                  this.lexicalService.updateLexicalEntry(lexical_entry_in, parameters).subscribe(\n                    data => {\n                        console.log(data);\n                        this.lexicalService.spinnerAction('off');\n                        this.lexicalService.refreshLangTable();\n                        this.lexicalService.refreshFilter({ request: true })\n                        \n                    },\n                    error => {\n                        console.log(error);\n                        let oldValue = this.memoryLinks[index].etySource;\n                        let parameters = {\n                          type: \"etyLink\",\n                          relation: \"etySource\",\n                          value: lexical_entry_in,\n                          currentValue: oldValue\n                        }\n                        this.lexicalService.refreshFilter({ request: true })\n                        console.log(parameters)\n                        console.log\n                        this.lexicalService.updateLinguisticRelation(etymId, parameters).subscribe(\n                          data => {\n                            console.log(data)\n                          }, error => {\n                            console.log(error)\n                            if(error.statusText == 'OK'){\n                              this.toastr.success('New etymon created', '', {timeOut: 5000})\n                              ////this.lexicalService.updateLexCard({ lastUpdate: error.error.text }) TODO: inserire updater per decomposition e etymology\n                            }\n                          }\n                        )\n                        this.lexicalService.spinnerAction('off');\n  \n                    }\n                )\n              }\n            )\n  \n  \n            \n          },error => {\n            console.log(error)\n          }\n        )\n        //      cambiare tipo lexical entry in etymon\n        //      cambiare label lexical entry\n      }\n    }else if(typeof(etyLink) == 'string' && !existOrNot){\n      let oldValue = this.memoryLinks[index].etySource;\n        let parameters = {\n          type: \"etyLink\",\n          relation: \"etySource\",\n          value: selectedValues,\n          currentValue: oldValue\n        }\n  \n        console.log(parameters)\n        this.lexicalService.updateLinguisticRelation(etymId, parameters).subscribe(\n          data => {\n            console.log(data)\n          }, error => {\n            console.log(error)\n            if(error.status == 200){\n              this.memoryLinks[index]['etySourceLabel'] = etySourceLabel;\n              this.etyLinkArray.at(index).patchValue({ label: etySourceLabel});\n              this.etyLinkArray.at(index).patchValue({ etySource: instanceName});\n              //this.lexicalService.updateLexCard({ lastUpdate: error.error.text }) TODO: inserire updater per decomposition e etymology\n              this.toastr.success('Etylink source updated', '', {timeOut: 5000})\n            }else{\n              this.toastr.error(error.error, 'Error', {timeOut: 5000})\n            }\n          }\n        )\n    }else if(existOrNot){\n      this.toastr.error('This etymon already exist, please choose an another etymon', 'Error', {\n        timeOut: 5000\n      })\n    }\n\n    \n  }\n\n  createNewEtymon(name){\n    return new Promise((resolve) => {\n      // Simulate backend call.\n      setTimeout(() => {\n          resolve({ id: 5, name: name, new_etymon: true });\n      }, 1000);\n    })\n  }\n\n  addCognate() {\n    this.cognatesArray = this.etyForm.get('cognates') as FormArray;\n    this.cognatesArray.push(this.createCognate());\n    \n  }\n\n  debounceEtylinkLabel(evt, index){\n    this.lexicalService.spinnerAction('on');\n    this.etylink_label_subject.next({ evt, index})\n  }\n\n  debounceEtylinkNote(evt, index) {\n    this.lexicalService.spinnerAction('on');\n    this.etylink_note_subject.next({ evt, index})\n  }\n\n  addEtyLink(le?, l?, elt?, es?, et?, n?, el?){\n    this.etyLinkArray = this.etyForm.get('etylink') as FormArray;\n    this.etyLinkArray.push(this.createEtyLink(le, l, elt, es, et, n, el));\n  }\n\n  addNewEtyLink() { \n    this.etyLinkArray = this.etyForm.get('etylink') as FormArray;\n    this.etyLinkArray.push(this.createEtyLink());\n    let index = this.etyLinkArray.length -1;\n\n    let etyId = this.object.etymology.etymologyInstanceName;\n    let lexId = this.object.parentNodeInstanceName;\n\n    console.log(etyId, lexId)\n\n    this.lexicalService.createNewEtylink(lexId, etyId).subscribe(\n      data=>{\n        console.log(data);\n        if(data!=null){\n          let etyTarget = data['etyTarget']\n          let etyType = data['etyLinkType']\n          this.etyLinkArray.at(index).patchValue({ etyTarget: etyTarget});\n          this.etyLinkArray.at(index).patchValue({ etyLinkType: etyType});\n          this.object.etyLinks[index] = data;\n          this.memoryLinks[index] = data;\n          this.toastr.success('New etylink added', '', {timeOut: 5000})\n        }\n      },error=>{\n        console.log(error)\n        this.toastr.error(error.error, 'Error', {timeOut: 5000})\n      }\n    )\n  }\n\n  removeEtyLink(index){\n    this.etyLinkArray = this.etyForm.get('etylink') as FormArray;\n    let etyLinkId = this.memoryLinks[index]['etymologicalLinkInstanceName']\n    this.lexicalService.deleteEtylink(etyLinkId).subscribe(\n      data =>{\n        console.log(data)\n        ////this.lexicalService.updateLexCard(this.object)\n        this.toastr.success('Etylink removed', '', {timeOut: 5000})\n\n      },\n      error =>{\n        console.log(error)\n        this.toastr.error(error.error, 'Error', {timeOut: 5000})\n        ////this.lexicalService.updateLexCard({ lastUpdate: error.error.text })\n      }\n    )\n    this.etyLinkArray.removeAt(index);\n    this.memoryLinks.splice(index, 1)\n  }\n\n  removeCognate(index){\n    this.etyLinkArray = this.etyForm.get('cognates') as FormArray;\n    this.etyLinkArray.removeAt(index);\n    \n  }\n\n  createRelation(){\n    return this.formBuilder.group({\n      trait: '',\n      value: ''\n    })\n  }\n\n  createEtyLink(le?, l?, elt?, es?, et?, n?, el?) {\n    if(le!= undefined){\n      return this.formBuilder.group({\n        lex_entity: new FormControl(le),\n        label: new FormControl(l),\n        etyLinkType: new FormControl(elt),\n        etySource : new FormControl(es),\n        etyTarget : new FormControl(et),\n        note: new FormControl(n),\n        external_iri : new FormControl(el),\n        lila: false\n      })\n    }else{\n      return this.formBuilder.group({\n        lex_entity: new FormControl(null),\n        label: new FormControl(null),\n        etyLinkType: new FormControl(null),\n        etySource : new FormControl(null),\n        etyTarget : new FormControl(null),\n        note : new FormControl(null),\n        external_iri : new FormControl(null),\n        lila: false\n      })\n    }\n    \n  }\n\n\n  createCognate() {\n    return this.formBuilder.group({\n      cognate : new FormControl(null),\n      label : new FormControl(null)\n    })\n  }\n\n  triggerCognates(evt) {\n    if (evt.target != undefined) {\n      this.subject_cognates.next(evt.target.value)\n    }\n  }\n\n  triggerCognatesInput(evt, i) {\n    if (evt.target != undefined) {\n      let value = evt.target.value;\n      this.subject_cognates_input.next({ value, i })\n    }\n  }\n\n  triggerEtylink(evt, index) {\n    if (evt.target != undefined) {\n      this.subject_etylink.next({value : evt.target.value, index : index})\n    }\n  }\n\n  triggerEtylinkInput(evt, i) {\n    if (evt.target != undefined) {\n      let value = evt.target.value;\n      this.subject_etylink_input.next({ value, i })\n    }\n  }\n\n  deleteData() {\n    this.searchResults = [];\n  }\n\n  onSearchFilter(data) {\n    console.log(data)\n    this.filterLoading = true;\n    this.searchResults = [];\n\n    let value = data.value;\n    let index = data.index;\n\n    this.etyLinkArray = this.etyForm.get('etylink') as FormArray;\n    let isLilaActived = this.etyLinkArray.at(index).get('lila').value;\n\n    if(!isLilaActived){\n      let parameters = {\n        text: value,\n        searchMode: \"startsWith\",\n        type: \"etymon\",\n        pos: \"\",\n        formType: \"entry\",\n        author: \"\",\n        lang: \"\",\n        status: \"\",\n        offset: 0,\n        limit: 500\n      }\n      console.log(parameters)\n      \n      this.lexicalService.getLexicalEntriesList(parameters).subscribe(\n        data => {\n          console.log(data)\n          this.searchResults = data['list']\n          this.filterLoading = false;\n        }, error => {\n          console.log(error)\n          this.filterLoading = false;\n        }\n      )\n      \n    }else{\n      this.lilaService.queryEtymon(value).subscribe(\n        data=>{\n            console.log(data)\n            if(data.list.length > 0){\n              const map = data.list.map(element => (\n                {\n                  label: element[2]?.value, \n                  language : element[1]?.value,\n                  lexicalEntry : element[0]?.value\n                })\n              )\n\n              \n              \n\n              this.searchResults = map;\n              console.log(this.searchResults)\n            }\n        },\n        error=>{\n            console.log(error)\n        }\n    )\n    }\n\n    \n    \n\n  }\n\n  triggerLilaSearch(index){\n\n    \n\n    setTimeout(() => {\n      this.etyLinkArray = this.etyForm.get('etylink') as FormArray;\n      let value = this.etyLinkArray.at(index).get('lila').value;\n      if(value){\n        const element = Array.from(this.etyLinkList)[index];\n\n        /* if(element!=undefined){\n          \n          //this.onSearchFilter({value: this.object.label, index: index})\n        } */\n\n        /* setTimeout(() => {\n          element.filter(this.object.parentNodeLabel)\n        }, 100); */\n      }\n      \n      \n\n    }, 250);\n  }\n\n}\n","\n\n<form [formGroup]=\"etyForm\" *ngIf=\"object != null\"> <!-- *ngIf=\"object!=null\" -->\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <label for=\"inputLabel\" class=\"col-xl-3 col-form-label\">Label:</label>\n        <div class=\"input-group col-xl-7\">\n            <input formControlName=\"label\" name=\"label\" type=\"text\" class=\"form-control\" placeholder=\"\">\n            <div class=\"input-group-append\">\n                <div class=\"input-group-append ml-2\">\n                    <div class=\"dropdown\">\n                        <button class=\"btn btn-outline-primary\" type=\"button\" (click)=\"addNewEtyLink()\">\n                            <i class=\"fa fa-plus\"></i>\n                        </button>\n                        <!-- <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n                          <a class=\"dropdown-item\" (click)=\"addCognate()\" style=\"cursor: pointer;\">Add Cognates</a>\n                          <a class=\"dropdown-item\"  style=\"cursor: pointer;\">Add EtyLink</a>\n                        </div> -->\n                      </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <label for=\"inputLabel\" class=\"col-xl-3 col-form-label\">Author: </label>\n        <div class=\"input-group col-xl-7\">\n            <input formControlName=\"author\" name=\"author\" type=\"text\" class=\"form-control\" placeholder=\"\">\n        </div>\n    </div>\n\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <label for=\"inputLabel\" class=\"col-xl-3 col-form-label\">Uncertain:</label>\n        <div class=\"input-group col-xl-7\">\n            <input formControlName=\"confidence\" name=\"confidence\" type=\"checkbox\" > <!-- [checked]=\"etyForm.get('confidence').value == 0\" -->\n        </div>\n    </div>\n\n    <!-- ETY LINK -->\n    <div formArrayName=\"etylink\">\n        <div *ngFor=\"let etyLink of etyForm['controls'].etylink['controls']; let i = index\">\n            <div [formGroupName]=\"i\">\n                <div class=\"form-group row ml-2 mt-3 mr-2\">\n                    <div class=\"input-group col-xl-12\">\n                        <div class=\"card\">\n                            <span class=\"text-id\"><b>ETY LINK {{i+1}}</b></span>\n                            <!-- <a class=\"pointer\" (click)=\"addRelation(i)\"><span class=\"add-icon\"><i class=\"fa fa-plus-square\"></i></span></a> -->\n                            <a class=\"pointer\" (click)=\"removeEtyLink(i)\"><span class=\"trash-icon\"><i class=\"fa fa-trash\"></i></span></a>\n                            <div class=\"card-body\" *ngIf=\"{external : etyLink.get('external_iri').value }; let variable\">\n\n                                <!-- ETYMON / LEXENT -->\n                                <div class=\"col-xl-12\">\n                                    <div class=\"d-xl-flex\" style=\"align-items: center;\">\n                                        <label class=\"col-xl-3 col-form-label\">Etymon:</label>\n                                        <div class=\"col-xl-9\">\n                                            <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                                <div class=\"input-group\" >\n                                                    <ng-select *ngIf=\"!etyLink.get('lila').value && !variable.external\" #etyLink [addTag]=\"createNewEtymon\" (change)=\"onChangeEtylink(etyLink, i)\" formControlName=\"lex_entity\" name=\"lex_entity\" [items]=\"searchResults\" class=\"resizeNgSelect\" bindLabel=\"label\" bindValue=\"label\" placeholder=\"Search entity\" appendTo=\"body\"\n                                                         (keyup)=\"triggerEtylink($event, i)\" bindValue=\"label\" class=\"resizeNgSelect\" [items]=\"searchResults\"\n                                                        bindLabel=\"label\" placeholder=\"Search entity\" appendTo=\"body\" (focus)=\"deleteData()\">\n                                                    </ng-select>\n                                                    <ng-select *ngIf=\"etyLink.get('lila').value && !variable.external\" #etyLink  [addTag]=\"false\" (change)=\"onChangeEtylink(etyLink, i)\" formControlName=\"lex_entity\" name=\"lex_entity\" [items]=\"searchResults\" class=\"resizeNgSelect\" bindLabel=\"label\" bindValue=\"label\" placeholder=\"Search entity\" appendTo=\"body\"\n                                                         (keyup)=\"triggerEtylink($event, i)\" bindValue=\"label\" class=\"resizeNgSelect\" [items]=\"searchResults\"\n                                                        bindLabel=\"label\" placeholder=\"Search entity\" appendTo=\"body\" (focus)=\"deleteData()\">\n                                                    </ng-select>\n                                                    <input (keyup)=\"triggerEtylinkInput($event, i)\" formControlName=\"lex_entity\" name=\"lex_entity\" type=\"text\" class=\"form-control\" id=\"inputDenotes\" placeholder=\"Insert URI\" *ngIf=\"variable.external\">\n                                                   \n                                                    <div class=\"input-group-append ml-2\" *ngIf=\"!variable.external \">\n                                                        <div class=\"btn-group-toggle\" data-toggle=\"buttons\" placement=\"top\" ngbTooltip=\"Enable LiLa endpoint\" title=\"Enable LiLa endpoint\" >\n                                                            <label class=\"btn btn-secondary\" >\n                                                              <input (click)=\"triggerLilaSearch(i)\" type=\"checkbox\" autocomplete=\"off\" autocomplete=\"off\" formControlName=\"lila\" name=\"lila\" style=\"border-radius: .3rem;\" > \n                                                                <!-- <img src=\"../../../../../../../assets/images/graphql.png\" alt=\"Avatar\" class=\"image\" style=\"height: 20px;\"> -->\n                                                                <i class=\"fas fa-project-diagram\"></i>\n                                                            </label>\n                                                        </div>\n                                                    </div>\n                                                    <div class=\"input-group-append ml-2\" *ngIf=\"etyLink.get('external_iri').value && etyLink.get('etySource').value != ''\">\n                                                        <a [href]=\"etyLink.get('etySource').value\" target=\"_blank\" class=\"btn btn-primary\" type=\"button\"><i\n                                                                class=\"fa fa-external-link-alt\"></i></a>\n                                                    </div>\n                                                    <div class=\"input-group-append ml-3 form-check\">\n                                                        <input class=\"form-check-input vartrans-tooltip\" formControlName=\"external_iri\" name=\"external_iri\" type=\"checkbox\" (change)=\"variable.external=!variable.external;\" container=\"body\" placement=\"top\" ngbTooltip=\"Insert URL manually\" title=\"Clicca per inserire un URI manualmente\">\n                                                    </div>\n                                                    \n                                                </div>\n                                            </div>                                                  \n                                        </div>\n                                    </div>\n                                </div>\n                                \n                                <!-- LABEL / WRITTEN FORM -->\n                                <div class=\"col-xl-12\" *ngIf=\"variable.external\">\n                                    <div class=\"d-xl-flex\">\n                                        <label class=\"col-xl-3 col-form-label\">Label:</label>\n                                        <div class=\"col-xl-9\">\n                                            <div class=\"form-group row ml-2 mr-2\">\n                                                <div class=\"input-group\" *ngIf=\"{switch : false}; let variable\">\n                                                    \n                                                    <input (keyup)=\"debounceEtylinkLabel($event, i)\" formControlName=\"label\" name=\"label\" type=\"text\" class=\"form-control\">\n                                                    <div class=\"input-group-append ml-3 form-check invisible\">\n                                                        \n                                                    </div>\n                                                </div>\n                                            </div>                                                  \n                                        </div>\n                                    </div>\n                                </div>\n\n                                <!-- ETYLINK TYPE -->\n                                <div class=\"col-xl-12\">\n                                    <div class=\"d-xl-flex\">\n                                        <label class=\"col-xl-3 col-form-label\">EtyLink Type:</label>\n                                        <div class=\"col-xl-9\">\n                                            <div class=\"form-group row ml-2 mr-2\">\n                                                <div class=\"input-group\" *ngIf=\"{switch : false}; let variable\">\n                                                    <select id=\"typeSelect\" formControlName=\"etyLinkType\" name=\"etyLinkType\" class=\"form-control\" (change)=\"onChangeEtylinkType(i, $event)\">\n                                                        <option [selected]=\"etyLink.get('etyLinkType').value == 'inheritance'\" value=\"inheritance\">\n                                                            inheritance\n                                                        </option>\n                                                        <option [selected]=\"etyLink.get('etyLinkType').value == 'borrowing'\" value=\"borrowing\">\n                                                            borrowing\n                                                        </option>\n                                                    </select>\n                                                    <!-- <input formControlName=\"etyLinkType\" name=\"etyLinkType\" type=\"text\" class=\"form-control\"> -->\n                                                    <div class=\"input-group-append ml-3 form-check invisible\">\n                                                        \n                                                    </div>\n                                                </div>\n                                            </div>                                                  \n                                        </div>\n                                    </div>\n                                </div>\n\n                                <!-- ETY SOURCE -->\n                                <div class=\"col-xl-12\">\n                                    <div class=\"d-xl-flex\">\n                                        <label class=\"col-xl-3 col-form-label text-muted\">EtySource:</label>\n                                        <div class=\"col-xl-9\">\n                                            <div class=\"form-group row ml-2 mr-2\">\n                                                <div class=\"input-group\" *ngIf=\"{switch : false}; let variable\">\n                                                    \n                                                    <input formControlName=\"etySource\" name=\"etySource\" type=\"text\" class=\"form-control\" readonly>\n                                                    <div class=\"input-group-append ml-3 form-check invisible\">\n                                                        \n                                                    </div>\n                                                </div>\n                                            </div>                                                  \n                                        </div>\n                                    </div>\n                                </div>\n\n                                <!-- ETY TARGET -->\n                                <div class=\"col-xl-12\">\n                                    <div class=\"d-xl-flex\">\n                                        <label class=\"col-xl-3 col-form-label text-muted\">EtyTarget:</label>\n                                        <div class=\"col-xl-9\">\n                                            <div class=\"form-group row ml-2 mr-2\">\n                                                <div class=\"input-group\" *ngIf=\"{switch : false}; let variable\">\n                                                    \n                                                    <input formControlName=\"etyTarget\" name=\"etyTarget\" type=\"text\" class=\"form-control\" readonly>\n                                                    <div class=\"input-group-append ml-3 form-check invisible\">\n                                                        \n                                                    </div>\n                                                </div>\n                                            </div>                                                  \n                                        </div>\n                                    </div>\n                                </div>   \n\n                                <!-- NOTE -->\n                                <div class=\"col-xl-12\">\n                                    <div class=\"d-xl-flex\">\n                                        <label class=\"col-xl-3 col-form-label\">Note:</label>\n                                        <div class=\"col-xl-9\">\n                                            <div class=\"form-group row ml-2 mr-2\">\n                                                <div class=\"input-group\" *ngIf=\"{switch : false}; let variable\">\n                                                    \n                                                    <textarea (keyup)=\"debounceEtylinkNote($event, i)\" formControlName=\"note\" name=\"note\" type=\"text\" class=\"form-control\" style=\"resize: none;\"></textarea>\n                                                    <div class=\"input-group-append ml-3 form-check invisible\" >\n                                                        \n                                                    </div>\n                                                </div>\n                                            </div>                                                  \n                                        </div>\n                                    </div>\n                                </div>                               \n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n\n    <!-- COGNATES -->\n    <div formArrayName=\"cognates\">\n        <div *ngFor=\"let sub of etyForm['controls'].cognates['controls']; let i = index\">\n            <div [formGroupName]=\"i\">\n                <div class=\"form-group row ml-2 mt-3 mr-2\">\n                    <div class=\"input-group col-xl-12\">\n                        <div class=\"card\">\n                            <span class=\"text-id\"><b>COGNATE {{i+1}}</b></span>\n                            <!-- <a class=\"pointer\" (click)=\"addSubtermElement(i)\"><span class=\"add-icon\"><i class=\"fa fa-plus-square\"></i></span></a> -->\n                            <a class=\"pointer\" (click)=\"removeCognate(i)\"><span class=\"trash-icon\"><i class=\"fa fa-trash\"></i></span></a>\n                            <div class=\"card-body\">\n\n                                <!-- COGNATE -->\n                                <div class=\"col-xl-12\">\n                                    <div class=\"d-xl-flex\" style=\"align-items: center;\">\n                                        <label class=\"col-xl-3 col-form-label\">Cognate:</label>\n                                        <div class=\"col-xl-9\">\n                                            <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                                <div class=\"input-group\" *ngIf=\"{switch : false}; let variable\">\n                                                    <ng-select formControlName=\"cognate\" name=\"cognate\" [items]=\"searchResults\" class=\"resizeNgSelect\" bindLabel=\"label\" bindValue=\"label\" placeholder=\"Search entity\" appendTo=\"body\"\n                                                         *ngIf=\"!variable.switch\" (keyup)=\"triggerCognates($event)\" bindValue=\"label\" class=\"resizeNgSelect\" [items]=\"searchResults\"\n                                                        bindLabel=\"label\" placeholder=\"Search entity\" appendTo=\"body\" (focus)=\"deleteData()\">\n                                                    </ng-select>\n                                                    <input (keyup)=\"triggerCognatesInput($event, i)\" formControlName=\"cognate\" name=\"cognate\" type=\"text\" class=\"form-control\" id=\"inputDenotes\" placeholder=\"Insert URI\" *ngIf=\"variable.switch\">\n                                                    <div class=\"input-group-append ml-3 form-check\">\n                                                        <input class=\"form-check-input vartrans-tooltip\" type=\"checkbox\" (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\" data-placement=\"bottom\" data-trigger=\"hover\" title=\"Clicca per inserire un URI manualmente\">\n                                                    </div>\n                                                    <!-- <div class=\"input-group-append ml-2\">\n                                                        <button class=\"btn btn-primary\" type=\"button\"><i\n                                                                class=\"fa fa-external-link-alt\"></i></button>\n                                                    </div> -->\n                                                </div>\n                                            </div>                                                  \n                                        </div>\n                                    </div>\n                                </div>\n\n                                <!-- LABEL / WRITTEN FORM -->\n                                <div class=\"col-xl-12\">\n                                    <div class=\"d-xl-flex\">\n                                        <label class=\"col-xl-3 col-form-label\">Label / Written Form:</label>\n                                        <div class=\"col-xl-9\">\n                                            <div class=\"form-group row ml-2 mr-2\">\n                                                <div class=\"input-group\" *ngIf=\"{switch : false}; let variable\">\n                                                    \n                                                    <input formControlName=\"label\" name=\"label\" type=\"text\" class=\"form-control\">\n                                                    <div class=\"input-group-append ml-3 form-check invisible\">\n                                                        \n                                                    </div>\n                                                </div>\n                                            </div>                                                  \n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</form>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, ElementRef, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { BibliographyService } from 'src/app/services/bibliography-service/bibliography.service';\nimport { DocumentSystemService } from 'src/app/services/document-system/document-system.service';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\n\n@Component({\n  selector: 'app-lexicon-page',\n  templateUrl: './lexicon-page.component.html',\n  styleUrls: ['./lexicon-page.component.scss']\n})\nexport class LexiconPageComponent implements OnInit, OnDestroy {\n  subscription: Subscription;\n  metadata_subscr : Subscription;\n  object: any;\n  @ViewChild('accordion') accordion: ElementRef; \n\n  constructor(private documentService : DocumentSystemService, private lexicalService: LexicalEntriesService, private biblioService : BibliographyService) { }\n\n  notes = '';\n  link = [];\n  bibliography = [];\n  attestation : any;\n  metadata : any;\n  ngOnInit(): void {\n\n    this.lexicalService.triggerNotePanel$.subscribe(\n      boolean => {\n        setTimeout(() => {\n          if(boolean != null){\n            if(boolean){\n              let a_link = this.accordion.nativeElement.querySelectorAll('a[data-target=\"#noteCollapse\"]');\n              let collapse_container = this.accordion.nativeElement.querySelectorAll('div[aria-labelledby=\"noteHeading\"]');\n              let item_collapse = this.accordion.nativeElement.querySelectorAll('[id^=\"collapse-\"]');\n              a_link.forEach(element => {\n                if(element.classList.contains(\"collapsed\")){\n                  element.classList.remove('collapsed')\n                }else{\n                  //element.classList.add('collapsed')\n                }\n              })\n  \n              collapse_container.forEach(element => {\n                if(element.classList.contains(\"show\")){\n                  //element.classList.remove('collapsed')\n                }else{\n                  element.classList.add('show')\n                }\n              })\n  \n              item_collapse.forEach(element => {\n                if(element == item_collapse[item_collapse.length-1]){\n                  element.classList.add('show')\n                }else{\n                  element.classList.remove('show')\n                }\n              });\n            }else{\n              setTimeout(() => {\n                let a_link = this.accordion.nativeElement.querySelectorAll('a[data-target=\"#noteCollapse\"]');\n                a_link.forEach(element => {\n                  element.classList.add('collapsed')\n                  \n                })\n  \n                let collapse_container = this.accordion.nativeElement.querySelectorAll('div[aria-labelledby=\"noteHeading\"]');\n                collapse_container.forEach(element => {\n                  console.log(element)\n                  if(element.classList.contains(\"show\")){\n                    element.classList.remove('show')\n                  }\n                })\n              }, 100);\n              \n            }\n          }\n        }, 100);\n        \n      }\n    )\n\n    this.lexicalService.triggerAttestationPanel$.subscribe(\n      boolean => {\n        setTimeout(() => {\n          if(boolean != undefined){\n            //console.log(boolean)\n            if(boolean){\n              let a_link = this.accordion.nativeElement.querySelectorAll('a[data-target=\"#attestationCollapse\"]');\n              let collapse_container = this.accordion.nativeElement.querySelectorAll('div[aria-labelledby=\"attestationHeading\"]');\n              let item_collapse = this.accordion.nativeElement.querySelectorAll('[id^=\"collapse-\"');\n              a_link.forEach(element => {\n                if(element.classList.contains(\"collapsed\")){\n                  element.classList.remove('collapsed')\n                }else{\n                  //element.classList.add('collapsed')\n                }\n              })\n  \n              collapse_container.forEach(element => {\n                if(element.classList.contains(\"show\")){\n                  //element.classList.remove('collapsed')\n                }else{\n                  element.classList.add('show')\n                }\n              })\n  \n              /* item_collapse.forEach(element => {\n                if(element == item_collapse[item_collapse.length-1]){\n                  element.classList.add('show')\n                }else{\n                  element.classList.remove('show')\n                }\n              }); */\n            }else{\n              setTimeout(() => {\n                let a_link = this.accordion.nativeElement.querySelectorAll('a[data-target=\"#attestationCollapse\"]');\n                a_link.forEach(element => {\n                  element.classList.add('collapsed')\n                  \n                })\n  \n                let collapse_container = this.accordion.nativeElement.querySelectorAll('div[aria-labelledby=\"attestationHeading\"]');\n                collapse_container.forEach(element => {\n                  //console.log(element)\n                  if(element.classList.contains(\"show\")){\n                    element.classList.remove('show')\n                  }\n                })\n              }, 100);\n              \n            }\n          }\n        }, 100);\n        \n      }\n    )\n\n    this.biblioService.triggerPanel$.subscribe(\n      object => {\n        if(object != undefined){\n          let a_link = this.accordion.nativeElement.querySelectorAll('a[data-target=\"#bibliographyCollapse\"]');\n          let collapse_container = this.accordion.nativeElement.querySelectorAll('div[aria-labelledby=\"bibliographyHeading\"]');\n          let item_collapse = this.accordion.nativeElement.querySelectorAll('[id^=\"collapse-\"');\n          a_link.forEach(element => {\n            if(element.classList.contains(\"collapsed\")){\n              element.classList.remove('collapsed')\n            }else{\n              //element.classList.add('collapsed')\n            }\n          })\n\n          collapse_container.forEach(element => {\n            if(element.classList.contains(\"show\")){\n              //element.classList.remove('collapsed')\n            }else{\n              element.classList.add('show')\n            }\n          })\n\n          item_collapse.forEach(element => {\n            if(element == item_collapse[item_collapse.length-1]){\n              element.classList.add('show')\n            }else{\n              element.classList.remove('show')\n            }\n          });\n        }\n        \n      }\n    )\n\n    this.lexicalService.attestationPanelData$.subscribe(\n      data => {\n       // console.log(data)\n        if(data != null){\n          if(Array.isArray(data)){\n            this.attestation = data;\n          }else{\n            this.attestation = [data];\n          }\n        }else{\n          this.attestation = null;\n        }\n      }\n    );\n\n    this.documentService.metadataData$.subscribe(\n      data => {\n        console.log(data);\n        if(data != null){\n          this.metadata = data;\n        }else{\n          this.metadata = null;\n        }\n      }\n    )\n\n    this.metadata_subscr = this.documentService.triggerMetadataPanel$.subscribe(\n      boolean => {\n        setTimeout(() => {\n          console.log(boolean)\n          if(boolean != null){\n            if(boolean){\n              let a_link = this.accordion.nativeElement.querySelectorAll('a[data-target=\"#metadataCollapse\"]');\n              let collapse_container = this.accordion.nativeElement.querySelectorAll('div[aria-labelledby=\"metadataHeading\"]');\n              let item_collapse = this.accordion.nativeElement.querySelectorAll('[id^=\"collapse-\"');\n              a_link.forEach(element => {\n                if(element.classList.contains(\"collapsed\")){\n                  element.classList.remove('collapsed')\n                }else{\n                  //element.classList.add('collapsed')\n                }\n              })\n  \n              collapse_container.forEach(element => {\n                if(element.classList.contains(\"show\")){\n                  //element.classList.remove('collapsed')\n                }else{\n                  element.classList.add('show')\n                }\n              })\n  \n              item_collapse.forEach(element => {\n                if(element == item_collapse[item_collapse.length-1]){\n                  element.classList.add('show')\n                }else{\n                  element.classList.remove('show')\n                }\n              });\n            }else{\n              setTimeout(() => {\n                let a_link = this.accordion.nativeElement.querySelectorAll('a[data-target=\"#metadataCollapse\"]');\n                a_link.forEach(element => {\n                  element.classList.add('collapsed')\n                  \n                })\n  \n                let collapse_container = this.accordion.nativeElement.querySelectorAll('div[aria-labelledby=\"metadataHeading\"]');\n                collapse_container.forEach(element => {\n//                  console.log(element)\n                  if(element.classList.contains(\"show\")){\n                    element.classList.remove('show')\n                  }\n                })\n              }, 100);\n              \n            }\n          }\n        }, 100);\n        \n      }\n    )\n\n    this.lexicalService.rightPanelData$.subscribe(\n      object => {\n        this.object = object;\n        /* console.log(this.object) */\n        if(this.object !=null){\n          if(this.object.etymology != undefined){\n            this.notes = this.object['etymology'];\n            this.link = this.object['etymology'];\n            this.bibliography = this.object['etymology'];\n          }else{\n            this.notes = this.object;\n            this.link = this.object;\n            this.bibliography = this.object;\n          }\n        }else{\n          this.notes = null;\n          this.link = null;\n          this.bibliography = null;\n        }\n      }\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.metadata_subscr.unsubscribe();\n  }\n}\n","\n\n<div class=\"container-fluid\">\n\t<div class=\"row\" >\n\t\t<div class=\"col-md-9\">\n\t\t\t<app-lexicon-panel></app-lexicon-panel>\n\t\t</div>\n\t\t<div class=\"col-md-3 \">\n\t\t\t<div class=\"container-fluid p-1\">\n\t\t\t\t<div id=\"accordion\" #accordion>\n\t\t\t\t\t<app-note-panel [noteData]=\"notes\"></app-note-panel>\n\t\t\t\t\t<app-link-panel [linkData]=\"link\"></app-link-panel>\n\t\t\t\t\t<app-bibliography-panel [biblioData]=\"bibliography\" id=\"bibliographyPanel\"></app-bibliography-panel>\n\t\t\t\t\t<app-attestation-panel [attestationData]=\"attestation\"></app-attestation-panel>\n\t\t\t\t\t<app-metadata-panel [metadataData]=\"metadata\"></app-metadata-panel>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nexport interface LexicalEntryRequest {\n  text: string,\n  searchMode: searchModeEnum,\n  type: typeEnum | string,\n  pos: string,\n  formType: formTypeEnum | string,\n  author: string,\n  lang: string,\n  status: string,\n  offset: number,\n  limit: number\n}\n\nexport enum searchModeEnum {\n  equals = \"equals\",\n  startsWith = \"startsWith\",\n  contains = \"contains\",\n  endsWith = \"endsWith\"\n}\n\nexport enum typeEnum {\n  word = \"word\",\n  multi = \"multi-word expression\",\n  affix = \"affix\"\n}\n\nexport enum formTypeEnum {\n  flexed = \"flexed\",\n  entry = \"entry\"\n}","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { DatePipe } from '@angular/common';\nimport { ChangeDetectionStrategy, Component, ElementRef, HostListener, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { FormGroup, FormControl, Validators, FormArray, FormBuilder, ValidatorFn, AbstractControl } from '@angular/forms';\nimport { TreeNode, TreeModel, TREE_ACTIONS, KEYS, IActionMapping, ITreeOptions } from '@circlon/angular-tree-component';\nimport { ModalComponent } from 'ng-modal-lib';\nimport { ContextMenuComponent } from 'ngx-contextmenu';\nimport { ToastrService } from 'ngx-toastr';\nimport { debounceTime } from 'rxjs/operators';\nimport { AnnotatorService } from 'src/app/services/annotator/annotator.service';\nimport { DocumentSystemService } from 'src/app/services/document-system/document-system.service';\nimport { ExpanderService } from 'src/app/services/expander/expander.service';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\nimport { v4 } from 'uuid';\n\n\n\nconst actionMapping: IActionMapping = {\n  mouse: {\n    /* dblClick: (tree, node, $event) => {\n      if (node.hasChildren) {\n        TREE_ACTIONS.TOGGLE_EXPANDED(tree, node, $event);\n      }\n    }, */\n    click: (tree, node, $event) => {\n      $event.shiftKey\n        ? TREE_ACTIONS.TOGGLE_ACTIVE_MULTI(tree, node, $event)\n        : TREE_ACTIONS.TOGGLE_ACTIVE(tree, node, $event);\n      \n      if(node.data.rename_mode){\n        $event.preventDefault();\n      }/* else{\n        TREE_ACTIONS.TOGGLE_ACTIVE(tree, node, $event);\n      } */\n    },\n    expanderClick: (tree, node, $event) => {\n      if(node.data.rename_mode){\n        $event.preventDefault();\n      }else{\n        //console.log(node);\n        TREE_ACTIONS.TOGGLE_EXPANDED(tree, node, $event);\n      }\n    }\n    /* contextMenu: (tree, node, $event) => {\n      //$event.preventDefault();\n      //alert(`context menu for ${node.data.name}`);\n      TREE_ACTIONS.TOGGLE_ACTIVE(tree, node, $event);\n    } */\n  },\n  keys: {\n    [KEYS.ENTER]: (tree, node, $event) => alert(`This is ${node.data.name}`)\n  }\n};\n\n\n\n@Component({\n  selector: 'app-text-tree',\n  templateUrl: './text-tree.component.html',\n  styleUrls: ['./text-tree.component.scss'],\n  providers: [DatePipe],\n})\n\nexport class TextTreeComponent implements OnInit {\n  @ViewChild('metadata_tags') metadata_tags_element: any;\n  @ViewChild('treeText') treeText: any;\n  @ViewChild(ContextMenuComponent) public basicMenu: ContextMenuComponent;\n  \n  @HostListener('document:click', ['$event'])\n  clickout(event : MouseEvent) {\n    if(this.renameNode_input != undefined){\n      if(this.renameNode_input.nativeElement.contains(event.target)) {\n        console.log(\"clicked inside\");\n        event.stopPropagation();\n      } else {\n        console.log(\"clicked outside\");\n        \n        var that = this;\n\n        setTimeout(() => {\n          //@ts-ignore\n          $('.input-tooltip').tooltip('hide');\n          setTimeout(() => {\n            that.treeText.treeModel.getNodeBy(\n              item => {\n                item.data.rename_mode = false;\n              }\n            )\n          }, 100);\n        }, 300);\n      }\n    }\n  }\n  \n  show = false;\n  nodes = [];\n\n  renameNodeSelected : any;\n  validName = null;\n  searchIconSpinner = false;\n  searchIconSpinner_input = false;\n  selectedFileToCopy : any;\n  selectedFileToCopyArray : any;\n  selectedNodeId;\n  selectedEpidocId;\n\n  memoryMetadata = [];\n  metadataForm = new FormGroup({\n    element_id : new FormControl(null),\n    metadata_array: new FormArray([], [Validators.required]),\n  })\n  \n  \n  metadata_array: FormArray;\n  metadata_search : FormArray;\n\n  \n  options: ITreeOptions = {\n    actionMapping,\n    allowDrag: (node) => node.isLeaf,\n    allowDrop: (element, { parent, index }) => {\n      // return true / false based on element, to.parent, to.index. e.g.\n      //console.log(element, parent, index, parent.data.type == 'folder')\n      return parent.data.type == 'directory';\n    },\n    getNodeClone: (node) => ({\n      ...node.data,\n      id: v4(),\n      name: `copy of ${node.data.name}`\n    })\n  };\n\n  \n/*   @ViewChild('renameFolderInput') renameFolder_input:ElementRef; \n  @ViewChild('renameFileInput') renameFile_input:ElementRef;  */\n  @ViewChild('uploadFile') uploadFile_input:ElementRef; \n  @ViewChild('renameNodeInput') renameNode_input:ElementRef; \n  /* @ViewChild('renameFolderModel', {static: false}) renameFolderModal: ModalComponent; */\n  @ViewChild('editMetadata', {static: false}) editMetadataModal: ModalComponent;\n  \n  date = this.datePipe.transform(new Date(), 'yyyy-MM-ddThh:mm');\n  counter = 0;\n\n  textFilterForm = new FormGroup({\n    search_text : new FormControl(null),\n    search_mode : new FormControl(null),\n    import_date : new FormControl(this.date),\n    date_mode : new FormControl(''),\n    /* metadata_array : new FormArray([this.createMetadataItemSearch()]) */\n  })\n\n  initialValues;\n\n  \n  \n  constructor(private lexicalService: LexicalEntriesService, private annotatorService : AnnotatorService, private expander : ExpanderService, private element: ElementRef, private documentService: DocumentSystemService, private renderer: Renderer2, private formBuilder: FormBuilder, private datePipe:DatePipe, private toastr: ToastrService) { }\n\n  ngOnInit(): void {\n    this.loadTree();\n    \n    this.textFilterForm = this.formBuilder.group({\n      search_text : new FormControl(null),\n      search_mode : new FormControl('start'),\n      import_date : new FormControl(this.date),\n      date_mode : new FormControl('until'),\n      metadata_array : new FormArray([])\n    })\n\n    this.onChanges();\n    \n    this.metadataForm = this.formBuilder.group({\n      element_id : new FormControl(null),\n      name : new FormControl(null),\n      metadata_array: new FormArray([], [Validators.required]),\n    });\n\n    this.initialValues = this.textFilterForm.value\n  }\n\n  onChanges() {\n    this.textFilterForm.valueChanges.pipe(debounceTime(500)).subscribe(searchParams => {\n      console.log(searchParams)\n      this.searchFilter(searchParams)\n    })\n  }\n  \n  onEvent = ($event: any) => {\n    console.log($event);\n\n    if ($event.eventName == 'activate' && $event.node.data.type != 'directory' && this.selectedNodeId != $event.node.data['element-id']) {\n      this.selectedNodeId = $event.node.data['element-id'];\n      this.selectedEpidocId = $event.node.data.metadata['itAnt_ID'];\n      //@ts-ignore\n      $(\"#epigraphyTabModal\").modal(\"show\");\n      $('.modal-backdrop').appendTo('.epigraphy-tab-body');\n      //@ts-ignore\n      $('#epigraphyTabModal').modal({backdrop: 'static', keyboard: false})  \n      $('body').removeClass(\"modal-open\")\n      $('body').css(\"padding-right\", \"\");\n\n\n      if(this.selectedEpidocId == undefined){\n        if($event.node.data.name != undefined || $event.node.data.name != ''){\n          this.selectedEpidocId = $event.node.data.name;\n        }else{\n          this.selectedEpidocId = 'Unnamed'\n        }\n      }\n      this.annotatorService.getIdText(this.selectedEpidocId);\n\n      this.documentService.getContent(this.selectedNodeId).subscribe(\n        data=>{\n\n          //console.log(\"XML\", data)\n          let text = data.text;\n          let object = {\n            xmlString : text\n          }\n\n          let xmlDom = new DOMParser().parseFromString(text, \"text/xml\");\n\n          this.annotatorService.getTokens(this.selectedNodeId).subscribe(\n            data => {\n    \n              console.log(data)\n              let element_id = this.selectedNodeId;\n              let tokens = data.tokens;\n\n\n              this.documentService.sendToEpigraphyTab({\n                tokens : tokens,\n                element_id : element_id,\n                epidoc_id : this.selectedEpidocId,\n                xmlDoc : xmlDom\n              })\n\n    \n              if(!this.expander.isEditTabOpen() && !this.expander.isEpigraphyTabOpen()){\n                if(!this.expander.isEditTabExpanded() && !this.expander.isEpigraphyTabExpanded()){\n                  \n                  this.expander.expandCollapseEpigraphy(true);\n                  this.expander.openCollapseEpigraphy(true);\n                }\n              }else if(this.expander.isEditTabOpen() && !this.expander.isEpigraphyTabOpen()){\n                if(this.expander.isEditTabExpanded() && !this.expander.isEpigraphyTabExpanded()){\n                  this.expander.openCollapseEpigraphy(true);\n                  this.expander.expandCollapseEdit(false);\n                }\n              }\n    \n              let metadata = $event.node.data.metadata;\n              metadata['path'] = $event.node.data.path;\n              metadata['element-id'] = $event.node.data['element-id'];\n              if(metadata != undefined && Object.keys(metadata).length > 5){\n                this.documentService.sendToMetadataPanel(metadata);\n                this.documentService.triggerMetadataPanel(true)\n              }else{\n                this.documentService.sendToMetadataPanel(null);\n                this.documentService.triggerMetadataPanel(false)\n              }\n            },\n            error => {\n              console.log(error)\n            }\n          );\n\n          this.documentService.sendLeidenToEpigraphyTab(null);\n          this.documentService.testConvert(object).subscribe(\n            data=>{\n              //console.log(\"TEST\", data);\n              \n              if(data != undefined){\n                try {\n                  let raw = data.xml;\n                  let HTML =  new DOMParser().parseFromString(raw, \"text/html\");\n                  console.log(HTML)\n\n                  let domNodes = new DOMParser().parseFromString(raw, \"text/html\").querySelectorAll('#edition .textpart');\n                  let childNodes = [];\n                  if(Array.from(domNodes).length > 1){\n                    Array.from(domNodes).forEach(childNode=> {\n                      Array.from(childNode.childNodes).forEach(subChild => {\n                        Array.from(subChild.childNodes).forEach(x => {\n                          childNodes.push(x)\n                        })\n                      })\n                    })\n                  }else{\n                    childNodes = Array.from(new DOMParser().parseFromString(raw, \"text/html\").querySelectorAll('#edition .textpart')[0].childNodes[0].childNodes);\n                  }\n                  \n                  \n                  \n                  let leidenLines = []; \n\n                  for(var i = 0; i < childNodes.length; i++){\n                    let node = childNodes[i];\n\n                    if(node.nodeName == 'A' || node.nodeName == 'BR'){\n                      \n                      let string = '';\n                      //console.log(\"LINE BREAK: \" + i)\n                      for(var j = i; j < childNodes.length; j++){\n\n                        let textNode = childNodes[j];\n                        \n                        if(textNode.nodeName == '#text' && textNode.nodeValue.trim() != ''){\n\n                          string += textNode.nodeValue;\n\n                          if(j == childNodes.length-1){\n                            leidenLines.push(string);\n                            break;\n                          }\n\n                          //console.log(textNode.nodeValue)\n                        }else if((textNode.nodeName == 'BR' || textNode?.id?.toLowerCase().includes('face'))&& i != j){\n                          leidenLines.push(string)\n                          \n                          i = j-1;\n                          break;\n                        }\n\n                        if(j == childNodes.length-1 && string != ''){\n                          leidenLines.push(string);\n                          break;\n                        }\n                      }\n                    }\n                  }\n\n                  this.documentService.sendLeidenToEpigraphyTab(leidenLines);\n\n\n                  let translations = new DOMParser().parseFromString(raw, \"text/html\").querySelectorAll('#translation');\n                  let translationArray = [];            \n                  translations.forEach(element=>{\n                    let childNodes = element.childNodes;\n                    let string = '';\n                    childNodes.forEach((child : any) =>{\n                      if(child.nodeName == 'P'){\n                        \n                        string += child.innerHTML;\n                      }\n                    })\n                    translationArray.push(string)\n                  })\n                  \n                  this.documentService.sendTranslationToEpigraphyTab(translationArray);\n\n                } catch (error) {\n                  console.log(error)\n                  \n                }\n              } \n            },error =>{\n              console.log(\"ERROR TEST\", error)\n              this.documentService.sendLeidenToEpigraphyTab(null);\n              this.documentService.sendTranslationToEpigraphyTab(null);\n            }\n          )\n\n        },error=>{\n          console.log(error)\n        }\n      )\n\n      \n      \n      \n      \n\n      /* this.annotatorService.getText(this.selectedNodeId).subscribe(\n        data=>{\n          console.log(data);\n          if(data != undefined){\n            this.documentService.sendTextToEpigraphyTab(data.text);\n          }\n        },\n        error=>{\n          if(error.status == 200){\n            if(error.error.text != \"\"){\n              this.documentService.sendTextToEpigraphyTab(error.error.text);\n            }  \n          }\n          console.log(error)\n        }\n      ) */\n\n      \n    \n    }\n  }\n\n  \n\n  onMoveNode($event) {\n    console.log($event);\n    let node_type = $event.node.type;\n    let target_type = $event.to.parent.type;\n    if(node_type === 'directory' && target_type === 'directory'){\n      this.moveFolder($event)\n    }else if(node_type === 'file' && target_type === 'directory'){\n      this.moveFile($event)\n    }\n    \n  }\n\n  loadTree(){\n    this.documentService.getDocumentSystem().subscribe(\n      data => {\n        console.log(data);\n\n        if(data['documentSystem'].length != 0){\n          //console.log(\"CIAO\")\n          this.nodes = data['documentSystem'];\n          setTimeout(() => {\n            this.treeText.treeModel.getNodeBy(\n              item => {\n                item.data.rename_mode = false;\n              }\n            )\n          }, 100);\n        }\n        \n        \n        this.counter = data['results'];\n      },\n      error => {\n        console.log(error)\n      }\n    )\n  }\n\n  \n\n  isFolder = (item : any) : boolean =>{\n    if(item.type != undefined){\n      return item.type == 'directory' && (this.treeText.treeModel.activeNodes.length == 1 || this.treeText.treeModel.activeNodes.length == 0);\n    }else{\n      return false\n    }\n  }\n\n  isFile = (item : any) : boolean =>{\n    if(item.type != undefined){\n      return item.type == 'file' && (this.treeText.treeModel.activeNodes.length == 1 || this.treeText.treeModel.activeNodes.length == 0);\n    }else{\n      return false\n    }\n  }\n\n  enableMetadata = (item : any) : boolean => {\n    return (item.type == 'file' || item.type == 'folder') && (this.treeText.treeModel.activeNodes.length == 1 || this.treeText.treeModel.activeNodes.length == 0);\n  }\n\n  multipleSelection = (item : any): boolean =>{\n    //console.log(this.treeText.treeModel.activeNodes)\n    return this.treeText.treeModel.activeNodes.length > 1;\n  }\n\n  noRoot(item : any){\n    return item.name != 'root';\n  }\n\n  isFolderMultiple = (item : any) : boolean => {\n    if(this.selectedFileToCopyArray != undefined){\n      return item.type == 'directory' && this.selectedFileToCopyArray.length > 1;\n    }else{\n      return false;\n    }\n  }\n\n  pasteElementsReq = (item : any) : boolean => {\n    if(this.selectedFileToCopyArray != undefined){\n      return this.selectedFileToCopyArray.length > 1;\n    }else{\n      return false;\n    }\n    \n  }\n\n  pasteElements(item){\n    console.log(item)\n    let target_element_id = item['element-id']\n    if(this.selectedFileToCopyArray != undefined){\n      this.selectedFileToCopyArray.forEach((element : any) => {\n        if(element.data.type == 'file'){\n\n          let parameters = {\n            \"requestUUID\": \"string\",\n            \"user-id\": 0,\n            \"element-id\": element?.data['element-id'],\n            \"target-id\": target_element_id\n          }\n\n          this.documentService.copyFileTo(parameters).subscribe(\n            data=>{\n              console.log(data);\n              //this.nodes = data['documentSystem'];\n              this.toastr.info('File '+ element?.data?.name +' copied', '', {\n                timeOut: 5000,\n              });\n              this.treeText.treeModel.getNodeBy(x => {\n                if(x.data['element-id'] === target_element_id){\n                  console.log('entrato')\n                  x.expand();\n      \n                  let node = {\n                    children : element?.data.children,\n                    \"element-id\" : element?.data['element-id']+123213,\n                    id : element?.data?.id+1232312,\n                    metadata : element?.data?.metadata,\n                    name : element?.data?.name,\n                    path : element?.data?.path,\n                    rename_mode : false,\n                    type : element?.data?.type\n                  }\n                  \n                  x.data.children.push(node)\n                    setTimeout(() => {\n                      this.counter = this.nodes.length;\n                      this.updateTreeView();\n                      this.treeText.treeModel.update();\n                      //this.treeText.treeModel.getNodeById(node.id).setActiveAndVisible();\n                    }, 100);\n                  }\n                })              \n      \n                this.treeText.treeModel.update()\n              \n                this.selectedFileToCopyArray = null;\n            },error=>{\n              //console.log(error)\n              this.selectedFileToCopyArray = null;\n            }\n          )\n        }else{\n          this.toastr.error('You can\\'t copy folder, please select only files or move entire folder', 'Error', {\n            timeOut: 5000\n          })\n        }\n      });\n    }\n  }\n\n  copyElements(){\n    this.selectedFileToCopy = null;\n    this.selectedFileToCopyArray = this.treeText.treeModel.activeNodes;\n  }\n  \n  removeElements(){\n    let selected_elements = Array.from(this.treeText.treeModel.activeNodes);\n    selected_elements.forEach(\n      (elements : any) => {\n        try {\n          let data_node = elements.data;\n          let parameters = {\n            \"requestUUID\" : \"string\",\n            \"user-id\" : 0,\n            \"element-id\" : data_node['element-id'],\n          }\n\n          if(data_node.type == 'file'){\n            this.documentService.removeFile(parameters).subscribe(\n              data=>{\n                console.log(data);\n                this.toastr.info('File '+ data_node.name +' deleted', '', {\n                  timeOut: 5000,\n                });\n                \n                //this.nodes = data['documentSystem'];\n                this.lexicalService.sendToAttestationPanel(null);\n                this.documentService.sendToEpigraphyTab(null)\n                this.expander.expandCollapseEpigraphy(false);\n                this.expander.openCollapseEpigraphy(false);\n\n                if(this.expander.isEditOpen){\n                  this.expander.expandCollapseEdit(true);\n                }\n      \n                this.documentService.sendToMetadataPanel(null)\n                \n                /* expandedNodes.forEach( (node: TreeNode) => {\n                \n                  setTimeout(() => {\n                    this.treeText.treeModel.getNodeBy(x => {\n                      if(x.data['element-id'] === node.data['element-id']){\n                        x.expand()\n                      }\n                    })              \n                  }, 300);\n                }) */\n      \n                this.treeText.treeModel.getNodeBy(x => {\n                  if(x.data['element-id'] === data_node['element-id']){\n                    x.parent.data.children.splice(x.parent.data.children.indexOf(x.data), 1)\n                  }\n                })\n      \n                this.treeText.treeModel.update()\n      \n                setTimeout(() => {\n                  console.log(this.nodes)\n                  this.counter = this.nodes.length;\n                }, 100);\n                \n                \n              },error=>{\n                console.log(error)\n                if(typeof(error.error) == 'string'){\n                  this.toastr.info(error.error, '', {\n                    timeOut: 5000,\n                  });\n                }\n                \n              }\n            )\n          }else if(data_node.type == 'directory'){\n            this.documentService.removeFolder(parameters).subscribe(\n              data=>{\n                console.log(data);\n                \n                this.toastr.info('Folder ' + data_node.name + ' removed correctly', 'Info', {\n                  timeOut: 5000\n                })\n      \n                this.treeText.treeModel.getNodeBy(x => {\n                  if(x.data['element-id'] === data_node['element-id']){\n                    x.parent.data.children.splice(x.parent.data.children.indexOf(x.data), 1)\n                  }\n                })\n      \n                this.treeText.treeModel.update()\n      \n                setTimeout(() => {\n                  console.log(this.nodes)\n                  this.counter = this.nodes.length;\n                }, 100);\n                \n                \n              },error=>{\n                console.log(error)\n                this.toastr.error('Something went wront ', 'Error', {\n                  timeOut: 5000\n                })\n                if(typeof(error.error) == 'string'){\n                  this.toastr.info(error.error, '', {\n                    timeOut: 5000,\n                  });\n                }\n              }\n            )\n          }\n\n          \n        } catch (error) {\n          \n        }\n        \n\n      }\n    )\n  }\n\n  createNewFile(evt){\n    if(evt != undefined){\n      console.log(evt)\n      let element_id = evt['element-id'];\n      let parameters = {\n        requestUUID : \"string\",\n        \"user-id\" : 0,\n        \"element-id\" : element_id,\n        filename : \"new_file\"+Math.floor(Math.random() * (99999 - 10) + 10)\n      }\n\n      this.documentService.createFile(parameters).subscribe(\n        data =>{\n          console.log(data)\n          this.treeText.treeModel.getNodeBy(x => {\n            if(x.data['element-id'] === element_id){\n              x.expand()\n              \n              this.toastr.info('New file added', '', {\n                timeOut: 5000,\n              });\n              console.log(x)\n              x.data.children.push(data.node)\n              setTimeout(() => {\n                this.counter = this.nodes.length;\n                this.updateTreeView();\n                this.treeText.treeModel.update();\n                this.treeText.treeModel.getNodeById(data.node.id).setActiveAndVisible();\n              }, 100);\n              \n            }\n          })\n        },error=> {\n          console.log(error)\n        }\n      )\n    }\n  }\n  \n\n  addFolder(evt){\n    if(evt != undefined){\n      let element_id = evt['element-id'];\n      let parameters = {\n        \"requestUUID\" : \"string\",\n        \"user-id\" : 0,\n        \"element-id\" : element_id\n      }\n      \n      const expandedNodes = this.treeText.treeModel.expandedNodes;\n      \n      this.documentService.addFolder(parameters).subscribe(\n        data=>{\n          console.log(data)\n          this.toastr.info('New folder added', '', {\n            timeOut: 5000,\n          });\n          this.treeText.treeModel.getNodeBy(x => {\n            if(x.data['element-id'] === element_id){\n              x.expand()\n\n              let element_id_new_node = data.node['element-id'];\n              let id_new_node = Math.floor(Math.random() * (9728157429307 - 1728157429307) + 1728157429307);\n              let new_node = {\n                \"children\" : [],\n                \"element-id\" : element_id_new_node,\n                \"id\" : id_new_node,\n                \"metadata\" : {},\n                \"path\" : \"\",\n                \"name\" : data.node.name,\n                \"type\" : \"directory\",\n                \"rename_mode\" : false\n              }\n              console.log(x)\n              x.data.children.push(new_node);\n              \n              setTimeout(() => {\n                this.updateTreeView();\n                this.treeText.treeModel.update();\n                this.treeText.treeModel.getNodeById(id_new_node).setActiveAndVisible();\n              }, 100);\n              \n            }\n          }) \n          \n        },error=>{\n          console.log(error)\n        }\n      )\n    }\n  }\n\n  addFile(evt){\n    console.log(evt)\n    let element_id = this.uploadFile_input.nativeElement['element-id'];\n    this.selectedFileToCopy = null;\n    let file_name, parameters;\n\n    if(evt.target.files != undefined){\n      if(evt.target.files.length == 1){\n        file_name = evt.target.files[0].name;\n        parameters = {\n          \"requestUUID\" : \"string\",\n          \"user-id\" : 0,\n          \"element-id\" : element_id,\n          \"file-name\" : file_name\n        }\n        const formData = new FormData();\n        formData.append('file', evt.target.files[0])\n        this.documentService.uploadFile(formData, element_id, 11).subscribe(\n          data=>{\n            console.log(data)\n           \n            this.treeText.treeModel.getNodeBy(x => {\n              if(x.data['element-id'] === element_id){\n                x.expand()\n                \n                this.toastr.info('New file added', '', {\n                  timeOut: 5000,\n                });\n                console.log(x)\n                x.data.children.push(data.node)\n                setTimeout(() => {\n                  this.counter = this.nodes.length;\n                  this.updateTreeView();\n                  this.treeText.treeModel.update();\n                  this.treeText.treeModel.getNodeById(data.node.id).setActiveAndVisible();\n                }, 100);\n                \n              }\n            })    \n            \n            \n            \n          },error=>{\n            console.log(error)\n          }\n        )\n      }else{\n        let files_array = evt.target.files;\n        Array.from(files_array).forEach((element : any) => {\n\n          file_name = element.name;\n          parameters = {\n            \"requestUUID\": \"string\",\n            \"user-id\": 0,\n            \"element-id\": element_id,\n            \"file-name\": file_name\n          }\n\n          const formData = new FormData();\n          formData.append('file', element);\n\n          this.documentService.uploadFile(formData, element_id, 11).subscribe(\n            data => {\n              console.log(data)\n              this.treeText.treeModel.getNodeBy(x => {\n                if(x.data['element-id'] === element_id){\n                  x.expand()\n                  \n                  this.toastr.info('New file added', '', {\n                    timeOut: 5000,\n                  });\n                  console.log(x)\n                  x.data.children.push(data.node)\n                  setTimeout(() => {\n                    this.counter = this.nodes.length;\n                    this.updateTreeView();\n                    this.treeText.treeModel.update();\n                    this.treeText.treeModel.getNodeById(data.node.id).setActiveAndVisible();\n                  }, 100);\n                  \n                }\n              })\n\n\n\n            }, error => {\n              console.log(error);\n              this.toastr.error('Error when adding new file', '', {\n                timeOut: 5000,\n              });\n            }\n          )\n        });\n      }\n    }\n        \n    console.log(parameters)\n    const expandedNodes = this.treeText.treeModel.expandedNodes;\n    \n  }\n\n  triggerUploader(evt){\n    let element_id = evt['element-id']\n    this.renderer.setProperty(this.uploadFile_input.nativeElement, 'element-id', element_id)\n    this.uploadFile_input.nativeElement.click();\n    \n  }\n\n  copyFile(evt){\n    console.log(evt);\n    this.selectedFileToCopy = evt;\n    this.selectedFileToCopyArray = null;\n  }\n\n  pasteFile(evt){\n    console.log(evt)\n    let element_id_target = evt['element-id'];\n    let element_id_source = this.selectedFileToCopy['element-id'];\n    let parameters = {\n      \"requestUUID\": \"string\",\n      \"user-id\": 0,\n      \"element-id\": element_id_source,\n      \"target-id\": element_id_target\n    }\n            \n    this.documentService.copyFileTo(parameters).subscribe(\n      data=>{\n        console.log(data);\n        //this.nodes = data['documentSystem'];\n        this.toastr.info('File '+ evt['name'] +' copied', '', {\n          timeOut: 5000,\n        });\n        this.treeText.treeModel.getNodeBy(x => {\n          if(x.data['element-id'] === element_id_target){\n            console.log('entrato')\n            x.expand();\n\n            let node = {\n              children : this.selectedFileToCopy.children,\n              \"element-id\" : this.selectedFileToCopy['element-id'],\n              id : this.selectedFileToCopy.id+1232312,\n              metadata : this.selectedFileToCopy.metadata,\n              name : this.selectedFileToCopy.name,\n              path : '',\n              rename_mode : false,\n              type : this.selectedFileToCopy.type\n            }\n            \n            x.data.children.push(node)\n              setTimeout(() => {\n                this.counter = this.nodes.length;\n                this.updateTreeView();\n                this.treeText.treeModel.update();\n                this.treeText.treeModel.getNodeById(node.id).setActiveAndVisible();\n              }, 100);\n            }\n          })              \n\n          this.treeText.treeModel.update()\n        \n          this.selectedFileToCopy = null;\n      },error=>{\n        //console.log(error)\n        this.selectedFileToCopy = null;\n      }\n    )\n    \n\n  }\n\n  downloadFile(evt){\n    console.log(evt)\n    let element_id = evt['element-id'];\n    let parameters = {\n      \"requestUUID\": \"string\",\n      \"user-id\": 0,\n      \"element-id\": element_id,\n    }\n            \n    this.documentService.downloadFile(parameters).subscribe(\n      data=>{\n        console.log(data);\n        this.toastr.info('File '+ evt['name'] +' downloaded', '', {\n          timeOut: 5000,\n        });\n        \n      },error=>{\n        //console.log(error)\n      }\n    )\n  }\n  \n  removeFile(evt){\n    this.selectedFileToCopy = null;\n    if(evt != undefined){\n      let element_id = evt['element-id'];\n      let parameters = {\n        \"requestUUID\" : \"string\",\n        \"user-id\" : 0,\n        \"element-id\" : element_id,\n      }\n\n\n      const expandedNodes = this.treeText.treeModel.expandedNodes;\n\n      this.documentService.removeFile(parameters).subscribe(\n        data=>{\n          console.log(data);\n          this.toastr.info('File '+ evt['name'] +' deleted', '', {\n            timeOut: 5000,\n          });\n          \n          //this.nodes = data['documentSystem'];\n          this.lexicalService.sendToAttestationPanel(null);\n          this.documentService.sendToEpigraphyTab(null)\n          this.expander.expandCollapseEpigraphy(false);\n          this.expander.openCollapseEpigraphy(false);\n\n          this.documentService.sendToMetadataPanel(null)\n\n          if(this.expander.isEditOpen){\n            this.expander.expandCollapseEdit();\n          }\n          \n          /* expandedNodes.forEach( (node: TreeNode) => {\n          \n            setTimeout(() => {\n              this.treeText.treeModel.getNodeBy(x => {\n                if(x.data['element-id'] === node.data['element-id']){\n                  x.expand()\n                }\n              })              \n            }, 300);\n          }) */\n\n          this.treeText.treeModel.getNodeBy(x => {\n            if(x.data['element-id'] === element_id){\n              x.parent.data.children.splice(x.parent.data.children.indexOf(x.data), 1)\n            }\n          })\n\n          this.treeText.treeModel.update()\n\n          setTimeout(() => {\n            console.log(this.nodes)\n            this.counter = this.nodes.length;\n          }, 100);\n          \n          \n        },error=>{\n          console.log(error)\n          if(typeof(error.error) == 'string'){\n            this.toastr.info(error.error, '', {\n              timeOut: 5000,\n            });\n          }\n          \n        }\n      )\n    }\n  }\n  \n\n\n  removeFolder(evt){\n    if(evt != undefined){\n      let element_id = evt['element-id'];\n      let parameters = {\n        \"requestUUID\" : \"string\",\n        \"user-id\" : 0,\n        \"element-id\" : element_id\n      }\n      this.toastr.info('Folder '+ evt['name'] +' deleted', '', {\n        timeOut: 5000,\n      });\n      const expandedNodes = this.treeText.treeModel.expandedNodes;\n\n      this.documentService.removeFolder(parameters).subscribe(\n        data=>{\n          console.log(data);\n          \n          //this.nodes = data['documentSystem'];\n          /* expandedNodes.forEach( (node: TreeNode) => {\n          \n            setTimeout(() => {\n              this.treeText.treeModel.getNodeBy(x => {\n                if(x.data['element-id'] === node.data['element-id']){\n                  x.expand()\n                }\n              })              \n            }, 300);\n          }) */\n\n          this.treeText.treeModel.getNodeBy(x => {\n            if(x.data['element-id'] === element_id){\n              x.parent.data.children.splice(x.parent.data.children.indexOf(x.data), 1)\n            }\n          })\n\n          this.treeText.treeModel.update()\n\n          setTimeout(() => {\n            console.log(this.nodes)\n            this.counter = this.nodes.length;\n          }, 100);\n          \n          \n        },error=>{\n          console.log(error)\n          if(typeof(error.error) == 'string'){\n            this.toastr.info(error.error, '', {\n              timeOut: 5000,\n            });\n          }\n        }\n      )\n    }\n  }\n\n  moveFolder(evt){\n    if(evt != undefined){\n      //console.log(evt);\n      let element_id = evt.node['element-id'];\n      let target_id = evt.to.parent['element-id'];\n      let parameters = {\n        \"requestUUID\": \"string\",\n        \"user-id\": 0,\n        \"element-id\": element_id,\n        \"target-id\": target_id\n      }\n            \n      \n      this.documentService.moveFolder(parameters).subscribe(\n        data=>{\n          this.toastr.info('Folder '+ evt.node['name'] +' moved', '', {\n            timeOut: 5000,\n          });\n          /* //console.log(data); */\n        },error=>{\n          console.log(error)\n        }\n      )\n    }\n  }\n\n  moveFile(evt){\n    if(evt != undefined){\n      console.log(evt);\n      let element_id = evt.node['element-id'];\n      let target_id = evt.to.parent['element-id'];\n      let parameters = {\n        \"requestUUID\": \"string\",\n        \"user-id\": 0,\n        \"element-id\": element_id,\n        \"target-id\": target_id\n      }\n            \n      \n      this.documentService.moveFileTo(parameters).subscribe(\n        data=>{\n          console.log(data);\n          this.toastr.info('File '+ evt.node['name'] +' moved', '', {\n            timeOut: 5000,\n          });\n          \n        },error=>{\n          //console.log(error)\n        }\n      )\n    }\n  }\n\n  renameNode(evt){\n    setTimeout(() => {\n      this.renameNode_input.nativeElement.focus();\n      //@ts-ignore\n      $('.input-tooltip').tooltip({\n          trigger: 'hover'\n      });\n    }, 300);\n    console.log(evt)\n    \n    this.treeText.treeModel.getNodeBy(\n      node => {\n        if(node.data['element-id'] == evt['element-id']){\n          node.data.rename_mode = true;\n          \n        }else{\n          node.data.rename_mode = false;\n        }\n      }\n    )\n  }\n\n  onRenamingNode(evt, node, new_value){\n    console.log(evt, node);\n    setTimeout(() => {\n      //@ts-ignore\n      $('.input-tooltip').tooltip({\n          trigger: 'hover'\n      });\n    }, 300);\n    switch(evt.key){\n      case 'Enter' : this.updateNodeName(node, new_value); break;\n      case 'Escape': this.exitRenamingMode(); break;\n      default: console.log(evt)\n    }\n    \n  }\n\n  updateNodeName(node, new_value){\n    this.searchIconSpinner_input = true;\n    let node_type = node.data.type;\n\n    if(new_value.match(/^[A-Za-z-_0-9. ]{3,}$/)){\n      let element_id = node.data['element-id'];\n      let parameters = {\n        \"requestUUID\": \"string\",\n        \"user-id\": 0,\n        \"element-id\": element_id,\n        \"rename-string\": new_value\n      }\n\n      if(node_type == 'directory'){\n        \n        this.documentService.renameFolder(parameters).subscribe(\n          data=> {\n            //console.log(data);\n            this.toastr.info('Folder '+ node.data.name +' renamed', '', {\n              timeOut: 5000,\n            });\n            setTimeout(() => {\n              this.treeText.treeModel.getNodeBy(x => {\n                if(x.data['element-id'] === element_id){\n                  x.data.name = new_value;\n                }\n              })              \n            }, 300);\n            this.searchIconSpinner_input = false;\n            this.renameNode_input.nativeElement.value = '';\n            var that = this;\n\n            setTimeout(() => {\n              //@ts-ignore\n              $('.input-tooltip').tooltip('hide');\n              setTimeout(() => {\n                that.treeText.treeModel.getNodeBy(\n                  item => {\n                    item.data.rename_mode = false;\n                  }\n                )\n              }, 100);\n            }, 100);\n          },error=>{\n            console.log(error)\n            var that = this;\n\n            setTimeout(() => {\n              //@ts-ignore\n              $('.input-tooltip').tooltip('hide');\n              setTimeout(() => {\n                that.treeText.treeModel.getNodeBy(\n                  item => {\n                    item.data.rename_mode = false;\n                  }\n                )\n              }, 100);\n            }, 100);\n          }\n        )\n\n      }else if(node_type == 'file'){\n        this.documentService.renameFile(parameters).subscribe(\n          data=> {\n            this.toastr.info('File renamed', '', {\n              timeOut: 5000,\n            });\n            //console.log(data);\n            setTimeout(() => {\n              this.treeText.treeModel.getNodeBy(x => {\n                if(x.data['element-id'] === element_id){\n                  x.data.name = new_value;\n                }\n              })              \n            }, 300);\n            this.searchIconSpinner_input = false;\n            this.renameNode_input.nativeElement.value = '';\n            var that = this;\n\n            setTimeout(() => {\n              //@ts-ignore\n              $('.input-tooltip').tooltip('hide');\n              setTimeout(() => {\n                that.treeText.treeModel.getNodeBy(\n                  item => {\n                    item.data.rename_mode = false;\n                  }\n                )\n              }, 100);\n            }, 100);\n          },error=>{\n            console.log(error)\n            var that = this;\n\n            setTimeout(() => {\n              //@ts-ignore\n              $('.input-tooltip').tooltip('hide');\n              setTimeout(() => {\n                that.treeText.treeModel.getNodeBy(\n                  item => {\n                    item.data.rename_mode = false;\n                  }\n                )\n              }, 100);\n            }, 100);\n          }\n        )\n      }\n    }\n    \n  }\n\n  exitRenamingMode(){\n    var that = this;\n\n    setTimeout(() => {\n      //@ts-ignore\n      $('.input-tooltip').tooltip('hide');\n      setTimeout(() => {\n        \n        that.searchIconSpinner_input = false;\n        that.treeText.treeModel.getNodeBy(\n          item => {\n            item.data.rename_mode = false;\n          }\n        )\n      }, 100);\n    }, 300);\n  }\n\n  saveMetadata(){\n    console.log(this.metadata_array.value)\n    let element_id = this.metadataForm.get('element_id').value;\n    let name = this.metadataForm.get('name').value;\n    let parameters = {\n      \"requestUUID\": \"string\",\n      \"metadata\": {},\n      \"user-id\": 0,\n      \"element-id\": element_id\n    };\n    \n    this.metadata_array.value.forEach(element => {\n      parameters.metadata[element.key] = element.value\n    });\n\n    const expandedNodes = this.treeText.treeModel.expandedNodes;\n\n    this.documentService.updateMetadata(parameters).subscribe(\n      data=> {\n        this.toastr.info('Metadata updated for ' + name + ' node' , '', {\n          timeOut: 5000,\n        });\n        //console.log(data);\n        this.nodes = data['documentSystem'];\n        expandedNodes.forEach( (node: TreeNode) => {\n          \n          setTimeout(() => {\n            this.treeText.treeModel.getNodeBy(x => {\n              if(x.data['element-id'] === node.data['element-id']){\n                x.setActiveAndVisible()\n              }\n            })              \n          }, 300);\n        })\n      },error =>{\n        console.log(error)\n      }\n    )\n  }\n\n  removeMetadataItem(index){\n    this.metadata_array = this.metadataForm.get('metadata_array') as FormArray;\n    let name = this.metadata_array.at(index).get('key').value;\n    this.toastr.info('Metadata deleted for ' + name + ' node' , '', {\n      timeOut: 5000,\n    });\n    this.memoryMetadata.splice(index, 1)\n    this.metadata_array.removeAt(index);\n    this.metadataForm.markAsTouched();\n    \n  }\n\n  addMetadata(k?, v?){\n    this.metadata_array = this.metadataForm.get('metadata_array') as FormArray;\n\n    if (k == undefined) {\n      this.metadata_array.push(this.createMetadataItem());\n    } else {\n      this.metadata_array.push(this.createMetadataItem(k, v));\n    }\n  }\n\n  onCloseRemoveMetadata(){\n    this.selectedFileToCopy = null;\n  }\n\n  deleteMetadata(){\n    let element_id = this.selectedFileToCopy['element-id'];\n    let name = this.selectedFileToCopy['name'];\n    let parameters = {\n      \"requestUUID\": \"string\",\n      \"user-id\": 0,\n      \"element-id\": element_id\n    }\n    \n    const expandedNodes = this.treeText.treeModel.expandedNodes;\n\n    this.documentService.deleteMetadata(parameters).subscribe(\n      data=> {\n        //console.log(data);\n        this.toastr.info('Metadata deleted for ' + name + ' node' , '', {\n          timeOut: 5000,\n        });\n        this.nodes = data['documentSystem'];\n        expandedNodes.forEach( (node: TreeNode) => {\n          \n          setTimeout(() => {\n            this.treeText.treeModel.getNodeBy(x => {\n              if(x.data['element-id'] === node.data['element-id']){\n                x.setActiveAndVisible()\n              }\n            })              \n          }, 300);\n        })\n      },error =>{\n        console.log(error)\n      }\n    )\n  }\n\n  onCloseModal(){\n    this.metadataForm.markAsUntouched();\n    this.metadata_array.clear();\n    this.memoryMetadata = [];\n  }\n\n  populateMetadata(item : any){\n    let element_id = item['element-id'];\n    let name = item['name'];\n    this.metadataForm.get('name').setValue(name, {emitEvent : false})\n    this.metadataForm.get('element_id').setValue(element_id, {emitEvent : false});\n    this.editMetadataModal.show();\n\n    this.metadata_array = this.metadataForm.get('metadata_array') as FormArray;\n    this.metadata_array.clear();\n    this.memoryMetadata = [];\n\n    if(Object.keys(item.metadata).length != 0){\n      for (const [key, value] of Object.entries(item.metadata)) {\n        console.log(`${key}: ${value}`);\n        this.addMetadata(key, value)\n      }\n    }else{\n      null;\n    }\n    \n  }\n\n  createMetadataItem(k?, v?){\n    if(k != undefined){\n      return this.formBuilder.group({\n        key: new FormControl(k, [Validators.required, Validators.minLength(0)]),\n        value: new FormControl(v, [Validators.required, Validators.minLength(0)])\n      })\n    }else{\n      return this.formBuilder.group({\n        key: new FormControl('', [Validators.required, Validators.minLength(0), this.uniqueIdValidator.bind(this)]),\n        value: new FormControl('', [Validators.required, Validators.minLength(0)])\n      })\n    }\n  }\n\n  uniqueIdValidator(control: FormControl) {\n    /* console.log(control)\n    console.log(this.metadata_array) */\n    if(control.value != ''){\n      if (this.metadata_array.value.find(item => item.key === control.value)) {\n        return { duplicate: true };\n      } else {\n        return null;\n      }\n    }else{\n      return null\n    }\n    \n  }\n\n  updateTreeView() {\n    setTimeout(() => {\n      //@ts-ignore\n      $('.input-tooltip').tooltip({\n          trigger: 'hover'\n      });\n    }, 300);\n    \n    setTimeout(() => {\n      this.treeText.sizeChanged();\n      //@ts-ignore\n      $('.lexical-tooltip').tooltip();\n    }, 1000);\n  }\n\n  resetFields(){\n    \n    this.textFilterForm.reset(this.initialValues, {emitEvent : false});\n    setTimeout(() => {\n      this.loadTree();\n      this.treeText.treeModel.update();\n      this.updateTreeView();\n      \n    }, 500);  \n    \n  }\n\n  searchFilter(newPar) {\n    \n    setTimeout(() => {\n      const viewPort_prova = this.element.nativeElement.querySelector('tree-viewport') as HTMLElement;\n      viewPort_prova.scrollTop = 0\n    }, 300);\n\n    let search_text = newPar.search_text != null ? newPar.search_text : '';\n    let date_pipe = this.datePipe.transform(newPar.import_date, 'yyyy-MM-ddThh:mm:ss.zzzZ')\n    this.searchIconSpinner = true;\n    let parameters = {\n      \"requestUUID\" : \"string\",\n      \"contains\" : newPar.search_mode == 'contains' ? true : false,\n      \"metadata\" : {},\n      \"search-text\": search_text,\n      \"start-with\" : newPar.search_mode == 'start' ? true : false,\n      \"user-id\": 0,\n      \"import-date\": date_pipe,\n      \"exact-date\": newPar.date_mode == 'exact' ? true : false,\n      \"from-date\":  newPar.date_mode == 'from' ? true : false,\n      \"util-date\":  newPar.date_mode == 'until' ? true : false\n    };\n    \n    console.log(parameters)\n    \n    this.documentService.searchFiles(newPar).subscribe(\n      data => {\n        if(data['files'].length > 0){\n          this.show = false;\n        }else {\n          this.show = true;\n        }\n        this.nodes = data['files'];\n        this.counter = data['results'];\n        this.treeText.treeModel.update();\n        this.updateTreeView();\n        this.searchIconSpinner = false;\n        \n      },\n      error => {\n        console.log(error)\n        this.searchIconSpinner = false;\n\n        this.toastr.error('Error on search text', 'Error', {\n          timeOut : 5000\n        })\n      }\n    )\n  }\n\n  addTagFn(name) {\n    return { name: name, tag: true };\n  }\n\n  triggerMetadata(){\n    console.log(this.metadata_tags_element.selectedItems)\n  }\n\n}\n\n","\n\n<form [formGroup]=\"textFilterForm\">\n  <div class=\"input-group col-md-12 mt-2 p-0\">\n    <input formControlName=\"search_text\" id=\"filterLexicalEntry\" name=\"search_text\" type=\"text\" class=\"form-control\" placeholder=\"Search\" />\n    <div class=\"input-group-append\">\n        <span class=\"input-group-text loading_icon_append\" id=\"basic-addon2\">\n            <div class=\"spinner-border spinner-border-sm m-1\" role=\"status\" *ngIf=\"searchIconSpinner\">\n                <span class=\"sr-only\">Loading...</span>\n            </div>\n        </span>\n    </div>\n    <div id=\"buttons-container\" class=\"input-group-append\">\n        <button class=\"btn btn-sm btn-secondary btn-block filter-button\" type=\"button\" value=\"Filter\" title=\"Filter\"\n            data-toggle=\"collapse\" data-target=\"#metadataFilterCollapse\" aria-expanded=\"false\"\n            aria-controls=\"metadataFilterCollapse\"><i class=\"fa fa-filter\"></i></button>\n        <button class=\"btn btn-sm btn-danger btn-block reset-button\" type=\"button\" value=\"Reset\" title=\"Reset\"\n            (click)=\"resetFields();\" style=\"border-top-right-radius: .25rem; border-bottom-right-radius: .25rem;\"><i\n                class=\"fa fa-times\"></i></button>\n        <button class=\"btn btn-sm btn-block counter-button\" type=\"button\"><span\n                class=\"font-weight-bold font-italic text-muted\">{{counter}}</span></button>\n    </div>\n  </div>\n\n  <div class=\"d-flex flex-wrap mt-3\">\n      <div class=\"col-md-6 col-sm-3\">\n          <div class=\"form-check\">\n              <input formControlName=\"search_mode\" class=\"form-check-input\" type=\"radio\" name=\"search_mode\"\n                  id=\"startRadio\" value=\"start\">\n              <label class=\"form-check-label\" for=\"startRadio\">\n                  Starts\n              </label>\n          </div>\n      </div>\n      <div class=\"col-md-6 col-sm-3\">\n          <div class=\"form-check\">\n              <input formControlName=\"search_mode\" class=\"form-check-input\" type=\"radio\" name=\"search_mode\"\n                  id=\"containsRadio\" value=\"contains\">\n              <label class=\"form-check-label\" for=\"containsRadio\">\n                  Contains\n              </label>\n          </div>\n      </div>\n  </div>\n\n  <div class=\"collapse multi-collapse\" id=\"metadataFilterCollapse\">\n  \n      <div class=\"d-flex flex-wrap mt-3\">\n        <div class=\"col-md-12\">\n          <div class=\"form-group row\">\n            <label for=\"inputEmail3\" class=\"col-sm-4 col-form-label\">Date mode:</label>\n            <div class=\"col-sm-8\">\n              <select formControlName=\"date_mode\" class=\"form-control\" name=\"date_mode\">\n                <option value=\"exact\">Exact</option>\n                <option value=\"from\">From</option>\n                <option value=\"until\">Until</option>\n            </select>\n            </div>\n          </div>\n        </div> \n      </div>\n      \n      <div class=\"d-flex flex-wrap\">\n        <div class=\"col-md-12\">\n          <input formControlName=\"import_date\" type=\"datetime-local\" class=\"form-control\"\n                name=\"import_date\" value=\"date\"\n                min=\"2018-06-07T00:00\" [max]=\"date\">\n        </div>\n      </div>\n\n      <div class=\"d-flex flex-wrap mt-3\">\n        <div class=\"col-md-12\">\n          <ng-select #metadata_tags \n            [items]=\"[]\"\n            [addTag]=\"true\"\n            [multiple]=\"true\"\n            [selectOnTab]=\"true\"\n            placeholder=\"Insert metadata tags\"\n            (change)=\"triggerMetadata()\"\n            [isOpen]=\"false\">\n          </ng-select>\n          \n        </div>\n      </div>\n  </div>\n</form>\n\n\n<div class=\"col-md-12 mt-3 rounded border border-secondary tree-view\">\n  <p *ngIf=\"show\">Nessun risultato</p>\n  <tree-root #treeText [nodes]=\"nodes\" [options]=\"options\" [focused]=\"true\" (activate)=\"onEvent($event)\"\n    (moveNode)=\"onMoveNode($event)\">\n    <ng-template #treeNodeTemplate let-node let-index=\"index\">\n      \n      <div *ngIf=\"node.data.rename_mode\" class=\"input-group\">\n        <input autofocus #renameNodeInput class=\"form-control\" type=\"text\" [value]=\"node.data.name\" (keyup)=\"onRenamingNode($event, node, renameNodeInput.value)\" style=\"height: 22px; border-right: transparent;\" />\n        <div class=\"input-group-append input-tooltip\"  data-toggle=\"tooltip\"\n        data-placement=\"top\" data-html=\"true\" title=\"Click enter to rename; Click ESC to exit\">\n          <span class=\"input-group-text\"><i class=\"fas fa-question\"></i></span>\n        </div>\n        <div class=\"input-group-append\">\n          <span class=\"input-group-text loading_icon_append\">\n              <div class=\"spinner-border spinner-border-sm m-1\" role=\"status\" *ngIf=\"searchIconSpinner_input\">\n                  <span class=\"sr-only\">Loading...</span>\n              </div>\n          </span>\n        </div>\n      </div>\n      <div *ngIf=\"!node.data.rename_mode\">\n        <i class=\"far fa-folder\" *ngIf=\"node.data.type == 'directory' && !node.isExpanded\"></i>\n        <i class=\"far fa-folder-open\" *ngIf=\"node.data.type == 'directory' && node.isExpanded\"></i>\n        <i class=\"far fa-file-alt\" *ngIf=\"node.data.type == 'file'\"></i>\n        <span [contextMenu]=\"basicMenu\" [contextMenuSubject]=\"node.data\">\n          {{ node.data.name }}\n        </span>\n      </div>\n      \n    </ng-template>\n  </tree-root>\n  <context-menu>\n\n    <!-- FOLDER CONTEXT MENU -->\n    <ng-template contextMenuItem let-item [visible]=\"isFolder \" (execute)=\"triggerUploader($event.item)\">\n      Add File\n    </ng-template>\n    <ng-template contextMenuItem divider=\"true\" [visible]=\"isFolder\"></ng-template>\n    <ng-template contextMenuItem let-item [visible]=\"isFolder \" (execute)=\"createNewFile($event.item)\">\n      Create new empty File\n    </ng-template>\n    <ng-template contextMenuItem divider=\"true\" [visible]=\"isFolder\"></ng-template>\n    <ng-template contextMenuItem let-item [visible]=\"isFolder \" (execute)=\"addFolder($event.item)\">\n      Add Folder\n    </ng-template>\n    <ng-template contextMenuItem let-item [visible]=\"isFolder \" [enabled]=\"noRoot\" (execute)=\"removeFolder($event.item)\">\n      Delete Folder\n    </ng-template>\n    <ng-template contextMenuItem let-item [visible]=\"isFolder \" [enabled]=\"noRoot\"\n      (execute)=\"renameNode($event.item)\">\n      <span >Rename Folder</span> <!-- (click)=\"renameFolderModel.show();\" -->\n    </ng-template>\n\n    <ng-template contextMenuItem let-item [visible]=\"multipleSelection\" (execute)=\"copyElements()\">\n      Copy Elements\n    </ng-template>\n    <ng-template contextMenuItem let-item [visible]=\"isFolderMultiple\" (execute)=\"pasteElements($event.item)\">\n      Paste Elements\n    </ng-template>\n    <ng-template contextMenuItem divider=\"true\" [visible]=\"multipleSelection\"></ng-template>\n    <ng-template contextMenuItem let-item [visible]=\"multipleSelection\" (execute)=\"removeElements()\">\n      Delete Elements\n    </ng-template>\n    \n\n<!--     <ng-template contextMenuItem divider=\"multipleSelection\" [visible]=\"multipleSelection\"></ng-template>\n -->\n    <!-- FILE CONTEXT MENU -->\n    <ng-template contextMenuItem let-item [visible]=\"isFile\" (execute)=\"copyFile($event.item)\">\n      Copy File\n    </ng-template>\n    <ng-template contextMenuItem let-item [visible]=\"isFolder && selectedFileToCopy != null\"\n      (execute)=\"pasteFile($event.item)\">\n      Paste File\n    </ng-template>\n    <ng-template contextMenuItem let-item [visible]=\"isFile\" (execute)=\"renameNode($event.item)\">\n      <span >Rename File</span> <!-- (click)=\"renameFileModel.show();\" -->\n    </ng-template>\n    <ng-template contextMenuItem let-item [visible]=\"isFile\" (execute)=\"removeFile($event.item)\">\n      Delete File\n    </ng-template>\n    <ng-template contextMenuItem divider=\"isFile\" [visible]=\"isFile\"></ng-template>\n    <ng-template contextMenuItem let-item [visible]=\"isFile\" (execute)=\"downloadFile($event.item)\">\n      Download File\n    </ng-template>\n\n    <!-- <ng-template contextMenuItem [visible]=\"enableMetadata\" divider=\"true\"></ng-template> -->\n    <!-- METADATA -->\n    <!-- <ng-template contextMenuItem let-item [visible]=\"enableMetadata\"  (execute)=\"populateMetadata($event.item)\">\n      <span (click)=\"editMetadata.show();\">Edit Metadata</span>\n    </ng-template> -->\n    <!-- <ng-template contextMenuItem let-item  [visible]=\"enableMetadata\" (execute)=\"copyFile($event.item)\">\n      <span (click)=\"removeMetadataModal.show();\"> Delete Metadata</span>\n    </ng-template> -->\n  </context-menu>\n</div>\n\n<input #uploadFile type=\"file\" accept=\".xml\" hidden (change)=\"addFile($event)\" multiple>\n\n<!-- <app-modal #renameFolderModel class=\"add_languages_modal\">\n  <ng-container class=\"app-modal-header\"></ng-container>\n  <ng-container class=\"app-modal-body\">\n    <div class=\"card\">\n      <div class=\"card-body\">\n        <div class=\"form-group row ml-2 mt-3 mr-2\">\n          <label for=\"inputLabel\" class=\"col-lg-5 col-form-label\" style=\"font-size: 12px;\">Rename Folder:</label>\n          <div class=\"input-group col-lg-7\" style=\"align-items: center;\">\n            <input type=\"text\" class=\"form-control\" placeholder=\"\" #renameFolderInput>\n            <div class=\"input-group-append ml-2\">\n              <button class=\"btn btn-success\" type=\"button\" (click)=\"renameFolder(renameFolderInput.value);\"><i\n                  class=\"fas fa-check\"></i></button>\n            </div>\n            \n            <div class=\"invalid-feedback\" [hidden]=\"validName\" style=\"display: block; font-size: 9px;\">\n              Please, insert at least three characters.\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </ng-container>\n</app-modal>\n\n<app-modal #renameFileModel class=\"add_languages_modal\">\n  <ng-container class=\"app-modal-header\"></ng-container>\n  <ng-container class=\"app-modal-body\">\n    <div class=\"card\">\n      <div class=\"card-body\">\n        <div class=\"form-group row ml-2 mt-3 mr-2\">\n          <label for=\"inputLabel\" class=\"col-lg-5 col-form-label\" style=\"font-size: 12px;\">Rename File:</label>\n          <div class=\"input-group col-lg-7\" style=\"align-items: center;\">\n            <input type=\"text\" class=\"form-control\" placeholder=\"\" #renameFileInput>\n            <div class=\"input-group-append ml-2\">\n              <button class=\"btn btn-success\" type=\"button\" (click)=\"renameFile(renameFileInput.value);\"><i\n                  class=\"fas fa-check\"></i></button>\n            </div>\n          \n            <div class=\"invalid-feedback\" [hidden]=\"validName\" style=\"display: block; font-size: 9px;\">\n              Please, insert at least three characters.\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </ng-container>\n</app-modal> -->\n\n<app-modal #editMetadata class=\"add_languages_modal\" [inViewport]=\"true\" (closeModal)=\"onCloseModal()\">\n  <ng-container class=\"app-modal-header\"></ng-container>\n  <ng-container class=\"app-modal-body\">\n    <form [formGroup]=\"metadataForm\">\n      <div class=\"form-group row ml-2 mt-3 mr-2 justify-content-between\">\n        <button class=\"btn btn-primary\" (click)=\"addMetadata()\">Add Metadata <i class=\"fas fa-plus\"></i></button>\n        <button class=\"btn btn-success\" (click)=\"saveMetadata()\"\n          [disabled]=\"!metadataForm.touched || !metadataForm.valid\">Save Metadata <i class=\"fas fa-plus\"></i></button>\n      </div>\n\n      <div class=\"card\">\n        <div class=\"card-body\">\n          <div formArrayName=\"metadata_array\">\n            <div *ngFor=\"let metadata_item of metadataForm.get('metadata_array')['controls']; let i = index\">\n              <div [formGroupName]=\"i\">\n                \n\n\n                <div class=\"d-flex my-2\">\n                  <div class=\"col-md-5\">\n                    <input formControlName=\"key\" name=\"key\" type=\"text\" class=\"form-control\"\n                      placeholder=\"Insert metadata key\">\n                    <div class=\"invalid-feedback\" [hidden]=\"!metadata_item.get('key').invalid\" style=\"display: block; font-size: 9px;\">\n                      \n                      <span *ngIf=\"!metadata_item.get('key').hasError('duplicate')\">\n                        Invalid field\n                      </span>\n                      <span *ngIf=\"metadata_item.get('key').hasError('duplicate')\">\n                        Duplicate field\n                      </span>\n                    </div>\n                  </div>\n                  <div class=\"input-group col-md-7\">\n                    <input formControlName=\"value\" name=\"value\" type=\"text\" class=\"form-control\"\n                      placeholder=\"Insert metadata value\">\n                   \n                    <div class=\"input-group-append ml-2\">\n                      <button class=\"btn btn-danger\" type=\"button\" (click)=\"removeMetadataItem(i)\" style=\"border-radius: 0.25rem;\">\n                        <i class=\"fa fa-trash\"></i>\n                      </button>\n                    </div>\n                    <div class=\"invalid-feedback\" [hidden]=\"!metadata_item.get('value').invalid\" style=\"display: block; font-size: 9px;\">\n                      Invalid field\n                  </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"form-group row ml-2 mt-3 mr-2\"\n              *ngIf=\"metadataForm.get('metadata_array')['controls'].length == 0\">\n              <label for=\"inputLabel\" class=\"col-lg-5 col-form-label font-italic\" style=\"font-size: 12px;\">No\n                metadata</label>\n            </div>\n\n          </div>\n\n        </div>\n      </div>\n    </form>\n\n  </ng-container>\n</app-modal>\n\n<app-modal #removeMetadataModal class=\"remove_languages_modal\" [inViewport]=\"true\" (closeModal)=\"onCloseRemoveMetadata()\">\n  <ng-container class=\"app-modal-header\"></ng-container>\n  <ng-container class=\"app-modal-body\">\n      <div class=\"card\">\n          <div class=\"card-body\">\n              <div class=\"form-group row ml-2 mt-3 mr-2\">\n                  <label for=\"inputLabel\" class=\"col-lg-12 col-form-label\" style=\"font-size: 12px; text-align: center\">Are you sure to delete the metadata of {{selectedFileToCopy?.name}}?</label>\n              </div>\n              <div class=\"form-group row ml-2 mt-3 mr-2 justify-content-md-center\">\n                  <div class=\"input-group col-lg-5 justify-content-md-center\" style=\"align-items: center; text-align: center;\">\n                      <div class=\"input-group-append ml-2\">\n                          <button class=\"btn btn-success\" type=\"button\" (click)=\"deleteMetadata(); removeMetadataModal.hide()\"><i\n                                  class=\"fas fa-check\"></i></button>\n                      </div>\n                      <div class=\"input-group-append ml-2\">\n                          <button class=\"btn btn-danger\" type=\"button\" (click)=\"removeMetadataModal.hide()\"><i\n                                  class=\"fas fa-times\"></i></button>\n                      </div>\n                  </div>\n              </div>\n          </div>\n      </div>\n  </ng-container>\n</app-modal>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, Input, OnInit, SimpleChanges } from '@angular/core';\nimport { FormArray, FormBuilder, FormControl, FormGroup } from '@angular/forms';\nimport { NgSelectComponent } from '@ng-select/ng-select';\nimport { ToastrService } from 'ngx-toastr';\nimport { Subject, Subscription } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\n\n@Component({\n  selector: 'app-lexical-entry-decomp-form',\n  templateUrl: './lexical-entry-decomp-form.component.html',\n  styleUrls: ['./lexical-entry-decomp-form.component.scss']\n})\nexport class LexicalEntryDecompFormComponent implements OnInit {\n\n  @Input() decData: any;\n  private subterm_subject: Subject<any> = new Subject();\n  private ext_subterm_subject: Subject<any> = new Subject();\n  private corresponds_subject: Subject<any> = new Subject();\n  private update_component_subject: Subject<any> = new Subject();\n  switchInput = false;\n  subscription: Subscription;\n  object: any;\n  searchResults = [];\n  peopleLoading = false;\n  counter = 0;\n  componentRef: any;\n\n  subtermDisabled = false;\n  memorySubterm = [];\n  memoryComponent = [];\n  memoryValues = [];\n\n  decompForm = new FormGroup({\n    label: new FormControl(''),\n    component: new FormArray([this.createComponent()]),\n    subterm: new FormArray([this.createSubtermComponent()])\n  })\n\n  componentArray: FormArray;\n  subtermArray: FormArray;\n\n  staticMorpho = [];\n  morphologyData = [];\n  valueTraits = [];\n\n  disableAddTraits = [];\n\n  constructor( private lexicalService: LexicalEntriesService, private formBuilder: FormBuilder, private toastr: ToastrService) { }\n\n  ngOnInit(): void {\n\n    this.decompForm = this.formBuilder.group({\n      label: '',\n      component: this.formBuilder.array([]),\n      subterm: this.formBuilder.array([]),\n    })\n    this.triggerTooltip();\n    this.loadMorphologyData();\n\n    this.lexicalService.changeDecompLabel$.subscribe(\n      data => {\n        if (data != null) {\n          this.decompForm.get('label').setValue(data, { emitEvent: false });\n        }\n      }\n    )\n\n    this.subterm_subject.pipe(debounceTime(1000)).subscribe(\n      data => {\n        this.onSearchFilter(data)\n      }\n    )\n\n    this.ext_subterm_subject.pipe(debounceTime(1000)).subscribe(\n      data => {\n          this.onChangeSubterm(data)\n      }\n    )\n\n    this.corresponds_subject.pipe(debounceTime(1000)).subscribe(\n      data => {\n        this.onSearchFilter(data)\n      }\n    )\n\n    this.update_component_subject.pipe(debounceTime(1000)).subscribe(\n      data => {\n        this.onChanges(data)\n      }\n    )\n  }\n\n  triggerTooltip() {\n    setTimeout(() => {\n      //@ts-ignore\n      $('.vartrans-tooltip').tooltip({\n        trigger: 'hover'\n      });\n    }, 500);\n  }\n\n  loadMorphologyData() {\n    this.lexicalService.getMorphologyData().subscribe(\n      data => {\n        console.log(data)\n        this.morphologyData = data;\n\n      }\n    )\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    setTimeout(() => {\n      if (this.object != changes.decData.currentValue) {\n        if (this.componentArray != null || this.subtermArray != null) {\n          if (this.componentArray != undefined) {\n            this.componentArray.clear();\n\n          }\n\n          if (this.subtermArray != undefined) {\n            this.subtermArray.clear();\n          }\n\n          this.subtermDisabled = false;\n          this.memorySubterm = [];\n          this.memoryComponent = [];\n          /* this.morphologyData = []; */\n          /* this.staticMorpho = []; */\n          this.valueTraits = [];\n          this.memoryValues = [];\n        }\n      }\n      /* this.loadPeople(); */\n      this.object = changes.decData.currentValue;\n      if (this.object != null) {\n        this.decompForm.get('label').setValue(this.object.label, { emitEvent: false });\n\n        if (this.object.lexicalEntryInstanceName != undefined && this.object.sense == undefined) {\n          this.lexicalService.getSubTerms(this.object.lexicalEntryInstanceName).subscribe(\n            data => {\n              console.log(data)\n\n              if (data != undefined) {\n\n                Array.from(data).forEach((element: any) => {\n                  this.addSubterm(element.lexicalEntryInstanceName, element.label, element.language);\n                  this.memorySubterm.push(element);\n                })\n              }\n            }, error => {\n              console.log(error)\n            }\n          )\n        }\n\n        if (this.object.lexicalEntryInstanceName != undefined && this.object.sense == undefined) {\n          this.lexicalService.getConstituents(this.object.lexicalEntryInstanceName).subscribe(\n            data => {\n              console.log(data)\n\n              if (data != undefined) {\n                Array.from(data).forEach((element: any) => {\n\n                  this.lexicalService.getCorrespondsTo(element.componentInstanceName).subscribe(\n                    correspondsTo_data => {\n                      console.log(correspondsTo_data);\n\n                      let corr;\n                      if(correspondsTo_data != undefined){\n                        corr = correspondsTo_data.lexicalEntryInstanceName;\n                      }\n                      element.corresponds_to = corr;\n                      this.addComponent(element, Array.from(data).indexOf(element));\n                    }, error => {\n                      console.log(error)\n                    }\n                  )\n\n                  \n\n                });\n              }\n            }, error => {\n              console.log(error)\n            }\n          )\n        }\n\n\n\n      }\n      this.triggerTooltip();\n    }, 10)\n  }\n\n  /* private loadPeople() {\n    this.peopleLoading = true;\n    this.dataService.getPeople().subscribe(x => {\n      this.people = x;\n      this.peopleLoading = false;\n    });\n  } */\n\n  onChanges(data) {\n    let fieldType = '';\n    console.log(data)\n    if (data != undefined) {\n\n      let newValue = data.v.target.value;\n      let currentValue;\n      let index = data?.i;\n\n\n      let oldValue = '';\n      fieldType = data['f']\n      if (fieldType == 'note') {\n        oldValue = this.memoryComponent[index]['note'];\n      } else if (fieldType == 'label') {\n        oldValue = this.memoryComponent[index]['label'];\n      } else if (fieldType == 'confidence') {\n        oldValue = this.memoryComponent[index]['confidence'];\n      }\n\n      //this.biblioArray = this.bibliographyForm.get('bibliography') as FormArray;\n\n\n\n      let instanceName = this.memoryComponent[index].componentInstanceName;\n\n\n      let parameters;\n\n      if (oldValue == '' || oldValue == null) {\n        parameters = {\n          type: \"decomp\",\n          relation: fieldType,\n          value: newValue\n        }\n      } else {\n        parameters = {\n          type: \"decomp\",\n          relation: fieldType,\n          value: newValue,\n          currentValue: oldValue\n        }\n      }\n\n      if (fieldType == 'confidence' && oldValue == \"-1\") {\n        parameters = {\n          type: \"confidence\",\n          relation: fieldType,\n          value: newValue\n        }\n      } else if (fieldType == 'confidence' && oldValue != \"-1\") {\n        parameters = {\n          type: \"confidence\",\n          relation: fieldType,\n          value: newValue,\n          currentValue: oldValue\n        }\n      }\n\n\n\n      //console.log(this.componentArray.at(index))\n      console.log(parameters)\n\n      this.lexicalService.updateGenericRelation(instanceName, parameters).subscribe(\n        data => {\n          console.log(data);\n          this.lexicalService.spinnerAction('off');\n          //this.lexicalService.updateLexCard(this.object);\n          this.toastr.success('Component updated', '', {\n            timeOut: 5000,\n          });\n\n          if (fieldType == 'note') {\n            this.memoryComponent[index]['note'] = newValue;\n          } else if (fieldType == 'label') {\n            this.memoryComponent[index]['label'] = newValue;\n          } else if (fieldType == 'confidence') {\n            this.memoryComponent[index]['confidence'] = newValue;\n          }\n        }, error => {\n          console.log(error);\n          //this.lexicalService.updateLexCard({ lastUpdate: error.error.text })\n          this.lexicalService.spinnerAction('off');\n          if (error.status == 200) {\n            this.toastr.success('Component item updated', '', {\n              timeOut: 5000,\n            });\n            if (fieldType == 'note') {\n              this.memoryComponent[index]['note'] = newValue;\n              (<FormArray>this.decompForm.controls['component']).at(index).get('note').setValue(newValue, { emitEvent: false });\n            } else if (fieldType == 'label') {\n              this.memoryComponent[index]['label'] = newValue;\n              (<FormArray>this.decompForm.controls['component']).at(index).get('label').setValue(newValue, { emitEvent: false });\n            } else if (fieldType == 'confidence') {\n              this.memoryComponent[index]['confidence'] = newValue;\n              (<FormArray>this.decompForm.controls['component']).at(index).get('confidence').setValue(newValue, { emitEvent: false });\n            }\n          } else {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n          }\n\n        }\n      )\n\n\n      if (fieldType == 'note') {\n        this.memoryComponent[index]['note'] = newValue;\n      } else if (fieldType == 'label') {\n        this.memoryComponent[index].label = newValue;\n      }\n\n\n\n    }\n  }\n\n  applyUncertain(i) {\n    this.lexicalService.spinnerAction('on');\n    const oldValue = (<FormArray>this.decompForm.controls['component']).at(i).get('confidence').value;\n    let compId = (<FormArray>this.decompForm.controls['component']).at(i).get('id').value;\n    let parameters = {\n      relation: 'confidence',\n      value: oldValue,\n    }\n    console.log(parameters)\n    this.lexicalService.deleteLinguisticRelation(compId, parameters).subscribe(\n      data => {\n        console.log(data);\n        /* data['request'] = 0;\n        data['new_label'] = confidence_value\n        this.lexicalService.refreshAfterEdit(data); */\n        //this.lexicalService.updateLexCard(data)\n        this.lexicalService.spinnerAction('off');\n        (<FormArray>this.decompForm.controls['component']).at(i).get('confidence').setValue(-1, { emitEvent: false });\n        this.object.confidence = -1;\n        this.memoryComponent[i]['confidence'] = -1;\n      },\n      error => {\n        console.log(error);\n        /*  const data = this.object.etymology;\n        data['request'] = 0;\n        data['new_label'] = confidence_value;\n        this.lexicalService.refreshAfterEdit(data); */\n        this.lexicalService.spinnerAction('off');\n        //this.lexicalService.updateLexCard({ lastUpdate: error.error.text })\n        if (error.status == 200) {\n          this.toastr.success('Confidence updated', '', { timeOut: 5000 })\n          this.decompForm.get('confidence').setValue(-1, { emitEvent: false });\n          this.object.confidence = -1;\n          this.memoryComponent[i]['confidence'] = -1;\n        } else {\n          this.toastr.error(error.error, 'Error', { timeOut: 5000 })\n\n        }\n      }\n    )\n  }\n\n  onChangeValue(i, j) {\n    this.lexicalService.spinnerAction('on');\n    const control = (<FormArray>this.decompForm.controls['component']).at(i).get('relation') as FormArray;\n\n    const trait = control.at(j).get('trait').value;\n    const value = control.at(j).get('value').value;\n\n    if (trait != '' && value != '') {\n      let parameters;\n      if (this.memoryValues[i][j] == \"\") {\n        parameters = {\n          type: \"morphology\",\n          relation: trait,\n          value: value\n        }\n      }\n\n      let compId = this.memoryComponent[i].componentInstanceName;\n\n      if (this.memoryComponent[i].morphology[j] != trait && this.memoryComponent[i].morphology[j] != '') {\n        let delete_old_param = {\n          type: 'morphology',\n          relation: this.memoryComponent[i].morphology[j],\n          value: this.memoryValues[i][j][0]\n        }\n\n        parameters = {\n          type: \"morphology\",\n          relation: trait,\n          value: value,\n        }\n        this.lexicalService.deleteLinguisticRelation(compId, delete_old_param).subscribe(\n          data => {\n            console.log(data);\n\n            this.lexicalService.updateLinguisticRelation(compId, parameters).subscribe(\n              data => {\n                //console.log(data)\n                data['request'] = 0;\n                this.lexicalService.refreshAfterEdit(data);\n                this.lexicalService.spinnerAction('off');\n                this.lexicalService.refreshFilter({ request: true })\n                //this.lexicalService.updateLexCard(data)\n\n                this.memoryComponent[i].morphology[j] = trait\n                control.at(j).patchValue({ trait: trait, value: value })\n                this.disableAddTraits[i] = false;\n                setTimeout(() => {\n\n                  let traitDescription = '';\n                  this.morphologyData.filter(x => {\n                    if (x.propertyId == trait  ) {\n                      x.propertyValues.filter(y => {\n                        if (y.valueId == value) {\n                          traitDescription = y.valueDescription;\n                          return true;\n                        } else {\n                          return false;\n                        }\n                      })\n                      return true;\n                    } else {\n                      return false;\n                    }\n                  })\n\n                  //@ts-ignore\n                  $('.trait-tooltip').tooltip({\n                    trigger: 'hover'\n                  });\n\n\n                }, 1000);\n              },\n              error => {\n                //console.log(error)\n                this.lexicalService.refreshAfterEdit({ request: 0, label: this.object.label });\n                this.lexicalService.spinnerAction('off');\n                this.lexicalService.refreshFilter({ request: true })\n                //this.lexicalService.updateLexCard({ lastUpdate: error.error.text })\n\n                this.memoryComponent[i].morphology[j] = trait\n                control.at(j).patchValue({ trait: trait, value: value })\n                this.disableAddTraits[i] = false;\n                setTimeout(() => {\n\n                  let traitDescription = '';\n                  this.morphologyData.filter(x => {\n                    if (x.propertyId == trait  ) {\n                      x.propertyValues.filter(y => {\n                        if (y.valueId == value) {\n                          traitDescription = y.valueDescription;\n                          return true;\n                        } else {\n                          return false;\n                        }\n                      })\n                      return true;\n                    } else {\n                      return false;\n                    }\n                  })\n\n\n\n                  //@ts-ignore\n                  $('.trait-tooltip').tooltip({\n                    trigger: 'hover'\n                  });\n                  if (typeof (error.error) != 'object') {\n                    this.toastr.error(error.error, 'Error', {\n                      timeOut: 5000,\n                    });\n                  } else {\n                    this.toastr.success('Morphotraits changed correctly for ' + compId, '', {\n                      timeOut: 5000,\n                    });\n                  }\n\n                }, 1000);\n              }\n            )\n          }, error => {\n            console.log(error);\n          }\n        )\n      } else if (this.memoryComponent[i].morphology[j] == trait && this.memoryComponent[i].morphology[j] != '') {\n        parameters = {\n          type: \"morphology\",\n          relation: trait,\n          value: value,\n          currentValue: this.memoryValues[i][j][0]\n        }\n\n        this.lexicalService.updateLinguisticRelation(compId, parameters).pipe(debounceTime(1000)).subscribe(\n          data => {\n            //console.log(data)\n            data['request'] = 0;\n            this.lexicalService.refreshAfterEdit(data);\n            this.lexicalService.spinnerAction('off');\n            this.lexicalService.refreshFilter({ request: true })\n            //this.lexicalService.updateLexCard(data)\n\n            this.memoryComponent[i].morphology[j] = trait\n            control.at(j).patchValue({ trait: trait, value: value })\n            this.disableAddTraits[i] = false;\n            setTimeout(() => {\n\n              let traitDescription = '';\n              this.morphologyData.filter(x => {\n                if (x.propertyId == trait  ) {\n                  x.propertyValues.filter(y => {\n                    if (y.valueId == value) {\n                      traitDescription = y.valueDescription;\n                      return true;\n                    } else {\n                      return false;\n                    }\n                  })\n                  return true;\n                } else {\n                  return false;\n                }\n              })\n\n              //@ts-ignore\n              $('.trait-tooltip').tooltip({\n                trigger: 'hover'\n              });\n\n\n            }, 1000);\n          },\n          error => {\n            //console.log(error)\n            this.lexicalService.refreshAfterEdit({ request: 0, label: this.object.label });\n            this.lexicalService.spinnerAction('off');\n            this.lexicalService.refreshFilter({ request: true })\n            //this.lexicalService.updateLexCard({ lastUpdate: error.error.text })\n\n            this.memoryComponent[i].morphology[j] = trait\n            control.at(j).patchValue({ trait: trait, value: value })\n            this.disableAddTraits[i] = false;\n            setTimeout(() => {\n\n              let traitDescription = '';\n              this.morphologyData.filter(x => {\n                if (x.propertyId == trait  ) {\n                  x.propertyValues.filter(y => {\n                    if (y.valueId == value) {\n                      traitDescription = y.valueDescription;\n                      return true;\n                    } else {\n                      return false;\n                    }\n                  })\n                  return true;\n                } else {\n                  return false;\n                }\n              })\n\n\n\n              //@ts-ignore\n              $('.trait-tooltip').tooltip({\n                trigger: 'hover'\n              });\n              if (typeof (error.error) != 'object') {\n                this.toastr.error(error.error, 'Error', {\n                  timeOut: 5000,\n                });\n              } else {\n                this.toastr.success('Morphotraits changed correctly for ' + compId, '', {\n                  timeOut: 5000,\n                });\n              }\n\n            }, 1000);\n          }\n        )\n\n      } else if (this.memoryComponent[i].morphology[j] == '') {\n        console.log(parameters)\n        this.lexicalService.updateLinguisticRelation(compId, parameters).pipe(debounceTime(1000)).subscribe(\n          data => {\n            //console.log(data)\n            data['request'] = 0;\n            this.lexicalService.refreshAfterEdit(data);\n            this.lexicalService.spinnerAction('off');\n            this.lexicalService.refreshFilter({ request: true })\n            //this.lexicalService.updateLexCard(data)\n\n            this.memoryComponent[i].morphology[j] = trait\n            control.at(j).patchValue({ trait: trait, value: value })\n            this.disableAddTraits[i] = false;\n            setTimeout(() => {\n\n              let traitDescription = '';\n              this.morphologyData.filter(x => {\n                if (x.propertyId == trait  ) {\n                  x.propertyValues.filter(y => {\n                    if (y.valueId == value) {\n                      traitDescription = y.valueDescription;\n                      return true;\n                    } else {\n                      return false;\n                    }\n                  })\n                  return true;\n                } else {\n                  return false;\n                }\n              })\n\n              //@ts-ignore\n              $('.trait-tooltip').tooltip({\n                trigger: 'hover'\n              });\n\n\n            }, 1000);\n          },\n          error => {\n            //console.log(error)\n            this.lexicalService.refreshAfterEdit({ request: 0, label: this.object.label });\n            this.lexicalService.spinnerAction('off');\n            this.lexicalService.refreshFilter({ request: true })\n            //this.lexicalService.updateLexCard({ lastUpdate: error.error.text })\n\n            this.memoryComponent[i].morphology[j] = trait\n            control.at(j).patchValue({ trait: trait, value: value })\n            this.disableAddTraits[i] = false;\n            setTimeout(() => {\n\n              let traitDescription = '';\n              this.morphologyData.filter(x => {\n                if (x.propertyId == trait  ) {\n                  x.propertyValues.filter(y => {\n                    if (y.valueId == value) {\n                      traitDescription = y.valueDescription;\n                      return true;\n                    } else {\n                      return false;\n                    }\n                  })\n                  return true;\n                } else {\n                  return false;\n                }\n              })\n\n\n\n              //@ts-ignore\n              $('.trait-tooltip').tooltip({\n                trigger: 'hover'\n              });\n              if (typeof (error.error) != 'object') {\n                this.toastr.error(error.error, 'Error', {\n                  timeOut: 5000,\n                });\n              } else {\n                this.toastr.success('Morphotraits changed correctly for ' + compId, '', {\n                  timeOut: 5000,\n                });\n              }\n\n            }, 1000);\n          }\n        )\n      }\n\n\n    } else {\n      this.lexicalService.spinnerAction('off');\n      this.disableAddTraits[i] = false;\n    }\n  }\n\n  onChangeTrait(evt, i, j) {\n\n    if (evt.target != undefined) {\n      setTimeout(() => {\n        const control = (<FormArray>this.decompForm.controls['component']).at(i).get('relation') as FormArray;\n        //const trait = control.at(j).get('trait').value;\n        //const value = control.at(j).get('value').value;\n        //this.componentArray = this.decompForm.get('component') as FormArray;\n        control.at(j).patchValue({ trait: evt.target.value, value: \"\" });\n        if (evt.target.value != '') {\n          let arrayValues = this.morphologyData.filter(x => {\n            return x['propertyId'] == evt.target.value;\n          })['0']['propertyValues'];\n          this.valueTraits[i][j] = arrayValues;\n          //this.memoryComponent[i].morphology[j] = evt.target.value;\n          //this.memoryValues[i][j] = \"\";\n        } else {\n          this.memoryValues.splice(i, 1);\n          let arrayValues = [];\n          this.valueTraits[i][j] = arrayValues\n          this.memoryComponent[i]['morphology'][j].splice(j, 1)\n        }\n      }, 500);\n    } else {\n\n      var that = this;\n      var timer = setInterval((val) => {\n\n        try {\n          var arrayValues = this.morphologyData.filter(x => {\n            return x['propertyId'] == evt;\n          })['0']['propertyValues'];\n          this.valueTraits[i][j] = arrayValues;\n          this.memoryComponent[i].morphology[j].push(evt);\n          clearInterval(timer)\n        } catch (e) {\n          console.log(e)\n        }\n\n\n      }, 500)\n\n    }\n  }\n\n  addSubterm(e?, label?, lang?) {\n    this.subtermArray = this.decompForm.get('subterm') as FormArray;\n\n    if (e != undefined) {\n      this.subtermArray.push(this.createSubtermComponent(e, label, lang));\n      this.subtermDisabled = false;\n    } else {\n      this.subtermArray.push(this.createSubtermComponent());\n      this.subtermDisabled = true;\n    }\n\n\n  }\n\n  addComponent(element?, index?) {\n\n    if (this.object.lexicalEntryInstanceName != undefined && element == undefined) {\n      let instance = this.object.lexicalEntryInstanceName;\n      this.object['request'] = 'constituent'\n      this.lexicalService.createComponent(instance).subscribe(\n        data => {\n          console.log(data)\n\n          let compId = data.componentInstanceName;\n          let componentURI = data.component;\n          let creator = data.creator;\n          let label = '';\n          let creationDate = data.creationDate;\n          let lastUpdate = data.lastUpdate;\n          let morphology = data.morphology;\n          let note = '';\n          let position = data.position;\n\n          let confidence = data.confidence;\n\n          this.lexicalService.addSubElementRequest({ 'lex': this.object, 'data': data });\n\n          this.componentArray = this.decompForm.get('component') as FormArray;\n          this.componentArray.push(this.createComponent(compId, componentURI, confidence, creator, label, creationDate, lastUpdate, [], note, position));\n\n          data['morphology'] = [];\n          this.memoryComponent.push(data)\n\n          this.toastr.success('Component created correctly', 'Success', {\n            timeOut: 5000\n          })\n        }, error => {\n          console.log(error);\n\n          this.toastr.error('Something went wrong', 'Error', {\n            timeOut: 5000\n          })\n        }\n      )\n    } else if (element != undefined) {\n      let compId = element.componentInstanceName;\n      let componentURI = element.component;\n      let creator = element.creator;\n      let label = element.label;\n      let creationDate = element.creationDate;\n      let lastUpdate = element.lastUpdate;\n      let note = element.note;\n      let position = element.position;\n      let corr_to = element.corresponds_to;\n      let confidence = element.confidence;\n\n      this.componentArray = this.decompForm.get('component') as FormArray;\n      this.componentArray.push(this.createComponent(compId, componentURI, confidence, creator, label, creationDate, lastUpdate, [], note, position, corr_to));\n\n      let morphology = element.morphology;\n      element.morphology = [];\n\n      this.memoryComponent.push(element)\n\n      if (morphology.length > 0) {\n        this.addRelation(index, morphology);\n      }\n\n\n    }\n  }\n\n  removeComponent(index) {\n    this.componentArray = this.decompForm.get('component') as FormArray;\n    const control = this.componentArray.at(index);\n\n    if (control != null) {\n      let idComp = control.get('id').value;\n\n      this.lexicalService.deleteComponent(idComp).subscribe(\n        data => {\n          console.log(data)\n          this.lexicalService.deleteRequest({ componentInstanceName: idComp });\n          this.toastr.info('Component ' + idComp + ' deleted', 'Info', {\n            timeOut: 5000\n          })\n        }, error => {\n          console.log(error);\n          this.lexicalService.deleteRequest({ componentInstanceName: idComp });\n          this.toastr.error('Something went wrong', 'Error', {\n            timeOut: 5000\n          })\n        }\n      )\n    }\n\n\n\n    this.memoryComponent.splice(index, 1)\n    this.componentArray.removeAt(index);\n  }\n\n  addRelation(index, morphologyArray?) {\n\n    if (morphologyArray == undefined) {\n      this.memoryComponent[index].morphology.push('');\n\n      if (this.valueTraits[index] == undefined) {\n        this.valueTraits[index] = [];\n        this.valueTraits[index].push([])\n      } else {\n        this.valueTraits[index].push([])\n      }\n\n      if (this.memoryValues[index] == undefined) {\n        this.memoryValues[index] = [];\n        this.memoryValues[index].push([]);\n      } else {\n        this.memoryValues[index].push([]);\n      }\n\n      if (this.disableAddTraits[index] == undefined) {\n        this.disableAddTraits[index] = true;\n      } else {\n        this.disableAddTraits[index] = true;\n      }\n\n\n      const control = (<FormArray>this.decompForm.controls['component']).at(index).get('relation') as FormArray;\n      control.push(this.createRelation());\n    } else {\n\n      morphologyArray.forEach(element => {\n        this.memoryComponent[index].morphology.push(element.trait);\n\n        if (this.valueTraits[index] == undefined) {\n          this.valueTraits[index] = [];\n          var timer1 = setInterval((val) => {\n\n            try {\n              var arrayValues = this.morphologyData.filter(x => {\n                return x['propertyId'] == element.trait;\n              })['0']['propertyValues'];\n              this.valueTraits[index].push(arrayValues);\n              clearInterval(timer1)\n            } catch (e) {\n              console.log(e)\n            }\n\n\n          }, 500)\n\n\n\n\n        } else {\n          var timer2 = setInterval((val) => {\n\n            try {\n              var arrayValues = this.morphologyData.filter(x => {\n                return x['propertyId'] == element.trait;\n              })['0']['propertyValues'];\n              this.valueTraits[index].push(arrayValues);\n              clearInterval(timer2)\n            } catch (e) {\n              console.log(e)\n            }\n\n\n          }, 500)\n\n        }\n\n        if (this.memoryValues[index] == undefined) {\n          this.memoryValues[index] = [];\n          this.memoryValues[index].push([element.value]);\n        } else {\n          this.memoryValues[index].push([element.value]);\n        }\n\n        if (this.disableAddTraits[index] == undefined) {\n          this.disableAddTraits[index] = false;\n        } else {\n          this.disableAddTraits[index] = false;\n        }\n\n\n        const control = (<FormArray>this.decompForm.controls['component']).at(index).get('relation') as FormArray;\n        control.push(this.createRelation(element.trait, element.value));\n      });\n\n    }\n\n\n\n\n  }\n\n  removeRelation(ix, iy) {\n    const control = (<FormArray>this.decompForm.controls['component']).at(ix).get('relation') as FormArray;\n    const trait = control.at(iy).get('trait').value;\n    const value = control.at(iy).get('value').value;\n    if (trait != '' && value != '') {\n\n      let compId = this.memoryComponent[ix].componentInstanceName;;\n\n      let parameters = {\n        type: 'morphology',\n        relation: trait,\n        value: value\n      }\n\n      //console.log(parameters)\n\n      this.lexicalService.deleteLinguisticRelation(compId, parameters).subscribe(\n        data => {\n          //console.log(data)\n          //this.lexicalService.updateLexCard(this.object)\n          this.lexicalService.refreshAfterEdit({ request: 0, label: this.object.label });\n          this.lexicalService.spinnerAction('off');\n          this.lexicalService.refreshFilter({ request: true })\n        }, error => {\n          //console.log(error)\n          this.lexicalService.refreshAfterEdit({ request: 0, label: this.object.label });\n          this.lexicalService.spinnerAction('off');\n          this.lexicalService.refreshFilter({ request: true })\n          //this.lexicalService.updateLexCard({ lastUpdate: error.error.text })\n          if (typeof (error.error) != 'object') {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n          } else {\n            this.toastr.success('Element removed correctly for ' + compId, '', {\n              timeOut: 5000,\n            });\n          }\n        }\n      )\n    } else {\n      this.disableAddTraits[ix] = false;\n    }\n\n\n    this.memoryComponent[ix].morphology.splice(iy, 1);\n    this.valueTraits[ix].splice(iy, 1);\n    this.memoryValues[ix].splice(iy, 1);\n    control.removeAt(iy);\n\n\n  }\n\n\n\n  triggerSubterm(evt) {\n    console.log(evt)\n    if (evt.target != undefined) {\n\n      this.subterm_subject.next(evt.target.value)\n    }\n  }\n\n  triggerCorrespondsTo(evt) {\n    console.log(evt)\n    if (evt.target != undefined) {\n\n      this.corresponds_subject.next(evt.target.value)\n    }\n  }\n\n  removeSubterm(index) {\n\n\n    if (this.object.lexicalEntryInstanceName != undefined) {\n      this.subtermArray = this.decompForm.get('subterm') as FormArray;\n\n      let entity = this.subtermArray.at(index).get('entity').value;\n      let lexId = this.object.lexicalEntryInstanceName;\n\n      let parameters = {\n        relation: \"subterm\",\n        value: entity\n      }\n\n      this.lexicalService.deleteLinguisticRelation(lexId, parameters).subscribe(\n        data => {\n          console.log(data);\n          this.toastr.info('Subterm removed correctly', 'Info', {\n            timeOut: 5000\n          })\n          this.lexicalService.deleteRequest({ subtermInstanceName: entity, parentNode : this.object.lexicaleEntryInstanceName });\n        }, error => {\n          console.log(error)\n          this.toastr.info('Subterm removed correctly', 'Info', {\n            timeOut: 5000\n          })\n          this.lexicalService.deleteRequest({ subtermInstanceName: entity, parentNode : this.object.lexicaleEntryInstanceName });\n        }\n      )\n\n\n    }\n\n    this.subtermArray.removeAt(index);\n    this.memorySubterm.splice(index, 1);\n    this.subtermDisabled = false;\n  }\n\n  createRelation(t?, v?) {\n    if (t == undefined) {\n      return this.formBuilder.group({\n        trait: '',\n        value: ''\n      })\n    } else {\n      return this.formBuilder.group({\n        trait: t,\n        value: v\n      })\n    }\n\n  }\n\n  /* removeSubtermComponent(ix, iy) {\n    const control = (<FormArray>this.decompForm.controls['component']).at(ix).get('sub_term') as FormArray;\n    control.removeAt(iy);\n  } */\n\n  removeCorrespondsToComponent(ix, iy) {\n    const control = (<FormArray>this.decompForm.controls['component']).at(ix).get('corresponds_to') as FormArray;\n    control.removeAt(iy);\n  }\n\n  createComponent(compId?, componentURI?, confidence?, creator?, label?, creationDate?, lastUpdate?, morphology?, note?, position?, corr_to?) {\n    if (compId == undefined) {\n      return this.formBuilder.group({\n        id: new FormControl(''),\n        uri: new FormControl(''),\n        confidence: new FormControl(null),\n        creator: new FormControl(''),\n        label: new FormControl(''),\n        creationDate: new FormControl(''),\n        lastUpdate: new FormControl(''),\n        relation: new FormArray([]),\n        note: new FormControl(''),\n        corresponds_to: new FormControl(''),\n        position: new FormControl('')\n      })\n    } else {\n      return this.formBuilder.group({\n        id: new FormControl(compId),\n        uri: new FormControl(componentURI),\n        confidence: new FormControl(confidence),\n        creator: new FormControl(creator),\n        label: new FormControl(label),\n        creationDate: new FormControl(creationDate),\n        lastUpdate: new FormControl(lastUpdate),\n        relation: new FormArray([]),\n        note: new FormControl(note),\n        corresponds_to: new FormControl(corr_to),\n        position: new FormControl(position)\n      })\n    }\n\n  }\n\n  createSubtermComponent(e?, l?, lang?) {\n    if (e != undefined) {\n      return this.formBuilder.group({\n        entity: e,\n        label: l,\n        language: lang\n      })\n    } else {\n      return this.formBuilder.group({\n        entity: '',\n        label: '',\n        language: ''\n      })\n    }\n\n  }\n\n  /* createSubterm(e?) {\n    if(e != undefined){\n\n    }else{\n\n    }\n    return this.formBuilder.group({\n      subterm_array: new FormArray([this.createSubtermComponent()])\n    })\n  } */\n  \n\n  handleSubterm(evt, i) {\n\n    if (evt instanceof NgSelectComponent) {\n      if (evt.selectedItems.length > 0) {\n        console.log(evt.selectedItems[0])\n        let label = evt.selectedItems[0]['value']['lexicalEntryInstanceName'];\n        this.onChangeSubterm({ name: label, i: i, object: evt.selectedItems[0]['value'] })\n      }\n    } else {\n        let label = evt.target.value;\n        this.ext_subterm_subject.next({ name: label, i: i })\n    }\n  }\n\n  handleCorrespondsTo(evt, i) {\n\n    if (evt instanceof NgSelectComponent) {\n      if (evt.selectedItems.length > 0) {\n        console.log(evt.selectedItems[0])\n        let label = evt.selectedItems[0]['value']['lexicalEntryInstanceName'];\n        this.onChangeCorrespondsTo({ name: label, i: i })\n      }\n    } /* else {\n        let label = evt.target.value;\n        this.Subterm_subject.next({ name: label, i: i })\n    } */\n  }\n\n  debounceKeyup(evt, index, field) {\n    this.update_component_subject.next({ v: evt, i: index, f: field })\n  }\n\n  onChangeSubterm(data) {\n    var index = data['i'];\n    this.subtermArray = this.decompForm.get(\"subterm\") as FormArray;\n    if (this.memorySubterm[index] == undefined) {\n      const newValue = data['name']\n      const parameters = {\n        type: \"decomp\",\n        relation: \"subterm\",\n        value: newValue\n      }\n      console.log(parameters)\n\n      this.object['request'] = 'subterm'\n      let lexId = this.object.lexicalEntryInstanceName;\n      this.lexicalService.updateLinguisticRelation(lexId, parameters).subscribe(\n        data => {\n          console.log(data);\n          this.lexicalService.spinnerAction('off');\n          /* data['request'] = 0;\n          this.lexicalService.refreshAfterEdit(data); */\n          //this.lexicalService.updateLexCard(data) TODO: inserire updater per decomp qua\n          this.memorySubterm[index] = data;\n\n          this.subtermArray.at(index).patchValue({ entity: data.object.label, label: data['label'], language: data['language'] })\n          this.subtermDisabled = false;\n\n          this.lexicalService.addSubElementRequest({ 'lex': this.object, 'data': data });\n        }, error => {\n          console.log(error)\n\n          \n          this.lexicalService.spinnerAction('off');\n          if (error.status == 200) {\n\n            this.toastr.success('Subterm changed correctly for ' + lexId, '', {\n              timeOut: 5000,\n            });\n\n            this.subtermDisabled = false;\n            this.memorySubterm[index] = data.object;\n            data['request'] = 'subterm';\n            this.subtermArray.at(index).patchValue({ entity: newValue, label: data.object.label, language: data.object.language })\n            this.lexicalService.addSubElementRequest({ 'lex': this.object, 'data': data['object'] });\n            //this.lexicalService.updateLexCard({ lastUpdate: error.error.text })\n\n          } else {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n\n          }\n        }\n      )\n\n\n\n    } else {\n      const oldValue = this.memorySubterm[index]['lexicalEntryInstanceName']\n      const newValue = data['name']\n      const parameters = {\n        type: \"decomp\",\n        relation: \"subterm\",\n        value: newValue,\n        currentValue: oldValue\n      }\n\n      let lexId = this.object.lexicalEntryInstanceName;\n      console.log(parameters)\n      this.lexicalService.updateLinguisticRelation(lexId, parameters).subscribe(\n        data => {\n          console.log(data);\n          this.lexicalService.spinnerAction('off');\n          ////this.lexicalService.updateLexCard(data)\n          data['request'] = 0;\n          this.lexicalService.refreshAfterEdit(data);\n        }, error => {\n          console.log(error)\n          const data = this.object;\n          data['request'] = 0;\n\n\n          //this.lexicalService.refreshAfterEdit(data);\n          ////this.lexicalService.updateLexCard({ lastUpdate: error.error.text })\n          this.lexicalService.spinnerAction('off');\n          if (error.status == 200) {\n            this.toastr.success('Label changed correctly for ' + lexId, '', {\n              timeOut: 5000,\n            });\n          } else {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n          }\n        }\n      )\n      this.memorySubterm[index] = data;\n    }\n\n\n  }\n\n\n  onChangeCorrespondsTo(data) {\n    var index = data['i'];\n    this.subtermArray = this.decompForm.get(\"subterm\") as FormArray;\n    if (this.memoryComponent[index].corresponds_to == undefined) {\n      const newValue = data['name']\n      const parameters = {\n        type: \"decomp\",\n        relation: \"correspondsTo\",\n        value: newValue\n      }\n      console.log(parameters)\n      let compId = this.memoryComponent[index].componentInstanceName;\n      this.lexicalService.updateLinguisticRelation(compId, parameters).subscribe(\n        data => {\n          console.log(data);\n          this.lexicalService.spinnerAction('off');\n          /* data['request'] = 0;\n          this.lexicalService.refreshAfterEdit(data); */\n          //this.lexicalService.updateLexCard(data)\n        }, error => {\n          console.log(error)\n\n          /* this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n          }); */\n          //this.lexicalService.updateLexCard({ lastUpdate: error.error.text })\n          this.lexicalService.spinnerAction('off');\n          if (error.status == 200) {\n            this.toastr.success('CorrespondsTo changed correctly for ' + compId, '', {\n              timeOut: 5000,\n            });\n\n          } else {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n\n          }\n        }\n      )\n      this.memoryComponent[index].corresponds_to = data;\n\n\n    } else {\n      const oldValue = this.memoryComponent[index].corresponds_to\n      const newValue = data['name']\n      const parameters = {\n        type: \"decomp\",\n        relation: \"correspondsTo\",\n        value: newValue,\n        currentValue: oldValue\n      }\n\n      let compId = this.memoryComponent[index].componentInstanceName;\n      console.log(parameters)\n      this.lexicalService.updateLinguisticRelation(compId, parameters).subscribe(\n        data => {\n          console.log(data);\n          this.lexicalService.spinnerAction('off');\n          //this.lexicalService.updateLexCard(data)\n          data['request'] = 0;\n          this.lexicalService.refreshAfterEdit(data);\n        }, error => {\n          console.log(error)\n          /* const data = this.object;\n          data['request'] = 0; */\n\n          //this.lexicalService.refreshAfterEdit(data);\n          //this.lexicalService.updateLexCard({ lastUpdate: error.error.text })\n          this.lexicalService.spinnerAction('off');\n          if (error.status == 200) {\n            this.toastr.success('Label changed correctly for ' + compId, '', {\n              timeOut: 5000,\n            });\n          } else {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n          }\n        }\n      )\n      this.memoryComponent[index].corresponds_to = data;\n    }\n\n\n  }\n\n  onSearchFilter(data) {\n    this.searchResults = [];\n\n    if (this.object.lexicalEntryInstanceName != undefined) {\n      let parameters = {\n        text: data,\n        searchMode: \"startsWith\",\n        type: \"\",\n        pos: \"\",\n        formType: \"entry\",\n        author: \"\",\n        lang: \"\",\n        status: \"\",\n        offset: 0,\n        limit: 500\n      }\n\n      /* && data.length >= 3 */\n      this.lexicalService.getLexicalEntriesList(parameters).subscribe(\n        data => {\n          console.log(data)\n\n\n          this.searchResults = data['list'];\n\n        }, error => {\n          console.log(error)\n        }\n      )\n\n    } else {\n    }\n\n  }\n\n  deleteData() {\n    this.searchResults = [];\n  }\n\n}\n","\n\n<form [formGroup]=\"decompForm\" *ngIf=\"object!=null\">\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <label for=\"inputLabel\" class=\"col-xl-3 col-form-label\">Label:</label>\n        <div class=\"input-group col-xl-5\">\n            <input formControlName=\"label\" name=\"label\" type=\"text\" class=\"form-control\" placeholder=\"\" disabled>\n            <div class=\"input-group-append\">\n                <div class=\"input-group-append ml-2\">\n                    <div class=\"dropdown\">\n                        <button class=\"btn btn-outline-primary\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                            <i class=\"fa fa-plus\"></i>\n                        </button>\n                        <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n                          <!-- <a class=\"dropdown-item\" (click)=\"addSubterm()\" [class.disabled]=\"subtermDisabled\" style=\"cursor: pointer;\">Sub Term</a> -->\n                          <a class=\"dropdown-item\" (click)=\"addComponent()\" style=\"cursor: pointer;\">Component</a>\n                        </div>\n                      </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <!-- COMPONENT -->\n    <div formArrayName=\"component\">\n        <div *ngFor=\"let comp of decompForm['controls'].component['controls']; let i = index\">\n            <div [formGroupName]=\"i\">\n                <div class=\"form-group row ml-2 mt-3 mr-2\">\n                    <div class=\"input-group col-xl-12\">\n                        <div class=\"card\">\n                            <span class=\"text-id\"><b>COMPONENT</b></span>\n                            <!-- <a class=\"pointer\" (click)=\"addRelation(i)\"><span class=\"add-icon\"><i class=\"fa fa-plus-square\"></i></span></a> -->\n                            <a class=\"pointer\" (click)=\"removeComponent(i)\"><span class=\"trash-icon\"><i class=\"fa fa-trash\"></i></span></a>\n                            <div class=\"card-body\">\n\n                                <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                    <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Label:</label>\n                                    <div class=\"input-group col-lg-8\">\n                                        <input id=\"label\" (keyup)=\"debounceKeyup($event, i, 'label')\" formControlName=\"label\" name=\"label\" type=\"text\" class=\"form-control\" placeholder=\"\"\n                                            required>\n                                        <!-- <div class=\"invalid-feedback\" *ngIf=\"emptyLabelFlag\" style=\"display: block;\">\n                                            Please, insert at least three characters.\n                                        </div> -->\n                                    </div>\n                                </div>\n\n                                <div class=\"form-group row ml-2 mr-2\">\n                                    <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Note:</label>\n                                    <div class=\"input-group col-lg-8\">\n                                        <!-- <input id=\"note\"  formControlName=\"note\" name=\"note\" type=\"text\" class=\"form-control\" placeholder=\"\"> -->\n                                        <textarea (keyup)=\"debounceKeyup($event, i, 'note')\" formControlName=\"note\" name=\"note\" class=\"form-control\" style=\"resize: none;\"></textarea>\n                                    </div>\n                                </div>  \n\n                                <div class=\"form-group row ml-2 mt-3 mr-2\" *ngIf=\"{confidence : comp.get('confidence').value >= 0}; let variable\">\n                                    <div class=\"col-lg-3\">\n                                        <label for=\"uncertainBox\">Uncertain</label>\n                                    </div>\n                                    <div class=\"col-lg-3 input-group\">\n                                        <input (change)=\"debounceKeyup($event, i, 'confidence')\" (keyup)=\"debounceKeyup($event, i, 'confidence')\" *ngIf=\"variable.confidence\" id=\"attributes\"  step=\"0.1\" formControlName=\"confidence\" name=\"confidence\" type=\"number\" min=\"0\" max=\"1\" class=\"form-control\" placeholder=\"No info\" [value]=\"comp.get('confidence').value\">\n                                        <button type=\"button\" class=\"btn btn-secondary btn-sm ml-2\" *ngIf=\"!variable.confidence\" (click)=\"variable.confidence = !variable.confidence\"><i class=\"fas fa-plus\"></i></button>\n                                        <button type=\"button\" class=\"btn btn-secondary btn-sm ml-2\" *ngIf=\"variable.confidence\" (click)=\"variable.confidence = !variable.confidence; applyUncertain(i)\"><i class=\"fas fa-minus\"></i></button>\n                                    </div>\n                                </div>\n\n                                <!-- CORRESPONDS TO -->\n                                <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                    <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Corresponds To:</label>\n                                    <div class=\"input-group col-lg-9\">\n                                        <ng-select #select_corresponds_to formControlName=\"corresponds_to\" name=\"corresponds_to\" [dropdownPosition]=\"'top'\"\n                                        (keyup)=\"triggerCorrespondsTo($event)\" (change)=\"handleCorrespondsTo(select_corresponds_to, i)\"\n                                        [items]=\"searchResults\" bindValue=\"label\" (focus)=\"deleteData()\" bindLabel=\"label\"\n                                        placeholder=\"Search lexical entry\" appendTo=\"body\">\n                                            <ng-template ng-option-tmp let-item=\"item\" let-search=\"searchTerm\">\n                                                <div>\n                                                    <span>{{item.label}} </span><span style=\"color: blue;\">@{{item.language}}</span>\n                                                </div>\n\n                                            </ng-template>\n                                        </ng-select>\n                                        <!-- <input formControlName=\"entity\" name=\"entity\" type=\"text\" class=\"form-control\" id=\"inputDenotes\" placeholder=\"Insert URI\" *ngIf=\"variable.switch\"> -->\n                                        <!-- <div class=\"input-group-append ml-3 form-check\">\n                                            <input class=\"form-check-input vartrans-tooltip\" type=\"checkbox\" (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\" data-placement=\"bottom\" data-trigger=\"hover\" title=\"Clicca per inserire un URI manualmente\">\n                                        </div> -->\n                                        <div class=\"input-group-append ml-2\">\n                                            <button class=\"btn btn-primary\" type=\"button\"><i\n                                                    class=\"fa fa-external-link-alt\"></i></button>\n                                        </div>\n                                        <!-- <div class=\"input-group-append ml-2\">\n                                            <button (click)=\"removeCorrespondsToComponent(i, j)\" class=\"btn btn-danger\" type=\"button\"><i class=\"fa fa-trash-alt\"></i></button>\n                                        </div> -->\n                                        <div class=\"input-group-append ml-2\">\n                                            <button (click)=\"addRelation(i)\" [ngClass]=\"{no_pointer: disableAddTraits[i]}\" class=\"btn btn-outline-primary\" type=\"button\">\n                                                <i class=\"fa fa-plus\"></i>\n                                            </button>\n                                        </div>\n                                    </div>\n                                </div>\n\n                              \n            \n                                <ng-container formArrayName=\"relation\"\n                                    *ngFor=\"let sub of comp['controls'].relation['controls']; let j = index\">\n                                    <div class=\"d-flex my-2\" *ngIf=\"j +1 > staticMorpho.length\">\n                                        <div class=\"col-md-4\" [formGroupName]=\"j\">\n                                            <select class=\"form-control selectTrait\" formControlName=\"trait\" name=\"trait\"\n                                                style=\"font-size: 12px;\" (change)=\"onChangeTrait($event, i, j)\">\n                                                <option value=\"\">Select a trait...</option>\n                                                <option *ngFor=\"let mt of morphologyData\"\n                                                    [selected]=\"sub.value['trait'] === mt.propertyId\"\n                                                    [disabled]=\"memoryComponent[i].morphology.indexOf(mt.propertyId) > -1 \">{{mt.propertyId}}</option>\n                                            </select>\n                                            <div class=\"invalid-feedback\" *ngIf=\"sub.get('trait').invalid\"\n                                                style=\"display: block;\">\n                                                Please, don't leave this field blank\n                                            </div>\n                                        </div>\n                                        <!-- {{valueTraits | json}} -->\n                                        <div class=\"input-group col-md-8\" [formGroupName]=\"j\">\n                                            <!-- {{valueTraits | json}} {{i}} {{j}} -->\n                                            <select class=\"form-control selectTrait\" formControlName=\"value\" name=\"value\"\n                                                style=\"font-size:12px;\" (change)=\"onChangeValue(i, j)\">\n                                                <option value=\"\">Select a value...</option>\n                                                <option *ngFor=\"let item of valueTraits[i][j];\" [attr.data-index]=\"j\"\n                                                    [selected]=\"sub.value['value'] === item.valueId\">{{item.valueId}}</option>\n                                            </select>\n                                            <div (click)=\"removeRelation(i, j)\" class=\"input-group-append ml-2\"> <button\n                                                    class=\"btn btn-danger\" type=\"button\"\n                                                    style=\"font-size: 12px; border-radius: .25rem;\"><i\n                                                        class=\"fa fa-trash-alt\"></i></button>\n                                            </div>\n                                            <div class=\"invalid-feedback\" *ngIf=\"sub.get('value').invalid\"\n                                                style=\"display: block;\">\n                                                Please, don't leave this field blank\n                                            </div>\n                                        </div>\n                                    </div>\n            \n                                </ng-container>\n                                \n                                <!-- <div formArrayName=\"relation\" class=\"col-xl-12\">\n                                    <div *ngFor=\"let sub of comp['controls'].relation['controls']; let j = index\">\n                                        <div [formGroupName]=\"j\" class=\"d-xl-flex\" style=\"align-items: center;\">\n                                            <div class=\"form-group row ml-2 mt-2 mr-2 w-100\">\n                                                <div class=\"col-xl-6\">\n                                                    <select class=\"form-control\" formControlName=\"trait\" name=\"trait\">\n                                                        <option>Trait...</option>\n                                                        <option>...</option>\n                                                    </select>\n                                                </div>\n                                                <div class=\"input-group col-xl-6\" *ngIf=\"{switch : false}; let variable\">\n                                                    <select class=\"form-control\" formControlName=\"value\" name=\"value\" style=\"border-top-right-radius: .25rem; border-bottom-right-radius: .25rem;\">\n                                                        <option>Relations...</option>\n                                                        <option>...</option>\n                                                    </select>\n                                                    <div class=\"input-group-append ml-2\">\n                                                        <button (click)=\"removeRelation(i, j)\" class=\"btn btn-danger\" type=\"button\"><i class=\"fa fa-trash-alt\"></i></button>\n                                                    </div>\n                                                </div>\n                                            </div>                                                 \n                                        </div>\n                                    </div>\n                                </div> -->\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n\n    <!-- SUB-TERM -->\n    \n        \n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <div class=\"input-group col-xl-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>SUBTERM</b></span>\n                <a class=\"pointer\" (click)=\"addSubterm()\"><span class=\"add-icon\" [class.disabled]=\"subtermDisabled\"><i class=\"fa fa-plus-square\"></i></span></a>\n                <!-- <a class=\"pointer\" (click)=\"removeSubterm(i)\"><span class=\"trash-icon\"><i class=\"fa fa-trash\"></i></span></a> -->\n                <div class=\"card-body\">\n\n                    \n            \n                    <!-- SUB-TERM -->\n                    <div formArrayName=\"subterm\" class=\"col-xl-12\">\n                        <div *ngFor=\"let sub of decompForm['controls'].subterm['controls']; let i = index\">\n                            <div [formGroupName]=\"i\" class=\"d-xl-flex\" style=\"align-items: center;\">\n                                <div class=\"form-group row ml-2 mt-2 mr-2 w-100\">\n                                    <div class=\"input-group\" *ngIf=\"{switch : false}; let variable\">\n                                        <ng-select #select_subterm formControlName=\"label\" *ngIf=\"!variable.switch\" name=\"label\" [dropdownPosition]=\"'top'\"\n                                                (keyup)=\"triggerSubterm($event)\" (change)=\"handleSubterm(select_subterm, i)\"\n                                                [items]=\"searchResults\" bindValue=\"label\" (focus)=\"deleteData()\" bindLabel=\"label\"\n                                                placeholder=\"Search lexical entries\" appendTo=\"body\">\n                                                <ng-template ng-option-tmp let-item=\"item\" let-search=\"searchTerm\">\n                                                    <div>\n                                                        <span>{{item.label}} </span><span style=\"color: blue;\">@{{item.language}}</span>\n                                                    </div>\n\n                                                </ng-template>\n                                            </ng-select>\n                                        <input (keyup)=\"handleSubterm($event, i)\" formControlName=\"entity\" name=\"entity\" type=\"text\" class=\"form-control\" id=\"inputDenotes\" placeholder=\"Insert URI\" *ngIf=\"variable.switch\">\n                                        <div class=\"input-group-append ml-3 form-check\">\n                                            <input class=\"form-check-input vartrans-tooltip\" type=\"checkbox\" (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\" data-placement=\"bottom\" data-trigger=\"hover\" title=\"Clicca per inserire un URI manualmente\">\n                                        </div>\n                                        <!-- <div class=\"input-group-append ml-2\">\n                                            <button class=\"btn btn-primary\" type=\"button\"><i\n                                                    class=\"fa fa-external-link-alt\"></i></button>\n                                        </div> -->\n                                        <div class=\"input-group-append ml-2\">\n                                            <button (click)=\"removeSubterm(i)\" class=\"btn btn-danger\" type=\"button\"><i class=\"fa fa-trash-alt\"></i></button>\n                                        </div>\n                                       <!--  <div class=\"input-group-append ml-2\">\n                                            <button  class=\"btn btn-outline-primary invisible\" type=\"button\"><i class=\"fa fa-plus\"></i></button>\n                                        </div> -->\n                                    </div>\n                                </div>                                                  \n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n           \n    \n</form>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-dictionary-tab',\n  templateUrl: './dictionary-tab.component.html',\n  styleUrls: ['./dictionary-tab.component.scss']\n})\nexport class DictionaryTabComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","\n\n<div class=\"card container-fluid\">\n\t<div class=\"card-body row\">\n\t\t<div class=\"col-md-12 text-right\">\n            <a href=\"#\"><i class=\"fa fa-unlock fa-2x\"></i></a>\n\t\t</div>\n\t</div>\n\t<div class=\"row\">\n\t\t<div class=\"col-md-12 dictionary-body\">\n            <ul>\n                <li>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</li>\n                <li>Aliquam tincidunt mauris eu risus.</li>\n                <li>Vestibulum auctor dapibus neque.</li>\n                <li>Nunc dignissim risus id metus.</li>\n                <li>Cras ornare tristique elit.</li>\n                <li>Vivamus vestibulum ntulla nec ante.</li>\n                <li>Praesent placerat risus quis eros.</li>\n                <li>Fusce pellentesque suscipit nibh.</li>\n                <li>Integer vitae libero ac risus egestas placerat.</li>\n                <li>Vestibulum commodo felis quis tortor.</li>\n                <li>Ut aliquam sollicitudin leo.</li>\n                <li>Cras iaculis ultricies nulla.</li>\n                <li>Donec quis dui at dolor tempor interdum.</li>\n            </ul>\n\t\t</div>\n\t</div>\n</div>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { BrowserModule } from '@angular/platform-browser';\nimport { APP_INITIALIZER, NgModule } from '@angular/core';\nimport { TreeModule } from '@circlon/angular-tree-component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { InfiniteScrollModule } from 'ngx-infinite-scroll';\nimport { AngularEditorModule } from '@kolkov/angular-editor'\nimport { NgSelectModule } from '@ng-select/ng-select';\nimport { ContextMenuModule } from 'ngx-contextmenu';\nimport { ToastrModule } from 'ngx-toastr';\nimport { initializer } from '../app/services/initializer/app-init';\nimport { KeycloakService, KeycloakAngularModule } from 'keycloak-angular';\n\n\n\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { NavbarComponent } from './components/navbar/navbar.component';\nimport { LexiconPageComponent } from './views/lexicon-page/lexicon-page.component';\nimport { LoginPageComponent } from './views/login-page/login-page.component';\nimport { PageNotFoundComponent } from './views/page-not-found/page-not-found.component';\nimport { HomePageComponent } from './views/home-page/home-page.component';\nimport { ProfilePageComponent } from './views/profile-page/profile-page.component';\nimport { LexiconPanelComponent } from './components/lexicon-panel/lexicon-panel.component';\nimport { NotePanelComponent } from './components/note-panel/note-panel.component';\nimport { LinkPanelComponent } from './components/link-panel/link-panel.component';\nimport { SearchPageComponent } from './views/search-page/search-page.component';\nimport { DataSearchFormComponent } from './components/data-search-form/data-search-form.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { DocumentSystemTreeComponent } from './components/lexicon-panel/document-system-tree/document-system-tree.component';\nimport { TextTreeComponent } from './components/lexicon-panel/document-system-tree/text-tree/text-tree.component';\nimport { TextDetailComponent } from './components/lexicon-panel/text-detail/text-detail.component';\nimport { EpigraphyDetailComponent } from './components/lexicon-panel/text-detail/epigraphy-detail/epigraphy-detail.component';\nimport { EditDetailComponent } from './components/lexicon-panel/text-detail/edit-detail/edit-detail.component';\nimport { EpigraphyTabComponent } from './components/lexicon-panel/text-detail/epigraphy-detail/epigraphy-tab/epigraphy-tab.component';\nimport { DictionaryTabComponent } from './components/lexicon-panel/text-detail/edit-detail/dictionary-tab/dictionary-tab.component';\nimport { LexicalEntryTreeComponent } from './components/lexicon-panel/document-system-tree/lexical-entry-tree/lexical-entry-tree.component';\nimport { CoreTabComponent } from './components/lexicon-panel/text-detail/edit-detail/core-tab/core-tab.component';\nimport { VartransTabComponent } from './components/lexicon-panel/text-detail/edit-detail/vartrans-tab/vartrans-tab.component';\nimport { SynsemTabComponent } from './components/lexicon-panel/text-detail/edit-detail/synsem-tab/synsem-tab.component';\nimport { DecompositionTabComponent } from './components/lexicon-panel/text-detail/edit-detail/decomposition-tab/decomposition-tab.component';\nimport { ProfilesTableComponent } from './components/profiles-table/profiles-table.component';\nimport { HttpClientModule } from '@angular/common/http';\nimport { BibliographyPanelComponent } from './components/bibliography-panel/bibliography-panel.component';\nimport { AttestationPanelComponent } from './components/attestation-panel/attestation-panel.component';\nimport { LexicalEntryCoreFormComponent } from './components/lexicon-panel/text-detail/edit-detail/core-tab/lexical-entry-core-form/lexical-entry-core-form.component';\nimport { ModalModule } from 'ng-modal-lib';\nimport { SeeAlsoComponent } from './components/link-panel/see-also/see-also.component';\nimport { SameAsComponent } from './components/link-panel/same-as/same-as.component';\nimport { LexicalEntryVartransFormComponent } from './components/lexicon-panel/text-detail/edit-detail/vartrans-tab/lexical-entry-vartrans-form/lexical-entry-vartrans-form.component';\nimport { LexicalEntrySynsemFormComponent } from './components/lexicon-panel/text-detail/edit-detail/synsem-tab/lexical-entry-synsem-form/lexical-entry-synsem-form.component';\nimport { FormCoreFormComponent } from './components/lexicon-panel/text-detail/edit-detail/core-tab/form-core-form/form-core-form.component';\nimport { LexicalEntryDecompFormComponent } from './components/lexicon-panel/text-detail/edit-detail/decomposition-tab/lexical-entry-decomp-form/lexical-entry-decomp-form.component';\nimport { SenseCoreFormComponent } from './components/lexicon-panel/text-detail/edit-detail/core-tab/sense-core-form/sense-core-form.component';\nimport { SenseVartransFormComponent } from './components/lexicon-panel/text-detail/edit-detail/vartrans-tab/sense-vartrans-form/sense-vartrans-form.component';\nimport { LexicalConceptFormComponent } from './components/lexicon-panel/text-detail/edit-detail/core-tab/lexical-concept-form/lexical-concept-form.component';\nimport { LanguageManagerComponent } from './components/lexicon-panel/document-system-tree/language-manager/language-manager.component';\nimport { EtymologyTabComponent } from './components/lexicon-panel/text-detail/edit-detail/etymology-tab/etymology-tab.component';\nimport { EtymologyFormComponent } from './components/lexicon-panel/text-detail/edit-detail/etymology-tab/etymology-form/etymology-form.component';\nimport { MetadataPanelComponent } from './components/metadata-panel/metadata-panel.component';\nimport { EpigraphyFormComponent } from './components/lexicon-panel/text-detail/epigraphy-detail/epigraphy-tab/epigraphy-form/epigraphy-form.component';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { SearchFormComponent } from './components/lexicon-panel/text-detail/epigraphy-detail/epigraphy-tab/epigraphy-form/search-form/search-form.component';\nimport { AuthService } from './services/auth/auth.service';;\nimport { UnauthorizedPageComponent } from './views/unauthorized-page/unauthorized-page/unauthorized-page.component'\n;\nimport { ConceptTreeComponent } from './components/lexicon-panel/document-system-tree/concept-tree/concept-tree.component'\n;\nimport { FormPanelComponent } from './components/attestation-panel/form-panel/form-panel.component'\nimport { CognatePanelComponent } from './components/lexicon-panel/text-detail/edit-detail/core-tab/lexical-entry-core-form/cognate-panel/cognate-panel.component';;\nimport { SkosTreeComponent } from './components/lexicon-panel/document-system-tree/skos-tree/skos-tree.component'\n@NgModule({\n  declarations: [\n    AppComponent,\n    NavbarComponent,\n    LexiconPageComponent,\n    LoginPageComponent,\n    PageNotFoundComponent,\n    HomePageComponent,\n    ProfilePageComponent,\n    LexiconPanelComponent,\n    NotePanelComponent,\n    LinkPanelComponent,\n    SearchPageComponent,\n    DataSearchFormComponent,\n    DocumentSystemTreeComponent,\n    TextTreeComponent,\n    TextDetailComponent,\n    EpigraphyDetailComponent,\n    EditDetailComponent,\n    EpigraphyTabComponent,\n    DictionaryTabComponent,\n    LexicalEntryTreeComponent,\n    CoreTabComponent,\n    VartransTabComponent,\n    SynsemTabComponent,\n    DecompositionTabComponent,\n    ProfilesTableComponent,\n    BibliographyPanelComponent,\n    AttestationPanelComponent,\n    LexicalEntryCoreFormComponent,\n    SeeAlsoComponent,\n    SameAsComponent,\n    LexicalEntryVartransFormComponent,\n    LexicalEntrySynsemFormComponent,\n    FormCoreFormComponent,\n    LexicalEntryDecompFormComponent,\n    SenseCoreFormComponent,\n    SenseVartransFormComponent,\n    LexicalConceptFormComponent,\n    LanguageManagerComponent,\n    EtymologyTabComponent,\n    EtymologyFormComponent,\n    MetadataPanelComponent,\n    EpigraphyFormComponent,\n    SearchFormComponent,\n    UnauthorizedPageComponent ,\n    ConceptTreeComponent ,\n    FormPanelComponent,\n    CognatePanelComponent,\n    SkosTreeComponent\n  ],\n  imports: [\n    ContextMenuModule.forRoot({useBootstrap4: true}),\n    BrowserModule,\n    BrowserAnimationsModule,\n    AppRoutingModule,\n    TreeModule,\n    InfiniteScrollModule,\n    HttpClientModule,\n    AngularEditorModule,\n    NgSelectModule,\n    ModalModule,\n    NgbModule,\n    FormsModule,\n    KeycloakAngularModule,\n    ReactiveFormsModule,\n    ToastrModule.forRoot()\n  ],\n  providers: [\n    { \n      provide: APP_INITIALIZER, \n      useFactory: initializer, \n      deps: [ KeycloakService ], \n      multi: true\n    },\n    AuthService\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { DocumentSystemService } from 'src/app/services/document-system/document-system.service';\n\n@Component({\n  selector: 'app-metadata-panel',\n  templateUrl: './metadata-panel.component.html',\n  styleUrls: ['./metadata-panel.component.scss']\n})\nexport class MetadataPanelComponent implements OnInit, OnChanges {\n\n  object : any;\n  @Input() metadataData: any;\n\n  constructor(private documentService : DocumentSystemService) { }\n\n  ngOnInit(): void {\n  }\n\n  ngOnChanges(changes: SimpleChanges) { \n    console.log(changes)\n    if(changes.metadataData.currentValue != null){\n      this.object = changes.metadataData.currentValue;\n\n      if(changes.metadataData.currentValue != this.object){\n        this.object = null;\n      }\n\n      this.object = changes.metadataData.currentValue;\n    }else{\n      this.object = null;\n      this.documentService.triggerMetadataPanel(false);\n    }\n    \n  }\n\n  isArray(val): boolean { return Array.isArray(val); }\n\n  isNumber(val): boolean { return typeof val == 'number'; }\n\n  isObject(val): boolean { return typeof val === 'object' && !Array.isArray(val); }\n\n  isLink(val) : boolean { \n    const re = /((http|https):\\/\\/)(([\\w.-]*)\\.([\\w]*))/;\n    return val.match(re); \n  }\n\n}\n","<div class=\"card\">\n    <div class=\"card-header\" id=\"metadataHeading\">\n        <h5 class=\"mb-0\">\n            <a class=\"btn btn-link w-100 d-flex align-self-center collapsed\" data-toggle=\"collapse\"\n                data-target=\"#metadataCollapse\" aria-expanded=\"true\" aria-controls=\"metadataCollapse\">\n                Metadata Panel<i class=\"fa ml-auto\"></i>\n            </a>\n        </h5>\n    </div>\n    <div id=\"metadataCollapse\" class=\"collapse\" aria-labelledby=\"metadataHeading\">\n        <div class=\"card-body\">\n            <ul class=\"nav nav-tabs\" id=\"myTab\" role=\"tablist\" *ngIf=\"object != null\">\n                <li class=\"nav-item\">\n                    <a class=\"nav-link active\" id=\"edition-tab\" data-toggle=\"tab\" href=\"#edition\" role=\"tab\"\n                        aria-controls=\"edition\" aria-selected=\"true\">Edition</a>\n                </li>\n                <li>\n                    <a class=\"nav-link\" id=\"epigraphy-tab\" data-toggle=\"tab\" href=\"#epigraphy_metadata\" role=\"tab\"\n                        aria-controls=\"epigraphy_metadata\" aria-selected=\"false\">Epigraphy</a>\n                </li>\n                <li>\n                    <a class=\"nav-link\" id=\"other-tab\" data-toggle=\"tab\" href=\"#other_metadata\" role=\"tab\"\n                        aria-controls=\"other_metadata\" aria-selected=\"false\">Text</a>\n                </li>\n            </ul>\n            <div class=\"tab-content\" id=\"myTabContent\" *ngIf=\"object != null\">\n                <div class=\"tab-pane fade show active\" id=\"edition\" role=\"tabpanel\" aria-labelledby=\"file-tab\">\n                    <div class=\"card epi_body\">\n                        <span class=\"text-id\">EDITION</span>\n\n                        <div class=\"card-body\">\n\n                            <div class=\"container\">\n                                <div class=\"row\" *ngIf=\"object.title != undefined || object?.title != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Title:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.title}}</span>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"object['element-id'] != undefined || object['element-id'] != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Id:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object['element-id']}}</span>\n                                    </div>\n                                </div>\n                                <div class=\"row\" *ngIf=\"object.editor != undefined || object?.editor != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Editor:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.editor}}</span>\n                                    </div>\n                                </div>\n                                <div class=\"row\" *ngIf=\"object.authority != undefined || object?.authority != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Authority:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.authority}}</span>\n                                    </div>\n                                </div>\n                                <div class=\"row\" *ngIf=\"object.license != undefined || object?.license != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>License:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <div class=\"col-12 p-0\" *ngFor=\"let subprop of object.license | keyvalue\">\n                                            <a [href]=\"subprop?.value\" target=\"_blank\"\n                                                *ngIf=\"isLink(subprop?.value)\">{{subprop?.value}}</a>\n                                            <span *ngIf=\"!isLink(subprop?.value)\">{{subprop?.value}}</span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n\n                        </div>\n                    </div>\n\n                </div>\n\n                <div class=\"tab-pane fade\" id=\"epigraphy_metadata\" role=\"tabpanel\" aria-labelledby=\"epigraphy-tab\">\n                    <div class=\"card epi_body\">\n                        <span class=\"text-id\">EPIGRAPHY</span>\n\n                        <div class=\"card-body\">\n\n\n                            <div class=\"container\">\n                                <div class=\"row\" *ngIf=\"object?.itAnt_ID != undefined && object?.itAnt_ID != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>ItAnt ID:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.itAnt_ID}}</span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\"\n                                    *ngIf=\"object?.inscriptionTitle != undefined && object?.inscriptionTitle != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Inscription Title:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.inscriptionTitle}}</span>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"object?.inscriptionType != undefined && object?.inscriptionType != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Inscription Type:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.inscriptionType}}</span>\n                                    </div>\n                                </div>\n                                <div class=\"row\" *ngIf=\"object?.summary != undefined && object?.summary != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Summary:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.summary}}</span>\n                                    </div>\n                                </div>\n                                <div class=\"row\" *ngIf=\"object?.trismegistos?.trismegistosID_url!= undefined\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Trismegistos ID:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <a target=\"_blank\" [href]=\"'//'+object?.trismegistos?.trismegistosID_url\">\n                                            {{object?.trismegistos?.trismegistosID}}\n                                        </a>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"object?.traditionalIDs != undefined && object?.traditionalIDs != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Traditional IDs:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\" *ngIf=\"isArray(object?.traditionalIDs)\">\n                                        <p class=\"m-0\" *ngFor=\"let other_id of object.traditionalIDs\">\n                                            <a target=\"_blank\" [href]=\"other_id.traditionalID_URL\">\n                                                {{other_id.traditionalID}}\n                                            </a>\n                                        </p>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\" *ngIf=\"isObject(object?.traditionalIDs)\">\n                                        <p class=\"m-0\" *ngFor=\"let sub of object?.traditionalIDs| keyvalue\">\n                                            <a target=\"_blank\" [href]=\"sub.traditionalID_URL\">\n                                                {{sub.traditionalID}}\n                                            </a>\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"object?.originalPlace != undefined && object?.originalPlace != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Original Place:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <a *ngIf=\"object?.originalPlace?.ancientNameUrl != ''\" target=\"_blank\"\n                                            [href]=\"object?.originalPlace?.ancientNameUrl\">\n                                            {{object?.originalPlace?.ancientName}}\n                                        </a>\n                                        <span *ngIf=\"object?.originalPlace?.ancientNameUrl == ''\">\n                                            {{object?.originalPlace?.ancientName}}\n                                        </span>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"object?.support?.objectType_conceptUrl != undefined && object?.support?.objectType_conceptUrl != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Original Type:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <a *ngIf=\"object?.support?.objectType_conceptUrl != ''\" target=\"_blank\"\n                                            [href]=\"object?.support?.objectType_conceptUrl\">\n                                            {{object?.support?.objectType}}\n                                        </a>\n                                        <span\n                                            *ngIf=\"object?.support?.objectType_conceptUrl == ''\">{{object?.support?.objectType}}</span>\n                                    </div>\n                                </div>\n                                <div class=\"row\" *ngIf=\"object?.condition != undefined && object?.condition != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Condition:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.condition}}</span>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"object?.conservationInstitution != undefined && object?.conservationInstitution != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Conservation Institution:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <a *ngIf=\"object?.conservationInstitution?.URL != ''\" target=\"_blank\"\n                                            [href]=\"object?.conservationInstitution?.URL\">\n                                            {{object?.conservationInstitution?.name}}</a>\n                                        <span *ngIf=\"object?.conservationInstitution?.URL == ''\">\n                                            {{object?.conservationInstitution?.name}}\n                                        </span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\"\n                                    *ngIf=\"object?.dateOfOrigin != undefined && object?.dateOfOrigin != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Date of Origin:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.dateOfOrigin}}</span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\"\n                                    *ngIf=\"object?.dateOfOriginNotBefore != undefined && object?.dateOfOriginNotBefore != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Date of Origin not Before:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.dateOfOriginNotBefore}}</span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\"\n                                    *ngIf=\"object?.dateOfOriginNotAfter != undefined && object?.dateOfOriginNotAfter != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Date of Origin not After:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.dateOfOriginNotAfter}}</span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\"\n                                    *ngIf=\"object?.datingCertainty != undefined && object?.datingCertainty != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Dating Certainty:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.datingCertainty}}</span>\n                                    </div>\n                                </div>\n\n\n                                <div class=\"row\" *ngIf=\"object?.decoration != undefined && object?.decoration != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Decoration:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.decoration}}</span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\"\n                                    *ngIf=\"object?.detailedFindSpot != undefined && object?.detailedFindSpot != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Detailed Find Spot:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.detailedFindSpot}}</span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\" *ngIf=\"object?.discoveryYear != undefined\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Discovery Year:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span *ngFor=\"let sub of object?.discoveryYear| keyvalue\">\n                                            <p *ngIf=\"sub?.value != ''\">\n                                                <span class=\"text-italic\">{{sub?.key}}:</span>\n                                                <span *ngIf=\"!isLink(sub?.value)\">{{sub?.value}}</span>\n                                                <a [href]=\"sub?.value\" target=\"_blank\"\n                                                    *ngIf=\"isLink(sub?.value)\">{{sub?.value}}</a>\n                                            </p>\n                                        </span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\" *ngIf=\"object?.layoutNotes != undefined && object?.layoutNotes != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Layout Notes:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.layoutNotes}}</span>\n                                    </div>\n                                </div>\n\n\n                                <div class=\"row\" *ngIf=\"object?.modernFindSpotName != undefined && \n                                                        object?.modernFindSpotName != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Modern Findspot Name:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <a *ngIf=\"object?.modernFindSpotName?.URL != ''\" target=\"_blank\"\n                                            [href]=\"object?.modernFindSpotNameUri\">\n                                            {{object?.modernFindSpotName}}</a>\n                                        <span *ngIf=\"object?.modernFindSpotName == ''\">\n                                            {{object?.modernFindSpotName?.name}}\n                                        </span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\"\n                                    *ngIf=\"object?.opistography != undefined && object?.opistography != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Opistography:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.opistography}}</span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\"\n                                    *ngIf=\"object?.paleographicNotes != undefined && object?.paleographicNotes != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Paleographic Notes:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.paleographicNotes}}</span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\" *ngIf=\"object?.settlement != undefined && object?.settlement != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Settlement:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <a *ngIf=\"object?.settlement?.placeOfConservationExternalReference != ''\"\n                                            target=\"_blank\"\n                                            [href]=\"object?.settlement?.placeOfConservationExternalReference\">\n                                            {{object?.settlement?.placeOfConservation}}</a>\n                                        <span *ngIf=\"object?.settlement?.placeOfConservationExternalReference == ''\">\n                                            {{object?.settlement?.placeOfConservation}}\n                                        </span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\"\n                                    *ngIf=\"object?.support?.material_conceptUrl != undefined && object?.support?.material_conceptUrl != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Material:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <a *ngIf=\"object?.support?.material_conceptUrl != ''\" target=\"_blank\"\n                                            [href]=\"object?.support?.material_conceptUrl\">\n                                            {{object?.support?.material}}</a>\n                                        <span *ngIf=\"object?.support?.material_conceptUrl == ''\">\n                                            {{object?.support?.material}}\n                                        </span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"tab-pane fade\" id=\"other_metadata\" role=\"tabpanel\" aria-labelledby=\"other-tab\">\n                    <div class=\"card epi_body\">\n                        <span class=\"text-id\">TEXT</span>\n                       \n                        <div class=\"card-body\">\n                           \n                            <div class=\"container\">\n                                <div class=\"row\" *ngIf=\"object?.autopsy != undefined && object?.autopsy != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Autopsy:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.autopsy}}</span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\"\n                                    *ngIf=\"object?.autopsyAuthor != undefined && object?.autopsyAuthor != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Autopsy Author:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.autopsyAuthor}}</span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\" *ngIf=\"object?.language != undefined\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Language:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span *ngFor=\"let sub of object?.language\">\n                                            <p *ngIf=\"sub?.source != ''\">\n                                                <a [href]=\"sub?.source\" target=\"_blank\"\n                                                    *ngIf=\"isLink(sub?.source)\">{{sub?.ident}}</a>\n                                            </p>\n                                        </span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\"\n                                    *ngIf=\"object?.bodytextpart?.ductus != undefined && object?.bodytextpart?.ductus != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Ductus:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.bodytextpart?.ductus}}</span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\"\n                                    *ngIf=\"object?.wordDivisionType != undefined && object?.wordDivisionType != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Word Division Type:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.wordDivisionType}}</span>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\"\n                                    *ngIf=\"object?.writingSystem != undefined && object?.writingSystem != ''\">\n                                    <div class=\"col-xl-4 col-lg-12 p-1\">\n                                        <b>Writing System:</b>\n                                    </div>\n                                    <div class=\"col-xl-8 col-lg-12 p-1\">\n                                        <span>{{object.writingSystem}}</span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { ExpanderService } from 'src/app/services/expander/expander.service';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\n\n@Component({\n  selector: 'app-edit-detail',\n  templateUrl: './edit-detail.component.html',\n  styleUrls: ['./edit-detail.component.scss']\n})\nexport class EditDetailComponent implements OnInit {\n\n  object : any;\n  showTrigger = false;\n  hideEtymology = true;\n  hideDecomp = true;\n  hideDictionary = true;\n  @ViewChild('navtabs') navtabs: ElementRef; \n  @ViewChild('navcontent') navcontent: ElementRef; \n\n  constructor(private lexicalService: LexicalEntriesService, private exp : ExpanderService) { }\n\n  ngOnInit(): void {\n    \n    this.object = null;\n    this.exp.openEdit$.subscribe(\n      boolean => {\n        if(boolean){\n          setTimeout(() => {\n            var text_detail = document.querySelectorAll('#text-dettaglio');\n            text_detail.forEach(element => {\n              if(!element.classList.contains('show')){\n                element.classList.add('show')\n              }\n            })\n            let a_link = document.querySelectorAll('a[data-target=\"#text-dettaglio\"]');\n            a_link.forEach(element => {\n              if(element.classList.contains(\"collapsed\")){\n                element.classList.remove('collapsed')\n              }else{\n                //element.classList.add('collapsed')\n              }\n            })\n           }, 100);\n        }\n      }\n    )\n\n    this.lexicalService.coreData$.subscribe(\n      object => {\n        if(object != null){\n          if(object['lexicalEntryInstanceName'] != undefined ||\n             object['formInstanceName'] != undefined ||\n             object['senseInstanceName'] != undefined ||\n             object['etymologyInstanceName'] != undefined){\n               setTimeout(() => {\n                var navTabLinks = this.navtabs.nativeElement.querySelectorAll('a')\n                this.object = object;\n                navTabLinks.forEach(element => {\n                  /* //console.log(element) */\n                  if(element.text == 'Core'){\n                    element.classList.add('active');\n                    this.hideDecomp = true;\n                    this.hideEtymology = true;\n                  }else{\n                    element.classList.remove('active')\n                    //console.log(element.id)\n                  }\n                });\n    \n                \n    \n                var navContent = this.navcontent.nativeElement.querySelectorAll('.tab-pane');\n                \n                navContent.forEach(element => {\n                  \n                  if(element.id == 'core'){\n                    element.classList.add('active')\n                    element.classList.add('show')\n                    /* console.log(\"picchio\");\n                    console.log(element) */\n                  }else{\n                    \n                    element.classList.remove('active')\n                    element.classList.remove('show')\n                    /* console.log(\"picchio21\")\n                    console.log(element) */\n                  }\n                });\n               }, 100);\n            \n\n          }else {\n            this.object = null;\n          }\n        }\n      }\n    );\n    \n    this.lexicalService.decompData$.subscribe(\n      object => {\n        if(object != null){\n          setTimeout(() => {\n            var navTabLinks = this.navtabs.nativeElement.querySelectorAll('a')\n            this.object = object;\n            navTabLinks.forEach(element => {\n              /* //console.log(element) */\n              if(element.text == 'Decomposition'){\n                element.classList.add('active')\n                this.hideDecomp = false;\n                this.hideEtymology = true;\n              }else{\n                element.classList.remove('active')\n                //console.log(element.id)\n              }\n            });\n\n            \n\n            var navContent = this.navcontent.nativeElement.querySelectorAll('.tab-pane');\n            \n            navContent.forEach(element => {\n              \n              if(element.id == 'decomposition'){\n                element.classList.add('active')\n                element.classList.add('show')\n                /* console.log(\"picchio\");\n                console.log(element) */\n              }else{\n                \n                element.classList.remove('active')\n                element.classList.remove('show')\n                /* console.log(\"picchio21\")\n                console.log(element) */\n              }\n            });\n           }, 100);\n        }else{\n          this.object = null;\n        }\n      }\n    )\n    \n\n    this.lexicalService.etymologyData$.subscribe(\n      object => {\n        if(object != null){\n          if(object['etymology']['etymologyInstanceName'] != undefined){\n            this.object = object;\n            var navTabLinks = this.navtabs.nativeElement.querySelectorAll('a')\n            \n            navTabLinks.forEach(element => {\n              //console.log(element.text)\n              if(element.text == 'Etymology'){\n                /* console.log(\"aggiungo active a:\") */\n                element.classList.add('active');\n                this.hideEtymology = false;\n                this.hideDecomp = true;\n              }else{\n                element.classList.remove('active')\n                /* console.log(\"tolgo active a:\") */\n              }\n            });\n            var navContent = this.navcontent.nativeElement.querySelectorAll('.tab-pane');\n            \n            navContent.forEach(element => {\n              //console.log(element.id)\n              if(element.id == 'etymology'){\n                element.classList.add('active')\n                element.classList.add('show')\n              }else{\n                element.classList.remove('active')\n                element.classList.remove('show')\n                //console.log(element.id)\n              }\n            });\n            \n          }else {\n            this.object = null;\n          }\n        }\n      }\n    );\n  }\n\n  triggerExpansionEdit(){\n \n    setTimeout(() => {\n\n      if(this.exp.isEditTabOpen() && !this.exp.isEpigraphyTabOpen()){\n        if(this.exp.isEditTabExpanded() && !this.exp.isEpigraphyTabExpanded()){\n          this.exp.openCollapseEdit();\n          this.exp.expandCollapseEdit();\n        }\n      }else if(!this.exp.isEditTabOpen() && !this.exp.isEpigraphyTabOpen()){\n        if(!this.exp.isEditTabExpanded() && !this.exp.isEpigraphyTabExpanded()){\n          this.exp.openCollapseEdit();\n          this.exp.expandCollapseEdit();\n        }\n      }else if(this.exp.isEditTabOpen() && this.exp.isEpigraphyTabOpen()){\n        this.exp.openCollapseEdit();\n        this.exp.expandCollapseEpigraphy(true);\n      }else if(!this.exp.isEditTabOpen() && this.exp.isEpigraphyTabOpen()){\n        if(!this.exp.isEditTabExpanded() && this.exp.isEpigraphyTabExpanded()){\n          this.exp.expandCollapseEpigraphy(false);\n          this.exp.openCollapseEdit(true)\n        }\n        \n      }\n      \n    }, 200);\n  }\n\n}\n","\n\n<div class=\"card\">\n    <div class=\"card-header\">\n        <ul class=\"nav nav-tabs\" id=\"editDictTab\" role=\"tablist\" #navtabs [ngClass]=\"{'disabled': object === null}\">\n            <li class=\"nav-item\">\n                <a class=\"nav-link\" id=\"core-tab\" data-toggle=\"tab\" href=\"#core\" role=\"tab\" aria-controls=\"core\" aria-selected=\"true\">Core</a>\n            </li>\n            <!-- <li class=\"nav-item\">\n                <a class=\"nav-link\" id=\"vartrans-tab\" data-toggle=\"tab\" href=\"#vartrans\" role=\"tab\" aria-controls=\"vartrans\" aria-selected=\"true\">Vartrans</a>\n            </li>\n            <li class=\"nav-item\">\n                <a class=\"nav-link\" id=\"synsem-tab\" data-toggle=\"tab\" href=\"#synsem\" role=\"tab\" aria-controls=\"synsem\" aria-selected=\"true\">Synsem</a>\n            </li> -->\n            <li class=\"nav-item\" [hidden]=\"hideDecomp\">\n                <a class=\"nav-link\" id=\"decomposition-tab\" data-toggle=\"tab\" href=\"#decomposition\" role=\"tab\" aria-controls=\"decomposition\" aria-selected=\"true\">Decomposition</a>\n            </li>\n            <li class=\"nav-item\" [hidden]=\"hideEtymology\">\n                <a class=\"nav-link\" id=\"etymology-tab\" data-toggle=\"tab\" href=\"#etymology\" role=\"tab\" aria-controls=\"etymology\" aria-selected=\"true\">Etymology</a>\n            </li>\n            <li class=\"nav-item\" [hidden]=\"hideDictionary\">\n                <a class=\"nav-link\" id=\"dictionary-tab\" data-toggle=\"tab\" href=\"#dictionary\" role=\"tab\" aria-controls=\"dictionary\" aria-selected=\"false\">Dictionary</a>\n            </li>\n            <h5 class=\"ml-auto mb-0\">\n                <a class=\"btn btn-link w-100 d-flex align-self-center\" (click)=\"triggerExpansionEdit();\" data-toggle=\"collapse\" data-target=\"#text-dettaglio\" aria-expanded=\"false\" aria-controls=\"text-dettaglio\">\n                    <i class=\"fa ml-auto\"></i>\n                </a>\n            </h5>\n        </ul>\n        \n    </div>\n    <div id=\"text-dettaglio\" class=\"collapse show\" aria-labelledby=\"headingOne\" ><!--  data-parent=\"#epigraphy-accordion\" -->\n        <div class=\"card-body\">\n            <div class=\"tab-content\" id=\"tab-content\" #navcontent>\n                <div class=\"tab-pane fade\" id=\"core\" role=\"tabpanel\" aria-labelledby=\"core-tab\">\n                    <app-core-tab></app-core-tab>\n                </div>\n                <!-- <div class=\"tab-pane fade\" id=\"vartrans\" role=\"tabpanel\" aria-labelledby=\"vartrans-tab\">\n                    <app-vartrans-tab></app-vartrans-tab>\n                </div>\n                <div class=\"tab-pane fade\" id=\"synsem\" role=\"tabpanel\" aria-labelledby=\"synsem-tab\">\n                    <app-synsem-tab></app-synsem-tab>\n                </div> -->\n                <div class=\"tab-pane fade\" id=\"decomposition\" role=\"tabpanel\" aria-labelledby=\"decomposition-tab\">\n                    <app-decomposition-tab></app-decomposition-tab>\n                </div>\n                <div class=\"tab-pane fade\" id=\"etymology\" role=\"tabpanel\" aria-labelledby=\"etymology-tab\">\n                    <app-etymology-tab></app-etymology-tab>\n                </div>\n                <div class=\"tab-pane fade\" id=\"dictionary\" role=\"tabpanel\" aria-labelledby=\"dictionary-tab\">\n                    <app-dictionary-tab></app-dictionary-tab>\n                </div>\n            </div>\n        </div>\n    </div>\n   \n</div>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ExpanderService {\n  \n  isEpigraphyExpanded = false;\n  isEditExpanded = false;\n\n  isEditOpen = false;\n  isEpigraphyOpen = false;\n\n  private _openEdit : BehaviorSubject<boolean> = new BehaviorSubject(null);\n  private _openEpigraphy : BehaviorSubject<boolean> = new BehaviorSubject(null);\n  private _expandEpigraphy: BehaviorSubject<boolean> = new BehaviorSubject(null);\n  private _expandEdit: BehaviorSubject<boolean> = new BehaviorSubject(null);\n  expEpigraphy$ = this._expandEpigraphy.asObservable();\n  expEdit$ = this._expandEdit.asObservable();\n  openEdit$ = this._openEdit.asObservable();\n  openEpigraphy$ = this._openEpigraphy.asObservable();\n\n  constructor() { }\n\n  expandCollapseEpigraphy(trigger?){\n    if(trigger != undefined){\n      this.isEpigraphyExpanded = trigger;\n      this._expandEpigraphy.next(this.isEpigraphyExpanded)\n    }else{\n      this.isEpigraphyExpanded = !this.isEpigraphyExpanded;\n      this._expandEpigraphy.next(this.isEpigraphyExpanded)\n    }\n  }\n  \n  expandCollapseEdit(trigger?){\n    if(trigger != undefined){\n      this.isEditExpanded = trigger;\n      this._expandEdit.next(this.isEditExpanded)\n    }else{\n      this.isEditExpanded = !this.isEditExpanded;\n      this._expandEdit.next(this.isEditExpanded)\n    }\n  }\n\n  openCollapseEdit(trigger?){\n    if(trigger != undefined){\n      this.isEditOpen = trigger;\n      this._openEdit.next(trigger);\n    }else{\n      this.isEditOpen = !this.isEditOpen\n      this._openEdit.next(this.isEditOpen);\n    }\n  }\n\n  openCollapseEpigraphy(trigger?){\n    if(trigger != undefined){\n      this.isEpigraphyOpen = trigger;\n      this._openEpigraphy.next(trigger)\n    }else{\n      this.isEpigraphyOpen = !this.isEpigraphyOpen\n      this._openEpigraphy.next(this.isEpigraphyOpen)\n    }\n  }\n\n  isEditTabExpanded(){\n    return this.isEditExpanded;\n  }\n\n  isEpigraphyTabExpanded(){\n    return this.isEpigraphyExpanded;\n  }\n\n  isEditTabOpen(){\n    return this.isEditOpen;\n  }\n\n  isEpigraphyTabOpen(){\n    return this.isEpigraphyOpen;\n  }\n\n}\n","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { AfterViewInit, ApplicationRef, Component, ComponentFactoryResolver, ComponentRef, ContentChild, ElementRef, HostListener, Injector, Input, OnDestroy, OnInit, QueryList, Renderer2, SimpleChanges, TemplateRef, ViewChild, ViewChildren } from '@angular/core';\nimport { FormGroup, FormControl, Validators, FormArray, FormBuilder } from '@angular/forms';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { NgbPopover, NgbPopoverConfig } from '@ng-bootstrap/ng-bootstrap';\nimport { NgSelectComponent } from '@ng-select/ng-select';\nimport { ToastrService } from 'ngx-toastr';\nimport { Subject } from 'rxjs';\nimport { debounceTime, filter } from 'rxjs/operators';\nimport { AnnotatorService } from 'src/app/services/annotator/annotator.service';\nimport { DocumentSystemService } from 'src/app/services/document-system/document-system.service';\nimport { ExpanderService } from 'src/app/services/expander/expander.service';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\nimport { SearchFormComponent } from './search-form/search-form.component';\ndeclare var $: JQueryStatic;\n\n@Component({\n  selector: 'app-epigraphy-form',\n  templateUrl: './epigraphy-form.component.html',\n  styleUrls: ['./epigraphy-form.component.scss']\n})\nexport class EpigraphyFormComponent implements OnInit, OnDestroy {\n\n  @Input() epiData: any;\n  object: any;\n  tokenArray: FormArray;\n  textEpigraphy = '';\n  leidenLines : any;\n\n  private bind_subject: Subject<any> = new Subject();\n  searchResults = [];\n  memoryForms = [];\n\n  selectedPopover = {\n    htmlNodeName: '',\n    tokenId: ''\n  };\n\n  spanSelection;\n\n  data: object;\n  sel_t: object;\n  message: string;\n  isOpen = false;\n  bind = this;\n  @ViewChildren('span_modal') spanPopovers: QueryList<any>;\n  @ViewChild('search_form') searchForm : SearchFormComponent;\n\n  //@ViewChild('span_modal') spanPopover: ElementRef;\n\n\n  \n  epigraphyForm = new FormGroup({\n    tokens: new FormArray([this.createToken()]),\n  })\n\n\n  multiWordMode = false;\n  annotationArray = [];\n  token_annotationArray = [];\n  epidoc_annotation_array = [];\n  leiden_array = [];\n  translation_array = [];\n\n  fileId;\n\n  isEmptyFile = false;\n\n  @HostListener('document:mouseup', ['$event'])\n  onMouseUp(event): void {\n    setTimeout(() => {\n      let evtPath = Array.from(event.path);\n      let isMultiwordRequest = false;\n      evtPath.some((element: HTMLElement) => {\n        //console.log(element)\n        if (element.classList != undefined) {\n          if (element.classList.contains('ok-button')) {\n            isMultiwordRequest = true;\n            return true;\n          } else {\n            isMultiwordRequest\n            return false;\n          }\n        } else {\n          return false;\n        }\n      })\n\n      \n      let event_el;\n\n      if (isMultiwordRequest) {\n        let multiWordArray = Array.from(document.getElementsByClassName('multiword'));\n        multiWordArray.forEach(element => {\n          let children = Array.from(element.children);\n          children.forEach(subchild => {\n            if (subchild.classList.contains('multiword-button')) {\n              event_el = element.children\n              subchild.remove();\n            }\n          })\n        });\n        document.querySelectorAll('.multiword').forEach(element => {\n          this.renderer.removeClass(element, 'multiword');\n          this.renderer.addClass(element, 'multiword-span-' + 1);\n          \n          let prev = element.previousElementSibling;\n          let next = element.nextElementSibling;\n\n          if (prev != undefined) {\n            if (prev.classList != undefined) {\n              let classNames = prev.className;\n              let matchTest = /(^|\\s)(multiword-span-\\d)(\\s|$)/.test(classNames)\n              if (matchTest) {\n                this.renderer.addClass(element, 'border-left-0')\n              }\n            }\n          } else if (next != undefined) {\n            if (next.classList != undefined) {\n              let classNames = next.className;\n              let matchTest = /(^|\\s)(multiword-span-\\d)(\\s|$)/.test(classNames)\n              if (matchTest) {\n                this.renderer.addClass(element, 'border-right-0')\n              }\n            }\n          }\n        })\n\n        let position_popover;\n      \n        Array.from(event_el).forEach(\n          (element : HTMLElement)=>{\n            position_popover = element.getAttribute('position');\n            return;\n          }\n        )\n        \n        this.message = '';\n        \n        this.spanPopovers.toArray()[position_popover-1].open();\n        \n        let popover_id = this.spanPopovers.toArray()[position_popover-1]._ngbPopoverWindowId;\n        this.selectedPopover.tokenId = (position_popover -1).toString();\n        this.annotatorService.triggerSearch(null);\n        this.selectedPopover.htmlNodeName = popover_id;\n        let multiwordSpan = Array.from(document.querySelectorAll(\"[class*=multiword-span-]\"));\n        let spansArray = [];\n        multiwordSpan.forEach(element => {\n          let children = Array.from(element.children);\n          children.forEach(\n            span=>{\n              let position = parseInt(span.getAttribute('position'));\n              let object = {\n                start : this.object[position-1].begin,\n                end : this.object[position-1].end\n              }\n              \n              spansArray.push(object)\n            }\n          )\n        })\n\n        console.log(spansArray);\n        this.spanSelection = spansArray;\n        \n        \n      } else {\n        if (!this.multiWordMode) {\n\n          //console.log(document.querySelectorAll('.token'))\n          document.querySelectorAll('.multiword').forEach(element => {\n            this.renderer.removeClass(element, 'multiword')\n            this.renderer.removeClass(element, 'border-right-0');\n          });\n        }\n      }\n    }, 10);\n  }\n\n  @HostListener('document:mousedown', ['$event'])\n  onGlobalClick(event): void {\n\n    setTimeout(() => {\n\n      //PREVENIRE CHE I POPOVER SI CHIUDANO SE CLICCATI FUORI DAL COMPONENTE\n      let index = this.selectedPopover.tokenId\n\n      //SE IL CLICK AVVIENE FUORI QUESTO COMPONENTE, L'EVENTUALE POPOVER DEVE RESTARE APERTO, \n      //SE SI CLICCA QUESTO COMPONENTE IL POPOVER VA CHIUSO E RIATTIVATO L'AUTOCLOSE\n      if (index != '') {\n        //console.log(this.config)\n        let popover = this.spanPopovers.toArray()[index];\n       /*  if (popover.isOpen()) {\n          //console.log(popover.isOpen())\n          //console.log(popover)\n          //popover.autoClose = false;\n        } */\n      }\n\n\n\n    }, 17);\n\n    setTimeout(() => {\n      /* console.log(event.path) */\n      let evtPath = Array.from(event.path)\n      //console.log(this.selectedPopover.htmlNodeName)\n      let htmlNode = document.getElementById(this.selectedPopover.htmlNodeName)\n      console.log\n      let tokenId = this.selectedPopover.tokenId;\n      if (evtPath.includes(htmlNode)) {\n\n      } else {\n        if(this.object != null){\n          this.object.forEach(element => {\n            //console.log(element.position != tokenId)\n            if (element.position != tokenId) {\n  \n              element.editing = false;\n  \n              this.selectedPopover.htmlNodeName = '';\n              this.selectedPopover.tokenId = ''\n            }\n          });\n        }\n        \n\n        let parentMarkElement = document.getElementsByClassName('token-' + tokenId)[0];\n        //console.log(document.getElementsByClassName('token-'+tokenId))\n        if (parentMarkElement != null) {\n          let i = 0;\n          Array.from(parentMarkElement.childNodes).forEach(\n            element => {\n//              console.log(element)\n              let textMarkElement = element.textContent;\n              let prev, next;\n              if (element['classList'] != undefined) {\n\n                if (element['classList'].contains('mark') || element['classList'].contains('mark_test')) {\n\n                  prev = Array.from(parentMarkElement.childNodes)[i - 1];\n                  next = Array.from(parentMarkElement.childNodes)[i];\n\n                  if (next == element) {\n                    next = Array.from(parentMarkElement.childNodes)[i + 1];\n                  }\n\n                  if (prev != undefined) {\n                    if (prev.nodeName == '#text') {\n                      textMarkElement = prev.textContent += textMarkElement;\n                      prev.remove();\n                    }\n                  }\n\n                  if (next != undefined) {\n                    if (next.nodeName == '#text') {\n                      textMarkElement += next.textContent;\n                      next.remove()\n                    }\n                  }\n\n                  const text = this.renderer.createText(textMarkElement)\n\n                  this.renderer.insertBefore(parentMarkElement, text, element)\n                  //this.renderer.removeChild(parentMarkElement, element);\n\n                  element.remove();\n\n\n                }\n              }\n\n              i++;\n            }\n          );\n\n        }\n\n      }\n    }, 17);\n\n  }\n\n\n\n  @HostListener('window:keydown', ['$event'])\n  enableMultiword(event: KeyboardEvent) {\n    /* console.log(event) */\n    if (event.altKey && event.ctrlKey) {\n      this.multiWordMode = true;\n      if(this.object != undefined){\n        this.object.forEach(element => {\n          element.editing = false;\n          this.selectedPopover.htmlNodeName = '';\n          this.selectedPopover.tokenId = ''\n        });\n      }\n      \n    } else if (event.code == 'Escape') {\n\n      let htmlNode = document.getElementById(this.selectedPopover.htmlNodeName)\n      let tokenId = this.selectedPopover.tokenId;\n\n      if(this.object != undefined){\n        this.object.forEach(element => {\n          if (element.id != tokenId) {\n  \n            element.editing = false;\n  \n            this.selectedPopover.htmlNodeName = '';\n            this.selectedPopover.tokenId = ''\n          }\n        });\n  \n        let parentMarkElement = document.getElementsByClassName('token-' + tokenId)[0];\n        if (parentMarkElement != null) {\n          let i = 0;\n          Array.from(parentMarkElement.children).forEach(\n            element => {\n              console.log(element)\n              if (element.classList.contains('mark')) {\n  \n                let textMarkElement = element.textContent;\n                const text = this.renderer.createText(textMarkElement)\n                //parentMarkElement.textContent = parentMarkElement.textContent.trim();\n                //let innerText = parentMarkElement.textContent;\n                this.renderer.insertBefore(parentMarkElement, text, element)\n                this.renderer.removeChild(parentMarkElement, element);\n                //parentMarkElement.insertBefore(text, parentMarkElement.childNodes[i+1]);\n                //let children = parentMarkElement.children;\n                //parentMarkElement.textContent = innerText\n                i++;\n                return;\n              }\n              i++;\n            }\n          );\n  \n        }\n      }\n      \n\n\n\n    }\n  }\n\n  @HostListener('window:keyup', ['$event'])\n  disableMultiword(event: KeyboardEvent) {\n    if (!event.altKey && !event.ctrlKey) {\n      this.multiWordMode = false;\n    }\n  }\n\n  constructor(private router : Router, private annotatorService: AnnotatorService, private expander: ExpanderService, private renderer: Renderer2, private documentService: DocumentSystemService, private formBuilder: FormBuilder, private toastr: ToastrService, private lexicalService: LexicalEntriesService, private config: NgbPopoverConfig) { \n    /* this.router.events.pipe(filter(e => e instanceof NavigationEnd)).subscribe((val) => {\n      setTimeout(() => {\n        this.lexicalService.sendToCoreTab(null);\n        this.documentService.sendToEpigraphyTab(null)\n        this.documentService.sendTextToEpigraphyTab(null);\n        this.expander.openCollapseEdit(false);\n        this.expander.openCollapseEpigraphy(false);\n        this.expander.expandCollapseEpigraphy(false);\n        this.expander.expandCollapseEdit(false)\n      }, 1000);\n      \n    }) */\n  }\n\n\n  ngOnInit(): void {\n\n    /* this.config.autoClose = false */\n\n\n    this.epigraphyForm = this.formBuilder.group({\n      tokens: this.formBuilder.array([this.createToken()])\n    })\n\n    this.documentService.epigraphyTextData$.subscribe(\n      data=>{\n        if(data != null){\n          this.textEpigraphy = data;\n        }else{\n          this.textEpigraphy = '';\n        }\n      },error=>{\n        console.log(error)\n      }\n    )\n\n    this.documentService.epigraphyLeidenData$.subscribe(\n      data=>{\n        console.log(data)\n        if(data != null){\n          this.leidenLines = data;\n\n\n        }else{\n          this.leidenLines = [];\n        }\n      },error=>{\n        console.log(error)\n      }\n    )\n\n    this.documentService.epigraphyTranslationData$.subscribe(\n      data=>{\n        console.log(data)\n        if(data != null){\n          this.translation_array = data;\n\n\n        }else{\n          this.translation_array = [];\n        }\n      },error=>{\n        console.log(error)\n      }\n    )\n\n\n\n    this.bind_subject.pipe(debounceTime(100)).subscribe(\n      data => {\n        /* console.log(data) */\n        this.bindSelection(data.popover, data.evt, data.i);\n      }\n    )\n\n    this.annotatorService.deleteAnnoReq$.subscribe(\n      data=> {\n\n        let localArray = [];\n        if(data != null){\n          \n\n          this.annotationArray = this.annotationArray.filter(\n            element => {\n              return element.id != data.id\n            }\n          )\n          //console.log(this.annotationArray)\n          \n          if(this.object != undefined){\n            this.object.forEach(element => {\n              if(element.id == data.node_id){\n                /* let position = element.position;\n  \n                let elementHTML = document.getElementsByClassName('token-'+(position-1))[0]\n                this.renderer.removeClass(elementHTML, 'annotation'); */\n  \n                let start = element.begin;\n                let end = element.end;\n  \n                this.annotationArray.forEach(element => {\n                  if(element.spans[0].start >= start  && element.spans[0].end <= end){\n                    localArray.push(element);\n                  }\n                })\n  \n                console.log(localArray, localArray.length);\n  \n                if(localArray.length == 0){\n                  let position = element.position;\n                  let elementHTML = document.getElementsByClassName('token-'+(position-1))[0]\n                  this.renderer.removeClass(elementHTML, 'annotation');\n                }\n              }\n            });\n          }\n          \n        }\n      }\n    )\n\n  }\n\n\n  ngOnChanges(changes: SimpleChanges) {\n    setTimeout(() => {\n      if(changes.epiData.currentValue != null){\n        if (this.object != changes.epiData.currentValue) {\n          this.tokenArray = this.epigraphyForm.get('tokens') as FormArray;\n          this.tokenArray.clear();\n          this.spanSelection = null;\n          this.annotationArray = [];\n          this.epidoc_annotation_array = [];\n\n          /* \n  \n          this.denotesArray = this.coreForm.get('denotes') as FormArray;\n          this.denotesArray.clear();\n  \n          this.cognatesArray = this.coreForm.get('cognate') as FormArray;\n          this.cognatesArray.clear();\n  \n          this.evokesArray = this.coreForm.get('evokes') as FormArray;\n          this.evokesArray.clear();\n  \n          this.memoryPos = '';\n  \n          this.staticMorpho = [] */\n        }\n        \n        \n        this.object = changes.epiData.currentValue['tokens'];\n        let element_id = changes.epiData.currentValue['element_id']\n        this.fileId = changes.epiData.currentValue['epidoc_id']\n        let xmlDoc = changes.epiData.currentValue['xmlDoc']\n        console.log(this.object)\n        if (this.object != null) {\n\n          if(this.object.length == 0){\n            this.isEmptyFile = true;\n            console.log(\"FILE VUOTO\")\n          }else{\n            this.isEmptyFile = false;\n            console.log(\"FILE NON VUOTO\")\n          }\n  \n          //console.log(this.object)\n          \n          this.annotatorService.getAnnotation(element_id).subscribe(\n            data=>{\n              console.log(data);\n              if(data.annotations != undefined){\n                data.annotations.forEach(element => {\n                  //console.log(element)\n                  if(element.layer == 'attestation'){\n                    if(element.attributes.bibliography == undefined){\n                      element.attributes['bibliography'] = [];\n                    }\n                    \n                    if(!Array.isArray(element.attributes.bibliography)){\n                      let tmp_arr = [];\n                      tmp_arr.push(element.attributes['bibliography']);\n                      element.attributes['bibliography'] = tmp_arr;\n                    }\n                    \n                    \n                    if(Array.isArray(element.attributes['bibliography'])){\n                      Array.from(element.attributes['bibliography']).forEach(element => { \n                        \n                        if(element['note'] == undefined){\n                          element['note'] = \"\";\n                        } \n                        \n                        if(element['textualRef']== undefined){\n                          element['textualRef'] = \"\";\n                        } \n                      });\n                    }\n\n                    if(this.isEmptyFile){\n                      element['empty_file'] = this.isEmptyFile;\n                      if(element.attributes.leiden == undefined){\n                        element.attributes.leiden = '';\n                      }\n                    }else{\n                      element['empty_file'] = this.isEmptyFile;\n                    }\n                    this.annotationArray.push(element);\n                  }else if(element.layer == 'epidoc'){\n                    this.epidoc_annotation_array.push(element);\n                  }\n                });\n                //this.annotationArray = data.annotations;\n                if(this.annotationArray.length > 0){\n                  \n            \n\n                  var that2 = this;\n                  var timer_object = setInterval((val)=>{\n                    try {\n                      if(this.object != null){\n                        this.object.forEach(element => {\n                          let startElement = element.begin;\n                          let endElement = element.end;\n                          this.annotationArray.forEach(annotation => {\n                            if(annotation.spans.length == 1){\n                              let startAnnotation = annotation.spans[0].start;\n                              let endAnnotation = annotation.spans[0].end;\n      \n                              if(startAnnotation >= startElement  && endAnnotation <= endElement){\n                                let positionElement = element.position;\n                                let elementHTML = document.getElementsByClassName('token-'+(positionElement-1))[0]\n                                var that = this;\n\n                                let xmlNode = xmlDoc.querySelectorAll('[*|id=\\''+element.xmlid+'\\']')[0].outerHTML;\n                                let object = {\n                                  xmlString : xmlNode\n                                }\n                                this.documentService.testConvert(object).subscribe(\n                                  data=> {\n                                    console.log(data);\n                                    let raw = data.xml;\n                                    let bodyResponse = new DOMParser().parseFromString(raw, \"text/html\").body;\n                                    let leidenToken = '';\n                                    bodyResponse.childNodes.forEach(\n                                      x=>{\n                                        if(x.nodeName != undefined){\n                                          if(x.nodeName == '#text'){\n                                            leidenToken += x.nodeValue.replace('\\n', '');\n                                          }\n                                        }\n                                      }\n                                    )\n                                    //let leidenToken = new DOMParser().parseFromString(raw, \"text/html\").body.textContent.replace('\\n', '');\n                                    if(leidenToken != ''){\n                                      annotation.attributes['leiden'] = leidenToken;\n                                    }else{\n                                      annotation.attributes['leiden'] = '';\n                                    }\n                                    \n                                  }, error=> {\n                                    console.log(error)\n                                  }\n                                )\n                                var timer = setInterval((val)=>{                \n                                    \n                                    try{\n                                        if(elementHTML != undefined){\n                                          that.renderer.addClass(elementHTML, 'annotation');\n                                          clearInterval(timer)\n                                        }\n                                    }catch(e){\n                                        console.log(e)\n                                    }\n                                        \n                                          \n                                }, 250)\n                                \n                                \n                                \n                              }\n                            }\n                          });\n                          \n                        });\n                        setTimeout(() => {\n                          this.lexicalService.triggerAttestationPanel(true);\n                          this.lexicalService.sendToAttestationPanel(this.annotationArray);\n                        }, 1000);\n                        clearInterval(timer_object)\n                      }\n                      \n                    } catch (error) {\n                      console.log(error)\n                    }\n                  }, 250)\n\n                 \n\n                }else{\n                  this.annotationArray = [];\n                  this.lexicalService.triggerAttestationPanel(false);\n                  this.lexicalService.sendToAttestationPanel(null);\n\n                }\n\n                /* setTimeout(() => {\n                  \n                  console.log(this.epidoc_annotation_array); \n                  \n                  let epidoc_aggregator = []\n                  if(this.epidoc_annotation_array.length > 0){\n                    this.object.forEach(element => {\n                      \n                      let object = {};\n                      object['element'] = element.text;\n                      object['element-span'] = {\n                        start : element.begin,\n                        end : element.end\n                      };\n                      let epidoc_array = [];\n                      let start = element.begin;\n                      let end = element.end;\n                      this.epidoc_annotation_array.forEach(\n                        epidoc => {\n                          \n                          epidoc.spans.forEach(span => {\n                            if(span.start >= start && span.end <= end){\n                              epidoc_array.push(epidoc)\n                            }\n                          });\n                        }\n                      )\n\n                      object['epidoc'] = epidoc_array;\n                      epidoc_aggregator.push(object)\n                    });\n                  }\n\n                  console.log(epidoc_aggregator);\n\n                  let leiden_string = \"\";\n\n                  epidoc_aggregator.forEach(\n                    token =>{\n                      let start = token['element-span'].start;\n                      let end = token['element-span'].end;\n                      let text = token.element;\n\n                      let edit_dict = [];\n\n                      token.epidoc.forEach(epidoc => {\n\n                        let obj = {};\n                        \n                        let relative_start, relative_end;\n                        relative_start = epidoc.spans[0].start-start;\n                        relative_end = relative_start + (epidoc.spans[0].end - epidoc.spans[0].start);\n\n                        if(relative_end == 0){\n                          relative_end = text.length;\n                        }\n\n                        if(epidoc.value == 'tei:lb' && epidoc.attributes.break == undefined){\n                          obj['start'] = relative_start;\n                          obj['end'] = relative_end;\n                          obj['transformed'] = '\\n';\n\n                          edit_dict.push(obj);\n\n                        }else if(epidoc.value == 'tei:ex'){\n                          //console.log(token, epidoc, relative_start, relative_end)\n                          let substring = text.substring(relative_start, relative_end)\n\n                          obj['start'] = relative_start;\n                          obj['end'] = relative_end;\n                          obj['transformed'] = '('+substring+')';\n\n                          edit_dict.push(obj);\n\n                          \n                        }else if(epidoc.value == 'tei:supplied'){\n                          //console.log(token, epidoc, relative_start, relative_end)\n                          let substring = text.substring(relative_start, relative_end)\n                          \n                          obj['start'] = relative_start;\n                          obj['end'] = relative_end;\n                          obj['transformed'] = '['+substring+']'\n\n                          edit_dict.push(obj);\n                        }else if(epidoc.value == 'tei:unclear'){\n                          //console.log(token, epidoc, relative_start, relative_end)\n                          let substring = text.substring(relative_start, relative_end);\n                          let tmp_string = \"\";\n                          Array.from(substring).forEach((element : string) => {\n                            //console.log(element.codePointAt(0).toString(16))\n                            element = element+'\\u0323'\n                            leiden_string += element;\n                            tmp_string += element;\n                          });\n                          \n                          obj['start'] = relative_start;\n                          obj['end'] = relative_end;\n                          obj['transformed'] = tmp_string\n\n                          edit_dict.push(obj);\n                        }else if(epidoc.value == 'tei:pc' && text == '.'){\n                          obj['start'] = relative_start;\n                          obj['end'] = relative_end;\n                          obj['transformed'] = ''\n\n                          edit_dict.push(obj)\n                        }\n                      });\n\n\n\n                      console.log(edit_dict, text);\n                      if(edit_dict.length > 0){\n                        let tmp_string = '';\n                        let current_offset = 0;\n                        edit_dict.forEach(element =>{\n                          if(element.transformed == '\\n'){\n                            if(element.start == current_offset){\n                              tmp_string += '\\n';\n                              if(edit_dict.indexOf(element)== edit_dict.length-1 && current_offset < text.length){\n                                tmp_string += text.substring(current_offset, text.length);\n                              }\n                            }else if(element.end == text.length){\n                              if(edit_dict.indexOf(element)== edit_dict.length-1 && current_offset < text.length){\n                                tmp_string += text.substring(current_offset, text.length);\n                              }\n                              tmp_string += '\\n';\n                            }\n                            \n                            //console.log(edit_dict.indexOf(element), edit_dict.length)\n                          }else{\n                            if(element.start == current_offset){\n                              tmp_string += element.transformed;;\n                              current_offset = element.end;\n                              //console.log(edit_dict.indexOf(element), edit_dict.length-1)\n\n                              if(edit_dict.indexOf(element)== edit_dict.length-1 && current_offset < text.length){\n                                tmp_string += text.substring(current_offset, text.length);\n                              }\n                            }else if(current_offset != element.start){\n                              tmp_string += text.substring(current_offset, element.start) + element.transformed;\n                              current_offset = element.end;\n\n                              //console.log(edit_dict.indexOf(element)== edit_dict.length-1, element.transformed, current_offset, text.length)\n                              \n                              if(edit_dict.indexOf(element)== edit_dict.length-1 && current_offset < text.length){\n                                tmp_string += text.substring(current_offset, text.length);\n                              }\n                            }\n                          }\n                        });\n                        console.log(tmp_string);\n                        leiden_string += tmp_string;\n                      }else{\n                        leiden_string += text;\n                      }\n                      \n\n                    }\n                  )\n\n                  console.log(leiden_string)\n                  \n\n                }, 100); */\n                \n              }else{\n                this.annotationArray = [];\n                this.epidoc_annotation_array = [];\n                this.lexicalService.triggerAttestationPanel(null);\n                this.lexicalService.sendToAttestationPanel(null);\n              }\n              \n            },error=>{\n              console.log(error)\n            }\n          )\n        }\n      }else{\n        this.object = null;\n      }\n      \n\n\n    }, 10)\n\n  }\n\n  ngOnDestroy(){\n    \n  }\n\n\n\n  createToken(token?) {\n    if (token != undefined) {\n      return this.formBuilder.group({\n        entity: new FormControl(token)\n      })\n    } else {\n      return this.formBuilder.group({\n        entity: new FormControl('')\n      })\n    }\n  }\n\n  enterCell(evt, i) {\n    //console.log(\"enter cell \" + i);\n    //console.log(evt);\n    if(evt.target.innerText != '.' && evt.target.innerText != ':' && evt.target.innerText != ''){\n      let parentNode = evt.target.parentElement\n      if (parentNode != undefined) {\n        let classNames = parentNode.className;\n        let matchTest = /(^|\\s)(multiword-span-\\d)(\\s|$)/.test(classNames)\n        if (matchTest) {\n          \n        } else {\n          this.object[i]['selected'] = true;\n          \n          if (window.getSelection) {\n            if (window.getSelection().empty) {  // Chrome\n              window.getSelection().empty();\n            } else if (window.getSelection().removeAllRanges) {  // Firefox\n              window.getSelection().removeAllRanges();\n            }\n          }\n        }\n      }\n    }\n    \n\n\n\n  }\n\n  leavingCell(evt, i) {\n    //console.log(\"leaving cell \" + i);\n    this.object[i]['selected'] = false;\n\n  }\n\n  deleteSelection(popover, evt, i) {\n    setTimeout(() => {\n\n    }, 10);\n    let popoverHtml = popover._elementRef.nativeElement;\n    //console.log(popoverHtml.querySelectorAll('.annotation'))\n    if (popoverHtml.querySelectorAll('.annotation').length > 0) {\n\n    } else {\n      popoverHtml.textContent = popoverHtml.textContent.trim();\n    }\n    /* if(popoverHtml.querySelectorAll('.mark').length > 0){\n      let innerText = popoverHtml.innerText;\n      const childElements = popoverHtml.children;\n      for (let child of childElements) {\n        console.log(child)\n        this.renderer.removeChild(popoverHtml, child);\n      }\n      console.log(innerText)\n      popoverHtml.innerText = innerText\n    }else if(popoverHtml.querySelectorAll('.mark').length == 0){\n      \n    } */\n\n  }\n\n  triggerBind(popover, evt, i) {\n    if (!this.multiWordMode) {\n      if(evt.target.innerText != '.' && evt.target.innerText != ':' && evt.target.innerText != ''){\n        this.bind_subject.next({ popover, evt, i })\n      }\n      \n    } else {\n      //console.log(\"multiword mode\", i)\n      console.log(popover);\n      this.multiWordCreator(popover, evt, i);\n    }\n  }\n\n\n  multiWordCreator(popover, evt, i) {\n    let span = popover._elementRef.nativeElement.parentNode.parentNode.childNodes[i];\n    let prevSibling, nextSibling;\n    prevSibling = popover._elementRef.nativeElement.parentNode.previousSibling;\n    nextSibling = popover._elementRef.nativeElement.parentNode.nextSibling;\n\n\n\n    if (span.classList.contains('multiword')) {\n      this.renderer.removeClass(span, 'multiword')\n      if (prevSibling != null) {\n        if (prevSibling.classList.contains('multiword')) {\n          this.renderer.removeClass(prevSibling, 'border-right-0')\n        }\n      }\n      if (nextSibling != null) {\n        if (nextSibling.classList != undefined) {\n          if (nextSibling.classList.contains('multiword')) {\n            this.renderer.removeClass(span, 'border-right-0')\n          }\n        }\n\n      }\n      let multiWordArray = Array.from(document.getElementsByClassName('multiword'));\n      multiWordArray.forEach(element => {\n        let children = Array.from(element.children);\n        children.forEach(subchild => {\n          if (subchild.classList.contains('multiword-button')) {\n            subchild.remove();\n          }\n        })\n      });\n\n      if (multiWordArray.length > 1) {\n        console.log(multiWordArray[multiWordArray.length - 1])\n        this.createDynamicButtons(multiWordArray[multiWordArray.length - 1]);\n      }\n\n\n    } else {\n      this.renderer.addClass(span, 'multiword');\n      if (prevSibling != null) {\n        if (prevSibling.classList.contains('multiword')) {\n          this.renderer.addClass(prevSibling, 'border-right-0');\n        }\n      }\n      if (nextSibling != null) {\n        if (nextSibling.classList != undefined) {\n          if (nextSibling.classList.contains('multiword')) {\n            this.renderer.addClass(span, 'border-right-0')\n          }\n        }\n      }\n      let multiWordArray = Array.from(document.getElementsByClassName('multiword'));\n      multiWordArray.forEach(element => {\n        let children = Array.from(element.children);\n        children.forEach(subchild => {\n          if (subchild.classList.contains('multiword-button')) {\n            subchild.remove();\n          }\n        })\n      });\n\n      if (multiWordArray.length > 1) {\n        this.createDynamicButtons(span);\n      } else if (multiWordArray.length == 1) {\n        multiWordArray.forEach(element => {\n          let children = Array.from(element.children);\n          children.forEach(subchild => {\n            if (subchild.classList.contains('multiword-button')) {\n              subchild.remove();\n            }\n          })\n        });\n      }\n    }\n\n  }\n\n  createDynamicButtons(span) {\n    let div = this.renderer.createElement('div');\n    this.renderer.addClass(div, 'multiword-button');\n    let okButton = this.renderer.createElement('button');\n    let leaveButton = this.renderer.createElement('button');\n\n    let okIcon = this.renderer.createElement('i');\n    this.renderer.addClass(okIcon, 'fas');\n    this.renderer.addClass(okIcon, 'fa-check');\n\n    let leaveIcon = this.renderer.createElement('i');\n    this.renderer.addClass(leaveIcon, 'fas');\n    this.renderer.addClass(leaveIcon, 'fa-times');\n\n    this.renderer.appendChild(okButton, okIcon);\n    this.renderer.appendChild(leaveButton, leaveIcon);\n    this.renderer.setStyle(okButton, 'position', 'absolute');\n    this.renderer.setStyle(okButton, 'top', '-1.5rem');\n    this.renderer.setStyle(okIcon, 'font-size', '10px');\n    this.renderer.setStyle(okIcon, 'width', '10px');\n\n    this.renderer.addClass(okButton, 'ok-button');\n    this.renderer.addClass(leaveButton, 'no-button')\n\n    this.renderer.setStyle(leaveButton, 'position', 'absolute');\n    this.renderer.setStyle(leaveButton, 'top', '-1.5rem');\n    this.renderer.setStyle(leaveIcon, 'font-size', '10px');\n    this.renderer.setStyle(leaveIcon, 'width', '10px');\n    this.renderer.setStyle(leaveButton, 'left', '1.5rem');\n\n    this.renderer.appendChild(div, okButton)\n    this.renderer.appendChild(div, leaveButton)\n    this.renderer.appendChild(span, div);\n  }\n\n  populateLocalAnnotation(tokenData){\n    this.token_annotationArray = [];\n    //console.log(anno)\n    this.annotationArray.forEach(\n      annotation => {\n        //console.log(annotation)\n        let start_token, end_token;\n        if(!this.isEmptyFile){\n          start_token = tokenData.begin;\n          end_token = tokenData.end;\n        }else{\n          start_token = tokenData.spans[0].start;\n          end_token = tokenData.spans[0].end;\n        }\n\n        annotation.spans.forEach(element => {\n          if( element.start >= start_token  &&  element.end <= end_token){\n            this.token_annotationArray.push(annotation);\n          }\n        });\n\n        \n      }\n    )\n    if(this.token_annotationArray.length > 0){\n      this.lexicalService.triggerAttestationPanel(true);\n      this.lexicalService.sendToAttestationPanel(this.token_annotationArray)\n    }\n  }\n\n  bindSelection(popover, evt, i) {\n\n    console.log(this.object[i])\n    this.token_annotationArray = [];\n    this.annotationArray.forEach(\n      annotation => {\n\n        let start_token = this.object[i].begin;\n        let end_token = this.object[i].end;\n\n        //console.log(annotation.spans)\n\n        if(annotation.spans.length == 1){\n          annotation.spans.forEach(element => {\n            if(element.start >= start_token && element.end <= end_token){\n              this.token_annotationArray.push(annotation);\n            }\n          });\n        }else{\n\n        }\n      }\n    )\n\n    if(this.token_annotationArray.length > 0){\n      this.lexicalService.triggerAttestationPanel(true)\n      this.lexicalService.sendToAttestationPanel(this.token_annotationArray);\n    }else{\n      this.lexicalService.triggerAttestationPanel(false)\n      this.lexicalService.sendToAttestationPanel(null);\n    }\n\n    //console.log(evt)\n    setTimeout(() => {\n      \n      this.message = '';\n      this.object[i]['editing'] = true;\n      this.message = window.getSelection().toString();\n      if (this.selectedPopover.htmlNodeName == '') {\n        this.selectedPopover.htmlNodeName = popover._ngbPopoverWindowId;\n        this.selectedPopover.tokenId = i;\n      }\n      else if (popover._ngbPopoverWindowId != this.selectedPopover) {\n        this.selectedPopover.htmlNodeName = popover._ngbPopoverWindowId\n        this.selectedPopover.tokenId = i\n        this.object.forEach(element => {\n          if (element.id != i + 1) {\n            //console.log(element)\n            element.editing = false;\n          } else {\n            //console.log(element)\n            element.editing = true;\n          }\n        });\n      }\n\n      if (popover.isOpen()) {\n\n      } else if (!popover.isOpen()) {\n        popover.open()\n      }\n\n      let popoverHtml = popover._elementRef.nativeElement;\n      let innerText = popoverHtml.innerText;\n      let selection = document.getSelection();\n      let anchorNode = selection.anchorNode;\n      let focusNode = selection.focusNode;\n      let isThereMark, areThereAnnotations;\n      //isThereMark = popoverHtml.querySelectorAll('.mark').length > 0;\n      //areThereAnnotations = popoverHtml.querySelectorAll('.annotation').length > 0;\n\n      if (anchorNode != null && focusNode != null) {\n        let anchorNodeParent = selection.anchorNode.parentNode;\n        let focusNodeParent = selection.focusNode.parentNode;\n\n        if (anchorNodeParent == focusNodeParent && this.message != '' ) { /* && !areThereAnnotations */\n          //SE SELEZIONO UNA PARTE DEL TOKEN\n        \n          if (selection.anchorNode.textContent.trim().length == innerText.length && this.message != innerText) { //!isThereMark && \n            \n            let anchorOffset = selection.anchorOffset;\n            let focusOffset = selection.focusOffset;\n\n\n            if (anchorOffset > focusOffset) {\n              let tmp = anchorOffset;\n              anchorOffset = focusOffset;\n              focusOffset = tmp;\n            }\n\n            //console.log(innerText.substring(anchorOffset, focusOffset))\n            console.log(anchorOffset)\n            console.log(focusOffset);\n\n            popoverHtml.innerText = \"\";\n\n            const span = this.renderer.createElement('span');\n            const l_text = this.renderer.createText(innerText.substring(0, anchorOffset))\n            const text = this.renderer.createText(this.message);\n            const r_text = this.renderer.createText(innerText.substring(focusOffset, innerText.length))\n\n\n            /* console.log(\"l_text:\", l_text)\n            console.log(\"text:\", text)\n            console.log(\"r_text:\", r_text) */\n\n\n            this.renderer.appendChild(span, text)\n            this.renderer.appendChild(popoverHtml, span);\n            this.renderer.addClass(span, 'mark'),\n            this.renderer.setAttribute(span, 'startoffset', anchorOffset.toString());\n            this.renderer.setAttribute(span, 'endoffset', focusOffset.toString())\n\n            if (l_text.textContent != \"\") {\n              this.renderer.insertBefore(popoverHtml, l_text, span);\n            }\n\n            if (r_text.textContent != \"\") {\n              this.renderer.appendChild(popoverHtml, r_text);\n            }\n            //console.log(popoverHtml.childNodes)\n            this.spanSelection = {}\n            this.spanSelection['start'] = this.object[i].begin + anchorOffset;\n            this.spanSelection['end'] = this.object[i].begin + focusOffset;\n            this.annotatorService.triggerSearch(this.message);\n          }else if(selection.anchorNode.textContent.trim().length == innerText.length && this.message == innerText){\n            this.message = '';\n            this.annotatorService.triggerSearch(innerText);\n          }\n        } \n        //SE SELEZIONO L'INTERO TOKEN\n        \n        else if(this.message == ''){\n          this.annotatorService.triggerSearch(innerText);\n          this.spanSelection = {}\n          this.spanSelection['start'] = 0;\n          this.spanSelection['end'] = 0;\n        }\n        /* else if (this.message != '' ) { //&& areThereAnnotations\n          let anchorOffset = selection.anchorOffset;\n          let focusOffset = selection.focusOffset;\n          let range = selection.getRangeAt(0)\n\n          var sel = getSelection(),\n            position = sel.anchorNode.compareDocumentPosition(sel.focusNode),\n            backward = false;\n          // position == 0 if nodes are the same\n          if (!position && sel.anchorOffset > sel.focusOffset || position === Node.DOCUMENT_POSITION_PRECEDING) {\n            backward = true;\n          }\n\n          console.log(backward)\n\n          let startContainer = range.startContainer;\n          let endContainer = range.endContainer;\n          let textStartContainer = range.startContainer.textContent;\n          let textEndContainer = range.endContainer.textContent;\n          let annotations = popoverHtml.querySelectorAll('.annotation')\n\n          //console.log(range.startContainer == range.endContainer)\n          if (range.startContainer == range.endContainer) {\n            if (anchorOffset > focusOffset) {\n              let tmp = anchorOffset;\n              anchorOffset = focusOffset;\n              focusOffset = tmp;\n            }\n            this.message = textStartContainer.substring(range.startOffset, range.endOffset);\n            const span = this.renderer.createElement('span');\n\n            const l_text = this.renderer.createText(textStartContainer.substring(0, range.startOffset))\n            const text = this.renderer.createText(this.message);\n            const r_text = this.renderer.createText(textStartContainer.substring(range.endOffset, textStartContainer.length))\n\n            //console.log(anchorOffset, focusOffset)\n            //console.log(\"l_text:\" , l_text)\n            //console.log(\"text:\" , text)\n            //console.log(\"r_text:\" , r_text)\n\n            //range.startContainer.textContent = '';\n\n\n            this.renderer.appendChild(span, text)\n            this.renderer.addClass(span, 'mark');\n\n            console.log(popoverHtml.childNodes)\n            let i = 0;\n            const getStartEnd = (str, sub) => [str.indexOf(sub), str.indexOf(sub) + sub.length - 1];\n            let generalStartEndOffset = getStartEnd(popoverHtml.textContent, this.message);\n            let children = Array.from(popoverHtml.childNodes).forEach(\n              x => {\n                if (range.startContainer == x) {\n                  range.startContainer.textContent = '';\n\n                  if (l_text.textContent != \"\") {\n                    this.renderer.insertBefore(popoverHtml, l_text, x)\n                  }\n\n\n\n                  this.renderer.setAttribute(span, 'startoffset', anchorOffset.toString());\n                  this.renderer.setAttribute(span, 'endoffset', focusOffset.toString())\n\n                  popoverHtml.insertBefore(span, popoverHtml.childNodes[i + 1]);\n\n                  if (r_text.textContent != \"\") {\n                    popoverHtml.insertBefore(r_text, popoverHtml.childNodes[i + 2]);\n                  }\n                  //@ts-ignore\n                  x.remove()\n                }\n\n                i++;\n              }\n            )\n          } else if (range.startContainer != range.endContainer) {\n            console.log(range)\n            console.log(startContainer);\n            console.log(endContainer)\n\n            if (backward) {\n              let tmp = anchorOffset;\n              anchorOffset = focusOffset;\n              focusOffset = tmp;\n            }\n\n            console.log(anchorOffset, focusOffset)\n\n            this.message = '';\n            let walker = function foo(element, that) {\n\n              let textElement = element.textContent\n              let nextSibling = element.nextSibling;\n              if (element == endContainer) {\n                console.log(\"end container\", endContainer)\n                that.message += textElement.substring(0, focusOffset)\n\n                const span = that.renderer.createElement('span');\n                const text = that.renderer.createText(textElement.substring(0, focusOffset));\n                const r_text = that.renderer.createText(textElement.substring(focusOffset, textElement.length))\n\n\n                that.renderer.appendChild(span, text)\n                that.renderer.addClass(span, 'mark_test');\n\n                let i = 0;\n                const getStartEnd = (str, sub) => [str.indexOf(sub), str.indexOf(sub) + sub.length - 1];\n                let generalStartEndOffset = getStartEnd(popoverHtml.textContent, that.message);\n                let children = Array.from(popoverHtml.childNodes).forEach(\n                  x => {\n                    console.log(i, x)\n                    if (element == x) {\n                      element.textContent = '';\n\n                      //that.renderer.setAttribute(span, 'startoffset', generalStartEndOffset[0]);\n                      //that.renderer.setAttribute(span, 'endoffset', generalStartEndOffset[1])\n\n                      popoverHtml.insertBefore(span, popoverHtml.childNodes[i + 1]);\n\n                      if (r_text.textContent != \"\") {\n                        popoverHtml.insertBefore(r_text, popoverHtml.childNodes[i + 2]);\n                      }\n\n                      //@ts-ignore\n                      x.remove();\n\n                    }\n\n                    i++;\n                  }\n                )\n                return;\n              } else {\n                console.log(\"current element\", element);\n\n\n                if (element == startContainer) {\n                  that.message = textElement.substring(anchorOffset, textElement.length);\n                  const span = that.renderer.createElement('span');\n                  const l_text = that.renderer.createText(textStartContainer.substring(0, anchorOffset))\n                  const text = that.renderer.createText(that.message);\n\n                  that.renderer.appendChild(span, text)\n                  that.renderer.addClass(span, 'mark_test');\n\n                  let i = 0;\n                  const getStartEnd = (str, sub) => [str.indexOf(sub), str.indexOf(sub) + sub.length - 1];\n                  let generalStartEndOffset = getStartEnd(popoverHtml.textContent, that.message);\n                  let children = Array.from(popoverHtml.childNodes).forEach(\n                    x => {\n                      if (element == x) {\n                        element.textContent = '';\n\n                        if (l_text.textContent != \"\") {\n                          that.renderer.insertBefore(popoverHtml, l_text, x)\n                        }\n\n                        //that.renderer.setAttribute(span, 'startoffset', generalStartEndOffset[0]);\n                        popoverHtml.insertBefore(span, popoverHtml.childNodes[i + 1]);\n                        //@ts-ignore\n                        x.remove();\n                      }\n\n                      i++;\n                    }\n                  )\n                }\n\n                if (element.classList == undefined && element != startContainer) {\n                  that.message += element.textContent;\n                  const span = that.renderer.createElement('span');\n                  const text = that.renderer.createText(element.textContent);\n\n                  that.renderer.appendChild(span, text)\n                  that.renderer.addClass(span, 'mark_test');\n\n                  let i = 0;\n                  const getStartEnd = (str, sub) => [str.indexOf(sub), str.indexOf(sub) + sub.length - 1];\n                  let generalStartEndOffset = getStartEnd(popoverHtml.textContent, that.message);\n                  let children = Array.from(popoverHtml.childNodes).forEach(\n                    x => {\n                      if (element == x) {\n                        element.textContent = '';\n                        //that.renderer.setAttribute(span, 'startoffset', generalStartEndOffset[0]);\n                        //that.renderer.setAttribute(span, 'endoffset', generalStartEndOffset[1])\n                        popoverHtml.insertBefore(span, popoverHtml.childNodes[i + 1]);\n                        //@ts-ignore\n                        x.remove();\n                      }\n\n                      i++;\n                    }\n                  )\n\n                }\n\n                 //if(element.classList != undefined){\n                   //if(element.classList.contains('annotation')){\n                     \n                   //}\n                // }\n\n                if (nextSibling != null) {\n                  foo(nextSibling, that)\n                }\n              }\n            }\n\n            walker(startContainer, this)\n          }\n\n\n        } */\n      }\n\n      \n\n\n      let parentNode = evt.target.parentElement;\n      let classNames = parentNode.className;\n\n      if(/(^|\\s)(multiword-span-\\d)(\\s|$)/.test(classNames)){\n        let multiwordSpan = Array.from(document.querySelectorAll(\"[class*=multiword-span-]\"));\n        let text = ''; \n        multiwordSpan.forEach(element => {\n          console.log(element)\n          text += element.textContent + ' ';\n        })\n        //this.annotatorService.triggerSearch(text);\n      }\n    }, 10);\n\n  }\n\n  triggerEmptySearch(){\n    this.annotatorService.triggerSearch('');\n  }\n\n  deleteAnnotation(annotation, index, token){\n    let anno_id = annotation.id;\n    let token_position = token.position;\n    this.annotatorService.deleteAnnotation(anno_id).subscribe(\n      data=> {\n        console.log(data);\n        /* let popover = document.getElementsByClassName('token-'+(token_position -1))[0]      \n        this.renderer.removeClass(popover, \"annotation_entire\");\n        this.renderer.removeClass(popover, \"unselectable\"); */\n\n        this.lexicalService.triggerAttestationPanel(false)\n      },\n      error => {\n        console.log(error)\n      }\n    )\n    this.token_annotationArray.splice(index, 1)\n    this.annotationArray.splice(index, 1);\n  }\n\n\n  showAllAnnotations(){\n    this.lexicalService.triggerAttestationPanel(true)\n    this.lexicalService.sendToAttestationPanel(this.annotationArray);\n  }\n\n  replaceBetween(origin, startIndex, endIndex, insertion) {\n    return origin.substring(0, startIndex) + insertion + origin.substring(endIndex);\n  }\n\n}\n\n","\n\n<div class=\"card\">\n    <div class=\"card-body\">\n        <div class=\"form-group row ml-2 mt-3 mr-2 showall\" *ngIf=\"annotationArray.length != 0\">\n            <button class=\"btn btn-light btn-lg\" (click)=\"showAllAnnotations()\" title=\"Show all annotations\"><i\n                    class=\"fas fa-eye\"></i></button>\n        </div>\n    \n        <div class=\"form-group row ml-2 mt-3 mr-2\" *ngIf=\"object != null && object.length != 0\">\n            <h6>Linker</h6>\n        \n        </div>\n        \n        <div class=\"form-group row ml-2 mt-3 mr-2 empty\" *ngIf=\"isEmptyFile\">\n            <h6 class=\"mr-2\">Add attestation</h6>\n        \n            <button #button_modal=\"ngbPopover\" type=\"button\" class=\"btn btn-outline-secondary token mb-2\"  container=\"body\"  popoverTitle=\"Pop title\" \n            [autoClose]=\"'outside'\" [ngbPopover]=\"tokenPopover\" [placement]=\"'bottom'\"  popoverClass=\"token_modal\" (click)=\"triggerEmptySearch()\">\n            <i class=\"fa fa-plus\"></i>\n            </button>\n        \n            <ng-template #tokenPopover>\n        \n                <div class=\"card\">\n                    <div class=\"card-header\">\n                        <p>Add a form:</p>\n                       \n                    </div>\n                    <div class=\"card-body\">\n                        <app-search-form [bind]=\"bind\" #search_form></app-search-form>\n                        \n                      \n                    </div>\n        \n                </div>\n        \n        \n            </ng-template>\n        \n        </div>\n        \n        \n        \n        <form [formGroup]=\"epigraphyForm\" *ngIf=\"object != null && object.length != 0\">\n        \n            <div class=\"form-group row ml-2 mt-3 mr-2 panel\">\n        \n                <div *ngFor=\"let token of object; let i = index\" class=\"panel-body\">\n                    <!-- {{multiWordMode && (token.text == '' || token.text == '.' || token.text == ':')}} -->\n                    <span #span_modal=\"ngbPopover\" \n                        [attr.position]=\"token.position\"\n                        [ngClass]=\"{'unselectable': !token.selected, 'selected' : token.selected, 'editing' : token.editing}\"\n                        class=\"token token-{{i}} p-2\" style=\"display: block\" container=\"body\" [triggers]=\"manual\"\n                        [placement]=\"'bottom'\" [popoverTitle]=\"token.value\" [animation]=\"false\" [autoClose]=\"'outside'\"\n                        [disablePopover]=\"multiWordMode || (token.text == '' || token.text == '.' || token.text == ':')\" [ngbPopover]=\"tokenPopover\" (mouseenter)=\"enterCell($event, i)\"\n                        (mouseleave)=\"leavingCell($event, i)\" popoverClass=\"token_modal\"\n                        (mousedown)=\"deleteSelection(span_modal, $event, i)\" (mouseup)=\"triggerBind(span_modal, $event, i);\">\n                        {{token.text}}\n                    </span>\n        \n        \n        \n        \n                    <!-- ################## POPOVER TEMPLATE ################# -->\n                    <ng-template #tokenPopover>\n                       \n        \n                        <div class=\"card\">\n                            <div class=\"card-header\">\n                                <p>Add a form:</p>\n                               \n                            </div>\n                            <div class=\"card-body\">\n                                <app-search-form [bind]=\"bind\" #search_form></app-search-form>\n                                \n        \n                            </div>\n        \n                        </div>\n        \n        \n                    </ng-template>\n                </div>\n        \n        \n            </div>\n        \n        \n        \n        </form>\n    </div>\n    \n</div>\n\n\n\n<div class=\"card mt-2\" *ngIf=\"leidenLines.length != 0\">\n    <div class=\"card-body\">\n        <div class=\"form-group row ml-2 mt-3 mr-2\" *ngIf=\"object != null && object.length != 0\">\n            <h6>Inscription</h6>\n        </div>\n        \n        <div class=\"form-group row ml-2 mt-3 mr-2 leiden_raw p-2\" *ngIf=\"object != null && object.length != 0\" style=\"font-family: 'NewAthena';\">\n            <ol class=\"pl-3\">\n                <li *ngFor=\"let line of leidenLines; let i = index\">\n                    {{line}}\n                </li>\n            </ol>\n        </div>\n    </div>\n</div>\n\n\n<div class=\"card mt-2\" *ngIf=\"translation_array.length != 0\">\n    <div class=\"card-body\">\n        <div class=\"form-group row ml-2 mt-3 mr-2\" *ngIf=\"object != null && object.length != 0\">\n            <h6>Translation</h6>\n        </div>\n        \n        <div class=\"form-group row ml-2 mt-3 mr-2 leiden_raw p-2\" *ngIf=\"object != null && object.length != 0\">\n            <div class=\"row align-items-baseline\">\n                <div class=\"col-6 border-right\">\n                   {{translation_array[0]}}\n                </div>\n                <div class=\"col-6\">\n                    {{translation_array[1]}}\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n\n<!-- <div class=\"form-group row ml-2 mt-3 mr-2 panel\" *ngIf=\"object != null && object.length != 0\">\n\n    <span class=\"token overflow-auto p-2\">{{textEpigraphy}}</span>\n</div> -->\n\n<!-- <div class=\"form-group row ml-2 mt-3 mr-2 panel\" *ngIf=\"object != null && object.length != 0\">\n    <h5>Leiden:</h5>\n</div> -->\n\n<!-- <div [innerHTML]=\"htmlLeiden\" class=\"form-group row ml-2 mt-3 mr-2 p-2 panel leiden_raw\">\n        \n</div> -->\n\n","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, ElementRef, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { DocumentSystemService } from 'src/app/services/document-system/document-system.service';\nimport { ExpanderService } from 'src/app/services/expander/expander.service';\n\n@Component({\n  selector: 'app-epigraphy-detail',\n  templateUrl: './epigraphy-detail.component.html',\n  styleUrls: ['./epigraphy-detail.component.scss']\n})\nexport class EpigraphyDetailComponent implements OnInit, OnDestroy {\n\n  @ViewChild('navTabsEpigraphy') navtabs: ElementRef; \n  @ViewChild('navContentEpigraphy') navcontent: ElementRef; \n\n  object : any;\n  subscription : Subscription;\n  constructor(private documentService: DocumentSystemService, private exp : ExpanderService) { }\n\n  ngOnInit(): void {\n    this.exp.openEpigraphy$.subscribe(\n      boolean => {\n        if(boolean){\n          setTimeout(() => {\n            var text_detail = document.querySelectorAll('#epigraphy-dettaglio');\n            text_detail.forEach(element => {\n              if(!element.classList.contains('show')){\n                element.classList.add('show')\n              }\n            })\n            let a_link = document.querySelectorAll('a[data-target=\"#epigraphy-dettaglio\"]');\n            a_link.forEach(element => {\n              if(element.classList.contains(\"collapsed\")){\n                element.classList.remove('collapsed')\n              }else{\n                //element.classList.add('collapsed')\n              }\n            })\n           }, 100);\n        }\n      }\n    )\n\n    this.subscription = this.documentService.epigraphyData$.subscribe(\n      object => {\n       /*  console.log(object) */\n        if(object != null){\n          setTimeout(() => {\n            var navTabLinks = this.navtabs.nativeElement.querySelectorAll('a')\n            this.object = object;\n            /* console.log(this.object) */\n            navTabLinks.forEach(element => {\n              /* //console.log(element) */\n              if(element.text == 'Epigraphy'){\n                element.classList.add('active')\n              }else{\n                element.classList.remove('active')\n                //console.log(element.id)\n              }\n            });\n\n            var navContent = this.navcontent.nativeElement.querySelectorAll('.tab-pane');\n            \n            navContent.forEach(element => {\n              \n              if(element.id == 'epigraphy'){\n                element.classList.add('active')\n                element.classList.add('show')\n              }else{\n                \n                element.classList.remove('active')\n                element.classList.remove('show')\n                //console.log(element)\n              }\n            });\n          }, 200);\n          \n        }else{\n          this.object = null;\n          setTimeout(() => {\n            var navTabLinks = this.navtabs.nativeElement.querySelectorAll('a')\n            this.object = object;\n            /* console.log(this.object) */\n            navTabLinks.forEach(element => {\n              /* //console.log(element) */\n              if(element.text == 'Epigraphy'){\n                element.classList.remove('active')\n              }\n            });\n\n            var navContent = this.navcontent.nativeElement.querySelectorAll('.tab-pane');\n            \n            navContent.forEach(element => {\n              \n              if(element.id == 'epigraphy'){\n                element.classList.remove('active')\n                element.classList.remove('show')\n              }\n            });\n          }, 200);\n        }\n      }\n    );\n  }\n\n  triggerExpansionEpigraphy(){\n\n\n    setTimeout(() => {\n      if(!this.exp.isEditTabOpen() && this.exp.isEpigraphyTabOpen()){\n        if(!this.exp.isEditTabExpanded() && this.exp.isEpigraphyTabExpanded()){\n          this.exp.openCollapseEpigraphy();\n          this.exp.expandCollapseEpigraphy();\n        }\n      }else if(!this.exp.isEditTabOpen() && !this.exp.isEpigraphyTabOpen()){\n        if(!this.exp.isEditTabExpanded() && !this.exp.isEpigraphyTabExpanded()){\n          this.exp.openCollapseEpigraphy();\n          this.exp.expandCollapseEpigraphy();\n        }\n      }else if(this.exp.isEditTabOpen() && this.exp.isEpigraphyTabOpen()){\n        this.exp.openCollapseEpigraphy();\n        this.exp.expandCollapseEdit(true);\n      }else if(this.exp.isEditTabOpen() && !this.exp.isEpigraphyTabOpen()){\n        if(this.exp.isEditTabExpanded() && !this.exp.isEpigraphyTabExpanded()){\n          this.exp.expandCollapseEdit(false);\n          this.exp.openCollapseEpigraphy(true)\n        }\n        \n      }\n    }, 200);\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n}\n","\n\n<!-- <div id=\"epigraphy-accordion\">\n--> <div class=\"card\">\n        <div class=\"card-header\" id=\"headingOne\" style=\"text-align: right;\">\n            <ul class=\"nav nav-tabs\" id=\"editDictTab\" #navTabsEpigraphy role=\"tablist\" [ngClass]=\"{'disabled': object === null}\">\n                <li class=\"nav-item\">\n                    <a class=\"nav-link\" id=\"epigraphy-tab\" data-toggle=\"tab\" href=\"#epigraphy\" role=\"tab\" aria-controls=\"epigraphy\" aria-selected=\"true\">Epigraphy</a>\n                </li>\n                \n                <h5 class=\"ml-auto mb-0\">\n                    <a class=\"btn btn-link w-100 d-flex align-self-center\" (click)=\"triggerExpansionEpigraphy();\" data-toggle=\"collapse\" data-target=\"#epigraphy-dettaglio\" aria-expanded=\"false\" aria-controls=\"epigraphy-dettaglio\">\n                        <i class=\"fa ml-auto\"></i>\n                    </a>\n                </h5>\n            </ul>\n            <!-- <h5 class=\"ml-auto mb-0\">\n                <a class=\"btn btn-link w-100 d-flex align-self-center\" (click)=\"triggerExpansionEpigraphy();\" data-toggle=\"collapse\" data-target=\"#epigraphy-dettaglio\" aria-expanded=\"true\" aria-controls=\"epigraphy-dettaglio\">\n                    <i class=\"fa ml-auto\"></i>\n                </a>\n            </h5> -->\n            \n        </div>\n        <div id=\"epigraphy-dettaglio\" class=\"collapse show\" aria-labelledby=\"headingOne\" > <!-- data-parent=\"#epigraphy-accordion\" -->\n            <div class=\"card-body\">\n                <div class=\"tab-content\" id=\"myTabContent\" #navContentEpigraphy>\n                    <!--  <div class=\"tab-pane fade show active\" id=\"epigraphy\" role=\"tabpanel\" aria-labelledby=\"epigraphy-tab\">\n                        <app-epigraphy-tab></app-epigraphy-tab>\n                    </div> -->\n                    <div class=\"tab-pane fade show active\" id=\"epigraphy\" role=\"tabpanel\" aria-labelledby=\"epigraphy-tab\">\n                        <app-epigraphy-tab></app-epigraphy-tab>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n<!-- </div> -->","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, ElementRef, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\nimport { ToastrService } from 'ngx-toastr';\nimport { DocumentSystemService } from 'src/app/services/document-system/document-system.service';\nimport { TreeNode } from '@circlon/angular-tree-component';\nimport { ExpanderService } from 'src/app/services/expander/expander.service';\nimport {saveAs as importedSaveAs} from \"file-saver\";\n\n\n@Component({\n  selector: 'app-document-system-tree',\n  templateUrl: './document-system-tree.component.html',\n  styleUrls: ['./document-system-tree.component.scss'],\n})\n\nexport class DocumentSystemTreeComponent implements OnInit {\n\n  switcher = false;\n  @ViewChild('lexTree') lexTree: any;\n  @ViewChild('textTree') textTree: any;\n  @ViewChild('conceptTree') conceptTree: any;\n  @ViewChild('skosTree') skosTree: any;\n  @ViewChild('accordion') accordion: ElementRef; \n\n\n\n  constructor(private exp: ExpanderService, private lexicalService: LexicalEntriesService, private toastr: ToastrService, private renderer: Renderer2, private documentService: DocumentSystemService) { }\n\n  ngOnInit(): void {\n    this.lexicalService.refreshAfterEdit$.subscribe(\n      data => {\n        this.refreshAfterEdit(data);\n      }\n    )\n\n\n    this.lexicalService.triggerLexicalEntryTree$.subscribe(\n      (data:any)=> {\n        setTimeout(() => {\n          if(data != null){\n            if(data.request){\n\n              this.updateTreeParent();\n              \n              let lex = {\n                request : 'form',\n                lexicalEntryInstanceName : data.data.lexicalEntryInstanceName,\n\n              }\n              \n              this.lexTree.parameters['text'] = data.data.lexicalEntryLabel;\n              this.lexTree.lexicalEntriesFilter(this.lexTree.parameters);\n              \n\n              setTimeout(() => {\n                this.lexicalService.addSubElementRequest({'lex' : lex, 'data' : data.data});\n\n              }, 500);\n\n              let a_link = this.accordion.nativeElement.querySelectorAll('button[data-target=\"#lexicalCollapse\"]');\n              let collapse_container = this.accordion.nativeElement.querySelectorAll('div[aria-labelledby=\"lexicalHeading\"]');\n              a_link.forEach(element => {\n                if(element.classList.contains(\"collapsed\")){\n                  element.classList.remove('collapsed')\n                }else{\n                  //element.classList.add('collapsed')\n                }\n              })\n  \n              collapse_container.forEach(element => {\n                if(element.classList.contains(\"show\")){\n                  //element.classList.remove('collapsed')\n                }else{\n                  element.classList.add('show')\n                }\n              })\n\n              let a_link_epigraphy = this.accordion.nativeElement.querySelectorAll('button[data-target=\"#epigraphyCollapse\"]');\n              let collapse_container_epigraphy = this.accordion.nativeElement.querySelectorAll('div[aria-labelledby=\"epigraphyHeading\"]');\n              a_link.forEach(element => {\n                if(!element.classList.contains(\"collapse\")){\n                  element.classList.add('collapsed')\n                }\n              })\n  \n              collapse_container_epigraphy.forEach(element => {\n                if(element.classList.contains(\"show\")){\n                  element.classList.remove('show')\n                }else{\n                  //element.classList.add('show')\n                }\n              })\n  \n              \n            }else{\n              setTimeout(() => {\n                let a_link = this.accordion.nativeElement.querySelectorAll('a[data-target=\"#lexicalCollapse\"]');\n                a_link.forEach(element => {\n                  element.classList.add('collapsed')\n                  \n                })\n  \n                let collapse_container = this.accordion.nativeElement.querySelectorAll('div[aria-labelledby=\"lexicalHeading\"]');\n                collapse_container.forEach(element => {\n                  console.log(element)\n                  if(element.classList.contains(\"show\")){\n                    element.classList.remove('show')\n                  }\n                })\n              }, 100);\n              \n            }\n          }\n        }, 100);\n      },error=> {\n        console.log(error)\n      }\n    )\n  }\n\n  updateTreeParent() {\n    this.lexTree.updateTreeView();\n  }\n\n  switchLabel() {\n    this.lexTree.labelView = !this.lexTree.labelView;\n    this.lexTree.idView = !this.lexTree.idView;\n    this.switcher = !this.switcher;\n  }\n\n  lexEdit(data) {\n\n    var that = this;\n\n    if (data['new_note'] != undefined) {\n\n      let instanceName = '';\n      if (data['lexicalEntryInstanceName'] != undefined) {\n        instanceName = data['lexicalEntryInstanceName']\n      } else if (data['formInstanceName'] != undefined) {\n        instanceName = data['formInstanceName']\n      } else if (data['senseInstanceName'] != undefined) {\n        instanceName = data['senseInstanceName']\n      } else if (data['etymologyInstanceName'] != undefined) {\n        instanceName = data['etymologyInstanceName']\n      };\n      setTimeout(() => {\n        this.lexTree.lexicalEntryTree.treeModel.getNodeBy(\n          function (x) {\n            if (data['lexicalEntryInstanceName'] != undefined) {\n              if (x.data.lexicalEntryInstanceName == instanceName) {\n\n                x.data.note = data['new_note']\n                that.lexTree.lexicalEntryTree.treeModel.update();\n                that.lexTree.updateTreeView();\n\n                //console.log(x)\n                //@ts-ignore\n                $('.note_' + x.data.id).attr('data-original-title', data['new_note']);\n\n                data['new_note'] = undefined;\n                return true;\n              } else {\n                return false;\n              }\n            } else if (data['formInstanceName'] != undefined) {\n\n              if (x.data.formInstanceName == instanceName) {\n                x.data.note = data['new_note']\n                that.lexTree.lexicalEntryTree.treeModel.update();\n                that.lexTree.updateTreeView();\n                data['new_note'] = undefined;\n                return true;\n              } else {\n                return false;\n              }\n            } else if (data['senseInstanceName'] != undefined) {\n\n              if (x.data.senseInstanceName == instanceName) {\n                x.data.note = data['new_note']\n                that.lexTree.lexicalEntryTree.treeModel.update();\n                that.lexTree.updateTreeView();\n                data['new_note'] = undefined;\n                return true;\n              } else {\n                return false;\n              }\n            }\n            else if (data['etymologyInstanceName'] != undefined) {\n\n              if (x.data.etymologyInstanceName == instanceName) {\n                x.data.note = data['new_note']\n                that.lexTree.lexicalEntryTree.treeModel.update();\n                that.lexTree.updateTreeView();\n                data['new_note'] = undefined;\n                return true;\n              } else {\n                return false;\n              }\n            }\n            else {\n              return false;\n            }\n          }\n        );\n      }, 500);\n    } else if (data['new_label'] != undefined) {\n      //console.log(\"cambio label cambio tutto\")\n      //console.log(data)\n      let instanceName = '';\n      if (data['lexicalEntryInstanceName'] != undefined) {\n        instanceName = data['lexicalEntryInstanceName']\n      } else if (data['formInstanceName'] != undefined) {\n        instanceName = data['formInstanceName']\n      } else if (data['senseInstanceName'] != undefined) {\n        instanceName = data['senseInstanceName']\n      } else if (data['etymologyInstanceName'] != undefined) {\n        instanceName = data['etymologyInstanceName']\n      };;\n      setTimeout(() => {\n        this.lexTree.lexicalEntryTree.treeModel.getNodeBy(\n          function (x) {\n            if (data['lexicalEntryInstanceName'] != undefined) {\n              if (x.data.lexicalEntryInstanceName == instanceName) {\n                x.data.label = data['new_label']\n                //x.setActiveAndVisible()\n                x.scrollIntoView();\n                data['new_label'] = undefined\n                return true;\n              } else {\n                return false;\n              }\n            } else if (data['formInstanceName'] != undefined) {\n\n              if (x.data.formInstanceName == instanceName) {\n                x.data.label = data['new_label']\n                //x.setActiveAndVisible()\n                x.scrollIntoView();\n                data['new_label'] = undefined\n                return true;\n              } else {\n                return false;\n              }\n            } else if (data['senseInstanceName'] != undefined) {\n\n              if (x.data.senseInstanceName == instanceName) {\n                x.data.label = data['new_label']\n                //x.setActiveAndVisible()\n                x.scrollIntoView();\n                data['new_label'] = undefined\n                return true;\n              } else {\n                return false;\n              }\n            } else if (data['etymologyInstanceName'] != undefined) {\n\n              if (x.data.etymologyInstanceName == instanceName) {\n                x.data.label = data['new_label']\n                //x.setActiveAndVisible()\n                x.scrollIntoView();\n                data['new_label'] = undefined\n                return true;\n              } else {\n                return false;\n              }\n            }\n            else {\n              return false;\n            }\n          }\n        );\n      }, 500);\n    } else if (data['new_type'] != undefined) {\n      //console.log(\"cambio type cambio tutto\")\n      let instanceName = '';\n      if (data['lexicalEntryInstanceName'] != undefined) {\n        instanceName = data['lexicalEntryInstanceName']\n      } else if (data['formInstanceName'] != undefined) {\n        instanceName = data['formInstanceName']\n      } else if (data['senseInstanceName'] != undefined) {\n        instanceName = data['senseInstanceName']\n      };\n      setTimeout(() => {\n        this.lexTree.lexicalEntryTree.treeModel.getNodeBy(\n          function (x) {\n            if (data['lexicalEntryInstanceName'] != undefined) {\n              if (x.data.lexicalEntryInstanceName == instanceName) {\n                x.data.type = data['new_type']\n                //x.setActiveAndVisible()\n                x.scrollIntoView();\n                data['new_type'] = undefined\n                return true;\n\n              } else {\n                return false;\n              }\n            } else if (data['formInstanceName'] != undefined) {\n\n              if (x.data.formInstanceName == instanceName) {\n                x.data.type = data['new_type']\n                //x.setActiveAndVisible()\n                x.scrollIntoView();\n                data['new_type'] = undefined\n                return true;\n              } else {\n                return false;\n              }\n            } else if (data['senseInstanceName'] != undefined) {\n\n              if (x.data.senseInstanceName == instanceName) {\n                x.data.type = data['new_type']\n                //x.setActiveAndVisible()\n                x.scrollIntoView();\n                data['new_type'] = undefined\n                return true;\n              } else {\n                return false;\n              }\n            }\n            else {\n              return false;\n            }\n          }\n        );\n      }, 500);\n    } else if (data['new_lang'] != undefined) {\n      //console.log(\"cambio lang cambio tutto\")\n      let instanceName = '';\n      if (data['lexicalEntryInstanceName'] != undefined) {\n        instanceName = data['lexicalEntryInstanceName']\n      } else if (data['formInstanceName'] != undefined) {\n        instanceName = data['formInstanceName']\n      } else if (data['senseInstanceName'] != undefined) {\n        instanceName = data['senseInstanceName']\n      };\n      setTimeout(() => {\n        this.lexTree.lexicalEntryTree.treeModel.getNodeBy(\n          function (x) {\n            if (data['lexicalEntryInstanceName'] != undefined) {\n              if (x.data.lexicalEntryInstanceName == instanceName) {\n                x.data.language = data['new_lang']\n                //x.setActiveAndVisible()\n                x.scrollIntoView();\n                data['new_lang'] = undefined\n                return true;\n              } else {\n                return false;\n              }\n            } else if (data['formInstanceName'] != undefined) {\n\n              if (x.data.formInstanceName == instanceName) {\n                x.data.language = data['new_lang']\n                //x.setActiveAndVisible()\n                x.scrollIntoView();\n                data['new_lang'] = undefined\n                return true;\n              } else {\n                return false;\n              }\n            } else if (data['senseInstanceName'] != undefined) {\n\n              if (x.data.senseInstanceName == instanceName) {\n                x.data.language = data['new_lang']\n                //x.setActiveAndVisible()\n                x.scrollIntoView();\n                data['new_lang'] = undefined\n                return true;\n              } else {\n                return false;\n              }\n            }\n            else {\n              return false;\n            }\n          }\n        );\n      }, 500);\n    } else if (data['new_pos'] != undefined) {\n      //console.log(\"cambio pos cambio tutto\")\n      let instanceName = '';\n      if (data['lexicalEntryInstanceName'] != undefined) {\n        instanceName = data['lexicalEntryInstanceName']\n      } else if (data['formInstanceName'] != undefined) {\n        instanceName = data['formInstanceName']\n      } else if (data['senseInstanceName'] != undefined) {\n        instanceName = data['senseInstanceName']\n      };\n      setTimeout(() => {\n        this.lexTree.lexicalEntryTree.treeModel.getNodeBy(\n          function (x) {\n            if (data['lexicalEntryInstanceName'] != undefined) {\n              if (x.data.lexicalEntryInstanceName == instanceName) {\n                x.data.pos = data['new_pos']\n                //x.setActiveAndVisible()\n                x.scrollIntoView();\n                data['new_pos'] = undefined\n                return true;\n              } else {\n                return false;\n              }\n            } else if (data['formInstanceName'] != undefined) {\n\n              if (x.data.formInstanceName == instanceName) {\n                x.data.pos = data['new_pos']\n                //x.setActiveAndVisible()\n                x.scrollIntoView();\n                data['new_pos'] = undefined\n                return true;\n              } else {\n                return false;\n              }\n            } else if (data['senseInstanceName'] != undefined) {\n\n              if (x.data.senseInstanceName == instanceName) {\n                x.data.pos = data['new_pos']\n                //x.setActiveAndVisible()\n                x.scrollIntoView();\n                data['new_pos'] = undefined\n                return true;\n              } else {\n                return false;\n              }\n            }\n            else {\n              return false;\n            }\n          }\n        );\n      }, 500);\n    }\n\n  }\n\n  changeSenseDefinition(data) {\n    var that = this;\n    setTimeout(() => {\n      this.lexTree.lexicalEntryTree.treeModel.getNodeBy(\n        function (x) {\n          if (x.data.senseInstanceName != undefined) {\n            if (x.data.senseInstanceName == data['senseInstanceName']) {\n              if(data['new_definition'] == ''){\n                x.data.label = 'no definition';\n              }else{\n                x.data.label = data['new_definition'];\n\n              }\n              that.lexTree.lexicalEntryTree.treeModel.update();\n              that.lexTree.updateTreeView();\n              return true;\n            } else {\n              return false;\n            }\n\n          } else {\n            return false;\n          }\n        }\n      );\n    }, 500);\n  }\n\n  changeFormLabel(data) {\n    var that = this;\n    setTimeout(() => {\n      this.lexTree.lexicalEntryTree.treeModel.getNodeBy(\n        function (x) {\n          if (x.data.formInstanceName != undefined) {\n            if (x.data.formInstanceName == data['formInstanceName']) {\n              x.data.label = data['new_label'];\n              that.lexTree.lexicalEntryTree.treeModel.update();\n              that.lexTree.updateTreeView();\n              return true;\n            } else {\n              return false;\n            }\n\n          } else {\n            return false;\n          }\n        }\n      );\n    }, 500);\n  }\n\n\n\n  changeFormType(data) {\n    var that = this;\n    //console.log(\"prova\")\n    setTimeout(() => {\n      this.lexTree.lexicalEntryTree.treeModel.getNodeBy(\n        function (x) {\n          if (x.data.formInstanceName != undefined) {\n            if (x.data.formInstanceName == data['formInstanceName']) {\n              x.data.type = data['new_type'];\n              //console.log(x.data.note)\n              that.lexTree.lexicalEntryTree.treeModel.update();\n              that.lexTree.updateTreeView();\n              return true;\n            } else {\n              return false;\n            }\n\n          } else {\n            return false;\n          }\n        }\n      );\n    }, 500);\n  }\n\n  refreshAfterEdit(data) {\n    // 0 -> lexEdit: quando creo una nuova lexical entry\n    // 3 -> quando devo cambiare solo la label di una forma\n    // 5 -> quando devo cambiare il tipo di una forma\n    // 6 -> quando devo cambiare definizione a un senso\n    if (data != null) {\n      setTimeout(() => {\n        switch (data['request']) {\n          case 0: this.lexEdit(data); break;\n          case 3: this.changeFormLabel(data); break;\n          case 5: this.changeFormType(data); break;\n          case 6: this.changeSenseDefinition(data); break;\n        }\n      }, 100);\n    }\n\n\n  }\n\n  triggerLoad() {\n    this.lexicalService.refreshLangTable();\n  }\n\n  newLexicalEntry() {\n\n    this.lexicalService.newLexicalEntry().subscribe(\n      data => {\n        console.log(data);\n\n        this.toastr.success(data['lexicalEntryInstanceName'] + ' added correctly', '', {\n          timeOut: 5000,\n        });\n\n        setTimeout(() => {\n          let newLexEntryLabel = data['label'];\n          let parameters = this.lexTree.getParameters();\n          parameters['text'] = newLexEntryLabel /* + \"~0.5\"; */\n          this.lexTree.lexicalEntriesFilter(parameters);\n          this.lexTree.lexicalEntryTree.treeModel.update();\n          this.lexTree.updateTreeView();\n\n          setTimeout(() => {\n            this.lexTree.lexicalEntryTree.treeModel.getNodeBy(\n              function (x) {\n                if (x.data.lexicalEntryInstanceName == data['lexicalEntryInstanceName']) {\n                  x.setActiveAndVisible()\n                  return true;\n                } else {\n                  return false;\n                }\n              }\n            );\n          }, 500);\n        }, 200);\n      },\n      error => {\n        console.log(error);\n        this.toastr.error(error.error, 'Error', {\n          timeOut: 5000,\n        });\n      }\n    )\n  }\n\n  createNewFile(){\n    let element_id = 0;\n    let parameters = {\n      requestUUID : \"string\",\n      \"user-id\" : 0,\n      \"element-id\" : element_id,\n      filename : \"new_file\"+Math.floor(Math.random() * (99999 - 10) + 10)\n    }\n\n    this.documentService.createFile(parameters).subscribe(\n      data =>{\n        console.log(data)\n        this.textTree.treeText.treeModel.nodes.push(data.node);\n        this.textTree.counter = this.textTree.treeText.treeModel.nodes.length\n        this.textTree.treeText.treeModel.update();\n        this.toastr.info('New file added', '', {\n          timeOut: 5000,\n        });\n        this.textTree.treeText.treeModel.getNodeById(data.node.id).setActiveAndVisible();\n      },error=> {\n        console.log(error)\n      }\n    )\n  }\n\n\n  addNewFile(evt?) {\n    let element_id = 0;\n    console.log(evt.target.files)\n    let parameters, file_name;\n\n    if (evt.target.files != undefined) {\n      if (evt.target.files.length == 1) {\n        file_name = evt.target.files[0].name;\n        parameters = {\n          \"requestUUID\": \"string\",\n          \"user-id\": 0,\n          \"element-id\": element_id,\n          \"file-name\": file_name\n        }\n        const formData = new FormData();\n        formData.append('file', evt.target.files[0]);\n\n        this.documentService.uploadFile(formData, element_id, 11).subscribe(\n          data => {\n            console.log(data)\n\n            this.toastr.info('New file added', '', {\n              timeOut: 5000,\n            });\n            setTimeout(() => {\n\n              this.textTree.treeText.treeModel.nodes.push(data.node);\n              this.textTree.counter = this.textTree.treeText.treeModel.nodes.length\n              //console.log(this.textTree.treeText.treeModel.nodes.length)\n              //this.textTree.treeText.treeModel.updateTreeView();\n              this.textTree.treeText.treeModel.update();\n              this.textTree.treeText.treeModel.getNodeById(data.node.id).setActiveAndVisible();\n\n            }, 500);\n\n\n          }, error => {\n            console.log(error);\n            this.toastr.error('Error when adding new file', '', {\n              timeOut: 5000,\n            });\n          }\n        )\n      } else {\n\n        let files_array = Array.from(evt.target.files);\n        files_array.forEach((element : any) => {\n\n          file_name = element.name;\n          parameters = {\n            \"requestUUID\": \"string\",\n            \"user-id\": 0,\n            \"element-id\": element_id,\n            \"file-name\": file_name\n          }\n\n          const formData = new FormData();\n          formData.append('file', element);\n\n          this.documentService.uploadFile(formData, element_id, 11).subscribe(\n            data => {\n              console.log(data)\n\n              this.toastr.info('New file added', '', {\n                timeOut: 5000,\n              });\n              setTimeout(() => {\n\n                this.textTree.treeText.treeModel.nodes.push(data.node);\n                this.textTree.counter = this.textTree.treeText.treeModel.nodes.length\n                //console.log(this.textTree.treeText.treeModel.nodes.length)\n                //this.textTree.treeText.treeModel.updateTreeView();\n                this.textTree.treeText.treeModel.update();\n                this.textTree.treeText.treeModel.getNodeById(data.node.id).setActiveAndVisible();\n\n              }, 500);\n\n\n            }, error => {\n              console.log(error);\n              this.toastr.error('Error when adding new file', '', {\n                timeOut: 5000,\n              });\n            }\n          )\n        });\n      }\n    }\n\n    console.log(evt);\n  }\n\n  addNewFolder() {\n\n    let element_id = 0;\n    let parameters = {\n      \"requestUUID\": \"string\",\n      \"user-id\": 0,\n      \"element-id\": element_id\n    }\n\n\n    this.documentService.addFolder(parameters).subscribe(\n      data => {\n        console.log(data)\n        let id_new_node = 243;\n        /* let new_node = {\n          \"children\" : [],\n          \"element-id\" : id_new_node,\n          \"id\" : Math.floor(Math.random() * (99999 - 10) + 10),\n          \"metadata\" : {},\n          \"path\" : \"\",\n          \"name\" : \"new-folder_\"+ Math.floor(Math.random() * (99999 - 10) + 10),\n          \"type\" : \"directory\"\n        } */\n        if (data.node != undefined) {\n          this.toastr.info('New folder added', '', {\n            timeOut: 5000,\n          });\n          this.textTree.nodes.push(data.node);\n          this.textTree.updateTreeView();\n          this.textTree.treeText.treeModel.update();\n        }\n\n      }, error => {\n        console.log(error);\n        this.toastr.error('Error when creating new folder', '', {\n          timeOut: 5000,\n        });\n      }\n    )\n\n  }\n\n  exportLexicon(){\n    let parameters = {\n      \"fileName\": \"export\",\n      \"format\": \"turtle\",\n      \"inferred\": false\n    }\n\n    this.lexicalService.exportLexicon(parameters).subscribe(\n      data=> {\n        console.log(data);\n        var blob = new Blob([data], { type: 'text/turtle' });\n        var url = window.URL.createObjectURL(blob);\n        importedSaveAs(blob,\"file_name.txt\");\n       // window.open(url); \n        \n      }, error=> {\n        console.log(error);\n        \n      }\n    )\n  }\n\n  /* downloadFile(data: any) {\n    const blob = new Blob([data], { type: 'text/turtle' });\n    const url= window.URL.createObjectURL(blob);\n    window.open(url);\n  } */\n}\n","\n\n<div id=\"tree-accordion\" #accordion>\n\n\n    <!-- EPIGRAFI -->\n    <div class=\"card\">\n        <div class=\"card-header\" id=\"epigraphyHeading\">\n            <h5 class=\"mb-0 d-flex justify-content-between align-items-center\">\n                <button class=\"btn btn-link collapsed\" data-toggle=\"collapse\" data-target=\"#epigraphyCollapse\" aria-expanded=\"false\"\n                    aria-controls=\"epigraphyCollapse\">\n                    <i class=\"fa\"></i> Text\n                </button>\n                <div class=\"icons-container dropdown\">\n                    <button class=\"btn btn-link\" type=\"button\" id=\"textTreeActionDropdown\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"><i class=\"fa fa-plus\"></i></button>\n                    <!-- <button class=\"btn btn-link\"><i class=\"fa fa-file-import\"></i></button>\n                    <button class=\"btn btn-link\"><i class=\"fa fa-download\"></i></button>\n                    <button class=\"btn btn-link\" title=\"Language\"><i class=\"fa fa-globe-americas\"></i></button> -->\n                    <div class=\"dropdown-menu\" aria-labelledby=\"textTreeActionDropdown\">\n                        <a class=\"dropdown-item\" (click)=\"addFile.click()\" style=\"cursor: pointer;\">Add new file</a>\n                        <input #addFile type=\"file\" accept=\".xml\" hidden (change)=\"addNewFile($event)\" multiple>\n                        <a class=\"dropdown-item\" (click)=\"addNewFolder()\" style=\"cursor: pointer;\">Add new folder</a>\n                        <div class=\"dropdown-divider\"></div>\n                        <a class=\"dropdown-item\" (click)=\"createNewFile()\" style=\"cursor: pointer;\">Create empty file</a>\n                      </div>\n                </div>\n               \n            </h5>\n        </div>\n        <div id=\"epigraphyCollapse\" class=\"collapse\" aria-labelledby=\"epigraphyHeading\" data-parent=\"#tree-accordion\">\n            <div class=\"card-body\">\n                <app-text-tree #textTree></app-text-tree>\n            </div>\n        </div>\n    </div>\n\n    <!-- LEXICAL ENTRIES -->\n    <div class=\"card\">\n        <div class=\"card-header\" id=\"lexicalHeading\">\n            <h5 class=\"mb-0 d-flex flex-wrap justify-content-between align-items-center\">\n                <button class=\"btn btn-link\" data-toggle=\"collapse\" data-target=\"#lexicalCollapse\"\n                    aria-expanded=\"true\" aria-controls=\"lexicalCollapse\" (click)=\"updateTreeParent()\">\n                    <i class=\"fa\"></i> Lessico\n                </button>\n                <div class=\"icons-container\">\n                    <button\n                        [ngStyle]=\"switcher ? {'background-color': '#007bff', 'color': 'rgb(247 247 247)'} : {'background-color': 'transparent', 'color': '#007bff'}\"\n                        class=\"btn btn-link\" title=\"Switch to label view\"\n                        (click)=\"switchLabel(); updateTreeParent();\"><i class=\"fas fa-tag\"></i></button>\n                    <button class=\"btn btn-link\" title=\"Add new lexical entry\" (click)=\"newLexicalEntry()\"><i\n                            class=\"fa fa-plus\"></i></button>\n                    <button class=\"btn btn-link\" title=\"Export\" (click)=\"exportLexicon();\"><i class=\"fa fa-file-import\"></i></button>\n                    <!-- <button class=\"btn btn-link\" title=\"Download\"><i class=\"fa fa-download\"></i></button> -->\n                    <button class=\"btn btn-link\" title=\"Edit Languages\" (click)=\"selectLanguageModal.show(); triggerLoad();\"><i\n                            class=\"fas fa-flag-usa\"></i></button>\n\n                    <app-modal #selectLanguageModal class=\"languages_modal\">\n                        <ng-container class=\"app-modal-header\">Language Manager</ng-container>\n                        <ng-container class=\"app-modal-body\">\n\n                            <app-language-manager></app-language-manager>\n\n                        </ng-container>\n                    </app-modal>\n                </div>\n            </h5>\n        </div>\n        <div id=\"lexicalCollapse\" class=\"collapse show\" aria-labelledby=\"lexicalHeading\" data-parent=\"#tree-accordion\">\n            <div class=\"card-body\">\n                <app-lexical-entry-tree #lexTree></app-lexical-entry-tree>\n            </div>\n        </div>\n    </div>\n\n    <!-- ONTOLOGY -->\n    <div class=\"card\">\n        <div class=\"card-header\" id=\"headingFour\">\n            <h5 class=\"mb-0 d-flex flex-wrap justify-content-between align-items-center\">\n                <button class=\"btn btn-link collapsed\" data-toggle=\"collapse\" data-target=\"#ontologia\"\n                    aria-expanded=\"false\" aria-controls=\"ontologia\">\n                    <i class=\"fa\"></i> Ontology\n                </button>\n                <!-- <div class=\"icons-container\">\n                    <button class=\"btn btn-link\"><i class=\"fa fa-plus\"></i></button>\n                    <button class=\"btn btn-link\"><i class=\"fa fa-file-import\"></i></button>\n                    <button class=\"btn btn-link\"><i class=\"fa fa-download\"></i></button>\n                    <button class=\"btn btn-link\" title=\"Language\"><i class=\"fa fa-globe-americas\"></i></button>\n                </div> -->\n            </h5>\n        </div>\n        <div id=\"ontologia\" class=\"collapse\" aria-labelledby=\"headingFour\" data-parent=\"#tree-accordion\">\n            <div class=\"card-body\">\n                <app-concept-tree #conceptTree></app-concept-tree>\n            </div>\n        </div>\n    </div>\n\n    <!-- SKOS -->\n    <div class=\"card\">\n        <div class=\"card-header\" id=\"headingSkos\">\n            <h5 class=\"mb-0 d-flex flex-wrap justify-content-between align-items-center\">\n                <button class=\"btn btn-link collapsed\" data-toggle=\"collapse\" data-target=\"#skos\"\n                    aria-expanded=\"false\" aria-controls=\"skos\">\n                    <i class=\"fa\"></i> SKOS\n                </button>\n                <!-- <div class=\"icons-container\">\n                    <button class=\"btn btn-link\"><i class=\"fa fa-plus\"></i></button>\n                    <button class=\"btn btn-link\"><i class=\"fa fa-file-import\"></i></button>\n                    <button class=\"btn btn-link\"><i class=\"fa fa-download\"></i></button>\n                    <button class=\"btn btn-link\" title=\"Language\"><i class=\"fa fa-globe-americas\"></i></button>\n                </div> -->\n            </h5>\n        </div>\n        <div id=\"skos\" class=\"collapse\" aria-labelledby=\"headingSkos\" data-parent=\"#tree-accordion\">\n            <div class=\"card-body\">\n                <app-skos-tree #skosTree></app-skos-tree>\n            </div>\n        </div>\n    </div>\n</div>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, Input, OnInit, SimpleChanges } from '@angular/core';\nimport { FormArray, FormBuilder, FormControl, FormGroup } from '@angular/forms';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\nimport { ToastrService } from 'ngx-toastr';\nimport { BibliographyService } from 'src/app/services/bibliography-service/bibliography.service';\nimport { debounceTime } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\n\n\n@Component({\n  selector: 'app-bibliography-panel',\n  templateUrl: './bibliography-panel.component.html',\n  styleUrls: ['./bibliography-panel.component.scss']\n})\nexport class BibliographyPanelComponent implements OnInit {\n\n  @Input() biblioData: any[];\n  bibliographyData: any[];\n  object: any;\n  countElement = 0;\n  loadingSynchro = [];\n  bibliographyForm = new FormGroup({\n    bibliography: new FormArray([this.createBibliography()]),\n  })\n  biblioArray: FormArray;\n  memoryNote = [];\n  memoryTextualRef = [];\n\n  private subject: Subject<any> = new Subject();\n\n  constructor(private lexicalService: LexicalEntriesService, private biblioService: BibliographyService, private formBuilder: FormBuilder, private toastr: ToastrService) { }\n\n  ngOnInit(): void {\n    this.bibliographyForm = this.formBuilder.group({\n      bibliography: this.formBuilder.array([])\n    })\n\n    this.biblioService.addBiblioReq$.subscribe(\n      incomingBiblio => {\n        if (incomingBiblio != null) {\n\n          let id = incomingBiblio.id != undefined ? incomingBiblio.id : '';\n          let title = incomingBiblio.title != undefined ? incomingBiblio.title : '';\n          let author = incomingBiblio.author != undefined ? incomingBiblio.author : '';\n          let date = incomingBiblio.date != undefined ? incomingBiblio.date : '';\n          let note = incomingBiblio.note != undefined ? incomingBiblio.note : '';\n          let textualReference = incomingBiblio.textualReference != undefined ? incomingBiblio.textualReference : '';\n          this.bibliographyData.push(incomingBiblio)\n          this.addBibliographyElement(id, title, author, date, note, textualReference);\n          this.memoryNote.push(note)\n          this.memoryTextualRef.push(textualReference)\n          this.countElement++;\n        } else {\n          this.object = null;\n          this.bibliographyData = null;\n        }\n      }\n    )\n\n    this.subject.pipe(debounceTime(1000)).subscribe(\n      data => {\n        this.onChanges(data)\n      }\n    )\n  }\n\n\n  ngOnChanges(changes: SimpleChanges) {\n\n    if (changes.biblioData.currentValue != undefined) {\n      this.object = changes.biblioData.currentValue;\n      this.bibliographyData = [];\n      this.countElement = 0;\n      this.memoryNote = [];\n      this.memoryTextualRef = [];\n      this.biblioArray = this.bibliographyForm.get('bibliography') as FormArray;\n      this.biblioArray.clear();\n\n      if (this.object.lexicalEntryInstanceName != undefined) {\n        let lexId = this.object.lexicalEntryInstanceName;\n        this.lexicalService.getBibliographyData(lexId).subscribe(\n          data => {\n            console.log(data);\n            if (data != []) {\n              let count = 0;\n              data.forEach(element => {\n                this.bibliographyData.push(element);\n\n                this.addBibliographyElement(element.id, element.title, element.author, element.date, element.note, element.textualReference)\n                this.memoryNote[count] = element.note;\n                this.memoryTextualRef[count] = element.textualReference\n                count++;\n                this.countElement++;\n              });\n\n              /* this.bibliographyData['parentNodeLabel']= this.object['lexicalEntry'];\n              this.bibliographyData['lexicalEntryInstanceName']= this.object['lexicalEntryInstanceName']; */\n            }\n\n\n\n          }, error => {\n\n\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n\n          }\n        )\n\n      } else if (this.object.formInstanceName != undefined) {\n        let formId = this.object.formInstanceName;\n        this.lexicalService.getBibliographyData(formId).subscribe(\n          data => {\n            console.log(data);\n            let count = 0;\n            data.forEach(element => {\n              this.bibliographyData.push(element);\n\n              this.addBibliographyElement(element.id, element.title, element.author, element.date, element.note, element.textualReference)\n              this.memoryNote[count] = element.note;\n              this.memoryTextualRef[count] = element.textualReference\n              count++;\n              this.countElement++;\n            });\n\n            this.bibliographyData['parentNodeLabel'] = this.object['form'];\n            this.bibliographyData['formInstanceName'] = this.object['formInstanceName'];\n          }, error => {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n            console.log(error);\n\n          }\n        )\n\n      } else if (this.object.senseInstanceName != undefined) {\n        let senseId = this.object.senseInstanceName;\n        this.lexicalService.getBibliographyData(senseId).subscribe(\n          data => {\n            console.log(data);\n            let count = 0;\n            data.forEach(element => {\n              this.bibliographyData.push(element);\n\n              this.addBibliographyElement(element.id, element.title, element.author, element.date, element.note, element.textualReference)\n              this.memoryNote[count] = element.note;\n              this.memoryTextualRef[count] = element.textualReference\n              count++;\n              this.countElement++;\n            });\n\n            this.bibliographyData['parentNodeLabel'] = this.object['sense'];\n            this.bibliographyData['senseInstanceName'] = this.object['senseInstanceName'];\n          }, error => {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n            console.log(error);\n\n          }\n        )\n      } else if (this.object.etymologyInstanceName != undefined) {\n        let etymId = this.object.etymologyInstanceName;\n        this.lexicalService.getBibliographyData(etymId).subscribe(\n          data => {\n            console.log(data);\n            let count = 0;\n            data.forEach(element => {\n              this.bibliographyData.push(element);\n\n              this.addBibliographyElement(element.id, element.title, element.author, element.date, element.note, element.textualReference)\n              this.memoryNote[count] = element.note;\n              this.memoryTextualRef[count] = element.textualReference\n              count++;\n              this.countElement++;\n            });\n\n            this.bibliographyData['parentNodeLabel'] = this.object['etymology'];\n            this.bibliographyData['etymologyInstanceName'] = this.object['etymologyInstanceName'];\n          }, error => {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n            console.log(error);\n\n          }\n        )\n      }\n    } else {\n      this.countElement = 0;\n      this.bibliographyData = null;\n    }\n  }\n\n  debounceKeyup(evt, index, field) {\n    this.lexicalService.spinnerAction('on');\n    this.subject.next({ evt, index, field })\n  }\n\n\n  onChanges(data) {\n    let fieldType = '';\n    console.log(data)\n    if (data != undefined) {\n\n      let newValue = data.evt.target.value;\n      let currentValue;\n      let index = data?.index;\n\n      let oldValue = '';\n      fieldType = data['field']\n      if (fieldType == 'note') {\n        oldValue = this.memoryNote[index];\n      } else if (fieldType == 'label') {\n        oldValue = this.memoryTextualRef[index];\n      }\n\n      //this.biblioArray = this.bibliographyForm.get('bibliography') as FormArray;\n\n\n\n      let instanceName = this.bibliographyData[index].bibliographyInstanceName;\n\n\n      let parameters;\n\n      if (oldValue == '') {\n        parameters = {\n          type: \"bibliography\",\n          relation: fieldType,\n          value: newValue\n        }\n      } else {\n        parameters = {\n          type: \"bibliography\",\n          relation: fieldType,\n          value: newValue,\n          currentValue: oldValue\n        }\n      }\n\n\n\n      console.log(this.biblioArray.at(index))\n      console.log(parameters)\n\n      this.lexicalService.updateGenericRelation(instanceName, parameters).subscribe(\n        data => {\n          console.log(data);\n          this.lexicalService.spinnerAction('off');\n          this.lexicalService.updateCoreCard(this.object);\n          this.toastr.success('Bibliography item updated', '', {\n            timeOut: 5000,\n          });\n        }, error => {\n          console.log(error);\n          this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n          this.lexicalService.spinnerAction('off');\n          if (error.status == 200) {\n            this.toastr.success('Bibliography item updated', '', {\n              timeOut: 5000,\n            });\n          } else {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n          }\n\n        }\n      )\n\n\n      if (fieldType == 'note') {\n        this.memoryNote[index] = newValue;\n      } else if (fieldType == 'label') {\n        this.memoryTextualRef[index] = newValue;\n      }\n\n\n\n    }\n  }\n\n  removeItem(index) {\n    this.biblioArray = this.bibliographyForm.get('bibliography') as FormArray;\n    this.countElement--;\n\n    let instanceName = this.bibliographyData[index].bibliographyInstanceName;\n\n    this.lexicalService.removeBibliographyItem(instanceName).subscribe(\n      data => {\n        console.log(data)\n        this.lexicalService.updateCoreCard(this.object);\n        this.toastr.success('Element removed', '', {\n          timeOut: 5000,\n        });\n      }, error => {\n        //console.log(error)\n        this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n        this.toastr.error(error.error, 'Error', {\n          timeOut: 5000,\n        });\n      }\n    )\n\n\n    this.biblioArray.removeAt(index);\n    this.bibliographyData.splice(index, 1);\n    this.memoryNote.splice(index, 1)\n    this.memoryTextualRef.splice(index, 1)\n\n  }\n\n\n  addBibliographyElement(i?, t?, a?, d?, n?, l?) {\n    this.biblioArray = this.bibliographyForm.get('bibliography') as FormArray;\n    if (t == undefined) {\n      this.biblioArray.push(this.createBibliography());\n    } else {\n      this.biblioArray.push(this.createBibliography(i, t, a, d, n, l));\n    }\n  }\n\n  createBibliography(i?, t?, a?, d?, n?, l?) {\n    if (t == undefined) {\n      return this.formBuilder.group({\n        id: new FormControl(null),\n        title: new FormControl(null),\n        author: new FormControl(null),\n        date: new FormControl(null),\n        note: new FormControl(null),\n        textualReference: new FormControl(null)\n      })\n    } else {\n      return this.formBuilder.group({\n        id: new FormControl(i),\n        title: new FormControl(t),\n        author: new FormControl(a),\n        date: new FormControl(d),\n        note: new FormControl(n),\n        textualReference: new FormControl(l)\n      })\n    }\n  }\n\n  synchronizeBibliography(id, i) {\n    console.log(id)\n    this.loadingSynchro[i] = true;\n    let lexId = '';\n    if (this.object.lexicalEntryInstanceName != undefined\n      && this.object.senseInstanceName == undefined) {\n      console.log(1)\n      lexId = this.object.lexicalEntryInstanceName;\n    } else if (this.object.formInstanceName != undefined) {\n      lexId = this.object.formInstanceName;\n      console.log(2)\n    } else if (this.object.senseInstanceName != undefined) {\n      lexId = this.object.senseInstanceName;\n      console.log(3)\n    } else if (this.object.etymologyInstanceName != undefined) {\n      lexId = this.object.etymologyInstanceName;\n    }\n\n    this.lexicalService.synchronizeBibliographyItem(lexId, id).pipe(debounceTime(500)).subscribe(\n      data => {\n        console.log(data);\n        this.loadingSynchro[i] = false;\n      }, error => {\n        console.log(error);\n        if (error.status == 200) {\n          this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n          this.toastr.success('Item n' + id + ' synchronized', '')\n        }\n        this.loadingSynchro[i] = false;\n      }\n    );\n  }\n\n}\n","\n\n<div class=\"card\">\n    <div class=\"card-header\" id=\"bibliographyHeading\">\n        <h5 class=\"mb-0\">\n            <a class=\"btn btn-link w-100 d-flex align-self-center collapsed\" data-toggle=\"collapse\"\n                data-target=\"#bibliographyCollapse\" aria-expanded=\"true\" aria-controls=\"bibliographyCollapse\">\n                Bibliography Panel\n                <span *ngIf=\"countElement > 0\">&nbsp;({{countElement}})</span>\n                <i class=\"fa ml-auto\"></i>\n            </a>\n        </h5>\n    </div>\n    <div id=\"bibliographyCollapse\" class=\"collapse\" aria-labelledby=\"bibliographyHeading\">\n\n        <div class=\"card-body\">\n            <div id=\"accordion\">\n            <!----- FORM ----->\n            <form [formGroup]=\"bibliographyForm\" *ngIf=\"object!=null\"> <!--  -->\n                <div formArrayName=\"bibliography\">\n                    <div *ngFor=\"let biblio of bibliographyForm['controls'].bibliography['controls']; let i = index\">\n                        <div [formGroupName]=\"i\">\n                            <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                <div class=\"input-group col-xl-12 p-0\">\n                                    \n                                    <div class=\"card\">\n                                        <a class=\"biblioCollapse\" data-toggle=\"collapse\" [attr.data-target]=\"'#collapse-'+i\" aria-expanded=\"true\" [attr.aria-controls]=\"'#collapse-'+i\"><span class=\"text-id pointer\"><b>{{biblio.get(\"author\").value}} - {{biblio.get(\"date\").value}} ({{biblio.get(\"title\").value != undefined ? (biblio.get(\"title\").value | slice:0:10) +'...' : ''}})</b></span></a>\n                                        <span *ngIf=\"bibliographyData != undefined\" class=\"icons-container\">\n                                            <!-- {{bibliographyData[i]['url'] | json}} -->\n                                            <span><a target=\"_blank\" class=\"pointer text-primary\" (click)=\"synchronizeBibliography(biblio.get('id').value, i)\"><span class=\"synchro-icon\"><i class=\"fas fa-sync-alt\" *ngIf=\"!loadingSynchro[i]\"></i> <i class=\"fas fa-sync fa-spin\" *ngIf=\"loadingSynchro[i]\"></i></span></a></span>\n                                            <span ><a href=\"https://www.zotero.org/groups/2552746/prin_italia_antica/items/{{bibliographyData[i]['id']}}/library\" target=\"_blank\" class=\"pointer text-primary\"><span class=\"external-icon\"><i class=\"fas fa-external-link-alt\"></i></span></a></span>\n                                            <span><a *ngIf=\"bibliographyData[i]['url'] != ''\" [href]=\"bibliographyData[i]['url']\" target=\"_blank\" class=\"pointer text-primary\"><span class=\"download-icon\"><i class=\"fas fa-download\"></i></span></a></span>\n                                        </span>\n                                        \n                                        <a class=\"pointer\" (click)=\"removeItem(i)\"><span class=\"trash-icon\"><i class=\"fa fa-trash text-danger\"></i></span></a> \n                                        \n                                        <div [id]=\"'collapse-'+i\" class=\"collapse\" data-parent=\"#accordion\">\n                                            <div class=\"card-body\">\n                                                <div class=\"form-group row ml-2 mr-2 mb-0\">\n                                                    <label for=\"inputLabel\" class=\"col-lg-4 col-form-label\">Title:</label>\n                                                    <div class=\"input-group col-lg-8 pl-0\">\n                                                        <input id=\"title\" formControlName=\"title\" name=\"title\" type=\"text\" class=\"form-control\" placeholder=\"\" disabled>\n                                                    </div>\n                                                </div>           \n                                                <div class=\"form-group row ml-2 mr-2 mb-0\">\n                                                    <label for=\"inputLabel\" class=\"col-lg-4 col-form-label\">Author:</label>\n                                                    <div class=\"input-group col-lg-8 pl-0\">\n                                                        <input id=\"author\"  formControlName=\"author\" name=\"author\" type=\"text\" class=\"form-control\" placeholder=\"\" disabled>\n                                                    </div>\n                                                </div>   \n                                                <div class=\"form-group row ml-2 mr-2 mb-0\">\n                                                    <label for=\"inputLabel\" class=\"col-lg-4 col-form-label\">Date:</label>\n                                                    <div class=\"input-group col-lg-8 pl-0\">\n                                                        <input id=\"date\"  formControlName=\"date\" name=\"date\" type=\"text\" class=\"form-control\" placeholder=\"\" disabled>\n                                                    </div>\n                                                </div>\n                                                <div class=\"form-group row ml-2 mr-2\">\n                                                    <label for=\"inputLabel\" class=\"col-lg-4 col-form-label\">Note:</label>\n                                                    <div class=\"input-group col-lg-8 pl-0\">\n                                                        <!-- <input id=\"note\"  formControlName=\"note\" name=\"note\" type=\"text\" class=\"form-control\" placeholder=\"\"> -->\n                                                        <textarea (keyup)=\"debounceKeyup($event, i, 'note')\" formControlName=\"note\" name=\"note\" class=\"form-control\" style=\"resize: none;\"></textarea>\n                                                    </div>\n                                                </div>  \n                                                <div class=\"form-group row ml-2 mr-2\">\n                                                    <label for=\"inputLabel\" class=\"col-lg-4 col-form-label\">Page(s):</label>\n                                                    <div class=\"input-group col-lg-8 pl-0\">\n                                                        <!-- <input id=\"note\"  formControlName=\"note\" name=\"note\" type=\"text\" class=\"form-control\" placeholder=\"\"> -->\n                                                        <textarea (keyup)=\"debounceKeyup($event, i, 'label')\" formControlName=\"textualReference\" name=\"textualReference\" class=\"form-control\" style=\"resize: none;\"></textarea>\n                                                    </div>\n                                                </div>     \n                                            </div>\n                                        </div>                                            \n                                    </div>\n                                    \n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </form>\n            </div>\n           \n        </div>\n    </div>\n</div>","import { KeycloakService } from 'keycloak-angular';\nimport { environment } from '../../../environments/environment';\n \nexport function initializer(keycloak: KeycloakService): () => Promise<any> {\n    return (): Promise<void> => {\n        return new Promise(async (resolve, reject) => {\n          try {\n            await keycloak.init({\n                config: {\n                    url: environment.keycloak.issuer,\n                    realm: environment.keycloak.realm,\n                    clientId: environment.keycloak.clientId\n                },\n              loadUserProfileAtStartUp: false,\n              enableBearerInterceptor: true,\n              bearerPrefix: 'Bearer',\n              initOptions: {\n                onLoad: 'check-sso',\n                checkLoginIframe: true\n              },\n              bearerExcludedUrls: [\n                'api.zotero.org'\n              ]\n            });\n            resolve();\n          } catch (error) {\n            reject(error);\n          }\n        });\n      };\n}","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, HostListener, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { AngularEditorConfig } from '@kolkov/angular-editor';\nimport { ToastrService } from 'ngx-toastr';\nimport { Subject } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\n\n@Component({\n  selector: 'app-note-panel',\n  templateUrl: './note-panel.component.html',\n  styleUrls: ['./note-panel.component.scss']\n})\nexport class NotePanelComponent implements OnInit, OnChanges {\n\n  @Input() noteData: string;\n  object : any;\n  private subject : Subject<string> = new Subject();\n  \n  @HostListener('window:keyup', ['$event'])\n  keyEvent(event: KeyboardEvent) {\n    /* //console.log(event) */\n    event.preventDefault();\n    event.stopPropagation();\n    return;\n  }\n\n  htmlContent : '';\n  editorConfig: AngularEditorConfig = {\n    editable: true,\n    spellcheck: true,\n    height: 'auto',\n    minHeight: '0',\n    maxHeight: '150px',\n    width: 'auto',\n    minWidth: '0',\n    translate: 'yes',\n    enableToolbar: true,\n    showToolbar: true,\n    placeholder: 'Enter text here...',\n    defaultParagraphSeparator: '',\n    customClasses: [\n      {\n        name: 'quote',\n        class: 'quote',\n      },\n      {\n        name: 'redText',\n        class: 'redText'\n      },\n      {\n        name: 'titleText',\n        class: 'titleText',\n        tag: 'h1',\n      },\n    ],\n    uploadUrl: 'v1/image',\n    uploadWithCredentials: false,\n    sanitize: true,\n    toolbarPosition: 'top',\n    toolbarHiddenButtons: [\n      [\n        'undo',\n        'redo',\n        'strikeThrough',\n        'justifyLeft',\n        'justifyCenter',\n        'justifyRight',\n        'justifyFull',\n        'indent',\n        'outdent',\n        'insertUnorderedList',\n        'insertOrderedList',\n        'heading',\n        'fontName'\n      ],\n      [\n        'fontSize',\n        'textColor',\n        'backgroundColor',\n        'customClasses',\n        'link',\n        'unlink',\n        'insertImage',\n        'insertVideo',\n        'insertHorizontalRule',\n        'toggleEditorMode'\n      ]\n    ]\n  };\n  constructor(private lexicalService: LexicalEntriesService, private toastr: ToastrService) { }\n\n  ngOnInit(): void {\n    this.editorConfig.editable = false;\n\n\n    this.subject.pipe(debounceTime(1000)).subscribe(\n      newNote => {\n        if(this.noteData != null){\n          this.lexicalService.spinnerAction('on');\n          console.log(this.object)\n          //console.log(this.object)\n          if(this.object.lexicalEntryInstanceName != undefined){\n            var lexId = this.object.lexicalEntryInstanceName;\n            var parameters = {\n              relation : \"note\",\n              value : newNote\n            }\n            this.lexicalService.updateLexicalEntry(lexId, parameters).subscribe(\n              data => {\n                //console.log(data);\n                data['request'] = 0;\n                data['new_note'] = newNote;\n                this.lexicalService.refreshAfterEdit(data);\n                this.lexicalService.spinnerAction('off');\n                this.toastr.success('Note updated', '', {\n                  timeOut: 5000,\n                });\n              },\n              error => {\n                //console.log(error);\n                const data = this.object;\n                data['request'] = 0;\n                data['new_note'] = newNote;\n                this.lexicalService.refreshAfterEdit(data);\n                this.lexicalService.updateCoreCard({lastUpdate : error.error.text})\n                this.lexicalService.spinnerAction('off');\n                this.toastr.success('Note updated', '', {\n                  timeOut: 5000,\n                });\n              }\n            )\n          }else if(this.object.formInstanceName != undefined){\n            var formId = this.object.formInstanceName;\n            var parameters = {\n              relation : \"note\",\n              value : newNote\n            }\n            this.lexicalService.updateForm(formId, parameters).subscribe(\n              data => {\n                //console.log(data);\n                data['request'] = 0;\n                data['new_note'] = newNote;\n                this.lexicalService.refreshAfterEdit(data);\n                this.lexicalService.spinnerAction('off');\n                this.toastr.success('Note updated', '', {\n                  timeOut: 5000,\n                });\n              },\n              error => {\n                //console.log(error);\n                const data = this.object;\n                data['request'] = 0;\n                data['new_note'] = newNote;\n                this.lexicalService.refreshAfterEdit(data);\n                this.lexicalService.updateCoreCard({lastUpdate : error.error.text})\n                this.lexicalService.spinnerAction('off');\n                this.toastr.success('Note updated', '', {\n                  timeOut: 5000,\n                });\n              }\n            )\n          }else if(this.object.senseInstanceName != undefined){\n            var senseId = this.object.senseInstanceName;\n            var parameters = {\n              relation : \"note\",\n              value : newNote\n            }\n            this.lexicalService.updateSense(senseId, parameters).subscribe(\n              data => {\n                //console.log(data);\n                data['request'] = 0;\n                data['new_note'] = newNote;\n                this.lexicalService.refreshAfterEdit(data);\n                this.lexicalService.spinnerAction('off');\n                this.toastr.success('Note updated', '', {\n                  timeOut: 5000,\n                });\n              },\n              error => {\n                //console.log(error);\n                const data = this.object;\n                data['request'] = 0;\n                data['new_note'] = newNote;\n                this.lexicalService.refreshAfterEdit(data);\n                this.lexicalService.updateCoreCard({lastUpdate : error.error.text})\n                this.lexicalService.spinnerAction('off');\n                this.toastr.success('Note updated', '', {\n                  timeOut: 5000,\n                });\n              }\n            )\n          }else if(this.object.etymologyInstanceName != undefined){\n            var etymId = this.object.etymologyInstanceName;\n            var parameters = {\n              relation : \"note\",\n              value : newNote\n            }\n            this.lexicalService.updateEtymology(etymId, parameters).subscribe(\n              data => {\n                //console.log(data);\n                data['request'] = 0;\n                data['new_note'] = newNote;\n                this.lexicalService.refreshAfterEdit(data);\n                this.lexicalService.spinnerAction('off');\n                this.toastr.success('Note updated', '', {\n                  timeOut: 5000,\n                });\n              },\n              error => {\n                //console.log(error);\n                const data = this.object;\n                data['request'] = 0;\n                data['new_note'] = newNote;\n                this.lexicalService.refreshAfterEdit(data);\n                this.lexicalService.updateCoreCard({lastUpdate : error.error.text})\n                this.lexicalService.spinnerAction('off');\n                this.toastr.success('Note updated', '', {\n                  timeOut: 5000,\n                });\n              }\n            )\n          }\n        }\n      }\n    )\n\n    this.lexicalService.deleteReq$.subscribe(\n      data => {\n        this.editorConfig.editable = false;\n        this.noteData = null;\n        this.object = null;\n      }\n    )\n  }\n\n  ngOnChanges(changes: SimpleChanges) { \n    \n      if(changes.noteData.currentValue == null){\n        this.editorConfig.editable = false;\n        this.noteData = null;\n        this.object = null;\n      }else{\n        this.editorConfig.editable = true;\n        this.noteData = changes.noteData.currentValue.note;\n        this.object = changes.noteData.currentValue;\n      }\n      \n      /* //console.log(changes) */\n    \n  }\n\n  onChanges(evt){\n    if(evt.key != \"Control\" && evt.key != 'Alt' && evt.key != 'Shift'){\n      this.subject.next(this.noteData);\n    }\n    \n  }\n\n}\n","\n\n<div class=\"card\">\n    <div class=\"card-header\" id=\"noteHeading\">\n        <h5 class=\"mb-0\">\n            <a class=\"btn btn-link w-100 d-flex align-self-center collapsed\" data-toggle=\"collapse\" data-target=\"#noteCollapse\" aria-expanded=\"true\" aria-controls=\"noteCollapse\">\n                Note Panel<i class=\"fa ml-auto\"></i>\n            </a>\n        </h5>\n    </div>\n    <div id=\"noteCollapse\" class=\"collapse\" aria-labelledby=\"noteHeading\">\n        <div class=\"card-body\">\n           <angular-editor *ngIf=\"noteData != null\" [placeholder]=\"'Enter text here...'\" [(ngModel)]=\"noteData\" [config]=\"editorConfig\" (keyup)=\"onChanges($event)\" readonly></angular-editor>\n        </div>\n    </div>\n</div>\n","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\n\nimport { AuthService } from '../auth/auth.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LexicalEntriesService {\n\n  private arrayPanelFormsData = {};\n\n  private _coreFormData: BehaviorSubject<object> = new BehaviorSubject(null);\n  private _attestationPanelData: BehaviorSubject<object> = new BehaviorSubject(null);\n  /* private _vartransData: BehaviorSubject<object> = new BehaviorSubject(null); */\n  private _etymologyData: BehaviorSubject<object> = new BehaviorSubject(null);\n  private _rightPanelData: BehaviorSubject<object> = new BehaviorSubject(null);\n  private _deleteLexicalEntryReq: BehaviorSubject<any> = new BehaviorSubject(null);\n  private _addSubElementReq: BehaviorSubject<any> = new BehaviorSubject(null);\n  private _updateCoreCardReq: BehaviorSubject<object> = new BehaviorSubject(null);\n  private _spinnerAction: BehaviorSubject<string> = new BehaviorSubject(null);\n  private _refreshLanguageTable: BehaviorSubject<object> = new BehaviorSubject(null);\n  private _refreshAfterEdit : BehaviorSubject<object> = new BehaviorSubject(null);\n  private _refreshFilter : BehaviorSubject<object> = new BehaviorSubject(null);\n  private _updateLangSelect : BehaviorSubject<object> = new BehaviorSubject(null);\n  private _triggerNotePanel : BehaviorSubject<boolean> = new BehaviorSubject(null);\n  private _triggerAttestationPanel : BehaviorSubject<boolean> = new BehaviorSubject(null);\n  private _changeDecompLabel : BehaviorSubject<string> = new BehaviorSubject(null);\n  private _decompData : BehaviorSubject<object> = new BehaviorSubject(null);\n  private _refreshLinkCounter: BehaviorSubject<string> = new BehaviorSubject(null);\n  private _triggerLexicalEntryTree : BehaviorSubject<object> = new BehaviorSubject(null);\n  private _triggerSameAs : BehaviorSubject<object> = new BehaviorSubject(null);\n\n\n  private baseUrl = \"/LexO-backend-itant_itant/service/\"\n  private key = \"PRINitant19\";\n  private author = \"\";\n\n  coreData$ = this._coreFormData.asObservable();\n  decompData$ = this._decompData.asObservable();\n  attestationPanelData$ = this._attestationPanelData.asObservable();\n  /* vartransData = this._vartransData.asObservable(); */\n  etymologyData$ = this._etymologyData.asObservable();\n  rightPanelData$ = this._rightPanelData.asObservable();\n  deleteReq$ = this._deleteLexicalEntryReq.asObservable();\n  addSubReq$ = this._addSubElementReq.asObservable();\n  updateCoreCardReq$ = this._updateCoreCardReq.asObservable();\n  spinnerAction$ = this._spinnerAction.asObservable();\n  refreshLangTable$ = this._refreshLanguageTable.asObservable();\n  refreshAfterEdit$ = this._refreshAfterEdit.asObservable();\n  refreshFilter$ = this._refreshFilter.asObservable();\n  updateLangSelect$ = this._updateLangSelect.asObservable();\n  triggerNotePanel$ = this._triggerNotePanel.asObservable();\n  triggerAttestationPanel$ = this._triggerAttestationPanel.asObservable();\n  changeDecompLabel$ = this._changeDecompLabel.asObservable();\n  refreshLinkCounter$ = this._refreshLinkCounter.asObservable();\n  triggerLexicalEntryTree$ = this._triggerLexicalEntryTree.asObservable();\n  triggerSameAs$ = this._triggerSameAs.asObservable();\n\n  constructor(private http: HttpClient, private auth: AuthService) { }\n\n  refreshLinkCounter(value:string){\n    this._refreshLinkCounter.next(value);\n  }\n\n  sendToCoreTab(object: object) {\n    this._coreFormData.next(object)\n  } \n\n  sendToDecompTab(object: object){\n    this._decompData.next(object);\n  }\n  \n  sendToAttestationPanel(object: object) {\n    this._attestationPanelData.next(object)\n  } \n\n  changeDecompLabel(string:string){\n    this._changeDecompLabel.next(string);\n  }\n  \n  /* sendToVartransTab(object: object) {\n    this._vartransData.next(object)\n  } */\n\n  sendToRightTab(object: object) {\n    this._rightPanelData.next(object);\n  }\n\n  sendToEtymologyTab(object: object) {\n    this._etymologyData.next(object);\n  }\n\n  deleteRequest(request? : any) {\n    this._deleteLexicalEntryReq.next(request);\n  }\n\n  addSubElementRequest(request?: any){\n    this._addSubElementReq.next(request);\n  }\n\n  updateCoreCard(object: object) {\n    this._updateCoreCardReq.next(object)\n  }\n\n  spinnerAction(string: string) {\n    this._spinnerAction.next(string)\n  }\n\n  refreshLangTable(){\n    this._refreshLanguageTable.next(null);\n  }\n\n  refreshAfterEdit(object: object){\n    this._refreshAfterEdit.next(object);\n  }\n\n  refreshFilter(object: object){\n    this._refreshFilter.next(object);\n  }\n\n  updateLangSelect(object: object){\n    this._updateLangSelect.next(object);\n  }\n\n  triggerNotePanel(bool: boolean){\n    this._triggerNotePanel.next(bool);\n  }\n\n  triggerAttestationPanel(bool: boolean){\n    this._triggerAttestationPanel.next(bool);\n  }\n\n  triggerLexicalEntryTree(object : object){\n    this._triggerLexicalEntryTree.next(object);\n  }\n\n  triggerSameAs(object : object){\n    this._triggerSameAs.next(object);\n  }\n\n  //POST: /lexicon/lexicalEntries ---> get lexical entries list\n  getLexicalEntriesList(parameters: any): Observable<any> {\n    return this.http.post(this.baseUrl + \"lexicon/data/lexicalEntries\", parameters);\n  }\n\n  //POST: /lexicon/lexicalSenses ---> get lexical entries list\n  getLexicalSensesList(parameters: any): Observable<any> {\n    return this.http.post(this.baseUrl + \"lexicon/data/lexicalSenses\", parameters);\n  }\n\n  //POST: /lexicon/data/forms ---> get form list\n  getFormList(parameters: any): Observable<any> {\n    return this.http.post(this.baseUrl + \"lexicon/data/forms\", parameters);\n  }\n\n  //GET /lexicon/data/{id}/elements --> get elements of lexical entry\n  getLexEntryElements(instance: string): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/data/\" + instance + \"/elements\");\n  }\n\n  //GET /lexicon/data/{id}/lexicalEntry --> get specific aspect (morphology, syntax, ...) associated with a given lexical entry\n  getLexEntryData(instance: string): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/data/\" + instance + \"/lexicalEntry?key=\" + this.key + \"&aspect=core\");\n  }\n\n  //GET /lexicon/data/{id}/lexicalEntryLinguisticRelation --> This method returns the relations with other lexical entities according to the input type\n  getLexEntryLinguisticRelation(lexId: string, property: string): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/data/\" + lexId + \"/linguisticRelation?key=\" + this.key + \"&property=\" + property + \"\");\n  }\n\n\n  //GET /lexicon/data/{id}/forms --> get forms of lexical entry\n  getLexEntryForms(instance: string): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/data/\" + instance + \"/forms\");\n  }\n\n\n  //GET /lexicon/data/{id}/form --> get data about a single form \n  getFormData(formId: string, aspect: string): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/data/\" + formId + \"/form?key=\" + this.key + \"&aspect=\" + aspect)\n  }\n\n\n  //GET /lexicon/data/{id}/lexicalSense --> get data about a single form \n  getSenseData(senseId: string, aspect: string): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/data/\" + senseId + \"/lexicalSense?key=\" + this.key + \"&aspect=\" + aspect)\n  }\n\n  //GET /lexicon/data/{id}/senses --> get list of senses of a lexical entry\n  getSensesList(instance: string): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/data/\" + instance + \"/senses\");\n  }\n\n  //GET /lexicon/data/languages --> Lexicon languages list\n  getLexiconLanguages(): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/data/languages\");\n  }\n\n  //GET /lexicon/statistics/languages --> get languages list for lexical entries menu filter search\n  getLanguages(): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/statistics/languages?key=\" + this.key + \"\");\n  }\n\n  //GET /lexicon/types --> get types list\n  getTypes(): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/statistics/types?key=\" + this.key + \"\");\n  }\n\n  //GET /lexicon/authors --> get authors list\n  getAuthors(): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/statistics/authors?key=\" + this.key + \"\");\n  }\n\n  //GET /lexicon/pos --> get pos list\n  getPos(): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/statistics/pos?key=\" + this.key + \"\");\n  }\n\n  //GET /lexicon/states --> get states list\n  getStatus(): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/statistics/status?key=\" + this.key + \"\");\n  }\n\n\n  //GET /lexicon/creation/lexicalEntry --> create new lexical entry\n  newLexicalEntry(): Observable<any> {\n    this.author = this.auth.getUsername();\n    return this.http.get(this.baseUrl + \"lexicon/creation/lexicalEntry?key=\" + this.key + \"&author=\" + this.author);\n  }\n\n\n  //GET /lexicon/delete/{id}/lexicalEntry --> delete lexical entry\n  deleteLexicalEntry(lexId): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/delete/\" + lexId + \"/lexicalEntry?key=\" + this.key);\n  }\n\n  //GET /lexicon/delete/{id}/form --> delete lexical entry\n  deleteForm(lexId): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/delete/\" + lexId + \"/form?key=\" + this.key);\n  }\n\n  //GET /lexicon/delete/{id}/lexicalSense --> delete lexical entry\n  deleteSense(lexId): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/delete/\" + lexId + \"/lexicalSense?key=\" + this.key);\n  }\n\n  //GET  /lexicon/delete/{id}/language  --> Lexicon language deletion\n  deleteLanguage(langId): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/delete/\" + langId + \"/language?key=\" + this.key);\n  }\n\n  //POST  /lexicon/delete/{id}/linguisticRelation  --> delete linguistic relation\n  deleteLinguisticRelation(lexId, parameters): Observable<any> {\n    return this.http.post(this.baseUrl + \"lexicon/delete/\" + lexId + \"/relation?key=\" + this.key, parameters);\n  }\n\n  //POST /lexicon/update/{id}/lexicalEntry --> lexical entry update\n  updateLexicalEntry(lexId, parameters): Observable<any> {\n    this.author = this.auth.getUsername();\n    return this.http.post(this.baseUrl + \"lexicon/update/\" + lexId + \"/lexicalEntry?key=\" + this.key + \"&user=\" + this.author, parameters);\n  }\n\n\n  //POST /lexicon/update/{id}/linguisticRelation --> linguistic Relation update for Core\n  updateLinguisticRelation(lexId, parameters): Observable<any> {\n    this.author = this.auth.getUsername();\n    return this.http.post(this.baseUrl + \"lexicon/update/\" + lexId + \"/linguisticRelation?key=\" + this.key + \"&user=\" + this.author, parameters);\n  }\n\n  //POST /lexicon/update/{id}/genericRelation --> Generic relation update\n  updateGenericRelation(lexId, parameters) : Observable<any> {\n    this.author = this.auth.getUsername();\n    return this.http.post(this.baseUrl + \"lexicon/update/\" + lexId + \"/genericRelation?key=\" + this.key + \"&user=\" + this.author, parameters);\n  }\n\n  //POST /lexicon/update/{id}/form --> update form values\n  updateForm(formId, parameters): Observable<any> {\n    this.author = this.auth.getUsername();\n    return this.http.post(this.baseUrl + \"lexicon/update/\" + formId + \"/form?key=\" + this.key + \"&user=\" + this.author, parameters);\n  }\n\n  //POST /lexicon/update/{id}/lexicalSense --> update form values\n  updateSense(senseId, parameters): Observable<any> {\n    this.author = this.auth.getUsername();\n    return this.http.post(this.baseUrl + \"lexicon/update/\" + senseId + \"/lexicalSense?key=\" + this.key + \"&user=\" + this.author, parameters);\n  }\n\n  //GET  /lexinfo/data/morphology --> get data about morphology\n  getMorphologyData(): Observable<any> {\n    return this.http.get(this.baseUrl + \"lexinfo/data/morphology\");\n  }\n\n  ///GET /ontolex/data/formType --> get data about form types\n  getFormTypes(): Observable<any> {\n    return this.http.get(this.baseUrl + \"ontolex/data/formType\");\n  }\n\n  ///GET /ontolex/data/lexicalEntryType --> get data about lexicalEntry types\n  getLexEntryTypes(): Observable<any> {\n    return this.http.get(this.baseUrl + \"ontolex/data/lexicalEntryType\");\n  }\n\n\n  //GET /lexicon/creation/form --> create new form\n  createNewForm(lexId): Observable<any> {\n    this.author = this.auth.getUsername();\n    return this.http.get(this.baseUrl + \"lexicon/creation/form?lexicalEntryID=\"+ lexId +\"&key=\" + this.key + \"&author=\" + this.author);\n  }\n\n  //GET /lexicon/creation/lexicalSense --> create new sense\n  createNewSense(lexId): Observable<any> {\n    this.author = this.auth.getUsername();\n    return this.http.get(this.baseUrl + \"lexicon/creation/lexicalSense?lexicalEntryID=\"+ lexId +\"&key=\" + this.key + \"&author=\" + this.author);\n  }\n\n  //GET /lexicon/creation/language --> create new language\n  createNewLanguage(langId): Observable<any> {\n    this.author = this.auth.getUsername();\n    return this.http.get(this.baseUrl + \"lexicon/creation/language?key=\" + this.key + \"&lang=\"+ langId +\"&author=\" + this.author);\n  }\n\n  //POST /lexicon/update/{id}/language --> update language\n  updateLanguage(langId, parameters): Observable<any> {\n    this.author = this.auth.getUsername();\n    return this.http.post(this.baseUrl + \"lexicon/update/\" + langId + \"/language?key=\" + this.key + \"&author=\" + this.author, parameters);\n  }\n  \n\n  //BIBLIOGRAPHY\n  getBibliographyData(instance: string) : Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/data/\" + instance + \"/bibliography?key=lexodemo\");\n  }\n\n  addBibliographyData(instance : string, parameters){\n    this.author = this.auth.getUsername();\n    return this.http.post(this.baseUrl + \"lexicon/creation/bibliography?lexicalEntityID=\" + instance + \"&key=\"+ this.key +\"&author=\"+this.author+\"\", parameters);\n  }\n\n  removeBibliographyItem(instance: string) {\n    return this.http.get(this.baseUrl + \"lexicon/delete/\" + instance + \"/bibliography?key=PRINitant19\");\n  }\n\n  synchronizeBibliographyItem(lexId : string, itemKey : string) : Observable<any> {\n    return this.http.post(this.baseUrl + \"lexicon/update/synchronizeBibliography?lexicalEntityID=\"+lexId+\"&key=PRINitant19&author=demo&itemKey=\"+itemKey,{})\n  }\n\n\n  //ETYMOLOGY\n  createNewEtymology(instance: string) : Observable<any>{\n    this.author = this.auth.getUsername();\n    return this.http.get(this.baseUrl + \"lexicon/creation/etymology?lexicalEntryID=\"+instance+\"&key=\"+this.key+\"&author=\"+this.author+\"\");\n  }\n\n  getEtymologies(instance: string) : Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/data/\" + instance + \"/etymologies?key=\"+this.key+\"\");\n  }\n\n  getEtymologyData(instance: string)  : Observable<any> {\n    return this.http.get(this.baseUrl + \"lexicon/data/\" + instance + \"/etymology?key=\"+this.key+\"\");\n  }\n\n  updateEtymology(etymId, parameters): Observable<any> {\n    this.author = this.auth.getUsername();\n    return this.http.post(this.baseUrl + \"lexicon/update/\" + etymId + \"/etymology?key=\" + this.key + \"&author=\" + this.author, parameters);\n  }\n\n  createNewEtylink(lexInstance: string, etymInstance : string) : Observable<any>{\n    return this.http.get(this.baseUrl + \"lexicon/creation/etymologicalLink?lexicalEntryID=\"+lexInstance+\"&etymologyID=\"+etymInstance+\"&key=\"+this.key+\"&author=\"+this.author+\"\");\n  }\n\n  deleteEtymology(etymInstance : string) : Observable<any>{\n    this.author = this.auth.getUsername();\n    return this.http.get(this.baseUrl + \"lexicon/delete/\"+etymInstance+\"/etymology?key=\"+this.key+\"&author=\"+this.author+\"\");\n  }\n\n  updateEtylink(etymId, parameters): Observable<any> {\n    this.author = this.auth.getUsername();\n    return this.http.post(this.baseUrl + \"lexicon/update/\" + etymId + \"/etymologicalLink?key=\" + this.key + \"&author=\" + this.author, parameters);\n  }\n\n  deleteEtylink(etyLinkInstance: string) : Observable<any>{\n    this.author = this.auth.getUsername();\n    return this.http.get(this.baseUrl + \"lexicon/delete/\"+etyLinkInstance+\"/etymologicalLink?key=\"+this.key+\"&author=\"+this.author+\"\");\n  }\n\n  //DECOMP\n  getSubTerms(lexicalEntityID: string) : Observable<any>{\n    return this.http.get(this.baseUrl + \"lexicon/data/\"+lexicalEntityID+\"/subTerms?key=\"+this.key);\n  }\n\n  getConstituents(lexicalEntityID: string) : Observable<any>{\n    return this.http.get(this.baseUrl + \"lexicon/data/\"+lexicalEntityID+\"/constituents?key=\"+this.key);\n  }\n\n  createComponent(lexicalEntityID : string) : Observable<any>{\n    this.author = this.auth.getUsername();\n    return this.http.get(this.baseUrl + \"lexicon/creation/component?id=\"+lexicalEntityID+\"&key=\"+this.key+\"&author=\"+this.author+\"\");\n  }\n\n  deleteComponent(compId : string) : Observable<any>{\n    return this.http.get(this.baseUrl + \"lexicon/delete/\"+compId+\"/component?key=\"+this.key);\n  }\n\n  getCorrespondsTo(compId: string) : Observable<any>{\n    return this.http.get(this.baseUrl + \"lexicon/data/\"+compId+\"/correspondsTo?key=\"+this.key);\n  }\n\n  exportLexicon(body : object) : Observable<any> {\n    return this.http.post(this.baseUrl + \"export/lexicon\", body, { responseType: 'text'});\n  } \n\n  getPanelCognate(cogInstanceName, lexInstanceName) : object{\n    return this.arrayPanelFormsData[cogInstanceName+'-'+lexInstanceName];\n  }\n\n  newPanelForm(cogInstanceName, lexInstanceName) : void {\n    this.arrayPanelFormsData[cogInstanceName+'-'+lexInstanceName] = {};\n    this.arrayPanelFormsData[cogInstanceName+'-'+lexInstanceName].data = undefined;\n    this.arrayPanelFormsData[cogInstanceName+'-'+lexInstanceName].isOpen = undefined;\n\n  }\n\n  closePanelForm(cogInstanceName, lexInstanceName) : void {\n    this.arrayPanelFormsData[cogInstanceName+'-'+lexInstanceName] = undefined;\n  }\n\n  getAllPanelForms() : object {\n    return this.arrayPanelFormsData;\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-unauthorized-page',\n  templateUrl: './unauthorized-page.component.html',\n  styleUrls: ['./unauthorized-page.component.scss']\n})\nexport class UnauthorizedPageComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>unauthorized-page works!</p>\n","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { KeycloakEventType, KeycloakService } from 'keycloak-angular';\nimport { AuthService } from 'src/app/services/auth/auth.service';\n\n@Component({\n  selector: 'app-navbar',\n  templateUrl: './navbar.component.html',\n  styleUrls: ['./navbar.component.scss']\n})\nexport class NavbarComponent implements OnInit {\n \n  username : string;\n  userRoles;\n\n  constructor(private route: ActivatedRoute, private router: Router, private keycloakService: KeycloakService, private auth : AuthService) { }\n\n  ngOnInit(): void {\n    if(this.auth.getLoggedUser() != undefined){\n      if(this.auth.getLoggedUser()['preferred_username'] != undefined){\n        this.username = this.auth.getLoggedUser()['preferred_username'];\n      }\n    }\n    \n    \n    this.userRoles = this.auth.getCurrentUserRole();\n\n    this.keycloakService.keycloakEvents$.subscribe({\n      next: (e) => {\n        // console.log(e)\n        if (e.type == KeycloakEventType.OnTokenExpired) {\n          this.keycloakService.updateToken(20);\n        }\n      }\n    });\n  }\n\n  logout(){\n    this.auth.logout();\n  }\n\n\n  isAdmin = () => {\n    let admin = (element) => element == 'ADMIN';\n    console.log(this.userRoles.some(admin))\n  }\n\n}\n","\n\n<nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n    <!-- <a class=\"navbar-brand\" href=\"#\">Navbar</a> -->\n    <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\"\n        aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n        <span class=\"navbar-toggler-icon\"></span>\n    </button>\n    <div class=\"d-flex-md d-flex-xs d-lg-none\">\n        <ul class=\"navbar-nav flex-row\">\n            <div class=\"dropdown mr-2\">\n                <button class=\"btn btn-light dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                    <img src=\"https://s3.eu-central-1.amazonaws.com/bootstrapbaymisc/blog/24_days_bootstrap/fox.jpg\" width=\"24\" height=\"24\" class=\"rounded-circle\">\n                </button>\n                <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n                    <a class=\"dropdown-item\"><i class=\"fa fa-power-off\" aria-hidden=\"true\" (click)=\"logout()\"></i> Logout</a>\n                </div>\n            </div>\n        </ul>\n    </div>\n    <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n        <ul class=\"navbar-nav mr-auto\">\n            <!-- <li class=\"nav-item\">\n                <a class=\"nav-link disabled\" routerLink=\"home\" routerLinkActive=\"active\">\n                    <i class=\"fa fa-home\" aria-hidden=\"true\"></i>\n                </a>\n            </li> -->\n            <li class=\"nav-item d-flex align-items-center\" *ngIf=\"isAdmin\">\n                <a class=\"nav-link\" routerLink=\"user\" routerLinkActive=\"active\">\n                    <i class=\"fa fa-user\"></i>\n                    <span class=\"d-flex-xs d-lg-none ml-2\">User Admin</span>\n                </a>\n                \n            </li>\n            <li class=\"nav-item\">\n                <a class=\"nav-link\" routerLink=\"lexicon\" routerLinkActive=\"active\">\n                    <i class=\"fa fa-edit\"></i>\n                    <span class=\"d-flex-xs d-lg-none ml-2\">Lexicon Editor</span>\n                </a>\n            </li>\n            <li class=\"nav-item\">\n                <a class=\"nav-link disabled\" routerLink=\"search\" routerLinkActive=\"active\">\n                    <i class=\"fa fa-search\" aria-hidden=\"true\"></i>\n                    <span class=\"d-flex-xs d-lg-none ml-2\">Search Page</span>\n                </a>\n            </li>\n        </ul>\n        <ul class=\"navbar-nav ml-auto d-none d-xs-none d-sm-none d-lg-flex align-items-center\">\n            <div class=\"dropdown mr-2\">\n                <button class=\"btn btn-light dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\"\n                    data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                    {{username}}\n                    <!-- <img src=\"https://s3.eu-central-1.amazonaws.com/bootstrapbaymisc/blog/24_days_bootstrap/fox.jpg\"\n                        width=\"24\" height=\"24\" class=\"rounded-circle\"> -->\n                </button>\n                <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n                    <a class=\"dropdown-item pointer\" (click)=\"logout()\"><i class=\"fa fa-power-off\" aria-hidden=\"true\"></i> Logout</a>\n                </div>\n            </div>\n        </ul>\n    </div>\n</nav>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, ElementRef, Input, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { LexicalEntriesService } from '../../../../../services/lexical-entries/lexical-entries.service';\nimport { ExpanderService } from 'src/app/services/expander/expander.service';\n\nimport {\n  animate,\n  style,\n  transition,\n  trigger,\n  state\n} from \"@angular/animations\";\n\nimport { ToastrService } from 'ngx-toastr';\nimport { BibliographyService } from 'src/app/services/bibliography-service/bibliography.service';\nimport { ModalComponent } from 'ng-modal-lib';\nimport { Subject } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-etymology-tab',\n  templateUrl: './etymology-tab.component.html',\n  styleUrls: ['./etymology-tab.component.scss'],\n  animations: [\n    trigger('slideInOut', [\n      state('in', style({\n        height: 'calc(100vh - 17rem)',\n\n      })),\n      state('out', style({\n        height: 'calc(50vh - 12.5rem)',\n      })),\n      transition('in => out', animate('400ms ease-in-out')),\n      transition('out => in', animate('400ms ease-in-out'))\n    ])\n  ]\n})\nexport class EtymologyTabComponent implements OnInit {\n\n  lock = 0;\n  object: any;\n  exp_trig = '';\n\n  isLexicalEntry = false;\n  isForm = false;\n  isSense = false;\n  isLexicalConcept = false;\n  searchIconSpinner = false;\n  goBack = false;\n  isEtymology = false;\n\n\n\n  lastUpdateDate: any;\n  creationDate: any;\n  creator: any;\n  revisor: any;\n\n  lexicalEntryData: any;\n  formData: any;\n  senseData: any;\n  lexicalConceptData: any;\n  bibliography = [];\n\n  start = 0;\n  sortField = 'title';\n  direction = 'asc';\n  memorySort = { field: '', direction: '' }\n  queryTitle = '';\n  queryMode = 'titleCreatorYear';\n\n  private searchSubject: Subject<any> = new Subject();\n  selectedItem;\n\n  @ViewChild('expander') expander_body: ElementRef;\n  @Input() etymologyData: any;\n  @ViewChild('addBibliography', { static: false }) modal: ModalComponent;\n  @ViewChild('table_body') tableBody: ElementRef;\n\n  constructor(private lexicalService: LexicalEntriesService, private biblioService: BibliographyService, private expand: ExpanderService, private rend: Renderer2, private toastr: ToastrService) { }\n\n  ngOnInit(): void {\n\n    this.lexicalService.etymologyData$.subscribe(\n      object => {\n        if (this.object != object) {\n          this.etymologyData = null;\n          this.isForm = false;\n          this.isLexicalConcept = false;\n          this.isLexicalEntry = false;\n        }\n        this.object = object\n        //console.log(this.object)\n        if (this.object != null) {\n          \n          this.creator = this.object['etymology'].creator;\n          this.revisor = this.object.revisor;\n          this.etymologyData = object;\n          this.isEtymology = true;\n          setTimeout(() => {\n            //@ts-ignore\n            $('#etymologyTabModal').modal('hide');\n            $('.modal-backdrop').remove();\n            var timer = setInterval((val)=>{                 \n              try{\n                  //@ts-ignore\n                  $('#etymologyTabModal').modal('hide');\n                  if(!$('#etymologyTabModal').is(':visible')){\n                    clearInterval(timer)\n                  }\n                  \n              }catch(e){\n                  console.log(e)\n              }    \n            }, 10)\n          }, 500);\n        }\n      }\n    );\n\n    this.expand.expEdit$.subscribe(\n      trigger => {\n        setTimeout(() => {\n          if(trigger){\n            let isEditExpanded = this.expand.isEditTabExpanded();\n            let isEpigraphyExpanded = this.expand.isEpigraphyTabExpanded();\n  \n            if(!isEpigraphyExpanded){\n              this.exp_trig = 'in';\n              this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(100vh - 17rem)')\n              this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(100vh - 17rem)')\n            }else{\n              this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 12.5rem)');\n              this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)');\n              this.exp_trig = 'in';\n            }\n            \n          }else if(trigger==null){\n            return;\n          }else{\n            this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 12.5rem)');\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)');\n            this.exp_trig = 'out';\n          }\n        }, 100);\n        \n      }\n    );\n\n    this.expand.expEpigraphy$.subscribe(\n      trigger => {\n        setTimeout(() => {\n          if(trigger){\n            this.exp_trig = 'in';\n            this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 12.5rem)')\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)')\n          }else if(trigger==null){\n            return;\n          }else{\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 12.5rem)');\n            this.exp_trig = 'out';\n          }\n        }, 100);\n        \n      }\n    );\n\n    /* this.lexicalService.updateLexCardReq$.subscribe(\n      data => {\n        console.log(data)\n        if (data != null) {\n          this.lastUpdateDate = data['lastUpdate']\n          if (data['creationDate'] != undefined) {\n            this.creationDate = data['creationDate']\n          }\n        }\n      }\n    ) */\n\n    this.lexicalService.spinnerAction$.subscribe(\n      data => {\n        if (data == 'on') {\n          this.searchIconSpinner = true;\n        } else {\n          this.searchIconSpinner = false;\n        }\n      },\n      error => {\n\n      }\n    )\n\n    this.searchSubject.pipe(debounceTime(1000)).subscribe(\n      data => {\n        this.queryTitle = data.query;\n        data.queryMode ? this.queryMode = 'everything' : this.queryMode = 'titleCreatorYear';\n        this.searchBibliography(this.queryTitle, this.queryMode);\n      }\n    )\n\n    //@ts-ignore\n    $(\"#biblioModalEtym\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.ui-modal');\n    //@ts-ignore\n    $('#biblioModalEtym').modal({ backdrop: 'static', keyboard: false })\n\n    $('.modal-backdrop').css('height', 'inherit');\n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n\n    this.biblioService.bootstrapData(this.start, this.sortField, this.direction).subscribe(\n      data => {\n        this.memorySort = { field: this.sortField, direction: this.direction }\n        this.bibliography = data;\n        this.bibliography.forEach(element => {\n          element['selected'] = false;\n        })\n\n\n        //@ts-ignore\n        $('#biblioModalEtym').modal('hide');\n        $('.modal-backdrop').remove();\n      }, error => {\n        console.log(error)\n      }\n    )\n  }\n\n\n\n  deleteEtymology() {\n    this.searchIconSpinner = true;\n    let etymId = this.object.etymology.etymologyInstanceName\n    this.lexicalService.deleteEtymology(etymId).subscribe(\n      data => {\n        this.searchIconSpinner = false;\n        this.lexicalService.deleteRequest(this.object);\n        this.lexicalEntryData = null;\n        this.isLexicalEntry = false;\n        this.object = null;\n        this.lexicalService.refreshLangTable();\n        this.lexicalService.refreshFilter({ request: true })\n        this.lexicalService.sendToCoreTab(null);\n        this.lexicalService.sendToRightTab(null);\n        this.biblioService.sendDataToBibliographyPanel(null);\n        this.toastr.success(etymId + ' deleted correctly', '', {\n          timeOut: 5000,\n        });\n      }, error => {\n        this.searchIconSpinner = false;\n        //this.lexicalService.deleteRequest(this.object);\n        //this.lexicalService.refreshLangTable();\n        //this.lexicalService.refreshFilter({request : true})\n        this.toastr.error(error.error, 'Error', {\n          timeOut: 5000,\n        });\n      }\n    )\n  }\n\n  addNewEtymology() {\n    this.searchIconSpinner = true;\n    this.object['request'] = 'etymology'\n\n\n    let parentNodeInstanceName = this.object.parentNodeInstanceName;\n    this.object['lexicalEntryInstanceName'] = parentNodeInstanceName\n    this.object['request'] = 'etymology'\n\n    console.log(this.object, parentNodeInstanceName)\n    this.lexicalService.createNewEtymology(parentNodeInstanceName).subscribe(\n      data => {\n        console.log(data)\n        data['label'] = 'Etymology of: ' + this.object['parentNodeLabel'];\n        if (data['creator'] == this.object.creator) {\n          data['flagAuthor'] = false;\n        } else {\n          data['flagAuthor'] = true;\n        }\n        this.lexicalService.addSubElementRequest({ 'lex': this.object, 'data': data });\n        this.searchIconSpinner = false;\n        this.toastr.success(data['etymologyInstanceName'] + ' added correctly', '', {\n          timeOut: 5000,\n        });\n      }, error => {\n        console.log(error)\n        this.searchIconSpinner = false;\n      }\n    )\n\n  }\n\n  showBiblioModal() {\n    this.modal.show();\n  }\n\n  checkIfCreatorExist(item?) {\n    return item.some(element => element.creatorType === 'author')\n  }\n\n  searchBibliography(query?: string, queryMode?: any) {\n    this.start = 0;\n    this.selectedItem = null;\n    //@ts-ignore\n    $(\"#biblioModalEtym\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.table-body');\n    //@ts-ignore\n    $('#biblioModalEtym').modal({ backdrop: 'static', keyboard: false })\n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n    console.log(query, queryMode)\n    this.tableBody.nativeElement.scrollTop = 0;\n    if (this.queryTitle != '') {\n      this.biblioService.filterBibliography(this.start, this.sortField, this.direction, this.queryTitle, this.queryMode).subscribe(\n        data => {\n          console.log(data);\n          this.bibliography = [];\n          data.forEach(element => {\n            this.bibliography.push(element)\n          });\n          setTimeout(() => {\n            //@ts-ignore\n            $('#biblioModalEtym').modal('hide');\n            $('.modal-backdrop').remove();\n          }, 100);\n\n        },\n        error => {\n          console.log(error)\n        }\n      )\n    } else {\n      this.biblioService.filterBibliography(this.start, this.sortField, this.direction, this.queryTitle, this.queryMode).subscribe(\n        data => {\n          console.log(data);\n          this.bibliography = [];\n          data.forEach(element => {\n            this.bibliography.push(element)\n          });\n          //@ts-ignore\n          $('#biblioModalEtym').modal('hide');\n          $('.modal-backdrop').remove();\n        },\n        error => {\n          console.log(error)\n        }\n      )\n    }\n  }\n\n  triggerSearch(evt, query, queryMode) {\n    if (evt.key != 'Control' && evt.key != 'Shift' && evt.key != 'Alt') {\n      this.searchSubject.next({ query, queryMode })\n    }\n  }\n\n  onScrollDown() {\n    //@ts-ignore\n    $(\"#biblioModalEtym\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.table-body');\n    //@ts-ignore\n    $('#biblioModalEtym').modal({ backdrop: 'static', keyboard: false })\n    $('.modal-backdrop').appendTo('.table-body');\n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n\n    this.start += 25;\n\n    if (this.queryTitle != '') {\n      this.biblioService.filterBibliography(this.start, this.sortField, this.direction, this.queryTitle, this.queryMode).subscribe(\n        data => {\n          console.log(data)\n          //@ts-ignore\n          $('#biblioModalEtym').modal('hide');\n          $('.modal-backdrop').remove();\n          data.forEach(element => {\n            this.bibliography.push(element)\n          });\n        }, error => {\n          console.log(error)\n        }\n      )\n    } else {\n      this.biblioService.filterBibliography(this.start, this.sortField, this.direction, this.queryTitle, this.queryMode).subscribe(\n        data => {\n\n          data.forEach(element => {\n            this.bibliography.push(element)\n          });\n\n          //@ts-ignore\n          $('#biblioModalEtym').modal('hide');\n          $('.modal-backdrop').remove();\n        }, error => {\n          console.log(error)\n        }\n      );\n    }\n\n\n  }\n\n  selectItem(evt, i) {\n    /* console.log(evt, i); */\n    if (evt.shiftKey) {\n\n    }\n    this.bibliography.forEach(element => {\n      if (element.key == i.key) {\n        element.selected = !element.selected;\n        element.selected ? this.selectedItem = element : this.selectedItem = null;\n        return true;\n      } else {\n        element.selected = false;\n        return false;\n      }\n    })\n\n  }\n\n  sortBibliography(evt?, val?) {\n\n\n    if (this.memorySort.field == val) {\n      if (this.direction == 'asc') {\n        this.direction = 'desc'\n        this.memorySort.direction = 'desc';\n      } else {\n        this.direction = 'asc';\n        this.memorySort.direction = 'asc';\n      }\n    } else {\n      this.sortField = val;\n      this.direction = 'asc';\n      this.memorySort = { field: this.sortField, direction: this.direction };\n    }\n\n    //@ts-ignore\n    $(\"#biblioModalEtym\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.table-body');\n    //@ts-ignore\n    $('#biblioModalEtym').modal({ backdrop: 'static', keyboard: false })\n    $('.modal-backdrop').appendTo('.table-body');\n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n    this.start = 0;\n    this.tableBody.nativeElement.scrollTop = 0;\n\n    this.biblioService.filterBibliography(this.start, this.sortField, this.direction, this.queryTitle, this.queryMode).subscribe(\n      data => {\n        console.log(data)\n        this.bibliography = [];\n        //@ts-ignore\n        $('#biblioModalEtym').modal('hide');\n        $('.modal-backdrop').remove();\n        data.forEach(element => {\n          this.bibliography.push(element)\n        });\n      }, error => {\n        console.log(error)\n      }\n    )\n\n  }\n\n  addNewForm() {\n    this.searchIconSpinner = true;\n    /* console.log(this.object) */\n    this.object['request'] = 'form'\n\n    let parentNodeInstanceName = this.object.parentNodeInstanceName;\n    this.object['request'] = 'form';\n    this.object['lexicalEntryInstanceName'] = parentNodeInstanceName\n    //console.log(this.object);\n    this.lexicalService.createNewForm(parentNodeInstanceName).subscribe(\n      data => {\n        if (data['creator'] == this.object.creator) {\n          data['flagAuthor'] = false;\n        } else {\n          data['flagAuthor'] = true;\n        }\n        this.lexicalService.addSubElementRequest({ 'lex': this.object, 'data': data });\n        this.searchIconSpinner = false;\n        this.toastr.success(data['formInstanceName'] + ' added correctly', '', {\n          timeOut: 5000,\n        });\n      }, error => {\n        this.searchIconSpinner = false;\n        this.toastr.error('Something goes wrong', 'Error', {\n          timeOut: 5000,\n        });\n      }\n    )\n\n\n  }\n\n  addNewSense() {\n    this.searchIconSpinner = true;\n    this.object['request'] = 'sense'\n\n    let parentNodeInstanceName = this.object.parentNodeInstanceName;\n    this.object['lexicalEntryInstanceName'] = parentNodeInstanceName\n    this.object['request'] = 'sense'\n    console.log(this.object);\n    this.lexicalService.createNewSense(parentNodeInstanceName).subscribe(\n      data => {\n        if (data['creator'] == this.object.creator) {\n          data['flagAuthor'] = false;\n        } else {\n          data['flagAuthor'] = true;\n        }\n        this.lexicalService.addSubElementRequest({ 'lex': this.object, 'data': data });\n        this.searchIconSpinner = false;\n        this.toastr.success(data['senseInstanceName'] + ' added correctly', '', {\n          timeOut: 5000,\n        });\n        //this.lexicalService.refreshLexEntryTree();\n      }, error => {\n        this.searchIconSpinner = false;\n        //this.lexicalService.refreshLexEntryTree();\n        this.toastr.error(error.error, 'Error', {\n          timeOut: 5000,\n        });\n      }\n    )\n\n  }\n\n  addBibliographyItem(item?) {\n    //@ts-ignore\n    $(\"#biblioModalEtym\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.ui-modal');\n    //@ts-ignore\n    $('#biblioModalEtym').modal({ backdrop: 'static', keyboard: false })\n\n    $('.modal-backdrop').css('height', 'inherit');\n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n\n    let instance = this.object.etymology.etymologyInstanceName;\n    console.log(this.object)\n\n    if (item != undefined) {\n\n      let id = item.data.key != undefined ? item.data.key : '';\n      let title = item.data.title != undefined ? item.data.title : '';\n      let author;\n\n      item.data.creators.forEach(element => {\n        if (element.creatorType == 'author') {\n          author = element.lastName + ' ' + element.firstName;\n          return true;\n        } else {\n          return false;\n        }\n      });\n      author = author != undefined ? author : ''\n      let date = item.data.date != undefined ? item.data.date : '';\n      let url = item.data.url != undefined ? item.data.url : ''\n      let seeAlsoLink = '';\n\n      let parameters = {\n        id: id,\n        title: title,\n        author: author,\n        date: date,\n        url: url,\n        seeAlsoLink: seeAlsoLink\n      }\n      console.log(instance, parameters)\n      this.lexicalService.addBibliographyData(instance, parameters).subscribe(\n        data => {\n          //console.log(data);\n\n          setTimeout(() => {\n            //@ts-ignore\n            $('#biblioModalEtym').modal('hide');\n            $('.modal-backdrop').remove();\n            this.toastr.success('Item added, check bibliography panel', '', {\n              timeOut: 5000,\n            });\n            this.biblioService.triggerPanel(data)\n            setTimeout(() => {\n              this.modal.hide();\n            }, 10);\n          }, 300);\n          this.biblioService.sendDataToBibliographyPanel(data);\n        }, error => {\n          console.log(error)\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n          setTimeout(() => {\n            //@ts-ignore\n            $('#biblioModalEtym').modal('hide');\n            $('.modal-backdrop').remove();\n          }, 300);\n\n        }\n      )\n    }\n\n  }\n\n  onCloseModal() {\n    this.selectedItem = null;\n    this.start = 0;\n    this.sortField = 'title';\n    this.direction = 'asc';\n    this.tableBody.nativeElement.scrollTop = 0;\n    this.memorySort = { field: this.sortField, direction: this.direction }\n    this.biblioService.bootstrapData(this.start, this.sortField, this.direction).subscribe(\n      data => {\n        this.bibliography = data;\n        this.bibliography.forEach(element => {\n          element['selected'] = false;\n        })\n\n\n      }, error => {\n        console.log(error)\n      }\n    );\n  }\n}\n","\n\n<div id=\"cardsAccordion\" class=\"accordion\" [hidden]=\"object == null\"> <!-- [hidden]=\"object == null\" -->\n    <div class=\"card my-2\">\n        <div class=\"card-header p-0\">\n            <h5 class=\"mb-0 w-100 d-flex justify-content-between align-self-center\">\n                <div>\n                    <span class=\"btn\" *ngIf=\"object != null\"> <!-- *ngIf=\"object != null\" -->\n                        CREATED BY {{creator}} ON {{creationDate | date :'dd/MM/yyyy hh:mm:ss'}}\n                    </span>\n                </div>\n                <div>\n                    <div class=\"spinner-border spinner-border-sm m-1\" role=\"status\" *ngIf=\"searchIconSpinner\">\n                        <span class=\"sr-only\">Loading...</span>\n                    </div>\n                    <button class=\"btn btn-link\" (click)=\"deleteEtymology()\">\n                        <i class=\"fa fa-trash\"></i>\n                    </button>\n                </div>\n            </h5>\n        </div>\n        <div #expander [@slideInOut]=\"exp_trig\" class=\"card-body etym-tab-body\">\n            <div id=\"etymologyTabModal\" class=\"modal fade\" role=\"dialog\">\n                <div class=\"modal-dialog\">\n\n                    <!-- Modal content-->\n                    <div class=\"modal-content\">\n                        <div class=\"modal-body\">\n                            <div class=\"d-flex justify-content-center\">\n                                <div class=\"spinner-border\" role=\"status\">\n                                    <span class=\"sr-only\">Loading...</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n            <app-etymology-form [etymData]=\"etymologyData\"></app-etymology-form>\n\n        </div>\n        <div class=\"card-footer text-muted p-0\">\n            <div class=\"w-100 d-flex justify-content-between align-items-center\">\n                <div > <!-- *ngIf=\"object != null\" -->\n                    <span class=\"pl-2\">LAST UPDATE ON {{lastUpdateDate | date :'dd/MM/yyyy hh:mm:ss'}}</span>\n                </div>\n                <div class=\"btn-group dropup dropleft\">\n                    <button class=\"btn btn-success\" type=\"button\" id=\"dropdownAddLemma\" data-toggle=\"dropdown\"\n                        aria-haspopup=\"true\" aria-expanded=\"false\"> <i class=\"fas fa-plus\"></i> </button>\n                    <div class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"dropdownAddLemma\">\n                        <button class=\"dropdown-item\" title=\"add new form\" (click)=\"addNewForm()\">Add Form</button>\n                        <button class=\"dropdown-item\" (click)=\"addNewSense()\">Add Sense</button>\n                        <button class=\"dropdown-item\" (click)=\"addNewEtymology()\">Add Etymology</button>\n                        <button class=\"dropdown-item\" (click)=\"showBiblioModal()\">Add Bibliography</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n<app-modal #addBibliography class=\"biblio_modal\" [backdrop]=\"false\" [inViewport]=\"true\" (closeModal)=\"onCloseModal()\">\n\n    <ng-container class=\"app-modal-header\">\n        <img src=\"../../../../../../assets/images/zotero_logo.png\">\n        <span class=\"ml-2 biblio-header-title\">Library: PRIN Italia Antica</span>\n    </ng-container>\n\n    <ng-container class=\"app-modal-body\">\n        <!-- SEARCH BAR -->\n        <div class=\"w-25 pt-1 pb-1\">\n            <div class=\"input-group mb-3\" *ngIf=\"{switch : false}; let variable\">\n                <div class=\"input-group-prepend\">\n                    <button class=\"btn btn-outline-secondary dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\"\n                        aria-haspopup=\"true\" aria-expanded=\"false\"><i class=\"fa fa-search\"></i></button>\n                    <div class=\"dropdown-menu\">\n                        <a [class.disable_click_fire]=\"!variable.switch\" class=\"dropdown-item\" style=\"cursor: pointer;\"\n                            (click)=\"variable.switch = false; searchBibliography(searchBiblio.value, variable.switch);\">Normal</a>\n                        <a [class.disable_click_fire]=\"variable.switch\" class=\"dropdown-item\" style=\"cursor: pointer;\"\n                            (click)=\"variable.switch = true; searchBibliography(searchBiblio.value, variable.switch);\">Full\n                            Text</a>\n                    </div>\n                </div>\n                <input #searchBiblio (keyup)=\"triggerSearch($event, searchBiblio.value, variable.switch)\" type=\"text\"\n                    class=\"form-control\" aria-label=\"Text input with dropdown button\"\n                    [placeholder]=\"variable.switch ?'Title, creator, year + Full Text' : 'Title, creator, year'\"\n                    style=\"font-size: 12px;\">\n            </div>\n\n        </div>\n        <!-- {{'start: '+start + ' sortField: '+ sortField + ' direction: '+ direction + ' queryTitle: '+ queryTitle + ' queryMode: '+ queryMode}} -->\n\n        <!-- SKELETON CONTAINER -->\n        <div class=\"container-fluid\">\n            <div class=\"row\">\n                <div class=\"col-md-8 pl-0\">\n\n\n                    <!-- TABLE -->\n                    <div class=\"table-responsive table-body\">\n                        <div id=\"biblioModalEtym\" class=\"modal fade\" role=\"dialog\">\n                            <div class=\"modal-dialog\">\n\n                                <!-- Modal content-->\n                                <div class=\"modal-content\">\n                                    <div class=\"modal-body\">\n                                        <div class=\"d-flex justify-content-center\">\n                                            <div class=\"spinner-border\" role=\"status\">\n                                                <span class=\"sr-only\">Loading...</span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n\n                            </div>\n                        </div>\n                        \n                        <table class=\"table table-striped table-hover\" [hidden]=\"bibliography.length == 0\">\n                            <thead>\n                                <tr>\n                                    <th scope=\"col\" style=\"width: 50%; cursor: pointer;\" (click)=\"sortBibliography($event, 'title')\">\n                                        <span>Title</span>\n                                        <span class=\"float-right\">\n                                            <i class=\"fas fa-sort-up\" *ngIf=\"direction == 'asc' && sortField == 'title'\"></i>\n                                            <i class=\"fas fa-sort-down\" *ngIf=\"direction == 'desc' && sortField == 'title'\"></i>\n                                        </span>\n                                    </th>\n                                    <th scope=\"col\" style=\"width: 30%; cursor: pointer;\" (click)=\"sortBibliography($event, 'creator')\">\n                                        <span>Creator</span>\n                                        <span class=\"float-right\">\n                                            <i class=\"fas fa-sort-up\" *ngIf=\"direction == 'asc' && sortField == 'creator'\"></i>\n                                            <i class=\"fas fa-sort-down\" *ngIf=\"direction == 'desc' && sortField == 'creator'\"></i>\n                                        </span>\n                                    </th>\n                                    <th scope=\"col\" style=\"width: 20%; cursor: pointer;\" (click)=\"sortBibliography($event, 'date')\">\n                                        <span>Date</span>\n                                        <span class=\"float-right\">\n                                            <i class=\"fas fa-sort-up\" *ngIf=\"direction == 'asc' && sortField == 'date'\"></i>\n                                            <i class=\"fas fa-sort-down\" *ngIf=\"direction == 'desc' && sortField == 'date'\"></i>\n                                        </span>\n                                    </th>\n                                </tr>\n                            </thead>\n                            <tbody #table_body infiniteScroll [infiniteScrollDistance]=\"0.4\"\n                                [infiniteScrollThrottle]=\"150\" [scrollWindow]=\"false\" (scrolled)=\"onScrollDown()\">\n\n\n                                <tr *ngFor=\"let item of bibliography\" (click)=\"selectItem($event, item)\"\n                                    [ngClass]=\"item?.selected ? 'selected' : ''\" style=\"cursor: pointer;\">\n                                    <td style=\"width: 50%\">\n                                        <span *ngIf=\"item.data.itemType == 'book'\" class=\"pl-1 pr-1\">\n                                            <i class=\"fas fa-book\"></i>\n                                        </span>\n                                        <span *ngIf=\"item.data.itemType == 'bookSection'\" class=\"pl-1 pr-1\">\n                                            <i class=\"fas fa-book-open\"></i>\n                                        </span>\n                                        <span *ngIf=\"item.data.itemType == 'journalArticle'\" class=\"pl-1 pr-1\">\n                                            <i class=\"far fa-newspaper\"></i>\n                                        </span>\n                                        <span *ngIf=\"item.data.itemType == 'note'\" class=\"pl-1 pr-1\">\n                                            <i class=\"far fa-clipboard\"></i>\n                                        </span>\n                                        <span *ngIf=\"item.data.itemType == 'attachment'\" class=\"pl-1 pr-1\">\n                                            <i class=\"fas fa-paperclip\"></i>\n                                        </span>\n                                        <span *ngIf=\"item.data.itemType == 'conferencePaper'\" class=\"pl-1 pr-1\">\n                                            <i class=\"fas fa-chalkboard-teacher\"></i>\n                                        </span>\n                                        <span\n                                            *ngIf=\"item.data.title != undefined && item.data.title != ''\">{{item.data.title |titlecase}}</span>\n                                        <span *ngIf=\"item.data.title == undefined || item.data.title == ''\"\n                                            class=\"font-italic\">No title</span>\n                                    </td>\n                                    <td style=\"width: 30%\">\n                                        <span *ngIf=\"item.data.creators != undefined\">\n                                            <span *ngFor=\"let author of item.data.creators; let i = index\">\n                                                <span *ngIf=\"author.creatorType == 'author'\">\n                                                    {{author.lastName | titlecase}} {{author.firstName | titlecase}} \n                                                </span>\n                                            </span>\n                                            <span *ngIf=\"!checkIfCreatorExist(item.data.creators)\"\n                                                class=\"font-italic\">No data</span>\n                                        </span>\n                                        <span *ngIf=\"item.data.creators == undefined\" class=\"font-italic\">No data</span>\n                                    </td>\n                                    <td style=\"width: 20%\">\n                                        <span *ngIf=\"item.data.date != undefined && item.data.date != ''\">\n                                            {{item.data.date | titlecase}}\n                                        </span>\n                                        <span *ngIf=\"item.data.date == undefined || item.data.date == ''\"\n                                            class=\"font-italic\">\n                                            No info\n                                        </span>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <p class=\"font-italic text-muted no-results\" *ngIf=\"bibliography.length == 0\">No results</p>\n                    </div>\n\n\n                </div>\n                <div class=\"col-md-4\" style=\"font-size: 14px;\">\n                    <div class=\"row\">\n                        <div class=\"col-md-12 item-description\"\n                            style=\"height: calc(100vh - 37rem); overflow: auto; font-size: 13px;\">\n                            <div *ngIf=\"!selectedItem\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-12\">\n                                        <p class=\"text-muted text-center align-middle mb-1 font-italic\">\n                                            No item selected\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div *ngIf=\"selectedItem\">\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.itemType != '' && selectedItem.data.itemType != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Item type\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.itemType | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.title != '' && selectedItem.data.title != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Title\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.title | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.creators != undefined && selectedItem.data.creators.length > 0 && checkIfCreatorExist(selectedItem.data.creators)\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Author\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <span *ngFor=\"let author of selectedItem.data.creators\">\n                                            <span *ngIf=\"author.creatorType == 'author'\">\n                                                <p class=\"font-weight-normal mb-1\">\n                                                    {{author.firstName | titlecase}} {{author.lastName | titlecase}}\n                                                </p>\n                                            </span>\n                                        </span>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.creators != undefined && selectedItem.data.creators.length > 0\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Editor\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <span *ngFor=\"let editor of selectedItem.data.creators\">\n                                            <span *ngIf=\"editor.creatorType == 'editor'\">\n                                                <p class=\"font-weight-normal mb-1\">\n                                                    {{editor.firstName | titlecase}} {{editor.lastName | titlecase}}\n                                                </p>\n                                            </span>\n                                        </span>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.publicationTitle != '' && selectedItem.data.publicationTitle != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Publication\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.publicationTitle | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.publisher != '' && selectedItem.data.publisher != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Publisher\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.publisher | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.issue != '' && selectedItem.data.issue != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Issue\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.issue | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.pages != '' && selectedItem.data.pages != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Pages\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.pages | titlecase }}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.place != '' && selectedItem.data.place != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Place\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.place | titlecase }}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.date != '' && selectedItem.data.pages != date\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Date\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.date | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.journalAbbreviation != '' && selectedItem.data.journalAbbreviation != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Journal Abbr\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.journalAbbreviation | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.DOI != '' && selectedItem.data.DOI != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            <a class=\"text-muted\" href=\"{{'https://doi.org/'+selectedItem.data.DOI}}\"\n                                                target=\"_blank\">DOI <i class=\"fas fa-external-link-alt\"></i></a>\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.DOI | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.ISSN != '' && selectedItem.data.ISSN != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            ISSN\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.ISSN | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.url != '' && selectedItem.data.url != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            <a class=\"text-muted\" href=\"{{selectedItem.data.url}}\" target=\"_blank\">URL\n                                                <i class=\"fas fa-external-link-alt\"></i></a>\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.url}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.accessDate != '' && selectedItem.data.accessDate != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Accessed\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.accessDate}}\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-md-12\" style=\"height: calc(40vh - 10rem); overflow: auto; font-size: 13px;\">\n                            <div *ngIf=\"!selectedItem\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-12\">\n                                        <p class=\"text-muted text-center align-middle mb-1 font-italic\">\n                                            No item selected\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div\n                                *ngIf=\"selectedItem && (selectedItem.data.abstractNote == '' || selectedItem.data.abstractNote == undefined)\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-12\">\n                                        <p class=\"text-muted text-center align-middle mb-1 font-italic\">\n                                            No info\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div\n                                *ngIf=\"selectedItem && (selectedItem.data.abstractNote != '' && selectedItem.data.abstractNote != undefined)\">\n                                <p class=\"text-muted font-weight-bold\">\n                                    Abstract\n                                </p>\n                                <p class=\"font-weight-normal\">\n                                    {{selectedItem.data.abstractNote}}\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-md-12 d-flex justify-content-end\">\n                    <button class=\"btn btn-secondary w-25\" [disabled]=\"!selectedItem\" (click)=\"addBibliographyItem(selectedItem)\">Save</button>\n                    <!-- <button class=\"btn btn-secondary\" (click)=\"addBibliography.hide()\">Close</button> -->\n                </div>\n            </div>\n        </div>\n    </ng-container>\n\n    <ng-container class=\"app-modal-footer\">\n    </ng-container>\n</app-modal>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-text-detail',\n  templateUrl: './text-detail.component.html',\n  styleUrls: ['./text-detail.component.scss']\n})\nexport class TextDetailComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","\n\n<div id=\"epigraphy-accordion\">\n\n<app-epigraphy-detail></app-epigraphy-detail>\n<app-edit-detail></app-edit-detail>\n\n</div>","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router } from '@angular/router';\nimport { KeycloakAuthGuard, KeycloakService } from 'keycloak-angular';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuard extends KeycloakAuthGuard {\n  \n  constructor(\n    protected readonly router: Router,\n    protected readonly keycloak: KeycloakService\n  ) {\n    super(router, keycloak);\n  }\n  \n  async isAccessAllowed(\n    route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Promise<boolean | UrlTree> {\n    \n    if (!this.authenticated) {\n      await this.keycloak.login({\n        redirectUri: window.location.origin + '/epilexo_itant/'+ state.url, /* aggiungere '/epilexo/' in produzione */\n      });\n    }\n\n    const requiredRoles = route.data.roles;\n    if (!(requiredRoles instanceof Array) || requiredRoles.length === 0) {\n      return true;\n    } else {\n      if (!this.roles || this.roles.length === 0) {\n        return false;\n      }\n    }\n    if (!requiredRoles.every((role) => this.roles.includes(role))) {\n      this.router.navigate(['/']);\n    }\n    return requiredRoles.every((role) => this.roles.includes(role));\n  }\n}","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport { Component, ElementRef, OnDestroy, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport * as Recogito from '@recogito/recogito-js';\nimport { Subscription } from 'rxjs';\nimport { DocumentSystemService } from 'src/app/services/document-system/document-system.service';\nimport { ExpanderService } from 'src/app/services/expander/expander.service';\n\n\n@Component({\n  selector: 'app-epigraphy-tab',\n  templateUrl: './epigraphy-tab.component.html',\n  styleUrls: ['./epigraphy-tab.component.scss'],\n  animations: [\n    trigger('slideInOut', [\n      state('in', style({\n        height: 'calc(100vh - 15rem)',\n        \n      })),\n      state('out', style({\n        height: 'calc(50vh - 10rem)',\n      })),\n      transition('in => out', animate('400ms ease-in-out')),\n      transition('out => in', animate('400ms ease-in-out'))\n    ])\n  ]\n})\n\nexport class EpigraphyTabComponent implements OnInit, OnDestroy {\n  exp_trig = '';\n  name: any;\n  revisor:any;\n  object : any;\n  epigraphyData: any;\n\n  subscription: Subscription;\n  @ViewChild('expanderEpigraphy') expander_body: ElementRef;\n\n  constructor(private documentService: DocumentSystemService, private expand : ExpanderService, private rend: Renderer2) { }\n\n  ngOnInit(): void {\n\n    this.subscription = this.documentService.epigraphyData$.subscribe(\n      object => {\n        if(this.object != object){\n          this.epigraphyData = null; \n        }\n\n        console.log(object)\n\n        if(object!=null){\n          this.object = object\n\n          this.epigraphyData = this.object;\n          if(this.object != null){\n            setTimeout(() => {\n              //@ts-ignore\n              $('#epigraphyTabModal').modal('hide');\n              $('.modal-backdrop').remove();\n              var timer = setInterval((val)=>{                 \n                try{\n                    //@ts-ignore\n                    $('#epigraphyTabModal').modal('hide');\n                    if(!$('#epigraphyTabModal').is(':visible')){\n                      clearInterval(timer)\n                    }\n                    \n                }catch(e){\n                    console.log(e)\n                }    \n              }, 10)\n            }, 500);\n            /* this.name = this.object.name; */\n  /*           this.revisor = this.object.revisor;\n   */          \n            \n          }\n        }else{\n          this.epigraphyData = null;\n        }\n        \n      },error => {},\n     \n    );\n    \n    /* console.log('My Content: ' + document.getElementById('pippo'));\n\n    var r = Recogito.init({\n      content: document.getElementById('pippo'), // Element id or DOM node to attach to\n      locale: 'auto',\n      widgets: [\n        //I intend to include this plugin this way.\n        //{ widget: Recogito.CommentsMention, userSuggestions: users },\n        { widget: 'COMMENT' },\n        { widget: 'TAG', vocabulary: ['Place', 'Person', 'Event', 'Organization', 'Animal'] }\n      ],\n      //relationVocabulary: ['isRelated', 'isPartOf', 'isSameAs ']\n    });\n\n    // Add an event handler  \n    r.on('createAnnotation', function (annotation) {\n      console.log('Annotation Added: ' + JSON.stringify(annotation))\n    });\n\n    r.on('selectAnnotation', function(a) {\n      console.log('selected', a);\n    });\n\n    r.on('updateAnnotation', function(annotation, previous) {\n      console.log('updated', previous, 'with', annotation);\n    });\n\n    // Switch annotation mode (annotation/relationships)\n    var annotationMode = 'ANNOTATION'; // or 'RELATIONS'\n\n    var toggleModeBtn = document.getElementById('toggle-mode');\n    toggleModeBtn.addEventListener('click', function() {\n      if (annotationMode === 'ANNOTATION') {\n        toggleModeBtn.innerHTML = 'MODE: RELATIONS';\n        annotationMode = 'RELATIONS';\n      } else  {\n        toggleModeBtn.innerHTML = 'MODE: ANNOTATION';\n        annotationMode = 'ANNOTATION';\n      }\n\n      r.setMode(annotationMode);\n    }); */\n\n    this.expand.expEpigraphy$.subscribe(\n      trigger => {\n        setTimeout(() => {\n         // console.log(\"trigger epigraphy-tab: \", trigger)\n          if(trigger){\n            let isEditExpanded = this.expand.isEditTabExpanded();\n            let isEpigraphyExpanded = this.expand.isEpigraphyTabExpanded();\n         //   console.log(isEditExpanded, isEpigraphyExpanded)\n            \n            if(!isEditExpanded){\n              \n              this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(100vh - 15rem)')\n              this.exp_trig = 'in';\n              this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(100vh - 15rem)');\n            }else{\n              \n              this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 10rem)');\n              this.exp_trig = 'in';\n              this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 10rem)');\n              \n            }\n            \n            \n          }else if(trigger==null){\n            return;\n          }else{\n            this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 10rem)');\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 10rem)');\n            this.exp_trig = 'out';\n          }\n        }, 100);\n        \n      }\n    );\n\n    this.expand.expEdit$.subscribe(\n      trigger => {\n        setTimeout(() => {\n          if(trigger){\n            this.exp_trig = 'in';\n            this.rend.setStyle(this.expander_body.nativeElement, 'height', 'calc(50vh - 10rem)')\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 10rem)')\n          }else if(trigger==null){\n            return;\n          }else{\n            this.rend.setStyle(this.expander_body.nativeElement, 'max-height', 'calc(50vh - 10rem)');\n            this.exp_trig = 'out';\n          }\n        }, 100);\n        \n      }\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n}\n","\n\n\n\n<div id=\"cardsAccordion\" class=\"accordion\" [hidden]=\"object == null\">\n    <div class=\"card my-2\">\n        <div class=\"card-header\">\n            <h5 class=\"mb-0 w-100 d-flex justify-content-between align-self-center\">\n                <div>\n                    <span class=\"btn\" *ngIf=\"object != null\">\n                        <!-- <span *ngIf=\"isLexicalEntry\">\n                            Lexical Entry\n                        </span>\n                        <span *ngIf=\"isSense\">\n                            Sense\n                        </span>\n                        <span *ngIf=\"isForm\">\n                            Form\n                        </span> -->\n                        <!-- CREATED BY {{creator}} ON {{creationDate | date :'dd/MM/yyyy hh:mm:ss'}} -->\n\t\t\t\t\t\t{{name}}\n                    </span>\n                </div>\n                <div>\n                   <!--  <div class=\"spinner-border spinner-border-sm m-1\" role=\"status\" *ngIf=\"searchIconSpinner\">\n                        <span class=\"sr-only\">Loading...</span>\n                    </div> -->\n                    <!-- <button class=\"btn btn-link\" *ngIf=\"isLexicalEntry\" (click)=\"removeElementModal.show()\">\n                        <i class=\"fa fa-trash\"></i>\n                    </button>\n                    <button class=\"btn btn-link\" *ngIf=\"isForm\" title=\"delete form\" (click)=\"removeElementModal.show()\">\n                        <i class=\"fa fa-trash\"></i>\n                    </button>\n                    <button class=\"btn btn-link\" *ngIf=\"isSense\" title=\"delete sense\"\n                        (click)=\"removeElementModal.show()\">\n                        <i class=\"fa fa-trash\"></i>\n                    </button> -->\n                    <!-- <button class=\"btn btn-link\" (click)=\"changeStatus()\" *ngIf=\"isLexicalEntry\">\n                        <i class=\"fa fa-circle\" [hidden]=\"lock!=0\" style=\"color: red\"></i>\n                        <i class=\"fa fa-circle\" [hidden]=\"lock!=1\" style=\"color: yellow\"></i>\n                        <i class=\"fa fa-circle locked-tooltip\" [hidden]=\"lock!=2\" data-toggle=\"tooltip\"\n                            data-placement=\"bottom\" data-html=\"true\" title=\"Locked tooltip\" style=\"color:green;\"></i>\n                    </button> -->\n                </div>\n            </h5>\n        </div>\n        <div #expanderEpigraphy [@slideInOut]=\"exp_trig\" class=\"card-body epigraphy-tab-body\">\n            \n            <div id=\"epigraphyTabModal\" class=\"modal fade\" role=\"dialog\">\n                <div class=\"modal-dialog\">\n\n                    <!-- Modal content-->\n                    <div class=\"modal-content\">\n                        <div class=\"modal-body\">\n                            <div class=\"d-flex justify-content-center\">\n                                <div class=\"spinner-border\" role=\"status\">\n                                    <span class=\"sr-only\">Loading...</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n\t\t\t<app-epigraphy-form [epiData]=\"epigraphyData\"></app-epigraphy-form>\n            <!-- <app-lexical-entry-core-form [lexData]=\"lexicalEntryData\" *ngIf=\"isLexicalEntry\">\n            </app-lexical-entry-core-form>\n            <app-form-core-form [formData]=\"formData\" *ngIf=\"isForm\"></app-form-core-form>\n            <app-sense-core-form [senseData]=\"senseData\" *ngIf=\"isSense\"></app-sense-core-form>\n            <app-lexical-concept-form [lexicalConceptData]=\"lexicalConceptData\" *ngIf=\"isLexicalConcept\">\n            </app-lexical-concept-form> -->\n        </div>\n        <div class=\"card-footer text-muted\">\n            <div class=\"w-100 d-flex justify-content-between align-items-center\">\n                <!-- <div *ngIf=\"object != null\">\n                    <span>LAST UPDATE ON {{lastUpdateDate | date :'dd/MM/yyyy hh:mm:ss'}}</span>\n                </div> -->\n                <!-- <div class=\"btn-group dropup dropleft\">\n                    <button class=\"btn btn-success\" type=\"button\" id=\"dropdownAddLemma\" data-toggle=\"dropdown\"\n                        aria-haspopup=\"true\" aria-expanded=\"false\"> <i class=\"fas fa-plus\"></i> </button>\n                    <div class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"dropdownAddLemma\">\n                        <button class=\"dropdown-item\" title=\"add new form\" (click)=\"addNewForm()\">Add Form</button>\n                        <button class=\"dropdown-item\" (click)=\"addNewSense()\">Add Sense</button>\n                        <button class=\"dropdown-item\" (click)=\"addNewEtymology()\">Add Etymology</button>\n                        <button class=\"dropdown-item\" (click)=\"showBiblioModal()\">Add Bibliography</button>\n                    </div>\n                </div> -->\n            </div>\n        </div>\n    </div>\n</div>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-page-not-found',\n  templateUrl: './page-not-found.component.html',\n  styleUrls: ['./page-not-found.component.scss']\n})\nexport class PageNotFoundComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","\n\n<p>page-not-found works!</p>\n","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, EventEmitter, Input, OnInit, Output, SimpleChanges } from '@angular/core';\nimport { FormArray, FormBuilder, FormGroup } from '@angular/forms';\nimport { Subject, Subscription } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\nimport { ToastrService } from 'ngx-toastr';\n\n@Component({\n  selector: 'app-see-also',\n  templateUrl: './see-also.component.html',\n  styleUrls: ['./see-also.component.scss']\n})\nexport class SeeAlsoComponent implements OnInit {\n\n  @Input() seeAlsoData: any[] | any;\n\n  private subject: Subject<any> = new Subject();\n  private subject_input: Subject<any> = new Subject();\n\n  subscription: Subscription;\n  object: any;\n  peopleLoading = false;\n\n  isSense;\n  isForm;\n  isLexEntry;\n\n  searchResults: [];\n  memorySeeAlso = [];\n  filterLoading = false;\n\n  seeAlsoForm = new FormGroup({\n    seeAlsoArray: new FormArray([this.createSeeAlsoEntry()])\n  })\n\n  seeAlsoArray: FormArray;\n\n  constructor(private formBuilder: FormBuilder, private lexicalService: LexicalEntriesService, private toastr: ToastrService) {\n  }\n\n  ngOnInit() {\n    this.seeAlsoForm = this.formBuilder.group({\n      seeAlsoArray: this.formBuilder.array([])\n    })\n\n    this.onChanges();\n    /* //console.log(this.seeAlsoForm) */\n    this.subject.pipe(debounceTime(1000)).subscribe(\n      data => {\n        console.log(data)\n        this.onSearchFilter(data)\n      }\n    )\n\n    this.subject_input.pipe(debounceTime(1000)).subscribe(\n      data => {\n        this.onChangeSeeAlsoByInput(data['value'], data['i'])\n      }\n    )\n    this.triggerTooltip();\n  }\n\n\n  triggerTooltip() {\n    setTimeout(() => {\n      //@ts-ignore\n      $('.see-also-tooltip').tooltip({\n        trigger: 'hover'\n      });\n    }, 500);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    setTimeout(() => {\n      if (changes.seeAlsoData.currentValue != null) {\n        this.object = changes.seeAlsoData.currentValue;\n        this.seeAlsoArray = this.seeAlsoForm.get('seeAlsoArray') as FormArray;\n        this.seeAlsoArray.clear();\n        this.memorySeeAlso = [];\n\n        //console.log(this.object)\n\n        this.object.array.forEach(element => {\n          if(element.label != ''){\n            this.addSeeAlsoEntry(element.label, element.inferred, element.lexicalEntityInstanceName, element.linkType)\n            this.memorySeeAlso.push(element.lexicalEntityInstanceName)\n          }else{\n            this.addSeeAlsoEntry(element.lexicalEntity, element.inferred, element.lexicalEntityInstanceName, element.linkType)\n            this.memorySeeAlso.push(element.lexicalEntity)\n          }\n          \n          \n        });\n\n        if (this.object.lexicalEntryInstanceName != undefined) {\n          this.isLexEntry = true;\n          this.isForm = false;\n          this.isSense = false;\n        } else if (this.object.formInstanceName != undefined) {\n          this.isLexEntry = false;\n          this.isForm = true;\n          this.isSense = false;\n        } else if (this.object.senseInstanceName != undefined) {\n          this.isLexEntry = false;\n          this.isForm = false;\n          this.isSense = true;\n        }\n\n      } else {\n        this.object = null;\n      }\n    }, 10);\n\n  }\n\n  onChangeSeeAlsoByInput(value, index) {\n\n    if(value.trim() != \"\"){\n      var selectedValues = value;\n      var lexicalElementId = '';\n      if (this.object.lexicalEntryInstanceName != undefined) {\n        lexicalElementId = this.object.lexicalEntryInstanceName;\n      } else if (this.object.formInstanceName != undefined) {\n        lexicalElementId = this.object.formInstanceName;\n      } else if (this.object.senseInstanceName != undefined) {\n        lexicalElementId = this.object.senseInstanceName;\n      }else if (this.object.etymologyInstanceName != undefined) {\n        lexicalElementId = this.object.etymologyInstanceName;\n      }\n\n      console.log(this.object)\n  \n      if (this.memorySeeAlso[index] == \"\" || this.memorySeeAlso[index] == undefined) {\n        let parameters = {\n          type: \"reference\",\n          relation: \"seeAlso\",\n          value: selectedValues\n        }\n        //console.log(parameters)\n        this.lexicalService.updateGenericRelation(lexicalElementId, parameters).subscribe(\n          data => {\n            //console.log(data)\n          }, error => {\n           console.log(error)\n           if(typeof error.error != 'object')\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n            if(error.statusText == 'OK'){\n              this.memorySeeAlso.push(selectedValues)\n              this.toastr.success('SeeAlso updated', '', {\n                timeOut: 5000,\n              });\n            }\n          }\n        )\n      } else {\n        let oldValue = this.memorySeeAlso[index];\n        let parameters = {\n          type: \"reference\",\n          relation: \"seeAlso\",\n          value: selectedValues,\n          currentValue: oldValue\n        }\n        console.log(parameters)\n        this.lexicalService.updateGenericRelation(lexicalElementId, parameters).subscribe(\n          data => {\n            //console.log(data)\n          }, error => {\n            console.log(error)\n            \n            if(error.status == 200){\n              this.memorySeeAlso.push(selectedValues)\n              this.toastr.success('SeeAlso updated', '', {\n                timeOut: 5000,\n              });\n            }else{\n              this.toastr.error(error.error, 'Error', {\n                timeOut: 5000,\n              });\n            }\n          }\n        )\n      }\n    }\n    \n\n  }\n\n  onChangeSeeAlso(seeAlso, index) {\n    //console.log(seeAlso.selectedItems)\n    if (seeAlso.selectedItems.length != 0) {\n      var selectedValues = seeAlso.selectedItems[0].value.lexicalEntryInstanceName;\n      var lexicalElementId = '';\n      if (this.object.lexicalEntryInstanceName != undefined) {\n        lexicalElementId = this.object.lexicalEntryInstanceName;\n      } else if (this.object.formInstanceName != undefined) {\n        lexicalElementId = this.object.formInstanceName;\n      } else if (this.object.senseInstanceName != undefined) {\n        lexicalElementId = this.object.senseInstanceName;\n      }else if (this.object.etymologyInstanceName != undefined) {\n        lexicalElementId = this.object.etymologyInstanceName;\n      }\n\n      if (this.memorySeeAlso[index] == undefined) {\n        let parameters = {\n          type: \"reference\",\n          relation: \"seeAlso\",\n          value: selectedValues\n        }\n        console.log(parameters)\n        this.lexicalService.updateGenericRelation(lexicalElementId, parameters).subscribe(\n          data => {\n            console.log(data)\n            this.toastr.success('SeeAlso updated', '', {\n              timeOut: 5000,\n            });\n            this.lexicalService.refreshLinkCounter('+1')\n          }, error => {\n           console.log(error);\n           if(error.status == 200){\n              this.memorySeeAlso[index] = selectedValues\n              this.lexicalService.refreshLinkCounter('+1')\n              this.toastr.success('SeeAlso updated', '', {\n                timeOut: 5000,\n              });\n            }else{\n              this.toastr.error(error.error, 'Error', {\n                timeOut: 5000,\n              });\n            }\n          }\n        )\n      } else {\n        let oldValue = this.memorySeeAlso[index];\n        let parameters = {\n          type: \"reference\",\n          relation: \"seeAlso\",\n          value: selectedValues,\n          currentValue: oldValue\n        }\n        console.log(parameters)\n        this.lexicalService.updateGenericRelation(lexicalElementId, parameters).subscribe(\n          data => {\n            console.log(data)\n            this.lexicalService.refreshLinkCounter('+1')\n            this.toastr.success('SeeAlso updated', '', {\n              timeOut: 5000,\n            });\n          }, error => {\n            console.log(error)\n            if(error.statusText == 'OK'){\n              this.memorySeeAlso[index] = selectedValues\n              this.lexicalService.refreshLinkCounter('+1')\n              this.toastr.success('SeeAlso updated', '', {\n                timeOut: 5000,\n              });\n            }\n          }\n        )\n      }\n\n    }\n\n\n  }\n\n  deleteData() {\n    this.searchResults = [];\n  }\n\n\n\n  onSearchFilter(data) {\n    this.filterLoading = true;\n    this.searchResults = [];\n    console.log(this.object)\n    if (this.object.lexicalEntryInstanceName != undefined) {\n      let parameters = {\n        text: data,\n        searchMode: \"startsWith\",\n        type: \"\",\n        pos: \"\",\n        formType: \"entry\",\n        author: \"\",\n        lang: \"\",\n        status: \"\",\n        offset: 0,\n        limit: 500\n      }\n      //console.log(data.length)\n      \n      this.lexicalService.getLexicalEntriesList(parameters).subscribe(\n        data => {\n          console.log(data)\n          this.searchResults = data['list']\n          this.filterLoading = false;\n        }, error => {\n          //console.log(error)\n          this.filterLoading = false;\n        }\n      )\n      \n    } else if (this.object.formInstanceName != undefined) {\n      let lexId = this.object.parentInstanceName;\n      let parameters = {\n        text: data,\n        searchMode: \"startsWith\",\n        representationType: \"writtenRep\",\n        author: \"\",\n        offset: 0,\n        limit: 500\n      }\n      \n      this.lexicalService.getFormList(parameters).subscribe(\n        data => {\n          //console.log(data)\n          this.searchResults = data['list']\n          this.filterLoading = false;\n        }, error => {\n          //console.log(error)\n          this.filterLoading = false;\n        }\n      )\n    } else if (this.object.senseInstanceName != undefined) {\n\n      let parameters = {\n        text: data,\n        searchMode: \"startsWith\",\n        type: \"\",\n        pos: \"\",\n        formType: \"entry\",\n        author: \"\",\n        lang: \"\",\n        status: \"\",\n        offset: 0,\n        limit: 500\n      }\n\n      /* this.lexicalService.getLexicalSensesList(parameters).subscribe(\n        data => {\n          //console.log(data)\n          this.searchResults = data\n          this.filterLoading = false;\n        }, error => {\n          //console.log(error)\n          this.filterLoading = false;\n        }\n      ) */\n    } else if (this.object.etymologyInstanceName != undefined) {\n\n      let parameters = {\n        text: data,\n        searchMode: \"startsWith\",\n        type: \"etymon\",\n        pos: \"\",\n        formType: \"entry\",\n        author: \"\",\n        lang: \"\",\n        status: \"\",\n        offset: 0,\n        limit: 500\n      }\n\n      this.lexicalService.getLexicalEntriesList(parameters).subscribe(\n        data => {\n          console.log(data)\n          this.searchResults = data['list']\n          this.filterLoading = false;\n        }, error => {\n          console.log(error)\n          this.filterLoading = false;\n        }\n      )\n    } else {\n      this.filterLoading = false;\n    }\n    //console.log(data)\n\n  }\n\n  triggerSeeAlsoInput(evt, i) {\n    if (evt.key != 'Control' && evt.key != 'Shift' && evt.key != 'Alt') {\n      let value = evt.target.value;\n      this.subject_input.next({ value, i })\n    }\n  }\n\n  triggerSeeAlso(evt) {\n    if (evt.target != undefined) {\n      this.subject.next(evt.target.value)\n    }\n\n  }\n  onChanges(): void {\n    this.seeAlsoForm.valueChanges.pipe(debounceTime(200)).subscribe(searchParams => {\n      //console.log(searchParams)\n    })\n  }\n\n  createSeeAlsoEntry(e?, i?, le?, lt?) {\n    if (e == undefined) {\n      return this.formBuilder.group({\n        entity: null,\n        inferred: false,\n        lexical_entity: null,\n        link_type : 'internal'\n      })\n    } else {\n      return this.formBuilder.group({\n        entity: e,\n        inferred: i,\n        lexical_entity: le,\n        link_type : lt\n      })\n    }\n\n  }\n\n  addSeeAlsoEntry(e?, i?, le?, lt?) {\n    this.seeAlsoArray = this.seeAlsoForm.get('seeAlsoArray') as FormArray;\n\n    if (e == undefined) {\n      this.seeAlsoArray.push(this.createSeeAlsoEntry());\n    } else {\n      this.seeAlsoArray.push(this.createSeeAlsoEntry(e, i, le, lt));\n    }\n\n    \n    this.triggerTooltip();\n  }\n\n  removeElement(index) {\n    this.seeAlsoArray = this.seeAlsoForm.get('seeAlsoArray') as FormArray;\n\n    let lexical_entity = this.seeAlsoArray.at(index).get('lexical_entity').value;\n    //console.log('Lexical Entity: '+lexical_entity)\n    if(lexical_entity == '' || lexical_entity == null){\n      lexical_entity = this.seeAlsoArray.at(index).get('entity').value;\n      //console.log('Entity: '+lexical_entity)\n    }\n\n    if (this.object.lexicalEntryInstanceName != undefined) {\n\n      let lexId = this.object.lexicalEntryInstanceName;\n\n      let parameters = {\n        relation: 'seeAlso',\n        value: lexical_entity\n      }\n\n      //console.log(parameters)\n      //console.log(index)\n      this.lexicalService.deleteLinguisticRelation(lexId, parameters).subscribe(\n        data => {\n          //console.log(data)\n          this.lexicalService.updateCoreCard(this.object)\n          this.toastr.success('SeeAlso deleted', '', {\n            timeOut: 5000,\n          });\n          this.lexicalService.refreshLinkCounter('-11')\n        }, error => {\n          console.log(error)\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n\n          this.lexicalService.refreshLinkCounter('-1')\n        }\n      )\n    } else if (this.object.formInstanceName != undefined) {\n      let formId = this.object.formInstanceName;\n\n      let parameters = {\n        relation: 'seeAlso',\n        value: lexical_entity\n      }\n\n      //console.log(parameters)\n\n      this.lexicalService.deleteLinguisticRelation(formId, parameters).subscribe(\n        data => {\n          //console.log(data)\n          this.lexicalService.refreshLinkCounter('-1')\n          this.lexicalService.updateCoreCard(this.object)\n          this.toastr.success('SeeAlso updated', '', {\n            timeOut: 5000,\n          });\n        }, error => {\n          //console.log(error)\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n        }\n      )\n\n    } else if (this.object.senseInstanceName != undefined) {\n      let senseId = this.object.senseInstanceName;\n\n      let parameters = {\n        type: 'morphology',\n        relation: 'seeAlso',\n        value: lexical_entity\n      }\n\n      //console.log(parameters)\n\n      this.lexicalService.deleteLinguisticRelation(senseId, parameters).subscribe(\n        data => {\n          //console.log(data)\n          this.lexicalService.refreshLinkCounter('-1')\n          this.lexicalService.updateCoreCard(this.object)\n          this.toastr.success('SeeAlso updated', '', {\n            timeOut: 5000,\n          });\n        }, error => {\n          console.log(error)\n        }\n      )\n    } else if (this.object.etymologyInstanceName != undefined) {\n      let etymId = this.object.etymologyInstanceName;\n      this.lexicalService.refreshLinkCounter('-1')\n\n      let parameters = {\n        type: 'morphology',\n        relation: 'seeAlso',\n        value: lexical_entity\n      }\n\n      //console.log(parameters)\n\n      this.lexicalService.deleteLinguisticRelation(etymId, parameters).subscribe(\n        data => {\n          //console.log(data)\n          this.lexicalService.refreshLinkCounter('-1')\n          this.lexicalService.updateCoreCard(this.object)\n          this.toastr.success('SeeAlso updated', '', {\n            timeOut: 5000,\n          });\n        }, error => {\n          console.log(error)\n        }\n      )\n    }\n    this.memorySeeAlso.splice(index, 1)\n    this.seeAlsoArray.removeAt(index);\n\n  }\n\n}\n","\n\n<form [formGroup]=\"seeAlsoForm\">\n    <div class=\"form-group row mt-3\">\n        <div class=\"input-group col-sm-12\">\n            <div class=\"card\">\n                <span class=\"text-id\">SEE ALSO</span>\n                <a (click)=\"addSeeAlsoEntry()\" class=\"pointer\"><span class=\"collapse-icon\"><i\n                            class=\"fa fa-plus-square\"></i></span></a>\n                <div class=\"card-body\">\n\n                    <div formArrayName=\"seeAlsoArray\" class=\"mt-3\">\n\n                        <div *ngFor=\"let seeAlso of seeAlsoForm.get('seeAlsoArray')['controls']; let i = index\">\n                            <div [formGroupName]=\"i\">\n                                <div class=\"d-flex\">\n                                    <div class=\"form-group row ml-2  mr-2 w-100\" *ngIf=\"{switch : seeAlso.get('link_type').value != 'internal'}; let variable\">\n                                        <div class=\"input-group\" *ngIf=\"{boolean : seeAlso.get('inferred').value}; let inf\">\n                                            \n                                            <ng-select #seeAlso formControlName=\"entity\" name=\"entity\"\n                                                (change)=\"onChangeSeeAlso(seeAlso, i)\" (focus)=\"deleteData()\"\n                                                (keyup)=\"triggerSeeAlso($event)\" formControlName=\"entity\" name=\"entity\"\n                                                bindValue=\"label\" class=\"resizeNgSelect\" [items]=\"searchResults\"\n                                                bindLabel=\"label\" placeholder=\"Search entity\" appendTo=\"body\"\n                                                *ngIf=\"!variable.switch && !isSense\" [readonly]=\"inf.boolean\">\n                                            </ng-select>\n                                            <ng-select #seeAlso formControlName=\"entity\" name=\"entity\"\n                                                (change)=\"onChangeSeeAlso(seeAlso, i)\" (focus)=\"deleteData()\"\n                                                (keyup)=\"triggerSeeAlso($event)\" formControlName=\"entity\" name=\"entity\"\n                                                bindValue=\"definition\" class=\"resizeNgSelect\" [items]=\"searchResults\"\n                                                bindLabel=\"definition\" placeholder=\"Search entity\" appendTo=\"body\"\n                                                *ngIf=\"!variable.switch && isSense\" [readonly]=\"inf.boolean\">\n                                            </ng-select>\n                                            <input formControlName=\"entity\" name=\"entity\" type=\"text\"\n                                                class=\"form-control \" (keyup)=\"triggerSeeAlsoInput($event, i)\"\n                                                placeholder=\"Insert URI\" *ngIf=\"variable.switch\">\n\n                                            <div class=\"input-group-append\" *ngIf=\"!inf.boolean\">\n                                                <div class=\"input-group-append ml-2 form-check\">\n                                                    <input class=\"form-check-input see-also-tooltip\" type=\"checkbox\"\n                                                        (change)=\"variable.switch=!variable.switch; variable.switch ? seeAlso.get('link_type').value = 'external' : seeAlso.get('link_type').value = 'internal'\"\n                                                        data-toggle=\"tooltip\" data-placement=\"bottom\"\n                                                        data-trigger=\"hover\"\n                                                        title=\"Clicca per inserire un URI manualmente\"\n                                                        [checked]=\"variable.switch\">\n                                                    <label class=\"form-check-label\" for=\"extCheck\"></label>\n                                                </div>\n                                                <!-- <div class=\"input-group-append ml-2\">\n                                                    <button class=\"btn btn-primary\" type=\"button\"\n                                                        (click)=\"modalRoot2.show()\"><i\n                                                            class=\"fa fa-external-link-alt\"></i></button>\n                                                    <app-modal #modalRoot2 class=\"modal-demo\" [maximizable]=\"true\"\n                                                        [backdrop]=\"false\">\n                                                        <ng-container class=\"app-modal-header\">Demo modal</ng-container>\n                                                        <ng-container class=\"app-modal-body\">\n                                                            <h3>MODAL DIALOG</h3>\n                                                            <p>Lorem Ipsum is simply dummy text of the printing and\n                                                                typesetting\n                                                                industry.\n                                                                Lorem Ipsum has been the industrys standard dummy text\n                                                                ever\n                                                                since the 1500s.</p>\n                                                        </ng-container>\n                                                        <ng-container class=\"app-modal-footer\">\n                                                            <button type=\"button\" class=\"button button3\"\n                                                                (click)=\"modalRoot2.hide()\">Delete</button>\n                                                            <button type=\"button\" class=\"button button1\"\n                                                                (click)=\"modalRoot2.hide()\">Save</button>\n                                                            <button type=\"button\" class=\"button button2\"\n                                                                style=\"float: right;\" (click)=\"modalRoot2.hide()\">Close\n                                                            </button>\n                                                        </ng-container>\n                                                    </app-modal>\n                                                </div> -->\n                                               <!--  <div class=\"input-group-append ml-2\">\n                                                    <button type=\"button\" class=\"btn btn-secondary\" placement=\"top\" ngbTooltip=\"Enable LiLa endpoint\" title=\"Enable LiLa endpoint\" data-toggle=\"button\" aria-pressed=\"false\" autocomplete=\"off\" style=\"border-radius: .5rem;\">\n                                                        <img src=\"../../../../assets/images/graphql.png\" alt=\"Avatar\" class=\"image\" style=\"height: 20px;\">\n                    \n                                                      </button>\n                                                </div> -->\n                                                <div class=\"input-group-append ml-2\">\n                                                    <button (click)=\"removeElement(i)\" class=\"btn btn-danger\"\n                                                        type=\"button\"><i class=\"fa fa-trash-alt\"></i></button>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</form>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-profile-page',\n  templateUrl: './profile-page.component.html',\n  styleUrls: ['./profile-page.component.scss']\n})\nexport class ProfilePageComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","\n\n<div class=\"container-fluid profile-page\">\n    <div class=\"row h-100\">\n        <div class=\"col-md-12\">\n            <app-profiles-table></app-profiles-table>\n        </div>\n    </div>\n</div>\n","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, Input, OnInit, SimpleChanges } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\n\nimport { FormBuilder, FormGroup, FormArray, FormControl } from '@angular/forms';\nimport { debounceTime } from 'rxjs/operators';\n@Component({\n  selector: 'app-lexical-concept-form',\n  templateUrl: './lexical-concept-form.component.html',\n  styleUrls: ['./lexical-concept-form.component.scss']\n})\nexport class LexicalConceptFormComponent implements OnInit {\n\n  switchInput = false;\n  subscription: Subscription;\n  object: any;\n  peopleLoading = false;\n  counter = 0;\n  componentRef: any;\n\n  @Input() lexicalConceptData : any;\n\n  lexicalConceptForm = new FormGroup({\n    label: new FormControl(''),\n    definition : new FormControl(''),\n    hierachicalRelation: new FormArray([this.createHierachicalRelation()]),\n    scheme: new FormArray([this.createScheme()]),\n    conceptReference: new FormArray([this.createConceptReference()])\n  })\n\n  hierachicalRelation: FormArray;\n  scheme: FormArray;\n  conceptReference: FormArray;\n\n  constructor(private lexicalService: LexicalEntriesService, private formBuilder: FormBuilder) {\n  }\n\n  ngOnInit() {\n    \n    this.lexicalConceptForm = this.formBuilder.group({\n      label: '',\n      definition : '',\n      hierachicalRelation: this.formBuilder.array([this.createHierachicalRelation()]),\n      scheme: this.formBuilder.array([this.createScheme()]),\n      conceptReference: this.formBuilder.array([this.createConceptReference()])\n    })\n    this.onChanges();\n    this.loadPeople();\n    this.triggerTooltip();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    setTimeout(()=> {\n      if(this.object != changes.lexicalConceptData.currentValue){\n        if(this.conceptReference != null){\n          this.conceptReference.clear();\n          this.hierachicalRelation.clear();\n          this.scheme.clear();\n        }\n      }\n      this.loadPeople();\n      this.object = changes.lexicalConceptData.currentValue;\n      if(this.object != null){\n        this.lexicalConceptForm.get('label').setValue(this.object.label, {emitEvent:false});\n      }\n      this.triggerTooltip();\n  }, 10)\n  }\n\n  triggerTooltip(){\n    setTimeout(() => {\n      //@ts-ignore\n      $('.vartrans-tooltip').tooltip({\n        trigger : 'hover'\n      });\n    }, 500);\n  }\n\n  private loadPeople() {\n    this.peopleLoading = true;\n    /* this.dataService.getPeople().subscribe(x => {\n      this.people = x;\n      this.peopleLoading = false;\n    }); */\n  }\n\n  onChanges(): void {\n    this.lexicalConceptForm.valueChanges.pipe(debounceTime(200)).subscribe(searchParams => {\n      //console.log(searchParams)\n    })\n  }\n\n  createScheme(): FormGroup {\n    return this.formBuilder.group({\n      target: ''\n    })\n  }\n\n  addScheme() {\n    this.scheme = this.lexicalConceptForm.get('scheme') as FormArray;\n    this.scheme.push(this.createScheme());\n    this.triggerTooltip();\n  }\n\n  removeScheme(index) {\n    this.scheme = this.lexicalConceptForm.get('scheme') as FormArray;\n    this.scheme.removeAt(index);\n  }\n\n  addHierachicalRelation() {\n    this.hierachicalRelation = this.lexicalConceptForm.get('hierachicalRelation') as FormArray;\n    this.hierachicalRelation.push(this.createHierachicalRelation());\n    this.triggerTooltip();\n  }\n\n  removeHierachicalRelation(index) {\n    this.hierachicalRelation = this.lexicalConceptForm.get('hierachicalRelation') as FormArray;\n    this.hierachicalRelation.removeAt(index);\n  }\n\n  addConceptReference() {\n    this.conceptReference = this.lexicalConceptForm.get('conceptReference') as FormArray;\n    this.conceptReference.push(this.createConceptReference());\n    this.triggerTooltip();\n  }\n\n  removeConceptReference(index) {\n    this.conceptReference = this.lexicalConceptForm.get('conceptReference') as FormArray;\n    this.conceptReference.removeAt(index);\n  }\n\n\n  createHierachicalRelation(): FormGroup {\n    return this.formBuilder.group({\n      relation: '',\n      entity: ''\n    })\n  }\n\n  createConceptReference(): FormGroup {\n    return this.formBuilder.group({\n      target: ''\n    })\n  }\n\n}\n\n","\n\n<form [formGroup]=\"lexicalConceptForm\" *ngIf=\"object!=null\">\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <label for=\"inputLabel\" class=\"col-xl-3 col-form-label\">Label:</label>\n        <div class=\"input-group col-xl-5\">\n            <input formControlName=\"label\" name=\"label\" type=\"text\" class=\"form-control\" placeholder=\"\">\n        </div>\n    </div>\n\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Definition:</label>\n        <div class=\"input-group col-lg-8\">\n            <textarea formControlName=\"definition\" name=\"definition\" class=\"form-control\" style=\"resize: none;\"></textarea>\n        </div>\n    </div>\n\n\n    <!-- HIERARCHICAL RELATION -->\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <div class=\"input-group col-xl-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>HIERARCHICAL RELATION</b></span>\n                <a (click)=\"addHierachicalRelation()\" class=\"pointer\"><span class=\"collapse-icon\"><i class=\"fa fa-plus-square\"></i></span></a>\n\n                <div class=\"card-body\">\n                    <div class=\"form-group row ml-2 mt-3 mr-2\" formArrayName=\"hierachicalRelation\" *ngFor=\"let direct of lexicalConceptForm.get('hierachicalRelation')['controls']; let i = index\">\n                        <div class=\"col-xl-5\" [formGroupName]=\"i\">\n                            <select class=\"form-control\" formControlName=\"relation\" name=\"relation\">\n                                <option>Relations...</option>\n                                <option>...</option>\n                            </select>\n                        </div>\n                        <div class=\"input-group col-xl-7\" *ngIf=\"{switch : false}; let variable\" [formGroupName]=\"i\">\n                            <ng-select formControlName=\"entity\" name=\"entity\" [items]=\"people\" bindValue=\"name\" bindLabel=\"name\" placeholder=\"Search entity\" appendTo=\"body\"\n                                [loading]=\"peopleLoading\" *ngIf=\"!variable.switch\">\n                            </ng-select>\n                            <input formControlName=\"entity\" name=\"entity\" type=\"text\" class=\"form-control\" placeholder=\"Insert URI\" *ngIf=\"variable.switch\">\n                            <div class=\"input-group-append ml-3 form-check\" style=\"align-items: center;\">\n                                <input class=\"form-check-input vartrans-tooltip\" type=\"checkbox\" (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\" data-placement=\"bottom\" data-trigger=\"hover\" title=\"Clicca per inserire un URI manualmente\">\n                            </div>\n                            <div class=\"input-group-append ml-2\">\n                                <button class=\"btn btn-primary\" type=\"button\"><i\n                                        class=\"fa fa-external-link-alt\" (click)=\"modalRoot.show()\"></i></button>\n                                <app-modal #modalRoot class=\"modal-demo\" [maximizable]=\"true\" [backdrop]=\"false\">\n                                    <ng-container class=\"app-modal-header\">Demo modal</ng-container>\n                                    <ng-container class=\"app-modal-body\">\n                                        <h3>MODAL DIALOG</h3>\n                                        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.\n                                            Lorem Ipsum has been the industrys standard dummy text ever since the 1500s.</p>\n                                    </ng-container>\n                                    <ng-container class=\"app-modal-footer\">\n                                        <button type=\"button\" class=\"button button3\" (click)=\"modalRoot.hide()\">Delete</button>\n                                        <button type=\"button\" class=\"button button1\" (click)=\"modalRoot.hide()\">Save</button>\n                                        <button type=\"button\" class=\"button button2\" style=\"float: right;\"\n                                            (click)=\"modalRoot.hide()\">Close\n                                        </button>\n                                    </ng-container>\n                                </app-modal>\n                            </div>\n                            <div class=\"input-group-append ml-2\">\n                                <button (click)=\"removeHierachicalRelation(i)\" class=\"btn btn-danger\" type=\"button\"><i class=\"fa fa-trash-alt\"></i></button>\n                            </div>\n                        </div>\n                    </div>\n                   \n                </div>\n            </div>\n        </div>\n    </div>\n    \n    <!-- SCHEME -->\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <div class=\"input-group col-xl-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>SCHEME</b></span>\n                <a class=\"pointer\" (click)=\"addScheme()\"><span class=\"collapse-icon\"><i class=\"fa fa-plus-square\"></i></span></a>\n\n                <div class=\"card-body\">\n                    <div formArrayName=\"scheme\">\n                        <div *ngFor=\"let scheme of lexicalConceptForm.get('scheme')['controls']; let i = index\">\n                            \n                            <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                <div class=\"input-group col-xl-9\" *ngIf=\"{switch : false}; let variable\" [formGroupName]=\"i\">\n                                    <ng-select formControlName=\"target\" name=\"target\" [items]=\"people\" bindValue=\"name\" bindLabel=\"name\" placeholder=\"Search entity\" appendTo=\"body\"\n                                        [loading]=\"peopleLoading\" *ngIf=\"!variable.switch\">\n                                    </ng-select>\n                                    <input formControlName=\"target\" name=\"target\" type=\"text\" class=\"form-control\" placeholder=\"Insert URI\" *ngIf=\"variable.switch\">\n                                    <div class=\"input-group-append ml-3 form-check\" style=\"align-items: center;\">\n                                        <input class=\"form-check-input vartrans-tooltip\" type=\"checkbox\" (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\" data-placement=\"bottom\" data-trigger=\"hover\" title=\"Clicca per inserire un URI manualmente\">\n                                    </div>\n                                    <div class=\"input-group-append ml-2\">\n                                        <button class=\"btn btn-primary\" type=\"button\"><i\n                                                class=\"fa fa-external-link-alt\" ></i></button>\n                                    </div>\n                                    <div class=\"input-group-append ml-2\">\n                                        <button (click)=\"removeScheme(i)\" class=\"btn btn-danger\" type=\"button\"><i class=\"fa fa-trash-alt\"></i></button>\n                                    </div>\n                                    <div class=\"input-group-append ml-2\">\n                                        <button class=\"btn btn-outline-primary\" type=\"button\" (click)=\"modalRoot.show()\">\n                                            <i class=\"fa fa-plus\"></i>\n                                        </button>\n                                        <app-modal #modalRoot class=\"modal-demo\">\n                                            <ng-container class=\"app-modal-header\">Concept scheme creation</ng-container>\n                                            <ng-container class=\"app-modal-body\">\n                                                <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                                    <label for=\"inputLabel\" class=\"col-xl-3 col-form-label\">Label:</label>\n                                                    <div class=\"input-group col-xl-5\">\n                                                        <input type=\"text\" class=\"form-control\" placeholder=\"\">\n                                                    </div>\n                                                </div>\n                                            \n                                                <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                                    <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Definition:</label>\n                                                    <div class=\"input-group col-lg-8\">\n                                                        <textarea class=\"form-control\" style=\"resize: none;\"></textarea>\n                                                    </div>\n                                                </div>\n                                            </ng-container>\n                                        </app-modal>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    \n                </div>\n            </div>\n        </div>\n    </div>\n\n     <!-- CONCEPT REFERENCE -->\n     <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <div class=\"input-group col-xl-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>CONCEPT REFERENCE</b></span>\n                <a class=\"pointer\" (click)=\"addConceptReference()\"><span class=\"collapse-icon\"><i class=\"fa fa-plus-square\"></i></span></a>\n\n                <div class=\"card-body\">\n                    <div formArrayName=\"conceptReference\">\n                        <div *ngFor=\"let scheme of lexicalConceptForm.get('conceptReference')['controls']; let i = index\">\n                            \n                            <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                <div class=\"input-group col-xl-9\" *ngIf=\"{switch : false}; let variable\" [formGroupName]=\"i\">\n                                    <ng-select formControlName=\"target\" name=\"target\" [items]=\"people\" bindValue=\"name\" bindLabel=\"name\" placeholder=\"Search entity\" appendTo=\"body\"\n                                        [loading]=\"peopleLoading\" *ngIf=\"!variable.switch\">\n                                    </ng-select>\n                                    <input formControlName=\"target\" name=\"target\" type=\"text\" class=\"form-control\" placeholder=\"Insert URI\" *ngIf=\"variable.switch\">\n                                    <div class=\"input-group-append ml-3 form-check\" style=\"align-items: center;\">\n                                        <input class=\"form-check-input vartrans-tooltip\" type=\"checkbox\" (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\" data-placement=\"bottom\" data-trigger=\"hover\" title=\"Clicca per inserire un URI manualmente\">\n                                    </div>\n                                    <div class=\"input-group-append ml-2\">\n                                        <button class=\"btn btn-primary\" type=\"button\"><i\n                                                class=\"fa fa-external-link-alt\" ></i></button>\n                                    </div>\n                                    <div class=\"input-group-append ml-2\">\n                                        <button (click)=\"removeConceptReference(i)\" class=\"btn btn-danger\" type=\"button\"><i class=\"fa fa-trash-alt\"></i></button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    \n                </div>\n            </div>\n        </div>\n    </div>\n\n    <!-- SHOW INFERENCE -->\n    <!-- <div class=\"form-group row ml-2 mt-3 mr-2 inference\">\n        <div class=\"input-group col-xl-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><a data-toggle=\"collapse\" href=\"#inferenceCollapse\" role=\"button\" aria-expanded=\"false\" aria-controls=\"inferenceCollapse\"><span class=\"badge badge-warning\"><b style=\"color: white; font-size: 12px;\">SHOW INFERENCE</b></span></a></span>\n                <div class=\"card-body\">\n                    <div class=\"collapse\" id=\"inferenceCollapse\">\n\n                        <div class=\"form-group row ml-2 mr-2\">\n                            <label class=\"col-xl-3 col-form-label\">Lexicalized Sense:</label>\n                            <div class=\"col-xl-9 card mt-0 p-0\" style=\"max-height: 10vh;overflow: auto; border: 1px solid rgba(0,0,0,.125) !important\">    \n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Sense</label>\n                                </div>      \n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Sense</label>\n                                </div>        \n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Sense</label>\n                                </div>  \n                            </div>\n                        </div>\n\n                        <div class=\"form-group row ml-2 mr-2\">\n                            <label class=\"col-xl-3 col-form-label\">Is Evoked By:</label>\n                            <div class=\"col-xl-9 card mt-0 p-0\" style=\"max-height: 10vh;overflow: auto; border: 1px solid rgba(0,0,0,.125) !important\">    \n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Entry@LANG</label>\n                                </div> \n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Entry@LANG</label>\n                                </div>          \n                            </div>\n                        </div>\n\n                        <div class=\"form-group row ml-2 mr-2\">\n                            <label class=\"col-xl-3 col-form-label\">Narrower:</label>\n                            <div class=\"col-xl-9 card mt-0 p-0\" style=\"max-height: 10vh;overflow: auto; border: 1px solid rgba(0,0,0,.125) !important\">    \n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Concept</label>\n                                    <label class=\"col-xl-6 col-form-label\">Depth</label>\n                                </div>           \n                            </div>\n                        </div>\n                        \n                        <div class=\"form-group row ml-2 mr-2\">\n                            <label class=\"col-xl-3 col-form-label\">Borader:</label>\n                            <div class=\"col-xl-9 card mt-0 p-0\" style=\"max-height: 10vh;overflow: auto; border: 1px solid rgba(0,0,0,.125) !important\">    \n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Concept</label>\n                                    <label class=\"col-xl-6 col-form-label\">Depth</label>\n                                </div>           \n                            </div>\n                        </div>\n                        \n                    </div>\n                </div>\n            </div>\n        </div>\n    </div> -->\n</form>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, Input, OnInit, SimpleChanges } from '@angular/core';\nimport { FormArray, FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Subject, Subscription } from 'rxjs';\nimport { debounceTime, pairwise, startWith } from 'rxjs/operators';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\nimport { ToastrService } from 'ngx-toastr';\n\n\n@Component({\n  selector: 'app-sense-core-form',\n  templateUrl: './sense-core-form.component.html',\n  styleUrls: ['./sense-core-form.component.scss']\n})\nexport class SenseCoreFormComponent implements OnInit {\n\n  @Input() senseData: any;\n\n  private subject_def: Subject<any> = new Subject();\n  private subject_ex_def: Subject<any> = new Subject();\n\n  switchInput = false;\n  subscription: Subscription;\n  object: any;\n  peopleLoading = false;\n  counter = 0;\n\n  disableAddDef = false;\n\n  definitionData = [];\n  definitionMemory = [];\n\n  staticDef = [];\n\n  senseCore = new FormGroup({\n    definition: new FormArray([this.createDefinition()]),\n    confidence: new FormControl(null),\n    usage: new FormControl('', [Validators.required, Validators.minLength(5)]),\n    topic: new FormControl('', [Validators.required, Validators.minLength(5)]),\n    reference: new FormArray([this.createReference()]),\n    lexical_concept: new FormArray([this.createLexicalConcept()]),\n    sense_of: new FormControl('', [Validators.required, Validators.minLength(5)])\n  })\n\n  definitionArray: FormArray;\n  lexicalConceptArray: FormArray;\n\n  constructor(private lexicalService: LexicalEntriesService, private formBuilder: FormBuilder, private toastr: ToastrService) { }\n\n  ngOnInit() {\n    setTimeout(() => {\n      //@ts-ignore\n      $('.denotes-tooltip').tooltip({\n        trigger: 'hover'\n      });\n    }, 1000);\n    this.loadPeople();\n\n    this.subject_def.pipe(debounceTime(1000)).subscribe(\n      data => {\n        this.onChangeDefinition(data)\n      }\n    )\n\n    this.subject_ex_def.pipe(debounceTime(1000)).subscribe(\n      data => {\n        this.onChangeExistingDefinition(data['evt'], data['i'])\n      }\n    )\n\n    this.senseCore = this.formBuilder.group({\n      definition: this.formBuilder.array([]),\n      confidence: false,\n      usage: '',\n      topic: '',\n      reference: this.formBuilder.array([this.createReference()]),\n      lexical_concept: this.formBuilder.array([]),\n      sense_of: ''\n    })\n\n    this.onChanges();\n\n  }\n\n  private loadPeople() {\n    /* this.peopleLoading = true;\n    this.dataService.getPeople().subscribe(x => {\n      this.people = x;\n      this.peopleLoading = false;\n    }); */\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    setTimeout(() => {\n      if (this.object != changes.senseData.currentValue) {\n        this.lexicalConceptArray = this.senseCore.get('lexical_concept') as FormArray;\n        this.lexicalConceptArray.clear();\n\n        this.definitionArray = this.senseCore.get('definition') as FormArray;\n        this.definitionArray.clear();\n\n        this.staticDef = [];\n      }\n      this.object = changes.senseData.currentValue;\n      if (this.object != null) {\n\n        this.definitionData = [];\n        this.definitionMemory = [];\n\n        for (var i = 0; i < this.object.definition.length; i++) {\n          const pId = this.object.definition[i]['propertyID'];\n          const pVal = this.object.definition[i]['propertyValue'];\n          this.definitionData.push(pId);\n\n          if (pId == 'definition' && pVal == '') {\n            this.definitionMemory.push(pId);\n            this.addDefinition(pId, pVal)\n\n            this.staticDef.push({ trait: pId, value: pVal })\n          }\n\n          if (pVal != '') {\n            this.definitionMemory.push(pId);\n            this.addDefinition(pId, pVal)\n\n            this.staticDef.push({ trait: pId, value: pVal })\n          }\n        }\n        //console.log(this.object)\n        this.senseCore.get('confidence').setValue(this.object.confidence, { emitEvent: false })\n        this.senseCore.get('topic').setValue(this.object.topic, { emitEvent: false })\n        this.senseCore.get('usage').setValue(this.object.usage, { emitEvent: false });\n        this.addLexicalConcept(this.object.concept);\n        this.senseCore.get('sense_of').setValue(this.object.sense, { emitEvent: false });\n      }\n    }, 10)\n  }\n\n\n  onChanges(): void {\n    this.senseCore.get('usage').valueChanges.pipe(debounceTime(1000)).subscribe(newDef => {\n      this.lexicalService.spinnerAction('on');\n      let senseId = this.object.senseInstanceName;\n      let parameters = {\n        relation: \"usage\",\n        value: newDef\n      }\n      this.lexicalService.updateSense(senseId, parameters).subscribe(\n        data => {\n          console.log(data)\n          this.lexicalService.spinnerAction('off');\n          //this.lexicalService.refreshLexEntryTree();\n          this.lexicalService.updateCoreCard(this.object)\n        }, error => {\n          console.log(error)\n          //this.lexicalService.refreshLexEntryTree();\n          this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n          this.lexicalService.spinnerAction('off');\n          if (error.status != 200) {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n          } else {\n            this.toastr.success('Sense usage changed', '', {\n              timeOut: 5000,\n            });\n          }\n        }\n      )\n    })\n\n    this.senseCore.controls['confidence'].valueChanges.pipe(startWith(undefined), debounceTime(1000), pairwise()).subscribe(newConfidence => {\n      console.log('Old value: ', newConfidence[0]);\n      console.log('New value: ', newConfidence[1]);\n      this.lexicalService.spinnerAction('on');\n      let parameters = {};\n      let senseId = this.object.senseInstanceName;\n      let oldValue = newConfidence[0];\n      let newValue = newConfidence[1];\n\n      if (oldValue == undefined) {\n        parameters = {\n          type: \"confidence\",\n          relation: 'confidence',\n          value: newValue\n        }\n      } else if (oldValue != undefined && this.object.confidence == -1) {\n        parameters = {\n          type: \"confidence\",\n          relation: 'confidence',\n          value: newValue,\n          currentValue: -1\n        }\n      } else {\n        parameters = {\n          type: \"confidence\",\n          relation: 'confidence',\n          value: newValue,\n          currentValue: oldValue\n        }\n      }\n\n      console.log(parameters)\n      this.lexicalService.updateGenericRelation(senseId, parameters).subscribe(\n        data => {\n          console.log(data);\n\n          this.lexicalService.updateCoreCard(data)\n          this.lexicalService.spinnerAction('off');\n        },\n        error => {\n          console.log(error);\n\n          this.lexicalService.spinnerAction('off');\n\n          if (error.status == 200) {\n            this.toastr.success('Confidence updated', '', { timeOut: 5000 })\n            this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n            this.senseCore.get('confidence').setValue(newValue, { emitEvent: false });\n            this.object.confidence = newValue;\n          } else {\n            this.toastr.error(error.error, 'Error', { timeOut: 5000 })\n\n          }\n        }\n      )\n    })\n\n    this.senseCore.get('topic').valueChanges.pipe(debounceTime(1000)).subscribe(newTopic => {\n      if (newTopic.trim() != '') {\n        this.lexicalService.spinnerAction('on');\n        let senseId = this.object.senseInstanceName;\n        let parameters = {\n          relation: \"subject\",\n          value: newTopic\n        }\n        this.lexicalService.updateSense(senseId, parameters).subscribe(\n          data => {\n            console.log(data)\n            this.lexicalService.spinnerAction('off');\n            //this.lexicalService.refreshLexEntryTree();\n            this.lexicalService.updateCoreCard(this.object)\n            this.toastr.success('Sense topic changed', '', {\n              timeOut: 5000,\n            });\n\n          }, error => {\n            console.log(error)\n            //this.lexicalService.refreshLexEntryTree();\n            this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n            this.lexicalService.spinnerAction('off');\n            if (typeof (error.error) != 'object') {\n              this.toastr.error(error.error, 'Error', {\n                timeOut: 5000,\n              });\n            }\n\n          }\n        )\n      }\n\n    })\n\n    this.senseCore.get('reference').valueChanges.pipe(debounceTime(1000)).subscribe(newDef => {\n      this.lexicalService.spinnerAction('on');\n      let senseId = this.object.senseInstanceName;\n      let parameters = {\n        relation: \"reference\",\n        value: newDef[0]['entity']\n      }\n      //console.log(senseId)\n      console.log(parameters);\n      this.lexicalService.updateSense(senseId, parameters).subscribe(\n        data => {\n          console.log(data)\n          this.lexicalService.spinnerAction('off');\n          //this.lexicalService.refreshLexEntryTree();\n          this.lexicalService.updateCoreCard(this.object)\n        }, error => {\n          console.log(error)\n          //this.lexicalService.refreshLexEntryTree();\n          this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n          this.lexicalService.spinnerAction('off');\n          if (error.status != 200) {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n          } else {\n            this.toastr.success('Sense reference changed', '', {\n              timeOut: 5000,\n            });\n          }\n        }\n      )\n    })\n  }\n\n  applyUncertain() {\n    this.lexicalService.spinnerAction('on');\n    let oldValue = this.senseCore.get('confidence').value;\n    let senseId = this.object.senseInstanceName;\n    let parameters = {\n      relation: 'confidence',\n      value: 0\n    }\n    console.log(parameters)\n    this.lexicalService.deleteLinguisticRelation(senseId, parameters).subscribe(\n      data => {\n        console.log(data);\n        /* data['request'] = 0;\n        data['new_label'] = confidence_value\n        this.lexicalService.refreshAfterEdit(data); */\n        this.lexicalService.updateCoreCard(data)\n        this.lexicalService.spinnerAction('off');\n        this.senseCore.get('confidence').setValue(-1, { emitEvent: false });\n        this.object.confidence = -1;\n\n        this.toastr.success('Confidence updated', 'Success', {timeOut: 5000});\n      },\n      error => {\n        console.log(error);\n        /*  const data = this.object.etymology;\n        data['request'] = 0;\n        data['new_label'] = confidence_value;\n        this.lexicalService.refreshAfterEdit(data); */\n        this.lexicalService.spinnerAction('off');\n        this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n        if (error.status == 200) {\n          this.toastr.success('Confidence updated', '', { timeOut: 5000 })\n          this.senseCore.get('confidence').setValue(-1, { emitEvent: false });\n          this.object.confidence = -1;\n        } else {\n          this.toastr.error(error.error, 'Error', { timeOut: 5000 })\n\n        }\n      }\n    )\n  }\n\n  onChangeDefinitionTrait(evt, i) {\n\n    setTimeout(() => {\n      this.definitionArray = this.senseCore.get('definition') as FormArray;\n      this.definitionArray.at(i).patchValue({ propertyID: evt.target.value, propertyValue: \"\" });\n      if (evt.target.value != '') {\n\n        this.definitionMemory[i] = evt.target.value;\n      } else {\n\n        this.definitionMemory.splice(i, 1)\n      }\n\n\n\n    }, 250);\n  }\n\n  createReference() {\n    return this.formBuilder.group({\n      entity: new FormControl(null, [Validators.required, Validators.minLength(5)])\n    })\n  }\n\n  addDefinition(pId?, pVal?) {\n    this.definitionArray = this.senseCore.get('definition') as FormArray;\n    if (pId != undefined) {\n      this.definitionArray.push(this.createDefinition(pId, pVal));\n    } else {\n      this.disableAddDef = true;\n      this.definitionArray.push(this.createDefinition());\n    }\n  }\n\n  removeDefinition(index) {\n    const definitionArray = this.senseCore.get('definition') as FormArray;\n\n    const trait = this.definitionArray.at(index).get('propertyID').value;\n    const value = this.definitionArray.at(index).get('propertyValue').value;\n\n    //console.log(trait + value)\n\n    if (trait != null) {\n\n      let senseId = this.object.senseInstanceName;\n\n      let parameters = {\n        relation: trait,\n        value: value\n      }\n\n      this.lexicalService.deleteLinguisticRelation(senseId, parameters).subscribe(\n        data => {\n          console.log(data)\n          this.lexicalService.updateCoreCard(this.object)\n\n          this.toastr.success('Sense definition deleted', '', {\n            timeOut: 5000,\n          });\n\n        }, error => {\n          console.log(error);\n          this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n          if (typeof (error.error) != 'object') {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n          }\n        }\n      )\n    } else {\n      this.disableAddDef = false;\n    }\n    this.definitionMemory.splice(index, 1);\n    this.staticDef.splice(index, 1);\n    definitionArray.removeAt(index)\n  }\n\n  debounceExistingKeyup(evt, i) {\n    this.lexicalService.spinnerAction('on');\n    this.subject_ex_def.next({ evt, i })\n  }\n\n  debounceKeyup(evt, i) {\n    this.lexicalService.spinnerAction('on');\n    this.subject_def.next({ evt, i })\n  }\n\n  createDefinition(pId?, pVal?) {\n    if (pId != undefined) {\n      return this.formBuilder.group({\n        propertyID: new FormControl(pId, [Validators.required, Validators.minLength(0)]),\n        propertyValue: new FormControl(pVal, [Validators.required, Validators.minLength(0)])\n      })\n    } else {\n      return this.formBuilder.group({\n        propertyID: new FormControl(null, [Validators.required, Validators.minLength(0)]),\n        propertyValue: new FormControl(null, [Validators.required, Validators.minLength(0)])\n      })\n    }\n\n  }\n\n  onChangeExistingDefinition(evt, i) {\n\n    this.definitionArray = this.senseCore.get('definition') as FormArray;\n    const trait = this.definitionArray.at(i).get('propertyID').value;\n    const newValue = evt.target.value;\n    const senseId = this.object.senseInstanceName;\n    const parameters = { relation: trait, value: newValue }\n\n    if (trait != undefined && newValue != '') {\n\n      this.staticDef[i] = { trait: trait, value: newValue };\n      this.lexicalService.updateSense(senseId, parameters).pipe(debounceTime(1000)).subscribe(\n        data => {\n          console.log(data)\n          this.lexicalService.spinnerAction('off');\n          //this.lexicalService.refreshLexEntryTree();\n          if (trait == 'definition') {\n\n          }\n          this.lexicalService.updateCoreCard(data)\n        }, error => {\n          console.log(error);\n          //this.lexicalService.refreshLexEntryTree();\n          if (trait == 'definition') {\n            const data = this.object;\n            data['whatToSearch'] = 'sense';\n            data['new_definition'] = newValue;\n            data['request'] = 6;\n            this.lexicalService.refreshAfterEdit(data);\n          }\n          this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n          this.lexicalService.spinnerAction('off');\n          if (error.status != 200) {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n          } else {\n            this.toastr.success('Sense definition changed', '', {\n              timeOut: 5000,\n            });\n          }\n        }\n      )\n    } else {\n      this.lexicalService.spinnerAction('off');\n      this.staticDef[i] = { trait: trait, value: \"\" };\n    }\n  }\n\n  onChangeDefinition(object) {\n\n    this.definitionArray = this.senseCore.get('definition') as FormArray;\n    const trait = this.definitionArray.at(object.i).get('propertyID').value;\n    const newValue = object.evt.target.value;\n    const senseId = this.object.senseInstanceName;\n    const parameters = { relation: trait, value: newValue }\n\n    if (trait != undefined) {\n\n      this.staticDef.push({ trait: trait, value: newValue });\n      this.lexicalService.updateSense(senseId, parameters).pipe(debounceTime(1000)).subscribe(\n        data => {\n          console.log(data)\n          this.lexicalService.spinnerAction('off');\n          //this.lexicalService.refreshLexEntryTree();\n          this.lexicalService.updateCoreCard(data)\n          this.disableAddDef = false;\n        }, error => {\n          console.log(error);\n          //this.lexicalService.refreshLexEntryTree();\n          this.disableAddDef = false;\n          if (trait == 'definition') {\n            const data = this.object;\n            data['whatToSearch'] = 'sense';\n            data['new_definition'] = newValue;\n            data['request'] = 6;\n\n            this.lexicalService.refreshAfterEdit(data);\n            \n          }\n\n          if (error.status != 200) {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n          } else {\n            this.toastr.success('Sense ' + trait + ' changed', '', {\n              timeOut: 5000,\n            });\n          }\n          this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n          this.lexicalService.spinnerAction('off');\n        }\n      )\n    } else {\n      this.lexicalService.spinnerAction('off');\n    }\n  }\n\n\n  removeReference(index) {\n    const referenceArray = this.senseCore.get('reference') as FormArray;\n    referenceArray.removeAt(index)\n  }\n\n  createLexicalConcept(e?) {\n    if (e != undefined) {\n      return this.formBuilder.group({\n        lex_concept: new FormControl(e, [Validators.required, Validators.minLength(5)])\n      })\n    } else {\n      return this.formBuilder.group({\n        lex_concept: new FormControl(null, [Validators.required, Validators.minLength(5)])\n      })\n    }\n\n  }\n\n  addLexicalConcept(entity?) {\n    this.lexicalConceptArray = this.senseCore.get('lexical_concept') as FormArray;\n    if (entity != undefined) {\n      this.lexicalConceptArray.push(this.createLexicalConcept(entity));\n    } else {\n      this.lexicalConceptArray.push(this.createLexicalConcept());\n    }\n  }\n\n  removeLexicalConcept(index) {\n    this.lexicalConceptArray = this.senseCore.get('lexical_concept') as FormArray;\n    this.lexicalConceptArray.removeAt(index);\n  }\n}\n","\n\n<form [formGroup]=\"senseCore\">\n    \n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <div class=\"input-group col-lg-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>DEFINITIONS</b></span>\n                <a class=\"pointer\" (click)=\"addDefinition()\" [ngClass]=\"{no_pointer: disableAddDef}\"><span class=\"collapse-icon\"><i\n                            class=\"fa fa-plus-square\"></i></span></a>\n                <div class=\"card-body\">\n\n                    <div class=\"d-flex my-3\" *ngFor=\"let def of staticDef; let i = index\">\n                        <div class=\"col-md-3\">\n                            <span style=\"line-height: 50px;\" class=\"col-form-label\">{{def['trait']}}</span>\n                        </div>\n                        <div class=\"input-group col-md-9\">\n                            <textarea type=\"text\" class=\"form-control\"\n                                placeholder=\"\" (keyup)=\"debounceExistingKeyup($event, i)\" [value]=\"def['value']\" style=\"resize: none;\"></textarea>\n                            <div (click)=\"removeDefinition(i)\" class=\"input-group-append ml-2\" *ngIf=\"def['trait'] != 'definition'\"> <button\n                                    class=\"btn btn-danger\" type=\"button\"\n                                    style=\"font-size: 12px; border-radius: .25rem;\"><i\n                                        class=\"fa fa-trash-alt\"></i></button>\n                            </div>\n                            <div class=\"invalid-feedback\" *ngIf=\"staticDef[i]['value'] == ''\" style=\"display: block;\">\n                                Please, don't leave this field blank\n                            </div>\n\n                        </div>\n                    </div>\n\n                    <div class=\"d-flex my-2\" formArrayName=\"definition\"\n                        *ngFor=\"let def of senseCore.get('definition')['controls']; let i = index\">\n                        <div class=\"col-md-3\" [formGroupName]=\"i\" *ngIf=\"i + 1 > staticDef.length\">\n                            <select class=\"form-control selectTrait\" formControlName=\"propertyID\" name=\"propertyID\"\n                                style=\"font-size: 12px; height: 50px;\" (change)=\"onChangeDefinitionTrait($event, i)\">\n                                <option value=\"\">Select a trait...</option>\n                                <option *ngFor=\"let df of definitionData\" [disabled]=\"definitionMemory.indexOf(df) > -1\" [selected]=\"def.value['propertyID'] === df\">{{df}}</option>\n                            </select>\n                            <div class=\"invalid-feedback\" *ngIf=\"def.get('propertyID').invalid\" style=\"display: block;\">\n                                Please, don't leave this field blank\n                            </div>\n                        </div>\n                        <div class=\"input-group col-md-9\" [formGroupName]=\"i\" *ngIf=\"i + 1 > staticDef.length\">\n                            <textarea formControlName=\"propertyValue\" name=\"propertyValue\" type=\"text\" class=\"form-control\"\n                                placeholder=\"\" (keyup)=\"debounceKeyup($event, i)\" style=\"resize: none;\"></textarea>\n                            <div (click)=\"removeDefinition(i)\" class=\"input-group-append ml-2\"> <button\n                                    class=\"btn btn-danger\" type=\"button\"\n                                    style=\"font-size: 12px; border-radius: .25rem;\"><i\n                                        class=\"fa fa-trash-alt\"></i></button>\n                            </div>\n                            <div class=\"invalid-feedback\" *ngIf=\"def.get('propertyValue').invalid\" style=\"display: block;\">\n                                Please, don't leave this field blank\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"form-group row ml-2 mt-3 mr-2\" *ngIf=\"{confidence : senseCore.get('confidence').value >= 0}; let variable\">\n        <div class=\"col-lg-3\">\n            <label for=\"uncertainBox\">Uncertain</label>\n        </div>\n        <div class=\"col-lg-3 input-group\">\n            <input *ngIf=\"variable.confidence\" id=\"attributes\"  step=\"0.1\" formControlName=\"confidence\" name=\"confidence\" type=\"number\" min=\"0\" max=\"1\" class=\"form-control\" placeholder=\"No info\" [value]=\"senseCore.get('confidence').value\">\n            <button type=\"button\" class=\"btn btn-secondary btn-sm ml-2\" *ngIf=\"!variable.confidence\" (click)=\"variable.confidence = !variable.confidence\"><i class=\"fas fa-plus\"></i></button>\n            <button type=\"button\" class=\"btn btn-secondary btn-sm ml-2\" *ngIf=\"variable.confidence\" (click)=\"variable.confidence = !variable.confidence; applyUncertain()\"><i class=\"fas fa-minus\"></i></button>\n        </div>\n    </div>\n\n    <!-- <div class=\"form-group row ml-2 mt-4 mr-2\">\n        <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Usage:</label>\n        <div class=\"input-group col-lg-8\">\n            <textarea formControlName=\"usage\" name=\"usage\" class=\"form-control\" style=\"resize: none;\"></textarea>\n        </div>\n    </div>\n\n    <div class=\"form-group row ml-2 mt-4 mr-2\">\n        <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Topic:</label>\n        <div class=\"input-group col-lg-8\">\n            <input formControlName=\"topic\" name=\"topic\" class=\"form-control\" style=\"resize: none;\" />\n        </div>\n    </div> -->\n\n    <!-- REFERENCE -->\n    <!-- <div formArrayName=\"reference\">\n        <div *ngFor=\"let ref of senseCore['controls'].reference['controls']; let i = index\">\n            <div [formGroupName]=\"i\">\n                <div class=\"form-group row ml-2 mt-3 mr-2\">\n                    <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Reference:</label>\n                    <div class=\"input-group col-xl-9\" *ngIf=\"{switch : false}; let variable\">\n                        <ng-select formControlName=\"entity\" name=\"entity\" [items]=\"people\" bindValue=\"name\"\n                            bindLabel=\"name\" placeholder=\"Search entity\" appendTo=\"body\" [loading]=\"peopleLoading\"\n                            *ngIf=\"!variable.switch\">\n                        </ng-select>\n                        <input formControlName=\"entity\" name=\"entity\" type=\"text\" class=\"form-control\"\n                            placeholder=\"Insert URI\" *ngIf=\"variable.switch\">\n                        <div class=\"input-group-append ml-3 form-check\" style=\"align-items: center;\">\n                            <input class=\"form-check-input vartrans-tooltip\" type=\"checkbox\"\n                                (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\"\n                                data-placement=\"bottom\" data-trigger=\"hover\"\n                                title=\"Clicca per inserire un URI manualmente\">\n                        </div>\n                        <div class=\"input-group-append ml-2\">\n                            <button class=\"btn btn-primary\" type=\"button\"><i\n                                    class=\"fa fa-external-link-alt\"></i></button>\n                        </div>\n                        <div class=\"input-group-append ml-2\">\n                            <button (click)=\"removeReference(i)\" class=\"btn btn-danger\" type=\"button\"><i\n                                    class=\"fa fa-trash-alt\"></i></button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div> -->\n\n    <div class=\"form-group row ml-2 mt-4 mr-2\">\n\n    </div>\n\n\n    <!-- LEXICAL CONCEPT -->\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <div class=\"input-group col-xl-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>LEXICAL CONCEPT</b></span>\n                <a class=\"pointer\" (click)=\"addLexicalConcept()\"><span class=\"collapse-icon\"><i\n                            class=\"fa fa-plus-square\"></i></span></a>\n\n                <div class=\"card-body\">\n                    <div class=\"form-group row ml-2 mt-3 mr-2\" formArrayName=\"lexical_concept\"\n                        *ngFor=\"let trans of senseCore.get('lexical_concept')['controls']; let i = index\">\n                        <div class=\"input-group col-xl-12\" *ngIf=\"{switch : false}; let variable\" [formGroupName]=\"i\">\n                            <ng-select formControlName=\"lex_concept\" name=\"lex_concept\" [items]=\"people\"\n                                bindValue=\"name\" bindLabel=\"name\" placeholder=\"Search entity\" appendTo=\"body\"\n                                [loading]=\"peopleLoading\" *ngIf=\"!variable.switch\">\n                            </ng-select>\n                            <input formControlName=\"lex_concept\" name=\"lex_concept\" type=\"text\" class=\"form-control\"\n                                placeholder=\"Insert URI\" *ngIf=\"variable.switch\">\n                            <div class=\"input-group-append ml-3 form-check\" style=\"align-items: center;\">\n                                <input class=\"form-check-input vartrans-tooltip\" type=\"checkbox\"\n                                    (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\"\n                                    data-placement=\"bottom\" data-trigger=\"hover\"\n                                    title=\"Clicca per inserire un URI manualmente\">\n                            </div>\n                            <div class=\"input-group-append ml-2\">\n                                <button class=\"btn btn-primary\" type=\"button\"><i\n                                        class=\"fa fa-external-link-alt\"></i></button>\n                            </div>\n                            <div class=\"input-group-append ml-2\">\n                                <button (click)=\"removeLexicalConcept(i)\" class=\"btn btn-danger\" type=\"button\"><i\n                                        class=\"fa fa-trash-alt\"></i></button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n\n    <!-- SHOW INFERENCE -->\n    <!-- <div class=\"form-group row ml-2 mt-3 mr-2 inference\">\n        <div class=\"input-group col-xl-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><a data-toggle=\"collapse\" href=\"#inferenceCollapse\" role=\"button\"\n                        aria-expanded=\"false\" aria-controls=\"inferenceCollapse\"><span class=\"badge badge-warning\"><b\n                                style=\"color: white; font-size: 12px;\">SHOW INFERENCE</b></span></a></span>\n                <div class=\"card-body\">\n                    <div class=\"collapse\" id=\"inferenceCollapse\">\n\n                        <div class=\"form-group row ml-2 mt-3 mr-2\">\n                            <div class=\"input-group col-xl-12\" *ngIf=\"{switch : false}; let variable\">\n                                <div class=\"form-group row w-100\">\n                                    <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Is sense of:</label>\n                                    <div class=\"input-group col-lg-8\">\n                                        <input formControlName=\"sense_of\" name=\"sense_of\" type=\"text\" class=\"form-control\"\n                                            placeholder=\"\">\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"form-group row ml-2 mr-2\">\n                            <label class=\"col-xl-3 col-form-label\">Lexicalized Sense:</label>\n                            <div class=\"col-xl-9 card mt-0 p-0\"\n                                style=\"max-height: 10vh;overflow: auto; border: 1px solid rgba(0,0,0,.125) !important\">\n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Sense</label>\n                                </div>\n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Sense</label>\n                                </div>\n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Sense</label>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"form-group row ml-2 mr-2\">\n                            <label class=\"col-xl-3 col-form-label\">Is Evoked By:</label>\n                            <div class=\"col-xl-9 card mt-0 p-0\"\n                                style=\"max-height: 10vh;overflow: auto; border: 1px solid rgba(0,0,0,.125) !important\">\n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Entry@LANG</label>\n                                </div>\n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Entry@LANG</label>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"form-group row ml-2 mr-2\">\n                            <label class=\"col-xl-3 col-form-label\">Narrower:</label>\n                            <div class=\"col-xl-9 card mt-0 p-0\"\n                                style=\"max-height: 10vh;overflow: auto; border: 1px solid rgba(0,0,0,.125) !important\">\n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Concept</label>\n                                    <label class=\"col-xl-6 col-form-label\">Depth</label>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"form-group row ml-2 mr-2\">\n                            <label class=\"col-xl-3 col-form-label\">Borader:</label>\n                            <div class=\"col-xl-9 card mt-0 p-0\"\n                                style=\"max-height: 10vh;overflow: auto; border: 1px solid rgba(0,0,0,.125) !important\">\n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Concept</label>\n                                    <label class=\"col-xl-6 col-form-label\">Depth</label>\n                                </div>\n                            </div>\n                        </div>\n\n                    </div>\n                    \n                </div>\n            </div>\n        </div>\n    </div> -->\n</form>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, Input, OnInit, SimpleChanges } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\n\nimport { FormBuilder, FormGroup, FormArray, FormControl } from '@angular/forms';\nimport { debounceTime } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-sense-vartrans-form',\n  templateUrl: './sense-vartrans-form.component.html',\n  styleUrls: ['./sense-vartrans-form.component.scss']\n})\nexport class SenseVartransFormComponent implements OnInit {\n\n  switchInput = false;\n  subscription: Subscription;\n  object: any;\n  peopleLoading = false;\n  counter = 0;\n  componentRef: any;\n\n  @Input() senseData : any;\n\n  senseVartransForm = new FormGroup({\n    label: new FormControl(''),\n    translation: new FormArray([this.createTranslation()]),\n    senseTranslation: new FormArray([this.createSenseTranslation()]),\n    terminologicalRelation: new FormArray([this.createTerminologicalRelation()])\n  })\n\n  translation: FormArray;\n  senseTranslation: FormArray;\n  terminologicalRelation: FormArray;\n  terminologicalRelationSub : FormArray;\n\n  constructor(private lexicalService: LexicalEntriesService, private formBuilder: FormBuilder) {\n  }\n\n  ngOnInit() {\n    \n    this.senseVartransForm = this.formBuilder.group({\n      label: '',\n      translation: this.formBuilder.array([this.createTranslation()]),\n      senseTranslation: this.formBuilder.array([this.createSenseTranslation()]),\n      terminologicalRelation: this.formBuilder.array([this.createTerminologicalRelation()])\n    })\n    this.onChanges();\n    this.loadPeople();\n    this.triggerTooltip();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    setTimeout(()=> {\n      if(this.object != changes.senseData.currentValue){\n        if(this.terminologicalRelation != null){\n          this.terminologicalRelation.clear();\n          this.senseTranslation.clear();\n          this.translation.clear();\n        }\n      }\n      this.loadPeople();\n      this.object = changes.senseData.currentValue;\n      if(this.object != null){\n        this.senseVartransForm.get('label').setValue(this.object.label, {emitEvent:false});\n      }\n      this.triggerTooltip();\n  }, 10)\n  }\n\n  triggerTooltip(){\n    setTimeout(() => {\n      //@ts-ignore\n      $('.vartrans-tooltip').tooltip({\n        trigger : 'hover'\n      });\n    }, 500);\n  }\n\n  private loadPeople() {\n    /* this.peopleLoading = true;\n    this.dataService.getPeople().subscribe(x => {\n      this.people = x;\n      this.peopleLoading = false;\n    }); */\n  }\n\n  onChanges(): void {\n    this.senseVartransForm.valueChanges.pipe(debounceTime(200)).subscribe(searchParams => {\n      //console.log(searchParams)\n    })\n  }\n\n  createTranslation(): FormGroup {\n    return this.formBuilder.group({\n      type: '',\n      confidence: 0.0,\n      target: ''\n    })\n  }\n\n  addTranslation() {\n    this.translation = this.senseVartransForm.get('translation') as FormArray;\n    this.translation.push(this.createTranslation());\n    this.triggerTooltip();\n  }\n\n  removeTranslation(index) {\n    this.translation = this.senseVartransForm.get('translation') as FormArray;\n    this.translation.removeAt(index);\n  }\n\n  addSenseTranslation() {\n    this.senseTranslation = this.senseVartransForm.get('senseTranslation') as FormArray;\n    this.senseTranslation.push(this.createSenseTranslation());\n    this.triggerTooltip();\n  }\n\n  removeSenseTranslation(index) {\n    this.senseTranslation = this.senseVartransForm.get('senseTranslation') as FormArray;\n    this.senseTranslation.removeAt(index);\n  }\n\n  addTerminologicalRelation() {\n    this.terminologicalRelation = this.senseVartransForm.get('terminologicalRelation') as FormArray;\n    this.terminologicalRelation.push(this.createTerminologicalRelation());\n    this.triggerTooltip();\n  }\n\n  removeTerminologicalRelation(index) {\n    this.terminologicalRelation = this.senseVartransForm.get('terminologicalRelation') as FormArray;\n    this.terminologicalRelation.removeAt(index);\n  }\n\n  addTerminologicalRelationSub(index) {\n    const control = (<FormArray>this.senseVartransForm.controls['terminologicalRelation']).at(index).get('sub_rel') as FormArray;\n    control.insert(index, this.createSubTerminologicalRelation())\n    this.triggerTooltip();\n  }\n\n  removeTerminologicalRelationSub(index, iy) {\n    const control = (<FormArray>this.senseVartransForm.controls['terminologicalRelation']).at(index).get('sub_rel') as FormArray;\n    control.removeAt(iy);\n  }\n\n  createSenseTranslation(): FormGroup {\n    return this.formBuilder.group({\n      relation: '',\n      entity: ''\n    })\n  }\n\n  createTerminologicalRelation(): FormGroup {\n    return this.formBuilder.group({\n      a_entity: '',\n      relation: '',\n      b_entity: '',\n      sub_rel: new FormArray([])\n    })\n  }\n\n  createSubTerminologicalRelation(): FormGroup {\n    return this.formBuilder.group({\n      sub_relation: 'eee',\n      sub_entity: ''\n    })\n  }\n}\n","\n\n<form [formGroup]=\"senseVartransForm\" *ngIf=\"object!=null\"> \n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <label for=\"inputLabel\" class=\"col-xl-3 col-form-label\">Label:</label>\n        <div class=\"input-group col-xl-5\">\n            <input formControlName=\"label\" name=\"label\" type=\"text\" class=\"form-control\" placeholder=\"\">\n        </div>\n    </div>\n    \n    <!-- TRANSLATION -->\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <div class=\"input-group col-xl-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>TRANSLATION</b></span>\n                <a class=\"pointer\" (click)=\"addTranslation()\"><span class=\"collapse-icon\"><i class=\"fa fa-plus-square\"></i></span></a>\n\n                <div class=\"card-body\">\n                    <div formArrayName=\"translation\">\n                        <div *ngFor=\"let trans of senseVartransForm.get('translation')['controls']; let i = index\">\n                            <div class=\"form-group row ml-2 mt-3 mr-2\">\n                        \n                                <label for=\"inputLabel\" class=\"col-xl-3 mb-3 col-form-label \">Type:</label>\n                                <div class=\"input-group col-xl-5 mb-3\" [formGroupName]=\"i\">\n                                    <select class=\"form-control\" formControlName=\"type\" name=\"type\">\n                                        <option>Relations...</option>\n                                        <option>...</option>\n                                    </select>\n                                </div>\n                            </div>\n                            <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                <label for=\"inputLabel\" class=\"col-xl-3 mb-3 col-form-label \">Confidence:</label>\n                                <div class=\"input-group col-xl-2 mb-3\" [formGroupName]=\"i\">\n                                    <input formControlName=\"confidence\" name=\"confidence\" type=\"number\" step=\"0.1\" min=\"0\" max=\"10\" class=\"form-control\" placeholder=\"\">\n                                </div>\n                            </div>\n                            \n                            <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                <label for=\"inputLabel\" class=\"col-xl-3 mb-3 col-form-label \">Target:</label>\n                                <div class=\"input-group col-xl-9\" *ngIf=\"{switch : false}; let variable\" [formGroupName]=\"i\">\n                                    <ng-select formControlName=\"target\" name=\"target\" [items]=\"people\" bindValue=\"name\" bindLabel=\"name\" placeholder=\"Search entity\" appendTo=\"body\"\n                                        [loading]=\"peopleLoading\" *ngIf=\"!variable.switch\">\n                                    </ng-select>\n                                    <input formControlName=\"target\" name=\"target\" type=\"text\" class=\"form-control\" placeholder=\"Insert URI\" *ngIf=\"variable.switch\">\n                                    <div class=\"input-group-append ml-3 form-check\">\n                                        <input class=\"form-check-input vartrans-tooltip\" type=\"checkbox\" (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\" data-placement=\"bottom\" data-trigger=\"hover\" title=\"Clicca per inserire un URI manualmente\">\n                                    </div>\n                                    <div class=\"input-group-append ml-2\">\n                                        <button class=\"btn btn-primary\" type=\"button\" (click)=\"modalRoot.show()\"><i\n                                                class=\"fa fa-external-link-alt\" ></i></button>\n                                                <app-modal #modalRoot class=\"modal-demo\" [maximizable]=\"true\" [backdrop]=\"false\">\n                                                    <ng-container class=\"app-modal-header\">Demo modal</ng-container>\n                                                    <ng-container class=\"app-modal-body\">\n                                                        <h3>MODAL DIALOG</h3>\n                                                        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.\n                                                            Lorem Ipsum has been the industrys standard dummy text ever since the 1500s.</p>\n                                                    </ng-container>\n                                                    <ng-container class=\"app-modal-footer\">\n                                                        <button type=\"button\" class=\"button button3\" (click)=\"modalRoot.hide()\">Delete</button>\n                                                        <button type=\"button\" class=\"button button1\" (click)=\"modalRoot.hide()\">Save</button>\n                                                        <button type=\"button\" class=\"button button2\" style=\"float: right;\"\n                                                            (click)=\"modalRoot.hide()\">Close\n                                                        </button>\n                                                    </ng-container>\n                                                </app-modal>\n                                    </div>\n                                    <div class=\"input-group-append ml-2\">\n                                        <button (click)=\"removeTranslation(i)\" class=\"btn btn-danger\" type=\"button\"><i class=\"fa fa-trash-alt\"></i></button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    \n                </div>\n            </div>\n        </div>\n    </div>\n\n    <!-- SENSE RELATION DIRECT -->\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <div class=\"input-group col-xl-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>SENSE RELATION</b><span class=\"badge badge-primary ml-2\">DIRECT</span></span>\n                <a (click)=\"addSenseTranslation()\" class=\"pointer\"><span class=\"collapse-icon\"><i class=\"fa fa-plus-square\"></i></span></a>\n\n                <div class=\"card-body\">\n                    <div class=\"form-group row ml-2 mt-3 mr-2\" formArrayName=\"senseTranslation\" *ngFor=\"let direct of senseVartransForm.get('senseTranslation')['controls']; let i = index\">\n                        <div class=\"col-xl-5\" [formGroupName]=\"i\">\n                            <select class=\"form-control\" formControlName=\"relation\" name=\"relation\">\n                                <option>Relations...</option>\n                                <option>...</option>\n                            </select>\n                        </div>\n                        <div class=\"input-group col-xl-7\" *ngIf=\"{switch : false}; let variable\" [formGroupName]=\"i\">\n                            <ng-select formControlName=\"entity\" name=\"entity\" [items]=\"people\" bindValue=\"name\" bindLabel=\"name\" placeholder=\"Search entity\" appendTo=\"body\"\n                                [loading]=\"peopleLoading\" *ngIf=\"!variable.switch\">\n                            </ng-select>\n                            <input formControlName=\"entity\" name=\"entity\" type=\"text\" class=\"form-control\" placeholder=\"Insert URI\" *ngIf=\"variable.switch\">\n                            <div class=\"input-group-append ml-3 form-check\">\n                                <input class=\"form-check-input vartrans-tooltip\" type=\"checkbox\" (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\" data-placement=\"bottom\" data-trigger=\"hover\" title=\"Clicca per inserire un URI manualmente\">\n                            </div>\n                            <div class=\"input-group-append ml-2\">\n                                <button class=\"btn btn-primary\" type=\"button\"><i\n                                        class=\"fa fa-external-link-alt\" (click)=\"modalRoot.show()\"></i></button>\n                                <app-modal #modalRoot class=\"modal-demo\" [maximizable]=\"true\" [backdrop]=\"false\">\n                                    <ng-container class=\"app-modal-header\">Demo modal</ng-container>\n                                    <ng-container class=\"app-modal-body\">\n                                        <h3>MODAL DIALOG</h3>\n                                        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.\n                                            Lorem Ipsum has been the industrys standard dummy text ever since the 1500s.</p>\n                                    </ng-container>\n                                    <ng-container class=\"app-modal-footer\">\n                                        <button type=\"button\" class=\"button button3\" (click)=\"modalRoot.hide()\">Delete</button>\n                                        <button type=\"button\" class=\"button button1\" (click)=\"modalRoot.hide()\">Save</button>\n                                        <button type=\"button\" class=\"button button2\" style=\"float: right;\"\n                                            (click)=\"modalRoot.hide()\">Close\n                                        </button>\n                                    </ng-container>\n                                </app-modal>\n                            </div>\n                            <div class=\"input-group-append ml-2\">\n                                <button (click)=\"removeSenseTranslation(i)\" class=\"btn btn-danger\" type=\"button\"><i class=\"fa fa-trash-alt\"></i></button>\n                            </div>\n                        </div>\n                    </div>\n                   \n                </div>\n            </div>\n        </div>\n    </div>\n\n\n    <!-- TERMINOLOGICAL RELATION INDIRECT -->\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <div class=\"input-group col-xl-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>TERMINOLOGICAL RELATION</b><span class=\"badge badge-primary ml-2\">INDIRECT</span></span>\n                <a class=\"pointer\" (click)=\"addTerminologicalRelation()\"><span class=\"collapse-icon\"><i class=\"fa fa-plus-square\"></i></span></a>\n                <div class=\"card-body\">\n                    <div formArrayName=\"terminologicalRelation\">\n                        <div *ngFor=\"let indirect of senseVartransForm['controls'].terminologicalRelation['controls']; let i = index\">\n                            <div [formGroupName]=\"i\">\n                                <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                    <div class=\"col-xl-3\">\n                                        <input type=\"text\" class=\"form-control\" formControlName=\"a_entity\" name=\"a_entity\">\n                                    </div>\n                                    <div class=\"col-xl-3\">\n                                        <select class=\"form-control\" formControlName=\"relation\" name=\"relation\">\n                                            <option>Relation</option>\n                                            <option>...</option>\n                                        </select>\n                                    </div>\n                                    <div class=\"input-group col-xl-6\" *ngIf=\"{switch : false}; let variable\">\n                                        <ng-select formControlName=\"b_entity\" name=\"b_entity\" [items]=\"people\" class=\"resizeNgSelect\" bindValue=\"name\" bindLabel=\"name\" placeholder=\"Search entity\" appendTo=\"body\"\n                                            [loading]=\"peopleLoading\" *ngIf=\"!variable.switch\">\n                                        </ng-select>\n                                        <input formControlName=\"b_entity\" name=\"b_entity\" type=\"text\" class=\"form-control\" placeholder=\"Insert URI\" *ngIf=\"variable.switch\">\n                                        <div class=\"input-group-append ml-3 form-check\">\n                                            <input class=\"form-check-input vartrans-tooltip\" type=\"checkbox\" (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\" data-placement=\"bottom\" data-trigger=\"hover\" title=\"Clicca per inserire un URI manualmente\">\n                                        </div>\n                                        <div class=\"input-group-append ml-2\">\n                                            <button class=\"btn btn-primary\" type=\"button\"><i\n                                                    class=\"fa fa-external-link-alt\"></i></button>\n                                        </div>\n                                        <div class=\"input-group-append ml-2\">\n                                            <button (click)=\"removeTerminologicalRelation(i)\" class=\"btn btn-danger\" type=\"button\"><i class=\"fa fa-trash-alt\"></i></button>\n                                        </div>\n                                        <div class=\"input-group-append ml-2\">\n                                            <button (click)=\"addTerminologicalRelationSub(i)\" class=\"btn btn-outline-primary\" type=\"button\"><i class=\"fa fa-plus\"></i></button>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div formArrayName=\"sub_rel\">\n                                    <div *ngFor=\"let sub of indirect['controls'].sub_rel['controls']; let j = index\">\n                                        <div [formGroupName]=\"j\">\n                                            <div class=\"form-group row ml-2 mt-3 mr-2\">\n                                                <div class=\"col-xl-3\" ></div>\n                                                <div class=\"col-xl-3\">\n                                                    <select class=\"form-control\" formControlName=\"sub_relation\" name=\"sub_relation\">\n                                                        <option>{{sub.value['sub_relation']}}</option>\n                                                        <option>...</option>\n                                                    </select>\n                                                </div>\n                                                <div class=\"input-group col-xl-6\" *ngIf=\"{switch : false}; let variable\">\n                                                    <ng-select formControlName=\"sub_entity\" name=\"sub_entity\" [items]=\"people\" class=\"resizeNgSelect\" bindLabel=\"name\" bindValue=\"name\" placeholder=\"Search entity\" appendTo=\"body\"\n                                                        [loading]=\"peopleLoading\" *ngIf=\"!variable.switch\">\n                                                    </ng-select>\n                                                    <input formControlName=\"sub_entity\" name=\"sub_entity\" type=\"text\" class=\"form-control\" id=\"inputDenotes\" placeholder=\"Insert URI\" *ngIf=\"variable.switch\">\n                                                    <div class=\"input-group-append ml-3 form-check\">\n                                                        <input class=\"form-check-input vartrans-tooltip\" type=\"checkbox\" (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\" data-placement=\"bottom\" data-trigger=\"hover\" title=\"Clicca per inserire un URI manualmente\">\n                                                    </div>\n                                                    <div class=\"input-group-append ml-2\">\n                                                        <button class=\"btn btn-primary\" type=\"button\"><i\n                                                                class=\"fa fa-external-link-alt\"></i></button>\n                                                    </div>\n                                                    <div class=\"input-group-append ml-2\">\n                                                        <button (click)=\"removeTerminologicalRelationSub(i, j)\" class=\"btn btn-danger\" type=\"button\"><i class=\"fa fa-trash-alt\"></i></button>\n                                                    </div>\n                                                    <div class=\"input-group-append ml-2\">\n                                                        <button  class=\"btn btn-outline-primary invisible\" type=\"button\"><i class=\"fa fa-plus\"></i></button>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>  \n                    </div>           \n                </div>\n            </div>\n        </div>\n    </div>\n\n    <!-- SHOW INFERENCE -->\n    <!-- <div class=\"form-group row ml-2 mt-3 mr-2 inference\">\n        <div class=\"input-group col-xl-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><a data-toggle=\"collapse\" href=\"#inferenceCollapse\" role=\"button\" aria-expanded=\"false\" aria-controls=\"inferenceCollapse\"><span class=\"badge badge-warning\"><b style=\"color: white; font-size: 12px;\">SHOW INFERENCE</b></span></a></span>\n                <div class=\"card-body\">\n                    <div class=\"collapse\" id=\"inferenceCollapse\">\n\n                        <div class=\"form-group row ml-2 mr-2\">\n                            <label class=\"col-xl-3 col-form-label\">Lexicalized Sense:</label>\n                            <div class=\"col-xl-9 card mt-0 p-0\" style=\"max-height: 10vh;overflow: auto; border: 1px solid rgba(0,0,0,.125) !important\">    \n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Sense</label>\n                                </div>      \n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Sense</label>\n                                </div>        \n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Sense</label>\n                                </div>  \n                            </div>\n                        </div>\n\n                        <div class=\"form-group row ml-2 mr-2\">\n                            <label class=\"col-xl-3 col-form-label\">Is Evoked By:</label>\n                            <div class=\"col-xl-9 card mt-0 p-0\" style=\"max-height: 10vh;overflow: auto; border: 1px solid rgba(0,0,0,.125) !important\">    \n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Entry@LANG</label>\n                                </div> \n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Entry@LANG</label>\n                                </div>          \n                            </div>\n                        </div>\n\n                        <div class=\"form-group row ml-2 mr-2\">\n                            <label class=\"col-xl-3 col-form-label\">Narrower:</label>\n                            <div class=\"col-xl-9 card mt-0 p-0\" style=\"max-height: 10vh;overflow: auto; border: 1px solid rgba(0,0,0,.125) !important\">    \n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Concept</label>\n                                    <label class=\"col-xl-6 col-form-label\">Depth</label>\n                                </div>           \n                            </div>\n                        </div>\n                        \n                        <div class=\"form-group row ml-2 mr-2\">\n                            <label class=\"col-xl-3 col-form-label\">Borader:</label>\n                            <div class=\"col-xl-9 card mt-0 p-0\" style=\"max-height: 10vh;overflow: auto; border: 1px solid rgba(0,0,0,.125) !important\">    \n                                <div class=\"form-group row ml-2 mb-0 mt-0 mr-2\">\n                                    <label class=\"col-xl-6 col-form-label\">Lexical Concept</label>\n                                    <label class=\"col-xl-6 col-form-label\">Depth</label>\n                                </div>           \n                            </div>\n                        </div>\n                        \n                    </div>\n                </div>\n            </div>\n        </div>\n    </div> -->\n</form>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, ComponentFactoryResolver, ElementRef, Input, OnChanges, OnInit, QueryList, SimpleChanges, ViewChild, ViewChildren, ViewContainerRef } from '@angular/core';\nimport { ModalComponent } from 'ng-modal-lib';\nimport { ToastrService } from 'ngx-toastr';\nimport { Subject } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport { AnnotatorService } from 'src/app/services/annotator/annotator.service';\nimport { BibliographyService } from 'src/app/services/bibliography-service/bibliography.service';\nimport { ExpanderService } from 'src/app/services/expander/expander.service';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\nimport { FormPanelComponent } from './form-panel/form-panel.component';\n\n@Component({\n  selector: 'app-attestation-panel',\n  templateUrl: './attestation-panel.component.html',\n  styleUrls: ['./attestation-panel.component.scss']\n})\nexport class AttestationPanelComponent implements OnInit,OnChanges {\n\n  @Input() attestationData: any;\n  @ViewChild('addBibliographyAttestation', {static: false}) modal: ModalComponent;\n  @ViewChild('table_body') tableBody: ElementRef;\n  @ViewChild('accordion') accordion: ElementRef; \n  @ViewChild('formPanel', {read: ViewContainerRef}) vc: ViewContainerRef;\n\n\n\n  bibliography = [];\n  typesData = [];\n  private update_anno_subject: Subject<any> = new Subject();\n  private update_biblio_anno_subject: Subject<any> = new Subject();\n  private searchSubject : Subject<any> = new Subject();\n\n  start = 0;\n  sortField = 'title';\n  direction = 'asc';\n  memorySort = {field : '', direction : ''}\n  queryTitle = '';\n  queryMode = 'titleCreatorYear';\n  selectedItem;\n  selectedAnnotation;\n  fileId;\n\n  arrayPanelFormsData = {};\n  arrayComponents = [];\n  typeDesc = '';\n  staticOtherDef = [];\n  labelData = [];\n  bind = this;\n\n  constructor(private toastr: ToastrService, \n              private biblioService : BibliographyService, \n              private expander: ExpanderService, \n              private annotatorService : AnnotatorService, \n              private lexicalService : LexicalEntriesService,\n              private factory: ComponentFactoryResolver) { }\n  \n  \n  formData = [];\n  ngOnInit(): void {\n\n    this.lexicalService.getFormTypes().subscribe(\n      data => {\n        this.typesData = data;\n        //console.log(this.typesData)\n      },\n      error => {\n        //console.log(error)\n      }\n    )\n\n    this.annotatorService.getIdText$.subscribe(\n      data=>{\n        console.log(data);\n        this.fileId = data;\n      },error=>{\n        console.log(error)\n      }\n    )\n\n    this.update_anno_subject.pipe(debounceTime(1000)).subscribe(\n      data => {\n        if(data != null){\n          this.updateAnnotation(data)\n        }\n      }\n    )\n    \n\n    this.update_biblio_anno_subject.pipe(debounceTime(1000)).subscribe(\n      data => {\n        if(data != null){\n          this.updateBiblioAnnotation(data)\n        }\n      }\n    )\n\n    this.biblioService.bootstrapData(this.start, this.sortField, this.direction).subscribe(\n      data=> {\n        this.memorySort = {field : this.sortField, direction : this.direction}\n        this.bibliography = data;\n        this.bibliography.forEach(element => {\n          element['selected'] = false;\n        })\n        \n        \n        //@ts-ignore\n        $('#biblioModalAnnotation').modal('hide');\n        $('.modal-backdrop').remove();\n      },error=>{\n        console.log(error)\n      }\n    )\n\n    this.searchSubject.pipe(debounceTime(1000)).subscribe(\n      data => {\n        this.queryTitle  = data.query;\n        data.queryMode ? this.queryMode = 'everything' : this.queryMode = 'titleCreatorYear';\n        this.searchBibliography(this.queryTitle, this.queryMode);\n      }\n    )\n  }\n  \n\n  ngOnChanges(changes: SimpleChanges) { \n    \n    console.log(changes)\n    if(changes.attestationData.currentValue != null){\n      setTimeout(() => {\n\n        if(changes.attestationData.currentValue != this.formData){\n          this.formData = [];\n          //this.arrayPanelFormsData = {}\n          this.selectedItem = null;\n          this.selectedAnnotation = null;\n          this.typeDesc = '';\n          this.staticOtherDef = [];\n          this.labelData = [];\n        }\n        this.formData = changes.attestationData.currentValue;\n        console.log(this.formData)\n        if(this.formData.length == 0){\n          this.lexicalService.triggerAttestationPanel(false);\n          this.typeDesc = '';\n          this.staticOtherDef = [];\n          this.labelData = [];\n        }else{\n         /*  this.formData.forEach(element => {\n            this.arrayPanelFormsData[element.id] = {};\n            this.arrayPanelFormsData[element.id].data = undefined;\n            this.arrayPanelFormsData[element.id].isOpen = false;\n          }); */\n        }\n        \n      }, 10);\n      \n    }else{\n      this.formData = [];\n      this.typeDesc = '';\n      this.staticOtherDef = [];\n      this.labelData = [];\n      this.selectedItem = null;\n      this.selectedAnnotation = null;\n    }\n  }\n\n  cancelAttestation(index, id, node_id){\n    this.formData.splice(index,1);\n    this.annotatorService.deleteAnnotationRequest(id, node_id);\n    \n    this.annotatorService.deleteAnnotation(id).subscribe(\n      data=> {\n        console.log(data);\n        this.toastr.success('Attestation deleted correctly', 'Info', {\n          timeOut : 5000\n        })\n        this.annotatorService.closePanelForm(id);\n        if(this.arrayComponents.length > 0){\n          this.arrayComponents.forEach(instanceComponent => {\n            if(instanceComponent.instance.id == id){\n    \n              setTimeout(() => {\n                instanceComponent.instance.formPanelModal.hide();\n              }, 100);\n            }\n          })\n        }\n      },error => {\n        console.log(error);\n        this.toastr.error('Error on deleting attestation', 'Error', {\n          timeOut : 5000\n        })\n      }\n    );\n    if(this.formData.length == 0){\n      this.lexicalService.triggerAttestationPanel(false);\n      //this.lexicalService.sendToCoreTab(null);\n      /* this.expander.openCollapseEdit(false);\n      this.expander.expandCollapseEdit(false);\n\n      this.expander.openCollapseEpigraphy(true);\n      this.expander.expandCollapseEpigraphy(true); */\n    }\n\n    \n  }\n\n  triggerUpdateAttestation(evt, newValue, propKey, annotation){\n    this.update_anno_subject.next({event : evt, newValue : newValue, propKey: propKey, annotation : annotation})\n  }\n\n  debounceKeyup(value, annotation, index, field){\n    this.update_biblio_anno_subject.next({v: value, a: annotation, i: index, f: field})\n  }\n\n  updateAnnotation(data){\n    if(data !=null){\n      let id_annotation = data?.annotation?.id;\n      let newValue = data?.newValue;\n      let property = data?.propKey;\n\n      let annotation = data?.annotation; \n\n      annotation.attributes[property] = newValue;\n\n      this.annotatorService.updateAnnotation(annotation).subscribe(\n        data=> {\n          console.log(data);\n          this.toastr.success('Attestation updated correctly', 'Info', {\n            timeOut : 5000\n          })\n        },error => {\n          console.log(error);\n          this.toastr.error('Error on updating attestation', 'Error', {\n            timeOut : 5000\n          })\n        }\n      )\n\n    } \n  }\n\n  updateBiblioAnnotation(data){\n    if(data != null){\n      console.log(data);\n\n      let id_annotation = data?.a.id;\n      let newValue = data?.v;\n      let index = data?.i;\n      let field = data?.f;\n\n      this.formData.forEach(\n        element=>{\n          if(element.id == id_annotation){\n            element.attributes.bibliography[index][field] = newValue;\n          }\n        }\n      )\n      let annotation = data?.a;\n      console.log(annotation)\n      this.annotatorService.updateAnnotation(annotation).subscribe(\n        data=> {\n          console.log(data);\n          this.toastr.success('Attestation updated correctly', 'Info', {\n            timeOut : 5000\n          })\n        },error => {\n          console.log(error);\n          this.toastr.error('Error on updating attestation', 'Error', {\n            timeOut : 5000\n          })\n        }\n      )\n      \n    }\n  }\n\n  getForm(formId, index){\n\n    setTimeout(() => {\n      console.log('#attestation_collapse-'+index+'')\n      let item_collapse = this.accordion.nativeElement.querySelectorAll('#attestation_collapse-'+index)[0];\n      if(item_collapse.classList.contains('show')){\n        this.lexicalService.getFormData(formId, 'core').subscribe(\n          data=>{\n            console.log(data);\n            this.lexicalService.triggerLexicalEntryTree({request: true, data: data})\n            \n            //this.lexicalService.sendToCoreTab(data)\n            this.lexicalService.sendToEtymologyTab(null);\n            this.lexicalService.sendToRightTab(data);\n            //this.lexicalService.updateCoreCard({lastUpdate : data['lastUpdate'], creationDate : data['creationDate']});\n            \n            if(this.expander.isEpigraphyTabOpen() && !this.expander.isEditTabOpen()){\n              if(this.expander.isEpigraphyTabExpanded() && !this.expander.isEditTabExpanded()){\n                this.expander.openCollapseEdit(true);\n                this.expander.expandCollapseEpigraphy(false)\n              }\n            }\n            \n            var text_detail = document.querySelectorAll('#text-dettaglio');\n            text_detail.forEach(element => {\n              if(!element.classList.contains('show')){\n                element.classList.add('show')\n              }\n            })\n          },\n          error=>{\n            console.log(error)\n          }\n        )\n      }else{\n        console.log(\"non fai partire ricerca\")\n      }\n      console.log(item_collapse)\n    }, 500);\n    \n    \n  }\n\n  showBiblioModal(item){\n    this.selectedAnnotation = item;\n    this.modal.show();\n  }\n\n  checkIfCreatorExist(item?){\n    return item.some(element => element.creatorType === 'author')\n  }\n\n  selectItem(evt, i){\n    /* console.log(evt, i); */\n    if(evt.shiftKey){\n\n    }\n    this.bibliography.forEach(element=> {\n      if(element.key == i.key){\n        element.selected = !element.selected;\n        element.selected ? this.selectedItem = element : this.selectedItem = null;\n        return true;\n      }else{\n        element.selected = false;\n        return false;\n      }\n    })\n    \n  }\n\n  onCloseModal(){\n    this.selectedItem = null;\n    this.start = 0;\n    this.sortField = 'title';\n    this.direction = 'asc';\n    this.tableBody.nativeElement.scrollTop = 0;\n    this.memorySort = { field: this.sortField, direction: this.direction}\n    this.biblioService.bootstrapData(this.start, this.sortField, this.direction).subscribe(\n      data=> {\n        this.bibliography = data;\n        this.bibliography.forEach(element => {\n          element['selected'] = false;\n        }) \n                \n       \n      },error=>{\n        console.log(error)\n      }\n    );\n  }\n\n  onScrollDown(){\n    //@ts-ignore\n    $(\"#biblioModalAnnotation\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.table-body');\n    //@ts-ignore\n    $('#biblioModalAnnotation').modal({backdrop: 'static', keyboard: false})  \n    $('.modal-backdrop').appendTo('.table-body');\n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n\n    this.start += 25;\n    \n    if(this.queryTitle != ''){\n      this.biblioService.filterBibliography(this.start, this.sortField, this.direction, this.queryTitle, this.queryMode).subscribe(\n        data=>{\n          console.log(data)\n          //@ts-ignore\n          $('#biblioModalAnnotation').modal('hide');\n          $('.modal-backdrop').remove();\n          data.forEach(element => {\n            this.bibliography.push(element)\n          });\n        },error=>{\n          console.log(error)\n        }\n      )\n    }else{\n      this.biblioService.filterBibliography(this.start, this.sortField, this.direction, this.queryTitle, this.queryMode).subscribe(\n        data=> {\n          \n          data.forEach(element => {\n            this.bibliography.push(element)\n          });\n                  \n          //@ts-ignore\n          $('#biblioModalAnnotation').modal('hide');\n          $('.modal-backdrop').remove();\n        },error=>{\n          console.log(error)\n        }\n      );\n    }\n\n    \n  }\n\n  addBibliographyItem(item?){\n    //@ts-ignore\n    $(\"#biblioModalAnnotation\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.ui-modal');\n    //@ts-ignore\n    $('#biblioModalAnnotation').modal({backdrop: 'static', keyboard: false})  \n    \n    $('.modal-backdrop').css('height', 'inherit');\n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n\n    let instance = '';\n    /* if(this.object.lexicalEntryInstanceName != undefined\n      && this.object.lexicalEntryInstanceName.senseInstanceName == undefined){\n        instance = this.object.lexicalEntryInstanceName;\n    }else if(this.object.formInstanceName != undefined){\n      instance = this.object.formInstanceName;\n    }else if(this.object.senseInstanceName != undefined){\n      instance = this.object.senseInstanceName;\n    } */\n\n    if(item != undefined){\n\n      let id = item.data.key != undefined ? item.data.key : '';\n      let title = item.data.title != undefined ? item.data.title : '';\n      let author;\n      \n      item.data.creators.forEach(element => {\n        if(element.creatorType == 'author'){\n          author = element.lastName + ' ' + element.firstName;\n          return true;\n        }else{\n          return false;\n        }\n      });\n      author = author != undefined ? author : ''\n      let date = item.data.date != undefined ? item.data.date : '';\n      let url = item.data.url != undefined ? item.data.url : ''\n      let seeAlsoLink = '';\n\n      item.data['note'] = \"\";;\n      item.data['textualRef'] = \"\";\n\n      let parameters = {\n        id : id,\n        title: title,\n        author: author,\n        date: date,\n        url: url,\n        seeAlsoLink: seeAlsoLink\n      }\n\n      console.log(item, this.selectedAnnotation);\n      this.modal.hide();\n\n     let anno_id = this.selectedAnnotation.id;\n\n      this.formData.forEach(\n        attestation => {\n          if(attestation.id == anno_id){\n            console.log(attestation)\n            attestation?.attributes?.bibliography.push(item?.data)\n          }\n        }\n      );\n\n      this.annotatorService.updateAnnotation(this.selectedAnnotation).subscribe(\n        data=>{\n          console.log(data);\n          //@ts-ignore\n          $('#biblioModalAnnotation').modal('hide');\n          $('.modal-backdrop').remove();\n\n          this.modal.hide();\n\n          this.toastr.success('Item added correctly', 'Info', {\n            timeOut : 5000\n          })\n\n        },error=>{\n          console.log(error);\n          //@ts-ignore\n          $('#biblioModalAnnotation').modal('hide');\n          $('.modal-backdrop').remove();\n\n          this.modal.hide();\n\n          this.toastr.error('Error on adding item', 'Info', {\n            timeOut : 5000\n          })\n\n        }\n      )\n      /* this.annotatorService.updateAnnotation() */\n      /*       \n      this.lexicalService.addBibliographyData(instance, parameters).subscribe(\n        data=>{\n          console.log(data);\n          setTimeout(() => {\n            //@ts-ignore\n            $('#biblioModal').modal('hide');\n            $('.modal-backdrop').remove();\n            this.toastr.success('Item added, check bibliography panel', '', {\n              timeOut: 5000,\n            });\n            this.biblioService.triggerPanel(data)\n            setTimeout(() => {\n              this.modal.hide();\n            }, 10);\n          }, 300);\n          this.biblioService.sendDataToBibliographyPanel(data);\n        },error=>{\n          console.log(error)\n          if(typeof(error.error) == 'string' && error.error.length < 1000){\n            this.toastr.error(error.error, '', {\n              timeOut: 5000,\n            });\n          }else{\n            this.toastr.error(error.statusText, '', {\n              timeOut: 5000,\n            });\n          }\n          \n          setTimeout(() => {\n            //@ts-ignore\n            $('#biblioModal').modal('hide');\n            $('.modal-backdrop').remove();\n\n            setTimeout(() => {\n              this.modal.hide();\n            }, 10);\n          }, 300);\n          \n        }\n      ) */\n    }\n    \n  }\n\n  sortBibliography(evt?, val?){\n    \n    \n    if(this.memorySort.field == val){\n      if(this.direction == 'asc'){\n        this.direction = 'desc'\n        this.memorySort.direction = 'desc';\n      }else{\n        this.direction = 'asc';\n        this.memorySort.direction = 'asc';\n      }\n    }else{\n      this.sortField = val;\n      this.direction = 'asc';\n      this.memorySort = {field : this.sortField, direction : this.direction};\n    }\n\n    //@ts-ignore\n    $(\"#biblioModalAnnotation\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.table-body');\n    //@ts-ignore\n    $('#biblioModalAnnotation').modal({backdrop: 'static', keyboard: false})  \n    $('.modal-backdrop').appendTo('.table-body');\n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n    this.start = 0;\n    this.tableBody.nativeElement.scrollTop = 0;\n\n    this.biblioService.filterBibliography(this.start, this.sortField, this.direction, this.queryTitle, this.queryMode).subscribe(\n      data=>{\n        console.log(data)\n        this.bibliography = [];\n        //@ts-ignore\n        $('#biblioModalAnnotation').modal('hide');\n        $('.modal-backdrop').remove();\n        data.forEach(element => {\n          this.bibliography.push(element)\n        });\n      },error=>{\n        console.log(error)\n      }\n    )\n    \n  }\n\n  removeItem(item, j) {\n    console.log(item, j)\n    \n    this.formData.forEach(\n      annotation=>{\n        if(item?.id == annotation.id){\n          annotation.attributes.bibliography.splice(j, 1)\n        }\n      }\n    )\n\n    this.annotatorService.updateAnnotation(item).subscribe(\n      data=>{\n        console.log(data)\n        this.toastr.success('Attestation removed correctly', 'Info', {\n          timeOut : 5000\n        })\n      },\n      error=>{\n        console.log(error)\n        this.toastr.error('Error on removing attestation', 'Error', {\n          timeOut : 5000\n        })\n      }\n    )\n    console.log(this.formData, item)\n  }\n\n  triggerSearch(evt, query, queryMode) {\n    if(evt.key != 'Control' && evt.key != 'Shift' && evt.key != 'Alt'){\n      this.searchSubject.next({query, queryMode})\n    }\n  }\n  \n  searchBibliography(query?:string, queryMode?:any){\n    this.start = 0;\n    this.selectedItem = null;\n    //@ts-ignore\n    $(\"#biblioModalAnnotation\").modal(\"show\");\n    $('.modal-backdrop').appendTo('.table-body');\n    //@ts-ignore\n    $('#biblioModalAnnotation').modal({backdrop: 'static', keyboard: false})  \n    $('body').removeClass(\"modal-open\")\n    $('body').css(\"padding-right\", \"\");\n    this.tableBody.nativeElement.scrollTop = 0;\n    if(this.queryTitle != ''){\n      this.biblioService.filterBibliography(this.start, this.sortField, this.direction, this.queryTitle, this.queryMode).subscribe(\n        data => {\n          console.log(data);\n          this.bibliography = [];\n          data.forEach(element => {\n            this.bibliography.push(element)\n          });\n          //@ts-ignore\n          $('#biblioModalAnnotation').modal('hide');\n          $('.modal-backdrop').remove();\n        },\n        error => {\n          console.log(error)\n        }\n      )\n    }else{\n      this.biblioService.filterBibliography(this.start, this.sortField, this.direction, this.queryTitle, this.queryMode).subscribe(\n        data => {\n          console.log(data);\n          this.bibliography = [];\n          data.forEach(element => {\n            this.bibliography.push(element)\n          });\n          //@ts-ignore\n          $('#biblioModalAnnotation').modal('hide');\n          $('.modal-backdrop').remove();\n        },\n        error => {\n          console.log(error)\n        }\n      )\n    }\n  }158\n\n  \n\n  loadFormData(idAnnotation, formId, label){\n    console.log(idAnnotation)\n    let panel = this.annotatorService.getPanelForm(idAnnotation);\n    if(panel == undefined){\n      this.lexicalService.getFormData(formId, 'core').subscribe(\n        data=> {\n          console.log(data);\n          if(data != undefined){\n            this.annotatorService.newPanelForm(idAnnotation);\n            const factory = this.factory.resolveComponentFactory(FormPanelComponent);\n            const componentRef = this.vc.createComponent(factory);\n            this.arrayComponents.push(componentRef);\n            (<FormPanelComponent>componentRef.instance).label = label + \" - \" + data.label[0].propertyValue;\n            (<FormPanelComponent>componentRef.instance).formId = formId;\n            (<FormPanelComponent>componentRef.instance).id = idAnnotation;\n            (<FormPanelComponent>componentRef.instance).formData = data;\n            (<FormPanelComponent>componentRef.instance).triggerFormPanel();\n          }\n        }, error=> {\n          console.log(error)\n        }\n      )\n      \n    }else{\n\n    }\n\n  }\n}\n","\n\n<div class=\"card\">\n    <div class=\"card-header\" id=\"attestationHeading\">\n        <h5 class=\"mb-0\">\n            <a class=\"btn btn-link w-100 d-flex align-self-center collapsed \" data-toggle=\"collapse\"\n                data-target=\"#attestationCollapse\" aria-expanded=\"true\" aria-controls=\"attestationCollapse\">\n                Attestation Panel<i class=\"fa ml-auto\"></i>\n            </a>\n        </h5>\n    </div>\n    <div id=\"attestationCollapse\" class=\"collapse\" aria-labelledby=\"attestationHeading\" #accordion>\n        <div class=\"card-body\">\n            <div *ngIf=\"formData != null\">\n                <div class=\"card mb-4 pt-4\" *ngFor=\"let item of formData; let i = index\">\n                    <a class=\"attestationCollapse\" data-toggle=\"collapse\" [attr.data-target]=\"'#attestation_collapse-'+i\"\n                        aria-expanded=\"true\" [attr.aria-controls]=\"'#attestation_collapse-'+i\" (click)=\"getForm(item?.attributes.form_id, i)\"><span class=\"text-id pointer\"><b\n                                class=\"badge badge-primary\">{{fileId}} - {{item?.attributes.label != undefined ? item?.attributes.label : ''}}</b></span></a>\n                   \n                    <a  (click)=\"loadFormData(item?.id, item?.attributes.form_id, fileId); \" class=\"pointer\"><span container=\"body\" placement=\"top\" ngbTooltip=\"Open in new panel\" class=\"external-icon\"><i class=\"fa fa-external-link-alt\"></i></span></a>\n                    <a (click)=\"cancelAttestation(i, item?.id, item?.attributes.node_id)\" class=\"pointer\"><span class=\"trash-icon\"><i class=\"fa fa-trash\"></i></span></a>\n                    \n\n                    <div [id]=\"'attestation_collapse-'+i\" class=\"collapse\" >\n                        <div class=\"card-body\" style=\"max-height: 20rem;  overflow: auto;  \">\n                            <!-- <div class=\"form-group row ml-2 mr-2 mb-0\">\n                                <label for=\"inputLabel\" class=\"col-lg-4 pl-0 pr-0 col-form-label\">URI:</label>\n                                <div class=\"input-group col-lg-8 pl-0 pr-0\">\n                                    <span class=\"font-italic overflow-auto p-1\">{{item?.value}}</span>\n                                </div>\n                            </div> -->\n                            \n                            \n                            <div class=\"form-group row ml-2 mr-2 mb-0\" *ngFor=\"let subprop of item?.attributes | keyvalue\">\n                                <label for=\"inputLabel\" class=\"col-lg-4 pl-0 pr-0 col-form-label\" *ngIf=\"subprop?.key != 'bibliography' && subprop?.key != 'validity' && subprop?.key != 'node_id' && subprop?.key != 'form_id' && subprop?.key != 'creator' && subprop?.key != 'timestamp' && subprop?.key != 'label'\">{{subprop?.key}}:</label>\n                                <label for=\"inputLabel\" class=\"col-lg-4 pl-0 pr-0 col-form-label\" *ngIf=\"subprop?.key == 'label'\">form:</label>\n\n                                \n                                <div class=\"input-group col-lg-8 pl-0 pr-0\">\n                                    <span class=\"font-italic overflow-auto p-1\" *ngIf=\"subprop?.key == 'label'\">{{subprop?.value}}</span>\n                                    <span class=\"font-italic overflow-auto p-1\" *ngIf=\"subprop?.key == 'leiden' && !item.empty_file\">{{subprop?.value}}</span>\n                                    <input #sub_property *ngIf=\"subprop?.key != 'creator' && \n                                                  subprop?.key != 'label' && \n                                                  subprop?.key != 'note' &&\n                                                  subprop?.key != 'timestamp' &&\n                                                  subprop?.key != 'node_id' &&\n                                                  subprop?.key != 'form_id' &&\n                                                  subprop?.key != 'confidence' &&\n                                                  subprop?.key != 'bibliography'  &&\n                                                  subprop?.key != 'validity' &&\n                                                  subprop?.key != 'leiden'\" \n                                                  (keyup)=\"triggerUpdateAttestation($event, sub_property.value, subprop?.key, item)\" id=\"attributes\" name=\"attributes\" type=\"text\" class=\"form-control\" placeholder=\"No info\" [value]=\"subprop?.value\">\n                                    \n                                    <input #leiden (keyup)=\"triggerUpdateAttestation($event, leiden.value, subprop?.key, item)\" type=\"text\" *ngIf=\"item.empty_file && subprop?.key == 'leiden'\" class=\"form-control\" placeholder=\"No info\" [value]=\"subprop?.value\">\n                                    <input #confidence *ngIf=\"subprop?.key == 'confidence'\" (keyup)=\"triggerUpdateAttestation($event, confidence.value, subprop?.key, item)\" (change)=\"triggerUpdateAttestation($event, confidence.value, subprop?.key, item)\" id=\"attributes\" name=\"attributes\" type=\"number\" min=\"0\" max=\"1\" step=\"0.1\" class=\"form-control\" placeholder=\"No info\" [value]=\"subprop?.value\">\n                                    <!-- <span class=\"font-italic overflow-auto p-1\" *ngIf=\"subprop?.key == 'timestamp'\">{{subprop?.value | date: 'dd/MM/yyyy HH:mm:ss'}}</span> -->\n                                    <textarea #text_area (keyup)=\"triggerUpdateAttestation($event, text_area.value, subprop?.key, item)\" *ngIf=\"subprop?.key == 'note'\" id=\"attributes\" name=\"attributes\" type=\"text\" class=\"form-control\" placeholder=\"No info\" style=\"resize: none;\">{{subprop?.value}}</textarea>\n                                </div>\n                            </div>\n                            <div class=\"form-group row ml-2 mr-2 mb-0\">\n                                <label for=\"inputLabel\" class=\"col-lg-4 pl-0 pr-0 col-form-label\">bibliography:</label>\n                                <div class=\"input-group col-lg-8 pl-0 pr-0 justify-content-between\">\n                                    <span class=\"font-italic overflow-auto p-1\" *ngIf=\"item?.attributes.bibliography.length == 0\">\n                                        No bibliography\n                                    </span>\n                                    <span class=\"font-italic overflow-auto p-1\" *ngIf=\"item?.attributes.bibliography.length != 0\">\n                                        {{item?.attributes?.bibliography.length}} item(s)\n                                    </span>\n                                    <button (click)=\"showBiblioModal(item)\" title=\"Add new bibliography item\" class=\"btn btn-success rounded-circle\" style=\"\n                                    width: 20px;\n                                    height: 20px;\n                                    padding: 0%;\n                                    border-radius: 15px !important;\">\n                                        <i class=\"fas fa-plus\"></i>\n                                    </button>\n                                </div>\n                                \n                                \n                            </div>\n                            <div *ngIf=\"item?.attributes.bibliography.length > 0\">\n                                <div class=\"form-group row ml-2 mt-3 mb-1  mr-2\" *ngFor=\"let item_biblio of item?.attributes.bibliography; let j = index\">\n                                    <div class=\"input-group col-xl-12 p-0\">\n                                        <!-- {{item_biblio.creators | json}} -->\n                                        <div id=\"accordion\">\n                                            <div class=\"card\">\n                                                <a class=\"biblioCollapse\" data-toggle=\"collapse\" [attr.data-target]=\"'#attestation_biblio_collapse-'+item?.id+'-'+j\" aria-expanded=\"true\" [attr.aria-controls]=\"'#attestation_biblio_collapse-'+item?.id+'-'+j\">\n                                                    \n                                                    <span class=\"text-id pointer\" style=\"z-index: 0;\">\n                                                        <span  *ngFor=\"let auth of item_biblio.creators\">\n                                                            <b *ngIf=\"auth.creatorType == 'author'\">{{auth.lastName}} {{auth.firstName}} </b>\n                                                        </span>\n                                                        <b>- ({{item_biblio.title != undefined ? (item_biblio.title | slice:0:10) +'...' : ''}})</b>\n                                                    </span>\n                                                    <!-- <span class=\"text-id pointer\">\n                                                        \n                                                    </span> -->\n                                                </a>\n                                                <span *ngIf=\"item_biblio != undefined\" class=\"icons-container\">\n                                                    <!-- {{bibliographyData[i]['url'] | json}} -->\n                                                    <!-- <span><a target=\"_blank\" class=\"pointer text-primary\" (click)=\"synchronizeBibliography(biblio.get('id').value)\"><span class=\"synchro-icon\"><i class=\"fas fa-sync-alt\" *ngIf=\"!loadingSynchro\"></i> <i class=\"fas fa-sync fa-spin\" *ngIf=\"loadingSynchro\"></i></span></a></span> -->\n                                                    <span ><a  href=\"https://www.zotero.org/groups/2552746/prin_italia_antica/items/{{item_biblio.key}}/library\" target=\"_blank\" class=\"pointer text-primary\"><span class=\"external-icon\"><i class=\"fas fa-external-link-alt\"></i></span></a></span>\n                                                    <span><a *ngIf=\"item_biblio.url != ''\" [href]=\"item_biblio.url\" target=\"_blank\" class=\"pointer text-primary\"><span class=\"download-icon\"><i class=\"fas fa-download\"></i></span></a></span>\n                                                </span>\n                                                \n                                                <a class=\"pointer\" (click)=\"removeItem(item, j)\"><span class=\"trash-icon\"><i class=\"fa fa-trash text-danger\"></i></span></a> \n                                                \n                                                <div [id]=\"'attestation_biblio_collapse-'+item?.id+'-'+j\" class=\"collapse\" > <!-- data-parent=\"#accordion\" -->\n                                                    <div class=\"card-body mt-2\">\n                                                        <div class=\"form-group row ml-2 mr-2 mb-0\">\n                                                            <label for=\"inputLabel\" class=\"col-lg-4 px-0 col-form-label\">Title:</label>\n                                                            <div class=\"input-group col-lg-8 pl-0\">\n                                                                <input id=\"title\"  name=\"title\" type=\"text\" class=\"form-control\" placeholder=\"\" disabled [value]=\"item_biblio?.title\">\n                                                            </div>\n                                                        </div>           \n                                                        <div class=\"form-group row ml-2 mr-2 mb-0\">\n                                                            <label for=\"inputLabel\" class=\"col-lg-4 px-0 col-form-label\">Author:</label>\n                                                            <div class=\"input-group col-lg-8 pl-0  \">\n                                                                <span *ngFor=\"let auth of item_biblio.creators\" class=\"pb-1\">\n                                                                    <input id=\"author\"   name=\"author\" type=\"text\" class=\"form-control\" placeholder=\"\" disabled [value]=\"auth.firstName + ' ' + auth.lastName\">\n                                                                </span>\n                                                                \n                                                            </div>\n                                                        </div>   \n                                                        <div class=\"form-group row ml-2 mr-2 mb-0\">\n                                                            <label for=\"inputLabel\" class=\"col-lg-4 px-0 col-form-label\">Date:</label>\n                                                            <div class=\"input-group col-lg-8 pl-0\">\n                                                                <input id=\"date\"   name=\"date\" type=\"text\" class=\"form-control\" placeholder=\"\" disabled [value]=\"item_biblio.date\">\n                                                            </div>\n                                                        </div>\n                                                        <div class=\"form-group row ml-2 mr-2\">\n                                                            <label for=\"inputLabel\" class=\"col-lg-4 px-0 col-form-label\">Note:</label>\n                                                            <div class=\"input-group col-lg-8 pl-0\">\n                                                                <textarea #note_item_biblio_anno (keyup)=\"debounceKeyup(note_item_biblio_anno.value, item, j, 'note')\"  name=\"note\" class=\"form-control\" style=\"resize: none;\" [value]=\"item_biblio.note\"></textarea>\n                                                            </div>\n                                                        </div>  \n                                                        <div class=\"form-group row ml-2 mr-2\">\n                                                            <label for=\"inputLabel\" class=\"col-lg-4 px-0 col-form-label\">TextualRef:</label>\n                                                            <div class=\"input-group col-lg-8 pl-0\">\n                                                                <textarea #txtref_item_biblio_anno (keyup)=\"debounceKeyup(txtref_item_biblio_anno.value, item, j, 'textualRef')\"  name=\"textualReference\" class=\"form-control\" style=\"resize: none;\" [value]=\"item_biblio.textualRef\"></textarea>\n                                                            </div>\n                                                        </div>     \n                                                    </div>\n                                                </div>                                            \n                                            </div>\n                                        </div>\n                                        \n                                        \n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n\n                    \n                </div>\n            </div>\n           \n        </div>\n    </div>\n\n</div>\n\n\n\n\n<!-- ################ BIBLIO MODAL ################# -->\n                    \n<app-modal #addBibliographyAttestation class=\"biblio_modal\" [backdrop]=\"false\" [inViewport]=\"true\" (closeModal)=\"onCloseModal()\">\n\n    <ng-container class=\"app-modal-header\">\n        <img src=\"../../../../../../assets/images/zotero_logo.png\">\n        <span class=\"ml-2 biblio-header-title\">Library: PRIN Italia Antica</span>\n    </ng-container>\n    \n    <ng-container class=\"app-modal-body\">\n        <!-- SEARCH BAR -->\n        <div class=\"w-25 pt-1 pb-1\">\n            <div class=\"input-group mb-3\" *ngIf=\"{switch : false}; let variable\">\n                <div class=\"input-group-prepend\">\n                    <button class=\"btn btn-outline-secondary dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\"\n                        aria-haspopup=\"true\" aria-expanded=\"false\"><i class=\"fa fa-search\"></i></button>\n                    <div class=\"dropdown-menu\">\n                        <a [class.disable_click_fire]=\"!variable.switch\" class=\"dropdown-item\" style=\"cursor: pointer;\"\n                            (click)=\"variable.switch = false; searchBibliography(searchBiblio.value, variable.switch);\">Normal</a>\n                        <a [class.disable_click_fire]=\"variable.switch\" class=\"dropdown-item\" style=\"cursor: pointer;\"\n                            (click)=\"variable.switch = true; searchBibliography(searchBiblio.value, variable.switch);\">Full\n                            Text</a>\n                    </div>\n                </div>\n                <input #searchBiblio (keyup)=\"triggerSearch($event, searchBiblio.value, variable.switch)\" type=\"text\"\n                    class=\"form-control\" aria-label=\"Text input with dropdown button\"\n                    [placeholder]=\"variable.switch ?'Title, creator, year + Full Text' : 'Title, creator, year'\"\n                    style=\"font-size: 12px;\">\n            </div>\n\n        </div>\n        <!-- {{'start: '+start + ' sortField: '+ sortField + ' direction: '+ direction + ' queryTitle: '+ queryTitle + ' queryMode: '+ queryMode}} -->\n\n        <!-- SKELETON CONTAINER -->\n        <div class=\"container-fluid\">\n            <div class=\"row\">\n                <div class=\"col-md-8 pl-0\">\n\n\n                    <!-- TABLE -->\n                    <div class=\"table-responsive table-body\">\n                        <div id=\"biblioModalAnnotation\" class=\"modal fade\" role=\"dialog\">\n                            <div class=\"modal-dialog\">\n\n                                <!-- Modal content-->\n                                <div class=\"modal-content\">\n                                    <div class=\"modal-body\">\n                                        <div class=\"d-flex justify-content-center\">\n                                            <div class=\"spinner-border\" role=\"status\">\n                                                <span class=\"sr-only\">Loading...</span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n\n                            </div>\n                        </div>\n                        \n                        <table class=\"table table-striped table-hover\" [hidden]=\"bibliography.length == 0\">\n                            <thead>\n                                <tr>\n                                    <th scope=\"col\" style=\"width: 50%; cursor: pointer;\" (click)=\"sortBibliography($event, 'title')\">\n                                        <span>Title</span>\n                                        <span class=\"float-right\">\n                                            <i class=\"fas fa-sort-up\" *ngIf=\"direction == 'asc' && sortField == 'title'\"></i>\n                                            <i class=\"fas fa-sort-down\" *ngIf=\"direction == 'desc' && sortField == 'title'\"></i>\n                                        </span>\n                                    </th>\n                                    <th scope=\"col\" style=\"width: 30%; cursor: pointer;\" (click)=\"sortBibliography($event, 'creator')\">\n                                        <span>Creator</span>\n                                        <span class=\"float-right\">\n                                            <i class=\"fas fa-sort-up\" *ngIf=\"direction == 'asc' && sortField == 'creator'\"></i>\n                                            <i class=\"fas fa-sort-down\" *ngIf=\"direction == 'desc' && sortField == 'creator'\"></i>\n                                        </span>\n                                    </th>\n                                    <th scope=\"col\" style=\"width: 20%; cursor: pointer;\" (click)=\"sortBibliography($event, 'date')\">\n                                        <span>Date</span>\n                                        <span class=\"float-right\">\n                                            <i class=\"fas fa-sort-up\" *ngIf=\"direction == 'asc' && sortField == 'date'\"></i>\n                                            <i class=\"fas fa-sort-down\" *ngIf=\"direction == 'desc' && sortField == 'date'\"></i>\n                                        </span>\n                                    </th>\n                                </tr>\n                            </thead>\n                            <tbody #table_body infiniteScroll [infiniteScrollDistance]=\"0.4\"\n                                [infiniteScrollThrottle]=\"150\" [scrollWindow]=\"false\" (scrolled)=\"onScrollDown()\">\n\n\n                                <tr *ngFor=\"let item of bibliography\" (click)=\"selectItem($event, item)\"\n                                    [ngClass]=\"item?.selected ? 'selected' : ''\" style=\"cursor: pointer;\">\n                                    <td style=\"width: 50%\">\n                                        <span *ngIf=\"item.data.itemType == 'book'\" class=\"pl-1 pr-1\">\n                                            <i class=\"fas fa-book\"></i>\n                                        </span>\n                                        <span *ngIf=\"item.data.itemType == 'bookSection'\" class=\"pl-1 pr-1\">\n                                            <i class=\"fas fa-book-open\"></i>\n                                        </span>\n                                        <span *ngIf=\"item.data.itemType == 'journalArticle'\" class=\"pl-1 pr-1\">\n                                            <i class=\"far fa-newspaper\"></i>\n                                        </span>\n                                        <span *ngIf=\"item.data.itemType == 'note'\" class=\"pl-1 pr-1\">\n                                            <i class=\"far fa-clipboard\"></i>\n                                        </span>\n                                        <span *ngIf=\"item.data.itemType == 'attachment'\" class=\"pl-1 pr-1\">\n                                            <i class=\"fas fa-paperclip\"></i>\n                                        </span>\n                                        <span *ngIf=\"item.data.itemType == 'conferencePaper'\" class=\"pl-1 pr-1\">\n                                            <i class=\"fas fa-chalkboard-teacher\"></i>\n                                        </span>\n                                        <span\n                                            *ngIf=\"item.data.title != undefined && item.data.title != ''\">{{item.data.title |titlecase}}</span>\n                                        <span *ngIf=\"item.data.title == undefined || item.data.title == ''\"\n                                            class=\"font-italic\">No title</span>\n                                    </td>\n                                    <td style=\"width: 30%\">\n                                        <span *ngIf=\"item.data.creators != undefined\">\n                                            <span *ngFor=\"let author of item.data.creators; let i = index\">\n                                                <span *ngIf=\"author.creatorType == 'author'\">\n                                                    {{author.lastName | titlecase}} {{author.firstName | titlecase}} \n                                                </span>\n                                            </span>\n                                            <span *ngIf=\"!checkIfCreatorExist(item.data.creators)\"\n                                                class=\"font-italic\">No data</span>\n                                        </span>\n                                        <span *ngIf=\"item.data.creators == undefined\" class=\"font-italic\">No data</span>\n                                    </td>\n                                    <td style=\"width: 20%\">\n                                        <span *ngIf=\"item.data.date != undefined && item.data.date != ''\">\n                                            {{item.data.date | titlecase}}\n                                        </span>\n                                        <span *ngIf=\"item.data.date == undefined || item.data.date == ''\"\n                                            class=\"font-italic\">\n                                            No info\n                                        </span>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <p class=\"font-italic text-muted no-results\" *ngIf=\"bibliography.length == 0\">No results</p>\n                    </div>\n\n\n                </div>\n                <div class=\"col-md-4\" style=\"font-size: 14px;\">\n                    <div class=\"row\">\n                        <div class=\"col-md-12 item-description\"\n                            style=\"height: calc(100vh - 37rem); overflow: auto; font-size: 13px;\">\n                            <div *ngIf=\"!selectedItem\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-12\">\n                                        <p class=\"text-muted text-center align-middle mb-1 font-italic\">\n                                            No item selected\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div *ngIf=\"selectedItem\">\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.itemType != '' && selectedItem.data.itemType != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Item type\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.itemType | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.title != '' && selectedItem.data.title != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Title\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.title | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.creators != undefined && selectedItem.data.creators.length > 0 && checkIfCreatorExist(selectedItem.data.creators)\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Author\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <span *ngFor=\"let author of selectedItem.data.creators\">\n                                            <span *ngIf=\"author.creatorType == 'author'\">\n                                                <p class=\"font-weight-normal mb-1\">\n                                                    {{author.firstName | titlecase}} {{author.lastName | titlecase}}\n                                                </p>\n                                            </span>\n                                        </span>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.creators != undefined && selectedItem.data.creators.length > 0\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Editor\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <span *ngFor=\"let editor of selectedItem.data.creators\">\n                                            <span *ngIf=\"editor.creatorType == 'editor'\">\n                                                <p class=\"font-weight-normal mb-1\">\n                                                    {{editor.firstName | titlecase}} {{editor.lastName | titlecase}}\n                                                </p>\n                                            </span>\n                                        </span>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.publicationTitle != '' && selectedItem.data.publicationTitle != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Publication\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.publicationTitle | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.publisher != '' && selectedItem.data.publisher != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Publisher\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.publisher | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.issue != '' && selectedItem.data.issue != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Issue\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.issue | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.pages != '' && selectedItem.data.pages != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Pages\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.pages | titlecase }}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.place != '' && selectedItem.data.place != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Place\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.place | titlecase }}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.date != '' && selectedItem.data.pages != date\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Date\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.date | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.journalAbbreviation != '' && selectedItem.data.journalAbbreviation != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Journal Abbr\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.journalAbbreviation | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.DOI != '' && selectedItem.data.DOI != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            <a class=\"text-muted\" href=\"{{'https://doi.org/'+selectedItem.data.DOI}}\"\n                                                target=\"_blank\">DOI <i class=\"fas fa-external-link-alt\"></i></a>\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.DOI | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.ISSN != '' && selectedItem.data.ISSN != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            ISSN\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.ISSN | titlecase}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.url != '' && selectedItem.data.url != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            <a class=\"text-muted\" href=\"{{selectedItem.data.url}}\" target=\"_blank\">URL\n                                                <i class=\"fas fa-external-link-alt\"></i></a>\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.url}}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"row\"\n                                    *ngIf=\"selectedItem.data.accessDate != '' && selectedItem.data.accessDate != undefined\">\n                                    <div class=\"col-md-4 left\" style=\"text-align: right;\">\n                                        <p class=\"text-muted font-weight-bold mb-1\">\n                                            Accessed\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-8 right\" style=\"text-align: left;\">\n                                        <p class=\"font-weight-normal mb-1\">\n                                            {{selectedItem.data.accessDate}}\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-md-12\" style=\"height: calc(40vh - 10rem); overflow: auto; font-size: 13px;\">\n                            <div *ngIf=\"!selectedItem\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-12\">\n                                        <p class=\"text-muted text-center align-middle mb-1 font-italic\">\n                                            No item selected\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div\n                                *ngIf=\"selectedItem && (selectedItem.data.abstractNote == '' || selectedItem.data.abstractNote == undefined)\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-12\">\n                                        <p class=\"text-muted text-center align-middle mb-1 font-italic\">\n                                            No info\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div\n                                *ngIf=\"selectedItem && (selectedItem.data.abstractNote != '' && selectedItem.data.abstractNote != undefined)\">\n                                <p class=\"text-muted font-weight-bold\">\n                                    Abstract\n                                </p>\n                                <p class=\"font-weight-normal\">\n                                    {{selectedItem.data.abstractNote}}\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-md-12 d-flex justify-content-end\">\n                    <button class=\"btn btn-secondary w-25\" [disabled]=\"!selectedItem\" (click)=\"addBibliographyItem(selectedItem)\">Save</button>\n                    <!-- <button class=\"btn btn-secondary\" (click)=\"addBibliography.hide()\">Close</button> -->\n                </div>\n            </div>\n        </div>\n    </ng-container>\n\n    <ng-container class=\"app-modal-footer\">\n    </ng-container>\n</app-modal>\n\n<ng-template #formPanel></ng-template>\n","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-search-page',\n  templateUrl: './search-page.component.html',\n  styleUrls: ['./search-page.component.scss']\n})\nexport class SearchPageComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","\n\n<div class=\"container-fluid\">\n\t<div class=\"row justify-content-center\">\n\t\t<div class=\"col-md-3 d-flex\">\n      <br>\n      <app-data-search-form class=\"w-100\"></app-data-search-form>  \n    </div>\n    <div class=\"col-md-9\">\n\n    </div>\n\t</div>\n</div>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { AuthGuard } from './services/guard/auth.guard';\nimport { HomePageComponent } from './views/home-page/home-page.component';\nimport { LexiconPageComponent } from './views/lexicon-page/lexicon-page.component';\nimport { LoginPageComponent } from './views/login-page/login-page.component';\nimport { PageNotFoundComponent } from './views/page-not-found/page-not-found.component';\nimport { ProfilePageComponent } from './views/profile-page/profile-page.component';\nimport { SearchPageComponent } from './views/search-page/search-page.component';\n\nconst routes: Routes = [\n  {path: '', redirectTo: 'lexicon', pathMatch: 'full'},\n  /* {path: 'home', component: HomePageComponent}, */\n  /* {path: 'login', component: LoginPageComponent}, */\n  {path: 'lexicon', component: LexiconPageComponent, canActivate: [AuthGuard], data: {roles: ['USER']}},\n  {path: 'user', component: ProfilePageComponent, canActivate: [AuthGuard], data: {roles: ['ADMIN']}},\n  {path: 'search', component: SearchPageComponent},\n  /* {path: '**', component: PageNotFoundComponent} */\n  {path: '**', component: LexiconPageComponent}\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LilaService {\n\n  private baseUrl_document = \"/LexO-backend-itant_itant/service/fedex/search\"\n  private endpoint = 'https://lila-erc.eu/sparql/lila_knowledge_base/sparql'\n\n  constructor(private http: HttpClient) { }\n\n  queryCognate(label: string): Observable<any> {\n    return this.http.post(this.baseUrl_document+'?sparqlQuery='+encodeURIComponent(`\n    prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n    prefix ontolex: <http://www.w3.org/ns/lemon/ontolex#>\n    prefix lila: <http://lila-erc.eu/ontologies/lila/>\n    prefix lb: <http://lila-erc.eu/data/id/lemma/LemmaBank>\n    SELECT ?lemma ?pos ?wr \n    WHERE {\n      ?lemma a lila:Lemma ;\n      ontolex:writtenRep ?wr ;\n      lila:hasPOS ?pos .\n      FILTER regex(?wr, \"^`+label+`\", \"i\") }`)+'&endpoint='+this.endpoint, null)\n  }\n\n  queryEtymon(label: string): Observable<any> {\n    return this.http.post(this.baseUrl_document+'?sparqlQuery='+encodeURIComponent(`\n    PREFIX lime: <http://www.w3.org/ns/lemon/lime#>\n    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n    PREFIX lemonEty: <http://lari-datasets.ilc.cnr.it/lemonEty#>\n    PREFIX igvll: <http://lila-erc.eu/data/lexicalResources/IGVLL/>\n    SELECT  ?etymon ?language ?label ?comment WHERE\n    { ?etymon a lemonEty:Etymon ;\n      rdfs:label ?label ;\n      rdfs:comment ?comment ;\n      lime:language ?language .\n    FILTER regex(?label, \"^\\\\\\\\*`+label+`\", \"i\")}`)+'&endpoint='+this.endpoint, null)\n  }\n}\n","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, Input, OnInit, SimpleChanges } from '@angular/core';\nimport { Form, FormArray, FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Subject, Subscription } from 'rxjs';\nimport { debounceTime, pairwise, startWith } from 'rxjs/operators';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\nimport { ToastrService } from 'ngx-toastr';\n\n@Component({\n  selector: 'app-form-core-form',\n  templateUrl: './form-core-form.component.html',\n  styleUrls: ['./form-core-form.component.scss']\n})\nexport class FormCoreFormComponent implements OnInit {\n\n  @Input() formData: any;\n\n  private subject_label: Subject<any> = new Subject();\n  private subject_ex_label: Subject<any> = new Subject();\n\n  switchInput = false;\n  subscription: Subscription;\n  object: any;\n  peopleLoading = false;\n  counter = 0;\n  typesData = [];\n  morphologyData = [];\n  valueTraits = [];\n  memoryTraits = [];\n  interval;\n\n  formCore = new FormGroup({\n    inheritance: new FormArray([this.createInheritance()]),\n    type: new FormControl(''),\n    confidence : new FormControl(null),\n    label: new FormArray([this.createLabel()]),\n    morphoTraits: new FormArray([this.createMorphoTraits()])\n  })\n\n  labelData = [];\n  memoryLabel = [];\n\n  typeDesc = '';\n\n  staticOtherDef = [];\n  staticMorpho = [];\n\n  morphoTraits: FormArray;\n  inheritanceArray: FormArray;\n  labelArray: FormArray;\n\n  disableAddOther = false;\n  disableAddMorpho = false;\n\n  constructor( private lexicalService: LexicalEntriesService, private formBuilder: FormBuilder, private toastr: ToastrService) { }\n\n  ngOnInit() {\n    this.lexicalService.getMorphologyData().subscribe(\n      data => {\n        this.morphologyData = data;\n        this.morphologyData = this.morphologyData.filter(x => {\n          if (x.propertyId != 'partOfSpeech') {\n            return true;\n          } else {\n            return false\n          }\n        })\n        /* //console.log(this.morphologyData) */\n      }\n    )\n\n    setTimeout(() => {\n      //@ts-ignore\n      $('.denotes-tooltip').tooltip({\n        trigger: 'hover'\n      });\n    }, 1000);\n    this.loadPeople();\n\n    this.formCore = this.formBuilder.group({\n      inheritance: this.formBuilder.array([]),\n      type: '',\n      confidence : null,\n      label: this.formBuilder.array([]),\n      morphoTraits: this.formBuilder.array([]),\n    })\n\n    this.onChanges();\n    this.subject_label.pipe(debounceTime(1000)).subscribe(\n      data => {\n        this.onChangeLabel(data)\n      }\n    )\n\n    this.subject_ex_label.pipe(debounceTime(1000)).subscribe(\n      data => {\n\n        this.onChangeExistingLabelValue(data['evt'], data['i']);\n      }\n    )\n\n    this.lexicalService.getFormTypes().subscribe(\n      data => {\n        this.typesData = data;\n        //console.log(this.typesData)\n      },\n      error => {\n        //console.log(error)\n      }\n    )\n\n  }\n\n  private loadPeople() {\n    this.peopleLoading = true;\n    /* this.dataService.getPeople().subscribe(x => {\n      this.people = x;\n      this.peopleLoading = false;\n    }); */\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    setTimeout(() => {\n      if (this.object != changes.formData.currentValue) {\n        this.morphoTraits = this.formCore.get('morphoTraits') as FormArray;\n        this.morphoTraits.clear();\n\n        this.inheritanceArray = this.formCore.get('inheritance') as FormArray;\n        this.inheritanceArray.clear();\n\n        this.labelArray = this.formCore.get('label') as FormArray;\n        this.labelArray.clear();\n\n        this.staticMorpho = [];\n        this.staticOtherDef = [];\n      }\n      this.object = changes.formData.currentValue;\n      //console.log(this.object)\n      if (this.object != null) {\n\n        this.valueTraits = [];\n        this.memoryTraits = [];\n        this.memoryLabel = [];\n        this.labelData = [];\n\n        if(this.object.inheritedMorphology != undefined){\n          for (var i = 0; i < this.object.inheritedMorphology.length; i++) {\n            const trait = this.object.inheritedMorphology[i]['trait'];\n            const value = this.object.inheritedMorphology[i]['value'];\n            this.addInheritance(trait, value);\n          }\n        }\n\n        \n\n        this.formCore.get('confidence').setValue(this.object.confidence, { emitEvent : false});\n        this.formCore.get('type').setValue(this.object.type, { emitEvent: false });\n\n        for (var i = 0; i < this.object.label.length; i++) {\n\n          const trait = this.object.label[i]['propertyID'];\n          const value = this.object.label[i]['propertyValue'];\n\n          this.labelData.push(trait);\n\n          if (value != '') {\n            this.addLabel(trait, value);\n            this.memoryLabel.push(trait);\n\n\n            this.staticOtherDef.push({ trait: trait, value: value })\n          }\n\n        }\n\n        setTimeout(() => {\n          for (var i = 0; i < this.object.morphology.length; i++) {\n            const trait = this.object.morphology[i]['trait'];\n            const value = this.object.morphology[i]['value'];\n\n            let traitDescription = '';\n            this.morphologyData.filter(x => {\n              if (x.propertyId == trait && trait != 'partOfSpeech') {\n                x.propertyValues.filter(y => {\n                  if (y.valueId == value) {\n                    traitDescription = y.valueDescription;\n                    return true;\n                  } else {\n                    return false;\n                  }\n                })\n                return true;\n              } else {\n                return false;\n              }\n            })\n            this.addMorphoTraits(trait, value, traitDescription);\n            this.onChangeTrait(trait, i);\n\n            this.staticMorpho.push({ trait: trait, value: value })\n          }\n        }, 100);\n\n\n        setTimeout(() => {\n          let type = this.formCore.get('type').value;\n          this.typesData.forEach(el => {\n            if (el.valueId == type) {\n\n              this.typeDesc = el.valueDescription;\n            }\n          })\n          //@ts-ignore\n          $('.type-tooltip').tooltip({\n            trigger: 'hover'\n          });\n\n\n        }, 1000);\n\n        setTimeout(() => {\n\n          //@ts-ignore\n          $('.trait-tooltip').tooltip({\n            trigger: 'hover'\n          });\n\n\n        }, 1000);\n      }\n    }, 200)\n\n  }\n\n  onChanges(): void {\n\n    this.formCore.controls['confidence'].valueChanges.pipe(startWith(undefined), debounceTime(1000), pairwise()).subscribe(newConfidence => {\n      console.log('Old value: ', newConfidence[0]);\n      console.log('New value: ', newConfidence[1]);\n      this.lexicalService.spinnerAction('on');\n      let parameters = {};\n      let lexId = this.object.formInstanceName;\n      let oldValue = newConfidence[0];\n      let newValue = newConfidence[1];\n\n      if (oldValue == undefined) {\n        parameters = {\n          type: \"confidence\",\n          relation: 'confidence',\n          value: newValue\n        }\n      } else if (oldValue != undefined && this.object.confidence == -1) {\n        parameters = {\n          type: \"confidence\",\n          relation: 'confidence',\n          value: newValue,\n          currentValue: -1\n        }\n      } else {\n        parameters = {\n          type: \"confidence\",\n          relation: 'confidence',\n          value: newValue,\n          currentValue: oldValue\n        }\n      }\n\n      console.log(parameters)\n      this.lexicalService.updateGenericRelation(lexId, parameters).subscribe(\n        data => {\n          console.log(data);\n\n          this.lexicalService.updateCoreCard(data)\n          this.lexicalService.spinnerAction('off');\n        },\n        error => {\n          console.log(error);\n\n          this.lexicalService.spinnerAction('off');\n\n          if (error.status == 200) {\n            this.toastr.success('Confidence updated', '', { timeOut: 5000 })\n            this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n            this.formCore.get('confidence').setValue(newValue, { emitEvent: false });\n            this.object.confidence = newValue;\n          } else {\n            this.toastr.error(error.error, 'Error', { timeOut: 5000 })\n\n          }\n        }\n      )\n    })\n  }\n\n  applyUncertain() {\n    this.lexicalService.spinnerAction('on');\n    let oldValue = this.formCore.get('confidence').value;\n    let lexId = this.object.formInstanceName;\n    let parameters = {\n      relation: 'confidence',\n      value: 0\n    }\n    console.log(parameters)\n    this.lexicalService.deleteLinguisticRelation(lexId, parameters).subscribe(\n      data => {\n        console.log(data);\n        /* data['request'] = 0;\n        data['new_label'] = confidence_value\n        this.lexicalService.refreshAfterEdit(data); */\n        this.lexicalService.updateCoreCard(data)\n        this.lexicalService.spinnerAction('off');\n        this.formCore.get('confidence').setValue(-1, { emitEvent: false });\n        this.object.confidence = -1;\n      },\n      error => {\n        console.log(error);\n        /*  const data = this.object.etymology;\n        data['request'] = 0;\n        data['new_label'] = confidence_value;\n        this.lexicalService.refreshAfterEdit(data); */\n        this.lexicalService.spinnerAction('off');\n        this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n        if (error.status == 200) {\n          this.toastr.success('Confidence updated', '', { timeOut: 5000 })\n          this.formCore.get('confidence').setValue(-1, { emitEvent: false });\n          this.object.confidence = -1;\n\n        } else {\n          this.toastr.error(error.error, 'Error', { timeOut: 5000 })\n\n        }\n      }\n    )\n  }\n\n  onChangeType(evt) {\n    this.lexicalService.spinnerAction('on');\n    const newType = evt.target.value;\n    const formId = this.object.formInstanceName\n    const parameters = { relation: \"type\", value: newType }\n    this.lexicalService.updateForm(formId, parameters).pipe(debounceTime(500)).subscribe(\n      data => {\n        console.log(data)\n        this.lexicalService.spinnerAction('off');\n        data['request'] = 5;\n        data['new_type'] = newType;\n        this.lexicalService.refreshAfterEdit(data);\n        this.lexicalService.updateCoreCard(this.object)\n\n        setTimeout(() => {\n          let type = this.formCore.get('type').value;\n          this.typesData.forEach(el => {\n            if (el.valueId == type) {\n\n              this.typeDesc = el.valueDescription;\n            }\n          })\n          //@ts-ignore\n          $('.type-tooltip').tooltip({\n            trigger: 'hover'\n          });\n\n\n        }, 1000);\n      }, error => {\n        console.log(error);\n        const data = this.object;\n        data['request'] = 5;\n        data['new_type'] = newType;\n        this.lexicalService.refreshAfterEdit(data);\n        this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n        this.lexicalService.spinnerAction('off');\n\n        if (typeof (error.error) != 'object') {\n          this.toastr.error(error.error, 'Error', {\n            timeOut: 5000,\n          });\n        } else {\n          this.toastr.success('Type changed', '', {\n            timeOut: 5000,\n          });\n        }\n\n        setTimeout(() => {\n          let type = this.formCore.get('type').value;\n          this.typesData.forEach(el => {\n            if (el.valueId == type) {\n\n              this.typeDesc = el.valueDescription;\n            }\n          })\n          //@ts-ignore\n          $('.type-tooltip').tooltip({\n            trigger: 'hover'\n          });\n\n\n        }, 1000);\n      }\n    )\n  }\n\n  debounceKeyup(evt, i) {\n    this.lexicalService.spinnerAction('on');\n    this.subject_label.next({ evt, i })\n  }\n\n  debounceKeyupExisting(evt, i) {\n    this.lexicalService.spinnerAction('on');\n    this.subject_ex_label.next({ evt, i })\n  }\n\n  onChangeExistingValue(evt, i) {\n    this.lexicalService.spinnerAction('on');\n    this.morphoTraits = this.formCore.get('morphoTraits') as FormArray;\n    const trait = this.morphoTraits.at(i).get('trait').value;\n    const oldValue = this.morphoTraits.at(i).get('value').value;\n    const newValue = evt.target.value;\n\n    this.morphoTraits.at(i).get('value').setValue(newValue, { emitEvent: false });\n\n    if (newValue != '') {\n      let parameters = {\n        type: \"morphology\",\n        relation: trait,\n        value: newValue,\n        currentValue: oldValue\n      }\n\n      this.staticMorpho[i] = { trait: trait, value: newValue }\n      let formId = this.object.formInstanceName;\n      console.log(parameters)\n\n      this.lexicalService.updateLinguisticRelation(formId, parameters).pipe(debounceTime(1000)).subscribe(\n        data => {\n          console.log(data)\n          //this.lexicalService.refreshAfterEdit(data);\n          this.lexicalService.updateCoreCard(data)\n          this.lexicalService.spinnerAction('off');\n        },\n        error => {\n          console.log(error)\n          //this.lexicalService.refreshAfterEdit({ label: this.object.label });\n          this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n          this.lexicalService.spinnerAction('off');\n          if (error.status != 200) {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n          } else {\n            this.toastr.success('Morphologic trait changed', '', {\n              timeOut: 5000,\n            });\n          }\n        }\n      )\n\n    } else {\n      this.lexicalService.spinnerAction('off');\n    }\n  }\n\n  onChangeValue(i) {\n    this.lexicalService.spinnerAction('on');\n    this.morphoTraits = this.formCore.get('morphoTraits') as FormArray;\n    const trait = this.morphoTraits.at(i).get('trait').value;\n    const value = this.morphoTraits.at(i).get('value').value;\n    if (trait != '' && value != '') {\n\n      let parameters = {\n        type: \"morphology\",\n        relation: trait,\n        value: value\n      }\n      let formId = this.object.formInstanceName;\n\n      let traitDescription = '';\n      this.morphologyData.filter(x => {\n        if (x.propertyId == trait && trait != 'partOfSpeech') {\n          x.propertyValues.filter(y => {\n            if (y.valueId == value) {\n              traitDescription = y.valueDescription;\n              return true;\n            } else {\n              return false;\n            }\n          })\n          return true;\n        } else {\n          return false;\n        }\n      })\n      console.log(parameters);\n      this.morphoTraits.at(i).get('description').setValue(traitDescription, { emitEvent: false });\n\n      this.staticMorpho.push({ trait: trait, value: value })\n\n      this.lexicalService.updateLinguisticRelation(formId, parameters).pipe(debounceTime(1000)).subscribe(\n        data => {\n          console.log(data)\n          this.lexicalService.spinnerAction('off');\n          this.lexicalService.updateCoreCard(this.object)\n          this.disableAddMorpho = false;\n          setTimeout(() => {\n\n            //@ts-ignore\n            $('.trait-tooltip').tooltip({\n              trigger: 'hover'\n            });\n\n\n          }, 1000);\n        },\n        error => {\n          console.log(error)\n          this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n          this.lexicalService.spinnerAction('off');\n          this.disableAddMorpho = false;\n          if (typeof (error.error) != 'object') {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n          } else {\n            this.toastr.success('Morphotrait changed correctly', 'Ok', {\n              timeOut: 5000,\n            });\n          }\n\n          setTimeout(() => {\n\n            //@ts-ignore\n            $('.trait-tooltip').tooltip({\n              trigger: 'hover'\n            });\n\n\n          }, 1000);\n        }\n      )\n    } else {\n      this.lexicalService.spinnerAction('off');\n    }\n  }\n\n  onChangeTrait(evt, i) {\n\n    if (evt.target != undefined) {\n      setTimeout(() => {\n        this.morphoTraits = this.formCore.get('morphoTraits') as FormArray;\n        this.morphoTraits.at(i).patchValue({ trait: evt.target.value, value: \"\" });\n        //console.log(evt.target.value)\n        if (evt.target.value != '') {\n          var arrayValues = this.morphologyData.filter(x => {\n            return x['propertyId'] == evt.target.value;\n          })['0']['propertyValues'];\n          this.valueTraits[i] = arrayValues;\n          this.memoryTraits[i] = evt.target.value;\n        } else {\n          let arrayValues = [];\n          this.valueTraits[i] = arrayValues\n          this.memoryTraits.splice(i, 1)\n        }\n\n\n\n      }, 500);\n    } else {\n\n      var timer = setInterval((val) => {\n        try {\n          var arrayValues = this.morphologyData.filter(x => {\n            return x['propertyId'] == evt;\n          })['0']['propertyValues'];\n          this.valueTraits[i] = arrayValues;\n          this.memoryTraits.push(evt);\n          //console.log(\"CIAO\")\n          if (this.valueTraits != undefined) {\n            clearInterval(timer)\n          }\n\n        } catch (e) {\n          console.log(e)\n        }\n      }, 500)\n\n      /* setTimeout(() => {\n\n        var arrayValues = this.morphologyData.filter(x => {\n          return x['propertyId'] == evt;\n        })['0']['propertyValues'];\n        this.valueTraits[i] = arrayValues;\n        //console.log(this.valueTraits)\n        this.memoryTraits.push(evt);\n\n      }, 500); */\n    }\n  }\n\n  onChangeLabelTrait(evt, i) {\n\n    setTimeout(() => {\n      this.labelArray = this.formCore.get('label') as FormArray;\n      this.labelArray.at(i).patchValue({ propertyID: evt.target.value, propertyValue: \"\" });\n      //console.log(this.labelArray)\n      if (evt.target.value != '') {\n\n        this.memoryLabel[i] = evt.target.value;\n      } else {\n\n        this.memoryLabel.splice(i, 1)\n      }\n\n\n\n    }, 250);\n  }\n\n  onChangeExistingLabelValue(evt, i) {\n    this.lexicalService.spinnerAction('on');\n    this.labelArray = this.formCore.get('label') as FormArray;\n    const trait = this.labelArray.at(i).get('propertyID').value;\n    const newValue = evt.target.value;\n\n    //console.log(this.object)\n\n    if (newValue != '') {\n      const parameters = { relation: trait, value: newValue }\n\n      this.staticOtherDef[i] = { trait: trait, value: newValue }\n      let formId = this.object.formInstanceName;\n\n\n\n      this.lexicalService.updateForm(formId, parameters).pipe(debounceTime(1000)).subscribe(\n        data => {\n          console.log(data)\n          this.lexicalService.spinnerAction('off');\n          //this.lexicalService.refreshLexEntryTree();\n          this.lexicalService.updateCoreCard(data)\n        }, error => {\n          console.log(error);\n          //this.lexicalService.refreshLexEntryTree();\n\n          this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n          this.lexicalService.spinnerAction('off');\n\n          if (typeof (error.error) != 'object') {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n          } else {\n            this.toastr.success('Label changed', '', {\n              timeOut: 5000,\n            });\n          }\n        }\n      )\n\n      if (trait == 'writtenRep') {\n        const data = this.object;\n        data['whatToSearch'] = 'form';\n        data['new_label'] = newValue;\n        data['request'] = 3;\n        this.lexicalService.refreshAfterEdit(data);\n      }\n\n    } else {\n      this.lexicalService.spinnerAction('off');\n      this.staticOtherDef[i] = { trait: trait, value: \"\" }\n    }\n  }\n\n  onChangeLabel(object) {\n\n    this.labelArray = this.formCore.get('label') as FormArray;\n    const trait = this.labelArray.at(object.i).get('propertyID').value;\n    const newValue = object.evt.target.value;\n    const formId = this.object.formInstanceName;\n    const parameters = { relation: trait, value: newValue }\n    //console.log(this.object)\n\n    this.staticOtherDef.push({ trait: trait, value: newValue })\n\n    if (trait != undefined && newValue != '') {\n      this.lexicalService.updateForm(formId, parameters).pipe(debounceTime(1000)).subscribe(\n        data => {\n          console.log(data)\n          this.lexicalService.spinnerAction('off');\n          /* this.lexicalService.refreshAfterEdit(data); */\n          this.lexicalService.updateCoreCard(data)\n          this.disableAddOther = false;\n        }, error => {\n          console.log(error);\n          this.disableAddOther = false;\n\n          this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n          this.lexicalService.spinnerAction('off');\n\n          if(error.status == 200){\n            this.toastr.success('Label updated', 'Success', {timeOut: 5000})\n          }else{\n            this.toastr.error(error.message, 'Error', {timeOut: 5000})\n          }\n        }\n      )\n    } else {\n      this.lexicalService.spinnerAction('off');\n    }\n  }\n\n  createMorphoTraits(t?, v?, d?): FormGroup {\n    if (t != undefined) {\n      return this.formBuilder.group({\n        trait: new FormControl(t, [Validators.required, Validators.minLength(0)]),\n        value: new FormControl(v, [Validators.required, Validators.minLength(0)]),\n        description: new FormControl(d, [Validators.required, Validators.minLength(0)])\n      })\n    } else {\n      return this.formBuilder.group({\n        trait: new FormControl('', [Validators.required, Validators.minLength(0)]),\n        value: new FormControl('', [Validators.required, Validators.minLength(0)]),\n        description: new FormControl('', [Validators.required, Validators.minLength(0)])\n      })\n    }\n  }\n\n  createInheritance(t?, v?): FormGroup {\n    return this.formBuilder.group({\n      trait: t,\n      value: v\n    })\n  }\n\n  createLabel(t?, v?): FormGroup {\n    if (t != undefined) {\n      return this.formBuilder.group({\n        propertyID: new FormControl(t, [Validators.required, Validators.minLength(0)]),\n        propertyValue: new FormControl(v, [Validators.required, Validators.minLength(0)])\n      })\n    } else {\n      return this.formBuilder.group({\n        propertyID: new FormControl('', [Validators.required, Validators.minLength(0)]),\n        propertyValue: new FormControl('', [Validators.required, Validators.minLength(0)])\n      })\n    }\n\n  }\n\n  addLabel(t?, v?) {\n    this.labelArray = this.formCore.get('label') as FormArray;\n    if (t != undefined) {\n      this.labelArray.push(this.createLabel(t, v));\n    } else {\n      this.disableAddOther = true;\n      this.labelArray.push(this.createLabel());\n    }\n\n  }\n\n  addInheritance(t?, v?) {\n    this.inheritanceArray = this.formCore.get('inheritance') as FormArray;\n    this.inheritanceArray.push(this.createInheritance(t, v));\n  }\n\n  addMorphoTraits(t?, v?, d?) {\n    this.morphoTraits = this.formCore.get('morphoTraits') as FormArray;\n    if (t != undefined) {\n      this.morphoTraits.push(this.createMorphoTraits(t, v, d));\n    } else {\n      this.morphoTraits.push(this.createMorphoTraits());\n      this.disableAddMorpho = true;\n    }\n  }\n\n  removeElement(index) {\n    this.morphoTraits = this.formCore.get('morphoTraits') as FormArray;\n\n    const trait = this.morphoTraits.at(index).get('trait').value;\n    const value = this.morphoTraits.at(index).get('value').value;\n\n    //console.log(trait + value)\n\n    if (trait != '') {\n\n      let formId = this.object.formInstanceName;\n\n      let parameters = {\n        type: 'morphology',\n        relation: trait,\n        value: value\n      }\n\n      this.lexicalService.deleteLinguisticRelation(formId, parameters).subscribe(\n        data => {\n          console.log(data)\n          this.toastr.success('Element removed', '', {\n            timeOut: 5000,\n          });\n          this.lexicalService.updateCoreCard(this.object)\n        }, error => {\n          console.log(error)\n          if (error.status != 200) {\n            this.toastr.error(error.error, 'Error', {\n              timeOut: 5000,\n            });\n          }\n        }\n      )\n    } else {\n      this.disableAddMorpho = false;\n    }\n\n    this.staticMorpho.splice(index, 1);\n    this.morphoTraits.removeAt(index);\n    this.memoryTraits.splice(index, 1);\n    this.valueTraits.splice(index, 1)\n  }\n\n  removeLabel(index) {\n    this.labelArray = this.formCore.get('label') as FormArray;\n\n\n    const trait = this.labelArray.at(index).get('propertyID').value;\n    const value = this.labelArray.at(index).get('propertyValue').value;\n\n    //console.log(trait + value)\n\n    if (trait != '') {\n\n      let formId = this.object.formInstanceName;\n\n      let parameters = {\n        type: 'morphology',\n        relation: trait,\n        value: value\n      }\n\n      this.lexicalService.deleteLinguisticRelation(formId, parameters).subscribe(\n        data => {\n          console.log(data)\n\n          this.toastr.success('Label removed', 'Ok', {timeOut: 5000})\n          this.lexicalService.updateCoreCard(this.object)\n        }, error => {\n          console.log(error)\n          if(error.status != 200){\n            this.toastr.error(error.message, 'Error', {timeOut: 5000})\n          }\n        }\n      )\n    } else {\n      this.disableAddOther = false;\n\n    }\n    this.staticOtherDef.splice(index, 1)\n    this.labelArray.removeAt(index);\n  }\n\n}\n","\n\n<form [formGroup]=\"formCore\" *ngIf=\"object != null\">\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <div class=\"input-group col-lg-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>INHERITANCE</b></span>\n                <div class=\"card-body\">\n                    <div class=\"d-flex my-2\" formArrayName=\"inheritance\"\n                        *ngFor=\"let inher of formCore.get('inheritance')['controls']; let i = index\">\n                        <div class=\"col-lg-3\" [formGroupName]=\"i\">\n                            <span class=\"col-form-label\">{{inher.value['trait']}}</span>\n                        </div>\n                        <div class=\"input-group col-lg-7 col-md-12\" [formGroupName]=\"i\">\n\n                            <input formControlName=\"value\" name=\"value\" type=\"text\" class=\"form-control\" placeholder=\"\"\n                                [value]=\"inher.value['value']\" readonly>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <label for=\"inputType\" class=\"col-lg-3 col-form-label\">Type:</label>\n        <div class=\"col-lg-7 input-group\">\n            <select formControlName=\"type\" name=\"type\" class=\"form-control\" (change)=\"onChangeType($event)\">\n                <option *ngFor=\"let type of typesData\" [selected]=\"object.type === type['valueId']\">{{type['valueId'] }}\n                </option>\n            </select>\n            <div class=\"input-group-append ml-2\">\n                 <button class=\"btn btn-secondary type-tooltip\" type=\"button\" data-toggle=\"tooltip\"\n                data-placement=\"top\" data-trigger=\"hover\" [attr.data-original-title]=\"typeDesc\"\n                    style=\"font-size: 12px; border-radius: .25rem;\"><i class=\"fas fa-question\"></i></button>\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"form-group row ml-2 mt-3 mr-2\" *ngIf=\"{confidence : formCore.get('confidence').value >= 0}; let variable\">\n        <div class=\"col-lg-3\">\n            <span class=\"col-form-label\">Uncertain</span>\n        </div>\n        <div class=\"col-lg-3 input-group\">\n            <input *ngIf=\"variable.confidence\" id=\"attributes\"  step=\"0.1\" formControlName=\"confidence\" name=\"confidence\" type=\"number\" min=\"0\" max=\"1\" class=\"form-control\" placeholder=\"No info\" [value]=\"formCore.get('confidence').value\">\n            <button type=\"button\" class=\"btn btn-secondary btn-sm ml-2\" *ngIf=\"!variable.confidence\" (click)=\"variable.confidence = !variable.confidence\"><i class=\"fas fa-plus\"></i></button>\n            <button type=\"button\" class=\"btn btn-secondary btn-sm ml-2\" *ngIf=\"variable.confidence\" (click)=\"variable.confidence = !variable.confidence; applyUncertain()\"><i class=\"fas fa-minus\"></i></button>\n        </div>\n    </div>\n\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <div class=\"input-group col-lg-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>OTHER REPRESENTATION</b></span>\n                <a class=\"pointer\" (click)=\"addLabel()\" [ngClass]=\"{no_pointer: disableAddOther}\"><span class=\"collapse-icon\"><i\n                            class=\"fa fa-plus-square\"></i></span></a>\n                <div class=\"card-body\">\n                    <div class=\"d-flex my-3\" *ngFor=\"let def of staticOtherDef; let i = index\">\n                        <div class=\"col-md-4\">\n                            <label class=\"col-form-label\">{{def['trait']}}</label>\n                        </div>\n                        <div class=\"input-group col-md-8\">\n                            <input type=\"text\" class=\"form-control\"\n                                placeholder=\"\" (keyup)=\"debounceKeyupExisting($event, i)\" [value]=\"def['value']\">\n                            <div *ngIf=\"def['trait'] != 'writtenRep'\" (click)=\"removeLabel(i)\" class=\"input-group-append ml-2\"> <button\n                                    class=\"btn btn-danger\" type=\"button\"\n                                    style=\"font-size: 12px; border-radius: .25rem;\"><i\n                                        class=\"fa fa-trash-alt\"></i></button>\n                            </div>\n                            <div class=\"invalid-feedback\" *ngIf=\"staticOtherDef[i]['value'] == ''\" style=\"display: block;\">\n                                Please, don't leave this field blank\n                            </div>\n\n                        </div>\n                    </div>\n                    <div class=\"d-flex my-2\" formArrayName=\"label\"\n                        *ngFor=\"let l of formCore.get('label')['controls']; let i = index\">\n                        <div class=\"col-md-4\" [formGroupName]=\"i\" *ngIf=\"i + 1 > staticOtherDef.length\">\n                            <select class=\"form-control selectTrait\" formControlName=\"propertyID\" name=\"propertyID\"\n                                style=\"font-size: 12px;\" (change)=\"onChangeLabelTrait($event, i)\">\n                                <option value=\"\">Select a trait...</option>\n                                <option *ngFor=\"let ld of labelData\" [selected]=\"l.value['propertyID'] === ld\"\n                                    [disabled]=\"memoryLabel.indexOf(ld) > -1\">{{ld}}</option>\n                            </select>\n                            <div class=\"invalid-feedback\" *ngIf=\"l.get('propertyID').invalid\" style=\"display: block;\">\n                                Please, don't leave this field blank\n                            </div>\n                        </div>\n                        <div class=\"input-group col-md-8\" [formGroupName]=\"i\" *ngIf=\"i + 1 > staticOtherDef.length\">\n                            <input formControlName=\"propertyValue\" name=\"propertyValue\" type=\"text\" class=\"form-control\"\n                                placeholder=\"\" (keyup)=\"debounceKeyup($event, i)\">\n                            <div (click)=\"removeLabel(i)\" class=\"input-group-append ml-2\"> <button\n                                    class=\"btn btn-danger\" type=\"button\"\n                                    style=\"font-size: 12px; border-radius: .25rem;\"><i\n                                        class=\"fa fa-trash-alt\"></i></button>\n                            </div>\n                            <div class=\"invalid-feedback\" *ngIf=\"l.get('propertyValue').invalid\" style=\"display: block;\">\n                                Please, don't leave this field blank\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n    </div>\n\n\n\n    <div class=\"form-group row ml-2 mt-3 mr-2\">\n        <div class=\"input-group col-lg-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>MORPHOLOGY</b></span>\n                <a class=\"pointer\" (click)=\"addMorphoTraits()\" [ngClass]=\"{no_pointer: disableAddMorpho}\"><span class=\"collapse-icon\"><i\n                            class=\"fa fa-plus-square\"></i></span></a>\n                <div class=\"card-body\">\n\n                    <div class=\"d-flex my-3\" *ngFor=\"let stat of staticMorpho; let i = index\">\n                        \n                        <div class=\"col-md-4\"> <!-- *ngIf=\"stat['trait'] != 'partOfSpeech'\" -->\n                            <label class=\"col-form-label\">{{stat['trait']}}</label>\n                        </div>\n                        <div class=\"input-group col-md-8\">\n                            <select class=\"form-control selectTrait\" style=\"font-size:12px;\"\n                                (change)=\"onChangeExistingValue($event, i)\">\n                                <option *ngFor=\"let item of valueTraits[i];\"\n                                    [selected]=\"stat['value'] === item.valueId\">{{item.valueId}}</option>\n                            </select>\n                           \n                            <div class=\"input-group-append ml-2\">\n                                <button *ngIf=\"formCore['controls'].morphoTraits?.value[i] != null\" class=\"btn btn-secondary trait-tooltip\" type=\"button\" data-toggle=\"tooltip\"\n                                data-placement=\"top\" data-trigger=\"hover\" [attr.data-original-title]=\"formCore.get('morphoTraits').at(i).get('description').value\"\n                                    style=\"font-size: 12px; border-radius: .25rem;\"><i class=\"fas fa-question\"></i></button>\n                            </div>\n                            <div (click)=\"removeElement(i)\" class=\"input-group-append ml-2\"> <button\n                                    class=\"btn btn-danger\" type=\"button\"\n                                    style=\"font-size: 12px; border-radius: .25rem;\"><i\n                                        class=\"fa fa-trash-alt\"></i></button>\n                            </div>\n                        </div>\n                    </div>\n                    \n                    <div>\n\n                    </div>\n                    \n                    <div class=\"d-flex\" formArrayName=\"morphoTraits\"\n                        *ngFor=\"let morpho of formCore.get('morphoTraits')['controls']; let i = index\">\n                        <div class=\"col-md-4 my-2\" [formGroupName]=\"i\" *ngIf=\"i + 1 > staticMorpho.length\">\n                            <select class=\"form-control selectTrait\" formControlName=\"trait\" name=\"trait\"\n                                style=\"font-size: 12px;\" (change)=\"onChangeTrait($event, i)\">\n                                <option value=\"\">Select a trait...</option>\n                                <option *ngFor=\"let mt of morphologyData\"\n                                    [selected]=\"morpho.value['trait'] === mt.propertyId\"\n                                    [disabled]=\"memoryTraits.indexOf(mt.propertyId) > -1\">{{mt.propertyId}}</option>\n                            </select>\n                            <div class=\"invalid-feedback\" *ngIf=\"morpho.get('trait').invalid\" style=\"display: block;\">\n                                Please, don't leave this field blank\n                            </div>\n                        </div>\n                        <div class=\"input-group col-md-8 my-2\" [formGroupName]=\"i\" *ngIf=\"i + 1> staticMorpho.length\">\n                            <select class=\"form-control selectTrait\" formControlName=\"value\" name=\"value\"\n                                style=\"font-size:12px;\" (change)=\"onChangeValue(i)\">\n                                <option value=\"\">Select a value...</option>\n                                <option *ngFor=\"let item of valueTraits[i];\" [attr.data-index]=\"i\"\n                                    [selected]=\"morpho.value['value'] === item.valueId\">{{item.valueId}}</option>\n                            </select>\n\n                            <div (click)=\"removeElement(i)\" class=\"input-group-append ml-2\"> <button\n                                    class=\"btn btn-danger\" type=\"button\"\n                                    style=\"font-size: 12px; border-radius: .25rem;\"><i\n                                        class=\"fa fa-trash-alt\"></i></button>\n                            </div>\n                            <div class=\"invalid-feedback\" *ngIf=\"morpho.get('value').invalid\" style=\"display: block;\">\n                                Please, don't leave this field blank\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</form>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-data-search-form',\n  templateUrl: './data-search-form.component.html',\n  styleUrls: ['./data-search-form.component.scss']\n})\nexport class DataSearchFormComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  onSubmit(): void {\n    // Process checkout data here\n    \n    console.warn('Your order has been submitted');\n    \n  }\n}\n","\n\n<form (ngSubmit)=\"onSubmit()\" class=\"h-100 d-flex flex-column\">\n    <!-- FULL TEXT -->\n    <div class=\"card\">\n        <div class=\"card-header\" id=\"headingOne\">\n            <h5 class=\"mb-0\">\n                <a class=\"btn\" aria-expanded=\"true\">\n                    Ricerca Full-Text\n                </a>\n            </h5>\n        </div>\n        <div class=\"collapse show\" aria-labelledby=\"headingOne\" data-parent=\"#search-accordion\">\n            <div class=\"card-body\">\n                <div class=\"form-row\">\n                    <div class=\"form-group col-md-8\">\n                        <label for=\"fullTextInput\">Testo: </label>\n                        <input type=\"text\" class=\"form-control\" id=\"fullTextInput\" placeholder=\"\">\n                    </div>\n                </div>\n                <div class=\"form-row\">\n                    <div class=\"form-group col-md-8\">\n                        <label for=\"selectFullText\">Cerca le schede che contengono:</label>\n                        <select class=\"form-control\" id=\"selectFullText\">\n                            <option>Tutte le parole</option>\n                            <option>Una qualsiasi delle parole</option>\n                            <option>La frase esatta</option>\n                        </select>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n    </div>\n\n    <div id=\"search-accordion\">\n\n        <!-- DATI GENERALI -->\n        <div class=\"card\">\n            <div class=\"card-header\" id=\"generalDataHeading\">\n                <h5 class=\"mb-0\">\n                    <a class=\"btn btn-link collapsed\" data-toggle=\"collapse\" data-target=\"#generalDataCollapse\"\n                        aria-expanded=\"false\" aria-controls=\"generalDataCollapse\">\n                        <i class=\"fa\"></i>&nbsp;Dati generali\n                    </a>\n                </h5>\n            </div>\n            <div id=\"generalDataCollapse\" class=\"collapse\" aria-labelledby=\"generalDataHeading\"\n                data-parent=\"#search-accordion\">\n                <div class=\"card-body form-row\">\n                    <div class=\"form-group col-md-6\">\n                        <label for=\"idText\">Identificativo:</label>\n                        <input type=\"text\" class=\"form-control\" id=\"idText\" placeholder=\"\">\n                    </div>\n                    <div class=\"form-group col-md-6\">\n                        <label for=\"titleInput\">Titolo: </label>\n                        <input type=\"text\" class=\"form-control\" id=\"titleInput\" placeholder=\"\">\n                    </div>\n                    <div class=\"form-group col-md-8\">\n                        <label for=\"selectTitle\">Cerca le schede che contengono:</label>\n                        <select class=\"form-control\" id=\"selectTitle\">\n                            <option>Tutte le parole</option>\n                            <option>Una qualsiasi delle parole</option>\n                            <option>La frase esatta</option>\n                        </select>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- SUPPORTO -->\n        <div class=\"card\">\n            <div class=\"card-header\" id=\"supportHeading\">\n                <h5 class=\"mb-0\">\n                    <a class=\"btn btn-link collapsed\" data-toggle=\"collapse\" data-target=\"#supportCollapse\"\n                        aria-expanded=\"false\" aria-controls=\"supportCollapse\">\n                        <i class=\"fa\"></i>&nbsp;Supporto\n                    </a>\n                </h5>\n            </div>\n            <div id=\"supportCollapse\" class=\"collapse\" aria-labelledby=\"supportHeading\" data-parent=\"#search-accordion\">\n                <div class=\"card-body\">\n                    <div class=\"row\">\n                        <div class=\"form-group col-md-8\">\n                            <label for=\"inscriptionType\">Tipo di iscrizione: </label>\n                            <select class=\"form-control\" id=\"inscriptionType\">\n                                <option>Funeraria</option>\n                                <option>Ode</option>\n                                <option>Mercantile</option>\n                            </select>\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"form-group col-md-8\">\n                            <label for=\"objectType\">Tipo di oggetto: </label>\n                            <select class=\"form-control\" id=\"objectType\">\n                                <option>Marmo</option>\n                                <option>Papiro</option>\n                                <option>Pietra</option>\n                            </select>\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"form-group col-md-8\">\n                            <label for=\"ancientPlaceName\">Luogo di rinvenimento (nome antico): </label>\n                            <input type=\"text\" class=\"form-control\" id=\"ancientPlaceName\" placeholder=\"\">\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"form-group col-md-8\">\n                            <label for=\"modernPlaceName\">Luogo di rinvenimento (nome moderno): </label>\n                            <input type=\"text\" class=\"form-control\" id=\"modernPlaceName\" placeholder=\"\">\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n\n        <!-- BIBLIOGRAFIA -->\n        <div class=\"card\">\n            <div class=\"card-header\" id=\"bibliographyHeading\">\n                <h5 class=\"mb-0\">\n                    <a class=\"btn btn-link collapsed\" data-toggle=\"collapse\" data-target=\"#bibliographyCollapse\"\n                        aria-expanded=\"false\" aria-controls=\"bibliographyCollapse\">\n                        <i class=\"fa\"></i>&nbsp;Bibliografia\n                    </a>\n                </h5>\n            </div>\n            <div id=\"bibliographyCollapse\" class=\"collapse\" aria-labelledby=\"bibliographyHeading\"\n                data-parent=\"#search-accordion\">\n                <div class=\"card-body\">\n                    <div class=\"row\">\n                        <div class=\"form-group col-md-8\">\n                            <label for=\"authorSelect\">Autore: </label>\n                            <select class=\"form-control\" id=\"authorSelect\">\n                                <option>...</option>\n                            </select>\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"form-group col-md-8\">\n                            <label for=\"titleInput\">Titolo: </label>\n                            <input type=\"text\" class=\"form-control\" id=\"titleInput\" placeholder=\"\">\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"form-group col-md-8\">\n                            <label for=\"publicationYear\">Anno pubblicazione:&nbsp;&nbsp;&nbsp;&nbsp;</label>\n                            <input type=\"number\" class=\"form-control\" id=\"publicationYear\" placeholder=\"1900\">\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- CRONOLOGIA -->\n        <div class=\"card\">\n            <div class=\"card-header\" id=\"chronologyHeading\">\n                <h5 class=\"mb-0\">\n                    <a class=\"btn btn-link collapsed\" data-toggle=\"collapse\" data-target=\"#chronologyCollapse\"\n                        aria-expanded=\"false\" aria-controls=\"chronologyCollapse\">\n                        <i class=\"fa\"></i>&nbsp;Cronologia\n                    </a>\n                </h5>\n            </div>\n            <div id=\"chronologyCollapse\" class=\"collapse\" aria-labelledby=\"chronologyHeading\"\n                data-parent=\"#search-accordion\">\n                <div class=\"card-body\">\n                    <div class=\"form-group\">\n                        <div class=\"form-check\">\n                            <input class=\"form-check-input\" type=\"checkbox\" id=\"intervalDate\"\n                                onchange=\"document.getElementById('toDate').disabled = !this.checked;\">\n                            <label class=\"form-check-label\" for=\"intervalDate\">\n                                Intervallo\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class=\"form-group mb-2\">\n                        <label for=\"fromDate\">Da:&nbsp;&nbsp;&nbsp;&nbsp;</label>\n                        <input type=\"number\" class=\"form-control\" id=\"fromDate\" placeholder=\"-100\">\n                    </div>\n                    <div class=\"form-group mb-2\">\n                        <label for=\"toDate\">A:&nbsp;&nbsp;&nbsp;&nbsp;</label>\n                        <input type=\"number\" class=\"form-control\" id=\"toDate\" placeholder=\"100\" disabled>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n\n        <!-- TESTO -->\n        <div class=\"card\">\n            <div class=\"card-header\" id=\"textHeading\">\n                <h5 class=\"mb-0\">\n                    <a class=\"btn btn-link collapsed\" data-toggle=\"collapse\" data-target=\"#textCollapse\"\n                        aria-expanded=\"false\" aria-controls=\"textCollapse\">\n                        <i class=\"fa\"></i>&nbsp;Testo\n                    </a>\n                </h5>\n            </div>\n            <div id=\"textCollapse\" class=\"collapse\" aria-labelledby=\"textHeading\" data-parent=\"#search-accordion\">\n                <div class=\"card-body\">\n                    <div class=\"form-row align-items-center\">\n                        <div class=\"col-sm-6 my-1\">\n                            <label class=\"sr-only\" for=\"searchText\">Testo:</label>\n                            <input type=\"text\" class=\"form-control\" id=\"searchText\" placeholder=\"Cerca nel testo\">\n                        </div>\n                        <div class=\"col-sm-6 my-1\">\n                            <div class=\"custom-control custom-switch custom-switch-lg\">\n                                <input type=\"checkbox\" class=\"custom-control-input\" id=\"transliteratorSwitcher\">\n                                <label class=\"custom-control-label\" for=\"transliteratorSwitcher\">Greek char</label>\n                            </div>\n                        </div>\n                        <div class=\"col-sm-6 my-2\">\n                            <label class=\"sr-only\" for=\"editionSelect\">Example select</label>\n                            <select class=\"form-control\" id=\"editionSelect\">\n                                <option>Diplomatica</option>\n                                <option>Interpretativa</option>\n                                <option>Entrambe</option>\n                            </select>\n                        </div>\n                    </div>\n                    <div class=\"form-row align-items-center\">\n                        <div class=\"col-md-4 col-sm-12\">\n                            <label for=\"langSelect\">Lingua</label>\n                            <select class=\"form-control\" id=\"langSelect\">\n                                <option>...</option>\n                            </select>\n                        </div>\n                        <div class=\"col-md-4 col-sm-12\">\n                            <label for=\"alfaSelect\">Alfabeto</label>\n                            <select class=\"form-control\" id=\"alfaSelect\">\n                                <option>...</option>\n                            </select>\n                        </div>\n                        <div class=\"col-md-4 col-sm-12\">\n                            <label for=\"ducSelect\">Ductus</label>\n                            <select class=\"form-control\" id=\"ducSelect\">\n                                <option>...</option>\n                            </select>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <!-- BUTTONS -->\n    <div class=\"h-100 mb-3\" style=\"border:none;\">\n        <div class=\" h-100\">\n            <div class=\"form-row align-items-end h-100\">\n                <div class=\"col-sm-2\">\n\n                </div>\n                <div class=\"col-sm-4\">\n                    <button class=\"btn btn-danger btn-block\" type=\"reset\" value=\"Reset\"><i class=\"fa fa-eraser\"></i>\n                        Reset</button>\n                </div>\n                <div class=\"col-sm-4\">\n                    <button class=\"btn btn-primary btn-block\" type=\"submit\" value=\"Submit\"><i class=\"fa fa-search\"></i>\n                        Cerca</button>\n                </div>\n                <div class=\"col-sm-2\">\n\n                </div>\n            </div>\n        </div>\n    </div>\n</form>","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ModalComponent } from 'ng-modal-lib';\nimport { Subscription } from 'rxjs';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\n\n@Component({\n  selector: 'app-cognate-panel',\n  templateUrl: './cognate-panel.component.html',\n  styleUrls: ['./cognate-panel.component.scss']\n})\nexport class CognatePanelComponent implements OnInit {\n\n  public lexicalEntryId: string;\n  public cogInstanceName : any;\n  public label : any;\n  public subscription: Subscription;\n  public lexicalEntryData : any;\n  public id : any;\n\n  @ViewChild('cognatePanelModal', {static: false}) cognatePanelModal: ModalComponent;\n\n\n  constructor(private lexicalService: LexicalEntriesService) { }\n\n  ngOnInit(): void {\n  }\n\n  triggerCognatePanel(data?){\n    setTimeout(() => {\n      this.cognatePanelModal.show();\n      \n    }, 100);\n    \n  }\n\n  onCloseModal(cogInstanceName, lexInstanceName){\n    this.lexicalService.closePanelForm(cogInstanceName, lexInstanceName);\n    console.log(this.lexicalService.getAllPanelForms())\n  }\n\n}\n","\n<app-modal #cognatePanelModal style=\"top: 10%;\" class=\"modal-demo\" [maximizable]=\"false\" [inViewport]=\"true\"  [backdrop]=\"false\" class=\"panelFormData\" (closeModal)=\"onCloseModal(cogInstanceName, lexicalEntryId)\">\n    <ng-container class=\"app-modal-header\">{{label}}</ng-container>\n    <ng-container class=\"app-modal-body\">\n       <app-lexical-entry-core-form [lexData]=\"lexicalEntryData\"></app-lexical-entry-core-form>\n    </ng-container>\n    \n</app-modal>","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { ChangeDetectorRef, Component, ComponentFactoryResolver, Input, OnInit, SimpleChanges, ViewChild, ViewContainerRef } from '@angular/core';\nimport { LexicalEntriesService } from '../../../../../../services/lexical-entries/lexical-entries.service';\nimport { Subject, Subscription } from 'rxjs';\nimport { ToastrService } from 'ngx-toastr';\n\n\nimport { FormBuilder, FormGroup, FormArray, FormControl, Validators, Form } from '@angular/forms';\nimport { debounceTime, pairwise, startWith } from 'rxjs/operators';\nimport { NgSelectComponent } from '@ng-select/ng-select';\nimport { LilaService } from 'src/app/services/lila/lila.service';\nimport { CognatePanelComponent } from './cognate-panel/cognate-panel.component';\n\n\n@Component({\n    selector: 'app-lexical-entry-core-form',\n    templateUrl: './lexical-entry-core-form.component.html',\n    styleUrls: ['./lexical-entry-core-form.component.scss']\n})\nexport class LexicalEntryCoreFormComponent implements OnInit {\n\n    @Input() lexData: any;\n    @ViewChild('cognatePanel', {read: ViewContainerRef}) vc: ViewContainerRef;\n\n\n    private subject: Subject<any> = new Subject();\n    switchInput = false;\n    subscription: Subscription;\n    object: any;\n    peopleLoading = false;\n    counter = 0;\n    lexEntryTypesData = [];\n    morphologyData = [];\n    valueTraits = [];\n    memoryTraits = [];\n    memoryValues = [];\n    languages = [];\n\n    memoryDenotes = [];\n    memoryCognates = [];\n    memoryEvokes = [];\n\n    valuePos = [];\n    memoryPos = '';\n\n    posDescription = '';\n    typeDesc = '';\n    staticMorpho = [];\n\n    interval;\n\n    searchResults= [];\n    filterLoading = false;\n\n    private denotes_subject: Subject<any> = new Subject();\n    private cognates_subject: Subject<any> = new Subject();\n    private evokes_subject: Subject<any> = new Subject();\n\n    /* public urlRegex = /(^|\\s)((https?:\\/\\/)?[\\w-]+(\\.[\\w-]+)+\\.?(:\\d+)?(\\/\\S*)?)/gi */\n    public urlRegex = /(^|\\s)((https?:\\/\\/.+))/;\n\n    emptyLabelFlag = false;\n    emptyFlag = false;\n\n    disableAddMorpho = false;\n\n    coreForm = new FormGroup({\n        label: new FormControl('', [Validators.required, Validators.minLength(3)]),\n        type: new FormControl(''),\n        confidence : new FormControl(null),\n        language: new FormControl('', [Validators.required, Validators.minLength(0)]),\n        pos: new FormControl(''),\n        morphoTraits: new FormArray([this.createMorphoTraits()]),\n        stemType : new FormControl(''),\n        evokes: new FormArray([this.createEvokes()]),\n        denotes: new FormArray([this.createDenotes()]),\n        cognates : new FormArray([this.createCognates()]),\n        isCognate : new FormControl(null),\n        isEtymon : new FormControl(null)\n    })\n\n    morphoTraits: FormArray;\n    evokesArray: FormArray;\n    denotesArray: FormArray;\n    cognatesArray: FormArray;\n    disableAddCognates = false;\n    arrayComponents = [];\n\n    constructor(private lexicalService: LexicalEntriesService, \n                private formBuilder: FormBuilder, \n                private toastr: ToastrService,\n                private lilaService : LilaService,\n                private factory: ComponentFactoryResolver) {\n\n    }\n\n    ngOnInit() {\n        /* setTimeout(() => {\n            //@ts-ignore\n            $('.denotes-tooltip').tooltip({\n                trigger: 'hover'\n            });\n        }, 1000); */\n\n\n       \n\n        this.denotes_subject.pipe(debounceTime(1000)).subscribe(\n            data => {\n                this.onChangeDenotes(data)\n            }\n        )\n\n        this.cognates_subject.pipe(debounceTime(1000)).subscribe(\n            data => {\n                this.onChangeCognates(data)\n            }\n        )\n\n        /* this.evokes_subject.pipe(debounceTime(1000)).subscribe(\n            data => {\n                this.onChangeEvokes(data)\n            }\n        ) */\n\n        this.lexicalService.updateLangSelect$.subscribe(\n            signal => {\n        \n                if(signal != null){\n                    \n                    this.languages = [];\n                    this.lexicalService.getLexiconLanguages().subscribe(\n                        data => {\n                            console.log(data)\n                            for (var i = 0; i < data.length; i++) {\n                                this.languages[i] = data[i]\n                            }\n                        }\n                    );\n                }\n            }\n        );\n\n        this.lexicalService.getLexiconLanguages().subscribe(\n            data => {\n                this.languages = [];\n                for (var i = 0; i < data.length; i++) {\n                    this.languages[i] = data[i]\n                }\n            }\n        );\n\n        this.subject.pipe(debounceTime(1000)).subscribe(\n            data => {\n                this.onSearchFilter(data)\n            }\n        )\n\n        this.loadMorphologyData();\n        this.loadLexEntryTypeData();\n\n        this.coreForm = this.formBuilder.group({\n            label: '',\n            type: '',\n            confidence : null,\n            language: '',\n            pos: '',\n            morphoTraits: this.formBuilder.array([]),\n            stemType : '',\n            evokes: this.formBuilder.array([this.createEvokes()]),\n            denotes: this.formBuilder.array([this.createDenotes()]),\n            cognates: this.formBuilder.array([this.createCognates()]),\n            isCognate : false,\n            isEtymon : false\n        })\n\n        this.onChanges();\n    }\n\n    /* triggerDenotes(evt) {\n        if (evt.target != undefined) {\n            this.subject.next(evt.target.value)\n        }\n    } */\n\n    triggerCognates(evt, i) {\n        console.log(evt)\n        if (evt.target != undefined) {\n            \n            this.subject.next({value: evt.target.value, index: i})\n        }\n    }\n\n    loadLexEntryTypeData() {\n        this.lexicalService.getLexEntryTypes().subscribe(\n            data => {\n                this.lexEntryTypesData = data;\n                \n            }\n        )\n    }\n\n    onSearchFilter(data) {\n        this.filterLoading = true;\n        this.searchResults = [];\n\n        let value = data.value;\n        let index = data.index;\n\n        this.cognatesArray = this.coreForm.get('cognates') as FormArray;\n        \n        if (this.object.lexicalEntryInstanceName != undefined && !this.cognatesArray.at(index).get('lila').value) {\n            let parameters = {\n                text: value,\n                searchMode: \"startsWith\",\n                type: \"\",\n                pos: \"\",\n                formType: \"entry\",\n                author: \"\",\n                lang: \"\",\n                status: \"\",\n                offset: 0,\n                limit: 500\n            }\n            \n            /* && data.length >= 3 */\n            this.lexicalService.getLexicalEntriesList(parameters).subscribe(\n                data => {\n                    console.log(data)\n\n                    let filter_lang = data.list.filter(\n                        x => {\n                            return x.language != this.object.language;\n                        }\n                    )\n                    filter_lang.forEach(element => {\n                        element['label_lang'] = element.label+\"@\"+element.language\n                    });\n                    console.log(filter_lang)\n                    this.searchResults = filter_lang;\n                    this.filterLoading = false;\n                }, error => {\n                    //console.log(error)\n                    this.filterLoading = false;\n                }\n            )\n            \n        } else if(this.object.lexicalEntryInstanceName != undefined && this.cognatesArray.at(index).get('lila').value){\n\n            this.searchResults = [];\n            this.lilaService.queryCognate(value).subscribe(\n                data=>{\n                    console.log(data);\n                    if(data.list.length > 0){\n\n                        \n                        const map = data.list.map(element => (\n                        {\n                            label: element[2].value, \n                            labelValue: element[0].value, \n                            pos : element[1].value\n                        })\n                        )\n\n                        map.forEach(element => {\n                        let tmpLblVal = element.labelValue.split('/');\n                        let labelValue = tmpLblVal[tmpLblVal.length - 1];\n\n                        let tmpLblPos = element.pos.split('/');\n                        let pos = tmpLblPos[tmpLblPos.length - 1];\n\n\n                        element.labelElement = labelValue;\n                        element.labelPos = pos;\n\n                        });\n\n                        \n\n                        this.searchResults = map;\n                        console.log(this.searchResults)\n                        this.filterLoading = false;\n\n\n                    }\n                },\n                error=>{\n                    console.log(error)\n                    this.filterLoading = false;\n                }\n            )\n            /* if(this.coreForm.get('isEtymon').value){\n                this.lilaService.queryEtymon(value).subscribe(\n                    data=>{\n                        console.log(data)\n                        if(data.list.length > 0){\n                            data.list.forEach(element => {\n                                this.searchResults.push(element)\n                            });\n                        }\n                    },\n                    error=>{\n                        console.log(error)\n                    }\n                )\n            }else if(this.coreForm.get('isCognate').value){\n                this.lilaService.queryCognate(value).subscribe(\n                    data=>{\n                        console.log(data);\n                        if(data.list.length > 0){\n                            data.list.forEach(element => {\n                                this.searchResults.push(element)\n                            });\n                        }\n                    },\n                    error=>{\n                        console.log(error)\n                    }\n                )\n            }else{\n                \n            } */\n\n        } else {\n            this.filterLoading = false;\n            \n            \n        }\n        \n    }\n\n    deleteData() {\n        this.searchResults = [];\n    }\n\n    loadMorphologyData() {\n        this.lexicalService.getMorphologyData().subscribe(\n            data => {\n                this.morphologyData = data;\n                /* //console.log(this.morphologyData) */\n                this.valuePos = this.morphologyData.filter(x => {\n                    if (x.propertyId == 'partOfSpeech') {\n                        return true;\n                    } else {\n                        return false;\n                    }\n                })\n\n                this.valuePos = this.valuePos[0]['propertyValues'];\n                \n            }\n        )\n    }\n\n\n    ngOnChanges(changes: SimpleChanges) {\n        setTimeout(() => {\n            if (this.object != changes.lexData.currentValue) {\n                this.morphoTraits = this.coreForm.get('morphoTraits') as FormArray;\n                this.morphoTraits.clear();\n\n                this.denotesArray = this.coreForm.get('denotes') as FormArray;\n                this.denotesArray.clear();\n\n                this.cognatesArray = this.coreForm.get('cognates') as FormArray;\n                this.cognatesArray.clear();\n\n                this.evokesArray = this.coreForm.get('evokes') as FormArray;\n                this.evokesArray.clear();\n\n                this.disableAddCognates = false;\n                this.disableAddCognates = false;\n\n\n                this.memoryPos = '';\n\n                this.staticMorpho = []\n            }\n            this.object = changes.lexData.currentValue;\n\n            \n            if (this.object != null) {\n                \n                const lexId = this.object.lexicalEntryInstanceName;\n                this.coreForm.get('label').setValue(this.object.label, { emitEvent: false });\n                this.coreForm.get('stemType').setValue(this.object.stemType, { emitEvent: false });\n                if(this.object.type == 'Etymon'){\n                    this.coreForm.get('type').disable({onlySelf: true, emitEvent: false})\n                }else{\n                    this.coreForm.get('type').enable({onlySelf: true, emitEvent: false})\n                }\n                this.coreForm.get('confidence').setValue(this.object.confidence, { emitEvent: false });\n                \n\n                this.object.type.forEach(element => {\n                    if(element != 'Cognate'){\n                        this.coreForm.get('type').setValue(element, { emitEvent: false });\n                        return true;\n                    }else{\n                        return false;\n                    }\n                });\n\n                let isCognate = this.object.type.find(element => element == 'Cognate');\n                if(isCognate){\n                    this.coreForm.get('isCognate').setValue(true, {emitEvent: false})\n                }else{\n                    this.coreForm.get('isCognate').setValue(false, {emitEvent: false})\n                }\n\n                let isEtymon = this.object.type.find(element => element == 'Etymon');\n                if(isEtymon){\n                    this.coreForm.get('isEtymon').setValue(true, {emitEvent: false})\n                }else{\n                    this.coreForm.get('isEtymon').setValue(false, {emitEvent: false})\n                }\n\n                //this.coreForm.get('type').setValue(this.object.type, { emitEvent: false });\n                this.coreForm.get('language').setValue(this.object.language, { emitEvent: false });\n                this.coreForm.get('pos').setValue(this.object.pos, { emitEvent: false });\n\n                this.memoryPos = this.object.pos;\n\n                this.valueTraits = [];\n                this.memoryTraits = [];\n                this.memoryDenotes = [];\n                this.memoryCognates = [];\n                this.memoryValues = [];\n\n               /*  //console.log('MORFOLOGIA')\n                //console.log(this.object.morphology) */\n                setTimeout(() => {\n                    for (var i = 0; i < this.object.morphology.length; i++) {\n                        const trait = this.object.morphology[i]['trait'];\n                        const value = this.object.morphology[i]['value'];\n                        \n                        let traitDescription = '';\n                        this.morphologyData.filter(x => {\n                            if (x.propertyId == trait && trait != 'partOfSpeech') {\n                                x.propertyValues.filter(y => {\n                                    if(y.valueId == value){\n                                        traitDescription = y.valueDescription;\n                                        return true;\n                                    }else{\n                                        return false;\n                                    }\n                                })\n                                return true;\n                            } else {\n                                return false;\n                            }\n                        })\n                        \n                        this.memoryValues[i] = value;\n                       \n                        this.addMorphoTraits(trait, value, traitDescription);\n                        this.onChangeTrait(trait, i);\n    \n                        this.staticMorpho.push({ trait: trait, value: value });\n                        \n                    }\n                }, 100);\n                \n\n                setTimeout(() => {\n                    let pos = this.coreForm.get('pos').value;\n                    this.valuePos.forEach(el => {\n                        if(el.valueId == pos){\n                           \n                            this.posDescription = el.valueDescription;\n                        }\n                    })\n                    //@ts-ignore\n                    $('.pos-tooltip').tooltip({\n                        trigger: 'hover'\n                    });\n                    \n                    \n                }, 1000);\n\n                setTimeout(() => {\n                    \n                    //@ts-ignore\n                    $('.trait-tooltip').tooltip({\n                        trigger: 'hover'\n                    });\n                    \n                    \n                }, 1000);\n\n                setTimeout(() => {\n                    let type = this.coreForm.get('type').value;\n                    this.lexEntryTypesData.forEach(el => {\n                        if(el.valueId == type){\n                            \n                            this.typeDesc = el.valueDescription;\n                        }\n                    })\n                    //@ts-ignore\n                    $('.type-tooltip').tooltip({\n                        trigger: 'hover'\n                    });\n                    \n                    \n                }, 1000);\n\n                this.lexicalService.getLexEntryLinguisticRelation(lexId, 'denotes').subscribe(\n                    data => {\n                        //console.log(data)\n                        for (var i = 0; i < data.length; i++) {\n                            let entity = data[i]['lexicalEntity'];\n                            let type = data[i]['linkType'];\n                            this.addDenotes(entity, type);\n                            this.memoryDenotes.push(data[i])\n                        }\n                    }, error => {\n                        //console.log(error)\n                    }\n                )\n                \n                this.lexicalService.getLexEntryLinguisticRelation(lexId, 'cognate').subscribe(\n                    data => {\n                        console.log(data)\n                        for (var i = 0; i < data.length; i++) {\n                            let label = data[i].label;\n                            let instanceName = data[i]['entityInstanceName']\n                            let entity = data[i]['entity'];\n                            let type = data[i]['linkType'];\n                            let lexicalEntryInstanceName = this.object.lexicalEntryInstanceName;\n\n                            if(label == \"\"){\n                                let tmp = entity.split('/');\n                                label = tmp[tmp.length-1]\n                            }\n\n                            console.log\n                            this.addCognates(label, instanceName, lexicalEntryInstanceName, entity, type);\n                            this.memoryCognates.push(data[i])\n                        }\n                    }, error => {\n                        console.log(error)\n                    }\n                )\n            }\n\n\n        }, 10)\n\n    }\n\n    onChangeLanguage(evt) {\n\n        this.lexicalService.spinnerAction('on');\n        let langLabel = evt.target.value;\n        let langValue;\n        this.languages.forEach(element => {\n            if (element['label'].toLowerCase() == langLabel.toLowerCase()) {\n                langValue = element['label'];\n                return;\n            }\n        });\n\n        if (langValue != undefined) {\n            let lexId = this.object.lexicalEntryInstanceName;\n            let parameters = {\n                relation: 'language',\n                value: langValue\n            }\n          \n            this.lexicalService.updateLexicalEntry(lexId, parameters).subscribe(\n                data => {\n                    //console.log(data)\n                    this.lexicalService.spinnerAction('off');\n                    this.lexicalService.updateCoreCard(data)\n                    data['request'] = 0;\n                    data['new_lang'] = langValue.toLowerCase();\n                    this.lexicalService.refreshAfterEdit(data);\n                    this.lexicalService.refreshLangTable();\n                    this.lexicalService.refreshFilter({ request: true })\n                }, error => {\n                    //console.log(error)\n                    const data = this.object;\n                    data['request'] = 0;\n                    data['new_lang'] = langValue.toLowerCase();\n                    this.lexicalService.refreshAfterEdit(data);\n                    this.lexicalService.spinnerAction('off');\n                    this.lexicalService.refreshLangTable();\n                    this.lexicalService.refreshFilter({ request: true })\n                    this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                    if(typeof(error.error) != 'object'){\n                        this.toastr.error(error.error, 'Error', {\n                          timeOut: 5000,\n                        });\n                    }else{\n                        this.toastr.success('Language changed correctly for ' + lexId, '', {\n                            timeOut: 5000,\n                        });\n                    }\n                }\n            )\n        } else {\n            this.lexicalService.spinnerAction('off');\n        }\n\n    }\n\n    onChangePos(evt) {\n        this.lexicalService.spinnerAction('on');\n        let posValue = evt.target.value;\n        let lexId = this.object.lexicalEntryInstanceName;\n        let parameters;\n        if (this.memoryPos == '') {\n\n            parameters = {\n                type: \"morphology\",\n                relation: 'partOfSpeech',\n                value: posValue\n            }\n\n        } else {\n            parameters = {\n                type: \"morphology\",\n                relation: 'partOfSpeech',\n                value: posValue,\n                currentValue: this.memoryPos\n            }\n        }\n        \n        console.log(parameters)\n        this.lexicalService.updateLinguisticRelation(lexId, parameters).pipe(debounceTime(1000)).subscribe(\n            response => {\n                console.log(response)\n                this.memoryPos = posValue;\n                let data= {};\n                data['request'] = 0;\n                data['new_pos'] = posValue;\n                data['lexicalEntryInstanceName'] = this.object.lexicalEntryInstanceName;\n                //this.lexicalService.updateCoreCard(data)\n                this.lexicalService.spinnerAction('off');\n                this.lexicalService.refreshAfterEdit(data);\n                this.lexicalService.refreshFilter({ request: true })\n                \n                setTimeout(() => {\n                    \n                    this.valuePos.forEach(el => {\n                        if(el.valueId == posValue){\n                            this.posDescription = el.valueDescription;\n                        }\n                    })\n                    //@ts-ignore\n                    $('.pos-tooltip').tooltip({\n                        trigger: 'hover',\n                    });\n\n                }, 1000);\n            },\n            error => {\n                console.log(error);\n                this.memoryPos = posValue;\n                this.lexicalService.spinnerAction('off');\n                const data = this.object;\n                data['request'] = 0;\n                data['new_pos'] = posValue;\n                this.lexicalService.refreshAfterEdit(data);\n                this.lexicalService.refreshFilter({ request: true })\n                this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                if(typeof(error.error) != 'object'){\n                    this.toastr.error(error.error, 'Error', {\n                      timeOut: 5000,\n                    });\n                }else{\n                    this.toastr.success('Pos changed correctly for ' + lexId, '', {\n                        timeOut: 5000,\n                    });\n                }\n                setTimeout(() => {\n                    \n                    this.valuePos.forEach(el => {\n                        if(el.valueId == posValue){\n                            this.posDescription = el.valueDescription;\n                        }\n                    })\n                    //@ts-ignore\n                    $('.pos-tooltip').tooltip({\n                        trigger: 'hover'\n                    });\n\n                }, 1000);\n            }\n        )\n        \n\n    }\n\n    onChangeExistingValue(evt, i) {\n        this.lexicalService.spinnerAction('on');\n        this.morphoTraits = this.coreForm.get('morphoTraits') as FormArray;\n        const trait = this.morphoTraits.at(i).get('trait').value;\n        const oldValue = this.morphoTraits.at(i).get('value').value;\n        const newValue = evt.target.value;\n        if (newValue != '') {\n            let parameters = {\n                type: \"morphology\",\n                relation: trait,\n                value: newValue,\n                currentValue: oldValue\n            }\n\n            this.morphoTraits.at(i).get('value').setValue(newValue, { emitEvent: false });\n\n            this.staticMorpho[i] = { trait: trait, value: newValue }\n            let lexId = this.object.lexicalEntryInstanceName;\n\n            this.lexicalService.updateLinguisticRelation(lexId, parameters).pipe(debounceTime(1000)).subscribe(\n                data => {\n                    //console.log(data)\n                    data['request'] = 0;\n                    this.lexicalService.refreshAfterEdit(data);\n                    this.lexicalService.spinnerAction('off');\n                    this.lexicalService.refreshFilter({ request: true })\n                    this.lexicalService.updateCoreCard(data)\n                },\n                error => {\n                    //console.log(error)\n                    this.lexicalService.refreshAfterEdit({ request: 0, label: this.object.label });\n                    this.lexicalService.spinnerAction('off');\n                    this.lexicalService.refreshFilter({ request: true })\n                    this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                    if(typeof(error.error) != 'object'){\n                        this.toastr.error(error.error, 'Error', {\n                          timeOut: 5000,\n                        });\n                    }else{\n                        this.toastr.success('Morphotraits changed correctly for ' + lexId, '', {\n                            timeOut: 5000,\n                        });\n                    }\n                }\n            )\n\n        } else {\n            this.lexicalService.spinnerAction('on');\n        }\n    }\n\n    onChangeValue(i) {\n        this.lexicalService.spinnerAction('on');\n        this.morphoTraits = this.coreForm.get('morphoTraits') as FormArray;\n        const trait = this.morphoTraits.at(i).get('trait').value;\n        const value = this.morphoTraits.at(i).get('value').value;\n      \n        if (trait != '' && value != '') {\n            let parameters;\n            if (this.memoryValues[i] == \"\") {\n                parameters = {\n                    type: \"morphology\",\n                    relation: trait,\n                    value: value\n                }\n            } else {\n                parameters = {\n                    type: \"morphology\",\n                    relation: trait,\n                    value: value,\n                    currentValue: this.memoryValues[i]\n                }\n            }\n\n            this.staticMorpho.push({ trait: trait, value: value })\n            let lexId = this.object.lexicalEntryInstanceName;\n\n            this.lexicalService.updateLinguisticRelation(lexId, parameters).pipe(debounceTime(1000)).subscribe(\n                data => {\n                    //console.log(data)\n                    data['request'] = 0;\n                    this.lexicalService.refreshAfterEdit(data);\n                    this.lexicalService.spinnerAction('off');\n                    this.lexicalService.refreshFilter({ request: true })\n                    this.lexicalService.updateCoreCard(data)\n\n                    this.disableAddMorpho = false;\n                    setTimeout(() => {\n                        \n                        let traitDescription = '';\n                        this.morphologyData.filter(x => {\n                            if (x.propertyId == trait && trait != 'partOfSpeech') {\n                                x.propertyValues.filter(y => {\n                                    if(y.valueId == value){\n                                        traitDescription = y.valueDescription;\n                                        return true;\n                                    }else{\n                                        return false;\n                                    }\n                                })\n                                return true;\n                            } else {\n                                return false;\n                            }\n                        })\n\n                        //@ts-ignore\n                        $('.trait-tooltip').tooltip({\n                            trigger: 'hover'\n                        });\n                        \n                        \n                    }, 1000);\n                },\n                error => {\n                    //console.log(error)\n                    this.lexicalService.refreshAfterEdit({ request: 0, label: this.object.label });\n                    this.lexicalService.spinnerAction('off');\n                    this.lexicalService.refreshFilter({ request: true })\n                    this.disableAddMorpho = false;\n                    this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                    setTimeout(() => {\n                        \n                        let traitDescription = '';\n                        this.morphologyData.filter(x => {\n                            if (x.propertyId == trait && trait != 'partOfSpeech') {\n                                x.propertyValues.filter(y => {\n                                    if(y.valueId == value){\n                                        traitDescription = y.valueDescription;\n                                        return true;\n                                    }else{\n                                        return false;\n                                    }\n                                })\n                                return true;\n                            } else {\n                                return false;\n                            }\n                        })\n\n                        this.morphoTraits = this.coreForm.get('morphoTraits') as FormArray;\n                        this.morphoTraits.at(i).patchValue({ trait: trait, value: value, description: traitDescription });\n                        \n                        //@ts-ignore\n                        $('.trait-tooltip').tooltip({\n                            trigger: 'hover'\n                        });\n                        if(typeof(error.error) != 'object'){\n                            this.toastr.error(error.error, 'Error', {\n                              timeOut: 5000,\n                            });\n                        }else{\n                            this.toastr.success('Morphotraits changed correctly for ' + lexId, '', {\n                                timeOut: 5000,\n                            });\n                        }\n                        \n                    }, 1000);\n                }\n            )\n        } else {\n            this.lexicalService.spinnerAction('off');\n        }\n    }\n\n    onChangeTrait(evt, i) {\n\n        if (evt.target != undefined) {\n            setTimeout(() => {\n                this.morphoTraits = this.coreForm.get('morphoTraits') as FormArray;\n                this.morphoTraits.at(i).patchValue({ trait: evt.target.value, value: \"\" });\n                if (evt.target.value != '') {\n                    let arrayValues = this.morphologyData.filter(x => {\n                        return x['propertyId'] == evt.target.value;\n                    })['0']['propertyValues'];\n                    this.valueTraits[i] = arrayValues;\n                    this.memoryTraits[i] = evt.target.value;\n                    this.memoryValues[i] = \"\";\n                } else {\n                    this.memoryValues.splice(i, 1);\n                    let arrayValues = [];\n                    this.valueTraits[i] = arrayValues\n                    this.memoryTraits.splice(i, 1)\n                }\n            }, 500);\n        } else {\n\n            var that = this;\n            var timer = setInterval((val)=>{                \n                \n                try{\n                    var arrayValues = this.morphologyData.filter(x => {\n                        return x['propertyId'] == evt;\n                    })['0']['propertyValues'];\n                    this.valueTraits[i] = arrayValues;\n                    this.memoryTraits.push(evt);\n                    clearInterval(timer)\n                }catch(e){\n                    console.log(e)\n                }\n                    \n                       \n            }, 500)\n\n        }\n    }\n\n\n    onChanges(): void {\n\n        this.coreForm.get(\"label\").valueChanges.pipe(debounceTime(1000)).subscribe(\n            updatedLabel => {\n                if (updatedLabel.length > 2 && updatedLabel.trim() != '') {\n                    this.emptyLabelFlag = false;\n                    this.lexicalService.spinnerAction('on');\n                    let lexId = this.object.lexicalEntryInstanceName;\n                    let parameters = {\n                        relation: 'label',\n                        value: updatedLabel\n                    }\n                    this.lexicalService.updateLexicalEntry(lexId, parameters).subscribe(\n                        data => {\n                            console.log(data);\n                            data['request'] = 0;\n                            data['new_label'] = updatedLabel\n                            this.lexicalService.refreshAfterEdit(data);\n                            this.lexicalService.spinnerAction('off');\n                            this.lexicalService.updateCoreCard(data)\n                            \n                        },\n                        error => {\n                            console.log(error);\n                            const data = this.object;\n                            data['request'] = 0;\n                            data['new_label'] = updatedLabel;\n                            this.lexicalService.refreshAfterEdit(data);\n                            this.lexicalService.spinnerAction('off');\n                            this.lexicalService.updateCoreCard({ lastUpdate: error.error.text });\n                            this.lexicalService.changeDecompLabel(updatedLabel)\n                            if(typeof(error.error) != 'object'){\n                                this.toastr.error(error.error, 'Error', {\n                                  timeOut: 5000,\n                                });\n                            }else{\n                                this.toastr.success('Label changed correctly for ' + lexId, '', {\n                                    timeOut: 5000,\n                                });\n                            }\n                        }\n                    )\n                } else if (updatedLabel.length < 3) {\n                    \n                    this.emptyLabelFlag = true;\n                }\n            }\n        )\n\n        this.coreForm.controls['confidence'].valueChanges.pipe(startWith(undefined), debounceTime(1000), pairwise()).subscribe(newConfidence => {\n            console.log('Old value: ', newConfidence[0]);\n            console.log('New value: ', newConfidence[1]);\n            this.lexicalService.spinnerAction('on');\n            let parameters = {};\n            let lexId = this.object.lexicalEntryInstanceName;\n            let oldValue = newConfidence[0];\n            let newValue = newConfidence[1];\n\n            if(oldValue == undefined){\n                parameters = {\n                    type: \"confidence\",\n                    relation: 'confidence',\n                    value: newValue\n                }\n            }else if(oldValue != undefined && this.object.confidence == -1){\n                parameters = {\n                    type: \"confidence\",\n                    relation: 'confidence',\n                    value: newValue,\n                    currentValue : -1\n                }\n            }else{\n                parameters = {\n                    type: \"confidence\",\n                    relation: 'confidence',\n                    value: newValue,\n                    currentValue : oldValue\n                }\n            }\n            \n            console.log(parameters)\n            this.lexicalService.updateGenericRelation(lexId, parameters).subscribe(\n                data => {\n                    console.log(data);\n                   \n                    this.lexicalService.updateCoreCard(data)\n                    this.lexicalService.spinnerAction('off');\n                },\n                error => {\n                    console.log(error);\n                   \n                    this.lexicalService.spinnerAction('off');\n                    \n                    if(error.status == 200){\n                      this.toastr.success('Confidence updated', '', {timeOut: 5000})\n                      this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                      this.coreForm.get('confidence').setValue(newValue, { emitEvent: false });\n                      this.object.confidence = newValue;\n                    }else{\n                      this.toastr.error(error.error, 'Error', {timeOut: 5000})\n      \n                    }\n                }\n            )\n        })\n\n        \n\n        this.coreForm.get(\"stemType\").valueChanges.pipe(debounceTime(1000)).subscribe(\n            updateStem => {\n                \n                this.lexicalService.spinnerAction('on');\n                let lexId = this.object.lexicalEntryInstanceName;\n                let parameters = {\n                    type: 'extension',\n                    relation : 'stemType',\n                    value: updateStem\n                }\n                console.log(parameters)\n                this.lexicalService.updateGenericRelation(lexId, parameters).subscribe(\n                    data => {\n                        console.log(data);\n                        \n                        this.lexicalService.spinnerAction('off');\n                        this.lexicalService.updateCoreCard(data)\n                        \n                    },\n                    error => {\n                        console.log(error);\n                       \n                        this.lexicalService.spinnerAction('off');\n                        this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                        if(typeof(error.error) != 'object'){\n                            this.toastr.error(error.error, 'Error', {\n                                timeOut: 5000,\n                            });\n                        }else{\n                            this.toastr.success('stemType changed correctly for ' + lexId, '', {\n                                timeOut: 5000,\n                            });\n                        }\n                    }\n                )\n                 \n            }\n        )\n\n        this.coreForm.get(\"type\").valueChanges.pipe(debounceTime(200)).subscribe(\n            newType => {\n                this.lexicalService.spinnerAction('on');\n                let lexId = this.object.lexicalEntryInstanceName;\n                let parameters = {\n                    relation: 'type',\n                    value: newType\n                }\n                this.lexicalService.updateLexicalEntry(lexId, parameters).subscribe(\n                    data => {\n                        //console.log(data);\n                        this.lexicalService.spinnerAction('off');\n                        data['request'] = 0;\n                        data['new_type'] = newType;\n                        this.lexicalService.refreshAfterEdit(data);\n                        this.lexicalService.refreshFilter({ request: true })\n                        this.lexicalService.updateCoreCard(data)\n\n                        setTimeout(() => {\n                            let type = this.coreForm.get('type').value;\n                            this.lexEntryTypesData.forEach(el => {\n                                if(el.valueId == type){\n                                    \n                                    this.typeDesc = el.valueDescription;\n                                }\n                            })\n                            //@ts-ignore\n                            $('.type-tooltip').tooltip({\n                                trigger: 'hover'\n                            });\n                            \n                            \n                        }, 1000);\n                        \n                    },\n                    error => {\n                        //console.log(error);\n                        const data = this.object;\n                        data['request'] = 0;\n                        data['new_type'] = newType;\n                        this.lexicalService.refreshAfterEdit(data);\n                        this.lexicalService.spinnerAction('off');\n                        this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                        this.lexicalService.refreshFilter({ request: true })\n                        if(typeof(error.error) != 'object'){\n                            this.toastr.error(error.error, 'Error', {\n                              timeOut: 5000,\n                            });\n                        }else{\n                            this.toastr.success('Type changed correctly for ' + lexId, '', {\n                                timeOut: 5000,\n                            });\n                        }\n                        setTimeout(() => {\n                            let type = this.coreForm.get('type').value;\n                            this.lexEntryTypesData.forEach(el => {\n                                if(el.valueId == type){\n                                    \n                                    this.typeDesc = el.valueDescription;\n                                }\n                            })\n                            //@ts-ignore\n                            $('.type-tooltip').tooltip({\n                                trigger: 'hover'\n                            });\n                            \n                            \n                        }, 1000);\n                    }\n                )\n            }\n        )\n    }\n\n    applyUncertain(){\n        this.lexicalService.spinnerAction('on');\n        let oldValue = this.coreForm.get('confidence').value;\n        let lexId = this.object.lexicalEntryInstanceName;\n        let parameters = {\n            relation: 'confidence',\n            value: 0,\n        }\n        console.log(parameters)\n        this.lexicalService.deleteLinguisticRelation(lexId, parameters).subscribe(\n            data => {\n                console.log(data);\n                /* data['request'] = 0;\n                data['new_label'] = confidence_value\n                this.lexicalService.refreshAfterEdit(data); */\n                this.lexicalService.updateCoreCard(data)\n                this.lexicalService.spinnerAction('off');\n                this.coreForm.get('confidence').setValue(-1, { emitEvent: false });\n                this.object.confidence = -1;\n\n                this.toastr.success('Uncertain applied', 'Ok', {timeOut: 5000})\n            },\n            error => {\n                console.log(error);\n                /*  const data = this.object.etymology;\n                data['request'] = 0;\n                data['new_label'] = confidence_value;\n                this.lexicalService.refreshAfterEdit(data); */\n                this.lexicalService.spinnerAction('off');\n                this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                if(error.status == 200){\n                    this.toastr.success('Confidence updated', '', {timeOut: 5000})\n                    this.coreForm.get('confidence').setValue(-1, { emitEvent: false });\n                    this.object.confidence = -1;\n                }else{\n                    this.toastr.error(error.error, 'Error', {timeOut: 5000})\n    \n                }\n            }\n        )\n    }\n\n    createMorphoTraits(t?, v?, d?): FormGroup {\n        if (t != undefined) {\n            return this.formBuilder.group({\n                trait: new FormControl(t, [Validators.required, Validators.minLength(0)]),\n                value: new FormControl(v, [Validators.required, Validators.minLength(0)]),\n                description : new FormControl(d, [Validators.required, Validators.minLength(0)]),\n            })\n        } else {\n            return this.formBuilder.group({\n                trait: new FormControl('', [Validators.required, Validators.minLength(0)]),\n                value: new FormControl('', [Validators.required, Validators.minLength(0)]),\n                description : new FormControl(null, [Validators.required, Validators.minLength(0)])\n            })\n        }\n    }\n\n    createEvokes(e?): FormGroup {\n\n        if (e != undefined) {\n            return this.formBuilder.group({\n                entity: new FormControl(e, [Validators.required, Validators.pattern(this.urlRegex)])\n            })\n        } else {\n            return this.formBuilder.group({\n                entity: new FormControl('', [Validators.required, Validators.pattern(this.urlRegex)])\n            })\n        }\n    }\n\n    createDenotes(e?, t?): FormGroup {\n        if (e != undefined) {\n            return this.formBuilder.group({\n                entity: new FormControl(e, [Validators.required, Validators.pattern(this.urlRegex)]),\n                type: t\n            })\n        } else {\n            return this.formBuilder.group({\n                entity: new FormControl(null, [Validators.required, Validators.pattern(this.urlRegex)]),\n                type: null\n            })\n        }\n    }\n\n    createCognates(l?, iName?, lexName?, e?, t?, lila?): FormGroup {\n        if (e != undefined) {\n            return this.formBuilder.group({\n                label : new FormControl(l, [Validators.required]),\n                instanceName: new FormControl(iName, [Validators.required]),\n                lexicalEntryInstanceName: new FormControl(lexName, [Validators.required]),\n                entity: new FormControl(e, [Validators.required, Validators.pattern(this.urlRegex)]),\n                type: t,\n                lila: lila\n            })\n        } else {\n            return this.formBuilder.group({\n                label: new FormControl(null, [Validators.required]),\n                instanceName: new FormControl(null, [Validators.required]),\n                lexicalEntryInstanceName: new FormControl(null, [Validators.required]),\n                entity: new FormControl(null, [Validators.required, Validators.pattern(this.urlRegex)]),\n                type: null,\n                lila: false\n            })\n        }\n    }\n\n\n    handleDenotes(evt, i) {\n\n        if (evt instanceof NgSelectComponent) {\n            if (evt.selectedItems.length > 0) {\n                let label = evt.selectedItems[0]['value']['lexicalEntry'];\n                this.onChangeDenotes({ name: label, i: i })\n            }\n        } else {\n            let label = evt.target.value;\n            this.denotes_subject.next({ name: label, i: i })\n        }\n    }\n\n    handleCognates(evt, i) {\n\n        if (evt instanceof NgSelectComponent) {\n            if (evt.selectedItems.length > 0) {\n                console.log(evt.selectedItems[0])\n                let label = \"\";\n                if(evt.selectedItems[0]['value']['lexicalEntryInstanceName'] == undefined){\n                    label = evt.selectedItems[0]['value']['labelValue'];\n                }else{\n                    label = evt.selectedItems[0]['value']['lexicalEntryInstanceName'];\n                }\n                this.onChangeCognates({ name: label, i: i })\n            }\n        } else {\n            let label = evt.target.value;\n            this.cognates_subject.next({ name: label, i: i })\n        }\n    }\n\n    onChangeDenotes(data) {\n        var index = data['i'];\n        this.denotesArray = this.coreForm.get(\"denotes\") as FormArray;\n        if (this.memoryDenotes[index] == undefined) {\n            const newValue = data['name']\n            const parameters = {\n                type: \"conceptRef\",\n                relation: \"denotes\",\n                value: newValue\n            }\n            //console.log(parameters)\n            let lexId = this.object.lexicalEntryInstanceName;\n            this.lexicalService.updateLinguisticRelation(lexId, parameters).subscribe(\n                data => {\n                    console.log(data);\n                    this.lexicalService.spinnerAction('off');\n                    data['request'] = 0;\n                    this.lexicalService.refreshAfterEdit(data);\n                    this.lexicalService.updateCoreCard(data)\n                }, error => {\n                    console.log(error)\n\n                    /* this.toastr.error(error.error, 'Error', {\n                        timeOut: 5000,\n                    }); */\n                    this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                    \n                    this.lexicalService.spinnerAction('off');\n                    if(error.status == 200){\n                        this.toastr.success('Denotes changed correctly for ' + lexId, '', {\n                            timeOut: 5000,\n                        });\n                    }else{\n                        this.toastr.error(error.error, 'Error', {\n                            timeOut: 5000,\n                        });\n                        \n                    }\n                }\n            )\n            this.memoryDenotes[index] = data;\n\n\n        } else {\n            const oldValue = this.memoryDenotes[index]['lexicalEntity']\n            const newValue = data['name']\n            const parameters = {\n                type: \"conceptRef\",\n                relation: \"denotes\",\n                value: newValue,\n                currentValue: oldValue\n            }\n           \n            let lexId = this.object.lexicalEntryInstanceName;\n            //console.log(parameters)\n            this.lexicalService.updateLinguisticRelation(lexId, parameters).subscribe(\n                data => {\n                    console.log(data);\n                    this.lexicalService.spinnerAction('off');\n                    this.lexicalService.updateCoreCard(data)\n                    data['request'] = 0;\n                    this.lexicalService.refreshAfterEdit(data);\n                }, error => {\n                    console.log(error)\n                    const data = this.object;\n                    data['request'] = 0;\n                    this.toastr.error(error.error, 'Error', {\n                        timeOut: 5000,\n                    });\n                    //this.lexicalService.refreshAfterEdit(data);\n                    this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                    this.lexicalService.spinnerAction('off');\n                    if(typeof(error.error) != 'object'){\n                        this.toastr.error(error.error, 'Error', {\n                          timeOut: 5000,\n                        });\n                    }else{\n                        this.toastr.success('Label changed correctly for ' + lexId, '', {\n                            timeOut: 5000,\n                        });\n                    }\n                }\n            )\n            this.memoryDenotes[index] = data;\n        }\n\n\n    }\n\n    onChangeCognates(data) {\n        var index = data['i'];\n        this.cognatesArray = this.coreForm.get(\"cognates\") as FormArray;\n\n        let existOrNot = this.memoryCognates.some(element => element?.lexicalEntityInstanceName == data.name || element?.name == data.name) \n\n        if (this.memoryCognates[index] == undefined && !existOrNot) {\n            const newValue = data['name']\n            const parameters = {\n                type: \"lexicalRel\",\n                relation: \"cognate\",\n                value: newValue\n            }\n            console.log(parameters)\n            let lexId = this.object.lexicalEntryInstanceName;\n            this.lexicalService.updateLinguisticRelation(lexId, parameters).subscribe(\n                data => {\n                    console.log(data);\n                    this.lexicalService.spinnerAction('off');\n                    data['request'] = 0;\n                    this.lexicalService.refreshAfterEdit(data);\n                    this.lexicalService.updateCoreCard(data)\n                    //TODO: memorizzare nel form i dati aggiornati dei cognate\n\n                    //this.cognatesArray.at(index).patchValue()\n                    this.disableAddCognates = false;\n                }, error => {\n                    console.log(error)\n\n\n                    //TODO: METTERE PATCH VALUE QUA\n                    /* this.toastr.error(error.error, 'Error', {\n                        timeOut: 5000,\n                    }); */\n                    this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                    this.lexicalService.spinnerAction('off');\n                    if(error.status == 200){\n                        this.disableAddCognates = false;\n                        this.toastr.success('Cognates changed correctly for ' + lexId, '', {\n                            timeOut: 5000,\n                        });\n                    }else{\n                        this.toastr.error(error.error, 'Error', {\n                            timeOut: 5000,\n                          });\n                        \n                    }\n                }\n            )\n            this.memoryCognates[index] = data;\n\n\n        } else if(this.memoryCognates[index] != undefined && !existOrNot) {\n            const oldValue = this.memoryCognates[index]['lexicalEntity']\n            const newValue = data['name']\n            const parameters = {\n                type: \"lexicalRel\",\n                relation: \"cognate\",\n                value: newValue,\n                currentValue: oldValue\n            }\n           \n            let lexId = this.object.lexicalEntryInstanceName;\n            console.log(parameters)\n            this.lexicalService.updateLinguisticRelation(lexId, parameters).subscribe(\n                data => {\n                    console.log(data);\n                    this.lexicalService.spinnerAction('off');\n                    this.lexicalService.updateCoreCard(data)\n                    data['request'] = 0;\n                    this.lexicalService.refreshAfterEdit(data);\n                }, error => {\n                    console.log(error)\n                    const data = this.object;\n                    data['request'] = 0;\n                    \n                    //this.lexicalService.refreshAfterEdit(data);\n                    this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                    this.lexicalService.spinnerAction('off');\n                    if(error.status == 200){\n                        this.toastr.success('Label changed correctly for ' + lexId, '', {\n                            timeOut: 5000,\n                        });\n                    }else{\n                        this.toastr.error(error.error, 'Error', {\n                            timeOut: 5000,\n                          });\n                    }\n                }\n            )\n            this.memoryCognates[index] = data;\n        }else if(existOrNot){\n            this.toastr.error('This cognates already exist in this lexical entry', 'Error', {\n                timeOut: 5000\n            })\n        }\n\n\n    }\n\n   /*  handleEvokes(evt, i) {\n\n        if (evt instanceof NgSelectComponent) {\n            if (evt.selectedItems.length > 0) {\n                let label = evt.selectedItems[0].label\n                this.onChangeDenotes({ name: label, i: i })\n            }\n        } else {\n            let label = evt.target.value;\n            this.evokes_subject.next({ name: label, i: i })\n        }\n\n    }\n */\n    \n\n    addDenotes(e?, t?) {\n        this.denotesArray = this.coreForm.get(\"denotes\") as FormArray;\n        if (e != undefined) {\n            this.denotesArray.push(this.createDenotes(e, t));\n        } else {\n            this.denotesArray.push(this.createDenotes());\n        }\n\n    }\n\n    addCognates(l?, iName?, lexIn?, e?, t?) {\n        \n        setTimeout(() => {\n            //@ts-ignore\n            $('.cognates-tooltip').tooltip({\n                trigger: 'hover'\n            });\n        }, 1000);\n        this.cognatesArray = this.coreForm.get(\"cognates\") as FormArray;\n        if (e != undefined) {\n            let lila = false;\n            if(e.includes('lila')){\n                lila = true;\n            }\n            this.cognatesArray.push(this.createCognates(l, iName, lexIn, e, t, lila));\n        } else {\n            this.disableAddCognates = true;\n            this.cognatesArray.push(this.createCognates());\n        }\n\n    }\n\n    \n\n    addMorphoTraits(t?, v?, d?) {\n        \n        this.morphoTraits = this.coreForm.get('morphoTraits') as FormArray;\n        if (t != undefined) {\n            this.morphoTraits.push(this.createMorphoTraits(t, v, d));\n        } else {\n            this.disableAddMorpho = true;\n            this.morphoTraits.push(this.createMorphoTraits());\n        }\n    }\n\n    removeElement(index) {\n        \n        this.memoryTraits.splice(index, 1);\n        this.valueTraits.splice(index, 1);\n        this.staticMorpho.splice(index, 1)\n        \n        this.morphoTraits = this.coreForm.get('morphoTraits') as FormArray;\n\n        const trait = this.morphoTraits.at(index).get('trait').value;\n        const value = this.morphoTraits.at(index).get('value').value;\n\n        \n\n        if (trait != '') {\n\n            let lexId = this.object.lexicalEntryInstanceName;\n\n            let parameters = {\n                type: 'morphology',\n                relation: trait,\n                value: value\n            }\n\n            //console.log(parameters)\n\n            this.lexicalService.deleteLinguisticRelation(lexId, parameters).subscribe(\n                data => {\n                    //console.log(data)\n                    this.lexicalService.updateCoreCard(this.object)\n                    this.lexicalService.refreshAfterEdit({ request: 0, label: this.object.label });\n                    this.lexicalService.spinnerAction('off');\n                    this.lexicalService.refreshFilter({ request: true })\n                }, error => {\n                    //console.log(error)\n                    this.lexicalService.refreshAfterEdit({ request: 0, label: this.object.label });\n                    this.lexicalService.spinnerAction('off');\n                    this.lexicalService.refreshFilter({ request: true })\n                    this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                    if(typeof(error.error) != 'object'){\n                        this.toastr.error(error.error, 'Error', {\n                          timeOut: 5000,\n                        });\n                    }else{\n                        this.toastr.success('Element removed correctly for ' + lexId, '', {\n                            timeOut: 5000,\n                        });\n                    }\n                }\n            )\n        }else{\n            this.disableAddMorpho = false;\n        }\n\n\n        this.morphoTraits.removeAt(index);\n    }\n\n    removeDenotes(index) {\n        this.denotesArray = this.coreForm.get('denotes') as FormArray;\n\n        const entity = this.denotesArray.at(index).get('entity').value;\n\n        let lexId = this.object.lexicalEntryInstanceName;\n\n        let parameters = {\n            relation: 'denotes',\n            value: entity\n        }\n        \n\n        if (entity != '') {\n            this.lexicalService.deleteLinguisticRelation(lexId, parameters).subscribe(\n                data => {\n                    console.log(data)\n                    this.lexicalService.updateCoreCard(this.object);\n                    this.toastr.success(\"Denotes removed\", '', {\n                        timeOut: 5000,\n                    });\n                    \n                }, error => {\n                    console.log(error)\n                    //this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                    this.toastr.error(error.error, 'Error', {\n                        timeOut: 5000,\n                    });\n                }\n            )\n        }\n\n\n        this.denotesArray.removeAt(index);\n\n        this.memoryDenotes.splice(index, 1)\n    }\n\n    removeCognates(index) {\n        this.cognatesArray = this.coreForm.get('cognates') as FormArray;\n\n        const entity = this.cognatesArray.at(index).get('entity').value;\n\n        let lexId = this.object.lexicalEntryInstanceName;\n\n        let parameters = {\n            relation: 'cognate',\n            value: entity\n        }\n        \n\n        if (entity != '') {\n            this.lexicalService.deleteLinguisticRelation(lexId, parameters).subscribe(\n                data => {\n                    console.log(data)\n                    this.lexicalService.updateCoreCard(this.object);\n                    /* this.annotatorService.closePanelForm(id);\n                    if(this.arrayComponents.length > 0){\n                    this.arrayComponents.forEach(instanceComponent => {\n                        if(instanceComponent.instance.id == id){\n                \n                        setTimeout(() => {\n                            instanceComponent.instance.formPanelModal.hide();\n                        }, 100);\n                        }\n                    })\n                    } */\n                    this.toastr.success(\"Cognate deleted successfully\", '', {\n                        timeOut: 5000,\n                    });\n                    \n                }, error => {\n                    console.log(error)\n                    //this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n                    this.toastr.error(error.error, 'Error', {\n                        timeOut: 5000,\n                    });\n                }\n            )\n        }\n\n        this.disableAddCognates = false;\n        this.cognatesArray.removeAt(index);\n\n        this.memoryCognates.splice(index, 1)\n    }\n\n    isEtymon(boolean: boolean){\n        \n        setTimeout(() => {\n            //@ts-ignore\n        $('.type-tooltip').tooltip({\n            trigger: 'hover'\n        });\n        }, 700);\n\n        this.lexicalService.spinnerAction('on');\n        let lexId = this.object.lexicalEntryInstanceName;\n        let value = '';\n        if(boolean){\n            value = 'Etymon'\n            this.coreForm.get('type').setValue('Etymon', { emitEvent: false });\n            this.coreForm.get('type').disable({onlySelf: true, emitEvent: false})\n            if(typeof(this.object.type != 'string')){\n                this.object.type.push('Etymon');\n            } else {\n                this.object.type = 'Etymon'\n            }\n        }else{\n            value = 'LexicalEntry'\n            this.coreForm.get('type').setValue('LexicalEntry', { emitEvent: false });\n            this.coreForm.get('type').enable({onlySelf: true, emitEvent: false})\n            if(typeof(this.object.type != 'string')){\n                this.object.type.splice(this.object.type.indexOf('Etymon'), 1);\n                if(this.object.type.length == 0){\n                    this.object.type.push(value);\n                }\n            } else {\n                this.object.type = 'LexicalEntry';\n            }\n        }\n\n        let parameters = {\n            relation: 'type',\n            value: value\n        }\n\n        \n\n        this.lexicalService.updateLexicalEntry(lexId, parameters).subscribe(\n            data => {\n                console.log(data);\n                this.lexicalService.spinnerAction('off');\n                this.lexicalService.updateCoreCard(data)\n                this.lexicalService.refreshFilter({ request: true })\n\n               this.lexicalService.triggerSameAs(this.object.type)\n            },\n            error => {\n                console.log(error);\n                const data = this.object;\n                this.lexicalService.spinnerAction('off');\n                \n\n                if(error.status == '200'){\n                    this.lexicalService.refreshFilter({ request: true })\n                    this.lexicalService.updateCoreCard({ lastUpdate: error.error.text })\n\n                    this.toastr.success('Lexical Entry updated', '', {\n                        timeOut: 5000\n                    })\n                    this.lexicalService.triggerSameAs(this.object.type)\n                }else{\n                    this.toastr.error(error.error.text, '', { timeOut: 5000})\n                }\n\n\n            }\n        )\n    } \n\n    loadCognateData(cognateInstanceName, lexInstanceName, label){\n        let panel = this.lexicalService.getPanelCognate(cognateInstanceName, lexInstanceName);\n        if(panel == undefined){\n          this.lexicalService.getLexEntryData(cognateInstanceName).subscribe(\n            data=> {\n              console.log(data);\n              if(data != undefined){\n                this.lexicalService.newPanelForm(cognateInstanceName, lexInstanceName);\n                const factory = this.factory.resolveComponentFactory(CognatePanelComponent);\n                const componentRef = this.vc.createComponent(factory);\n                this.arrayComponents.push(componentRef);\n                (<CognatePanelComponent>componentRef.instance).label = label;\n                (<CognatePanelComponent>componentRef.instance).lexicalEntryId = lexInstanceName;\n                (<CognatePanelComponent>componentRef.instance).cogInstanceName = cognateInstanceName;\n                //(<CognatePanelComponent>componentRef.instance).id = idAnnotation;\n                (<CognatePanelComponent>componentRef.instance).lexicalEntryData = data;\n                (<CognatePanelComponent>componentRef.instance).triggerCognatePanel();\n              }\n            }, error=> {\n              console.log(error)\n            }\n          )\n          \n        }else{\n    \n        }\n    \n      }\n}\n","\n\n<form [formGroup]=\"coreForm\" *ngIf=\"object != null\">\n    <div *ngIf=\"{etymon : coreForm.get('type').value == 'Etymon'}; let variable\">\n        <div class=\"form-group row m-2\">\n            <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Label:</label>\n            <div class=\"input-group col-lg-7\">\n                <input id=\"label\" formControlName=\"label\" name=\"label\" type=\"text\" class=\"form-control\" placeholder=\"\"\n                    required>\n                <div class=\"invalid-feedback\" *ngIf=\"emptyLabelFlag\" style=\"display: block;\">\n                    Please, insert at least three characters.\n                </div>\n            </div>\n        </div>\n        <!-- <div class=\"form-group row m-2\">\n            <div class=\"col-lg-3\">\n                <div class=\"form-check p-0\">\n                    <label class=\"form-check-label\" for=\"gridCheck1\">\n                        Etymon\n                    </label>\n                    <input [checked]=\"coreForm.get('type').value == 'Etymon'\" class=\"form-check-input\" style=\"margin-left: 10px;\" type=\"checkbox\" id=\"gridCheck1\" onchange=\"document.getElementById('typeSelect').disabled = this.checked;\" (change)=\"variable.etymon = !variable.etymon; isEtymon(variable.etymon);\">\n                </div>\n            </div>\n        </div> -->\n\n        <div class=\"form-group row m-2\">\n            <div class=\"col-lg-3\">\n                <label class=\"\" for=\"sw\">Etymon</label>\n            </div>\n            <div class=\"col-lg-9\">\n                <div class=\"custom-control custom-switch d-inline\" id=\"sw\">\n                    <input type=\"checkbox\" class=\"custom-control-input\" id=\"edit_extra_block\" name=\"extra_block\" value=\"\" [checked]=\"coreForm.get('type').value == 'Etymon'\" style=\"margin-left: 10px;\" onchange=\"document.getElementById('typeSelect').disabled = this.checked;\" (change)=\"variable.etymon = !variable.etymon; isEtymon(variable.etymon);\">\n                    <label class=\"custom-control-label\" for=\"edit_extra_block\"></label>\n                 </div>\n            </div>\n        </div>\n\n        <div class=\"form-group row m-2\" *ngIf=\"{confidence : coreForm.get('confidence').value >= 0}; let variable\">\n            <div class=\"col-lg-3\">\n                <label for=\"uncertainBox\">Uncertain</label>\n            </div>\n            <div class=\"col-lg-3 input-group uncertain\">\n                <input *ngIf=\"variable.confidence\" id=\"attributes\"  step=\"0.1\" formControlName=\"confidence\" name=\"confidence\" type=\"number\" min=\"0\" max=\"1\" class=\"form-control\" placeholder=\"No info\" [value]=\"coreForm.get('confidence').value\">\n                <button type=\"button\" class=\"btn btn-secondary btn-sm ml-2\" *ngIf=\"!variable.confidence\" (click)=\"variable.confidence = !variable.confidence\"><i class=\"fas fa-plus\"></i></button>\n                <button type=\"button\" class=\"btn btn-secondary btn-sm ml-2\" *ngIf=\"variable.confidence\" (click)=\"variable.confidence = !variable.confidence; applyUncertain()\"><i class=\"fas fa-minus\"></i></button>\n            </div>\n        </div>\n\n        <div class=\"form-group row m-2\" *ngIf=\"!variable.etymon\">\n            <div class=\"col-lg-3 col-form-label\">\n                <label for=\"inputType\">Type:</label>\n            </div>\n            <div class=\"col-lg-9 input-group\">\n                <select id=\"typeSelect\" formControlName=\"type\" name=\"type\" class=\"form-control\">\n                    <option *ngFor=\"let lx of lexEntryTypesData\" [selected]=\"coreForm.get('type').value === lx['valueId']\">\n                        {{lx['valueId']}}\n                    </option>\n                </select>\n                <div class=\"input-group-append ml-2\">\n                    <button *ngIf=\"!variable.etymon\" class=\"btn btn-secondary type-tooltip\" type=\"button\" data-toggle=\"tooltip\"\n                    data-placement=\"top\" data-trigger=\"hover\" [attr.data-original-title]=\"typeDesc\"\n                        style=\"font-size: 12px; border-radius: .25rem;\"><i class=\"fas fa-question\"></i></button>\n                    <button *ngIf=\"variable.etymon\" class=\"btn btn-secondary type-tooltip\" type=\"button\" data-toggle=\"tooltip\"\n                    data-placement=\"top\" data-trigger=\"hover\" title=\"Etymon' is a subclass of Lexical Entry that consists of individuals whose role is to describe the origin and history of another Lexical Entry.\"\n                    style=\"font-size: 12px; border-radius: .25rem;\"><i class=\"fas fa-question\"></i></button>\n                </div>\n                <div class=\"input-group-append ml-2\">\n                    <button [style.visibility]=\"coreForm.get('isCognate').value ? 'visible' : 'hidden'\" class=\"btn btn-warning type-tooltip\" type=\"button\" data-toggle=\"tooltip\"\n                    data-placement=\"top\" data-trigger=\"hover\" title=\"In linguistics, cognates, also called lexical cognates, are words that have a common etymological origin.\"\n                        style=\"font-size: 12px; border-radius: .25rem;\">Cognate</button>\n                </div>\n            </div>\n        </div>\n        <div class=\"form-group row m-2\">\n            <label for=\"inputLanguage\" class=\"col-lg-3 col-form-label\">Language:</label>\n            <div class=\"col-lg-7\">                \n                <select formControlName=\"language\" name=\"language\" class=\"form-control\" (change)=\"onChangeLanguage($event)\">\n                    <option value=\"\">Select language....</option>\n                    <option *ngFor=\"let la of languages\" [value]=\"la['label'].toLowerCase()\" [selected]=\"object.language.toLowerCase() == la['label'].toLowerCase()\">{{la['label']}}\n                    </option>\n                </select>\n                <div class=\"invalid-feedback\" *ngIf=\"coreForm.get('language').value == ''\" style=\"display: block;\">\n                    Please, don't leave this field blank\n                </div>\n            </div>\n        </div>\n    </div>\n    \n\n    <!-- MORPHOLOGY -->\n    <div class=\"form-group row m-2\">\n        <div class=\"input-group col-lg-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>MORPHOLOGY</b></span>\n                <a class=\"pointer\" (click)=\"addMorphoTraits()\" [ngClass]=\"{no_pointer: disableAddMorpho}\"><span class=\"collapse-icon\"><i\n                            class=\"fa fa-plus-square\"></i></span></a>\n                <div class=\"card-body\">\n                    <div class=\"d-flex my-3\">\n                        <div class=\"col-md-4\">\n                            <label for=\"selectPos\" class=\"col-form-label\">Part of speech:</label>\n                        </div>\n                        <div class=\"input-group col-md-8\">\n                            <select class=\"form-control selectTrait\" formControlName=\"pos\" name=\"pos\"\n                                style=\"font-size:12px;\" (change)=\"onChangePos($event)\">\n                                <option value=\"\">Select a value...</option>\n                                <option *ngFor=\"let item of valuePos;\" [selected]=\"item.valueId == object.pos\">\n                                    {{item.valueId}}</option>\n                            </select>\n                            <div class=\"input-group-append ml-2\">\n                                <button class=\"btn btn-secondary pos-tooltip\" type=\"button\" data-toggle=\"tooltip\"\n                                data-placement=\"top\" data-trigger=\"hover\" [attr.data-original-title]=\"posDescription\"\n                                    style=\"font-size: 12px; border-radius: .25rem;\"><i class=\"fas fa-question\"></i></button>\n                            </div>\n\n                            <div class=\"invalid-feedback\" *ngIf=\"!coreForm.get('pos').valid\"\n                                style=\"display: block;\">\n                                Please, don't leave this field blank\n                            </div>\n\n                        </div>\n                    </div>\n\n\n                    <ng-container *ngFor=\"let stat of staticMorpho; let i = index\">\n                        <div class=\"d-flex my-3\" *ngIf=\"stat['trait'] != 'partOfSpeech'\">\n                            <div class=\"col-md-4\">\n                                <label class=\"col-form-label\">{{stat['trait']}}</label>\n                            </div>\n                            <div class=\"input-group col-md-8\">\n                                <select class=\"form-control selectTrait\" style=\"font-size:12px;\"\n                                    (change)=\"onChangeExistingValue($event, i)\">\n                                    <option *ngFor=\"let item of valueTraits[i];\"\n                                        [selected]=\"stat['value'] === item.valueId\">{{item.valueId}}</option>\n                                </select>\n                                <div class=\"input-group-append ml-2\">\n                                    <button *ngIf=\"coreForm['controls'].morphoTraits?.value[i] != null\" class=\"btn btn-secondary trait-tooltip\" type=\"button\" data-toggle=\"tooltip\"\n                                    data-placement=\"top\" data-trigger=\"hover\" [attr.data-original-title]=\"coreForm.get('morphoTraits').at(i).get('description').value\"\n                                        style=\"font-size: 12px; border-radius: .25rem;\"><i class=\"fas fa-question\"></i></button>\n                                        \n                                </div>\n                                <div (click)=\"removeElement(i)\" class=\"input-group-append ml-2\"> <button\n                                        class=\"btn btn-danger\" type=\"button\"\n                                        style=\"font-size: 12px; border-radius: .25rem;\"><i\n                                            class=\"fa fa-trash-alt\"></i></button>\n                                </div>\n                            </div>\n                        </div>\n                    </ng-container>\n\n                    <ng-container formArrayName=\"morphoTraits\"\n                        *ngFor=\"let morpho of coreForm.get('morphoTraits')['controls']; let i = index\">\n                        <div class=\"d-flex my-2\" *ngIf=\"i + 1 > staticMorpho.length\">\n                            <div class=\"col-md-4\" [formGroupName]=\"i\">\n                                <select class=\"form-control selectTrait\" formControlName=\"trait\" name=\"trait\"\n                                    style=\"font-size: 12px;\" (change)=\"onChangeTrait($event, i)\">\n                                    <option value=\"\">Select a trait...</option>\n                                    <option *ngFor=\"let mt of morphologyData\"\n                                        [selected]=\"morpho.value['trait'] === mt.propertyId\"\n                                        [disabled]=\"memoryTraits.indexOf(mt.propertyId) > -1 || mt.propertyId == 'partOfSpeech'\">{{mt.propertyId}}</option>\n                                </select>\n                                <div class=\"invalid-feedback\" *ngIf=\"morpho.get('trait').invalid\"\n                                    style=\"display: block;\">\n                                    Please, don't leave this field blank\n                                </div>\n                            </div>\n                            <div class=\"input-group col-md-8\" [formGroupName]=\"i\">\n                                <select class=\"form-control selectTrait\" formControlName=\"value\" name=\"value\"\n                                    style=\"font-size:12px;\" (change)=\"onChangeValue(i)\">\n                                    <option value=\"\">Select a value...</option>\n                                    <option *ngFor=\"let item of valueTraits[i];\" [attr.data-index]=\"i\"\n                                        [selected]=\"morpho.value['value'] === item.valueId\">{{item.valueId}}</option>\n                                </select>\n                                <div (click)=\"removeElement(i)\" class=\"input-group-append ml-2\"> <button\n                                        class=\"btn btn-danger\" type=\"button\"\n                                        style=\"font-size: 12px; border-radius: .25rem;\"><i\n                                            class=\"fa fa-trash-alt\"></i></button>\n                                </div>\n                                <div class=\"invalid-feedback\" *ngIf=\"morpho.get('value').invalid\"\n                                    style=\"display: block;\">\n                                    Please, don't leave this field blank\n                                </div>\n                            </div>\n                        </div>\n\n                    </ng-container>\n\n\n\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"form-group row m-2 mt-3\">\n        <label for=\"inputLabel\" class=\"col-lg-3 col-form-label\">Stem type:</label>\n        <div class=\"input-group col-lg-7\">\n            <input id=\"stemType\" formControlName=\"stemType\" name=\"stemType\" type=\"text\" class=\"form-control\" placeholder=\"\"\n                required>\n            <!-- <div class=\"invalid-feedback\" *ngIf=\"emptyLabelFlag\" style=\"display: block;\">\n                Please, insert at least three characters.\n            </div> -->\n        </div>\n    </div>\n\n\n    <div class=\"form-group row m-2\">\n        <div class=\"input-group col-lg-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>DENOTES</b></span>\n                <a class=\"pointer\" (click)=\"addDenotes()\"><span class=\"collapse-icon\"><i\n                            class=\"fa fa-plus-square\"></i></span></a>\n                <div class=\"card-body\">\n                    <div class=\"form-group row m-2\" formArrayName=\"denotes\"\n                        *ngFor=\"let den of coreForm.get('denotes')['controls']; let i = index\">\n                        <div class=\"input-group col-xl-12\"  [formGroupName]=\"i\">\n                            <input formControlName=\"entity\" name=\"entity\" type=\"text\" [value]=\"den.get('entity').value\"\n                                class=\"form-control\" placeholder=\"Insert URI\"\n                               \n                                (keyup)=\"handleDenotes($event, i)\">\n                            <div class=\"input-group-append ml-2\">\n                                <a [href]=\"den.get('entity').value\" target=\"_blank\" class=\"btn btn-primary\" type=\"button\"><i\n                                        class=\"fa fa-external-link-alt\"></i></a>\n                            </div>\n                            <div class=\"input-group-append ml-2\">\n                                <button (click)=\"removeDenotes(i)\" class=\"btn btn-danger\" type=\"button\"><i\n                                        class=\"fa fa-trash-alt\"></i></button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"form-group row m-2\">\n        <div class=\"input-group col-lg-12\">\n            <div class=\"card\">\n                <span class=\"text-id\"><b>COGNATES</b></span>\n                <a class=\"pointer\" (click)=\"addCognates()\" [ngClass]=\"{no_pointer: disableAddCognates}\"><span class=\"collapse-icon\"><i\n                            class=\"fa fa-plus-square\"></i></span></a>\n                <div class=\"card-body\">\n                    <div class=\"form-group row m-2\" formArrayName=\"cognates\"\n                        *ngFor=\"let cog of coreForm.get('cognates')['controls']; let i = index\">\n                        <div class=\"input-group col-xl-12\"  [formGroupName]=\"i\" *ngIf=\"{switch : false}; let variable\">\n                            <!-- {{variable.switch}}\n                            {{cog.get('lila').value}} -->\n                            <ng-select #select_cognates formControlName=\"label\" name=\"label\" [dropdownPosition]=\"'top'\"\n                                (keyup)=\"triggerCognates($event, i)\" (change)=\"handleCognates(select_cognates, i)\"\n                                [items]=\"searchResults\" bindValue=\"label\" (focus)=\"deleteData()\" bindLabel=\"label\"\n                                placeholder=\"Search cognates\" appendTo=\"body\" \n                                *ngIf=\"!variable.switch || cog.get('lila').value\">\n                                <ng-template ng-option-tmp let-item=\"item\" let-search=\"searchTerm\" *ngIf=\"!cog.get('lila').value\">\n                                    <div>\n                                        <span>{{item.label}} </span><span style=\"color: blue;\">@{{item.language}}</span>\n                                    </div>\n\n                                </ng-template>\n\n                                <ng-template ng-option-tmp let-item=\"item\" let-search=\"searchTerm\" *ngIf=\"cog.get('lila').value\">\n                                    \n                                    <div class=\"card-body p-0\">\n                                        <h6 class=\"card-title m-0\" [ngOptionHighlight]=\"search\">{{item.label}}</h6>\n                                        <small>\n                                            <span>\n                                                {{item.labelPos}} \n                                            </span>\n                                        </small>\n                                        <small class=\"card-text\">\n                                           \n                        \n                                        </small>\n                                       \n                                    </div>\n\n                                </ng-template>\n                            </ng-select>\n                            <input formControlName=\"entity\" name=\"entity\" type=\"text\" [value]=\"cog.get('entity').value\"\n                                class=\"form-control\" placeholder=\"Insert URI\"\n                                *ngIf=\"variable.switch  && !cog.get('lila').value\"\n                                (keyup)=\"handleCognates($event, i)\">\n                            <div class=\"input-group-append ml-3 form-check\" style=\"align-items: center;\">\n                                <input class=\"form-check-input cognates-tooltip\" type=\"checkbox\"\n                                    (change)=\"variable.switch=!variable.switch\" data-toggle=\"tooltip\"\n                                    data-placement=\"bottom\" data-trigger=\"hover\"\n                                    title=\"Clicca per inserire un URI manualmente\">\n                            </div>\n                            <div class=\"input-group-append ml-2\" *ngIf=\"cog.get('type').value == 'external' && cog.get('entity').value != ''\" container=\"body\" placement=\"top\" ngbTooltip=\"Open in Lila Page\">\n                                <a  [href]=\"cog.get('entity').value\" target=\"_blank\"  class=\"btn btn-info\"\n                                    type=\"button\"><i class=\"fas fa-globe-europe\"></i></a>\n                            </div>\n                            <div class=\"input-group-append ml-2\" *ngIf=\"cog.get('type').value == 'internal' && cog.get('entity').value != ''\" container=\"body\" placement=\"top\" ngbTooltip=\"Open in new panel\">\n                                <a  (click)=\"loadCognateData(cog.get('instanceName').value, cog.get('lexicalEntryInstanceName').value, cog.get('label').value); \"  class=\"btn btn-primary\"\n                                    type=\"button\"><i class=\"fas fa-external-link-alt\"></i></a>\n                            </div>\n                            <div class=\"input-group-append ml-2\" *ngIf=\"!variable.switch\">\n                                <div class=\"btn-group-toggle\" data-toggle=\"buttons\" placement=\"top\" ngbTooltip=\"Enable LiLa endpoint\" title=\"Enable LiLa endpoint\" >\n                                    <label class=\"btn btn-secondary\" >\n                                      <input type=\"checkbox\" autocomplete=\"off\" formControlName=\"lila\" name=\"lila\" style=\"border-radius: .3rem;\"> \n                                      <i class=\"fas fa-project-diagram\"></i>  \n<!--                                       <img src=\"../../../../../../../assets/images/graphql.png\" alt=\"Avatar\" class=\"image\" style=\"height: 20px;\">\n -->                                    </label>\n                                </div>\n                            </div>\n                            <div class=\"input-group-append ml-2\">\n                                <button (click)=\"removeCognates(i)\" class=\"btn btn-danger\" type=\"button\"><i\n                                        class=\"fa fa-trash-alt\"></i></button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n</form>\n\n<!-- {{coreForm.value | json}} -->\n\n<ng-template #cognatePanel></ng-template>\n","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";","/*\n   Copyright 2021-2022  Istituto di Linguistica Computazionale \"A. Zampolli\", Consiglio Nazionale delle Ricerche, Pisa, Italy.\n \nThis file is part of EpiLexo.\n\nEpiLexo is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n\nEpiLexo is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License along with EpiLexo. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { Component, Input, OnInit, SimpleChanges } from '@angular/core';\nimport { LexicalEntriesService } from 'src/app/services/lexical-entries/lexical-entries.service';\n\n@Component({\n  selector: 'app-link-panel',\n  templateUrl: './link-panel.component.html',\n  styleUrls: ['./link-panel.component.scss']\n})\nexport class LinkPanelComponent implements OnInit {\n\n  @Input() linkData: any[] | any;\n  \n  seeAlsoData : {};\n  sameAsData : {};\n  counterElement = 0;\n  object : any;\n  constructor(private lexicalService: LexicalEntriesService) { }\n\n  ngOnInit(): void {\n\n    this.lexicalService.refreshLinkCounter$.subscribe(\n      data=>{\n        console.log(data)\n        if(data!=null){\n          this.counterElement = eval(this.counterElement.toString()+data)\n        }\n      },error=>{\n\n      }\n    )\n  }\n\n  ngOnChanges(changes: SimpleChanges){\n    if(changes.linkData.currentValue != null){\n      this.counterElement = 0;\n      this.object = changes.linkData.currentValue;\n      this.sameAsData = null;\n      this.seeAlsoData = null;\n      \n      /* //console.log(changes.linkData.currentValue) */\n\n      if(this.object.lexicalEntryInstanceName != undefined){\n        let lexId = this.object.lexicalEntryInstanceName;\n        this.lexicalService.getLexEntryLinguisticRelation(lexId, 'sameAs').subscribe(\n          data=>{\n            console.log(data, this.object);\n            this.sameAsData = {}\n            this.sameAsData['array'] = data;\n            this.sameAsData['parentNodeLabel']= this.object['lexicalEntry'];\n            this.sameAsData['lexicalEntryInstanceName']= this.object['lexicalEntryInstanceName'];\n            this.sameAsData['type'] = this.object.type;\n          }, error=>{\n            console.log(this.object)\n            this.sameAsData = {}\n            this.sameAsData['array'] = [];\n            this.sameAsData['parentNodeLabel']= this.object['lexicalEntry'];\n            this.sameAsData['lexicalEntryInstanceName']= this.object['lexicalEntryInstanceName'];\n            this.sameAsData['label']= this.object['label'];\n            this.sameAsData['type'] = this.object.type;\n            console.log(error);\n            \n          }\n        )\n\n        this.lexicalService.getLexEntryLinguisticRelation(lexId, 'seeAlso').subscribe(\n          data=>{\n            console.log(data)\n            this.seeAlsoData = {}\n            this.seeAlsoData['array'] = data;\n            this.seeAlsoData['parentNodeLabel']= this.object['lexicalEntry'];\n            this.seeAlsoData['lexicalEntryInstanceName']= this.object['lexicalEntryInstanceName'];\n          }, error=>{\n            this.seeAlsoData = {}\n            this.seeAlsoData['array'] = [];\n            this.seeAlsoData['parentNodeLabel']= this.object['lexicalEntry'];\n            this.seeAlsoData['lexicalEntryInstanceName']= this.object['lexicalEntryInstanceName'];\n            //console.log(error);\n            \n          }\n        )\n\n        //console.log(this.object)\n        this.object.links.forEach(element => {\n          if(element.type != undefined){\n            if(element.type == 'Reference'){\n              element.elements.forEach(sub => {\n                this.counterElement += sub.count;\n              });\n            }\n          }\n        });\n      }else if(this.object.formInstanceName != undefined){\n        let formId = this.object.formInstanceName;\n        this.lexicalService.getLexEntryLinguisticRelation(formId, 'sameAs').subscribe(\n          data=>{\n            //console.log(data);\n            this.sameAsData = {}\n            this.sameAsData['array'] = data;\n            this.sameAsData['formInstanceName']= this.object['formInstanceName'];\n          }, error=>{\n            this.sameAsData = {}\n            this.sameAsData['array'] = [];\n            this.sameAsData['formInstanceName']= this.object['formInstanceName'];\n            //console.log(error);\n            \n          }\n        )\n\n        this.lexicalService.getLexEntryLinguisticRelation(formId, 'seeAlso').subscribe(\n          data=>{\n            this.seeAlsoData = {}\n            this.seeAlsoData['array'] = data;\n            this.seeAlsoData['formInstanceName']= this.object['formInstanceName'];\n          }, error=>{\n            this.seeAlsoData = {}\n            this.seeAlsoData['array'] = [];\n            this.seeAlsoData['formInstanceName']= this.object['formInstanceName'];\n            //console.log(error);\n            \n          }\n        )\n\n        //console.log(this.object)\n        if(this.object.links != null){\n          this.object.links.forEach(element => {\n            if(element.type != undefined){\n              if(element.type == 'Reference'){\n                element.elements.forEach(sub => {\n                  this.counterElement += sub.count;\n                });\n              }\n            }\n          });\n        }\n        \n      }else if(this.object.senseInstanceName != undefined){\n        let senseId = this.object.senseInstanceName;\n        this.lexicalService.getLexEntryLinguisticRelation(senseId, 'sameAs').subscribe(\n          data=>{\n            //console.log(data);\n            this.sameAsData = {}\n            this.sameAsData['array'] = data;\n            this.sameAsData['senseInstanceName']= this.object['senseInstanceName'];\n          }, error=>{\n            this.sameAsData = {}\n            this.sameAsData['array'] = [];\n            this.sameAsData['senseInstanceName']= this.object['senseInstanceName'];\n            //console.log(error);\n            \n          }\n        )\n\n        this.lexicalService.getLexEntryLinguisticRelation(senseId, 'seeAlso').subscribe(\n          data=>{\n            //console.log(data)\n            this.seeAlsoData = {}\n            this.seeAlsoData['array'] = data;\n            this.seeAlsoData['senseInstanceName']= this.object['senseInstanceName'];\n          }, error=>{\n            this.seeAlsoData = {}\n            this.seeAlsoData['array'] = [];\n            this.seeAlsoData['senseInstanceName']= this.object['senseInstanceName'];\n            //console.log(error);\n            \n          }\n        )\n\n        //console.log(this.object)\n        if(this.object.links != null){\n          this.object.links.forEach(element => {\n            if(element.type != undefined){\n              if(element.type == 'Reference'){\n                element.elements.forEach(sub => {\n                  this.counterElement += sub.count;\n                });\n              }\n            }\n          });\n        }\n      }else if(this.object.etymologyInstanceName != undefined){\n        let etymId = this.object.etymologyInstanceName;\n        this.lexicalService.getLexEntryLinguisticRelation(etymId, 'sameAs').subscribe(\n          data=>{\n            //console.log(data);\n            this.sameAsData = {}\n            this.sameAsData['array'] = data;\n            this.sameAsData['etymologyInstanceName']= this.object['etymologyInstanceName'];\n          }, error=>{\n            this.sameAsData = {}\n            this.sameAsData['array'] = [];\n            this.sameAsData['etymologyInstanceName']= this.object['etymologyInstanceName'];\n            //console.log(error);\n            \n          }\n        )\n\n        this.lexicalService.getLexEntryLinguisticRelation(etymId, 'seeAlso').subscribe(\n          data=>{\n            //console.log(data)\n            this.seeAlsoData = {}\n            this.seeAlsoData['array'] = data;\n            this.seeAlsoData['etymologyInstanceName']= this.object['etymologyInstanceName'];\n          }, error=>{\n            this.seeAlsoData = {}\n            this.seeAlsoData['array'] = [];\n            this.seeAlsoData['etymologyInstanceName']= this.object['etymologyInstanceName'];\n            //console.log(error);\n            \n          }\n        )\n\n        //console.log(this.object)\n        if(this.object.links != null){\n          this.object.links.forEach(element => {\n            if(element.type != undefined){\n              if(element.type == 'Reference'){\n                element.elements.forEach(sub => {\n                  this.counterElement += sub.count;\n                });\n              }\n            }\n          });\n        }\n      }  \n    }else{\n      this.counterElement = 0;\n      this.sameAsData = null;\n      this.seeAlsoData = null;\n    }\n  }\n\n  \n\n}\n","\n\n<div class=\"card\">\n    <div class=\"card-header\" id=\"referenceHeading\">\n        <h5 class=\"mb-0\">\n            <a class=\"btn btn-link w-100 d-flex align-self-center collapsed\" data-toggle=\"collapse\"\n                data-target=\"#referenceCollapse\" aria-expanded=\"true\" aria-controls=\"referenceCollapse\">\n                Link Panel&nbsp; <span *ngIf=\"counterElement > 0\">({{counterElement}})</span><i class=\"fa  ml-auto\"></i>\n            </a>\n        </h5>\n    </div>\n    <div id=\"referenceCollapse\" class=\"collapse\" aria-labelledby=\"referenceHeading\">\n        <div class=\"card-body\">\n            <app-see-also *ngIf=\"seeAlsoData != undefined\" [seeAlsoData]=\"seeAlsoData\"></app-see-also>\n            <app-same-as *ngIf=\"sameAsData != undefined\"  [sameAsData]=\"sameAsData\"></app-same-as>\n        </div>\n    </div>\n</div>"],"sourceRoot":"webpack:///"}