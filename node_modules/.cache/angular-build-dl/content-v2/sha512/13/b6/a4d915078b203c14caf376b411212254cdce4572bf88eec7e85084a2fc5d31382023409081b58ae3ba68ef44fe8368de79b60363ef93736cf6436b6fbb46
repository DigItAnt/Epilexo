(function(){function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(n,e)})(e)}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&_setPrototypeOf(o,n.prototype),o}).apply(null,arguments)}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _defineProperty2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=_superPropBase(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw r}}}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(c){o=!0,r=c}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/XOW":function(e,t,n){"use strict";n.d(t,"a",function(){return k});var i=n("3Pt+"),o=n("XNiG"),r=n("Kj3r"),a=n("fXoL"),s=n("h2iL"),c=n("5eHb"),l=n("x8j5"),u=n("ofXK"),f=n("ZOsW"),d=n("1kSV"),h=["sameAsSelect"];function p(e,t){if(1&e&&(a.Rb(0,"div",26),a.Rb(1,"span",27),a.Kc(2),a.Qb(),a.Rb(3,"span",28),a.Kc(4),a.Qb(),a.Mb(5,"small",29),a.Qb()),2&e){var n=t.item,i=t.searchTerm;a.yb(1),a.mc("ngOptionHighlight",i),a.yb(1),a.Lc(n.label),a.yb(2),a.Mc("@",n.language,"")}}function b(e,t){if(1&e){var n=a.Sb();a.Rb(0,"div",23),a.Rb(1,"div",30),a.Rb(2,"label",31),a.Rb(3,"input",32),a.bc("click",function(){a.zc(n);var e=a.fc(3).index;return a.fc().triggerLilaSearch(e)}),a.Qb(),a.Mb(4,"img",33),a.Qb(),a.Qb(),a.Qb()}}function g(e,t){if(1&e&&(a.Rb(0,"div",23),a.Rb(1,"a",34),a.Mb(2,"i",35),a.Qb(),a.Qb()),2&e){var n=a.fc(3).$implicit;a.yb(1),a.mc("href",n.get("entity").value,a.Bc)}}function m(e,t){if(1&e){var n=a.Sb();a.Rb(0,"div",16),a.Rb(1,"ng-select",17,18),a.bc("change",function(){a.zc(n);var e=a.vc(2),t=a.fc(2).index;return a.fc().onChangeSameAs(e,t)})("focus",function(){return a.zc(n),a.fc(3).deleteData()})("keyup",function(e){a.zc(n);var t=a.fc(2).index;return a.fc().triggerSameAs(e,t)}),a.Ic(3,p,6,3,"ng-template",19),a.Qb(),a.Rb(4,"input",20),a.bc("keyup",function(e){a.zc(n);var t=a.fc(2).index;return a.fc().triggerSameAsInput(e,t)}),a.Qb(),a.Rb(5,"div",21),a.Ic(6,b,5,0,"div",22),a.Ic(7,g,3,1,"div",22),a.Rb(8,"div",23),a.Rb(9,"button",24),a.bc("click",function(){a.zc(n);var e=a.fc(2).index;return a.fc().removeElement(e)}),a.Mb(10,"i",25),a.Qb(),a.Qb(),a.Qb(),a.Qb()}if(2&e){var i=t.$implicit,o=a.fc(2).$implicit,r=a.fc();a.yb(1),a.mc("isOpen",r.dropdown)("items",r.searchResults)("hidden",!o.get("lila").value)("readonly",i.boolean),a.yb(3),a.mc("hidden",o.get("lila").value),a.yb(2),a.mc("ngIf",(r.sameAsForm.get("isCognate").value||r.sameAsForm.get("isEtymon").value)&&!i.boolean&&!o.get("inferred").value),a.yb(1),a.mc("ngIf",i.boolean)}}var v=function(e){return{boolean:e}};function y(e,t){if(1&e&&(a.Rb(0,"div",14),a.Ic(1,m,11,7,"div",15),a.Qb()),2&e){var n=a.fc().$implicit;a.yb(1),a.mc("ngIf",a.qc(1,v,n.get("inferred").value))}}var _=function(){return{switch:!1}};function C(e,t){if(1&e&&(a.Rb(0,"div"),a.Rb(1,"div",11),a.Rb(2,"div",12),a.Ic(3,y,2,3,"div",13),a.Qb(),a.Qb(),a.Qb()),2&e){var n=t.index;a.yb(1),a.mc("formGroupName",n),a.yb(2),a.mc("ngIf",a.pc(2,_))}}var k=function(){var e=function(){function e(t,n,r,a){_classCallCheck(this,e),this.formBuilder=t,this.lexicalService=n,this.toastr=r,this.lilaService=a,this.subject=new o.a,this.subject_input=new o.a,this.searchResults=[],this.filterLoading=!1,this.memorySameAs=[],this.sameAsForm=new i.h({sameAsArray:new i.c([this.createSameAsEntry()]),isEtymon:new i.f(null),isCognate:new i.f(null)})}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.sameAsForm=this.formBuilder.group({sameAsArray:this.formBuilder.array([]),isEtymon:!1,isCognate:!1}),this.subject.pipe(Object(r.a)(1e3)).subscribe(function(t){e.onSearchFilter(t)}),this.lexicalService.triggerSameAs$.subscribe(function(t){console.log(t),null==t&&null==t||null==e.object||(e.object.type=t,"string"!=typeof e.object.type?(e.object.type.find(function(e){return"Cognate"==e})?e.sameAsForm.get("isCognate").setValue(!0,{emitEvent:!1}):e.sameAsForm.get("isCognate").setValue(!1,{emitEvent:!1}),e.object.type.find(function(e){return"Etymon"==e})?e.sameAsForm.get("isEtymon").setValue(!0,{emitEvent:!1}):e.sameAsForm.get("isEtymon").setValue(!1,{emitEvent:!1})):("Cognate"==e.object.type?e.sameAsForm.get("isCognate").setValue(!0,{emitEvent:!1}):e.sameAsForm.get("isCognate").setValue(!1,{emitEvent:!1}),"Etymon"==e.object.type?e.sameAsForm.get("isEtymon").setValue(!0,{emitEvent:!1}):e.sameAsForm.get("isEtymon").setValue(!1,{emitEvent:!1})))},function(e){console.log(e)}),this.subject_input.pipe(Object(r.a)(1e3)).subscribe(function(t){e.onChangeSameAsByInput(t.value,t.i)}),this.triggerTooltip()}},{key:"ngOnChanges",value:function(e){var t=this;setTimeout(function(){null!=e.sameAsData.currentValue?(t.object=e.sameAsData.currentValue,t.sameAsArray=t.sameAsForm.get("sameAsArray"),t.sameAsArray.clear(),t.memorySameAs=[],console.log(t.object),t.object.array.forEach(function(e){t.addSameAsEntry(e.lexicalEntity,"external"==e.linkType),t.memorySameAs.push(e.lexicalEntity)}),null!=t.object.type&&("string"!=typeof t.object.type?(t.object.type.find(function(e){return"Cognate"==e})?t.sameAsForm.get("isCognate").setValue(!0,{emitEvent:!1}):t.sameAsForm.get("isCognate").setValue(!1,{emitEvent:!1}),t.object.type.find(function(e){return"Etymon"==e})?t.sameAsForm.get("isEtymon").setValue(!0,{emitEvent:!1}):t.sameAsForm.get("isEtymon").setValue(!1,{emitEvent:!1})):("Cognate"==t.object.type?t.sameAsForm.get("isCognate").setValue(!0,{emitEvent:!1}):t.sameAsForm.get("isCognate").setValue(!1,{emitEvent:!1}),"Etymon"==t.object.type?t.sameAsForm.get("isEtymon").setValue(!0,{emitEvent:!1}):t.sameAsForm.get("isEtymon").setValue(!1,{emitEvent:!1}))),null!=t.object.lexicalEntryInstanceName?(t.isLexEntry=!0,t.isForm=!1,t.isSense=!1):null!=t.object.formInstanceName?(t.isLexEntry=!1,t.isForm=!0,t.isSense=!1):null!=t.object.senseInstanceName&&(t.isLexEntry=!1,t.isForm=!1,t.isSense=!0)):t.object=null},10)}},{key:"onChangeSameAsByInput",value:function(e,t){var n=this;if(""!=e.trim()){var i=e,o="",r={};null!=this.object.lexicalEntryInstanceName?o=this.object.lexicalEntryInstanceName:null!=this.object.formInstanceName?o=this.object.formInstanceName:null!=this.object.senseInstanceName?o=this.object.senseInstanceName:null!=this.object.etymologyInstanceName&&(o=this.object.etymologyInstanceName),null==this.memorySameAs[t]||""==this.memorySameAs[t]?(r={type:"reference",relation:"sameAs",value:i},this.memorySameAs[t]=i):r={type:"reference",relation:"sameAs",value:i,currentValue:this.memorySameAs[t]},this.lexicalService.updateGenericRelation(o,r).subscribe(function(e){console.log(e)},function(e){console.log(e),"200"==e.status?(n.toastr.success("SameAs Changed","",{timeOut:5e3}),n.sameAsArray=n.sameAsForm.get("sameAsArray"),n.sameAsArray.at(t).get("inferred").setValue(!0,{emitEvent:!1})):n.toastr.error(e.error.text,"Error",{timeOut:5e3})})}}},{key:"onChangeSameAs",value:function(e,t){var n=this;if(console.log(e.selectedItems),0!=e.selectedItems.length){var i={},o=e.selectedItems[0].value.lexicalEntry,r=this.object.lexicalEntryInstanceName;null==this.memorySameAs[t]||""==this.memorySameAs[t]?(i={type:"reference",relation:"sameAs",value:o},this.memorySameAs[t]=o):i={type:"reference",relation:"sameAs",value:o,currentValue:this.memorySameAs[t]},console.log(i),this.lexicalService.updateGenericRelation(r,i).subscribe(function(e){console.log(e),n.sameAsArray.at(t).get("inferred").setValue(!0,{emitEvent:!1})},function(e){console.log(e),200==e.status?(n.toastr.success("SameAs Changed","",{timeOut:5e3}),n.sameAsArray.at(t).get("inferred").setValue(!0,{emitEvent:!1})):200==e.status&&n.toastr.error(e.error.text,"",{timeOut:5e3})})}}},{key:"onSearchFilter",value:function(e){var t=this;this.filterLoading=!0,this.searchResults=[];var n=e.value,i=e.index;console.log(e),this.sameAsArray=this.sameAsForm.get("sameAsArray");var o=this.sameAsArray.at(i).get("lila").value;if(o)o&&(this.searchResults=[],this.sameAsForm.get("isEtymon").value&&this.lilaService.queryEtymon(n).subscribe(function(e){if(console.log(e),e.list.length>0){var n=e.list.map(function(e){var t,n,i;return{label:null===(t=e[2])||void 0===t?void 0:t.value,language:null===(n=e[1])||void 0===n?void 0:n.value,lexicalEntry:null===(i=e[0])||void 0===i?void 0:i.value}});t.searchResults=n,console.log(t.searchResults)}},function(e){console.log(e)}),this.sameAsForm.get("isCognate").value&&this.lilaService.queryCognate(n).subscribe(function(e){if(console.log(e),e.list.length>0){var n=e.list.map(function(e){return{label:t.object.label,labelValue:e[0].value,pos:e[1].value}});n.forEach(function(e){var t=e.labelValue.split("/"),n=t[t.length-1],i=e.pos.split("/"),o=i[i.length-1];e.labelElement=n,e.labelPos=o}),t.searchResults=n,console.log(t.searchResults)}},function(e){console.log(e)}));else if(null!=this.object.lexicalEntryInstanceName){var r={text:e,searchMode:"startsWith",type:"",pos:"",formType:"entry",author:"",lang:"",status:"",offset:0,limit:500};console.log(e.length),this.lexicalService.getLexicalEntriesList(r).subscribe(function(e){console.log(e),t.searchResults=e.list,console.log(t.searchResults),t.filterLoading=!1},function(e){console.log(e),t.filterLoading=!1})}else if(null!=this.object.formInstanceName){var a={text:e,searchMode:"startsWith",representationType:"writtenRep",author:"",offset:0,limit:500};console.log(a),this.lexicalService.getFormList(a).subscribe(function(e){console.log(e),t.searchResults=e.list,t.filterLoading=!1},function(e){console.log(e),t.filterLoading=!1})}else null!=this.object.senseInstanceName&&this.lexicalService.getLexicalSensesList({text:e,searchMode:"startsWith",type:"",pos:"",formType:"entry",author:"",lang:"",status:"",offset:0,limit:500}).subscribe(function(e){t.searchResults=e,t.filterLoading=!1},function(e){console.log(e),t.filterLoading=!1});console.log(e)}},{key:"triggerLilaSearch",value:function(e){var t=this;setTimeout(function(){t.sameAsArray=t.sameAsForm.get("sameAsArray"),t.sameAsArray.at(e).get("lila").value&&Array.from(t.sameAsList)},250)}},{key:"deleteData",value:function(){this.searchResults=[]}},{key:"triggerSameAsInput",value:function(e,t){null!=e.target&&this.subject_input.next({value:e.target.value,i:t})}},{key:"triggerSameAs",value:function(e,t){console.log(e.target.value),null!=e.target&&this.subject.next({value:e.target.value,index:t})}},{key:"triggerTooltip",value:function(){setTimeout(function(){$(".same-as-tooltip").tooltip({trigger:"hover"})},500)}},{key:"createSameAsEntry",value:function(e,t){return this.formBuilder.group(null==e?{entity:null,inferred:!1,lila:!1}:{entity:e,inferred:t,lila:!1})}},{key:"addSameAsEntry",value:function(e,t){this.sameAsArray=this.sameAsForm.get("sameAsArray"),this.sameAsArray.push(null==e?this.createSameAsEntry():this.createSameAsEntry(e,t)),this.triggerTooltip()}},{key:"removeElement",value:function(e){var t=this;this.sameAsArray=this.sameAsForm.get("sameAsArray");var n=this.sameAsArray.at(e).get("entity").value;null!=this.object.lexicalEntryInstanceName?this.lexicalService.deleteLinguisticRelation(this.object.lexicalEntryInstanceName,{relation:"sameAs",value:n}).subscribe(function(e){console.log(e),t.lexicalService.updateCoreCard(t.object),t.lexicalService.refreshLinkCounter("-1"),t.toastr.success("SameAs Removed","Error",{timeOut:5e3})},function(e){console.log(e),200==e.status?t.toastr.success("SameAs Removed","Error",{timeOut:5e3}):t.toastr.error(e.error.text,"Error",{timeOut:5e3})}):null!=this.object.formInstanceName?this.lexicalService.deleteLinguisticRelation(this.object.formInstanceName,{relation:"sameAs",value:n}).subscribe(function(e){t.lexicalService.updateCoreCard(t.object),t.lexicalService.refreshLinkCounter("-1")},function(e){}):null!=this.object.senseInstanceName&&this.lexicalService.deleteLinguisticRelation(this.object.senseInstanceName,{type:"morphology",relation:"sameAs",value:n}).subscribe(function(e){t.lexicalService.updateCoreCard(t.object),t.lexicalService.refreshLinkCounter("-1")},function(e){}),this.memorySameAs.splice(e,1),this.sameAsArray.removeAt(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Lb(i.e),a.Lb(s.a),a.Lb(c.b),a.Lb(l.a))},e.\u0275cmp=a.Fb({type:e,selectors:[["app-same-as"]],viewQuery:function(e,t){var n;(1&e&&a.Pc(h,!0),2&e)&&(a.uc(n=a.cc())&&(t.sameAsList=n))},inputs:{sameAsData:"sameAsData"},features:[a.wb],decls:12,vars:2,consts:[[3,"formGroup"],[1,"form-group","row","mt-3"],[1,"input-group","col-sm-12"],[1,"card"],[1,"text-id"],[1,"pointer",3,"click"],[1,"collapse-icon"],[1,"fa","fa-plus-square"],[1,"card-body"],["formArrayName","sameAsArray",1,"mt-3"],[4,"ngFor","ngForOf"],[3,"formGroupName"],[1,"d-flex"],["class","form-group row ml-2  mr-2 w-100",4,"ngIf"],[1,"form-group","row","ml-2","mr-2","w-100"],["class","input-group",4,"ngIf"],[1,"input-group"],["formControlName","entity","name","entity","bindValue","label","bindLabel","label","placeholder","Search entity","appendTo","body",1,"resizeNgSelect",3,"isOpen","items","hidden","readonly","change","focus","keyup"],["sameAsSelect",""],["ng-option-tmp",""],["formControlName","entity","name","entity","type","text","placeholder","Insert URI",1,"form-control",3,"hidden","keyup"],[1,"input-group-append"],["class","input-group-append ml-2",4,"ngIf"],[1,"input-group-append","ml-2"],["type","button",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash-alt"],[1,"card-body","p-0"],[1,"card-title","m-0",3,"ngOptionHighlight"],[2,"color","blue"],[1,"card-text"],["data-toggle","buttons","placement","top","ngbTooltip","Enable LiLa endpoint","title","Enable LiLa endpoint",1,"btn-group-toggle"],[1,"btn","btn-secondary"],["type","checkbox","autocomplete","off","autocomplete","off","formControlName","lila","name","lila",2,"border-radius",".3rem",3,"click"],["src","../../../../../../../assets/images/graphql.png","alt","Avatar",1,"image",2,"height","20px"],["target","_blank","type","button",1,"btn","btn-primary",3,"href"],[1,"fas","fa-external-link-alt"]],template:function(e,t){1&e&&(a.Rb(0,"form",0),a.Rb(1,"div",1),a.Rb(2,"div",2),a.Rb(3,"div",3),a.Rb(4,"span",4),a.Kc(5,"SAME AS"),a.Qb(),a.Rb(6,"a",5),a.bc("click",function(){return t.addSameAsEntry()}),a.Rb(7,"span",6),a.Mb(8,"i",7),a.Qb(),a.Qb(),a.Rb(9,"div",8),a.Rb(10,"div",9),a.Ic(11,C,4,3,"div",10),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Qb()),2&e&&(a.mc("formGroup",t.sameAsForm),a.yb(11),a.mc("ngForOf",t.sameAsForm.get("sameAsArray").controls))},directives:[i.z,i.o,i.i,i.d,u.m,i.j,u.n,f.a,i.n,i.g,f.c,i.b,d.f,i.a],styles:['@charset "UTF-8";.btn[_ngcontent-%COMP%]{height:38px;border-radius:.25rem!important}.btn[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{font-size:12px}.btn[_ngcontent-%COMP%]{height:32px}.btn[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{font-size:12px}.card[_ngcontent-%COMP%]{width:100%}.card-header[_ngcontent-%COMP%]{padding:5px 18px}[data-toggle=collapse][_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"\uf146"}[data-toggle=collapse].collapsed[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"\uf0fe"}a[_ngcontent-%COMP%]{text-decoration:none!important}.fa[_ngcontent-%COMP%]{margin-top:2px}#accordion[_ngcontent-%COMP%]{width:100%}.text-id[_ngcontent-%COMP%]{left:10px;top:-12px;padding:5px 10px;font-size:12px}.collapse-icon[_ngcontent-%COMP%], .text-id[_ngcontent-%COMP%]{position:absolute;background:#fff;text-align:center;color:#212529}.collapse-icon[_ngcontent-%COMP%]{right:4px;top:-16px;padding:5px;font-size:16px}.badge[_ngcontent-%COMP%]{font-size:11px}.pointer[_ngcontent-%COMP%]{cursor:pointer}.resizeNgSelect[_ngcontent-%COMP%]{width:15%}']}),e}()},"/uUt":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("7o/Q");function o(e,t){return function(n){return n.lift(new r(e,t))}}var r=function(){function e(t,n){_classCallCheck(this,e),this.compare=t,this.keySelector=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.compare,this.keySelector))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o){var r;return _classCallCheck(this,n),(r=t.call(this,e)).keySelector=o,r.hasKey=!1,"function"==typeof i&&(r.compare=i),r}return _createClass(n,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(o){return this.destination.error(o)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,t)}catch(o){return this.destination.error(o)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}]),n}(i.a)},0:function(e,t,n){e.exports=n("zUnb")},"0EUg":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("bHdf");function o(){return Object(i.a)(1)}},"1G5W":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("zx2A");function o(e){return function(t){return t.lift(new r(e))}}var r=function(){function e(t){_classCallCheck(this,e),this.notifier=t}return _createClass(e,[{key:"call",value:function(e,t){var n=new a(e),o=Object(i.c)(this.notifier,new i.a(n));return o&&!n.seenValue?(n.add(o),t.subscribe(n)):n}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).seenValue=!1,i}return _createClass(n,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(i.b)},"1kSV":function(e,t,n){"use strict";n.d(t,"a",function(){return et}),n.d(t,"b",function(){return Lt}),n.d(t,"c",function(){return Ve}),n.d(t,"d",function(){return Ot}),n.d(t,"e",function(){return _t}),n.d(t,"f",function(){return At});var i=n("fXoL"),o=n("ofXK"),r=n("HDdC"),a=n("EY2u"),s=n("LRne"),c=n("XNiG"),l=n("xgIS"),u=n("PqYM"),f=n("DH7j"),d=n("yCtX"),h=n("l7GE"),p=n("ZUHj");function b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){if(!Object(f.a)(t[0]))return t[0];t=t[0]}return Object(d.a)(t,void 0).lift(new g)}var g=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new m(e))}}]),e}(),m=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).hasFirst=!1,i.observables=[],i.subscriptions=[],i}return _createClass(n,[{key:"_next",value:function(e){this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var i=e[n],o=Object(p.a)(this,i,void 0,n);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}}},{key:"notifyNext",value:function(e,t,n){if(!this.hasFirst){this.hasFirst=!0;for(var i=0;i<this.subscriptions.length;i++)if(i!==n){var o=this.subscriptions[i];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(t)}}]),n}(h.a);n("2Vo4"),n("itXk"),n("KqfI");var v=n("7o/Q"),y=n("Lhse"),_=n("zx2A");function C(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[t.length-1];return"function"==typeof i&&t.pop(),Object(d.a)(t,void 0).lift(new k(i))}var k=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new O(e,this.resultSelector))}}]),e}(),O=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;arguments.length>2&&void 0!==arguments[2]||Object.create(null);return _classCallCheck(this,n),(o=t.call(this,e)).resultSelector=i,o.iterators=[],o.active=0,o.resultSelector="function"==typeof i?i:void 0,o}return _createClass(n,[{key:"_next",value:function(e){var t=this.iterators;Object(f.a)(e)?t.push(new w(e)):t.push("function"==typeof e[y.a]?new x(e[y.a]()):new M(this.destination,this,e))}},{key:"_complete",value:function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var i=e[n];i.stillUnsubscribed?this.destination.add(i.subscribe()):this.active--}}else this.destination.complete()}},{key:"notifyInactive",value:function(){this.active--,0===this.active&&this.destination.complete()}},{key:"checkIterators",value:function(){for(var e=this.iterators,t=e.length,n=this.destination,i=0;i<t;i++){var o=e[i];if("function"==typeof o.hasValue&&!o.hasValue())return}for(var r=!1,a=[],s=0;s<t;s++){var c=e[s],l=c.next();if(c.hasCompleted()&&(r=!0),l.done)return void n.complete();a.push(l.value)}this.resultSelector?this._tryresultSelector(a):n.next(a),r&&n.complete()}},{key:"_tryresultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(v.a),x=function(){function e(t){_classCallCheck(this,e),this.iterator=t,this.nextResult=t.next()}return _createClass(e,[{key:"hasValue",value:function(){return!0}},{key:"next",value:function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e}},{key:"hasCompleted",value:function(){var e=this.nextResult;return Boolean(e&&e.done)}}]),e}(),w=function(){function e(t){_classCallCheck(this,e),this.array=t,this.index=0,this.length=0,this.length=t.length}return _createClass(e,[{key:y.a,value:function(){return this}},{key:"next",value:function(e){var t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}},{key:"hasValue",value:function(){return this.array.length>this.index}},{key:"hasCompleted",value:function(){return this.array.length===this.index}}]),e}(),M=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o){var r;return _classCallCheck(this,n),(r=t.call(this,e)).parent=i,r.observable=o,r.stillUnsubscribed=!0,r.buffer=[],r.isComplete=!1,r}return _createClass(n,[{key:y.a,value:function(){return this}},{key:"next",value:function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}},{key:"hasValue",value:function(){return this.buffer.length>0}},{key:"hasCompleted",value:function(){return 0===this.buffer.length&&this.isComplete}},{key:"notifyComplete",value:function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}},{key:"notifyNext",value:function(e){this.buffer.push(e),this.parent.checkIterators()}},{key:"subscribe",value:function(){return Object(_.c)(this.observable,new _.a(this))}}]),n}(_.b),P=n("VRyK"),E=n("GyhO"),S=n("1G5W"),R=n("pLZG"),I=n("IzEk"),A=n("lJxs"),T=(n("JX91"),n("/uUt"),n("eIep")),D=n("vkgz");function j(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new F(t,n))}}var F=function(){function e(t,n){_classCallCheck(this,e),this.observables=t,this.project=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Q(e,this.observables,this.project))}}]),e}(),Q=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o){var r;_classCallCheck(this,n),(r=t.call(this,e)).observables=i,r.project=o,r.toRespond=[];var a=i.length;r.values=new Array(a);for(var s=0;s<a;s++)r.toRespond.push(s);for(var c=0;c<a;c++){var l=i[c];r.add(Object(p.a)(_assertThisInitialized(r),l,void 0,c))}return r}return _createClass(n,[{key:"notifyNext",value:function(e,t,n){this.values[n]=t;var i=this.toRespond;if(i.length>0){var o=i.indexOf(n);-1!==o&&i.splice(o,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(e){if(0===this.toRespond.length){var t=[e].concat(_toConsumableArray(this.values));this.project?this._tryProject(t):this.destination.next(t)}}},{key:"_tryProject",value:function(e){var t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(h.a),L=n("D0XW"),N=n("WMd4");function z(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L.a,i=(t=e)instanceof Date&&!isNaN(+t)?+e-n.now():Math.abs(e);return function(e){return e.lift(new V(i,n))}}var V=function(){function e(t,n){_classCallCheck(this,e),this.delay=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new B(e,this.delay,this.scheduler))}}]),e}(),B=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o){var r;return _classCallCheck(this,n),(r=t.call(this,e)).delay=i,r.scheduler=o,r.queue=[],r.active=!1,r.errored=!1,r}return _createClass(n,[{key:"_schedule",value:function(e){this.active=!0,this.destination.add(e.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}},{key:"scheduleNotification",value:function(e){if(!0!==this.errored){var t=this.scheduler,n=new U(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}}},{key:"_next",value:function(e){this.scheduleNotification(N.a.createNext(e))}},{key:"_error",value:function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(N.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){for(var t=e.source,n=t.queue,i=e.scheduler,o=e.destination;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(o);if(n.length>0){var r=Math.max(0,n[0].time-i.now());this.schedule(e,r)}else this.unsubscribe(),t.active=!1}}]),n}(v.a),U=function e(t,n){_classCallCheck(this,e),this.time=t,this.notification=n},H=n("5+tZ"),K=n("w1tV"),q=n("3Pt+"),$=["*"],W=["dialog"];function G(e,t){if(1&e&&i.Kc(0),2&e){var n=i.fc(2);i.Lc(n.title)}}function Y(e,t){}function X(e,t){if(1&e&&(i.Rb(0,"h3",3),i.Ic(1,G,1,1,"ng-template",null,4,i.Jc),i.Ic(3,Y,0,0,"ng-template",5),i.Qb()),2&e){var n=i.vc(2),o=i.fc();i.yb(3),i.mc("ngTemplateOutlet",o.isTitleTemplate()?o.title:n)("ngTemplateOutletContext",o.context)}}function Z(e){return null!=e}function J(e){return(e||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var ee,te,ne,ie,oe,re,ae=!0,se=5,ce=((ee=function e(){_classCallCheck(this,e),this.animation=ae}).\u0275fac=function(e){return new(e||ee)},ee.\u0275prov=Object(i.Hb)({factory:function(){return new ee},token:ee,providedIn:"root"}),ee),le=function(){},ue=se,fe=new Map,de=function(e,t,n,i){var o=i.context||{},f=fe.get(t);if(f)switch(i.runningTransition){case"continue":return a.a;case"stop":e.run(function(){return f.transition$.complete()}),o=Object.assign(f.context,o),fe.delete(t)}var d=n(t,i.animation,o)||le;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return e.run(function(){return d()}),Object(s.a)(void 0).pipe(function(e){return function(t){return new r.a(function(n){return t.subscribe(function(t){return e.run(function(){return n.next(t)})},function(t){return e.run(function(){return n.error(t)})},function(){return e.run(function(){return n.complete()})})})}}(e));var h=new c.a,p=new c.a,g=h.pipe(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return Object(E.a)(e,Object(s.a).apply(void 0,t))}}(!0));fe.set(t,{transition$:h,complete:function(){p.next(),p.complete()},context:o});var m=function(e){var t=window.getComputedStyle(e),n=t.transitionDelay,i=t.transitionDuration;return 1e3*(parseFloat(n)+parseFloat(i))}(t);return e.runOutsideAngular(function(){var n=Object(l.a)(t,"transitionend").pipe(Object(S.a)(g),Object(R.a)(function(e){return e.target===t}));b(Object(u.a)(m+ue).pipe(Object(S.a)(g)),n,p).pipe(Object(S.a)(g)).subscribe(function(){fe.delete(t),e.run(function(){d(),h.next(),h.complete()})})}),h.asObservable()},he=((re=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:re}),re.\u0275inj=i.Ib({factory:function(e){return new(e||re)},imports:[[o.b]]}),re),pe=((oe=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:oe}),oe.\u0275inj=i.Ib({factory:function(e){return new(e||oe)},imports:[[o.b]]}),oe),be=((ie=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:ie}),ie.\u0275inj=i.Ib({factory:function(e){return new(e||ie)}}),ie),ge=((ne=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:ne}),ne.\u0275inj=i.Ib({factory:function(e){return new(e||ne)},imports:[[o.b]]}),ne),me=((te=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:te}),te.\u0275inj=i.Ib({factory:function(e){return new(e||te)}}),te),ve=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}({}),ye=function(e,t){return!!t&&t.some(function(t){return t.contains(e)})},_e=function(e,t){return!t||null!=function(e,t){return t?void 0===e.closest?null:e.closest(t):null}(e,t)},Ce="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function ke(e,t,n,i,o,r,a,s){var c;n&&e.runOutsideAngular((c=function(){var c=Object(l.a)(t,"keydown").pipe(Object(S.a)(o),Object(R.a)(function(e){return e.which===ve.Escape}),Object(D.a)(function(e){return e.preventDefault()})),u=Object(l.a)(t,"mousedown").pipe(Object(A.a)(function(e){var t=e.target;return 2!==e.button&&!ye(t,a)&&("inside"===n?ye(t,r)&&_e(t,s):"outside"===n?!ye(t,r):_e(t,s)||!ye(t,r))}),Object(S.a)(o)),f=Object(l.a)(t,"mouseup").pipe(j(u),Object(R.a)(function(e){var t=_slicedToArray(e,2);t[0];return t[1]}),z(0),Object(S.a)(o));b([c.pipe(Object(A.a)(function(e){return 0})),f.pipe(Object(A.a)(function(e){return 1}))]).subscribe(function(t){return e.run(function(){return i(t)})})},Ce?function(){return setTimeout(function(){return c()},100)}:c))}var Oe=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function xe(e){var t=Array.from(e.querySelectorAll(Oe)).filter(function(e){return-1!==e.tabIndex});return[t[0],t[t.length-1]]}var we=/\s+/,Me=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getAllStyles",value:function(e){return window.getComputedStyle(e)}},{key:"getStyle",value:function(e,t){return this.getAllStyles(e)[t]}},{key:"isStaticPositioned",value:function(e){return"static"===(this.getStyle(e,"position")||"static")}},{key:"offsetParent",value:function(e){for(var t=e.offsetParent||document.documentElement;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}},{key:"position",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))t={top:(t=e.getBoundingClientRect()).top,bottom:t.bottom,left:t.left,right:t.right,height:t.height,width:t.width};else{var o=this.offsetParent(e);t=this.offset(e,!1),o!==document.documentElement&&(i=this.offset(o,!1)),i.top+=o.clientTop,i.left+=o.clientLeft}return t.top-=i.top,t.bottom-=i.top,t.left-=i.left,t.right-=i.left,n&&(t.top=Math.round(t.top),t.bottom=Math.round(t.bottom),t.left=Math.round(t.left),t.right=Math.round(t.right)),t}},{key:"offset",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.getBoundingClientRect(),i=window.pageYOffset-document.documentElement.clientTop,o=window.pageXOffset-document.documentElement.clientLeft,r={height:n.height||e.offsetHeight,width:n.width||e.offsetWidth,top:n.top+i,bottom:n.bottom+i,left:n.left+o,right:n.right+o};return t&&(r.height=Math.round(r.height),r.width=Math.round(r.width),r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r}},{key:"positionElements",value:function(e,t,n,i){var o=_slicedToArray(n.split("-"),2),r=o[0],a=void 0===r?"top":r,s=o[1],c=void 0===s?"center":s,l=i?this.offset(e,!1):this.position(e,!1),u=this.getAllStyles(t),f=parseFloat(u.marginTop),d=parseFloat(u.marginBottom),h=parseFloat(u.marginLeft),p=parseFloat(u.marginRight),b=0,g=0;switch(a){case"top":b=l.top-(t.offsetHeight+f+d);break;case"bottom":b=l.top+l.height;break;case"left":g=l.left-(t.offsetWidth+h+p);break;case"right":g=l.left+l.width}switch(c){case"top":b=l.top;break;case"bottom":b=l.top+l.height-t.offsetHeight;break;case"left":g=l.left;break;case"right":g=l.left+l.width-t.offsetWidth;break;case"center":"top"===a||"bottom"===a?g=l.left+l.width/2-t.offsetWidth/2:b=l.top+l.height/2-t.offsetHeight/2}t.style.transform="translate(".concat(Math.round(g),"px, ").concat(Math.round(b),"px)");var m=t.getBoundingClientRect(),v=document.documentElement,y=window.innerHeight||v.clientHeight,_=window.innerWidth||v.clientWidth;return m.left>=0&&m.top>=0&&m.right<=_&&m.bottom<=y}}]),e}());function Pe(e,t,n,i,o){var r=Array.isArray(n)?n:n.split(we),a=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],s=t.classList,c=function(e){var t=_slicedToArray(e.split("-"),2),n=t[0],i=t[1],r=[];return o&&(r.push("".concat(o,"-").concat(n)),i&&r.push("".concat(o,"-").concat(n,"-").concat(i)),r.forEach(function(e){s.add(e)})),r};o&&a.forEach(function(e){s.remove("".concat(o,"-").concat(e))});var l=r.findIndex(function(e){return"auto"===e});l>=0&&a.forEach(function(e){null==r.find(function(t){return-1!==t.search("^"+e)})&&r.splice(l++,1,e)});var u=t.style;u.position="absolute",u.top="0",u.left="0",u["will-change"]="transform";var f,d=null,h=!1,p=_createForOfIteratorHelper(r);try{for(p.s();!(f=p.n()).done;){var b=c(d=f.value);if(Me.positionElements(e,t,d,i)){h=!0;break}o&&b.forEach(function(e){s.remove(e)})}}catch(g){p.e(g)}finally{p.f()}return h||(c(d=r[0]),Me.positionElements(e,t,d,i)),d}new Date(1882,10,12),new Date(2174,10,25);var Ee,Se,Re,Ie,Ae,Te,De,je,Fe,Qe,Le,Ne,ze=((Ie=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:Ie}),Ie.\u0275inj=i.Ib({factory:function(e){return new(e||Ie)},imports:[[o.b,q.k]]}),Ie),Ve=((Re=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Re)},Re.\u0275dir=i.Gb({type:Re,selectors:[["",8,"navbar"]]}),Re),Be=((Se=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:Se}),Se.\u0275inj=i.Ib({factory:function(e){return new(e||Se)}}),Se),Ue=((Ee=function(){function e(t){_classCallCheck(this,e),this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}return _createClass(e,[{key:"animation",get:function(){return void 0===this._animation?this._ngbConfig.animation:this._animation},set:function(e){this._animation=e}}]),e}()).\u0275fac=function(e){return new(e||Ee)(i.Yb(ce))},Ee.\u0275prov=Object(i.Hb)({factory:function(){return new Ee(Object(i.Yb)(ce))},token:Ee,providedIn:"root"}),Ee),He=function e(t,n,i){_classCallCheck(this,e),this.nodes=t,this.viewRef=n,this.componentRef=i},Ke=function(){function e(t,n,i,o,r,a,s){_classCallCheck(this,e),this._type=t,this._injector=n,this._viewContainerRef=i,this._renderer=o,this._ngZone=r,this._componentFactoryResolver=a,this._applicationRef=s,this._windowRef=null,this._contentRef=null}return _createClass(e,[{key:"open",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._windowRef||(this._contentRef=this._getContentRef(e,t),this._windowRef=this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(this._type),this._viewContainerRef.length,this._injector,this._contentRef.nodes));var o=this._windowRef.location.nativeElement,r=this._ngZone.onStable.pipe(Object(I.a)(1),Object(H.a)(function(){return de(n._ngZone,o,function(e){return e.classList.add("show")},{animation:i,runningTransition:"continue"})}));return{windowRef:this._windowRef,transition$:r}}},{key:"close",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._windowRef?de(this._ngZone,this._windowRef.location.nativeElement,function(e){return e.classList.remove("show")},{animation:t,runningTransition:"stop"}).pipe(Object(D.a)(function(){var t;e._windowRef&&(e._viewContainerRef.remove(e._viewContainerRef.indexOf(e._windowRef.hostView)),e._windowRef=null),(null===(t=e._contentRef)||void 0===t?void 0:t.viewRef)&&(e._applicationRef.detachView(e._contentRef.viewRef),e._contentRef.viewRef.destroy(),e._contentRef=null)})):Object(s.a)(void 0)}},{key:"_getContentRef",value:function(e,t){if(e){if(e instanceof i.L){var n=e.createEmbeddedView(t);return this._applicationRef.attachView(n),new He([n.rootNodes],n)}return new He([[this._renderer.createText(""+e)]])}return new He([])}}]),e}(),qe=function(){},$e=((Te=function(){function e(t){_classCallCheck(this,e),this._document=t}return _createClass(e,[{key:"compensate",value:function(){var e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):qe}},{key:"_adjustBody",value:function(e){var t=this._document.body,n=t.style.paddingRight,i=parseFloat(window.getComputedStyle(t)["padding-right"]);return t.style["padding-right"]=i+e+"px",function(){return t.style["padding-right"]=n}}},{key:"_isPresent",value:function(e){var t=this._document.body.getBoundingClientRect();return window.innerWidth-(t.left+t.right)>=e-.1*e}},{key:"_getWidth",value:function(){var e=this._document.createElement("div");e.className="modal-scrollbar-measure";var t=this._document.body;t.appendChild(e);var n=e.getBoundingClientRect().width-e.clientWidth;return t.removeChild(e),n}}]),e}()).\u0275fac=function(e){return new(e||Te)(i.Yb(o.c))},Te.\u0275prov=Object(i.Hb)({factory:function(){return new Te(Object(i.Yb)(o.c))},token:Te,providedIn:"root"}),Te),We=((Ae=function(){function e(t,n){_classCallCheck(this,e),this._el=t,this._zone=n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._zone.onStable.asObservable().pipe(Object(I.a)(1)).subscribe(function(){de(e._zone,e._el.nativeElement,function(e,t){t&&J(e),e.classList.add("show")},{animation:e.animation,runningTransition:"continue"})})}},{key:"hide",value:function(){return de(this._zone,this._el.nativeElement,function(e){return e.classList.remove("show")},{animation:this.animation,runningTransition:"stop"})}}]),e}()).\u0275fac=function(e){return new(e||Ae)(i.Lb(i.l),i.Lb(i.z))},Ae.\u0275cmp=i.Fb({type:Ae,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,t){2&e&&(i.Ab("modal-backdrop"+(t.backdropClass?" "+t.backdropClass:"")),i.Db("show",!t.animation)("fade",t.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),Ae),Ge=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"close",value:function(e){}},{key:"dismiss",value:function(e){}}]),e}(),Ye=function(){function e(t,n,i,o){var r=this;_classCallCheck(this,e),this._windowCmptRef=t,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=o,this._closed=new c.a,this._dismissed=new c.a,this._hidden=new c.a,t.instance.dismissEvent.subscribe(function(e){r.dismiss(e)}),this.result=new Promise(function(e,t){r._resolve=e,r._reject=t}),this.result.then(null,function(){})}return _createClass(e,[{key:"close",value:function(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}},{key:"_dismiss",value:function(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}},{key:"dismiss",value:function(e){var t=this;if(this._windowCmptRef)if(this._beforeDismiss){var n=this._beforeDismiss();n&&n.then?n.then(function(n){!1!==n&&t._dismiss(e)},function(){}):!1!==n&&this._dismiss(e)}else this._dismiss(e)}},{key:"_removeModalElements",value:function(){var e=this,t=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(s.a)(void 0);t.subscribe(function(){var t=e._windowCmptRef.location.nativeElement;t.parentNode.removeChild(t),e._windowCmptRef.destroy(),e._contentRef&&e._contentRef.viewRef&&e._contentRef.viewRef.destroy(),e._windowCmptRef=null,e._contentRef=null}),n.subscribe(function(){if(e._backdropCmptRef){var t=e._backdropCmptRef.location.nativeElement;t.parentNode.removeChild(t),e._backdropCmptRef.destroy(),e._backdropCmptRef=null}}),C(t,n).subscribe(function(){e._hidden.next(),e._hidden.complete()})}},{key:"componentInstance",get:function(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}},{key:"closed",get:function(){return this._closed.asObservable().pipe(Object(S.a)(this._hidden))}},{key:"dismissed",get:function(){return this._dismissed.asObservable().pipe(Object(S.a)(this._hidden))}},{key:"hidden",get:function(){return this._hidden.asObservable()}},{key:"shown",get:function(){return this._windowCmptRef.instance.shown.asObservable()}}]),e}(),Xe=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}({}),Ze=((Ne=function(){function e(t,n,o){_classCallCheck(this,e),this._document=t,this._elRef=n,this._zone=o,this._closed$=new c.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new i.n,this.shown=new c.a,this.hidden=new c.a}return _createClass(e,[{key:"dismiss",value:function(e){this.dismissEvent.emit(e)}},{key:"ngOnInit",value:function(){var e=this;this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Object(I.a)(1)).subscribe(function(){e._show()})}},{key:"ngOnDestroy",value:function(){this._disableEventHandling()}},{key:"hide",value:function(){var e=this,t=this._elRef.nativeElement,n={animation:this.animation,runningTransition:"stop"},i=C(de(this._zone,t,function(){return t.classList.remove("show")},n),de(this._zone,this._dialogEl.nativeElement,function(){},n));return i.subscribe(function(){e.hidden.next(),e.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),i}},{key:"_show",value:function(){var e=this,t={animation:this.animation,runningTransition:"continue"};C(de(this._zone,this._elRef.nativeElement,function(e,t){t&&J(e),e.classList.add("show")},t),de(this._zone,this._dialogEl.nativeElement,function(){},t)).subscribe(function(){e.shown.next(),e.shown.complete()}),this._enableEventHandling(),this._setFocus()}},{key:"_enableEventHandling",value:function(){var e=this,t=this._elRef.nativeElement;this._zone.runOutsideAngular(function(){Object(l.a)(t,"keydown").pipe(Object(S.a)(e._closed$),Object(R.a)(function(e){return e.which===ve.Escape})).subscribe(function(t){e.keyboard?requestAnimationFrame(function(){t.defaultPrevented||e._zone.run(function(){return e.dismiss(Xe.ESC)})}):"static"===e.backdrop&&e._bumpBackdrop()});var n=!1;Object(l.a)(e._dialogEl.nativeElement,"mousedown").pipe(Object(S.a)(e._closed$),Object(D.a)(function(){return n=!1}),Object(T.a)(function(){return Object(l.a)(t,"mouseup").pipe(Object(S.a)(e._closed$),Object(I.a)(1))}),Object(R.a)(function(e){var n=e.target;return t===n})).subscribe(function(){n=!0}),Object(l.a)(t,"click").pipe(Object(S.a)(e._closed$)).subscribe(function(i){var o=i.target;t===o&&("static"===e.backdrop?e._bumpBackdrop():!0!==e.backdrop||n||e._zone.run(function(){return e.dismiss(Xe.BACKDROP_CLICK)})),n=!1})})}},{key:"_disableEventHandling",value:function(){this._closed$.next()}},{key:"_setFocus",value:function(){var e=this._elRef.nativeElement;if(!e.contains(document.activeElement)){var t=e.querySelector("[ngbAutofocus]"),n=xe(e)[0];(t||n||e).focus()}}},{key:"_restoreFocus",value:function(){var e,t=this,n=this._document.body,i=this._elWithFocus;e=i&&i.focus&&n.contains(i)?i:n,this._zone.runOutsideAngular(function(){setTimeout(function(){return e.focus()}),t._elWithFocus=null})}},{key:"_bumpBackdrop",value:function(){"static"===this.backdrop&&de(this._zone,this._elRef.nativeElement,function(e){var t=e.classList;return t.add("modal-static"),function(){return t.remove("modal-static")}},{animation:this.animation,runningTransition:"continue"})}}]),e}()).\u0275fac=function(e){return new(e||Ne)(i.Lb(o.c),i.Lb(i.l),i.Lb(i.z))},Ne.\u0275cmp=i.Fb({type:Ne,selectors:[["ngb-modal-window"]],viewQuery:function(e,t){var n;1&e&&i.Fc(W,!0),2&e&&i.uc(n=i.cc())&&(t._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,t){2&e&&(i.zb("aria-modal",!0)("aria-labelledby",t.ariaLabelledBy)("aria-describedby",t.ariaDescribedBy),i.Ab("modal d-block"+(t.windowClass?" "+t.windowClass:"")),i.Db("fade",t.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:$,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,t){1&e&&(i.lc(),i.Rb(0,"div",0,1),i.Rb(2,"div",2),i.kc(3),i.Qb(),i.Qb()),2&e&&i.Ab("modal-dialog"+(t.size?" modal-"+t.size:"")+(t.centered?" modal-dialog-centered":"")+(t.scrollable?" modal-dialog-scrollable":"")+(t.modalDialogClass?" "+t.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),Ne),Je=((Le=function(){function e(t,n,o,r,a,s){var u=this;_classCallCheck(this,e),this._applicationRef=t,this._injector=n,this._document=o,this._scrollBar=r,this._rendererFactory=a,this._ngZone=s,this._activeWindowCmptHasChanged=new c.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new i.n,this._activeWindowCmptHasChanged.subscribe(function(){if(u._windowCmpts.length){var e=u._windowCmpts[u._windowCmpts.length-1];(function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];u._ngZone.runOutsideAngular(function(){var e=Object(l.a)(t,"focusin").pipe(Object(S.a)(n),Object(A.a)(function(e){return e.target}));Object(l.a)(t,"keydown").pipe(Object(S.a)(n),Object(R.a)(function(e){return e.which===ve.Tab}),j(e)).subscribe(function(e){var n=_slicedToArray(e,2),i=n[0],o=n[1],r=_slicedToArray(xe(t),2),a=r[0],s=r[1];o!==a&&o!==t||!i.shiftKey||(s.focus(),i.preventDefault()),o!==s||i.shiftKey||(a.focus(),i.preventDefault())}),i&&Object(l.a)(t,"click").pipe(Object(S.a)(n),j(e),Object(A.a)(function(e){return e[1]})).subscribe(function(e){return e.focus()})})})(0,e.location.nativeElement,u._activeWindowCmptHasChanged),u._revertAriaHidden(),u._setAriaHidden(e.location.nativeElement)}})}return _createClass(e,[{key:"open",value:function(e,t,n,i){var o=this,r=i.container instanceof HTMLElement?i.container:Z(i.container)?this._document.querySelector(i.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),c=function(){o._modalRefs.length||(a.removeClass(o._document.body,"modal-open"),o._revertAriaHidden())};if(!r)throw new Error('The specified modal container "'.concat(i.container||"body",'" was not found in the DOM.'));var l=new Ge,u=this._getContentRef(e,i.injector||t,n,l,i),f=!1!==i.backdrop?this._attachBackdrop(e,r):void 0,d=this._attachWindowComponent(e,r,u),h=new Ye(d,u,f,i.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(d),h.result.then(s,s),h.result.then(c,c),l.close=function(e){h.close(e)},l.dismiss=function(e){h.dismiss(e)},this._applyWindowOptions(d.instance,i),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),f&&f.instance&&(this._applyBackdropOptions(f.instance,i),f.changeDetectorRef.detectChanges()),d.changeDetectorRef.detectChanges(),h}},{key:"dismissAll",value:function(e){this._modalRefs.forEach(function(t){return t.dismiss(e)})}},{key:"hasOpenModals",value:function(){return this._modalRefs.length>0}},{key:"_attachBackdrop",value:function(e,t){var n=e.resolveComponentFactory(We).create(this._injector);return this._applicationRef.attachView(n.hostView),t.appendChild(n.location.nativeElement),n}},{key:"_attachWindowComponent",value:function(e,t,n){var i=e.resolveComponentFactory(Ze).create(this._injector,n.nodes);return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}},{key:"_applyWindowOptions",value:function(e,t){this._windowAttributes.forEach(function(n){Z(t[n])&&(e[n]=t[n])})}},{key:"_applyBackdropOptions",value:function(e,t){this._backdropAttributes.forEach(function(n){Z(t[n])&&(e[n]=t[n])})}},{key:"_getContentRef",value:function(e,t,n,o,r){return n?n instanceof i.L?this._createFromTemplateRef(n,o):"string"==typeof n?this._createFromString(n):this._createFromComponent(e,t,n,o,r):new He([])}},{key:"_createFromTemplateRef",value:function(e,t){var n=e.createEmbeddedView({$implicit:t,close:function(e){t.close(e)},dismiss:function(e){t.dismiss(e)}});return this._applicationRef.attachView(n),new He([n.rootNodes],n)}},{key:"_createFromString",value:function(e){var t=this._document.createTextNode(""+e);return new He([[t]])}},{key:"_createFromComponent",value:function(e,t,n,o,r){var a=e.resolveComponentFactory(n),s=i.r.create({providers:[{provide:Ge,useValue:o}],parent:t}),c=a.create(s),l=c.location.nativeElement;return r.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new He([[l]],c.hostView,c)}},{key:"_setAriaHidden",value:function(e){var t=this,n=e.parentElement;n&&e!==this._document.body&&(Array.from(n.children).forEach(function(n){n!==e&&"SCRIPT"!==n.nodeName&&(t._ariaHiddenValues.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}},{key:"_revertAriaHidden",value:function(){this._ariaHiddenValues.forEach(function(e,t){e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}},{key:"_registerModalRef",value:function(e){var t=this,n=function(){var n=t._modalRefs.indexOf(e);n>-1&&(t._modalRefs.splice(n,1),t._activeInstances.emit(t._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(n,n)}},{key:"_registerWindowCmpt",value:function(e){var t=this;this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(function(){var n=t._windowCmpts.indexOf(e);n>-1&&(t._windowCmpts.splice(n,1),t._activeWindowCmptHasChanged.next())})}},{key:"activeInstances",get:function(){return this._activeInstances}}]),e}()).\u0275fac=function(e){return new(e||Le)(i.Yb(i.g),i.Yb(i.r),i.Yb(o.c),i.Yb($e),i.Yb(i.F),i.Yb(i.z))},Le.\u0275prov=Object(i.Hb)({factory:function(){return new Le(Object(i.Yb)(i.g),Object(i.Yb)(i.o),Object(i.Yb)(o.c),Object(i.Yb)($e),Object(i.Yb)(i.F),Object(i.Yb)(i.z))},token:Le,providedIn:"root"}),Le),et=((Qe=function(){function e(t,n,i,o){_classCallCheck(this,e),this._moduleCFR=t,this._injector=n,this._modalStack=i,this._config=o}return _createClass(e,[{key:"open",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),t);return this._modalStack.open(this._moduleCFR,this._injector,e,n)}},{key:"dismissAll",value:function(e){this._modalStack.dismissAll(e)}},{key:"hasOpenModals",value:function(){return this._modalStack.hasOpenModals()}},{key:"activeInstances",get:function(){return this._modalStack.activeInstances}}]),e}()).\u0275fac=function(e){return new(e||Qe)(i.Yb(i.j),i.Yb(i.r),i.Yb(Je),i.Yb(Ue))},Qe.\u0275prov=Object(i.Hb)({factory:function(){return new Qe(Object(i.Yb)(i.j),Object(i.Yb)(i.o),Object(i.Yb)(Je),Object(i.Yb)(Ue))},token:Qe,providedIn:"root"}),Qe),tt=((Fe=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:Fe}),Fe.\u0275inj=i.Ib({factory:function(e){return new(e||Fe)},providers:[et]}),Fe),nt=((je=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:je}),je.\u0275inj=i.Ib({factory:function(e){return new(e||je)},imports:[[o.b]]}),je),it=((De=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:De}),De.\u0275inj=i.Ib({factory:function(e){return new(e||De)},imports:[[o.b]]}),De),ot=function(){function e(t,n){_classCallCheck(this,e),this.open=t,this.close=n,n||(this.close=t)}return _createClass(e,[{key:"isManual",value:function(){return"manual"===this.open||"manual"===this.close}}]),e}(),rt={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},at=function(e){return e>0?z(e):function(e){return e}};function st(e,t,n,i,o,a){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rt,n=(e||"").trim();if(0===n.length)return[];var i=n.split(/\s+/).map(function(e){return e.split(":")}).map(function(e){var n=t[e[0]]||e;return new ot(n[0],n[1])}),o=i.filter(function(e){return e.isManual()});if(o.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===o.length&&i.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return i}(n);if(1===l.length&&l[0].isManual())return function(){};var u=function(e,t,n,i){return new r.a(function(o){var r=[],a=function(){return o.next(!0)},s=function(){return o.next(!1)},c=function(){return o.next(!i())};return n.forEach(function(n){n.open===n.close?r.push(e.listen(t,n.open,c)):r.push(e.listen(t,n.open,a),e.listen(t,n.close,s))}),function(){r.forEach(function(e){return e()})}})}(e,t,l,i).pipe(function(e,t,n){return function(i){var o=null,r=i.pipe(Object(A.a)(function(e){return{open:e}}),Object(R.a)(function(e){var t=n();return t===e.open||o&&o.open!==t?(o&&o.open!==e.open&&(o=null),!1):(o=e,!0)}),Object(K.a)()),a=r.pipe(Object(R.a)(function(e){return e.open}),at(e)),s=r.pipe(Object(R.a)(function(e){return!e.open}),at(t));return Object(P.a)(a,s).pipe(Object(R.a)(function(e){return e===o&&(o=null,e.open!==n())}),Object(A.a)(function(e){return e.open}))}}(s,c,i)).subscribe(function(e){return e?o():a()});return function(){return u.unsubscribe()}}var ct,lt,ut,ft,dt,ht,pt,bt,gt,mt,vt,yt,_t=((yt=function(){function e(t){_classCallCheck(this,e),this._ngbConfig=t,this.autoClose=!0,this.placement="auto",this.triggers="click",this.disablePopover=!1,this.openDelay=0,this.closeDelay=0}return _createClass(e,[{key:"animation",get:function(){return void 0===this._animation?this._ngbConfig.animation:this._animation},set:function(e){this._animation=e}}]),e}()).\u0275fac=function(e){return new(e||yt)(i.Yb(ce))},yt.\u0275prov=Object(i.Hb)({factory:function(){return new yt(Object(i.Yb)(ce))},token:yt,providedIn:"root"}),yt),Ct=0,kt=((vt=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"isTitleTemplate",value:function(){return this.title instanceof i.L}}]),e}()).\u0275fac=function(e){return new(e||vt)},vt.\u0275cmp=i.Fb({type:vt,selectors:[["ngb-popover-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(e,t){2&e&&(i.Ub("id",t.id),i.Ab("popover"+(t.popoverClass?" "+t.popoverClass:"")),i.Db("fade",t.animation))},inputs:{animation:"animation",title:"title",id:"id",popoverClass:"popoverClass",context:"context"},ngContentSelectors:$,decls:4,vars:1,consts:[[1,"arrow"],["class","popover-header",4,"ngIf"],[1,"popover-body"],[1,"popover-header"],["simpleTitle",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(i.lc(),i.Mb(0,"div",0),i.Ic(1,X,4,2,"h3",1),i.Rb(2,"div",2),i.kc(3),i.Qb()),2&e&&(i.yb(1),i.mc("ngIf",t.title))},directives:[o.n,o.p],styles:["ngb-popover-window.bs-popover-bottom>.arrow,ngb-popover-window.bs-popover-top>.arrow{left:50%;margin-left:-.5rem}ngb-popover-window.bs-popover-bottom-left>.arrow,ngb-popover-window.bs-popover-top-left>.arrow{left:2em}ngb-popover-window.bs-popover-bottom-right>.arrow,ngb-popover-window.bs-popover-top-right>.arrow{left:auto;right:2em}ngb-popover-window.bs-popover-left>.arrow,ngb-popover-window.bs-popover-right>.arrow{margin-top:-.5rem;top:50%}ngb-popover-window.bs-popover-left-top>.arrow,ngb-popover-window.bs-popover-right-top>.arrow{top:.7em}ngb-popover-window.bs-popover-left-bottom>.arrow,ngb-popover-window.bs-popover-right-bottom>.arrow{bottom:.7em;top:auto}"],encapsulation:2,changeDetection:0}),vt),Ot=((mt=function(){function e(t,n,o,r,a,s,c,l,u,f){var d=this;_classCallCheck(this,e),this._elementRef=t,this._renderer=n,this._ngZone=c,this._document=l,this._changeDetector=u,this.shown=new i.n,this.hidden=new i.n,this._ngbPopoverWindowId="ngb-popover-"+Ct++,this._windowRef=null,this.animation=s.animation,this.autoClose=s.autoClose,this.placement=s.placement,this.triggers=s.triggers,this.container=s.container,this.disablePopover=s.disablePopover,this.popoverClass=s.popoverClass,this.openDelay=s.openDelay,this.closeDelay=s.closeDelay,this._popupService=new Ke(kt,o,a,n,this._ngZone,r,f),this._zoneSubscription=c.onStable.subscribe(function(){d._windowRef&&Pe(d._elementRef.nativeElement,d._windowRef.location.nativeElement,d.placement,"body"===d.container,"bs-popover")})}return _createClass(e,[{key:"_isDisabled",value:function(){return!!this.disablePopover||!this.ngbPopover&&!this.popoverTitle}},{key:"open",value:function(e){var t=this;if(!this._windowRef&&!this._isDisabled()){var n=this._popupService.open(this.ngbPopover,e,this.animation),i=n.windowRef,o=n.transition$;this._windowRef=i,this._windowRef.instance.animation=this.animation,this._windowRef.instance.title=this.popoverTitle,this._windowRef.instance.context=e,this._windowRef.instance.popoverClass=this.popoverClass,this._windowRef.instance.id=this._ngbPopoverWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbPopoverWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),ke(this._ngZone,this._document,this.autoClose,function(){return t.close()},this.hidden,[this._windowRef.location.nativeElement]),o.subscribe(function(){return t.shown.emit()})}}},{key:"close",value:function(){var e=this;this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(this.animation).subscribe(function(){e._windowRef=null,e.hidden.emit(),e._changeDetector.markForCheck()}))}},{key:"toggle",value:function(){this._windowRef?this.close():this.open()}},{key:"isOpen",value:function(){return null!=this._windowRef}},{key:"ngOnInit",value:function(){this._unregisterListenersFn=st(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}},{key:"ngOnChanges",value:function(e){var t=e.ngbPopover,n=e.popoverTitle,i=e.disablePopover,o=e.popoverClass;o&&this.isOpen()&&(this._windowRef.instance.popoverClass=o.currentValue),(t||n||i)&&this._isDisabled()&&this.close()}},{key:"ngOnDestroy",value:function(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||mt)(i.Lb(i.l),i.Lb(i.E),i.Lb(i.r),i.Lb(i.j),i.Lb(i.P),i.Lb(_t),i.Lb(i.z),i.Lb(o.c),i.Lb(i.h),i.Lb(i.g))},mt.\u0275dir=i.Gb({type:mt,selectors:[["","ngbPopover",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disablePopover:"disablePopover",popoverClass:"popoverClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbPopover:"ngbPopover",popoverTitle:"popoverTitle"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbPopover"],features:[i.wb]}),mt),xt=((gt=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:gt}),gt.\u0275inj=i.Ib({factory:function(e){return new(e||gt)},imports:[[o.b]]}),gt),wt=((bt=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:bt}),bt.\u0275inj=i.Ib({factory:function(e){return new(e||bt)},imports:[[o.b]]}),bt),Mt=((pt=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:pt}),pt.\u0275inj=i.Ib({factory:function(e){return new(e||pt)},imports:[[o.b]]}),pt),Pt=((ht=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:ht}),ht.\u0275inj=i.Ib({factory:function(e){return new(e||ht)},imports:[[o.b]]}),ht),Et=((dt=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:dt}),dt.\u0275inj=i.Ib({factory:function(e){return new(e||dt)},imports:[[o.b]]}),dt),St=((ft=function(){function e(t){_classCallCheck(this,e),this._ngbConfig=t,this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}return _createClass(e,[{key:"animation",get:function(){return void 0===this._animation?this._ngbConfig.animation:this._animation},set:function(e){this._animation=e}}]),e}()).\u0275fac=function(e){return new(e||ft)(i.Yb(ce))},ft.\u0275prov=Object(i.Hb)({factory:function(){return new ft(Object(i.Yb)(ce))},token:ft,providedIn:"root"}),ft),Rt=0,It=((ut=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||ut)},ut.\u0275cmp=i.Fb({type:ut,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(e,t){2&e&&(i.Ub("id",t.id),i.Ab("tooltip"+(t.tooltipClass?" "+t.tooltipClass:"")),i.Db("fade",t.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:$,decls:3,vars:0,consts:[[1,"arrow"],[1,"tooltip-inner"]],template:function(e,t){1&e&&(i.lc(),i.Mb(0,"div",0),i.Rb(1,"div",1),i.kc(2),i.Qb())},styles:["ngb-tooltip-window{pointer-events:none}ngb-tooltip-window .tooltip-inner{pointer-events:auto}ngb-tooltip-window.bs-tooltip-bottom .arrow,ngb-tooltip-window.bs-tooltip-top .arrow{left:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-bottom-left .arrow,ngb-tooltip-window.bs-tooltip-top-left .arrow{left:1em}ngb-tooltip-window.bs-tooltip-bottom-right .arrow,ngb-tooltip-window.bs-tooltip-top-right .arrow{left:auto;right:.8rem}ngb-tooltip-window.bs-tooltip-left .arrow,ngb-tooltip-window.bs-tooltip-right .arrow{top:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-left-top .arrow,ngb-tooltip-window.bs-tooltip-right-top .arrow{top:.4rem}ngb-tooltip-window.bs-tooltip-left-bottom .arrow,ngb-tooltip-window.bs-tooltip-right-bottom .arrow{bottom:.4rem;top:auto}"],encapsulation:2,changeDetection:0}),ut),At=((lt=function(){function e(t,n,o,r,a,s,c,l,u,f){var d=this;_classCallCheck(this,e),this._elementRef=t,this._renderer=n,this._ngZone=c,this._document=l,this._changeDetector=u,this.shown=new i.n,this.hidden=new i.n,this._ngbTooltipWindowId="ngb-tooltip-"+Rt++,this._windowRef=null,this.animation=s.animation,this.autoClose=s.autoClose,this.placement=s.placement,this.triggers=s.triggers,this.container=s.container,this.disableTooltip=s.disableTooltip,this.tooltipClass=s.tooltipClass,this.openDelay=s.openDelay,this.closeDelay=s.closeDelay,this._popupService=new Ke(It,o,a,n,this._ngZone,r,f),this._zoneSubscription=c.onStable.subscribe(function(){d._windowRef&&Pe(d._elementRef.nativeElement,d._windowRef.location.nativeElement,d.placement,"body"===d.container,"bs-tooltip")})}return _createClass(e,[{key:"open",value:function(e){var t=this;if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){var n=this._popupService.open(this._ngbTooltip,e,this.animation),i=n.windowRef,o=n.transition$;this._windowRef=i,this._windowRef.instance.animation=this.animation,this._windowRef.instance.tooltipClass=this.tooltipClass,this._windowRef.instance.id=this._ngbTooltipWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),ke(this._ngZone,this._document,this.autoClose,function(){return t.close()},this.hidden,[this._windowRef.location.nativeElement]),o.subscribe(function(){return t.shown.emit()})}}},{key:"close",value:function(){var e=this;null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(this.animation).subscribe(function(){e._windowRef=null,e.hidden.emit(),e._changeDetector.markForCheck()}))}},{key:"toggle",value:function(){this._windowRef?this.close():this.open()}},{key:"isOpen",value:function(){return null!=this._windowRef}},{key:"ngOnInit",value:function(){this._unregisterListenersFn=st(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}},{key:"ngOnChanges",value:function(e){var t=e.tooltipClass;t&&this.isOpen()&&(this._windowRef.instance.tooltipClass=t.currentValue)}},{key:"ngOnDestroy",value:function(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}},{key:"ngbTooltip",set:function(e){this._ngbTooltip=e,!e&&this._windowRef&&this.close()},get:function(){return this._ngbTooltip}}]),e}()).\u0275fac=function(e){return new(e||lt)(i.Lb(i.l),i.Lb(i.E),i.Lb(i.r),i.Lb(i.j),i.Lb(i.P),i.Lb(St),i.Lb(i.z),i.Lb(o.c),i.Lb(i.h),i.Lb(i.g))},lt.\u0275dir=i.Gb({type:lt,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[i.wb]}),lt),Tt=((ct=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:ct}),ct.\u0275inj=i.Ib({factory:function(e){return new(e||ct)}}),ct);new i.q("live announcer delay",{providedIn:"root",factory:function(){return 100}});var Dt,jt,Ft=((Dt=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:Dt}),Dt.\u0275inj=i.Ib({factory:function(e){return new(e||Dt)},imports:[[o.b]]}),Dt),Qt=[he,pe,be,ge,me,ze,Be,tt,nt,it,xt,wt,Mt,Pt,Et,Tt,Ft],Lt=((jt=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:jt}),jt.\u0275inj=i.Ib({factory:function(e){return new(e||jt)},imports:[Qt,he,pe,be,ge,me,ze,Be,tt,nt,it,xt,wt,Mt,Pt,Et,Tt,Ft]}),jt)},"2QA8":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2Vo4":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("XNiG"),o=n("9ppp"),r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this))._value=e,i}return _createClass(n,[{key:"_subscribe",value:function(e){var t=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.a;return this._value}},{key:"next",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=e)}},{key:"value",get:function(){return this.getValue()}}]),n}(i.a)},"2fFW":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}}},"3/ER":function(e,t,n){"use strict";(function(e){var i=n("Ju5/"),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,r=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=r&&r.exports===o?i.a.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.a=function(e,t){if(t)return e.slice();var n=e.length,i=s?s(n):new e.constructor(n);return e.copy(i),i}}).call(this,n("3UD+")(e))},"3N8a":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,i)).scheduler=e,o.work=i,o.pending=!1,o}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,i=void 0;try{this.work(e)}catch(o){n=!0,i=!!o&&o||new Error(o)}if(n)return this.unsubscribe(),i}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"schedule",value:function(e){return this}}]),n}(n("quSY").a))},"3Pt+":function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"b",function(){return v}),n.d(t,"c",function(){return Be}),n.d(t,"d",function(){return ot}),n.d(t,"e",function(){return mt}),n.d(t,"f",function(){return ze}),n.d(t,"g",function(){return ht}),n.d(t,"h",function(){return Ve}),n.d(t,"i",function(){return et}),n.d(t,"j",function(){return nt}),n.d(t,"k",function(){return vt}),n.d(t,"l",function(){return C}),n.d(t,"m",function(){return h}),n.d(t,"n",function(){return W}),n.d(t,"o",function(){return G}),n.d(t,"p",function(){return Ke}),n.d(t,"q",function(){return Ye}),n.d(t,"r",function(){return ce}),n.d(t,"s",function(){return X}),n.d(t,"t",function(){return ee}),n.d(t,"u",function(){return yt}),n.d(t,"v",function(){return bt}),n.d(t,"w",function(){return se}),n.d(t,"x",function(){return x}),n.d(t,"y",function(){return pe}),n.d(t,"z",function(){return Xe});var i=n("fXoL"),o=n("ofXK"),r=n("HDdC"),a=n("DH7j"),s=n("lJxs"),c=n("XoHu"),l=n("Cfvw");function u(e,t){return new r.a(function(n){var i=e.length;if(0!==i)for(var o=new Array(i),r=0,a=0,s=function(s){var c=Object(l.a)(e[s]),u=!1;n.add(c.subscribe({next:function(e){u||(u=!0,a++),o[s]=e},error:function(e){return n.error(e)},complete:function(){++r!==i&&u||(a===i&&n.next(t?t.reduce(function(e,t,n){return e[t]=o[n],e},{}):o),n.complete())}}))},c=0;c<i;c++)s(c);else n.complete()})}var f,d,h=new i.q("NgValueAccessor"),p={provide:h,useExisting:Object(i.T)(function(){return b}),multi:!0},b=((f=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||f)(i.Lb(i.E),i.Lb(i.l))},f.\u0275dir=i.Gb({type:f,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&i.bc("change",function(e){return t.onChange(e.target.checked)})("blur",function(){return t.onTouched()})},features:[i.xb([p])]}),f),g={provide:h,useExisting:Object(i.T)(function(){return v}),multi:!0},m=new i.q("CompositionEventMode"),v=((d=function(){function e(t,n,i){var r;_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=i,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=Object(o.E)()?Object(o.E)().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}()).\u0275fac=function(e){return new(e||d)(i.Lb(i.E),i.Lb(i.l),i.Lb(m,8))},d.\u0275dir=i.Gb({type:d,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&i.bc("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[i.xb([g])]}),d);function y(e){return null==e||0===e.length}function _(e){return null!=e&&"number"==typeof e.length}var C=new i.q("NgValidators"),k=new i.q("NgAsyncValidators"),O=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,x=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"min",value:function(e){return function(t){if(y(t.value)||y(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(y(t.value)||y(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return y(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return y(e.value)||O.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){return y(t.value)||!_(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}}},{key:"maxLength",value:function(e){return function(t){return _(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(i="","^"!==t.charAt(0)&&(i+="^"),i+=t,"$"!==t.charAt(t.length-1)&&(i+="$"),n=new RegExp(i)):(i=t.toString(),n=t),function(e){if(y(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:i,actualValue:t}}}):e.nullValidator;var n,i}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(w);return 0==t.length?null:function(e){return P(E(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(w);return 0==t.length?null:function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var i=t[0];if(Object(a.a)(i))return u(i,null);if(Object(c.a)(i)&&Object.getPrototypeOf(i)===Object.prototype){var o=Object.keys(i);return u(o.map(function(e){return i[e]}),o)}}if("function"==typeof t[t.length-1]){var r=t.pop();return u(t=1===t.length&&Object(a.a)(t[0])?t[0]:t,null).pipe(Object(s.a)(function(e){return r.apply(void 0,_toConsumableArray(e))}))}return u(t,null)}(E(e,t).map(M)).pipe(Object(s.a)(P))}}}]),e}();function w(e){return null!=e}function M(e){var t=Object(i.qb)(e)?Object(l.a)(e):e;return Object(i.pb)(t),t}function P(e){var t={};return e.forEach(function(e){t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function E(e,t){return t.map(function(t){return t(e)})}function S(e){return e.map(function(e){return function(e){return!e.validate}(e)?e:function(t){return e.validate(t)}})}function R(e){return null!=e?x.compose(S(e)):null}function I(e){return null!=e?x.composeAsync(S(e)):null}function A(e,t){return null===e?[t]:Array.isArray(e)?[].concat(_toConsumableArray(e),[t]):[e,t]}function T(e){return e._rawValidators}function D(e){return e._rawAsyncValidators}var j,F,Q,L,N,z,V,B,U=((F=function(){function e(){_classCallCheck(this,e),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return _createClass(e,[{key:"_setValidators",value:function(e){this._rawValidators=e||[],this._composedValidatorFn=R(this._rawValidators)}},{key:"_setAsyncValidators",value:function(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=I(this._rawAsyncValidators)}},{key:"_registerOnDestroy",value:function(e){this._onDestroyCallbacks.push(e)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(e){return e()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}}]),e}()).\u0275fac=function(e){return new(e||F)},F.\u0275dir=i.Gb({type:F}),F),H=((j=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(U)).\u0275fac=function(e){return K(e||j)},j.\u0275dir=i.Gb({type:j,features:[i.vb]}),j),K=i.Tb(H),q=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e}return n}(U),$=function(){function e(t){_classCallCheck(this,e),this._cd=t}return _createClass(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),W=((L=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}($)).\u0275fac=function(e){return new(e||L)(i.Lb(q,2))},L.\u0275dir=i.Gb({type:L,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&i.Db("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[i.vb]}),L),G=((Q=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}($)).\u0275fac=function(e){return new(e||Q)(i.Lb(H,2))},Q.\u0275dir=i.Gb({type:Q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&i.Db("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[i.vb]}),Q),Y={provide:h,useExisting:Object(i.T)(function(){return X}),multi:!0},X=((N=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||N)(i.Lb(i.E),i.Lb(i.l))},N.\u0275dir=i.Gb({type:N,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&i.bc("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[i.xb([Y])]}),N),Z={provide:h,useExisting:Object(i.T)(function(){return ee}),multi:!0},J=((V=function(){function e(){_classCallCheck(this,e),this._accessors=[]}return _createClass(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach(function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)})}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}()).\u0275fac=function(e){return new(e||V)},V.\u0275prov=i.Hb({token:V,factory:V.\u0275fac}),V),ee=((z=function(){function e(t,n,i,o){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._registry=i,this._injector=o,this.onChange=function(){},this.onTouched=function(){}}return _createClass(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get(q),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}]),e}()).\u0275fac=function(e){return new(e||z)(i.Lb(i.E),i.Lb(i.l),i.Lb(J),i.Lb(i.r))},z.\u0275dir=i.Gb({type:z,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&i.bc("change",function(){return t.onChange()})("blur",function(){return t.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i.xb([Z])]}),z),te={provide:h,useExisting:Object(i.T)(function(){return ne}),multi:!0},ne=((B=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||B)(i.Lb(i.E),i.Lb(i.l))},B.\u0275dir=i.Gb({type:B,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&i.bc("change",function(e){return t.onChange(e.target.value)})("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[i.xb([te])]}),B),ie={provide:h,useExisting:Object(i.T)(function(){return se}),multi:!0};function oe(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var re,ae,se=((ae=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Object.is}return _createClass(e,[{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=oe(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var i=n[t];if(this._compareWith(this._optionMap.get(i),e))return i}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}},{key:"compareWith",set:function(e){this._compareWith=e}}]),e}()).\u0275fac=function(e){return new(e||ae)(i.Lb(i.E),i.Lb(i.l))},ae.\u0275dir=i.Gb({type:ae,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&i.bc("change",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.xb([ie])]}),ae),ce=((re=function(){function e(t,n,i){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=i,this._select&&(this.id=this._select._registerOption())}return _createClass(e,[{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(oe(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}}]),e}()).\u0275fac=function(e){return new(e||re)(i.Lb(i.l),i.Lb(i.E),i.Lb(se,9))},re.\u0275dir=i.Gb({type:re,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),re),le={provide:h,useExisting:Object(i.T)(function(){return he}),multi:!0};function ue(e,t){return null==e?""+t:("string"==typeof t&&(t="'".concat(t,"'")),t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var fe,de,he=((de=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Object.is}return _createClass(e,[{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var i=e.map(function(e){return n._getOptionId(e)});t=function(e,t){e._setSelected(i.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var i=[];if(void 0!==n.selectedOptions)for(var o=n.selectedOptions,r=0;r<o.length;r++){var a=o.item(r),s=t._getOptionValue(a.value);i.push(s)}else for(var c=n.options,l=0;l<c.length;l++){var u=c.item(l);if(u.selected){var f=t._getOptionValue(u.value);i.push(f)}}t.value=i,e(i)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var i=n[t];if(this._compareWith(this._optionMap.get(i)._value,e))return i}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},{key:"compareWith",set:function(e){this._compareWith=e}}]),e}()).\u0275fac=function(e){return new(e||de)(i.Lb(i.E),i.Lb(i.l))},de.\u0275dir=i.Gb({type:de,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&i.bc("change",function(e){return t.onChange(e.target)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.xb([le])]}),de),pe=((fe=function(){function e(t,n,i){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=i,this._select&&(this.id=this._select._registerOption(this))}return _createClass(e,[{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"_setSelected",value:function(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(e){null!=this._select&&(this._value=e,this._setElementValue(ue(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._select?(this._value=e,this._setElementValue(ue(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}}]),e}()).\u0275fac=function(e){return new(e||fe)(i.Lb(i.l),i.Lb(i.E),i.Lb(he,9))},fe.\u0275dir=i.Gb({type:fe,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),fe);function be(e,t){return[].concat(_toConsumableArray(t.path),[e])}function ge(e,t){ve(e,t,!0),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&_e(e,t)})}(e,t),function(e,t){var n=function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(function(){e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&_e(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){var n=function(e){t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(function(){e._unregisterOnDisabledChange(n)})}}(e,t)}function me(e,t){e.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function ve(e,t,n){var i=T(e);null!==t.validator?e.setValidators(A(i,t.validator)):"function"==typeof i&&e.setValidators([i]);var o=D(e);if(null!==t.asyncValidator?e.setAsyncValidators(A(o,t.asyncValidator)):"function"==typeof o&&e.setAsyncValidators([o]),n){var r=function(){return e.updateValueAndValidity()};me(t._rawValidators,r),me(t._rawAsyncValidators,r)}}function ye(e,t,n){if(null!==e){if(null!==t.validator){var i=T(e);Array.isArray(i)&&i.length>0&&e.setValidators(i.filter(function(e){return e!==t.validator}))}if(null!==t.asyncValidator){var o=D(e);Array.isArray(o)&&o.length>0&&e.setAsyncValidators(o.filter(function(e){return e!==t.asyncValidator}))}}if(n){var r=function(){};me(t._rawValidators,r),me(t._rawAsyncValidators,r)}}function _e(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Ce(e,t){ve(e,t,!1)}function ke(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}var Oe=[b,ne,X,se,he,ee];function xe(e,t){e._syncPendingControls(),t.forEach(function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function we(e,t){if(!t)return null;Array.isArray(t);var n=void 0,i=void 0,o=void 0;return t.forEach(function(e){var t;e.constructor===v?n=e:(t=e,Oe.some(function(e){return t.constructor===e})?i=e:o=e)}),o||i||n||null}function Me(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function Pe(e){return(Ie(e)?e.validators:e)||null}function Ee(e){return Array.isArray(e)?R(e):e||null}function Se(e,t){return(Ie(t)?t.asyncValidators:e)||null}function Re(e){return Array.isArray(e)?I(e):e||null}function Ie(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var Ae,Te,De,je,Fe,Qe,Le,Ne=function(){function e(t,n){_classCallCheck(this,e),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=n,this._composedValidatorFn=Ee(this._rawValidators),this._composedAsyncValidatorFn=Re(this._rawAsyncValidators)}return _createClass(e,[{key:"setValidators",value:function(e){this._rawValidators=e,this._composedValidatorFn=Ee(e)}},{key:"setAsyncValidators",value:function(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Re(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(e){return e.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(e){e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(e){e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!0)})}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild(function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!1)})}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(t){return t._updateTreeValidity(e)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;var n=M(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){t._hasOwnPendingAsyncValidator=!1,t.setErrors(n,{emitEvent:e})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var i=e;return t.forEach(function(e){i=i instanceof Ve?i.controls.hasOwnProperty(e)?i.controls[e]:null:i instanceof Be&&i.at(e)||null}),i}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new i.n,this.statusChanges=new i.n}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls(function(t){return t.status===e})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(e){return e.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(e){return e.touched})}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){Ie(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}},{key:"validator",get:function(){return this._composedValidatorFn},set:function(e){this._rawValidators=this._composedValidatorFn=e}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}}]),e}(),ze=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this,Pe(o),Se(r,o)))._onChange=[],e._applyFormState(i),e._setUpdateStrategy(o),e._initObservables(),e.updateValueAndValidity({onlySelf:!0,emitEvent:!!r}),e}return _createClass(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(e){return e(t.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_unregisterOnChange",value:function(e){Me(this._onChange,e)}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_unregisterOnDisabledChange",value:function(e){Me(this._onDisabledChange,e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(Ne),Ve=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o){var r;return _classCallCheck(this,n),(r=t.call(this,Pe(i),Se(o,i))).controls=e,r._initObservables(),r._setUpdateStrategy(i),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!!o}),r}return _createClass(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach(function(i){t._throwIfControlMissing(i),t.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach(function(i){t.controls[i]&&t.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,i){n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(e,t,n){return e[n]=t instanceof ze?t.value:t.getRawValue(),e})}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,function(e,t){return!!t._syncPendingControls()||e});return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach(function(n){return e(t.controls[n],n)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){for(var t=0,n=Object.keys(this.controls);t<n.length;t++){var i=n[t],o=this.controls[i];if(this.contains(i)&&e(o))return!0}return!1}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},function(t,n,i){return(n.enabled||e.disabled)&&(t[i]=n.value),t})}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild(function(e,i){n=t(n,e,i)}),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}(Ne),Be=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o){var r;return _classCallCheck(this,n),(r=t.call(this,Pe(i),Se(o,i))).controls=e,r._initObservables(),r._setUpdateStrategy(i),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!!o}),r}return _createClass(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach(function(e,i){t._throwIfControlMissing(i),t.at(i).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach(function(e,i){t.at(i)&&t.at(i).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,i){n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map(function(e){return e instanceof ze?e.value:e.getRawValue()})}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild(function(e){return e._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce(function(e,t){return!!t._syncPendingControls()||e},!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}},{key:"_forEachChild",value:function(e){this.controls.forEach(function(t,n){e(t,n)})}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter(function(t){return t.enabled||e.disabled}).map(function(e){return e.value})}},{key:"_anyControls",value:function(e){return this.controls.some(function(t){return t.enabled&&e(t)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){return e._registerControl(t)})}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var e,t=_createForOfIteratorHelper(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(Ne),Ue={provide:H,useExisting:Object(i.T)(function(){return Ke})},He=Promise.resolve(null),Ke=((Te=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,o){var r;return _classCallCheck(this,n),(r=t.call(this)).submitted=!1,r._directives=[],r.ngSubmit=new i.n,r.form=new Ve({},R(e),I(o)),r}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(e){var t=this;He.then(function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),ge(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)})}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;He.then(function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name),Me(t._directives,e)})}},{key:"addFormGroup",value:function(e){var t=this;He.then(function(){var n=t._findContainer(e.path),i=new Ve({});Ce(i,e),n.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}},{key:"removeFormGroup",value:function(e){var t=this;He.then(function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)})}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var n=this;He.then(function(){n.form.get(e.path).setValue(t)})}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,xe(this.form,this._directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(H)).\u0275fac=function(e){return new(e||Te)(i.Lb(C,10),i.Lb(k,10))},Te.\u0275dir=i.Gb({type:Te,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&i.bc("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.xb([Ue]),i.vb]}),Te),qe=((Ae=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return be(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}}]),n}(H)).\u0275fac=function(e){return $e(e||Ae)},Ae.\u0275dir=i.Gb({type:Ae,features:[i.vb]}),Ae),$e=i.Tb(qe),We={provide:q,useExisting:Object(i.T)(function(){return Ye})},Ge=Promise.resolve(null),Ye=((je=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,o,r,a){var s;return _classCallCheck(this,n),(s=t.call(this)).control=new ze,s._registered=!1,s.update=new i.n,s._parent=e,s._setValidators(o),s._setAsyncValidators(r),s.valueAccessor=we(0,a),s}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),ke(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){ge(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(e){var t=this;Ge.then(function(){t.control.setValue(e,{emitViewToModelChange:!1})})}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,i=""===n||n&&"false"!==n;Ge.then(function(){i&&!t.control.disabled?t.control.disable():!i&&t.control.disabled&&t.control.enable()})}},{key:"path",get:function(){return this._parent?be(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}}]),n}(q)).\u0275fac=function(e){return new(e||je)(i.Lb(H,9),i.Lb(C,10),i.Lb(k,10),i.Lb(h,10))},je.\u0275dir=i.Gb({type:je,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.xb([We]),i.vb,i.wb]}),je),Xe=((De=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||De)},De.\u0275dir=i.Gb({type:De,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),De),Ze=new i.q("NgModelWithFormControlWarning"),Je={provide:H,useExisting:Object(i.T)(function(){return et})},et=((Fe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,o){var r;return _classCallCheck(this,n),(r=t.call(this)).validators=e,r.asyncValidators=o,r.submitted=!1,r.directives=[],r.form=null,r.ngSubmit=new i.n,r._setValidators(e),r._setAsyncValidators(o),r}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}},{key:"addControl",value:function(e){var t=this.form.get(e.path);return ge(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){Me(this.directives,e)}},{key:"addFormGroup",value:function(e){var t=this.form.get(e.path);Ce(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(e){}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"addFormArray",value:function(e){var t=this.form.get(e.path);Ce(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(e){}},{key:"getFormArray",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){this.form.get(e.path).setValue(t)}},{key:"onSubmit",value:function(e){return this.submitted=!0,xe(this.form,this.directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_updateDomValue",value:function(){var e=this;this.directives.forEach(function(t){var n=e.form.get(t.path);t.control!==n&&(function(e,t){var n=function(){};t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n),ye(e,t,!0),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(function(){}))}(t.control||null,t),n&&ge(n,t),t.control=n)}),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var e=this;this.form._registerOnCollectionChange(function(){return e._updateDomValue()}),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){})}},{key:"_updateValidators",value:function(){ve(this.form,this,!1),this._oldForm&&ye(this._oldForm,this,!1)}},{key:"_checkFormPresent",value:function(){}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),n}(H)).\u0275fac=function(e){return new(e||Fe)(i.Lb(C,10),i.Lb(k,10))},Fe.\u0275dir=i.Gb({type:Fe,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&i.bc("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.xb([Je]),i.vb,i.wb]}),Fe),tt={provide:H,useExisting:Object(i.T)(function(){return nt})},nt=((Qe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o){var r;return _classCallCheck(this,n),(r=t.call(this))._parent=e,r._setValidators(i),r._setAsyncValidators(o),r}return _createClass(n,[{key:"_checkParentType",value:function(){rt(this._parent)}}]),n}(qe)).\u0275fac=function(e){return new(e||Qe)(i.Lb(H,13),i.Lb(C,10),i.Lb(k,10))},Qe.\u0275dir=i.Gb({type:Qe,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[i.xb([tt]),i.vb]}),Qe),it={provide:H,useExisting:Object(i.T)(function(){return ot})},ot=((Le=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o){var r;return _classCallCheck(this,n),(r=t.call(this))._parent=e,r._setValidators(i),r._setAsyncValidators(o),r}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"_checkParentType",value:function(){rt(this._parent)}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return be(null==this.name?this.name:this.name.toString(),this._parent)}}]),n}(H)).\u0275fac=function(e){return new(e||Le)(i.Lb(H,13),i.Lb(C,10),i.Lb(k,10))},Le.\u0275dir=i.Gb({type:Le,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[i.xb([it]),i.vb]}),Le);function rt(e){return!(e instanceof nt||e instanceof et||e instanceof ot)}var at,st,ct,lt,ut,ft,dt={provide:q,useExisting:Object(i.T)(function(){return ht})},ht=((at=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,o,r,a,s){var c;return _classCallCheck(this,n),(c=t.call(this))._ngModelWarningConfig=s,c._added=!1,c.update=new i.n,c._ngModelWarningSent=!1,c._parent=e,c._setValidators(o),c._setAsyncValidators(r),c.valueAccessor=we(0,a),c}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._added||this._setUpControl(),ke(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_checkParentType",value:function(){}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}},{key:"isDisabled",set:function(e){}},{key:"path",get:function(){return be(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}}]),n}(q)).\u0275fac=function(e){return new(e||at)(i.Lb(H,13),i.Lb(C,10),i.Lb(k,10),i.Lb(h,10),i.Lb(Ze,8))},at.\u0275dir=i.Gb({type:at,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.xb([dt]),i.vb,i.wb]}),at._ngModelWarningSentOnce=!1,at),pt={provide:C,useExisting:Object(i.T)(function(){return bt}),multi:!0},bt=((ft=function(){function e(){_classCallCheck(this,e),this._required=!1}return _createClass(e,[{key:"validate",value:function(e){return this.required?x.required(e):null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"required",get:function(){return this._required},set:function(e){this._required=null!=e&&!1!==e&&""+e!="false",this._onChange&&this._onChange()}}]),e}()).\u0275fac=function(e){return new(e||ft)},ft.\u0275dir=i.Gb({type:ft,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&i.zb("required",t.required?"":null)},inputs:{required:"required"},features:[i.xb([pt])]}),ft),gt=((ut=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:ut}),ut.\u0275inj=i.Ib({factory:function(e){return new(e||ut)}}),ut),mt=((lt=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"group",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(e),i=null,o=null,r=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(i=null!=t.validators?t.validators:null,o=null!=t.asyncValidators?t.asyncValidators:null,r=null!=t.updateOn?t.updateOn:void 0):(i=null!=t.validator?t.validator:null,o=null!=t.asyncValidator?t.asyncValidator:null)),new Ve(n,{asyncValidators:o,updateOn:r,validators:i})}},{key:"control",value:function(e,t,n){return new ze(e,t,n)}},{key:"array",value:function(e,t,n){var i=this,o=e.map(function(e){return i._createControl(e)});return new Be(o,t,n)}},{key:"_reduceControls",value:function(e){var t=this,n={};return Object.keys(e).forEach(function(i){n[i]=t._createControl(e[i])}),n}},{key:"_createControl",value:function(e){return e instanceof ze||e instanceof Ve||e instanceof Be?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}]),e}()).\u0275fac=function(e){return new(e||lt)},lt.\u0275prov=i.Hb({token:lt,factory:lt.\u0275fac}),lt),vt=((ct=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:ct}),ct.\u0275inj=i.Ib({factory:function(e){return new(e||ct)},providers:[J],imports:[gt]}),ct),yt=((st=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:Ze,useValue:t.warnOnNgModelWithFormControl}]}}}]),e}()).\u0275mod=i.Jb({type:st}),st.\u0275inj=i.Ib({factory:function(e){return new(e||st)},providers:[mt,J],imports:[gt]}),st)},"3UD+":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},"3UWI":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n("D0XW"),o=n("zx2A"),r=function(){function e(t){_classCallCheck(this,e),this.durationSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.durationSelector))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).durationSelector=i,o.hasValue=!1,o}return _createClass(n,[{key:"_next",value:function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t;try{t=(0,this.durationSelector)(e)}catch(i){return this.destination.error(i)}var n=Object(o.c)(t,new o.a(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var e=this.value,t=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}},{key:"notifyNext",value:function(){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(o.b),s=n("PqYM");function c(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.a;return t=function(){return Object(s.a)(e,n)},function(e){return e.lift(new r(t))}}},"4I5i":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}()},"4fRq":function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);e.exports=function(){return n(i),i}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},"5+tZ":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("lJxs"),o=n("Cfvw"),r=n("zx2A");function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(a(function(n,r){return Object(o.a)(e(n,r)).pipe(Object(i.a)(function(e,i){return t(n,e,r,i)}))},n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new s(e,n))})}var s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new c(e,this.project,this.concurrent))}}]),e}(),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(o=t.call(this,e)).project=i,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return _createClass(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=new r.a(this),n=this.destination;n.add(t);var i=Object(r.c)(e,t);i!==t&&n.add(i)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyComplete",value:function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(r.b)},"5eHb":function(e,t,n){"use strict";n.d(t,"a",function(){return D}),n.d(t,"b",function(){return I});var i=n("fXoL"),o=n("R0Ic"),r=n("XNiG"),a=n("jhN1"),s=n("ofXK"),c=["toast-component",""];function l(e,t){if(1&e){var n=i.Sb();i.Rb(0,"button",5),i.bc("click",function(){return i.zc(n),i.fc().remove()}),i.Rb(1,"span",6),i.Kc(2,"\xd7"),i.Qb(),i.Qb()}}function u(e,t){if(1&e&&(i.Pb(0),i.Kc(1),i.Ob()),2&e){var n=i.fc(2);i.yb(1),i.Mc("[",n.duplicatesCount+1,"]")}}function f(e,t){if(1&e&&(i.Rb(0,"div"),i.Kc(1),i.Ic(2,u,2,1,"ng-container",4),i.Qb()),2&e){var n=i.fc();i.Ab(n.options.titleClass),i.zb("aria-label",n.title),i.yb(1),i.Mc(" ",n.title," "),i.yb(1),i.mc("ngIf",n.duplicatesCount)}}function d(e,t){if(1&e&&i.Mb(0,"div",7),2&e){var n=i.fc();i.Ab(n.options.messageClass),i.mc("innerHTML",n.message,i.Ac)}}function h(e,t){if(1&e&&(i.Rb(0,"div",8),i.Kc(1),i.Qb()),2&e){var n=i.fc();i.Ab(n.options.messageClass),i.zb("aria-label",n.message),i.yb(1),i.Mc(" ",n.message," ")}}function p(e,t){if(1&e&&(i.Rb(0,"div"),i.Mb(1,"div",9),i.Qb()),2&e){var n=i.fc();i.yb(1),i.Gc("width",n.width+"%")}}function b(e,t){if(1&e){var n=i.Sb();i.Rb(0,"button",5),i.bc("click",function(){return i.zc(n),i.fc().remove()}),i.Rb(1,"span",6),i.Kc(2,"\xd7"),i.Qb(),i.Qb()}}function g(e,t){if(1&e&&(i.Pb(0),i.Kc(1),i.Ob()),2&e){var n=i.fc(2);i.yb(1),i.Mc("[",n.duplicatesCount+1,"]")}}function m(e,t){if(1&e&&(i.Rb(0,"div"),i.Kc(1),i.Ic(2,g,2,1,"ng-container",4),i.Qb()),2&e){var n=i.fc();i.Ab(n.options.titleClass),i.zb("aria-label",n.title),i.yb(1),i.Mc(" ",n.title," "),i.yb(1),i.mc("ngIf",n.duplicatesCount)}}function v(e,t){if(1&e&&i.Mb(0,"div",7),2&e){var n=i.fc();i.Ab(n.options.messageClass),i.mc("innerHTML",n.message,i.Ac)}}function y(e,t){if(1&e&&(i.Rb(0,"div",8),i.Kc(1),i.Qb()),2&e){var n=i.fc();i.Ab(n.options.messageClass),i.zb("aria-label",n.message),i.yb(1),i.Mc(" ",n.message," ")}}function _(e,t){if(1&e&&(i.Rb(0,"div"),i.Mb(1,"div",9),i.Qb()),2&e){var n=i.fc();i.yb(1),i.Gc("width",n.width+"%")}}var C=function(){function e(t,n,i,o,a,s){var c=this;_classCallCheck(this,e),this.toastId=t,this.config=n,this.message=i,this.title=o,this.toastType=a,this.toastRef=s,this._onTap=new r.a,this._onAction=new r.a,this.toastRef.afterClosed().subscribe(function(){c._onAction.complete(),c._onTap.complete()})}return _createClass(e,[{key:"triggerTap",value:function(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}},{key:"onTap",value:function(){return this._onTap.asObservable()}},{key:"triggerAction",value:function(e){this._onAction.next(e)}},{key:"onAction",value:function(){return this._onAction.asObservable()}}]),e}(),k={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},O=new i.q("ToastConfig"),x=function(){function e(t,n){_classCallCheck(this,e),this.component=t,this.injector=n}return _createClass(e,[{key:"attach",value:function(e,t){return this._attachedHost=e,e.attach(this,t)}},{key:"detach",value:function(){var e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}},{key:"setAttachedHost",value:function(e){this._attachedHost=e}},{key:"isAttached",get:function(){return null!=this._attachedHost}}]),e}(),w=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o){var r;return _classCallCheck(this,n),(r=t.call(this))._hostDomElement=e,r._componentFactoryResolver=i,r._appRef=o,r}return _createClass(n,[{key:"attachComponentPortal",value:function(e,t){var n,i=this,o=this._componentFactoryResolver.resolveComponentFactory(e.component);return n=o.create(e.injector),this._appRef.attachView(n.hostView),this.setDisposeFn(function(){i._appRef.detachView(n.hostView),n.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(n),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(n)),n}},{key:"_getComponentRootNode",value:function(e){return e.hostView.rootNodes[0]}}]),n}(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"attach",value:function(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}},{key:"detach",value:function(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}},{key:"setDisposeFn",value:function(e){this._disposeFn=e}}]),e}()),M=function(){var e=function(){function e(t){_classCallCheck(this,e),this._document=t}return _createClass(e,[{key:"ngOnDestroy",value:function(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){var e=this._document.createElement("div");e.classList.add("overlay-container"),this._document.body.appendChild(e),this._containerElement=e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Yb(s.c))},e.\u0275prov=Object(i.Hb)({factory:function(){return new e(Object(i.Yb)(s.c))},token:e,providedIn:"root"}),e}(),P=function(){function e(t){_classCallCheck(this,e),this._portalHost=t}return _createClass(e,[{key:"attach",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._portalHost.attach(e,t)}},{key:"detach",value:function(){return this._portalHost.detach()}}]),e}(),E=function(){var e=function(){function e(t,n,i,o){_classCallCheck(this,e),this._overlayContainer=t,this._componentFactoryResolver=n,this._appRef=i,this._document=o,this._paneElements=new Map}return _createClass(e,[{key:"create",value:function(e,t){return this._createOverlayRef(this.getPaneElement(e,t))}},{key:"getPaneElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return this._paneElements.get(t)||this._paneElements.set(t,{}),this._paneElements.get(t)[e]||(this._paneElements.get(t)[e]=this._createPaneElement(e,t)),this._paneElements.get(t)[e]}},{key:"_createPaneElement",value:function(e,t){var n=this._document.createElement("div");return n.id="toast-container",n.classList.add(e),n.classList.add("toast-container"),t?t.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}},{key:"_createPortalHost",value:function(e){return new w(e,this._componentFactoryResolver,this._appRef)}},{key:"_createOverlayRef",value:function(e){return new P(this._createPortalHost(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Yb(M),i.Yb(i.j),i.Yb(i.g),i.Yb(s.c))},e.\u0275prov=Object(i.Hb)({factory:function(){return new e(Object(i.Yb)(M),Object(i.Yb)(i.j),Object(i.Yb)(i.g),Object(i.Yb)(s.c))},token:e,providedIn:"root"}),e}(),S=function(){function e(t){_classCallCheck(this,e),this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new r.a,this._activate=new r.a,this._manualClose=new r.a,this._resetTimeout=new r.a,this._countDuplicate=new r.a}return _createClass(e,[{key:"manualClose",value:function(){this._manualClose.next(),this._manualClose.complete()}},{key:"manualClosed",value:function(){return this._manualClose.asObservable()}},{key:"timeoutReset",value:function(){return this._resetTimeout.asObservable()}},{key:"countDuplicate",value:function(){return this._countDuplicate.asObservable()}},{key:"close",value:function(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}},{key:"afterClosed",value:function(){return this._afterClosed.asObservable()}},{key:"isInactive",value:function(){return this._activate.isStopped}},{key:"activate",value:function(){this._activate.next(),this._activate.complete()}},{key:"afterActivate",value:function(){return this._activate.asObservable()}},{key:"onDuplicate",value:function(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}]),e}(),R=function(){function e(t,n){_classCallCheck(this,e),this._toastPackage=t,this._parentInjector=n}return _createClass(e,[{key:"get",value:function(e,t,n){return e===C?this._toastPackage:this._parentInjector.get(e,t,n)}}]),e}(),I=function(){var e=function(){function e(t,n,i,o,r){_classCallCheck(this,e),this.overlay=n,this._injector=i,this.sanitizer=o,this.ngZone=r,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}return _createClass(e,[{key:"show",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return this._preBuildNotification(i,e,t,this.applyConfig(n))}},{key:"success",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,t,this.applyConfig(n))}},{key:"error",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,t,this.applyConfig(n))}},{key:"info",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,t,this.applyConfig(n))}},{key:"warning",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,t,this.applyConfig(n))}},{key:"clear",value:function(e){var t,n=_createForOfIteratorHelper(this.toasts);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(void 0!==e){if(i.toastId===e)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}}catch(o){n.e(o)}finally{n.f()}}},{key:"remove",value:function(e){var t=this._findToast(e);if(!t)return!1;if(t.activeToast.toastRef.close(),this.toasts.splice(t.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){var n=this.toasts[this.currentlyActive].toastRef;n.isInactive()||(this.currentlyActive=this.currentlyActive+1,n.activate())}return!0}},{key:"findDuplicate",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,r=this.toastrConfig.includeTitleDuplicates,a=_createForOfIteratorHelper(this.toasts);try{for(a.s();!(e=a.n()).done;){var s=e.value,c=r&&s.title===t;if((!r||c)&&s.message===n)return s.toastRef.onDuplicate(i,o),s}}catch(l){a.e(l)}finally{a.f()}return null}},{key:"applyConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(Object.assign({},this.toastrConfig),e)}},{key:"_findToast",value:function(e){for(var t=0;t<this.toasts.length;t++)if(this.toasts[t].toastId===e)return{index:t,activeToast:this.toasts[t]};return null}},{key:"_preBuildNotification",value:function(e,t,n,i){var o=this;return i.onActivateTick?this.ngZone.run(function(){return o._buildNotification(e,t,n,i)}):this._buildNotification(e,t,n,i)}},{key:"_buildNotification",value:function(e,t,n,o){if(!o.toastComponent)throw new Error("toastComponent required");var r=this.findDuplicate(n,t,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||t)&&this.toastrConfig.preventDuplicates&&null!==r)return r;this.previousToastMessage=t;var a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));var s=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;var c=t;t&&o.enableHtml&&(c=this.sanitizer.sanitize(i.I.HTML,t));var l=new S(s),u=new C(this.index,o,c,n,e,l),f=new R(u,this._injector),d=new x(o.toastComponent,f),h=s.attach(d,this.toastrConfig.newestOnTop);l.componentInstance=h.instance;var p={toastId:this.index,title:n||"",message:t||"",toastRef:l,onShown:l.afterActivate(),onHidden:l.afterClosed(),onTap:u.onTap(),onAction:u.onAction(),portal:h};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(function(){p.toastRef.activate()})),this.toasts.push(p),p}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Yb(O),i.Yb(E),i.Yb(i.r),i.Yb(a.b),i.Yb(i.z))},e.\u0275prov=Object(i.Hb)({factory:function(){return new e(Object(i.Yb)(O),Object(i.Yb)(E),Object(i.Yb)(i.o),Object(i.Yb)(a.b),Object(i.Yb)(i.z))},token:e,providedIn:"root"}),e}(),A=function(){var e=function(){function e(t,n,i){var o=this;_classCallCheck(this,e),this.toastrService=t,this.toastPackage=n,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses="".concat(n.toastType," ").concat(n.config.toastClass),this.sub=n.toastRef.afterActivate().subscribe(function(){o.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(function(){o.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(function(){o.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(function(e){o.duplicatesCount=e})}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}},{key:"activateToast",value:function(){var e=this;this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(function(){return e.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(function(){return e.updateProgress()},10))}},{key:"updateProgress",value:function(){if(0!==this.width&&100!==this.width&&this.options.timeOut){var e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}}},{key:"resetTimeout",value:function(){var e=this;clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(function(){return e.remove()},this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(function(){return e.updateProgress()},10)}},{key:"remove",value:function(){var e=this;"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(function(){return e.toastrService.remove(e.toastPackage.toastId)},+this.toastPackage.config.easeTime))}},{key:"tapToast",value:function(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}},{key:"stickAround",value:function(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}},{key:"delayedHideToast",value:function(){var e=this;!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout(function(){return e.remove()},this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(function(){return e.updateProgress()},10))}},{key:"outsideTimeout",value:function(e,t){var n=this;this.ngZone?this.ngZone.runOutsideAngular(function(){return n.timeout=setTimeout(function(){return n.runInsideAngular(e)},t)}):this.timeout=setTimeout(function(){return e()},t)}},{key:"outsideInterval",value:function(e,t){var n=this;this.ngZone?this.ngZone.runOutsideAngular(function(){return n.intervalId=setInterval(function(){return n.runInsideAngular(e)},t)}):this.intervalId=setInterval(function(){return e()},t)}},{key:"runInsideAngular",value:function(e){this.ngZone?this.ngZone.run(function(){return e()}):e()}},{key:"displayStyle",get:function(){if("inactive"===this.state.value)return"none"}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Lb(I),i.Lb(C),i.Lb(i.z))},e.\u0275cmp=i.Fb({type:e,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(e,t){1&e&&i.bc("click",function(){return t.tapToast()})("mouseenter",function(){return t.stickAround()})("mouseleave",function(){return t.delayedHideToast()}),2&e&&(i.Hc("@flyInOut",t.state),i.Ab(t.toastClasses),i.Gc("display",t.displayStyle))},attrs:c,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(e,t){1&e&&(i.Ic(0,l,3,0,"button",0),i.Ic(1,f,3,5,"div",1),i.Ic(2,d,1,3,"div",2),i.Ic(3,h,2,4,"div",3),i.Ic(4,p,2,2,"div",4)),2&e&&(i.mc("ngIf",t.options.closeButton),i.yb(1),i.mc("ngIf",t.title),i.yb(1),i.mc("ngIf",t.message&&t.options.enableHtml),i.yb(1),i.mc("ngIf",t.message&&!t.options.enableHtml),i.yb(1),i.mc("ngIf",t.options.progressBar))},directives:[s.n],encapsulation:2,data:{animation:[Object(o.j)("flyInOut",[Object(o.g)("inactive",Object(o.h)({opacity:0})),Object(o.g)("active",Object(o.h)({opacity:1})),Object(o.g)("removed",Object(o.h)({opacity:0})),Object(o.i)("inactive => active",Object(o.e)("{{ easeTime }}ms {{ easing }}")),Object(o.i)("active => removed",Object(o.e)("{{ easeTime }}ms {{ easing }}"))])]}}),e}(),T=Object.assign(Object.assign({},k),{toastComponent:A}),D=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[{provide:O,useValue:{default:T,config:t}}]}}}]),e}();return e.\u0275mod=i.Jb({type:e}),e.\u0275inj=i.Ib({factory:function(t){return new(t||e)},imports:[[s.b]]}),e}(),j=function(){var e=function(){function e(t,n,i){var o=this;_classCallCheck(this,e),this.toastrService=t,this.toastPackage=n,this.appRef=i,this.width=-1,this.toastClasses="",this.state="inactive",this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses="".concat(n.toastType," ").concat(n.config.toastClass),this.sub=n.toastRef.afterActivate().subscribe(function(){o.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(function(){o.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(function(){o.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(function(e){o.duplicatesCount=e})}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}},{key:"activateToast",value:function(){var e=this;this.state="active",!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.timeout=setTimeout(function(){e.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(function(){return e.updateProgress()},10))),this.options.onActivateTick&&this.appRef.tick()}},{key:"updateProgress",value:function(){if(0!==this.width&&100!==this.width&&this.options.timeOut){var e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}}},{key:"resetTimeout",value:function(){var e=this;clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(function(){return e.remove()},this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(function(){return e.updateProgress()},10))}},{key:"remove",value:function(){var e=this;"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(function(){return e.toastrService.remove(e.toastPackage.toastId)}))}},{key:"tapToast",value:function(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}},{key:"stickAround",value:function(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}},{key:"delayedHideToast",value:function(){var e=this;!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state&&(this.timeout=setTimeout(function(){return e.remove()},this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(function(){return e.updateProgress()},10)))}},{key:"displayStyle",get:function(){if("inactive"===this.state)return"none"}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Lb(I),i.Lb(C),i.Lb(i.g))},e.\u0275cmp=i.Fb({type:e,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(e,t){1&e&&i.bc("click",function(){return t.tapToast()})("mouseenter",function(){return t.stickAround()})("mouseleave",function(){return t.delayedHideToast()}),2&e&&(i.Ab(t.toastClasses),i.Gc("display",t.displayStyle))},attrs:c,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(e,t){1&e&&(i.Ic(0,b,3,0,"button",0),i.Ic(1,m,3,5,"div",1),i.Ic(2,v,1,3,"div",2),i.Ic(3,y,2,4,"div",3),i.Ic(4,_,2,2,"div",4)),2&e&&(i.mc("ngIf",t.options.closeButton),i.yb(1),i.mc("ngIf",t.title),i.yb(1),i.mc("ngIf",t.message&&t.options.enableHtml),i.yb(1),i.mc("ngIf",t.message&&!t.options.enableHtml),i.yb(1),i.mc("ngIf",t.options.progressBar))},directives:[s.n],encapsulation:2}),e}();Object.assign(Object.assign({},k),{toastComponent:j})},"7Hc7":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=1,o=Promise.resolve(),r={};function a(e){return e in r&&(delete r[e],!0)}var s=function(e){var t=i++;return r[t]=!0,o.then(function(){return a(t)&&e()}),t},c=function(e){a(e)},l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,i)).scheduler=e,o.work=i,o}return _createClass(n,[{key:"requestAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=s(e.flush.bind(e,null))))}},{key:"recycleAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,e,t,i);0===e.actions.length&&(c(t),e.scheduled=void 0)}}]),n}(n("3N8a").a),u=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,i=-1,o=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++i<o&&(e=n.shift()));if(this.active=!1,t){for(;++i<o&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(n("IjjT").a))(l)},"7o/Q":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n("n6bG"),o=n("gRHU"),r=n("quSY"),a=n("2QA8"),s=n("2fFW"),c=n("NJ4a"),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var a;switch(_classCallCheck(this,n),(a=t.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=o.a;break;case 1:if(!e){a.destination=o.a;break}if("object"==typeof e){e instanceof n?(a.syncErrorThrowable=e.syncErrorThrowable,a.destination=e,e.add(_assertThisInitialized(a))):(a.syncErrorThrowable=!0,a.destination=new u(_assertThisInitialized(a),e));break}default:a.syncErrorThrowable=!0,a.destination=new u(_assertThisInitialized(a),e,i,r)}return a}return _createClass(n,[{key:a.a,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,i){var o=new n(e,t,i);return o.syncErrorThrowable=!1,o}}]),n}(r.a),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a,s){var c,l;_classCallCheck(this,n),(c=t.call(this))._parentSubscriber=e;var u=_assertThisInitialized(c);return Object(i.a)(r)?l=r:r&&(l=r.next,a=r.error,s=r.complete,r!==o.a&&(u=Object.create(r),Object(i.a)(u.unsubscribe)&&c.add(u.unsubscribe.bind(u)),u.unsubscribe=c.unsubscribe.bind(_assertThisInitialized(c)))),c._context=u,c._next=l,c._error=a,c._complete=s,c}return _createClass(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(c.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(c.a)(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};s.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return s.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(Object(c.a)(i),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(l)},"9ans":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("tk/3"),o=n("AytR"),r=n("fXoL"),a=n("aTx8"),s=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.keycloakService=t,this.http=n,this.baseUrl=o.a.keycloak.issuer,this.realmId=o.a.keycloak.realm,this.clientId=o.a.keycloak.clientId}return _createClass(e,[{key:"getLoggedUser",value:function(){try{return this.keycloakService.getKeycloakInstance().idTokenParsed}catch(e){return void console.error("Exception",e)}}},{key:"isLoggedIn",value:function(){return this.keycloakService.isLoggedIn()}},{key:"loadUserProfile",value:function(){return this.keycloakService.loadUserProfile()}},{key:"login",value:function(){this.keycloakService.login()}},{key:"logout",value:function(){this.keycloakService.logout()}},{key:"redirectToProfile",value:function(){this.keycloakService.getKeycloakInstance().accountManagement()}},{key:"getUsername",value:function(){return null!=this.getLoggedUser()?this.getLoggedUser().preferred_username:(window.location.reload(),null)}},{key:"getCurrentUserRole",value:function(){return this.keycloakService.getKeycloakInstance().realmAccess.roles}},{key:"searchUser",value:function(e){var t=this.baseUrl+"admin/realms/"+this.realmId+"/users";return null!=e&&(t+="?search="+e),this.http.get(t)}},{key:"getUserByUsername",value:function(e){var t=this.baseUrl+"admin/realms/"+this.realmId+"/users";return null!=e&&(t+="?username="+e),this.http.get(t)}},{key:"getUserRoles",value:function(e,t){return this.http.get(this.baseUrl+"admin/realms/"+this.realmId+"/users/"+e+"/role-mappings/clients/"+t)}},{key:"getAllClientsRoles",value:function(e){return this.http.get(this.baseUrl+"admin/realms/"+this.realmId+"/clients/"+e+"/roles/")}},{key:"getClientsInfo",value:function(){return this.http.get(this.baseUrl+"admin/realms/"+this.realmId+"/clients/")}},{key:"getUserInfo",value:function(e){return this.http.get(this.baseUrl+"admin/realms/"+this.realmId+"/users/"+e)}},{key:"getUsersByRole",value:function(e,t){return this.http.get(this.baseUrl+"admin/realms/"+this.realmId+"/clients/"+e+"/roles/"+t+"/users")}},{key:"createUser",value:function(e){return this.http.post(this.baseUrl+"admin/realms/"+this.realmId+"/users/",e)}},{key:"deleteUser",value:function(e){return this.http.delete(this.baseUrl+"admin/realms/"+this.realmId+"/users/"+e)}},{key:"updateUser",value:function(e,t){return this.http.put(this.baseUrl+"admin/realms/"+this.realmId+"/users/"+e,t)}},{key:"assignRolesToUser",value:function(e,t,n){return this.http.post(this.baseUrl+"admin/realms/"+this.realmId+"/users/"+e+"/role-mappings/clients/"+t,n)}},{key:"deleteRolesToUser",value:function(e,t,n){var o={headers:(new i.d).set("Content-Type","application/json"),body:n};return this.http.delete(this.baseUrl+"admin/realms/"+this.realmId+"/users/"+e+"/role-mappings/clients/"+t,o)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Yb(a.d),r.Yb(i.b))},e.\u0275prov=r.Hb({token:e,factory:e.\u0275fac}),e}()},"9ppp":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},AytR:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i={production:!0,keycloak:{issuer:"http://localhost:8089/auth_demo/",realm:"princnr",clientId:"princlient"}}},Cfvw:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var i=n("HDdC"),o=n("SeVD"),r=n("quSY"),a=n("kJWO"),s=n("jZKg"),c=n("Lhse"),l=n("c2HN"),u=n("I55L");function f(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[a.a]}(e))return function(e,t){return new i.a(function(n){var i=new r.a;return i.add(t.schedule(function(){var o=e[a.a]();i.add(o.subscribe({next:function(e){i.add(t.schedule(function(){return n.next(e)}))},error:function(e){i.add(t.schedule(function(){return n.error(e)}))},complete:function(){i.add(t.schedule(function(){return n.complete()}))}}))})),i})}(e,t);if(Object(l.a)(e))return function(e,t){return new i.a(function(n){var i=new r.a;return i.add(t.schedule(function(){return e.then(function(e){i.add(t.schedule(function(){n.next(e),i.add(t.schedule(function(){return n.complete()}))}))},function(e){i.add(t.schedule(function(){return n.error(e)}))})})),i})}(e,t);if(Object(u.a)(e))return Object(s.a)(e,t);if(function(e){return e&&"function"==typeof e[c.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new i.a(function(n){var i,o=new r.a;return o.add(function(){i&&"function"==typeof i.return&&i.return()}),o.add(t.schedule(function(){i=e[c.a](),o.add(t.schedule(function(){if(!n.closed){var e,t;try{var o=i.next();e=o.value,t=o.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}}))})),o})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof i.a?e:new i.a(Object(o.a)(e))}},D0XW:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("3N8a"),o=new(n("IjjT").a)(i.a)},DH7j:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=Array.isArray||function(e){return e&&"number"==typeof e.length}},EY2u:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});var i=n("HDdC"),o=new i.a(function(e){return e.complete()});function r(e){return e?function(e){return new i.a(function(t){return e.schedule(function(){return t.complete()})})}(e):o}},EcEN:function(e,t,n){var i=n("xDdU"),o=n("xk4V"),r=o;r.v1=i,r.v4=o,e.exports=r},GyhO:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("LRne"),o=n("0EUg");function r(){return Object(o.a)()(Object(i.a).apply(void 0,arguments))}},HDdC:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i,o=n("7o/Q"),r=n("2QA8"),a=n("gRHU"),s=n("kJWO"),c=n("SpAZ"),l=n("2fFW"),u=((i=function(){function e(t){_classCallCheck(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var i=this.operator,s=function(e,t,n){if(e){if(e instanceof o.a)return e;if(e[r.a])return e[r.a]()}return e||t||n?new o.a(e,t,n):new o.a(a.a)}(e,t,n);if(s.add(i?i.call(s,this.source):this.source||l.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),l.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){l.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,i=t.destination,r=t.isStopped;if(n||r)return!1;e=i&&i instanceof o.a?i:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=f(t))(function(t,i){var o;o=n.subscribe(function(t){try{e(t)}catch(n){i(n),o&&o.unsubscribe()}},i,t)})}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:s.a,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:(0===(i=t).length?c.a:1===i.length?i[0]:function(e){return i.reduce(function(e,t){return t(e)},e)})(this);var i}},{key:"toPromise",value:function(e){var t=this;return new(e=f(e))(function(e,n){var i;t.subscribe(function(e){return i=e},function(e){return n(e)},function(){return e(i)})})}}]),e}()).create=function(e){return new i(e)},i);function f(e){if(e||(e=l.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},I2ZF:function(e,t){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);e.exports=function(e,t){var i=t||0;return[n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]]].join("")}},I55L:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},Iab2:function(e,t,n){var i,o;void 0===(o="function"==typeof(i=function(){"use strict";function t(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){a(i.response,t,n)},i.onerror=function(){console.error("could not download file")},i.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,r=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(e,r,a){var s=o.URL||o.webkitURL,c=document.createElement("a");c.download=r=r||e.name||"download",c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?i(c):n(c.href)?t(e,r,a):i(c,c.target="_blank")):(c.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(c.href)},4e4),setTimeout(function(){i(c)},0))}:"msSaveOrOpenBlob"in navigator?function(e,o,r){if(o=o||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,r),o);else if(n(e))t(e,o,r);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){i(a)})}}:function(e,n,i,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,i);var s="application/octet-stream"===e.type,c=/constructor/i.test(o.HTMLElement)||o.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&c||r)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},u.readAsDataURL(e)}else{var f=o.URL||o.webkitURL,d=f.createObjectURL(e);a?a.location=d:location.href=d,a=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});o.saveAs=a.saveAs=a,e.exports=a})?i.apply(t,[]):i)||(e.exports=o)},IjjT:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck(this,e),this.SchedulerAction=t,this.now=n}return _createClass(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),o=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.now;return _classCallCheck(this,n),(o=t.call(this,e,function(){return n.delegate&&n.delegate!==_assertThisInitialized(o)?n.delegate.now():r()})).actions=[],o.active=!1,o.scheduled=void 0,o}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,i):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t,i)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(i)},IzEk:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("7o/Q"),o=n("4I5i"),r=n("EY2u");function a(e){return function(t){return 0===e?Object(r.b)():t.lift(new s(e))}}var s=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new o.a}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new c(e,this.total))}}]),e}(),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).total=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(i.a)},JX91:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("GyhO"),o=n("z+Ro");function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return Object(o.a)(r)?(t.pop(),function(e){return Object(i.a)(t,e,r)}):function(e){return Object(i.a)(t,e)}}},"Ju5/":function(e,t,n){"use strict";var i=n("XqMk"),o="object"==typeof self&&self&&self.Object===Object&&self,r=i.a||o||Function("return this")();t.a=r},Kj3r:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("7o/Q"),o=n("D0XW");function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.a;return function(n){return n.lift(new a(e,t))}}var a=function(){function e(t,n){_classCallCheck(this,e),this.dueTime=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.dueTime,this.scheduler))}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o){var r;return _classCallCheck(this,n),(r=t.call(this,e)).dueTime=i,r.scheduler=o,r.debouncedSubscription=null,r.lastValue=null,r.hasValue=!1,r}return _createClass(n,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),n}(i.a);function c(e){e.debouncedNext()}},KqfI:function(e,t,n){"use strict";function i(){}n.d(t,"a",function(){return i})},L3Qv:function(e,t,n){"use strict";t.a=function(){return!1}},LRne:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("z+Ro"),o=n("yCtX"),r=n("jZKg");function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[t.length-1];return Object(i.a)(a)?(t.pop(),Object(r.a)(t,a)):Object(o.a)(t)}},Lhse:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(e,t,n){"use strict";function i(e){setTimeout(function(){throw e},0)}n.d(t,"a",function(){return i})},PDX0:function(e,t){(function(t){e.exports=t}).call(this,{})},PqYM:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n("HDdC"),o=n("D0XW"),r=n("DH7j");function a(e){return!Object(r.a)(e)&&e-parseFloat(e)+1>=0}var s=n("z+Ro");function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=-1;return a(t)?r=Number(t)<1?1:Number(t):Object(s.a)(t)&&(n=t),Object(s.a)(n)||(n=o.a),new i.a(function(t){var i=a(e)?e:+e-n.now();return n.schedule(l,i,{index:0,period:r,subscriber:t})})}function l(e){var t=e.index,n=e.period,i=e.subscriber;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}},R0Ic:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return h}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return c}),n.d(t,"g",function(){return u}),n.d(t,"h",function(){return l}),n.d(t,"i",function(){return f}),n.d(t,"j",function(){return a}),n.d(t,"k",function(){return p}),n.d(t,"l",function(){return b});var i=function e(){_classCallCheck(this,e)},o=function e(){_classCallCheck(this,e)},r="*";function a(e,t){return{type:7,name:e,definitions:t,options:{}}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:t,timings:e}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:e,options:t}}function l(e){return{type:6,styles:e,offset:null}}function u(e,t,n){return{type:0,name:e,styles:t,options:n}}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:e,animation:t,options:n}}function d(e){Promise.resolve(null).then(e)}var h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+n}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;d(function(){return e._onFinish()})}},{key:"_onStart",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(e){this._position=this.totalTime?e*this.totalTime:1}},{key:"getPosition",value:function(){return this.totalTime?this._position/this.totalTime:1}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}(),p=function(){function e(t){var n=this;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var i=0,o=0,r=0,a=this.players.length;0==a?d(function(){return n._onFinish()}):this.players.forEach(function(e){e.onDone(function(){++i==a&&n._onFinish()}),e.onDestroy(function(){++o==a&&n._onDestroy()}),e.onStart(function(){++r==a&&n._onStart()})}),this.totalTime=this.players.reduce(function(e,t){return Math.max(e,t.totalTime)},0)}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach(function(e){return e.init()})}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(e){return e.play()})}},{key:"pause",value:function(){this.players.forEach(function(e){return e.pause()})}},{key:"restart",value:function(){this.players.forEach(function(e){return e.restart()})}},{key:"finish",value:function(){this._onFinish(),this.players.forEach(function(e){return e.finish()})}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(e){return e.destroy()}),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach(function(e){return e.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach(function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}},{key:"getPosition",value:function(){var e=this.players.reduce(function(e,t){return null===e||t.totalTime>e.totalTime?t:e},null);return null!=e?e.getPosition():0}},{key:"beforeDestroy",value:function(){this.players.forEach(function(e){e.beforeDestroy&&e.beforeDestroy()})}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}(),b="!"},SeVD:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n("ngJS"),o=n("NJ4a"),r=n("Lhse"),a=n("kJWO"),s=n("I55L"),c=n("c2HN"),l=n("XoHu"),u=function(e){if(e&&"function"==typeof e[a.a])return u=e,function(e){var t=u[a.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Object(s.a)(e))return Object(i.a)(e);if(Object(c.a)(e))return n=e,function(e){return n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,o.a),e};if(e&&"function"==typeof e[r.a])return t=e,function(e){for(var n=t[r.a]();;){var i=void 0;try{i=n.next()}catch(o){return e.error(o),e}if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e};var t,n,u,f=Object(l.a)(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(f," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(e,t,n){"use strict";function i(e){return e}n.d(t,"a",function(){return i})},VRyK:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("HDdC"),o=n("z+Ro"),r=n("bHdf"),a=n("yCtX");function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var s=Number.POSITIVE_INFINITY,c=null,l=t[t.length-1];return Object(o.a)(l)?(c=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(s=t.pop())):"number"==typeof l&&(s=t.pop()),null===c&&1===t.length&&t[0]instanceof i.a?t[0]:Object(r.a)(s)(Object(a.a)(t,c))}},WMd4:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i,o=n("EY2u"),r=n("LRne"),a=n("HDdC"),s=((i=function(){function e(t,n,i){_classCallCheck(this,e),this.kind=t,this.value=n,this.error=i,this.hasValue="N"===t}return _createClass(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(r.a)(this.value);case"E":return e=this.error,new a.a(function(t){return t.error(e)});case"C":return Object(o.b)()}var e;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}()).completeNotification=new i("C"),i.undefinedValueNotification=new i("N",void 0),i)},WOAq:function(e,t,n){"use strict";(function(e){var i=n("Ju5/"),o=n("L3Qv"),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=r&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===r?i.a.Buffer:void 0;t.a=(s?s.isBuffer:void 0)||o.a}).call(this,n("3UD+")(e))},XNiG:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u});var i=n("HDdC"),o=n("7o/Q"),r=n("quSY"),a=n("9ppp"),s=n("Ylt2"),c=n("2QA8"),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).destination=e,i}return n}(o.a),u=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _createClass(n,[{key:c.a,value:function(){return new l(this)}},{key:"lift",value:function(e){var t=new f(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new a.a;if(!this.isStopped)for(var t=this.observers,n=t.length,i=t.slice(),o=0;o<n;o++)i[o].next(e)}},{key:"error",value:function(e){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),o=0;o<n;o++)i[o].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),i=0;i<t;i++)n[i].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new a.a;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new a.a;return this.hasError?(e.error(this.thrownError),r.a.EMPTY):this.isStopped?(e.complete(),r.a.EMPTY):(this.observers.push(e),new s.a(this,e))}},{key:"asObservable",value:function(){var e=new i.a;return e.source=this,e}}]),n}(i.a);return e.create=function(e,t){return new f(e,t)},e}(),f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this)).destination=e,o.source=i,o}return _createClass(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):r.a.EMPTY}}]),n}(u)},XoHu:function(e,t,n){"use strict";function i(e){return null!==e&&"object"==typeof e}n.d(t,"a",function(){return i})},XqMk:function(e,t,n){"use strict";var i="object"==typeof global&&global&&global.Object===Object&&global;t.a=i},Ylt2:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this)).subject=e,o.subscriber=i,o.closed=!1,o}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(n("quSY").a)},ZOsW:function(e,t,n){"use strict";n.d(t,"a",function(){return Ie}),n.d(t,"b",function(){return De}),n.d(t,"c",function(){return ce}),n.d(t,"d",function(){return Ee});var i=n("fXoL"),o=n("3Pt+"),r=n("1G5W"),a=n("3UWI"),s=n("JX91"),c=n("vkgz"),l=n("Kj3r"),u=n("pLZG"),f=n("lJxs"),d=n("eNwd"),h=n("7Hc7"),p=n("XNiG"),b=n("xgIS"),g=n("VRyK"),m=n("ofXK"),v=["content"],y=["scroll"],_=["padding"],C=function(e){return{searchTerm:e}};function k(e,t){if(1&e&&(i.Rb(0,"div",6),i.Nb(1,7),i.Qb()),2&e){var n=i.fc();i.yb(1),i.mc("ngTemplateOutlet",n.headerTemplate)("ngTemplateOutletContext",i.qc(2,C,n.filterValue))}}function O(e,t){if(1&e&&(i.Rb(0,"div",8),i.Nb(1,7),i.Qb()),2&e){var n=i.fc();i.yb(1),i.mc("ngTemplateOutlet",n.footerTemplate)("ngTemplateOutletContext",i.qc(2,C,n.filterValue))}}var x=["*"],w=["searchInput"];function M(e,t){if(1&e){var n=i.Sb();i.Rb(0,"span",15),i.bc("click",function(){i.zc(n);var e=i.fc().$implicit;return i.fc(2).unselect(e)}),i.Kc(1,"\xd7"),i.Qb(),i.Mb(2,"span",16)}if(2&e){var o=i.fc().$implicit,r=i.fc(2);i.yb(2),i.mc("ngItemLabel",o.label)("escape",r.escapeHTML)}}function P(e,t){}var E=function(e,t,n){return{item:e,clear:t,label:n}};function S(e,t){if(1&e&&(i.Rb(0,"div",12),i.Ic(1,M,3,2,"ng-template",null,13,i.Jc),i.Ic(3,P,0,0,"ng-template",14),i.Qb()),2&e){var n=t.$implicit,o=i.vc(2),r=i.fc(2);i.Db("ng-value-disabled",n.disabled),i.yb(3),i.mc("ngTemplateOutlet",r.labelTemplate||o)("ngTemplateOutletContext",i.sc(4,E,n.value,r.clearItem,n.label))}}function R(e,t){if(1&e&&(i.Pb(0),i.Ic(1,S,4,8,"div",11),i.Ob()),2&e){var n=i.fc();i.yb(1),i.mc("ngForOf",n.selectedItems)("ngForTrackBy",n.trackByOption)}}function I(e,t){}var A=function(e,t){return{items:e,clear:t}};function T(e,t){if(1&e&&i.Ic(0,I,0,0,"ng-template",14),2&e){var n=i.fc();i.mc("ngTemplateOutlet",n.multiLabelTemplate)("ngTemplateOutletContext",i.rc(2,A,n.selectedValues,n.clearItem))}}function D(e,t){1&e&&i.Mb(0,"div",19)}function j(e,t){}function F(e,t){if(1&e&&(i.Pb(0),i.Ic(1,D,1,0,"ng-template",null,17,i.Jc),i.Ic(3,j,0,0,"ng-template",18),i.Ob()),2&e){var n=i.vc(2),o=i.fc();i.yb(3),i.mc("ngTemplateOutlet",o.loadingSpinnerTemplate||n)}}function Q(e,t){if(1&e&&(i.Rb(0,"span",20),i.Rb(1,"span",21),i.Kc(2,"\xd7"),i.Qb(),i.Qb()),2&e){var n=i.fc();i.nc("title",n.clearAllText)}}function L(e,t){if(1&e&&i.Mb(0,"span",27),2&e){var n=i.fc().$implicit,o=i.fc(2);i.mc("ngItemLabel",n.label)("escape",o.escapeHTML)}}function N(e,t){}var z=function(e,t,n,i){return{item:e,item$:t,index:n,searchTerm:i}};function V(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",25),i.bc("click",function(){i.zc(n);var e=t.$implicit;return i.fc(2).toggleItem(e)})("mouseover",function(){i.zc(n);var e=t.$implicit;return i.fc(2).onItemHover(e)}),i.Ic(1,L,1,2,"ng-template",null,26,i.Jc),i.Ic(3,N,0,0,"ng-template",14),i.Qb()}if(2&e){var o=t.$implicit,r=i.vc(2),a=i.fc(2);i.Db("ng-option-disabled",o.disabled)("ng-option-selected",o.selected)("ng-optgroup",o.children)("ng-option",!o.children)("ng-option-child",!!o.parent)("ng-option-marked",o===a.itemsList.markedItem),i.zb("role",o.children?"group":"option")("aria-selected",o.selected)("id",null==o?null:o.htmlId),i.yb(3),i.mc("ngTemplateOutlet",o.children?a.optgroupTemplate||r:a.optionTemplate||r)("ngTemplateOutletContext",i.tc(17,z,o.value,o,o.index,a.searchTerm))}}function B(e,t){if(1&e&&(i.Rb(0,"span"),i.Rb(1,"span",30),i.Kc(2),i.Qb(),i.Kc(3),i.Qb()),2&e){var n=i.fc(3);i.yb(2),i.Lc(n.addTagText),i.yb(1),i.Mc('"',n.searchTerm,'"')}}function U(e,t){}function H(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",28),i.bc("mouseover",function(){return i.zc(n),i.fc(2).itemsList.unmarkItem()})("click",function(){return i.zc(n),i.fc(2).selectTag()}),i.Ic(1,B,4,2,"ng-template",null,29,i.Jc),i.Ic(3,U,0,0,"ng-template",14),i.Qb()}if(2&e){var o=i.vc(2),r=i.fc(2);i.Db("ng-option-marked",!r.itemsList.markedItem),i.yb(3),i.mc("ngTemplateOutlet",r.tagTemplate||o)("ngTemplateOutletContext",i.qc(4,C,r.searchTerm))}}function K(e,t){if(1&e&&(i.Rb(0,"div",32),i.Kc(1),i.Qb()),2&e){var n=i.fc(3);i.yb(1),i.Lc(n.notFoundText)}}function q(e,t){}function $(e,t){if(1&e&&(i.Pb(0),i.Ic(1,K,2,1,"ng-template",null,31,i.Jc),i.Ic(3,q,0,0,"ng-template",14),i.Ob()),2&e){var n=i.vc(2),o=i.fc(2);i.yb(3),i.mc("ngTemplateOutlet",o.notFoundTemplate||n)("ngTemplateOutletContext",i.qc(2,C,o.searchTerm))}}function W(e,t){if(1&e&&(i.Rb(0,"div",32),i.Kc(1),i.Qb()),2&e){var n=i.fc(3);i.yb(1),i.Lc(n.typeToSearchText)}}function G(e,t){}function Y(e,t){if(1&e&&(i.Pb(0),i.Ic(1,W,2,1,"ng-template",null,33,i.Jc),i.Ic(3,G,0,0,"ng-template",18),i.Ob()),2&e){var n=i.vc(2),o=i.fc(2);i.yb(3),i.mc("ngTemplateOutlet",o.typeToSearchTemplate||n)}}function X(e,t){if(1&e&&(i.Rb(0,"div",32),i.Kc(1),i.Qb()),2&e){var n=i.fc(3);i.yb(1),i.Lc(n.loadingText)}}function Z(e,t){}function J(e,t){if(1&e&&(i.Pb(0),i.Ic(1,X,2,1,"ng-template",null,34,i.Jc),i.Ic(3,Z,0,0,"ng-template",14),i.Ob()),2&e){var n=i.vc(2),o=i.fc(2);i.yb(3),i.mc("ngTemplateOutlet",o.loadingTextTemplate||n)("ngTemplateOutletContext",i.qc(2,C,o.searchTerm))}}function ee(e,t){if(1&e){var n=i.Sb();i.Rb(0,"ng-dropdown-panel",22),i.bc("update",function(e){return i.zc(n),i.fc().viewPortItems=e})("scroll",function(e){return i.zc(n),i.fc().scroll.emit(e)})("scrollToEnd",function(e){return i.zc(n),i.fc().scrollToEnd.emit(e)})("outsideClick",function(){return i.zc(n),i.fc().close()}),i.Pb(1),i.Ic(2,V,4,22,"div",23),i.Ic(3,H,4,6,"div",24),i.Ob(),i.Ic(4,$,4,4,"ng-container",3),i.Ic(5,Y,4,1,"ng-container",3),i.Ic(6,J,4,4,"ng-container",3),i.Qb()}if(2&e){var o=i.fc();i.Db("ng-select-multiple",o.multiple),i.mc("virtualScroll",o.virtualScroll)("bufferAmount",o.bufferAmount)("appendTo",o.appendTo)("position",o.dropdownPosition)("headerTemplate",o.headerTemplate)("footerTemplate",o.footerTemplate)("filterValue",o.searchTerm)("items",o.itemsList.filteredItems)("markedItem",o.itemsList.markedItem)("ngClass",o.appendTo?o.classes:null)("id",o.dropdownId),i.yb(2),i.mc("ngForOf",o.viewPortItems)("ngForTrackBy",o.trackByOption),i.yb(1),i.mc("ngIf",o.showAddTag),i.yb(1),i.mc("ngIf",o.showNoItemsFound()),i.yb(1),i.mc("ngIf",o.showTypeToSearch()),i.yb(1),i.mc("ngIf",o.loading&&0===o.itemsList.filteredItems.length)}}var te=/[&<>"']/g,ne=RegExp(te.source),ie={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function oe(e){return null!=e}function re(e){return"object"==typeof e&&oe(e)}function ae(e){return e instanceof Function}var se=function(){var e=function(){function e(t){_classCallCheck(this,e),this.element=t,this.escape=!0}return _createClass(e,[{key:"ngOnChanges",value:function(e){var t;this.element.nativeElement.innerHTML=this.escape?(t=this.ngItemLabel)&&ne.test(t)?t.replace(te,function(e){return ie[e]}):t:this.ngItemLabel}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Lb(i.l))},e.\u0275dir=i.Gb({type:e,selectors:[["","ngItemLabel",""]],inputs:{escape:"escape",ngItemLabel:"ngItemLabel"},features:[i.wb]}),e}(),ce=function(){var e=function e(t){_classCallCheck(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(i.Lb(i.L))},e.\u0275dir=i.Gb({type:e,selectors:[["","ng-option-tmp",""]]}),e}(),le=function(){var e=function e(t){_classCallCheck(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(i.Lb(i.L))},e.\u0275dir=i.Gb({type:e,selectors:[["","ng-optgroup-tmp",""]]}),e}(),ue=function(){var e=function e(t){_classCallCheck(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(i.Lb(i.L))},e.\u0275dir=i.Gb({type:e,selectors:[["","ng-label-tmp",""]]}),e}(),fe=function(){var e=function e(t){_classCallCheck(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(i.Lb(i.L))},e.\u0275dir=i.Gb({type:e,selectors:[["","ng-multi-label-tmp",""]]}),e}(),de=function(){var e=function e(t){_classCallCheck(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(i.Lb(i.L))},e.\u0275dir=i.Gb({type:e,selectors:[["","ng-header-tmp",""]]}),e}(),he=function(){var e=function e(t){_classCallCheck(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(i.Lb(i.L))},e.\u0275dir=i.Gb({type:e,selectors:[["","ng-footer-tmp",""]]}),e}(),pe=function(){var e=function e(t){_classCallCheck(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(i.Lb(i.L))},e.\u0275dir=i.Gb({type:e,selectors:[["","ng-notfound-tmp",""]]}),e}(),be=function(){var e=function e(t){_classCallCheck(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(i.Lb(i.L))},e.\u0275dir=i.Gb({type:e,selectors:[["","ng-typetosearch-tmp",""]]}),e}(),ge=function(){var e=function e(t){_classCallCheck(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(i.Lb(i.L))},e.\u0275dir=i.Gb({type:e,selectors:[["","ng-loadingtext-tmp",""]]}),e}(),me=function(){var e=function e(t){_classCallCheck(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(i.Lb(i.L))},e.\u0275dir=i.Gb({type:e,selectors:[["","ng-tag-tmp",""]]}),e}(),ve=function(){var e=function e(t){_classCallCheck(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(i.Lb(i.L))},e.\u0275dir=i.Gb({type:e,selectors:[["","ng-loadingspinner-tmp",""]]}),e}(),ye=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Hb)({factory:function(){return new e},token:e,providedIn:"root"}),e}();function _e(){return"axxxxxxxxxxx".replace(/[x]/g,function(e){return(16*Math.random()|0).toString(16)})}var Ce={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"};function ke(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return Ce[e]||e})}var Oe=function(){function e(t,n){_classCallCheck(this,e),this._ngSelect=t,this._selectionModel=n,this._items=[],this._filteredItems=[],this._markedIndex=-1}return _createClass(e,[{key:"setItems",value:function(e){var t=this;this._items=e.map(function(e,n){return t.mapItem(e,n)}),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=_toConsumableArray(this._items)}},{key:"select",value:function(e){if(!e.selected&&!this.maxItemsSelected){var t=this._ngSelect.multiple;t||this.clearSelected(),this._selectionModel.select(e,t,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(e)}}},{key:"unselect",value:function(e){e.selected&&(this._selectionModel.unselect(e,this._ngSelect.multiple),this._ngSelect.hideSelected&&oe(e.index)&&this._ngSelect.multiple&&this._showSelected(e))}},{key:"findItem",value:function(e){var t,n=this;return t=this._ngSelect.compareWith?function(t){return n._ngSelect.compareWith(t.value,e)}:this._ngSelect.bindValue?function(t){return!t.children&&n.resolveNested(t.value,n._ngSelect.bindValue)===e}:function(t){return t.value===e||!t.children&&t.label&&t.label===n.resolveNested(e,n._ngSelect.bindLabel)},this._items.find(function(e){return t(e)})}},{key:"addItem",value:function(e){var t=this.mapItem(e,this._items.length);return this._items.push(t),this._filteredItems.push(t),t}},{key:"clearSelected",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._selectionModel.clear(e),this._items.forEach(function(t){t.selected=e&&t.selected&&t.disabled,t.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}},{key:"findByLabel",value:function(e){return e=ke(e).toLocaleLowerCase(),this.filteredItems.find(function(t){return ke(t.label).toLocaleLowerCase().substr(0,e.length)===e})}},{key:"filter",value:function(e){var t=this;if(e){this._filteredItems=[],e=this._ngSelect.searchFn?e:ke(e).toLocaleLowerCase();for(var n=this._ngSelect.searchFn||this._defaultSearchFn,i=this._ngSelect.hideSelected,o=0,r=Array.from(this._groups.keys());o<r.length;o++){var a,s=r[o],c=[],l=_createForOfIteratorHelper(this._groups.get(s));try{for(l.s();!(a=l.n()).done;){var u=a.value;i&&(u.parent&&u.parent.selected||u.selected)||n(e,this._ngSelect.searchFn?u.value:u)&&c.push(u)}}catch(f){l.e(f)}finally{l.f()}c.length>0&&function(){var e,n=_slicedToArray(c.slice(-1),1)[0];if(n.parent){var i=t._items.find(function(e){return e===n.parent});t._filteredItems.push(i)}(e=t._filteredItems).push.apply(e,c)}()}}else this.resetFilteredItems()}},{key:"resetFilteredItems",value:function(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter(function(e){return!e.selected}):this._items)}},{key:"unmarkItem",value:function(){this._markedIndex=-1}},{key:"markNextItem",value:function(){this._stepToItem(1)}},{key:"markPreviousItem",value:function(){this._stepToItem(-1)}},{key:"markItem",value:function(e){this._markedIndex=this._filteredItems.indexOf(e)}},{key:"markSelectedOrDefault",value:function(e){if(0!==this._filteredItems.length){var t=this._getLastMarkedIndex();this._markedIndex=t>-1?t:e?this.filteredItems.findIndex(function(e){return!e.disabled}):-1}}},{key:"resolveNested",value:function(e,t){if(!re(e))return e;if(-1===t.indexOf("."))return e[t];for(var n=t.split("."),i=e,o=0,r=n.length;o<r;++o){if(null==i)return null;i=i[n[o]]}return i}},{key:"mapItem",value:function(e,t){var n=oe(e.$ngOptionLabel)?e.$ngOptionLabel:this.resolveNested(e,this._ngSelect.bindLabel),i=oe(e.$ngOptionValue)?e.$ngOptionValue:e;return{index:t,label:oe(n)?n.toString():"",value:i,disabled:e.disabled,htmlId:"".concat(this._ngSelect.dropdownId,"-").concat(t)}}},{key:"mapSelectedItems",value:function(){var e,t=this,n=this._ngSelect.multiple,i=_createForOfIteratorHelper(this.selectedItems);try{for(i.s();!(e=i.n()).done;){var o=e.value,r=this._ngSelect.bindValue?this.resolveNested(o.value,this._ngSelect.bindValue):o.value,a=oe(r)?this.findItem(r):null;this._selectionModel.unselect(o,n),this._selectionModel.select(a||o,n,this._ngSelect.selectableGroupAsModel)}}catch(s){i.e(s)}finally{i.f()}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(function(e){return-1===t.selectedItems.indexOf(e)}))}},{key:"_showSelected",value:function(e){if(this._filteredItems.push(e),e.parent){var t=e.parent;this._filteredItems.find(function(e){return e===t})||this._filteredItems.push(t)}else if(e.children){var n,i=_createForOfIteratorHelper(e.children);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.selected=!1,this._filteredItems.push(o)}}catch(r){i.e(r)}finally{i.f()}}this._filteredItems=_toConsumableArray(this._filteredItems.sort(function(e,t){return e.index-t.index}))}},{key:"_hideSelected",value:function(e){this._filteredItems=this._filteredItems.filter(function(t){return t!==e}),e.parent?e.parent.children.every(function(e){return e.selected})&&(this._filteredItems=this._filteredItems.filter(function(t){return t!==e.parent})):e.children&&(this._filteredItems=this.filteredItems.filter(function(t){return t.parent!==e}))}},{key:"_defaultSearchFn",value:function(e,t){return ke(t.label).toLocaleLowerCase().indexOf(e)>-1}},{key:"_getNextItemIndex",value:function(e){return e>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}},{key:"_stepToItem",value:function(e){0===this._filteredItems.length||this._filteredItems.every(function(e){return e.disabled})||(this._markedIndex=this._getNextItemIndex(e),this.markedItem.disabled&&this._stepToItem(e))}},{key:"_getLastMarkedIndex",value:function(){if(this._ngSelect.hideSelected)return-1;if(this._markedIndex>-1&&void 0===this.markedItem)return-1;var e=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&e<0?-1:Math.max(this.markedIndex,e)}},{key:"_groupBy",value:function(e,t){var n=this,i=new Map;if(0===e.length)return i;if(Array.isArray(e[0].value[t])){var o,r=_createForOfIteratorHelper(e);try{for(r.s();!(o=r.n()).done;){var a=o.value,s=(a.value[t]||[]).map(function(e,t){return n.mapItem(e,t)});i.set(a,s)}}catch(b){r.e(b)}finally{r.f()}return i}var c,l=ae(this._ngSelect.groupBy),u=function(e){var n=l?t(e.value):e.value[t];return oe(n)?n:void 0},f=_createForOfIteratorHelper(e);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=u(d),p=i.get(h);p?p.push(d):i.set(h,[d])}}catch(b){f.e(b)}finally{f.f()}return i}},{key:"_flatten",value:function(e){for(var t=this,n=ae(this._ngSelect.groupBy),i=[],o=function(){var o=a[r],s=i.length;if(void 0===o){var c=e.get(void 0)||[];return i.push.apply(i,_toConsumableArray(c.map(function(e){return e.index=s++,e}))),"continue"}var l=re(o),u={label:l?"":String(o),children:void 0,parent:null,index:s++,disabled:!t._ngSelect.selectableGroup,htmlId:_e()},f=n?t._ngSelect.bindLabel:t._ngSelect.groupBy,d=t._ngSelect.groupValue||function(){return l?o.value:_defineProperty2({},f,o)},h=e.get(o).map(function(e){return e.parent=u,e.children=void 0,e.index=s++,e});u.children=h,u.value=d(o,h.map(function(e){return e.value})),i.push(u),i.push.apply(i,_toConsumableArray(h))},r=0,a=Array.from(e.keys());r<a.length;r++)o();return i}},{key:"items",get:function(){return this._items}},{key:"filteredItems",get:function(){return this._filteredItems}},{key:"markedIndex",get:function(){return this._markedIndex}},{key:"selectedItems",get:function(){return this._selectionModel.value}},{key:"markedItem",get:function(){return this._filteredItems[this._markedIndex]}},{key:"noItemsToSelect",get:function(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}},{key:"maxItemsSelected",get:function(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}},{key:"lastSelectedItem",get:function(){for(var e=this.selectedItems.length-1;e>=0;e--){var t=this.selectedItems[e];if(!t.disabled)return t}return null}}]),e}(),xe=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Esc=27]="Esc",e[e.Space=32]="Space",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowDown=40]="ArrowDown",e[e.Backspace=8]="Backspace",e}({}),we=function(){var e=function(){function e(){_classCallCheck(this,e),this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}return _createClass(e,[{key:"calculateItems",value:function(e,t,n){var i=this._dimensions,o=i.itemHeight*t,r=Math.max(0,e)/o*t,a=Math.min(t,Math.ceil(r)+(i.itemsPerViewport+1)),s=Math.max(0,a-i.itemsPerViewport),c=Math.min(s,Math.floor(r)),l=i.itemHeight*Math.ceil(c)-i.itemHeight*Math.min(c,n);return l=isNaN(l)?0:l,c=isNaN(c)?-1:c,a=isNaN(a)?-1:a,c-=n,a+=n,{topPadding:l,scrollHeight:o,start:c=Math.max(0,c),end:a=Math.min(t,a)}}},{key:"setDimensions",value:function(e,t){var n=Math.max(1,Math.floor(t/e));this._dimensions={itemHeight:e,panelHeight:t,itemsPerViewport:n}}},{key:"getScrollTo",value:function(e,t,n){var i=this.dimensions.panelHeight,o=e+t,r=n+i;return i>=o&&n===e?null:o>r?n+o-r:e<=n?e:null}},{key:"dimensions",get:function(){return this._dimensions}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Hb({token:e,factory:e.\u0275fac}),e}(),Me="undefined"!=typeof requestAnimationFrame?d.a:h.a,Pe=function(){var e=function(){function e(t,n,o,r,a){_classCallCheck(this,e),this._renderer=t,this._zone=n,this._panelService=o,this._document=a,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new i.n,this.scroll=new i.n,this.scrollToEnd=new i.n,this.outsideClick=new i.n,this._destroy$=new p.a,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=r.nativeElement}return _createClass(e,[{key:"handleMousedown",value:function(e){"INPUT"!==e.target.tagName&&e.preventDefault()}},{key:"ngOnInit",value:function(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown()}},{key:"ngOnChanges",value:function(e){if(e.items){var t=e.items;this._onItemsChange(t.currentValue,t.firstChange)}}},{key:"ngOnDestroy",value:function(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}},{key:"scrollTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var n=this.items.indexOf(e);if(!(n<0||n>=this.itemsLength)){var i;if(this.virtualScroll){var o=this._panelService.dimensions.itemHeight;i=this._panelService.getScrollTo(n*o,o,this._lastScrollPosition)}else{var r=this._dropdown.querySelector("#"+e.htmlId);i=this._panelService.getScrollTo(r.offsetTop,r.clientHeight,t?r.offsetTop:this._lastScrollPosition)}oe(i)&&(this._scrollablePanel.scrollTop=i)}}}},{key:"scrollToTag",value:function(){var e=this._scrollablePanel;e.scrollTop=e.scrollHeight-e.clientHeight}},{key:"adjustPosition",value:function(){this._updateYPosition()}},{key:"_handleDropdownPosition",value:function(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),"top"===this._currentPosition?(this._renderer.addClass(this._dropdown,"ng-select-top"),this._renderer.removeClass(this._dropdown,"ng-select-bottom"),this._renderer.addClass(this._select,"ng-select-top"),this._renderer.removeClass(this._select,"ng-select-bottom")):(this._renderer.addClass(this._dropdown,"ng-select-bottom"),this._renderer.removeClass(this._dropdown,"ng-select-top"),this._renderer.addClass(this._select,"ng-select-bottom"),this._renderer.removeClass(this._select,"ng-select-top")),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}},{key:"_handleScroll",value:function(){var e=this;this._zone.runOutsideAngular(function(){Object(b.a)(e.scrollElementRef.nativeElement,"scroll").pipe(Object(r.a)(e._destroy$),Object(a.a)(0,Me)).subscribe(function(t){var n=t.path||t.composedPath&&t.composedPath();e._onContentScrolled(n&&0!==n.length?n[0].scrollTop:t.target.scrollTop)})})}},{key:"_handleOutsideClick",value:function(){var e=this;this._document&&this._zone.runOutsideAngular(function(){Object(g.a)(Object(b.a)(e._document,"touchstart",{capture:!0}),Object(b.a)(e._document,"mousedown",{capture:!0})).pipe(Object(r.a)(e._destroy$)).subscribe(function(t){return e._checkToClose(t)})})}},{key:"_checkToClose",value:function(e){var t=this;if(!this._select.contains(e.target)&&!this._dropdown.contains(e.target)){var n=e.path||e.composedPath&&e.composedPath();e.target&&e.target.shadowRoot&&n&&n[0]&&this._select.contains(n[0])||this._zone.run(function(){return t.outsideClick.emit()})}}},{key:"_onItemsChange",value:function(e,t){this.items=e||[],this._scrollToEndFired=!1,this.itemsLength=e.length,this.virtualScroll?this._updateItemsRange(t):(this._setVirtualHeight(),this._updateItems(t))}},{key:"_updateItems",value:function(e){var t=this;this.update.emit(this.items),!1!==e&&this._zone.runOutsideAngular(function(){Promise.resolve().then(function(){t._panelService.setDimensions(0,t._scrollablePanel.clientHeight),t._handleDropdownPosition(),t.scrollTo(t.markedItem,e)})})}},{key:"_updateItemsRange",value:function(e){var t=this;this._zone.runOutsideAngular(function(){t._measureDimensions().then(function(){e?(t._renderItemsRange(t._startOffset),t._handleDropdownPosition()):t._renderItemsRange()})})}},{key:"_onContentScrolled",value:function(e){this.virtualScroll&&this._renderItemsRange(e),this._lastScrollPosition=e,this._fireScrollToEnd(e)}},{key:"_updateVirtualHeight",value:function(e){this._updateScrollHeight&&(this._virtualPadding.style.height=e+"px",this._updateScrollHeight=!1)}},{key:"_setVirtualHeight",value:function(){this._virtualPadding&&(this._virtualPadding.style.height="0px")}},{key:"_onItemsLengthChanged",value:function(){this._updateScrollHeight=!0}},{key:"_renderItemsRange",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!t||this._lastScrollPosition!==t){var n=this._panelService.calculateItems(t=t||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(n.scrollHeight),this._contentPanel.style.transform="translateY(".concat(n.topPadding,"px)"),this._zone.run(function(){e.update.emit(e.items.slice(n.start,n.end)),e.scroll.emit({start:n.start,end:n.end})}),oe(t)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=t,this._lastScrollPosition=t)}}},{key:"_measureDimensions",value:function(){var e=this;if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);var t=_slicedToArray(this.items,1)[0];return this.update.emit([t]),Promise.resolve().then(function(){var n=e._dropdown.querySelector("#"+t.htmlId).clientHeight;return e._virtualPadding.style.height=n*e.itemsLength+"px",e._panelService.setDimensions(n,e._scrollablePanel.clientHeight),e._panelService.dimensions})}},{key:"_fireScrollToEnd",value:function(e){var t=this;this._scrollToEndFired||0===e||e+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight&&(this._zone.run(function(){return t.scrollToEnd.emit()}),this._scrollToEndFired=!0)}},{key:"_calculateCurrentPosition",value:function(e){if("auto"!==this.position)return this.position;var t=this._select.getBoundingClientRect(),n=document.documentElement.scrollTop||document.body.scrollTop;return t.top+window.pageYOffset+t.height+e.getBoundingClientRect().height>n+document.documentElement.clientHeight?"top":"bottom"}},{key:"_appendDropdown",value:function(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error("appendTo selector ".concat(this.appendTo," did not found any parent element"));this._updateXPosition(),this._parent.appendChild(this._dropdown)}}},{key:"_updateXPosition",value:function(){var e=this._select.getBoundingClientRect(),t=this._parent.getBoundingClientRect();this._dropdown.style.left=e.left-t.left+"px",this._dropdown.style.width=e.width+"px",this._dropdown.style.minWidth=e.width+"px"}},{key:"_updateYPosition",value:function(){var e=this._select.getBoundingClientRect(),t=this._parent.getBoundingClientRect(),n=e.height;"top"===this._currentPosition?(this._dropdown.style.bottom=t.bottom-e.bottom+n+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=e.top-t.top+n+"px",this._dropdown.style.bottom="auto")}},{key:"currentPosition",get:function(){return this._currentPosition}},{key:"itemsLength",get:function(){return this._itemsLength},set:function(e){e!==this._itemsLength&&(this._itemsLength=e,this._onItemsLengthChanged())}},{key:"_startOffset",get:function(){if(this.markedItem){var e=this._panelService.dimensions,t=e.itemHeight,n=e.panelHeight,i=this.markedItem.index*t;return n>i?0:i}return 0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Lb(i.E),i.Lb(i.z),i.Lb(we),i.Lb(i.l),i.Lb(m.c,8))},e.\u0275cmp=i.Fb({type:e,selectors:[["ng-dropdown-panel"]],viewQuery:function(e,t){var n;(1&e&&(i.Fc(v,!0,i.l),i.Fc(y,!0,i.l),i.Fc(_,!0,i.l)),2&e)&&(i.uc(n=i.cc())&&(t.contentElementRef=n.first),i.uc(n=i.cc())&&(t.scrollElementRef=n.first),i.uc(n=i.cc())&&(t.paddingElementRef=n.first))},hostBindings:function(e,t){1&e&&i.bc("mousedown",function(e){return t.handleMousedown(e)})},inputs:{items:"items",position:"position",virtualScroll:"virtualScroll",filterValue:"filterValue",markedItem:"markedItem",appendTo:"appendTo",bufferAmount:"bufferAmount",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[i.wb],ngContentSelectors:x,decls:9,vars:6,consts:[["class","ng-dropdown-header",4,"ngIf"],[1,"ng-dropdown-panel-items","scroll-host"],["scroll",""],["padding",""],["content",""],["class","ng-dropdown-footer",4,"ngIf"],[1,"ng-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-dropdown-footer"]],template:function(e,t){1&e&&(i.lc(),i.Ic(0,k,2,4,"div",0),i.Rb(1,"div",1,2),i.Mb(3,"div",null,3),i.Rb(5,"div",null,4),i.kc(7),i.Qb(),i.Qb(),i.Ic(8,O,2,4,"div",5)),2&e&&(i.mc("ngIf",t.headerTemplate),i.yb(3),i.Db("total-padding",t.virtualScroll),i.yb(2),i.Db("scrollable-content",t.virtualScroll&&t.items.length),i.yb(3),i.mc("ngIf",t.footerTemplate))},directives:[m.n,m.p],encapsulation:2,changeDetection:0}),e}(),Ee=function(){var e=function(){function e(t){_classCallCheck(this,e),this.elementRef=t,this.stateChange$=new p.a,this._disabled=!1}return _createClass(e,[{key:"ngOnChanges",value:function(e){e.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}},{key:"ngAfterViewChecked",value:function(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}},{key:"ngOnDestroy",value:function(){this.stateChange$.complete()}},{key:"_isDisabled",value:function(e){return null!=e&&""+e!="false"}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=this._isDisabled(e)}},{key:"label",get:function(){return(this.elementRef.nativeElement.textContent||"").trim()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Lb(i.l))},e.\u0275cmp=i.Fb({type:e,selectors:[["ng-option"]],inputs:{disabled:"disabled",value:"value"},features:[i.wb],ngContentSelectors:x,decls:1,vars:0,template:function(e,t){1&e&&(i.lc(),i.kc(0))},encapsulation:2,changeDetection:0}),e}(),Se=function(){var e=function e(){_classCallCheck(this,e),this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Hb)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),Re=new i.q("ng-select-selection-model"),Ie=function(){var e=function(){function e(t,n,o,r,a,s,c){var l=this;_classCallCheck(this,e),this.classes=t,this.autoFocus=n,this._cd=s,this._console=c,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=function(e){return!0},this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new i.n,this.focusEvent=new i.n,this.changeEvent=new i.n,this.openEvent=new i.n,this.closeEvent=new i.n,this.searchEvent=new i.n,this.clearEvent=new i.n,this.addEvent=new i.n,this.removeEvent=new i.n,this.scroll=new i.n,this.scrollToEnd=new i.n,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=_e(),this.escapeHTML=!0,this.useDefaultClass=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new p.a,this._keyPress$=new p.a,this._onChange=function(e){},this._onTouched=function(){},this.clearItem=function(e){var t=l.selectedItems.find(function(t){return t.value===e});l.unselect(t)},this.trackByOption=function(e,t){return l.trackByFn?l.trackByFn(t.value):t},this._mergeGlobalConfig(o),this.itemsList=new Oe(this,r()),this.element=a.nativeElement}return _createClass(e,[{key:"ngOnInit",value:function(){this._handleKeyPresses(),this._setInputAttributes()}},{key:"ngOnChanges",value:function(e){e.multiple&&this.itemsList.clearSelected(),e.items&&this._setItems(e.items.currentValue||[]),e.isOpen&&(this._manualOpen=oe(e.isOpen.currentValue))}},{key:"ngAfterViewInit",value:function(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),oe(this.autoFocus)&&this.focus()}},{key:"ngOnDestroy",value:function(){this._destroy$.next(),this._destroy$.complete()}},{key:"handleKeyDown",value:function(e){if(xe[e.which]){if(!1===this.keyDownFn(e))return;this.handleKeyCode(e)}else e.key&&1===e.key.length&&this._keyPress$.next(e.key.toLocaleLowerCase())}},{key:"handleKeyCode",value:function(e){switch(e.which){case xe.ArrowDown:this._handleArrowDown(e);break;case xe.ArrowUp:this._handleArrowUp(e);break;case xe.Space:this._handleSpace(e);break;case xe.Enter:this._handleEnter(e);break;case xe.Tab:this._handleTab(e);break;case xe.Esc:this.close(),e.preventDefault();break;case xe.Backspace:this._handleBackspace()}}},{key:"handleMousedown",value:function(e){var t=e.target;"INPUT"!==t.tagName&&e.preventDefault(),t.classList.contains("ng-clear-wrapper")?this.handleClearClick():t.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():t.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}},{key:"handleArrowClick",value:function(){this.isOpen?this.close():this.open()}},{key:"handleClearClick",value:function(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}},{key:"clearModel",value:function(){this.clearable&&(this.itemsList.clearSelected(),this._updateNgModel())}},{key:"writeValue",value:function(e){this.itemsList.clearSelected(),this._handleWriteValue(e),this._cd.markForCheck()}},{key:"registerOnChange",value:function(e){this._onChange=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"setDisabledState",value:function(e){this._disabled=e,this._cd.markForCheck()}},{key:"toggle",value:function(){this.isOpen?this.close():this.open()}},{key:"open",value:function(){this.disabled||this.isOpen||this.itemsList.maxItemsSelected||this._manualOpen||(this._isTypeahead||this.addTag||!this.itemsList.noItemsToSelect)&&(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}},{key:"close",value:function(){this.isOpen&&!this._manualOpen&&(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}},{key:"toggleItem",value:function(e){!e||e.disabled||this.disabled||(this.multiple&&e.selected?this.unselect(e):this.select(e),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}},{key:"select",value:function(e){e.selected||(this.itemsList.select(e),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(e.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}},{key:"focus",value:function(){this.searchInput.nativeElement.focus()}},{key:"blur",value:function(){this.searchInput.nativeElement.blur()}},{key:"unselect",value:function(e){e&&(this.itemsList.unselect(e),this.focus(),this._updateNgModel(),this.removeEvent.emit(e))}},{key:"selectTag",value:function(){var e,t=this;e=ae(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:_defineProperty2({},this.bindLabel,this.searchTerm);var n=function(e){return t._isTypeahead||!t.isOpen?t.itemsList.mapItem(e,null):t.itemsList.addItem(e)};e instanceof Promise?e.then(function(e){return t.select(n(e))}).catch(function(){}):e&&this.select(n(e))}},{key:"showClear",value:function(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}},{key:"showNoItemsFound",value:function(){var e=0===this.itemsList.filteredItems.length;return(e&&!this._isTypeahead&&!this.loading||e&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}},{key:"showTypeToSearch",value:function(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}},{key:"onCompositionStart",value:function(){this._isComposing=!0}},{key:"onCompositionEnd",value:function(e){this._isComposing=!1,this.searchWhileComposing||this.filter(e)}},{key:"filter",value:function(e){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=e,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(e),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:e,items:this.itemsList.filteredItems.map(function(e){return e.value})}),this.open())}},{key:"onInputFocus",value:function(e){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(e),this.focused=!0)}},{key:"onInputBlur",value:function(e){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(e),this.isOpen||this.disabled||this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}},{key:"onItemHover",value:function(e){e.disabled||this.itemsList.markItem(e)}},{key:"detectChanges",value:function(){this._cd.destroyed||this._cd.detectChanges()}},{key:"_setSearchTermFromItems",value:function(){var e=this.selectedItems&&this.selectedItems[0];this.searchTerm=e&&e.label||null}},{key:"_setItems",value:function(e){var t=e[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=oe(t)?!re(t):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(e),e.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&oe(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}},{key:"_setItemsFromNgOptions",value:function(){var e=this;this.ngOptions.changes.pipe(Object(s.a)(this.ngOptions),Object(r.a)(this._destroy$)).subscribe(function(t){var n;e.bindLabel=e._defaultLabel,function(t){e.items=t.map(function(e){return{$ngOptionValue:e.value,$ngOptionLabel:e.elementRef.nativeElement.innerHTML,disabled:e.disabled}}),e.itemsList.setItems(e.items),e.hasValue&&e.itemsList.mapSelectedItems(),e.detectChanges()}(t),n=Object(g.a)(e.ngOptions.changes,e._destroy$),Object(g.a).apply(void 0,_toConsumableArray(e.ngOptions.map(function(e){return e.stateChange$}))).pipe(Object(r.a)(n)).subscribe(function(t){var n=e.itemsList.findItem(t.value);n.disabled=t.disabled,n.label=t.label||n.label,e._cd.detectChanges()})})}},{key:"_isValidWriteValue",value:function(e){var t=this;if(!oe(e)||this.multiple&&""===e||Array.isArray(e)&&0===e.length)return!1;var n=function(e){return!(!oe(t.compareWith)&&re(e)&&t.bindValue&&(t._console.warn("Setting object(".concat(JSON.stringify(e),") as your model with bindValue is not allowed unless [compareWith] is used.")),1))};return this.multiple?Array.isArray(e)?e.every(function(e){return n(e)}):(this._console.warn("Multiple select ngModel should be array."),!1):n(e)}},{key:"_handleWriteValue",value:function(e){var t=this;if(this._isValidWriteValue(e)){var n=function(e){var n=t.itemsList.findItem(e);if(n)t.itemsList.select(n);else{var i,o=re(e),r=!o&&!t.bindValue;o||r?t.itemsList.select(t.itemsList.mapItem(e,null)):t.bindValue&&(_defineProperty2(i={},t.bindLabel,null),_defineProperty2(i,t.bindValue,e),n=i,t.itemsList.select(t.itemsList.mapItem(n,null)))}};this.multiple?e.forEach(function(e){return n(e)}):n(e)}}},{key:"_handleKeyPresses",value:function(){var e=this;this.searchable||this._keyPress$.pipe(Object(r.a)(this._destroy$),Object(c.a)(function(t){return e._pressedKeys.push(t)}),Object(l.a)(200),Object(u.a)(function(){return e._pressedKeys.length>0}),Object(f.a)(function(){return e._pressedKeys.join("")})).subscribe(function(t){var n=e.itemsList.findByLabel(t);n&&(e.isOpen?(e.itemsList.markItem(n),e._scrollToMarked(),e._cd.markForCheck()):e.select(n)),e._pressedKeys=[]})}},{key:"_setInputAttributes",value:function(){for(var e=this.searchInput.nativeElement,t=Object.assign({type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId},this.inputAttrs),n=0,i=Object.keys(t);n<i.length;n++){var o=i[n];e.setAttribute(o,t[o])}}},{key:"_updateNgModel",value:function(){var e,t=[],n=_createForOfIteratorHelper(this.selectedItems);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(this.bindValue){var o;o=i.children?i.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(i.value,this.bindValue),t.push(o)}else t.push(i.value)}}catch(a){n.e(a)}finally{n.f()}var r=this.selectedItems.map(function(e){return e.value});this.multiple?(this._onChange(t),this.changeEvent.emit(r)):(this._onChange(oe(t[0])?t[0]:null),this.changeEvent.emit(r[0])),this._cd.markForCheck()}},{key:"_clearSearch",value:function(){this.searchTerm&&(this._changeSearch(null),this.itemsList.resetFilteredItems())}},{key:"_changeSearch",value:function(e){this.searchTerm=e,this._isTypeahead&&this.typeahead.next(e)}},{key:"_scrollToMarked",value:function(){this.isOpen&&this.dropdownPanel&&this.dropdownPanel.scrollTo(this.itemsList.markedItem)}},{key:"_scrollToTag",value:function(){this.isOpen&&this.dropdownPanel&&this.dropdownPanel.scrollToTag()}},{key:"_onSelectionChanged",value:function(){this.isOpen&&this.multiple&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}},{key:"_handleTab",value:function(e){(!1!==this.isOpen||this.addTag)&&(this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),e.preventDefault()):this.showAddTag?(this.selectTag(),e.preventDefault()):this.close():this.close())}},{key:"_handleEnter",value:function(e){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}e.preventDefault()}},{key:"_handleSpace",value:function(e){this.isOpen||this._manualOpen||(this.open(),e.preventDefault())}},{key:"_handleArrowDown",value:function(e){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),e.preventDefault()}},{key:"_handleArrowUp",value:function(e){this.isOpen&&(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),e.preventDefault())}},{key:"_nextItemIsTag",value:function(e){var t=this.itemsList.markedIndex+e;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(t<0||t===this.itemsList.filteredItems.length)}},{key:"_handleBackspace",value:function(){!this.searchTerm&&this.clearable&&this.clearOnBackspace&&this.hasValue&&(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}},{key:"_mergeGlobalConfig",value:function(e){this.placeholder=this.placeholder||e.placeholder,this.notFoundText=this.notFoundText||e.notFoundText,this.typeToSearchText=this.typeToSearchText||e.typeToSearchText,this.addTagText=this.addTagText||e.addTagText,this.loadingText=this.loadingText||e.loadingText,this.clearAllText=this.clearAllText||e.clearAllText,this.virtualScroll=oe(this.virtualScroll)?this.virtualScroll:!!oe(e.disableVirtualScroll)&&!e.disableVirtualScroll,this.openOnEnter=oe(this.openOnEnter)?this.openOnEnter:e.openOnEnter,this.appendTo=this.appendTo||e.appendTo,this.bindValue=this.bindValue||e.bindValue,this.bindLabel=this.bindLabel||e.bindLabel,this.appearance=this.appearance||e.appearance}},{key:"items",get:function(){return this._items},set:function(e){this._itemsAreUsed=!0,this._items=e}},{key:"compareWith",get:function(){return this._compareWith},set:function(e){if(null!=e&&!ae(e))throw Error("`compareWith` must be a function.");this._compareWith=e}},{key:"clearSearchOnAdd",get:function(){return oe(this._clearSearchOnAdd)?this._clearSearchOnAdd:this.closeOnSelect},set:function(e){this._clearSearchOnAdd=e}},{key:"disabled",get:function(){return this.readonly||this._disabled}},{key:"filtered",get:function(){return!!this.searchTerm&&this.searchable||this._isComposing}},{key:"_editableSearchTerm",get:function(){return this.editableSearchTerm&&!this.multiple}},{key:"selectedItems",get:function(){return this.itemsList.selectedItems}},{key:"selectedValues",get:function(){return this.selectedItems.map(function(e){return e.value})}},{key:"hasValue",get:function(){return this.selectedItems.length>0}},{key:"currentPanelPosition",get:function(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}},{key:"showAddTag",get:function(){if(!this._validTerm)return!1;var e=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(function(t){return t.label.toLowerCase()===e})&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(function(t){return t.label.toLowerCase()===e}))&&!this.loading}},{key:"_isTypeahead",get:function(){return this.typeahead&&this.typeahead.observers.length>0}},{key:"_validTerm",get:function(){var e=this.searchTerm&&this.searchTerm.trim();return e&&e.length>=this.minTermLength}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Zb("class"),i.Zb("autofocus"),i.Lb(Se),i.Lb(Re),i.Lb(i.l),i.Lb(i.h),i.Lb(ye))},e.\u0275cmp=i.Fb({type:e,selectors:[["ng-select"]],contentQueries:function(e,t,n){var o;(1&e&&(i.Eb(n,ce,!0,i.L),i.Eb(n,le,!0,i.L),i.Eb(n,ue,!0,i.L),i.Eb(n,fe,!0,i.L),i.Eb(n,de,!0,i.L),i.Eb(n,he,!0,i.L),i.Eb(n,pe,!0,i.L),i.Eb(n,be,!0,i.L),i.Eb(n,ge,!0,i.L),i.Eb(n,me,!0,i.L),i.Eb(n,ve,!0,i.L),i.Eb(n,Ee,!0)),2&e)&&(i.uc(o=i.cc())&&(t.optionTemplate=o.first),i.uc(o=i.cc())&&(t.optgroupTemplate=o.first),i.uc(o=i.cc())&&(t.labelTemplate=o.first),i.uc(o=i.cc())&&(t.multiLabelTemplate=o.first),i.uc(o=i.cc())&&(t.headerTemplate=o.first),i.uc(o=i.cc())&&(t.footerTemplate=o.first),i.uc(o=i.cc())&&(t.notFoundTemplate=o.first),i.uc(o=i.cc())&&(t.typeToSearchTemplate=o.first),i.uc(o=i.cc())&&(t.loadingTextTemplate=o.first),i.uc(o=i.cc())&&(t.tagTemplate=o.first),i.uc(o=i.cc())&&(t.loadingSpinnerTemplate=o.first),i.uc(o=i.cc())&&(t.ngOptions=o))},viewQuery:function(e,t){var n;(1&e&&(i.Pc(Pe,!0),i.Fc(w,!0)),2&e)&&(i.uc(n=i.cc())&&(t.dropdownPanel=n.first),i.uc(n=i.cc())&&(t.searchInput=n.first))},hostVars:20,hostBindings:function(e,t){1&e&&i.bc("keydown",function(e){return t.handleKeyDown(e)}),2&e&&i.Db("ng-select",t.useDefaultClass)("ng-select-single",!t.multiple)("ng-select-multiple",t.multiple)("ng-select-taggable",t.addTag)("ng-select-searchable",t.searchable)("ng-select-clearable",t.clearable)("ng-select-opened",t.isOpen)("ng-select-disabled",t.disabled)("ng-select-filtered",t.filtered)("ng-select-typeahead",t.typeahead)},inputs:{markFirst:"markFirst",dropdownPosition:"dropdownPosition",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",bufferAmount:"bufferAmount",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",keyDownFn:"keyDownFn",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd",bindLabel:"bindLabel",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",virtualScroll:"virtualScroll",openOnEnter:"openOnEnter",appendTo:"appendTo",bindValue:"bindValue",appearance:"appearance",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",tabIndex:"tabIndex",typeahead:"typeahead"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[i.xb([{provide:o.m,useExisting:Object(i.T)(function(){return e}),multi:!0},we]),i.wb],decls:14,vars:19,consts:[[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[4,"ngIf"],["role","combobox","aria-haspopup","listbox",1,"ng-input"],["aria-autocomplete","list",3,"readOnly","disabled","value","input","compositionstart","compositionend","focus","blur","change"],["searchInput",""],["class","ng-clear-wrapper",3,"title",4,"ngIf"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["class","ng-dropdown-panel","role","listbox","aria-label","Options list",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","ng-value",3,"ng-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ng-value"],["defaultLabelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],["defaultLoadingSpinnerTemplate",""],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],[1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","update","scroll","scrollToEnd","outsideClick"],["class","ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","ng-option","role","option",3,"ng-option-marked","mouseover","click",4,"ngIf"],[1,"ng-option",3,"click","mouseover"],["defaultOptionTemplate",""],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],["defaultTagTemplate",""],[1,"ng-tag-label"],["defaultNotFoundTemplate",""],[1,"ng-option","ng-option-disabled"],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""]],template:function(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",0),i.bc("mousedown",function(e){return t.handleMousedown(e)}),i.Rb(1,"div",1),i.Rb(2,"div",2),i.Kc(3),i.Qb(),i.Ic(4,R,2,2,"ng-container",3),i.Ic(5,T,1,5,void 0,3),i.Rb(6,"div",4),i.Rb(7,"input",5,6),i.bc("input",function(){i.zc(n);var e=i.vc(8);return t.filter(e.value)})("compositionstart",function(){return t.onCompositionStart()})("compositionend",function(){i.zc(n);var e=i.vc(8);return t.onCompositionEnd(e.value)})("focus",function(e){return t.onInputFocus(e)})("blur",function(e){return t.onInputBlur(e)})("change",function(e){return e.stopPropagation()}),i.Qb(),i.Qb(),i.Qb(),i.Ic(9,F,4,1,"ng-container",3),i.Ic(10,Q,3,1,"span",7),i.Rb(11,"span",8),i.Mb(12,"span",9),i.Qb(),i.Qb(),i.Ic(13,ee,7,19,"ng-dropdown-panel",10)}2&e&&(i.Db("ng-appearance-outline","outline"===t.appearance)("ng-has-value",t.hasValue),i.yb(3),i.Lc(t.placeholder),i.yb(1),i.mc("ngIf",(!t.multiLabelTemplate||!t.multiple)&&t.selectedItems.length>0),i.yb(1),i.mc("ngIf",t.multiple&&t.multiLabelTemplate&&t.selectedValues.length>0),i.yb(1),i.zb("aria-expanded",t.isOpen)("aria-owns",t.isOpen?t.dropdownId:null),i.yb(1),i.mc("readOnly",!t.searchable||t.itemsList.maxItemsSelected)("disabled",t.disabled)("value",t.searchTerm?t.searchTerm:""),i.zb("id",t.labelForId)("tabindex",t.tabIndex)("aria-activedescendant",t.isOpen?null==t.itemsList||null==t.itemsList.markedItem?null:t.itemsList.markedItem.htmlId:null)("aria-controls",t.isOpen?t.dropdownId:null),i.yb(2),i.mc("ngIf",t.loading),i.yb(1),i.mc("ngIf",t.showClear()),i.yb(3),i.mc("ngIf",t.isOpen))},directives:[m.n,m.m,m.p,se,Pe,m.l],styles:['.ng-select{display:block;position:relative}.ng-select,.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;cursor:default;user-select:none}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{background:none transparent;border:0;box-shadow:none;box-sizing:content-box;cursor:default;outline:none;padding:0;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;padding:0;user-select:none;width:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{left:0;position:absolute;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;cursor:pointer;position:relative;user-select:none;width:17px}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{-webkit-animation:load8 .8s linear infinite;animation:load8 .8s linear infinite;border:2px solid rgba(66,66,66,.2);border-left-color:#424242;border-radius:50%;font-size:10px;height:17px;margin-right:5px;position:relative;text-indent:-9999em;transform:translateZ(0);width:17px}.ng-select .ng-spinner-loader:after{border-radius:50%;height:17px;width:17px}@-webkit-keyframes load8{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes load8{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ng-select .ng-arrow-wrapper{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;cursor:pointer;position:relative;text-align:center;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{display:inline-block;height:0;pointer-events:none;position:relative;width:0}.ng-dropdown-panel{-webkit-overflow-scrolling:touch;box-sizing:border-box;opacity:0;position:absolute;width:100%;z-index:1050}.ng-dropdown-panel .ng-dropdown-panel-items{box-sizing:border-box;display:block;height:auto;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup,.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{-webkit-overflow-scrolling:touch;display:block;overflow:hidden;overflow-y:auto;position:relative}.ng-dropdown-panel .scrollable-content{height:100%;left:0;position:absolute;top:0;width:100%}.ng-dropdown-panel .total-padding{opacity:0;width:1px}'],encapsulation:2,changeDetection:0}),e}(),Ae=function(){function e(){_classCallCheck(this,e),this._selected=[]}return _createClass(e,[{key:"select",value:function(e,t,n){if(e.selected=!0,(!e.children||!t&&n)&&this._selected.push(e),t)if(e.parent){var i=e.parent.children.length,o=e.parent.children.filter(function(e){return e.selected}).length;e.parent.selected=i===o}else e.children&&(this._setChildrenSelectedState(e.children,!0),this._removeChildren(e),this._selected=n&&this._activeChildren(e)?[].concat(_toConsumableArray(this._selected.filter(function(t){return t.parent!==e})),[e]):[].concat(_toConsumableArray(this._selected),_toConsumableArray(e.children.filter(function(e){return!e.disabled}))))}},{key:"unselect",value:function(e,t){if(this._selected=this._selected.filter(function(t){return t!==e}),e.selected=!1,t)if(e.parent&&e.parent.selected){var n,i=e.parent.children;this._removeParent(e.parent),this._removeChildren(e.parent),(n=this._selected).push.apply(n,_toConsumableArray(i.filter(function(t){return t!==e&&!t.disabled}))),e.parent.selected=!1}else e.children&&(this._setChildrenSelectedState(e.children,!1),this._removeChildren(e))}},{key:"clear",value:function(e){this._selected=e?this._selected.filter(function(e){return e.disabled}):[]}},{key:"_setChildrenSelectedState",value:function(e,t){var n,i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.disabled||(o.selected=t)}}catch(r){i.e(r)}finally{i.f()}}},{key:"_removeChildren",value:function(e){this._selected=[].concat(_toConsumableArray(this._selected.filter(function(t){return t.parent!==e})),_toConsumableArray(e.children.filter(function(t){return t.parent===e&&t.disabled&&t.selected})))}},{key:"_removeParent",value:function(e){this._selected=this._selected.filter(function(t){return t!==e})}},{key:"_activeChildren",value:function(e){return e.children.every(function(e){return!e.disabled||e.selected})}},{key:"value",get:function(){return this._selected}}]),e}(),Te=function(){return new Ae},De=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=i.Jb({type:e}),e.\u0275inj=i.Ib({factory:function(t){return new(t||e)},providers:[{provide:Re,useValue:Te}],imports:[[m.b]]}),e}()},ZUHj:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o){var r;return _classCallCheck(this,n),(r=t.call(this)).parent=e,r.outerValue=i,r.outerIndex=o,r.index=0,r}return _createClass(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("7o/Q").a),o=n("SeVD"),r=n("HDdC");function a(e,t,n,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new i(e,n,a);if(!s.closed)return t instanceof r.a?t.subscribe(s):Object(o.a)(t)(s)}},aK3z:function(e,t,n){window,e.exports=function(e,t){if("undefined"==typeof Promise)throw Error("Keycloak requires an environment that supports Promises. Make sure that you include the appropriate polyfill.");var n=!1;function i(){n||(n=!0,console.warn("[KEYCLOAK] Usage of legacy style promise methods such as `.error()` and `.success()` has been deprecated and support will be removed in future versions. Use standard style promise methods such as `.then() and `.catch()` instead."))}return function n(o){if(!(this instanceof n))return new n(o);for(var r,a,s=this,c=[],l={enable:!0,callbackList:[],interval:5},u=document.getElementsByTagName("script"),f=0;f<u.length;f++)-1===u[f].src.indexOf("keycloak.js")&&-1===u[f].src.indexOf("keycloak.min.js")||-1===u[f].src.indexOf("version=")||(s.iframeVersion=u[f].src.substring(u[f].src.indexOf("version=")+8).split("&")[0]);var d=!0,h=A(console.info),p=A(console.warn);function b(e,t){for(var n=function(e){var t=null,n=window.crypto||window.msCrypto;if(n&&n.getRandomValues&&window.Uint8Array)return t=new Uint8Array(e),n.getRandomValues(t),t;t=new Array(e);for(var i=0;i<t.length;i++)t[i]=Math.floor(256*Math.random());return t}(e),i=new Array(e),o=0;o<e;o++)i[o]=t.charCodeAt(n[o]%t.length);return String.fromCharCode.apply(null,i)}function g(){return void 0!==s.authServerUrl?"/"==s.authServerUrl.charAt(s.authServerUrl.length-1)?s.authServerUrl+"realms/"+encodeURIComponent(s.realm):s.authServerUrl+"/realms/"+encodeURIComponent(s.realm):void 0}function m(e,t){var n=e.code,i=e.error,o=e.prompt,r=(new Date).getTime();if(e.kc_action_status&&s.onActionUpdate&&s.onActionUpdate(e.kc_action_status),i)if("none"!=o){var a={error:i,error_description:e.error_description};s.onAuthError&&s.onAuthError(a),t&&t.setError(a)}else t&&t.setSuccess();else if("standard"!=s.flow&&(e.access_token||e.id_token)&&f(e.access_token,null,e.id_token,!0),"implicit"!=s.flow&&n){var c="code="+n+"&grant_type=authorization_code",l=s.endpoints.token(),u=new XMLHttpRequest;u.open("POST",l,!0),u.setRequestHeader("Content-type","application/x-www-form-urlencoded"),c+="&client_id="+encodeURIComponent(s.clientId),c+="&redirect_uri="+e.redirectUri,e.pkceCodeVerifier&&(c+="&code_verifier="+e.pkceCodeVerifier),u.withCredentials=!0,u.onreadystatechange=function(){if(4==u.readyState)if(200==u.status){var e=JSON.parse(u.responseText);f(e.access_token,e.refresh_token,e.id_token,"standard"===s.flow),M()}else s.onAuthError&&s.onAuthError(),t&&t.setError()},u.send(c)}function f(n,i,o,a){y(n,i,o,r=(r+(new Date).getTime())/2),d&&(s.tokenParsed&&s.tokenParsed.nonce!=e.storedNonce||s.refreshTokenParsed&&s.refreshTokenParsed.nonce!=e.storedNonce||s.idTokenParsed&&s.idTokenParsed.nonce!=e.storedNonce)?(h("[KEYCLOAK] Invalid nonce, clearing token"),s.clearToken(),t&&t.setError()):a&&(s.onAuthSuccess&&s.onAuthSuccess(),t&&t.setSuccess())}}function v(e){return 0==e.status&&e.responseText&&e.responseURL.startsWith("file:")}function y(e,t,n,i){if(s.tokenTimeoutHandle&&(clearTimeout(s.tokenTimeoutHandle),s.tokenTimeoutHandle=null),t?(s.refreshToken=t,s.refreshTokenParsed=_(t)):(delete s.refreshToken,delete s.refreshTokenParsed),n?(s.idToken=n,s.idTokenParsed=_(n)):(delete s.idToken,delete s.idTokenParsed),e){if(s.token=e,s.tokenParsed=_(e),s.sessionId=s.tokenParsed.session_state,s.authenticated=!0,s.subject=s.tokenParsed.sub,s.realmAccess=s.tokenParsed.realm_access,s.resourceAccess=s.tokenParsed.resource_access,i&&(s.timeSkew=Math.floor(i/1e3)-s.tokenParsed.iat),null!=s.timeSkew&&(h("[KEYCLOAK] Estimated time difference between browser and server is "+s.timeSkew+" seconds"),s.onTokenExpired)){var o=1e3*(s.tokenParsed.exp-(new Date).getTime()/1e3+s.timeSkew);h("[KEYCLOAK] Token expires in "+Math.round(o/1e3)+" s"),o<=0?s.onTokenExpired():s.tokenTimeoutHandle=setTimeout(s.onTokenExpired,o)}}else delete s.token,delete s.tokenParsed,delete s.subject,delete s.realmAccess,delete s.resourceAccess,s.authenticated=!1}function _(e){switch((e=(e=(e=e.split(".")[1]).replace(/-/g,"+")).replace(/_/g,"/")).length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Invalid token"}return e=decodeURIComponent(escape(atob(e))),JSON.parse(e)}function C(){var e=b(36,"0123456789abcdef").split("");return e[14]="4",e[19]="0123456789abcdef".substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")}function k(e){var t=function(e){var t;switch(s.flow){case"standard":t=["code","state","session_state","kc_action_status"];break;case"implicit":t=["access_token","token_type","id_token","state","session_state","expires_in","kc_action_status"];break;case"hybrid":t=["access_token","token_type","id_token","code","state","session_state","expires_in","kc_action_status"]}t.push("error"),t.push("error_description"),t.push("error_uri");var n,i,o=e.indexOf("?"),r=e.indexOf("#");if("query"===s.responseMode&&-1!==o?(n=e.substring(0,o),""!==(i=O(e.substring(o+1,-1!==r?r:e.length),t)).paramsString&&(n+="?"+i.paramsString),-1!==r&&(n+=e.substring(r))):"fragment"===s.responseMode&&-1!==r&&(n=e.substring(0,r),""!==(i=O(e.substring(r+1),t)).paramsString&&(n+="#"+i.paramsString)),i&&i.oauthParams)if("standard"===s.flow||"hybrid"===s.flow){if((i.oauthParams.code||i.oauthParams.error)&&i.oauthParams.state)return i.oauthParams.newUrl=n,i.oauthParams}else if("implicit"===s.flow&&(i.oauthParams.access_token||i.oauthParams.error)&&i.oauthParams.state)return i.oauthParams.newUrl=n,i.oauthParams}(e);if(t){var n=a.get(t.state);return n&&(t.valid=!0,t.redirectUri=n.redirectUri,t.storedNonce=n.nonce,t.prompt=n.prompt,t.pkceCodeVerifier=n.pkceCodeVerifier),t}}function O(e,t){for(var n=e.split("&"),i={paramsString:"",oauthParams:{}},o=0;o<n.length;o++){var r=n[o].indexOf("="),a=n[o].slice(0,r);-1!==t.indexOf(a)?i.oauthParams[a]=n[o].slice(r+1):(""!==i.paramsString&&(i.paramsString+="&"),i.paramsString+=n[o])}return i}function x(){var e={setSuccess:function(t){e.resolve(t)},setError:function(t){e.reject(t)}};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e.promise.success=function(e){return i(),this.then(function(t){e(t)}),this},e.promise.error=function(e){return i(),this.catch(function(t){e(t)}),this},e}function w(){var e=x();if(!l.enable)return e.setSuccess(),e.promise;if(l.iframe)return e.setSuccess(),e.promise;var t=document.createElement("iframe");l.iframe=t,t.onload=function(){var t=s.endpoints.authorize();l.iframeOrigin="/"===t.charAt(0)?window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""):t.substring(0,t.indexOf("/",8)),e.setSuccess()};var n=s.endpoints.checkSessionIframe();return t.setAttribute("src",n),t.setAttribute("title","keycloak-session-iframe"),t.style.display="none",document.body.appendChild(t),window.addEventListener("message",function(e){if(e.origin===l.iframeOrigin&&l.iframe.contentWindow===e.source&&("unchanged"==e.data||"changed"==e.data||"error"==e.data)){"unchanged"!=e.data&&s.clearToken();for(var t=l.callbackList.splice(0,l.callbackList.length),n=t.length-1;n>=0;--n){var i=t[n];"error"==e.data?i.setError():i.setSuccess("unchanged"==e.data)}}},!1),e.promise}function M(){l.enable&&s.token&&setTimeout(function(){P().then(function(e){e&&M()})},1e3*l.interval)}function P(){var e=x();if(l.iframe&&l.iframeOrigin){var t=s.clientId+" "+(s.sessionId?s.sessionId:"");l.callbackList.push(e),1==l.callbackList.length&&l.iframe.contentWindow.postMessage(t,l.iframeOrigin)}else e.setSuccess();return e.promise}function E(){var e=x();if(l.enable||s.silentCheckSsoRedirectUri){var t=document.createElement("iframe");t.setAttribute("src",s.endpoints.thirdPartyCookiesIframe()),t.setAttribute("title","keycloak-3p-check-iframe"),t.style.display="none",document.body.appendChild(t);window.addEventListener("message",function n(i){t.contentWindow===i.source&&("supported"!==i.data&&"unsupported"!==i.data||("unsupported"===i.data&&(l.enable=!1,s.silentCheckSsoFallback&&(s.silentCheckSsoRedirectUri=!1),p("[KEYCLOAK] 3rd party cookies aren't supported by this browser. checkLoginIframe and silent check-sso are not available.")),document.body.removeChild(t),window.removeEventListener("message",n),e.setSuccess()))},!1)}else e.setSuccess();return e.promise}function S(e){if(!e||"default"==e)return{login:function(e){return window.location.replace(s.createLoginUrl(e)),x().promise},logout:function(e){return window.location.replace(s.createLogoutUrl(e)),x().promise},register:function(e){return window.location.replace(s.createRegisterUrl(e)),x().promise},accountManagement:function(){var e=s.createAccountUrl();if(void 0===e)throw"Not supported by the OIDC server";return window.location.href=e,x().promise},redirectUri:function(e,t){return 1==arguments.length&&(t=!0),e&&e.redirectUri?e.redirectUri:s.redirectUri?s.redirectUri:location.href}};if("cordova"==e){l.enable=!1;var t=function(e,t,n){return window.cordova&&window.cordova.InAppBrowser?window.cordova.InAppBrowser.open(e,t,n):window.open(e,t,n)},n=function(e){var t=function(e){return e&&e.cordovaOptions?Object.keys(e.cordovaOptions).reduce(function(t,n){return t[n]=e.cordovaOptions[n],t},{}):{}}(e);return t.location="no",e&&"none"==e.prompt&&(t.hidden="yes"),function(e){return Object.keys(e).reduce(function(t,n){return t.push(n+"="+e[n]),t},[]).join(",")}(t)};return{login:function(e){var i=x(),o=n(e),r=s.createLoginUrl(e),a=t(r,"_blank",o),c=!1,l=!1,u=function(){l=!0,a.close()};return a.addEventListener("loadstart",function(e){0==e.url.indexOf("http://localhost")&&(m(k(e.url),i),u(),c=!0)}),a.addEventListener("loaderror",function(e){c||(0==e.url.indexOf("http://localhost")?(m(k(e.url),i),u(),c=!0):(i.setError(),u()))}),a.addEventListener("exit",function(e){l||i.setError({reason:"closed_by_user"})}),i.promise},logout:function(e){var n,i=x(),o=s.createLogoutUrl(e),r=t(o,"_blank","location=no,hidden=yes");return r.addEventListener("loadstart",function(e){0==e.url.indexOf("http://localhost")&&r.close()}),r.addEventListener("loaderror",function(e){0==e.url.indexOf("http://localhost")||(n=!0),r.close()}),r.addEventListener("exit",function(e){n?i.setError():(s.clearToken(),i.setSuccess())}),i.promise},register:function(e){var i=x(),o=s.createRegisterUrl(),r=n(e),a=t(o,"_blank",r);return a.addEventListener("loadstart",function(e){0==e.url.indexOf("http://localhost")&&(a.close(),m(k(e.url),i))}),i.promise},accountManagement:function(){var e=s.createAccountUrl();if(void 0===e)throw"Not supported by the OIDC server";var n=t(e,"_blank","location=no");n.addEventListener("loadstart",function(e){0==e.url.indexOf("http://localhost")&&n.close()})},redirectUri:function(e){return"http://localhost"}}}if("cordova-native"==e)return l.enable=!1,{login:function(e){var t=x(),n=s.createLoginUrl(e);return universalLinks.subscribe("keycloak",function(e){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),m(k(e.url),t)}),window.cordova.plugins.browsertab.openUrl(n),t.promise},logout:function(e){var t=x(),n=s.createLogoutUrl(e);return universalLinks.subscribe("keycloak",function(e){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),s.clearToken(),t.setSuccess()}),window.cordova.plugins.browsertab.openUrl(n),t.promise},register:function(e){var t=x(),n=s.createRegisterUrl(e);return universalLinks.subscribe("keycloak",function(e){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),m(k(e.url),t)}),window.cordova.plugins.browsertab.openUrl(n),t.promise},accountManagement:function(){var e=s.createAccountUrl();if(void 0===e)throw"Not supported by the OIDC server";window.cordova.plugins.browsertab.openUrl(e)},redirectUri:function(e){return e&&e.redirectUri?e.redirectUri:s.redirectUri?s.redirectUri:"http://localhost"}};throw"invalid adapter type: "+e}s.init=function(e){if(s.authenticated=!1,a=function(){try{return new R}catch(e){}return new I}(),r=e&&["default","cordova","cordova-native"].indexOf(e.adapter)>-1?S(e.adapter):e&&"object"==typeof e.adapter?e.adapter:window.Cordova||window.cordova?S("cordova"):S(),e){if(void 0!==e.useNonce&&(d=e.useNonce),void 0!==e.checkLoginIframe&&(l.enable=e.checkLoginIframe),e.checkLoginIframeInterval&&(l.interval=e.checkLoginIframeInterval),"login-required"===e.onLoad&&(s.loginRequired=!0),e.responseMode){if("query"!==e.responseMode&&"fragment"!==e.responseMode)throw"Invalid value for responseMode";s.responseMode=e.responseMode}if(e.flow){switch(e.flow){case"standard":s.responseType="code";break;case"implicit":s.responseType="id_token token";break;case"hybrid":s.responseType="code id_token token";break;default:throw"Invalid value for flow"}s.flow=e.flow}if(null!=e.timeSkew&&(s.timeSkew=e.timeSkew),e.redirectUri&&(s.redirectUri=e.redirectUri),e.silentCheckSsoRedirectUri&&(s.silentCheckSsoRedirectUri=e.silentCheckSsoRedirectUri),s.silentCheckSsoFallback="boolean"!=typeof e.silentCheckSsoFallback||e.silentCheckSsoFallback,e.pkceMethod){if("S256"!==e.pkceMethod)throw"Invalid value for pkceMethod";s.pkceMethod=e.pkceMethod}s.enableLogging="boolean"==typeof e.enableLogging&&e.enableLogging,"string"==typeof e.scope&&(s.scope=e.scope)}s.responseMode||(s.responseMode="fragment"),s.responseType||(s.responseType="code",s.flow="standard");var t=x(),n=x();n.promise.then(function(){s.onReady&&s.onReady(s.authenticated),t.setSuccess(s.authenticated)}).catch(function(e){t.setError(e)});var i=function(e){var t,n=x();function i(e){s.endpoints=e?{authorize:function(){return e.authorization_endpoint},token:function(){return e.token_endpoint},logout:function(){if(!e.end_session_endpoint)throw"Not supported by the OIDC server";return e.end_session_endpoint},checkSessionIframe:function(){if(!e.check_session_iframe)throw"Not supported by the OIDC server";return e.check_session_iframe},register:function(){throw'Redirection to "Register user" page not supported in standard OIDC mode'},userinfo:function(){if(!e.userinfo_endpoint)throw"Not supported by the OIDC server";return e.userinfo_endpoint}}:{authorize:function(){return g()+"/protocol/openid-connect/auth"},token:function(){return g()+"/protocol/openid-connect/token"},logout:function(){return g()+"/protocol/openid-connect/logout"},checkSessionIframe:function(){var e=g()+"/protocol/openid-connect/login-status-iframe.html";return s.iframeVersion&&(e=e+"?version="+s.iframeVersion),e},thirdPartyCookiesIframe:function(){var e=g()+"/protocol/openid-connect/3p-cookies/step1.html";return s.iframeVersion&&(e=e+"?version="+s.iframeVersion),e},register:function(){return g()+"/protocol/openid-connect/registrations"},userinfo:function(){return g()+"/protocol/openid-connect/userinfo"}}}if(o?"string"==typeof o&&(t=o):t="keycloak.json",t)(c=new XMLHttpRequest).open("GET",t,!0),c.setRequestHeader("Accept","application/json"),c.onreadystatechange=function(){if(4==c.readyState)if(200==c.status||v(c)){var e=JSON.parse(c.responseText);s.authServerUrl=e["auth-server-url"],s.realm=e.realm,s.clientId=e.resource,i(null),n.setSuccess()}else n.setError()},c.send();else{if(!o.clientId)throw"clientId missing";s.clientId=o.clientId;var r=o.oidcProvider;if(r){var a,c;"string"==typeof r?(a="/"==r.charAt(r.length-1)?r+".well-known/openid-configuration":r+"/.well-known/openid-configuration",(c=new XMLHttpRequest).open("GET",a,!0),c.setRequestHeader("Accept","application/json"),c.onreadystatechange=function(){4==c.readyState&&(200==c.status||v(c)?(i(JSON.parse(c.responseText)),n.setSuccess()):n.setError())},c.send()):(i(r),n.setSuccess())}else{if(!o.url)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++)if(l[u].src.match(/.*keycloak\.js/)){o.url=l[u].src.substr(0,l[u].src.indexOf("/js/keycloak.js"));break}if(!o.realm)throw"realm missing";s.authServerUrl=o.url,s.realm=o.realm,i(null),n.setSuccess()}}return n.promise}();function c(){var t=function(e){e||(o.prompt="none"),s.login(o).then(function(){n.setSuccess()}).catch(function(){n.setError()})},i=function(){var e=document.createElement("iframe"),t=s.createLoginUrl({prompt:"none",redirectUri:s.silentCheckSsoRedirectUri});e.setAttribute("src",t),e.setAttribute("title","keycloak-silent-check-sso"),e.style.display="none",document.body.appendChild(e);window.addEventListener("message",function t(i){i.origin===window.location.origin&&e.contentWindow===i.source&&(m(k(i.data),n),document.body.removeChild(e),window.removeEventListener("message",t))})},o={};switch(e.onLoad){case"check-sso":l.enable?w().then(function(){P().then(function(e){e?n.setSuccess():s.silentCheckSsoRedirectUri?i():t(!1)}).catch(function(){n.setError()})}):s.silentCheckSsoRedirectUri?i():t(!1);break;case"login-required":t(!0);break;default:throw"Invalid value for onLoad"}}function u(){var t=k(window.location.href);if(t&&window.history.replaceState(window.history.state,null,t.newUrl),t&&t.valid)return w().then(function(){m(t,n)}).catch(function(e){n.setError()});e?e.token&&e.refreshToken?(y(e.token,e.refreshToken,e.idToken),l.enable?w().then(function(){P().then(function(e){e?(s.onAuthSuccess&&s.onAuthSuccess(),n.setSuccess(),M()):n.setSuccess()}).catch(function(){n.setError()})}):s.updateToken(-1).then(function(){s.onAuthSuccess&&s.onAuthSuccess(),n.setSuccess()}).catch(function(){s.onAuthError&&s.onAuthError(),e.onLoad?c():n.setError()})):e.onLoad?c():n.setSuccess():n.setSuccess()}return i.then(function(){(function(){var e=x(),t=function t(){"interactive"!==document.readyState&&"complete"!==document.readyState||(document.removeEventListener("readystatechange",t),e.setSuccess())};return document.addEventListener("readystatechange",t),t(),e.promise})().then(E).then(u).catch(function(){t.setError()})}),i.catch(function(){t.setError()}),t.promise},s.login=function(e){return r.login(e)},s.createLoginUrl=function(n){var i,o=C(),c=C(),l=r.redirectUri(n),u={state:o,nonce:c,redirectUri:encodeURIComponent(l)};n&&n.prompt&&(u.prompt=n.prompt),i=n&&"register"==n.action?s.endpoints.register():s.endpoints.authorize();var f=n&&n.scope||s.scope;f?-1===f.indexOf("openid")&&(f="openid "+f):f="openid";var h=i+"?client_id="+encodeURIComponent(s.clientId)+"&redirect_uri="+encodeURIComponent(l)+"&state="+encodeURIComponent(o)+"&response_mode="+encodeURIComponent(s.responseMode)+"&response_type="+encodeURIComponent(s.responseType)+"&scope="+encodeURIComponent(f);if(d&&(h=h+"&nonce="+encodeURIComponent(c)),n&&n.prompt&&(h+="&prompt="+encodeURIComponent(n.prompt)),n&&n.maxAge&&(h+="&max_age="+encodeURIComponent(n.maxAge)),n&&n.loginHint&&(h+="&login_hint="+encodeURIComponent(n.loginHint)),n&&n.idpHint&&(h+="&kc_idp_hint="+encodeURIComponent(n.idpHint)),n&&n.action&&"register"!=n.action&&(h+="&kc_action="+encodeURIComponent(n.action)),n&&n.locale&&(h+="&ui_locales="+encodeURIComponent(n.locale)),s.pkceMethod){var p=b(96,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789");u.pkceCodeVerifier=p,h+="&code_challenge="+function(n,i){switch(n){case"S256":var o=new Uint8Array(e.arrayBuffer(i));return t.fromByteArray(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"");default:throw"Invalid value for pkceMethod"}}(s.pkceMethod,p),h+="&code_challenge_method="+s.pkceMethod}return a.add(u),h},s.logout=function(e){return r.logout(e)},s.createLogoutUrl=function(e){return s.endpoints.logout()+"?redirect_uri="+encodeURIComponent(r.redirectUri(e,!1))},s.register=function(e){return r.register(e)},s.createRegisterUrl=function(e){return e||(e={}),e.action="register",s.createLoginUrl(e)},s.createAccountUrl=function(e){var t=g(),n=void 0;return void 0!==t&&(n=t+"/account?referrer="+encodeURIComponent(s.clientId)+"&referrer_uri="+encodeURIComponent(r.redirectUri(e))),n},s.accountManagement=function(){return r.accountManagement()},s.hasRealmRole=function(e){var t=s.realmAccess;return!!t&&t.roles.indexOf(e)>=0},s.hasResourceRole=function(e,t){if(!s.resourceAccess)return!1;var n=s.resourceAccess[t||s.clientId];return!!n&&n.roles.indexOf(e)>=0},s.loadUserProfile=function(){var e=g()+"/account",t=new XMLHttpRequest;t.open("GET",e,!0),t.setRequestHeader("Accept","application/json"),t.setRequestHeader("Authorization","bearer "+s.token);var n=x();return t.onreadystatechange=function(){4==t.readyState&&(200==t.status?(s.profile=JSON.parse(t.responseText),n.setSuccess(s.profile)):n.setError())},t.send(),n.promise},s.loadUserInfo=function(){var e=s.endpoints.userinfo(),t=new XMLHttpRequest;t.open("GET",e,!0),t.setRequestHeader("Accept","application/json"),t.setRequestHeader("Authorization","bearer "+s.token);var n=x();return t.onreadystatechange=function(){4==t.readyState&&(200==t.status?(s.userInfo=JSON.parse(t.responseText),n.setSuccess(s.userInfo)):n.setError())},t.send(),n.promise},s.isTokenExpired=function(e){if(!s.tokenParsed||!s.refreshToken&&"implicit"!=s.flow)throw"Not authenticated";if(null==s.timeSkew)return h("[KEYCLOAK] Unable to determine if token is expired as timeskew is not set"),!0;var t=s.tokenParsed.exp-Math.ceil((new Date).getTime()/1e3)+s.timeSkew;if(e){if(isNaN(e))throw"Invalid minValidity";t-=e}return t<0},s.updateToken=function(e){var t=x();if(!s.refreshToken)return t.setError(),t.promise;e=e||5;var n=function(){var n=!1;if(-1==e?(n=!0,h("[KEYCLOAK] Refreshing token: forced refresh")):s.tokenParsed&&!s.isTokenExpired(e)||(n=!0,h("[KEYCLOAK] Refreshing token: token expired")),n){var i="grant_type=refresh_token&refresh_token="+s.refreshToken,o=s.endpoints.token();if(c.push(t),1==c.length){var r=new XMLHttpRequest;r.open("POST",o,!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.withCredentials=!0,i+="&client_id="+encodeURIComponent(s.clientId);var a=(new Date).getTime();r.onreadystatechange=function(){if(4==r.readyState)if(200==r.status){h("[KEYCLOAK] Token refreshed"),a=(a+(new Date).getTime())/2;var e=JSON.parse(r.responseText);y(e.access_token,e.refresh_token,e.id_token,a),s.onAuthRefreshSuccess&&s.onAuthRefreshSuccess();for(var t=c.pop();null!=t;t=c.pop())t.setSuccess(!0)}else for(p("[KEYCLOAK] Failed to refresh token"),400==r.status&&s.clearToken(),s.onAuthRefreshError&&s.onAuthRefreshError(),t=c.pop();null!=t;t=c.pop())t.setError(!0)},r.send(i)}}else t.setSuccess(!1)};return l.enable?P().then(function(){n()}).catch(function(){t.setError()}):n(),t.promise},s.clearToken=function(){s.token&&(y(null,null,null),s.onAuthLogout&&s.onAuthLogout(),s.loginRequired&&s.login())};var R=function e(){if(!(this instanceof e))return new e;function t(){for(var e=(new Date).getTime(),t=0;t<localStorage.length;t++){var n=localStorage.key(t);if(n&&0==n.indexOf("kc-callback-")){var i=localStorage.getItem(n);if(i)try{var o=JSON.parse(i).expires;(!o||o<e)&&localStorage.removeItem(n)}catch(r){localStorage.removeItem(n)}}}}localStorage.setItem("kc-test","test"),localStorage.removeItem("kc-test"),this.get=function(e){if(e){var n="kc-callback-"+e,i=localStorage.getItem(n);return i&&(localStorage.removeItem(n),i=JSON.parse(i)),t(),i}},this.add=function(e){t();var n="kc-callback-"+e.state;e.expires=(new Date).getTime()+36e5,localStorage.setItem(n,JSON.stringify(e))}},I=function e(){if(!(this instanceof e))return new e;this.get=function(e){if(e){var o=n("kc-callback-"+e);return i("kc-callback-"+e,"",t(-100)),o?JSON.parse(o):void 0}},this.add=function(e){i("kc-callback-"+e.state,JSON.stringify(e),t(60))},this.removeItem=function(e){i(e,"",t(-100))};var t=function(e){var t=new Date;return t.setTime(t.getTime()+60*e*1e3),t},n=function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""},i=function(e,t,n){var i=e+"="+t+"; expires="+n.toUTCString()+"; ";document.cookie=i}};function A(e){return function(){s.enableLogging&&e.apply(console,Array.prototype.slice.call(arguments))}}}}(n("bCcq"),n("ohmy"))},aTx8:function(e,t,n){"use strict";n.d(t,"a",function(){return v}),n.d(t,"b",function(){return h}),n.d(t,"c",function(){return d}),n.d(t,"d",function(){return b});var i=n("mrSG"),o=n("tk/3"),r=n("XNiG"),a=n("Cfvw"),s=n("lJxs"),c=n("5+tZ"),l=n("aK3z"),u=n("ofXK"),f=n("fXoL"),d=function(e){return e[e.OnAuthError=0]="OnAuthError",e[e.OnAuthLogout=1]="OnAuthLogout",e[e.OnAuthRefreshError=2]="OnAuthRefreshError",e[e.OnAuthRefreshSuccess=3]="OnAuthRefreshSuccess",e[e.OnAuthSuccess=4]="OnAuthSuccess",e[e.OnReady=5]="OnReady",e[e.OnTokenExpired=6]="OnTokenExpired",e}({}),h=function(){function e(t,n){_classCallCheck(this,e),this.router=t,this.keycloakAngular=n}return _createClass(e,[{key:"canActivate",value:function(e,t){var n=this;return new Promise(function(o,r){return Object(i.a)(n,void 0,void 0,regeneratorRuntime.mark(function n(){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.keycloakAngular.isLoggedIn();case 3:return this.authenticated=n.sent,n.next=6,this.keycloakAngular.getUserRoles(!0);case 6:return this.roles=n.sent,n.next=9,this.isAccessAllowed(e,t);case 9:i=n.sent,o(i),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),r("An error happened during access validation. Details:"+n.t0);case 16:case"end":return n.stop()}},n,this,[[0,13]])}))})}}]),e}(),p=l,b=function(){var e=function(){function e(){_classCallCheck(this,e),this._keycloakEvents$=new r.a}return _createClass(e,[{key:"bindsKeycloakEvents",value:function(){var e=this;this._instance.onAuthError=function(t){e._keycloakEvents$.next({args:t,type:d.OnAuthError})},this._instance.onAuthLogout=function(){e._keycloakEvents$.next({type:d.OnAuthLogout})},this._instance.onAuthRefreshSuccess=function(){e._keycloakEvents$.next({type:d.OnAuthRefreshSuccess})},this._instance.onAuthRefreshError=function(){e._keycloakEvents$.next({type:d.OnAuthRefreshError})},this._instance.onAuthSuccess=function(){e._keycloakEvents$.next({type:d.OnAuthSuccess})},this._instance.onTokenExpired=function(){e._keycloakEvents$.next({type:d.OnTokenExpired})},this._instance.onReady=function(t){e._keycloakEvents$.next({args:t,type:d.OnReady})}}},{key:"loadExcludedUrls",value:function(e){var t,n=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(t=i.n()).done;){var o,r=t.value;o="string"==typeof r?{urlPattern:new RegExp(r,"i"),httpMethods:[]}:{urlPattern:new RegExp(r.url,"i"),httpMethods:r.httpMethods},n.push(o)}}catch(a){i.e(a)}finally{i.f()}return n}},{key:"initServiceValues",value:function(e){var t=e.enableBearerInterceptor,n=void 0===t||t,i=e.loadUserProfileAtStartUp,o=void 0!==i&&i,r=e.bearerExcludedUrls,a=void 0===r?[]:r,s=e.authorizationHeaderName,c=void 0===s?"Authorization":s,l=e.bearerPrefix,u=void 0===l?"Bearer":l,f=e.initOptions;this._enableBearerInterceptor=n,this._loadUserProfileAtStartUp=o,this._authorizationHeaderName=c,this._bearerPrefix=u.trim().concat(" "),this._excludedUrls=this.loadExcludedUrls(a),this._silentRefresh=!!f&&"implicit"===f.flow}},{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.initServiceValues(e),n=e.config,i=e.initOptions,this._instance=p(n),this.bindsKeycloakEvents(),t.next=5,this._instance.init(i);case 5:if(o=t.sent,t.t0=o&&this._loadUserProfileAtStartUp,!t.t0){t.next=10;break}return t.next=10,this.loadUserProfile();case 10:return t.abrupt("return",o);case 11:case"end":return t.stop()}},t,this)}))}},{key:"login",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._instance.login(e);case 2:if(t.t0=this._loadUserProfileAtStartUp,!t.t0){t.next=6;break}return t.next=6,this.loadUserProfile();case 6:case"end":return t.stop()}},t,this)}))}},{key:"logout",value:function(e){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={redirectUri:e},t.next=3,this._instance.logout(n);case 3:this._userProfile=void 0;case 4:case"end":return t.stop()}},t,this)}))}},{key:"register",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{action:"register"};return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._instance.register(e);case 2:case"end":return t.stop()}},t,this)}))}},{key:"isUserInRole",value:function(e,t){var n;return(n=this._instance.hasResourceRole(e,t))||(n=this._instance.hasRealmRole(e)),n}},{key:"getUserRoles",value:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=[];if(this._instance.resourceAccess)for(var i in this._instance.resourceAccess)this._instance.resourceAccess.hasOwnProperty(i)&&(n=n.concat(this._instance.resourceAccess[i].roles||[]));return t&&this._instance.realmAccess&&(e=n).push.apply(e,_toConsumableArray(this._instance.realmAccess.roles||[])),n}},{key:"isLoggedIn",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=!!this._instance.authenticated,!e.t0){e.next=6;break}return e.next=5,this.updateToken(20);case 5:e.t0=!0;case 6:return e.abrupt("return",e.t0);case 9:return e.prev=9,e.t1=e.catch(0),e.abrupt("return",!1);case 12:case"end":return e.stop()}},e,this,[[0,9]])}))}},{key:"isTokenExpired",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._instance.isTokenExpired(e)}},{key:"updateToken",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._silentRefresh){t.next=4;break}if(!this.isTokenExpired()){t.next=3;break}throw new Error("Failed to refresh the token, or the session is expired");case 3:return t.abrupt("return",!0);case 4:if(this._instance){t.next=6;break}throw new Error("Keycloak Angular library is not initialized.");case 6:return t.abrupt("return",this._instance.updateToken(e));case 7:case"end":return t.stop()}},t,this)}))}},{key:"loadUserProfile",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._userProfile||e){t.next=2;break}return t.abrupt("return",this._userProfile);case 2:if(this._instance.authenticated){t.next=4;break}throw new Error("The user profile was not loaded as the user is not logged in.");case 4:return t.next=6,this._instance.loadUserProfile();case 6:return t.abrupt("return",this._userProfile=t.sent);case 7:case"end":return t.stop()}},t,this)}))}},{key:"getToken",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateToken(10);case 2:return e.abrupt("return",this._instance.token);case 3:case"end":return e.stop()}},e,this)}))}},{key:"getUsername",value:function(){if(!this._userProfile)throw new Error("User not logged in or user profile was not loaded.");return this._userProfile.username}},{key:"clearToken",value:function(){this._instance.clearToken()}},{key:"addTokenToHeader",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new o.d;return Object(a.a)(this.getToken()).pipe(Object(s.a)(function(n){return n?t.set(e._authorizationHeaderName,e._bearerPrefix+n):t}))}},{key:"getKeycloakInstance",value:function(){return this._instance}},{key:"excludedUrls",get:function(){return this._excludedUrls}},{key:"enableBearerInterceptor",get:function(){return this._enableBearerInterceptor}},{key:"keycloakEvents$",get:function(){return this._keycloakEvents$}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=f.Hb({token:e,factory:e.\u0275fac}),e}(),g=function(){var e=function(){function e(t){_classCallCheck(this,e),this.keycloak=t}return _createClass(e,[{key:"isUrlExcluded",value:function(e,t){var n=e.method,i=e.url,o=t.urlPattern,r=t.httpMethods,a=0===r.length||r.join().indexOf(n.toUpperCase())>-1,s=o.test(i);return a&&s}},{key:"intercept",value:function(e,t){var n=this,i=this.keycloak,o=i.enableBearerInterceptor,r=i.excludedUrls;return o?r.findIndex(function(t){return n.isUrlExcluded(e,t)})>-1?t.handle(e):Object(a.a)(this.keycloak.isLoggedIn()).pipe(Object(c.a)(function(i){return i?n.handleRequestWithTokenHeader(e,t):t.handle(e)})):t.handle(e)}},{key:"handleRequestWithTokenHeader",value:function(e,t){return this.keycloak.addTokenToHeader(e.headers).pipe(Object(c.a)(function(n){var i=e.clone({headers:n});return t.handle(i)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(f.Yb(b))},e.\u0275prov=f.Hb({token:e,factory:e.\u0275fac}),e}(),m=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=f.Jb({type:e}),e.\u0275inj=f.Ib({factory:function(t){return new(t||e)},providers:[b,{provide:o.a,useClass:g,multi:!0}],imports:[[u.b]]}),e}(),v=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=f.Jb({type:e}),e.\u0275inj=f.Ib({factory:function(t){return new(t||e)},imports:[[m]]}),e}()},bCcq:function bCcq(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD=__webpack_require__("PDX0"),ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(n){return new Sha256(t,!0).update(n)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var n=0;n<OUTPUT_TYPES.length;++n){var i=OUTPUT_TYPES[n];t[i]=createOutputMethod(i,e)}return t},nodeWrap=function nodeWrap(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"==typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null==e)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(n,i){return new HmacSha256(n,t,!0).update(i)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)},t.update=function(e,n){return t.create(e).update(n)};for(var n=0;n<OUTPUT_TYPES.length;++n){var i=OUTPUT_TYPES[n];t[i]=createHmacOutputMethod(i,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,n){var i,o=typeof e;if("string"===o){var r,a=[],s=e.length,c=0;for(i=0;i<s;++i)(r=e.charCodeAt(i))<128?a[c++]=r:r<2048?(a[c++]=192|r>>6,a[c++]=128|63&r):r<55296||r>=57344?(a[c++]=224|r>>12,a[c++]=128|r>>6&63,a[c++]=128|63&r):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++i)),a[c++]=240|r>>18,a[c++]=128|r>>12&63,a[c++]=128|r>>6&63,a[c++]=128|63&r);e=a}else{if("object"!==o)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR)}e.length>64&&(e=new Sha256(t,!0).update(e).array());var l=[],u=[];for(i=0;i<64;++i){var f=e[i]||0;l[i]=92^f,u[i]=54^f}Sha256.call(this,t,n),this.update(u),this.oKeyPad=l,this.inner=!0,this.sharedMemory=n}Sha256.prototype.update=function(e){if(!this.finalized){var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR);t=!0}for(var i,o,r=0,a=e.length,s=this.blocks;r<a;){if(this.hashed&&(this.hashed=!1,s[0]=this.block,s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),t)for(o=this.start;r<a&&o<64;++r)s[o>>2]|=e[r]<<SHIFT[3&o++];else for(o=this.start;r<a&&o<64;++r)(i=e.charCodeAt(r))<128?s[o>>2]|=i<<SHIFT[3&o++]:i<2048?(s[o>>2]|=(192|i>>6)<<SHIFT[3&o++],s[o>>2]|=(128|63&i)<<SHIFT[3&o++]):i<55296||i>=57344?(s[o>>2]|=(224|i>>12)<<SHIFT[3&o++],s[o>>2]|=(128|i>>6&63)<<SHIFT[3&o++],s[o>>2]|=(128|63&i)<<SHIFT[3&o++]):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++r)),s[o>>2]|=(240|i>>18)<<SHIFT[3&o++],s[o>>2]|=(128|i>>12&63)<<SHIFT[3&o++],s[o>>2]|=(128|i>>6&63)<<SHIFT[3&o++],s[o>>2]|=(128|63&i)<<SHIFT[3&o++]);this.lastByteIndex=o,this.bytes+=o-this.start,o>=64?(this.block=s[16],this.start=o-64,this.hash(),this.hashed=!0):this.start=o}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e,t,n,i,o,r,a=this.h0,s=this.h1,c=this.h2,l=this.h3,u=this.h4,f=this.h5,d=this.h6,h=this.h7,p=this.blocks;for(e=16;e<64;++e)p[e]=p[e-16]+(((t=p[e-15])>>>7|t<<25)^(t>>>18|t<<14)^t>>>3)+p[e-7]+(((t=p[e-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)<<0;for(r=s&c,e=0;e<64;e+=4)this.first?(this.is224?(n=300032,h=(t=p[0]-1413257819)-150054599<<0,l=t+24177077<<0):(n=704751109,h=(t=p[0]-210244248)-1521486534<<0,l=t+143694565<<0),this.first=!1):(h=l+(t=h+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&f^~u&d)+K[e]+p[e])<<0,l=t+(((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+((n=a&s)^a&c^r))<<0),d=c+(t=d+((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&u^~h&f)+K[e+1]+p[e+1])<<0,c=t+(((l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10))+((i=l&a)^l&s^n))<<0,f=s+(t=f+((d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&h^~d&u)+K[e+2]+p[e+2])<<0,s=t+(((c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10))+((o=c&l)^c&a^i))<<0,u=a+(t=u+((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&d^~f&h)+K[e+3]+p[e+3])<<0,a=t+(((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+((r=s&c)^s&l^o))<<0;this.h0=this.h0+a<<0,this.h1=this.h1+s<<0,this.h2=this.h2+c<<0,this.h3=this.h3+l<<0,this.h4=this.h4+u<<0,this.h5=this.h5+f<<0,this.h6=this.h6+d<<0,this.h7=this.h7+h<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,i=this.h3,o=this.h4,r=this.h5,a=this.h6,s=this.h7,c=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a];return this.is224||(c+=HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]),c},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,i=this.h3,o=this.h4,r=this.h5,a=this.h6,s=this.h7,c=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,i>>24&255,i>>16&255,i>>8&255,255&i,o>>24&255,o>>16&255,o>>8&255,255&o,r>>24&255,r>>16&255,r>>8&255,255&r,a>>24&255,a>>16&255,a>>8&255,255&a];return this.is224||c.push(s>>24&255,s>>16&255,s>>8&255,255&s),c},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=(function(){return exports}).call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},bHdf:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("5+tZ"),o=n("SpAZ");function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(i.a)(o.a,e)}},bOdf:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("5+tZ");function o(e,t){return Object(i.a)(e,t,1)}},c2HN:function(e,t,n){"use strict";function i(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",function(){return i})},eIep:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("lJxs"),o=n("Cfvw"),r=n("zx2A");function a(e,t){return"function"==typeof t?function(n){return n.pipe(a(function(n,r){return Object(o.a)(e(n,r)).pipe(Object(i.a)(function(e,i){return t(n,e,r,i)}))}))}:function(t){return t.lift(new s(e))}}var s=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new c(e,this.project))}}]),e}(),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).project=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=this.innerSubscription;t&&t.unsubscribe();var n=new r.a(this),i=this.destination;i.add(n),this.innerSubscription=Object(r.c)(e,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e){this.destination.next(e)}}]),n}(r.b)},eNwd:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,i)).scheduler=e,o.work=i,o}return _createClass(n,[{key:"requestAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))}},{key:"recycleAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,e,t,i);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}]),n}(n("3N8a").a),o=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,i=-1,o=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++i<o&&(e=n.shift()));if(this.active=!1,t){for(;++i<o&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(n("IjjT").a))(i)},fXoL:function(e,t,n){"use strict";n.d(t,"a",function(){return sn}),n.d(t,"b",function(){return su}),n.d(t,"c",function(){return nu}),n.d(t,"d",function(){return eu}),n.d(t,"e",function(){return tu}),n.d(t,"f",function(){return Ju}),n.d(t,"g",function(){return Uu}),n.d(t,"h",function(){return Bc}),n.d(t,"i",function(){return vu}),n.d(t,"j",function(){return bc}),n.d(t,"k",function(){return uu}),n.d(t,"l",function(){return yc}),n.d(t,"m",function(){return xi}),n.d(t,"n",function(){return Sl}),n.d(t,"o",function(){return wr}),n.d(t,"p",function(){return mn}),n.d(t,"q",function(){return an}),n.d(t,"r",function(){return Vr}),n.d(t,"s",function(){return Fc}),n.d(t,"t",function(){return Qc}),n.d(t,"u",function(){return lu}),n.d(t,"v",function(){return Zc}),n.d(t,"w",function(){return Ku}),n.d(t,"x",function(){return Xc}),n.d(t,"y",function(){return Lu}),n.d(t,"z",function(){return Cu}),n.d(t,"A",function(){return vn}),n.d(t,"B",function(){return au}),n.d(t,"C",function(){return ru}),n.d(t,"D",function(){return Il}),n.d(t,"E",function(){return Cc}),n.d(t,"F",function(){return _c}),n.d(t,"G",function(){return Ti}),n.d(t,"H",function(){return Oc}),n.d(t,"I",function(){return mi}),n.d(t,"J",function(){return _n}),n.d(t,"K",function(){return Wu}),n.d(t,"L",function(){return Wc}),n.d(t,"M",function(){return Eu}),n.d(t,"N",function(){return cn}),n.d(t,"O",function(){return xc}),n.d(t,"P",function(){return el}),n.d(t,"Q",function(){return A}),n.d(t,"R",function(){return Nu}),n.d(t,"S",function(){return Fu}),n.d(t,"T",function(){return h}),n.d(t,"U",function(){return Sn}),n.d(t,"V",function(){return Xu}),n.d(t,"W",function(){return Ru}),n.d(t,"X",function(){return cu}),n.d(t,"Y",function(){return Pr}),n.d(t,"Z",function(){return hs}),n.d(t,"ab",function(){return bi}),n.d(t,"bb",function(){return Xn}),n.d(t,"cb",function(){return Nn}),n.d(t,"db",function(){return Vn}),n.d(t,"eb",function(){return Kn}),n.d(t,"fb",function(){return Un}),n.d(t,"gb",function(){return Bn}),n.d(t,"hb",function(){return Hn}),n.d(t,"ib",function(){return ls}),n.d(t,"jb",function(){return Yu}),n.d(t,"kb",function(){return us}),n.d(t,"lb",function(){return fs}),n.d(t,"mb",function(){return zn}),n.d(t,"nb",function(){return Q}),n.d(t,"ob",function(){return Xr}),n.d(t,"pb",function(){return ya}),n.d(t,"qb",function(){return va}),n.d(t,"rb",function(){return cs}),n.d(t,"sb",function(){return xe}),n.d(t,"tb",function(){return u}),n.d(t,"ub",function(){return Ln}),n.d(t,"vb",function(){return Ur}),n.d(t,"wb",function(){return ve}),n.d(t,"xb",function(){return dc}),n.d(t,"yb",function(){return Po}),n.d(t,"zb",function(){return oa}),n.d(t,"Ab",function(){return La}),n.d(t,"Bb",function(){return ts}),n.d(t,"Cb",function(){return ns}),n.d(t,"Db",function(){return Qa}),n.d(t,"Eb",function(){return Kl}),n.d(t,"Fb",function(){return W}),n.d(t,"Gb",function(){return ne}),n.d(t,"Hb",function(){return m}),n.d(t,"Ib",function(){return v}),n.d(t,"Jb",function(){return J}),n.d(t,"Kb",function(){return ie}),n.d(t,"Lb",function(){return ca}),n.d(t,"Mb",function(){return ha}),n.d(t,"Nb",function(){return ga}),n.d(t,"Ob",function(){return ba}),n.d(t,"Pb",function(){return pa}),n.d(t,"Qb",function(){return da}),n.d(t,"Rb",function(){return fa}),n.d(t,"Sb",function(){return ma}),n.d(t,"Tb",function(){return nn}),n.d(t,"Ub",function(){return is}),n.d(t,"Vb",function(){return nc}),n.d(t,"Wb",function(){return oc}),n.d(t,"Xb",function(){return ic}),n.d(t,"Yb",function(){return Pn}),n.d(t,"Zb",function(){return on}),n.d(t,"ac",function(){return Jl}),n.d(t,"bc",function(){return _a}),n.d(t,"cc",function(){return Wl}),n.d(t,"dc",function(){return _t}),n.d(t,"ec",function(){return yt}),n.d(t,"fc",function(){return Oa}),n.d(t,"gc",function(){return Ol}),n.d(t,"hc",function(){return xl}),n.d(t,"ic",function(){return wl}),n.d(t,"jc",function(){return Ml}),n.d(t,"kc",function(){return Ma}),n.d(t,"lc",function(){return wa}),n.d(t,"mc",function(){return la}),n.d(t,"nc",function(){return Pa}),n.d(t,"oc",function(){return Ea}),n.d(t,"pc",function(){return pl}),n.d(t,"qc",function(){return bl}),n.d(t,"rc",function(){return gl}),n.d(t,"sc",function(){return ml}),n.d(t,"tc",function(){return vl}),n.d(t,"uc",function(){return Vl}),n.d(t,"vc",function(){return sa}),n.d(t,"wc",function(){return Ri}),n.d(t,"xc",function(){return Si}),n.d(t,"yc",function(){return Ei}),n.d(t,"zc",function(){return He}),n.d(t,"Ac",function(){return vi}),n.d(t,"Bc",function(){return yi}),n.d(t,"Cc",function(){return G}),n.d(t,"Dc",function(){return ee}),n.d(t,"Ec",function(){return ql}),n.d(t,"Fc",function(){return Bl}),n.d(t,"Gc",function(){return Fa}),n.d(t,"Hc",function(){return os}),n.d(t,"Ic",function(){return aa}),n.d(t,"Jc",function(){return Zl}),n.d(t,"Kc",function(){return Ya}),n.d(t,"Lc",function(){return Xa}),n.d(t,"Mc",function(){return Za}),n.d(t,"Nc",function(){return Ja}),n.d(t,"Oc",function(){return es}),n.d(t,"Pc",function(){return Ul});var i=n("XNiG"),o=n("quSY"),r=n("HDdC"),a=n("VRyK"),s=n("w1tV");function c(e){for(var t in e)if(e[t]===c)return t;throw Error("Could not find renamed property on target object.")}function l(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function u(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(u).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function f(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var d=c({__forward_ref__:c});function h(e){return e.__forward_ref__=h,e.toString=function(){return u(this())},e}function p(e){return b(e)?e():e}function b(e){return"function"==typeof e&&e.hasOwnProperty(d)&&e.__forward_ref__===h}function g(e,t,n,i){throw new Error("ASSERTION ERROR: "+e+(null==i?"":" [Expected=> ".concat(n," ").concat(i," ").concat(t," <=Actual]")))}function m(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function v(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function y(e){return _(e,O)||_(e,w)}function _(e,t){return e.hasOwnProperty(t)?e[t]:null}function C(e){return e&&(e.hasOwnProperty(x)||e.hasOwnProperty(M))?e[x]:null}var k,O=c({"\u0275prov":c}),x=c({"\u0275inj":c}),w=c({ngInjectableDef:c}),M=c({ngInjectorDef:c}),P=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function E(e){var t=k;return k=e,t}function S(e,t,n){var i=y(e);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&P.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND [".concat(u(e),"]"))}function R(e){return{toString:e}.toString()}var I=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),A=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({}),T="undefined"!=typeof globalThis&&globalThis,D="undefined"!=typeof window&&window,j="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,F="undefined"!=typeof global&&global,Q=T||F||D||j,L={},N=[],z=c({"\u0275cmp":c}),V=c({"\u0275dir":c}),B=c({"\u0275pipe":c}),U=c({"\u0275mod":c}),H=c({"\u0275loc":c}),K=c({"\u0275fac":c}),q=c({__NG_ELEMENT_ID__:c}),$=0;function W(e){return R(function(){var t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===I.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||N,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||A.Emulated,id:"c",styles:e.styles||N,_:null,setInput:null,schemas:e.schemas||null,tView:null},i=e.directives,o=e.features,r=e.pipes;return n.id+=$++,n.inputs=te(e.inputs,t),n.outputs=te(e.outputs),o&&o.forEach(function(e){return e(n)}),n.directiveDefs=i?function(){return("function"==typeof i?i():i).map(Y)}:null,n.pipeDefs=r?function(){return("function"==typeof r?r():r).map(X)}:null,n})}function G(e,t,n){var i=e.\u0275cmp;i.directiveDefs=function(){return t.map(Y)},i.pipeDefs=function(){return n.map(X)}}function Y(e){return oe(e)||function(e){return e[V]||null}(e)}function X(e){return function(e){return e[B]||null}(e)}var Z={};function J(e){var t={type:e.type,bootstrap:e.bootstrap||N,declarations:e.declarations||N,imports:e.imports||N,exports:e.exports||N,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&R(function(){Z[e.id]=e.type}),t}function ee(e,t){return R(function(){var n=re(e,!0);n.declarations=t.declarations||N,n.imports=t.imports||N,n.exports=t.exports||N})}function te(e,t){if(null==e)return L;var n={};for(var i in e)if(e.hasOwnProperty(i)){var o=e[i],r=o;Array.isArray(o)&&(r=o[1],o=o[0]),n[o]=i,t&&(t[o]=r)}return n}var ne=W;function ie(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function oe(e){return e[z]||null}function re(e,t){var n=e[U]||null;if(!n&&!0===t)throw new Error("Type ".concat(u(e)," does not have '\u0275mod' property."));return n}function ae(e){return Array.isArray(e)&&"object"==typeof e[1]}function se(e){return Array.isArray(e)&&!0===e[1]}function ce(e){return 0!=(8&e.flags)}function le(e){return 2==(2&e.flags)}function ue(e){return 1==(1&e.flags)}function fe(e){return null!==e.template}function de(e,t){return e.hasOwnProperty(K)?e[K]:null}var he=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this,function(e,t){return"".concat(e?"NG0".concat(e,": "):"").concat(t)}(e,i))).code=e,o}return n}(_wrapNativeSuper(Error));function pe(e){return"string"==typeof e?e:null==e?"":String(e)}function be(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():pe(e)}function ge(e,t){var n=t?" in "+t:"";throw new he("201","No provider for ".concat(be(e)," found").concat(n))}var me=function(){function e(t,n,i){_classCallCheck(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=i}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function ve(){return ye}function ye(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ce),_e}function _e(){var e=ke(this),t=null==e?void 0:e.current;if(t){var n=e.previous;if(n===L)e.previous=t;else for(var i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function Ce(e,t,n,i){var o=ke(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:L,current:null}),r=o.current||(o.current={}),a=o.previous,s=this.declaredInputs[n],c=a[s];r[s]=new me(c&&c.currentValue,t,a===L),e[i]=t}function ke(e){return e.__ngSimpleChanges__||null}ve.ngInherit=!0;var Oe=void 0;function xe(e){Oe=e}function we(){return void 0!==Oe?Oe:"undefined"!=typeof document?document:void 0}function Me(e){return!!e.listen}var Pe={createRenderer:function(e,t){return we()}};function Ee(e){for(;Array.isArray(e);)e=e[0];return e}function Se(e,t){return Ee(t[e])}function Re(e,t){return Ee(t[e.index])}function Ie(e,t){return e.data[t]}function Ae(e,t){return e[t]}function Te(e,t){var n=t[e];return ae(n)?n:n[0]}function De(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function je(e){return 4==(4&e[2])}function Fe(e){return 128==(128&e[2])}function Qe(e,t){return null==t?null:e[t]}function Le(e){e[18]=0}function Ne(e,t){e[5]+=t;for(var n=e,i=e[3];null!==i&&(1===t&&1===n[5]||-1===t&&0===n[5]);)i[5]+=t,n=i,i=i[3]}var ze={lFrame:dt(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ve(){return ze.bindingsEnabled}function Be(){return ze.lFrame.lView}function Ue(){return ze.lFrame.tView}function He(e){ze.lFrame.contextLView=e}function Ke(){for(var e=qe();null!==e&&64===e.type;)e=e.parent;return e}function qe(){return ze.lFrame.currentTNode}function $e(){var e=ze.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function We(e,t){var n=ze.lFrame;n.currentTNode=e,n.isParent=t}function Ge(){return ze.lFrame.isParent}function Ye(){ze.lFrame.isParent=!1}function Xe(){return ze.isInCheckNoChangesMode}function Ze(e){ze.isInCheckNoChangesMode=e}function Je(){var e=ze.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function et(){return ze.lFrame.bindingIndex}function tt(){return ze.lFrame.bindingIndex++}function nt(e){var t=ze.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function it(e){ze.lFrame.inI18n=e}function ot(e){ze.lFrame.currentDirectiveIndex=e}function rt(e){var t=ze.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function at(){return ze.lFrame.currentQueryIndex}function st(e){ze.lFrame.currentQueryIndex=e}function ct(e){var t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function lt(e,t,n){if(n&P.SkipSelf){for(var i=t,o=e;!(null!==(i=i.parent)||n&P.Host||(i=ct(o),null===i)||(o=o[15],10&i.type)););if(null===i)return!1;t=i,e=o}var r=ze.lFrame=ft();return r.currentTNode=t,r.lView=e,!0}function ut(e){var t=ft(),n=e[1];ze.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function ft(){var e=ze.lFrame,t=null===e?null:e.child;return null===t?dt(e):t}function dt(e){var t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function ht(){var e=ze.lFrame;return ze.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var pt=ht;function bt(){var e=ht();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function gt(){return ze.lFrame.selectedIndex}function mt(e){ze.lFrame.selectedIndex=e}function vt(){var e=ze.lFrame;return Ie(e.tView,e.selectedIndex)}function yt(){ze.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function _t(){ze.lFrame.currentNamespace=null}function Ct(e,t){for(var n=t.directiveStart,i=t.directiveEnd;n<i;n++){var o=e.data[n].type.prototype,r=o.ngAfterContentInit,a=o.ngAfterContentChecked,s=o.ngAfterViewInit,c=o.ngAfterViewChecked,l=o.ngOnDestroy;r&&(e.contentHooks||(e.contentHooks=[])).push(-n,r),a&&((e.contentHooks||(e.contentHooks=[])).push(n,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,a)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),c&&((e.viewHooks||(e.viewHooks=[])).push(n,c),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,c)),null!=l&&(e.destroyHooks||(e.destroyHooks=[])).push(n,l)}}function kt(e,t,n){wt(e,t,3,n)}function Ot(e,t,n,i){(3&e[2])===n&&wt(e,t,n,i)}function xt(e,t){var n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function wt(e,t,n,i){for(var o=null!=i?i:-1,r=0,a=void 0!==i?65535&e[18]:0;a<t.length;a++)if("number"==typeof t[a+1]){if(r=t[a],null!=i&&r>=i)break}else t[a]<0&&(e[18]+=65536),(r<o||-1==o)&&(Mt(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function Mt(e,t,n,i){var o=n[i]<0,r=n[i+1],a=e[o?-n[i]:n[i]];o?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,r.call(a)):r.call(a)}var Pt=function e(t,n,i){_classCallCheck(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i};function Et(e,t,n){for(var i=Me(e),o=0;o<n.length;){var r=n[o];if("number"==typeof r){if(0!==r)break;o++;var a=n[o++],s=n[o++],c=n[o++];i?e.setAttribute(t,s,c,a):t.setAttributeNS(a,s,c)}else{var l=r,u=n[++o];Rt(l)?i&&e.setProperty(t,l,u):i?e.setAttribute(t,l,u):t.setAttribute(l,u),o++}}return o}function St(e){return 3===e||4===e||6===e}function Rt(e){return 64===e.charCodeAt(0)}function It(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,i=0;i<t.length;i++){var o=t[i];"number"==typeof o?n=o:0===n||At(e,n,o,null,-1===n||2===n?t[++i]:null)}return e}function At(e,t,n,i,o){var r=0,a=e.length;if(-1===t)a=-1;else for(;r<e.length;){var s=e[r++];if("number"==typeof s){if(s===t){a=-1;break}if(s>t){a=r-1;break}}}for(;r<e.length;){var c=e[r];if("number"==typeof c)break;if(c===n){if(null===i)return void(null!==o&&(e[r+1]=o));if(i===e[r+1])return void(e[r+2]=o)}r++,null!==i&&r++,null!==o&&r++}-1!==a&&(e.splice(a,0,t),r=a+1),e.splice(r++,0,n),null!==i&&e.splice(r++,0,i),null!==o&&e.splice(r++,0,o)}function Tt(e){return-1!==e}function Dt(e){return 32767&e}function jt(e,t){for(var n=e>>16,i=t;n>0;)i=i[15],n--;return i}var Ft=!0;function Qt(e){var t=Ft;return Ft=e,t}var Lt=0;function Nt(e,t){var n=Vt(e,t);if(-1!==n)return n;var i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,zt(i.data,e),zt(t,null),zt(i.blueprint,null));var o=Bt(e,t),r=e.injectorIndex;if(Tt(o))for(var a=Dt(o),s=jt(o,t),c=s[1].data,l=0;l<8;l++)t[r+l]=s[a+l]|c[a+l];return t[r+8]=o,r}function zt(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Vt(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Bt(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=0,i=null,o=t;null!==o;){var r=o[1],a=r.type;if(null===(i=2===a?r.declTNode:1===a?o[6]:null))return-1;if(n++,o=o[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function Ut(e,t,n){!function(e,t,n){var i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(q)&&(i=n[q]),null==i&&(i=n[q]=Lt++);var o=255&i,r=1<<o,a=64&o,s=32&o,c=t.data;128&o?a?s?c[e+7]|=r:c[e+6]|=r:s?c[e+5]|=r:c[e+4]|=r:a?s?c[e+3]|=r:c[e+2]|=r:s?c[e+1]|=r:c[e]|=r}(e,t,n)}function Ht(e,t,n){if(n&P.Optional)return e;ge(t,"NodeInjector")}function Kt(e,t,n,i){if(n&P.Optional&&void 0===i&&(i=null),0==(n&(P.Self|P.Host))){var o=e[9],r=E(void 0);try{return o?o.get(t,i,n&P.Optional):S(t,i,n&P.Optional)}finally{E(r)}}return Ht(i,t,n)}function qt(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:P.Default,o=arguments.length>4?arguments[4]:void 0;if(null!==e){var r=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e.hasOwnProperty(q)?e[q]:void 0;return"number"==typeof t?t>=0?255&t:Wt:t}(n);if("function"==typeof r){if(!lt(t,e,i))return i&P.Host?Ht(o,n,i):Kt(t,n,i,o);try{var a=r();if(null!=a||i&P.Optional)return a;ge(n)}finally{pt()}}else if("number"==typeof r){var s=null,c=Vt(e,t),l=-1,u=i&P.Host?t[16][6]:null;for((-1===c||i&P.SkipSelf)&&(-1!==(l=-1===c?Bt(e,t):t[c+8])&&Jt(i,!1)?(s=t[1],c=Dt(l),t=jt(l,t)):c=-1);-1!==c;){var f=t[1];if(Zt(r,c,f.data)){var d=Gt(c,t,n,s,i,u);if(d!==$t)return d}-1!==(l=t[c+8])&&Jt(i,t[1].data[c+8]===u)&&Zt(r,c,t)?(s=f,c=Dt(l),t=jt(l,t)):c=-1}}}return Kt(t,n,i,o)}var $t={};function Wt(){return new en(Ke(),Be())}function Gt(e,t,n,i,o,r){var a=t[1],s=a.data[e+8],c=Yt(s,a,n,null==i?le(s)&&Ft:i!=a&&0!=(3&s.type),o&P.Host&&r===s);return null!==c?Xt(t,a,c,s):$t}function Yt(e,t,n,i,o){for(var r=e.providerIndexes,a=t.data,s=1048575&r,c=e.directiveStart,l=r>>20,u=o?s+l:e.directiveEnd,f=i?s:s+l;f<u;f++){var d=a[f];if(f<c&&n===d||f>=c&&d.type===n)return f}if(o){var h=a[c];if(h&&fe(h)&&h.type===n)return c}return null}function Xt(e,t,n,i){var o=e[n],r=t.data;if(o instanceof Pt){var a=o;a.resolving&&function(e,t){throw new he("200","Circular dependency in DI detected for "+e)}(be(r[n]));var s=Qt(a.canSeeViewProviders);a.resolving=!0;var c=a.injectImpl?E(a.injectImpl):null;lt(e,i,P.Default);try{o=e[n]=a.factory(void 0,r,e,i),t.firstCreatePass&&n>=i.directiveStart&&function(e,t,n){var i=t.type.prototype,o=i.ngOnChanges,r=i.ngOnInit,a=i.ngDoCheck;if(o){var s=ye(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,r),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,a))}(n,r[n],t)}finally{null!==c&&E(c),Qt(s),a.resolving=!1,pt()}}return o}function Zt(e,t,n){var i=64&e,o=32&e;return!!((128&e?i?o?n[t+7]:n[t+6]:o?n[t+5]:n[t+4]:i?o?n[t+3]:n[t+2]:o?n[t+1]:n[t])&1<<e)}function Jt(e,t){return!(e&P.Self||e&P.Host&&t)}var en=function(){function e(t,n){_classCallCheck(this,e),this._tNode=t,this._lView=n}return _createClass(e,[{key:"get",value:function(e,t){return qt(this._tNode,this._lView,e,void 0,t)}}]),e}();function tn(e){var t=e;if(b(e))return function(){var e=tn(p(t));return e?e():null};var n=de(t);if(null===n){var i=C(t);n=i&&i.factory}return n||null}function nn(e){return R(function(){for(var t=e.prototype.constructor,n=t[K]||tn(t),i=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;o&&o!==i;){var r=o[K]||tn(o);if(r&&r!==n)return r;o=Object.getPrototypeOf(o)}return function(e){return new e}})}function on(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var i=n.length,o=0;o<i;){var r=n[o];if(St(r))break;if(0===r)o+=2;else if("number"==typeof r)for(o++;o<i&&"string"==typeof n[o];)o++;else{if(r===t)return n[o+1];o+=2}}return null}(Ke(),e)}function rn(e,t,n){return R(function(){var i=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof o)return i.apply(this,t),this;var r=_construct(o,t);return a.annotation=r,a;function a(e,t,n){for(var i=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(r),e}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}var an=function(){function e(t,n){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=m({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),e}(),sn=new an("AnalyzeForEntryComponents"),cn=Function;function ln(e,t){void 0===t&&(t=e);for(var n=0;n<e.length;n++){var i=e[n];Array.isArray(i)?(t===e&&(t=e.slice(0,n)),ln(i,t)):t!==e&&t.push(i)}return t}function un(e,t){e.forEach(function(e){return Array.isArray(e)?un(e,t):t(e)})}function fn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function dn(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function hn(e,t){for(var n=[],i=0;i<e;i++)n.push(t);return n}function pn(e,t,n){var i=gn(e,t);return i>=0?e[1|i]=n:function(e,t,n,i){var o=e.length;if(o==t)e.push(n,i);else if(1===o)e.push(i,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=i}}(e,i=~i,t,n),i}function bn(e,t){var n=gn(e,t);if(n>=0)return e[1|n]}function gn(e,t){return function(e,t,n){for(var i=0,o=e.length>>1;o!==i;){var r=i+(o-i>>1),a=e[r<<1];if(t===a)return r<<1;a>t?o=r:i=r+1}return~(o<<1)}(e,t)}var mn=rn("Inject",function(e){return{token:e}}),vn=rn("Optional"),yn=rn("Self"),_n=rn("SkipSelf"),Cn={},kn=/\n/gm,On=c({provide:String,useValue:c}),xn=void 0;function wn(e){var t=xn;return xn=e,t}function Mn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P.Default;if(void 0===xn)throw new Error("inject() must be called from an injection context");return null===xn?S(e,void 0,t):xn.get(e,t&P.Optional?null:void 0,t)}function Pn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P.Default;return(k||Mn)(p(e),t)}var En,Sn=Pn;function Rn(e){for(var t=[],n=0;n<e.length;n++){var i=p(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");for(var o=void 0,r=P.Default,a=0;a<i.length;a++){var s=i[a];s instanceof vn||"Optional"===s.ngMetadataName||s===vn?r|=P.Optional:s instanceof _n||"SkipSelf"===s.ngMetadataName||s===_n?r|=P.SkipSelf:s instanceof yn||"Self"===s.ngMetadataName||s===yn?r|=P.Self:o=s instanceof mn||s===mn?s.token:s}t.push(Pn(o,r))}else t.push(Pn(i))}return t}function In(e){var t;return(null===(t=function(){if(void 0===En&&(En=null,Q.trustedTypes))try{En=Q.trustedTypes.createPolicy("angular",{createHTML:function(e){return e},createScript:function(e){return e},createScriptURL:function(e){return e}})}catch(t){}return En}())||void 0===t?void 0:t.createHTML(e))||e}var An=function(){function e(t){_classCallCheck(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}]),e}(),Tn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(An),Dn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(An),jn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(An),Fn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(An),Qn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(An);function Ln(e){return e instanceof An?e.changingThisBreaksApplicationSecurity:e}function Nn(e,t){var n=zn(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===t}function zn(e){return e instanceof An&&e.getTypeName()||null}function Vn(e){return new Tn(e)}function Bn(e){return new Dn(e)}function Un(e){return new jn(e)}function Hn(e){return new Fn(e)}function Kn(e){return new Qn(e)}function qn(e){return function(){try{return!!(new window.DOMParser).parseFromString(In(""),"text/html")}catch(e){return!1}}()?new $n:new Wn(e)}var $n=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getInertBodyElement",value:function(e){e="<body><remove></remove>"+e;try{var t=(new window.DOMParser).parseFromString(In(e),"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}}}]),e}(),Wn=function(){function e(t){if(_classCallCheck(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var i=this.inertDocument.createElement("body");n.appendChild(i)}}return _createClass(e,[{key:"getInertBodyElement",value:function(e){var t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=In(e),t;var n=this.inertDocument.createElement("body");return n.innerHTML=In(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var i=t.item(n).name;"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||e.removeAttribute(i)}for(var o=e.firstChild;o;)o.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(o),o=o.nextSibling}}]),e}(),Gn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Xn(e){return(e=String(e)).match(Gn)||e.match(Yn)?e:"unsafe:"+e}function Zn(e){return(e=String(e)).split(",").map(function(e){return Xn(e.trim())}).join(", ")}function Jn(e){var t,n={},i=_createForOfIteratorHelper(e.split(","));try{for(i.s();!(t=i.n()).done;){n[t.value]=!0}}catch(o){i.e(o)}finally{i.f()}return n}function ei(){for(var e={},t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var o=0,r=n;o<r.length;o++){var a=r[o];for(var s in a)a.hasOwnProperty(s)&&(e[s]=!0)}return e}var ti,ni=Jn("area,br,col,hr,img,wbr"),ii=Jn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),oi=Jn("rp,rt"),ri=ei(oi,ii),ai=ei(ni,ei(ii,Jn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ei(oi,Jn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ri),si=Jn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ci=Jn("srcset"),li=ei(si,ci,Jn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Jn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ui=Jn("script,style,template"),fi=function(){function e(){_classCallCheck(this,e),this.sanitizedSomething=!1,this.buf=[]}return _createClass(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!ai.hasOwnProperty(t))return this.sanitizedSomething=!0,!ui.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n=e.attributes,i=0;i<n.length;i++){var o=n.item(i),r=o.name,a=r.toLowerCase();if(li.hasOwnProperty(a)){var s=o.value;si[a]&&(s=Xn(s)),ci[a]&&(s=Zn(s)),this.buf.push(" ",r,'="',pi(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();ai.hasOwnProperty(t)&&!ni.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(pi(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}]),e}(),di=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hi=/([^\#-~ |!])/g;function pi(e){return e.replace(/&/g,"&amp;").replace(di,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(hi,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function bi(e,t){var n=null;try{ti=ti||qn(e);var i=t?String(t):"";n=ti.getInertBodyElement(i);var o=5,r=i;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,i=r,r=n.innerHTML,n=ti.getInertBodyElement(i)}while(i!==r);return(new fi).sanitizeChildren(gi(n)||n)}finally{if(n)for(var a=gi(n)||n;a.firstChild;)a.removeChild(a.firstChild)}}function gi(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var mi=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function vi(e){var t=_i();return t?t.sanitize(mi.HTML,e)||"":Nn(e,"HTML")?Ln(e):bi(we(),pe(e))}function yi(e){var t=_i();return t?t.sanitize(mi.URL,e)||"":Nn(e,"URL")?Ln(e):Xn(pe(e))}function _i(){var e=Be();return e&&e[12]}function Ci(e){return e.ngDebugContext}function ki(e){return e.ngOriginalError}function Oi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];e.error.apply(e,n)}var xi=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),i=function(e){return e.ngErrorLogger||Oi}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),n&&i(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?Ci(e)?Ci(e):this._findContext(ki(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=ki(e);t&&ki(t);)t=ki(t);return t}}]),e}(),wi=/-->/g;function Mi(e,t){e.__ngContext__=t}var Pi=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Q);function Ei(e){return{name:"window",target:e.ownerDocument.defaultView}}function Si(e){return{name:"document",target:e.ownerDocument}}function Ri(e){return{name:"body",target:e.ownerDocument.body}}function Ii(e){return e instanceof Function?e():e}var Ai,Ti=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});function Di(e,t){return Ai(e,t)}function ji(e){var t=e[3];return se(t)?t[3]:t}function Fi(e){return Li(e[13])}function Qi(e){return Li(e[4])}function Li(e){for(;null!==e&&!se(e);)e=e[4];return e}function Ni(e,t,n,i,o){if(null!=i){var r,a=!1;se(i)?r=i:ae(i)&&(a=!0,i=i[0]);var s=Ee(i);0===e&&null!==n?null==o?Xi(t,n,s):Yi(t,n,s,o||null,!0):1===e&&null!==n?Yi(t,n,s,o||null,!0):2===e?co(t,s,a):3===e&&t.destroyNode(s),null!=r&&function(e,t,n,i,o){var r=n[7];r!==Ee(n)&&Ni(t,e,i,r,o);for(var a=10;a<n.length;a++){var s=n[a];uo(s[1],s,e,t,i,r)}}(t,e,r,n,o)}}function zi(e,t){return Me(e)?e.createText(t):e.createTextNode(t)}function Vi(e,t,n){Me(e)?e.setValue(t,n):t.textContent=n}function Bi(e,t){return e.createComment(function(e){return e.replace(wi,"-\u200b-\u200b>")}(t))}function Ui(e,t,n){return Me(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Hi(e,t){var n=e[9],i=n.indexOf(t),o=t[3];1024&t[2]&&(t[2]&=-1025,Ne(o,-1)),n.splice(i,1)}function Ki(e,t){if(!(e.length<=10)){var n,i=10+t,o=e[i];if(o){var r=o[17];null!==r&&r!==e&&Hi(r,o),t>0&&(e[i-1][4]=o[4]);var a=dn(e,10+t);uo(o[1],n=o,n[11],2,null,null),n[0]=null,n[6]=null;var s=a[19];null!==s&&s.detachView(a[1]),o[3]=null,o[4]=null,o[2]&=-129}return o}}function qi(e,t){if(!(256&t[2])){var n=t[11];Me(n)&&n.destroyNode&&uo(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return $i(e[1],e);for(;t;){var n=null;if(ae(t))n=t[13];else{var i=t[10];i&&(n=i)}if(!n){for(;t&&!t[4]&&t!==e;)ae(t)&&$i(t[1],t),t=t[3];null===t&&(t=e),ae(t)&&$i(t[1],t),n=t&&t[4]}t=n}}(t)}}function $i(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var i=0;i<n.length;i+=2){var o=t[n[i]];if(!(o instanceof Pt)){var r=n[i+1];if(Array.isArray(r))for(var a=0;a<r.length;a+=2)r[a+1].call(o[r[a]]);else r.call(o)}}}(e,t),function(e,t){var n=e.cleanup,i=t[7],o=-1;if(null!==n){for(var r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){var a=n[r+1],s="function"==typeof a?a(t):Ee(t[a]),c=i[o=n[r+2]],l=n[r+3];"boolean"==typeof l?s.removeEventListener(n[r],c,l):l>=0?i[o=l]():i[o=-l].unsubscribe(),r+=2}else{var u=i[o=n[r+1]];n[r].call(u)}if(null!==i)for(var f=o+1;f<i.length;f++)(0,i[f])();t[7]=null}}(e,t),1===t[1].type&&Me(t[11])&&t[11].destroy();var n=t[17];if(null!==n&&se(t[3])){n!==t[3]&&Hi(n,t);var i=t[19];null!==i&&i.detachView(e)}}}function Wi(e,t,n){return Gi(e,t.parent,n)}function Gi(e,t,n){for(var i=t;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[0];if(2&i.flags){var o=e.data[i.directiveStart].encapsulation;if(o===A.None||o===A.Emulated)return null}return Re(i,n)}function Yi(e,t,n,i,o){Me(e)?e.insertBefore(t,n,i,o):t.insertBefore(n,i,o)}function Xi(e,t,n){Me(e)?e.appendChild(t,n):t.appendChild(n)}function Zi(e,t,n,i,o){null!==i?Yi(e,t,n,i,o):Xi(e,t,n)}function Ji(e,t){return Me(e)?e.parentNode(t):t.parentNode}function eo(e,t,n){return io(e,t,n)}function to(e,t,n){return 40&e.type?Re(e,n):null}var no,io=to;function oo(e,t){io=e,no=t}function ro(e,t,n,i){var o=Wi(e,i,t),r=t[11],a=eo(i.parent||t[6],i,t);if(null!=o)if(Array.isArray(n))for(var s=0;s<n.length;s++)Zi(r,o,n[s],a,!1);else Zi(r,o,n,a,!1);void 0!==no&&no(r,i,t,n,o)}function ao(e,t){if(null!==t){var n=t.type;if(3&n)return Re(t,e);if(4&n)return so(-1,e[t.index]);if(8&n){var i=t.child;if(null!==i)return ao(e,i);var o=e[t.index];return se(o)?so(-1,o):Ee(o)}if(32&n)return Di(t,e)()||Ee(e[t.index]);var r=e[16],a=r[6],s=ji(r),c=a.projection[t.projection];return null!=c?ao(s,c):ao(e,t.next)}return null}function so(e,t){var n=10+e+1;if(n<t.length){var i=t[n],o=i[1].firstChild;if(null!==o)return ao(i,o)}return t[7]}function co(e,t,n){var i=Ji(e,t);i&&function(e,t,n,i){Me(e)?e.removeChild(t,n,i):t.removeChild(n)}(e,i,t,n)}function lo(e,t,n,i,o,r,a){for(;null!=n;){var s=i[n.index],c=n.type;if(a&&0===t&&(s&&Mi(Ee(s),i),n.flags|=4),64!=(64&n.flags))if(8&c)lo(e,t,n.child,i,o,r,!1),Ni(t,e,o,s,r);else if(32&c){for(var l=Di(n,i),u=void 0;u=l();)Ni(t,e,o,u,r);Ni(t,e,o,s,r)}else 16&c?fo(e,t,i,n,o,r):Ni(t,e,o,s,r);n=a?n.projectionNext:n.next}}function uo(e,t,n,i,o,r){lo(n,i,e.firstChild,t,o,r,!1)}function fo(e,t,n,i,o,r){var a=n[16],s=a[6].projection[i.projection];if(Array.isArray(s))for(var c=0;c<s.length;c++)Ni(t,e,o,s[c],r);else lo(e,t,s,a[3],o,r,!0)}function ho(e,t,n){Me(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function po(e,t,n){Me(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function bo(e,t,n){for(var i=e.length;;){var o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){var r=t.length;if(o+r===i||e.charCodeAt(o+r)<=32)return o}n=o+1}}function go(e,t,n){for(var i=0;i<e.length;){var o=e[i++];if(n&&"class"===o){if(-1!==bo((o=e[i]).toLowerCase(),t,0))return!0}else if(1===o){for(;i<e.length&&"string"==typeof(o=e[i++]);)if(o.toLowerCase()===t)return!0;return!1}}return!1}function mo(e){return 4===e.type&&"ng-template"!==e.value}function vo(e,t,n){return t===(4!==e.type||n?e.value:"ng-template")}function yo(e,t,n){for(var i=4,o=e.attrs||[],r=function(e){for(var t=0;t<e.length;t++)if(St(e[t]))return t;return e.length}(o),a=!1,s=0;s<t.length;s++){var c=t[s];if("number"!=typeof c){if(!a)if(4&i){if(i=2|1&i,""!==c&&!vo(e,c,n)||""===c&&1===t.length){if(_o(i))return!1;a=!0}}else{var l=8&i?c:t[++s];if(8&i&&null!==e.attrs){if(!go(e.attrs,l,n)){if(_o(i))return!1;a=!0}continue}var u=Co(8&i?"class":c,o,mo(e),n);if(-1===u){if(_o(i))return!1;a=!0;continue}if(""!==l){var f;f=u>r?"":o[u+1].toLowerCase();var d=8&i?f:null;if(d&&-1!==bo(d,l,0)||2&i&&l!==f){if(_o(i))return!1;a=!0}}}}else{if(!a&&!_o(i)&&!_o(c))return!1;if(a&&_o(c))continue;a=!1,i=c|1&i}}return _o(i)||a}function _o(e){return 0==(1&e)}function Co(e,t,n,i){if(null===t)return-1;var o=0;if(i||!n){for(var r=!1;o<t.length;){var a=t[o];if(a===e)return o;if(3===a||6===a)r=!0;else{if(1===a||2===a){for(var s=t[++o];"string"==typeof s;)s=t[++o];continue}if(4===a)break;if(0===a){o+=4;continue}}o+=r?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function ko(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=0;i<t.length;i++)if(yo(e,t[i],n))return!0;return!1}function Oo(e,t){e:for(var n=0;n<t.length;n++){var i=t[n];if(e.length===i.length){for(var o=0;o<e.length;o++)if(e[o]!==i[o])continue e;return!0}}return!1}function xo(e,t){return e?":not("+t.trim()+")":t}function wo(e){for(var t=e[0],n=1,i=2,o="",r=!1;n<e.length;){var a=e[n];if("string"==typeof a)if(2&i){var s=e[++n];o+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&i?o+="."+a:4&i&&(o+=" "+a);else""===o||_o(a)||(t+=xo(r,o),o=""),i=a,r=r||!_o(i);n++}return""!==o&&(t+=xo(r,o)),t}var Mo={};function Po(e){Eo(Ue(),Be(),gt()+e,Xe())}function Eo(e,t,n,i){if(!i)if(3==(3&t[2])){var o=e.preOrderCheckHooks;null!==o&&kt(t,o,n)}else{var r=e.preOrderHooks;null!==r&&Ot(t,r,0,n)}mt(n)}function So(e,t){return e<<17|t<<2}function Ro(e){return e>>17&32767}function Io(e){return 2|e}function Ao(e){return(131068&e)>>2}function To(e,t){return-131069&e|t<<2}function Do(e){return 1|e}function jo(e,t){var n=e.contentQueries;if(null!==n)for(var i=0;i<n.length;i+=2){var o=n[i],r=n[i+1];if(-1!==r){var a=e.data[r];st(o),a.contentQueries(2,t[r],r)}}}function Fo(e,t,n,i,o,r,a,s,c,l){var u=t.blueprint.slice();return u[0]=o,u[2]=140|i,Le(u),u[3]=u[15]=e,u[8]=n,u[10]=a||e&&e[10],u[11]=s||e&&e[11],u[12]=c||e&&e[12]||null,u[9]=l||e&&e[9]||null,u[6]=r,u[16]=2==t.type?e[16]:u,u}function Qo(e,t,n,i,o){var r=e.data[t];if(null===r)r=Lo(e,t,n,i,o),ze.lFrame.inI18n&&(r.flags|=64);else if(64&r.type){r.type=n,r.value=i,r.attrs=o;var a=$e();r.injectorIndex=null===a?-1:a.injectorIndex}return We(r,!0),r}function Lo(e,t,n,i,o){var r=qe(),a=Ge(),s=e.data[t]=function(e,t,n,i,o,r){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?r:r&&r.parent,n,t,i,o);return null===e.firstChild&&(e.firstChild=s),null!==r&&(a?null==r.child&&null!==s.parent&&(r.child=s):null===r.next&&(r.next=s)),s}function No(e,t,n,i){if(0===n)return-1;for(var o=t.length,r=0;r<n;r++)t.push(i),e.blueprint.push(i),e.data.push(null);return o}function zo(e,t,n){ut(t);try{var i=e.viewQuery;null!==i&&mr(1,i,n);var o=e.template;null!==o&&Uo(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&jo(e,t),e.staticViewQueries&&mr(2,e.viewQuery,n);var r=e.components;null!==r&&function(e,t){for(var n=0;n<t.length;n++)dr(e,t[n])}(t,r)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),a}finally{t[2]&=-5,bt()}}function Vo(e,t,n,i){var o=t[2];if(256!=(256&o)){ut(t);var r=Xe();try{Le(t),ze.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&Uo(e,t,n,2,i);var a=3==(3&o);if(!r)if(a){var s=e.preOrderCheckHooks;null!==s&&kt(t,s,null)}else{var c=e.preOrderHooks;null!==c&&Ot(t,c,0,null),xt(t,0)}if(function(e){for(var t=Fi(e);null!==t;t=Qi(t))if(t[2])for(var n=t[9],i=0;i<n.length;i++){var o=n[i],r=o[3];0==(1024&o[2])&&Ne(r,1),o[2]|=1024}}(t),function(e){for(var t=Fi(e);null!==t;t=Qi(t))for(var n=10;n<t.length;n++){var i=t[n],o=i[1];Fe(i)&&Vo(o,i,o.template,i[8])}}(t),null!==e.contentQueries&&jo(e,t),!r)if(a){var l=e.contentCheckHooks;null!==l&&kt(t,l)}else{var u=e.contentHooks;null!==u&&Ot(t,u,1),xt(t,1)}!function(e,t){var n,i,o,r=e.hostBindingOpCodes;if(null!==r)try{for(var a=0;a<r.length;a++){var s=r[a];if(s<0)mt(~s);else{var c=s,l=r[++a],u=r[++a];n=l,i=c,o=void 0,(o=ze.lFrame).bindingIndex=o.bindingRootIndex=n,ot(i),u(2,t[c])}}}finally{mt(-1)}}(e,t);var f=e.components;null!==f&&function(e,t){for(var n=0;n<t.length;n++)ur(e,t[n])}(t,f);var d=e.viewQuery;if(null!==d&&mr(2,d,i),!r)if(a){var h=e.viewCheckHooks;null!==h&&kt(t,h)}else{var p=e.viewHooks;null!==p&&Ot(t,p,2),xt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),r||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Ne(t[3],-1))}finally{bt()}}}function Bo(e,t,n,i){var o=t[10],r=!Xe(),a=je(t);try{r&&!a&&o.begin&&o.begin(),a&&zo(e,t,i),Vo(e,t,n,i)}finally{r&&!a&&o.end&&o.end()}}function Uo(e,t,n,i,o){var r=gt();try{mt(-1),2&i&&t.length>20&&Eo(e,t,20,Xe()),n(i,o)}finally{mt(r)}}function Ho(e,t,n){if(ce(t))for(var i=t.directiveEnd,o=t.directiveStart;o<i;o++){var r=e.data[o];r.contentQueries&&r.contentQueries(1,n[o],o)}}function Ko(e,t,n){Ve()&&(function(e,t,n,i){var o=n.directiveStart,r=n.directiveEnd;e.firstCreatePass||Nt(n,t),Mi(i,t);for(var a=n.initialInputs,s=o;s<r;s++){var c=e.data[s],l=fe(c);l&&rr(t,n,c);var u=Xt(t,e,s,n);Mi(u,t),null!==a&&sr(0,s-o,u,c,0,a),l&&(Te(n.index,t)[8]=u)}}(e,t,n,Re(n,t)),128==(128&n.flags)&&function(e,t,n){var i=n.directiveStart,o=n.directiveEnd,r=n.index,a=ze.lFrame.currentDirectiveIndex;try{mt(r);for(var s=i;s<o;s++){var c=e.data[s],l=t[s];ot(s),null===c.hostBindings&&0===c.hostVars&&null===c.hostAttrs||er(c,l)}}finally{mt(-1),ot(a)}}(e,t,n))}function qo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Re,i=t.localNames;if(null!==i)for(var o=t.index+1,r=0;r<i.length;r+=2){var a=i[r+1],s=-1===a?n(t,e):e[a];e[o++]=s}}function $o(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Wo(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Wo(e,t,n,i,o,r,a,s,c,l){var u=20+i,f=u+o,d=function(e,t){for(var n=[],i=0;i<t;i++)n.push(i<e?null:Mo);return n}(u,f),h="function"==typeof l?l():l;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:s,declTNode:t,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:c,consts:h,incompleteFirstPass:!1}}function Go(e,t,n,i){var o=yr(t);null===n?o.push(i):(o.push(n),e.firstCreatePass&&_r(e).push(i,o.length-1))}function Yo(e,t,n){for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(t,o):n[i]=[t,o]}return n}function Xo(e,t,n,i,o,r,a,s){var c,l,u=Re(t,n),f=t.inputs;!s&&null!=f&&(c=f[i])?(kr(e,n,c,i,o),le(t)&&function(e,t){var n=Te(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(i="class"===(l=i)?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l,o=null!=a?a(o,t.value||"",i):o,Me(r)?r.setProperty(u,i,o):Rt(i)||(u.setProperty?u.setProperty(i,o):u[i]=o))}function Zo(e,t,n,i){var o=!1;if(Ve()){var r=function(e,t,n){var i=e.directiveRegistry,o=null;if(i)for(var r=0;r<i.length;r++){var a=i[r];ko(n,a.selectors,!1)&&(o||(o=[]),Ut(Nt(n,t),e,a.type),fe(a)?(tr(e,n),o.unshift(a)):o.push(a))}return o}(e,t,n),a=null===i?null:{"":-1};if(null!==r){o=!0,ir(n,e.data.length,r.length);for(var s=0;s<r.length;s++){var c=r[s];c.providersResolver&&c.providersResolver(c)}for(var l=!1,u=!1,f=No(e,t,r.length,null),d=0;d<r.length;d++){var h=r[d];n.mergedAttrs=It(n.mergedAttrs,h.hostAttrs),or(e,n,t,f,h),nr(f,h,a),null!==h.contentQueries&&(n.flags|=8),null===h.hostBindings&&null===h.hostAttrs&&0===h.hostVars||(n.flags|=128);var p=h.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),l=!0),u||!p.ngOnChanges&&!p.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),u=!0),f++}!function(e,t){for(var n=t.directiveEnd,i=e.data,o=t.attrs,r=[],a=null,s=null,c=t.directiveStart;c<n;c++){var l=i[c],u=l.inputs,f=null===o||mo(t)?null:cr(u,o);r.push(f),a=Yo(u,c,a),s=Yo(l.outputs,c,s)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=r,t.inputs=a,t.outputs=s}(e,n)}a&&function(e,t,n){if(t)for(var i=e.localNames=[],o=0;o<t.length;o+=2){var r=n[t[o+1]];if(null==r)throw new he("301","Export of name '".concat(t[o+1],"' not found!"));i.push(t[o],r)}}(n,i,a)}return n.mergedAttrs=It(n.mergedAttrs,n.attrs),o}function Jo(e,t,n,i,o,r){var a=r.hostBindings;if(a){var s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);var c=~t.index;(function(e){for(var t=e.length;t>0;){var n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=c&&s.push(c),s.push(i,o,a)}}function er(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function tr(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function nr(e,t,n){if(n){if(t.exportAs)for(var i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;fe(t)&&(n[""]=e)}}function ir(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function or(e,t,n,i,o){e.data[i]=o;var r=o.factory||(o.factory=de(o.type)),a=new Pt(r,fe(o),null);e.blueprint[i]=a,n[i]=a,Jo(e,t,0,i,No(e,n,o.hostVars,Mo),o)}function rr(e,t,n){var i=Re(t,e),o=$o(n),r=e[10],a=hr(e,Fo(e,o,null,n.onPush?64:16,i,t,r,r.createRenderer(i,n),null,null));e[t.index]=a}function ar(e,t,n,i,o,r,a){if(null==r)Me(e)?e.removeAttribute(t,o,n):t.removeAttribute(o);else{var s=null==a?pe(r):a(r,i||"",o);Me(e)?e.setAttribute(t,o,s,n):n?t.setAttributeNS(n,o,s):t.setAttribute(o,s)}}function sr(e,t,n,i,o,r){var a=r[t];if(null!==a)for(var s=i.setInput,c=0;c<a.length;){var l=a[c++],u=a[c++],f=a[c++];null!==s?i.setInput(n,f,l,u):n[u]=f}}function cr(e,t){for(var n=null,i=0;i<t.length;){var o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;e.hasOwnProperty(o)&&(null===n&&(n=[]),n.push(o,e[o],t[i+1])),i+=2}else i+=2;else i+=4}return n}function lr(e,t,n,i){return new Array(e,!0,!1,t,null,0,i,n,null,null)}function ur(e,t){var n=Te(t,e);if(Fe(n)){var i=n[1];80&n[2]?Vo(i,n,i.template,n[8]):n[5]>0&&fr(n)}}function fr(e){for(var t=Fi(e);null!==t;t=Qi(t))for(var n=10;n<t.length;n++){var i=t[n];if(1024&i[2]){var o=i[1];Vo(o,i,o.template,i[8])}else i[5]>0&&fr(i)}var r=e[1].components;if(null!==r)for(var a=0;a<r.length;a++){var s=Te(r[a],e);Fe(s)&&s[5]>0&&fr(s)}}function dr(e,t){var n=Te(t,e),i=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(i,n),zo(i,n,n[8])}function hr(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function pr(e){for(;e;){e[2]|=64;var t=ji(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function br(e,t,n){var i=t[10];i.begin&&i.begin();try{Vo(e,t,e.template,n)}catch(o){throw Cr(t,o),o}finally{i.end&&i.end()}}function gr(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],i=De(n),o=i[1];Bo(o,i,o.template,n)}}(e[8])}function mr(e,t,n){st(0),t(e,n)}var vr=Promise.resolve(null);function yr(e){return e[7]||(e[7]=[])}function _r(e){return e.cleanup||(e.cleanup=[])}function Cr(e,t){var n=e[9],i=n?n.get(xi,null):null;i&&i.handleError(t)}function kr(e,t,n,i,o){for(var r=0;r<n.length;){var a=n[r++],s=n[r++],c=t[a],l=e.data[a];null!==l.setInput?l.setInput(c,o,i,s):c[s]=o}}function Or(e,t,n){var i=Se(t,e);Vi(e[11],i,n)}function xr(e,t,n){var i=n?e.styles:null,o=n?e.classes:null,r=0;if(null!==t)for(var a=0;a<t.length;a++){var s=t[a];"number"==typeof s?r=s:1==r?o=f(o,s):2==r&&(i=f(i,s+": "+t[++a]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=o:e.classesWithoutHost=o}var wr=new an("INJECTOR",-1),Mr=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cn;if(t===Cn){var n=new Error("NullInjectorError: No provider for ".concat(u(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),Pr=new an("Set Injector scope."),Er={},Sr={},Rr=[],Ir=void 0;function Ar(){return void 0===Ir&&(Ir=new Mr),Ir}function Tr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return new Dr(e,n,t||Ar(),i)}var Dr=function(){function e(t,n,i){var o=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&un(n,function(e){return o.processProvider(e,t,n)}),un([t],function(e){return o.processInjectorType(e,[],a)}),this.records.set(wr,Qr(void 0,this));var s=this.records.get(Pr);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:u(t))}return _createClass(e,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(e){return e.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cn,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P.Default;this.assertNotDestroyed();var i,o=wn(this);try{if(!(n&P.SkipSelf)){var r=this.records.get(e);if(void 0===r){var a=("function"==typeof(i=e)||"object"==typeof i&&i instanceof an)&&y(e);r=a&&this.injectableDefInScope(a)?Qr(jr(e),Er):null,this.records.set(e,r)}if(null!=r)return this.hydrate(e,r)}return(n&P.Self?Ar():this.parent).get(e,t=n&P.Optional&&t===Cn?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(u(e)),o)throw s;return function(e,t,n,i){var o=e.ngTempTokenPath;throw t.__source&&o.unshift(t.__source),e.message=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var o=u(t);if(Array.isArray(t))o=t.map(u).join(" -> ");else if("object"==typeof t){var r=[];for(var a in t)if(t.hasOwnProperty(a)){var s=t[a];r.push(a+":"+("string"==typeof s?JSON.stringify(s):u(s)))}o="{".concat(r.join(", "),"}")}return"".concat(n).concat(i?"("+i+")":"","[").concat(o,"]: ").concat(e.replace(kn,"\n  "))}("\n"+e.message,o,"R3InjectorError",i),e.ngTokenPath=o,e.ngTempTokenPath=null,e}(s,e,0,this.source)}throw s}finally{wn(o)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach(function(t){return e.get(t)})}},{key:"toString",value:function(){var e=[];return this.records.forEach(function(t,n){return e.push(u(n))}),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var i=this;if(!(e=p(e)))return!1;var o=C(e),r=null==o&&e.ngModule||void 0,a=void 0===r?e:r,s=-1!==n.indexOf(a);if(void 0!==r&&(o=C(r)),null==o)return!1;if(null!=o.imports&&!s){var c;n.push(a);try{un(o.imports,function(e){i.processInjectorType(e,t,n)&&(void 0===c&&(c=[]),c.push(e))})}finally{}if(void 0!==c)for(var l=function(e){var t=c[e],n=t.ngModule,o=t.providers;un(o,function(e){return i.processProvider(e,n,o||Rr)})},u=0;u<c.length;u++)l(u)}this.injectorDefTypes.add(a),this.records.set(a,Qr(o.factory,Er));var f=o.providers;if(null!=f&&!s){var d=e;un(f,function(e){return i.processProvider(e,d,f)})}return void 0!==r&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var i=Nr(e=p(e))?e:p(e&&e.provide),o=function(e,t,n){return Lr(e)?Qr(void 0,e.useValue):Qr(Fr(e),Er)}(e);if(Nr(e)||!0!==e.multi)this.records.get(i);else{var r=this.records.get(i);r||((r=Qr(void 0,Er,!0)).factory=function(){return Rn(r.multi)},this.records.set(i,r)),i=e,r.multi.push(e)}this.records.set(i,o)}},{key:"hydrate",value:function(e,t){var n;return t.value===Er&&(t.value=Sr,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();function jr(e){var t=y(e),n=null!==t?t.factory:de(e);if(null!==n)return n;var i=C(e);if(null!==i)return i.factory;if(e instanceof an)throw new Error("Token ".concat(u(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=hn(t,"?");throw new Error("Can't resolve all parameters for ".concat(u(e),": (").concat(n.join(", "),")."))}var i=function(e){var t=e&&(e[O]||e[w]);if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),t}return null}(e);return null!==i?function(){return i.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function Fr(e,t,n){var i,o=void 0;if(Nr(e)){var r=p(e);return de(r)||jr(r)}if(Lr(e))o=function(){return p(e.useValue)};else if((i=e)&&i.useFactory)o=function(){return e.useFactory.apply(e,_toConsumableArray(Rn(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))o=function(){return Pn(p(e.useExisting))};else{var a=p(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return de(a)||jr(a);o=function(){return _construct(a,_toConsumableArray(Rn(e.deps)))}}return o}function Qr(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function Lr(e){return null!==e&&"object"==typeof e&&On in e}function Nr(e){return"function"==typeof e}var zr=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0,o=Tr(e,t,n,i);return o._resolveInjectorDefTypes(),o}({name:n},t,e,n)},Vr=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?zr(e,t,""):zr(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=Cn,e.NULL=new Mr,e.\u0275prov=m({token:e,providedIn:"any",factory:function(){return Pn(wr)}}),e.__NG_ELEMENT_ID__=-1,e}();function Br(e,t){Ct(De(e)[1],Ke())}function Ur(e){for(var t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0,i=[e];t;){var o=void 0;if(fe(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");o=t.\u0275dir}if(o){if(n){i.push(o);var r=e;r.inputs=Hr(e.inputs),r.declaredInputs=Hr(e.declaredInputs),r.outputs=Hr(e.outputs);var a=o.hostBindings;a&&$r(e,a);var s=o.viewQuery,c=o.contentQueries;if(s&&Kr(e,s),c&&qr(e,c),l(e.inputs,o.inputs),l(e.declaredInputs,o.declaredInputs),l(e.outputs,o.outputs),fe(o)&&o.data.animation){var u=e.data;u.animation=(u.animation||[]).concat(o.data.animation)}}var f=o.features;if(f)for(var d=0;d<f.length;d++){var h=f[d];h&&h.ngInherit&&h(e),h===Ur&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,i=e.length-1;i>=0;i--){var o=e[i];o.hostVars=t+=o.hostVars,o.hostAttrs=It(o.hostAttrs,n=It(n,o.hostAttrs))}}(i)}function Hr(e){return e===L?{}:e===N?[]:e}function Kr(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,i){t(e,i),n(e,i)}:t}function qr(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,i,o){t(e,i,o),n(e,i,o)}:t}function $r(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,i){t(e,i),n(e,i)}:t}var Wr=null;function Gr(){if(!Wr){var e=Q.Symbol;if(e&&e.iterator)Wr=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var i=t[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Wr=i)}}return Wr}var Yr=function(){function e(t){_classCallCheck(this,e),this.wrapped=t}return _createClass(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function Xr(e){return!!Zr(e)&&(Array.isArray(e)||!(e instanceof Map)&&Gr()in e)}function Zr(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Jr(e,t,n){return e[t]=n}function ea(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function ta(e,t,n,i){var o=ea(e,t,n);return ea(e,t+1,i)||o}function na(e,t,n,i,o){var r=ta(e,t,n,i);return ea(e,t+2,o)||r}function ia(e,t,n,i,o,r){var a=ta(e,t,n,i);return ta(e,t+2,o,r)||a}function oa(e,t,n,i){var o=Be();return ea(o,tt(),t)&&(Ue(),function(e,t,n,i,o,r){var a=Re(e,t);ar(t[11],a,r,e.value,n,i,o)}(vt(),o,e,t,n,i)),oa}function ra(e,t,n,i){return ea(e,tt(),n)?t+pe(n)+i:Mo}function aa(e,t,n,i,o,r,a,s){var c=Be(),l=Ue(),u=e+20,f=l.firstCreatePass?function(e,t,n,i,o,r,a,s,c){var l=t.consts,u=Qo(t,e,4,a||null,Qe(l,s));Zo(t,n,u,Qe(l,c)),Ct(t,u);var f=u.tViews=Wo(2,u,i,o,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l);return null!==t.queries&&(t.queries.template(t,u),f.queries=t.queries.embeddedTView(u)),u}(u,l,c,t,n,i,o,r,a):l.data[u];We(f,!1);var d=c[11].createComment("");ro(l,c,d,f),Mi(d,c),hr(c,c[u]=lr(d,c,d,f)),ue(f)&&Ko(l,c,f),null!=a&&qo(c,f,s)}function sa(e){return Ae(ze.lFrame.contextLView,20+e)}function ca(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P.Default,n=Be();return null===n?Pn(e,t):qt(Ke(),n,p(e),t)}function la(e,t,n){var i=Be();return ea(i,tt(),t)&&Xo(Ue(),vt(),i,e,t,i[11],n,!1),la}function ua(e,t,n,i,o){var r=o?"class":"style";kr(e,n,t.inputs[r],r,i)}function fa(e,t,n,i){var o=Be(),r=Ue(),a=20+e,s=o[11],c=o[a]=Ui(s,t,ze.lFrame.currentNamespace),l=r.firstCreatePass?function(e,t,n,i,o,r,a){var s=t.consts,c=Qo(t,e,2,o,Qe(s,r));return Zo(t,n,c,Qe(s,a)),null!==c.attrs&&xr(c,c.attrs,!1),null!==c.mergedAttrs&&xr(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(a,r,o,0,t,n,i):r.data[a];We(l,!0);var u=l.mergedAttrs;null!==u&&Et(s,c,u);var f=l.classes;null!==f&&po(s,c,f);var d=l.styles;null!==d&&ho(s,c,d),64!=(64&l.flags)&&ro(r,o,c,l),0===ze.lFrame.elementDepthCount&&Mi(c,o),ze.lFrame.elementDepthCount++,ue(l)&&(Ko(r,o,l),Ho(r,l,o)),null!==i&&qo(o,l)}function da(){var e=Ke();Ge()?Ye():We(e=e.parent,!1);var t=e;ze.lFrame.elementDepthCount--;var n=Ue();n.firstCreatePass&&(Ct(n,e),ce(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&ua(n,t,Be(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&ua(n,t,Be(),t.stylesWithoutHost,!1)}function ha(e,t,n,i){fa(e,t,n,i),da()}function pa(e,t,n){var i=Be(),o=Ue(),r=e+20,a=o.firstCreatePass?function(e,t,n,i,o){var r=t.consts,a=Qe(r,i),s=Qo(t,e,8,"ng-container",a);return null!==a&&xr(s,a,!0),Zo(t,n,s,Qe(r,o)),null!==t.queries&&t.queries.elementStart(t,s),s}(r,o,i,t,n):o.data[r];We(a,!0);var s=i[r]=i[11].createComment("");ro(o,i,s,a),Mi(s,i),ue(a)&&(Ko(o,i,a),Ho(o,a,i)),null!=n&&qo(i,a)}function ba(){var e=Ke(),t=Ue();Ge()?Ye():We(e=e.parent,!1),t.firstCreatePass&&(Ct(t,e),ce(e)&&t.queries.elementEnd(e))}function ga(e,t,n){pa(e,t,n),ba()}function ma(){return Be()}function va(e){return!!e&&"function"==typeof e.then}function ya(e){return!!e&&"function"==typeof e.subscribe}function _a(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,o=Be(),r=Ue(),a=Ke();return function(e,t,n,i,o,r){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,c=ue(i),l=e.firstCreatePass&&_r(e),u=yr(t),f=!0;if(3&i.type){var d=Re(i,t),h=s?s(d):L,p=h.target||d,b=u.length,g=s?function(e){return s(Ee(e[i.index])).target}:i.index;if(Me(n)){var m=null;if(!s&&c&&(m=function(e,t,n,i){var o=e.cleanup;if(null!=o)for(var r=0;r<o.length-1;r+=2){var a=o[r];if(a===n&&o[r+1]===i){var s=t[7],c=o[r+2];return s.length>c?s[c]:null}"string"==typeof a&&(r+=2)}return null}(e,t,o,i.index)),null!==m)(m.__ngLastListenerFn__||m).__ngNextListenerFn__=r,m.__ngLastListenerFn__=r,f=!1;else{r=ka(i,t,r,!1);var v=n.listen(h.name||p,o,r);u.push(r,v),l&&l.push(o,g,b,b+1)}}else r=ka(i,t,r,!0),p.addEventListener(o,r,a),u.push(r),l&&l.push(o,g,b,a)}else r=ka(i,t,r,!1);var y,_=i.outputs;if(f&&null!==_&&(y=_[o])){var C=y.length;if(C)for(var k=0;k<C;k+=2){var O=t[y[k]][y[k+1]].subscribe(r),x=u.length;u.push(r,O),l&&l.push(o,i.index,x,-(x+1))}}}(r,o,o[11],a,e,t,n,i),_a}function Ca(e,t,n){try{return!1!==t(n)}catch(i){return Cr(e,i),!1}}function ka(e,t,n,i){return function o(r){if(r===Function)return n;var a=2&e.flags?Te(e.index,t):t;0==(32&t[2])&&pr(a);for(var s=Ca(t,n,r),c=o.__ngNextListenerFn__;c;)s=Ca(t,c,r)&&s,c=c.__ngNextListenerFn__;return i&&!1===s&&(r.preventDefault(),r.returnValue=!1),s}}function Oa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return(ze.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,ze.lFrame.contextLView))[8]}(e)}function xa(e,t){for(var n=null,i=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),o=0;o<t.length;o++){var r=t[o];if("*"!==r){if(null===i?ko(e,r,!0):Oo(i,r))return o}else n=o}return n}function wa(e){var t=Be()[16][6];if(!t.projection)for(var n=t.projection=hn(e?e.length:1,null),i=n.slice(),o=t.child;null!==o;){var r=e?xa(o,e):0;null!==r&&(i[r]?i[r].projectionNext=o:n[r]=o,i[r]=o),o=o.next}}function Ma(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=Be(),o=Ue(),r=Qo(o,20+e,16,null,n||null);null===r.projection&&(r.projection=t),Ye(),64!=(64&r.flags)&&function(e,t,n){fo(t[11],0,t,n,Wi(e,n,t),eo(n.parent||t[6],n,t))}(o,i,r)}function Pa(e,t,n){return Ea(e,"",t,"",n),Pa}function Ea(e,t,n,i,o){var r=Be(),a=ra(r,t,n,i);return a!==Mo&&Xo(Ue(),vt(),r,e,a,r[11],o,!1),Ea}var Sa=[];function Ra(e,t,n,i,o){for(var r=e[n+1],a=null===t,s=i?Ro(r):Ao(r),c=!1;0!==s&&(!1===c||a);){var l=e[s+1];Ia(e[s],t)&&(c=!0,e[s+1]=i?Do(l):Io(l)),s=i?Ro(l):Ao(l)}c&&(e[n+1]=i?Io(r):Do(r))}function Ia(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&gn(e,t)>=0}var Aa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ta(e){return e.substring(Aa.key,Aa.keyEnd)}function Da(e,t){var n=Aa.textEnd;return n===t?-1:(t=Aa.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Aa.key=t,n),ja(e,t,n))}function ja(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Fa(e,t,n){return za(e,t,n,!1),Fa}function Qa(e,t){return za(e,t,null,!0),Qa}function La(e){Va(pn,Na,e,!0)}function Na(e,t){for(var n=function(e){return function(e){Aa.key=0,Aa.keyEnd=0,Aa.value=0,Aa.valueEnd=0,Aa.textEnd=e.length}(e),Da(e,ja(e,0,Aa.textEnd))}(t);n>=0;n=Da(t,n))pn(e,Ta(t),!0)}function za(e,t,n,i){var o=Be(),r=Ue(),a=nt(2);r.firstUpdatePass&&Ua(r,e,a,i),t!==Mo&&ea(o,a,t)&&qa(r,r.data[gt()],o,o[11],e,o[a+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=u(Ln(e)))),e}(t,n),i,a)}function Va(e,t,n,i){var o=Ue(),r=nt(2);o.firstUpdatePass&&Ua(o,null,r,i);var a=Be();if(n!==Mo&&ea(a,r,n)){var s=o.data[gt()];if(Ga(s,i)&&!Ba(o,r)){var c=i?s.classesWithoutHost:s.stylesWithoutHost;null!==c&&(n=f(c,n||"")),ua(o,s,a,n,i)}else!function(e,t,n,i,o,r,a,s){o===Mo&&(o=Sa);for(var c=0,l=0,u=0<o.length?o[0]:null,f=0<r.length?r[0]:null;null!==u||null!==f;){var d=c<o.length?o[c+1]:void 0,h=l<r.length?r[l+1]:void 0,p=null,b=void 0;u===f?(c+=2,l+=2,d!==h&&(p=f,b=h)):null===f||null!==u&&u<f?(c+=2,p=u):(l+=2,p=f,b=h),null!==p&&qa(e,t,n,i,p,b,a,s),u=c<o.length?o[c]:null,f=l<r.length?r[l]:null}}(o,s,a,a[11],a[r+1],a[r+1]=function(e,t,n){if(null==n||""===n)return Sa;var i=[],o=Ln(n);if(Array.isArray(o))for(var r=0;r<o.length;r++)e(i,o[r],!0);else if("object"==typeof o)for(var a in o)o.hasOwnProperty(a)&&e(i,a,o[a]);else"string"==typeof o&&t(i,o);return i}(e,t,n),i,r)}}function Ba(e,t){return t>=e.expandoStartIndex}function Ua(e,t,n,i){var o=e.data;if(null===o[n+1]){var r=o[gt()],a=Ba(e,n);Ga(r,i)&&null===t&&!a&&(t=!1),t=function(e,t,n,i){var o=rt(e),r=i?t.residualClasses:t.residualStyles;if(null===o)0===(i?t.classBindings:t.styleBindings)&&(n=Ka(n=Ha(null,e,t,n,i),t.attrs,i),r=null);else{var a=t.directiveStylingLast;if(-1===a||e[a]!==o)if(n=Ha(o,e,t,n,i),null===r){var s=function(e,t,n){var i=n?t.classBindings:t.styleBindings;if(0!==Ao(i))return e[Ro(i)]}(e,t,i);void 0!==s&&Array.isArray(s)&&function(e,t,n,i){e[Ro(n?t.classBindings:t.styleBindings)]=i}(e,t,i,s=Ka(s=Ha(null,e,t,s[1],i),t.attrs,i))}else r=function(e,t,n){for(var i=void 0,o=t.directiveEnd,r=1+t.directiveStylingLast;r<o;r++)i=Ka(i,e[r].hostAttrs,n);return Ka(i,t.attrs,n)}(e,t,i)}return void 0!==r&&(i?t.residualClasses=r:t.residualStyles=r),n}(o,r,t,i),function(e,t,n,i,o,r){var a=r?t.classBindings:t.styleBindings,s=Ro(a),c=Ao(a);e[i]=n;var l,u=!1;if(Array.isArray(n)){var f=n;(null===(l=f[1])||gn(f,l)>0)&&(u=!0)}else l=n;if(o)if(0!==c){var d=Ro(e[s+1]);e[i+1]=So(d,s),0!==d&&(e[d+1]=To(e[d+1],i)),e[s+1]=131071&e[s+1]|i<<17}else e[i+1]=So(s,0),0!==s&&(e[s+1]=To(e[s+1],i)),s=i;else e[i+1]=So(c,0),0===s?s=i:e[c+1]=To(e[c+1],i),c=i;u&&(e[i+1]=Io(e[i+1])),Ra(e,l,i,!0),Ra(e,l,i,!1),function(e,t,n,i,o){var r=o?e.residualClasses:e.residualStyles;null!=r&&"string"==typeof t&&gn(r,t)>=0&&(n[i+1]=Do(n[i+1]))}(t,l,e,i,r),a=So(s,c),r?t.classBindings=a:t.styleBindings=a}(o,r,t,n,a,i)}}function Ha(e,t,n,i,o){var r=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(i=Ka(i,(r=t[s]).hostAttrs,o),r!==e);)s++;return null!==e&&(n.directiveStylingLast=s),i}function Ka(e,t,n){var i=n?1:2,o=-1;if(null!==t)for(var r=0;r<t.length;r++){var a=t[r];"number"==typeof a?o=a:o===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),pn(e,a,!!n||t[++r]))}return void 0===e?null:e}function qa(e,t,n,i,o,r,a,s){if(3&t.type){var c=e.data,l=c[s+1];Wa(1==(1&l)?$a(c,t,n,o,Ao(l),a):void 0)||(Wa(r)||2==(2&l)&&(r=$a(c,null,n,o,s,a)),function(e,t,n,i,o){var r=Me(e);if(t)o?r?e.addClass(n,i):n.classList.add(i):r?e.removeClass(n,i):n.classList.remove(i);else{var a=-1===i.indexOf("-")?void 0:Ti.DashCase;if(null==o)r?e.removeStyle(n,i,a):n.style.removeProperty(i);else{var s="string"==typeof o&&o.endsWith("!important");s&&(o=o.slice(0,-10),a|=Ti.Important),r?e.setStyle(n,i,o,a):n.style.setProperty(i,o,s?"important":"")}}}(i,a,Se(gt(),n),o,r))}}function $a(e,t,n,i,o,r){for(var a=null===t,s=void 0;o>0;){var c=e[o],l=Array.isArray(c),u=l?c[1]:c,f=null===u,d=n[o+1];d===Mo&&(d=f?Sa:void 0);var h=f?bn(d,i):u===i?d:void 0;if(l&&!Wa(h)&&(h=bn(c,i)),Wa(h)&&(s=h,a))return s;var p=e[o+1];o=a?Ro(p):Ao(p)}if(null!==t){var b=r?t.residualClasses:t.residualStyles;null!=b&&(s=bn(b,i))}return s}function Wa(e){return void 0!==e}function Ga(e,t){return 0!=(e.flags&(t?16:32))}function Ya(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Be(),i=Ue(),o=e+20,r=i.firstCreatePass?Qo(i,o,1,t,null):i.data[o],a=n[o]=zi(n[11],t);ro(i,n,a,r),We(r,!1)}function Xa(e){return Za("",e,""),Xa}function Za(e,t,n){var i=Be(),o=ra(i,e,t,n);return o!==Mo&&Or(i,gt(),o),Za}function Ja(e,t,n,i,o){var r=Be(),a=function(e,t,n,i,o,r){var a=ta(e,et(),n,o);return nt(2),a?t+pe(n)+i+pe(o)+r:Mo}(r,e,t,n,i,o);return a!==Mo&&Or(r,gt(),a),Ja}function es(e,t,n,i,o,r,a){var s=Be(),c=function(e,t,n,i,o,r,a,s){var c=na(e,et(),n,o,a);return nt(3),c?t+pe(n)+i+pe(o)+r+pe(a)+s:Mo}(s,e,t,n,i,o,r,a);return c!==Mo&&Or(s,gt(),c),es}function ts(e,t,n){Va(pn,Na,ra(Be(),e,t,n),!0)}function ns(e,t,n,i,o,r,a,s,c){Va(pn,Na,function(e,t,n,i,o,r,a,s,c,l){var u=ia(e,et(),n,o,a,c);return nt(4),u?t+pe(n)+i+pe(o)+r+pe(a)+s+pe(c)+l:Mo}(Be(),e,t,n,i,o,r,a,s,c),!0)}function is(e,t,n){var i=Be();return ea(i,tt(),t)&&Xo(Ue(),vt(),i,e,t,i[11],n,!0),is}function os(e,t,n){var i=Be();if(ea(i,tt(),t)){var o=Ue(),r=vt();Xo(o,r,i,e,t,function(e,t,n){return(null===e||fe(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}(rt(o.data),r,i),n,!0)}return os}var rs=void 0,as=["en",[["a","p"],["AM","PM"],rs],[["AM","PM"],rs,rs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],rs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],rs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",rs,"{1} 'at' {0}",rs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],ss={};function cs(e,t,n){"string"!=typeof t&&(n=t,t=e[hs.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),ss[t]=e,n&&(ss[t][hs.ExtraData]=n)}function ls(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=ds(t);if(n)return n;var i=t.split("-")[0];if(n=ds(i))return n;if("en"===i)return as;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}function us(e){return ls(e)[hs.CurrencyCode]||null}function fs(e){return ls(e)[hs.PluralCase]}function ds(e){return e in ss||(ss[e]=Q.ng&&Q.ng.common&&Q.ng.common.locales&&Q.ng.common.locales[e]),ss[e]}var hs=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({}),ps=["zero","one","two","few","many"],bs={marker:"element"},gs={marker:"ICU"},ms=function(e){return e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT",e}({}),vs="en-US";function ys(e){var t;null==(t=e)&&g("Expected localeId to be defined",t,null,"!="),"string"==typeof e&&(vs=e.toLowerCase().replace(/_/g,"-"))}function _s(e,t,n){var i=t.insertBeforeIndex,o=Array.isArray(i)?i[0]:i;return null===o?to(e,0,n):Ee(n[o])}function Cs(e,t,n,i,o){var r=t.insertBeforeIndex;if(Array.isArray(r)){var a=i,s=null;if(3&t.type||(s=a,a=o),null!==a&&0==(2&t.flags))for(var c=1;c<r.length;c++)Yi(e,a,n[r[c]],s,!1)}}function ks(e,t){if(e.push(t),e.length>1)for(var n=e.length-2;n>=0;n--){var i=e[n];Os(i)||xs(i,t)&&null===(o=void 0,o=i.insertBeforeIndex,Array.isArray(o)?o[0]:o)&&ws(i,t.index)}var o}function Os(e){return!(64&e.type)}function xs(e,t){return Os(t)||e.index>t.index}function ws(e,t){var n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(oo(_s,Cs),e.insertBeforeIndex=t)}function Ms(e,t){var n=e.data[t];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Ps(e,t,n){var i=Lo(e,n,64,null,null);return ks(t,i),i}function Es(e,t){var n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}var Ss=0,Rs=0;function Is(e,t,n,i){for(var o,r=n[11],a=null,s=0;s<t.length;s++){var c=t[s];if("string"==typeof c){var l=t[++s];null===n[l]&&(n[l]=zi(r,c))}else if("number"==typeof c)switch(1&c){case 0:var u=c>>>17,f=void 0,d=void 0;if(null===a&&(a=u,o=Ji(r,i)),u===a?(f=i,d=o):(f=null,d=Ee(n[u])),null!==d){var h=(131070&c)>>>1;Yi(r,d,n[h],f,!1);var p=Ms(e,h);if(null!==p&&"object"==typeof p){var b=Es(p,n);null!==b&&Is(e,p.create[b],n,n[p.anchorIdx])}}break;case 1:var g=t[++s],m=t[++s];ar(r,Se(c>>>1,n),null,null,g,m,null);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(c,'"'))}else switch(c){case gs:var v=t[++s],y=t[++s];null===n[y]&&Mi(n[y]=Bi(r,v),n);break;case bs:var _=t[++s],C=t[++s];null===n[C]&&Mi(n[C]=Ui(r,_,null),n)}}}function As(e,t,n,i,o){for(var r=0;r<n.length;r++){var a=n[r],s=n[++r];if(a&o)for(var c="",l=r+1;l<=r+s;l++){var u=n[l];if("string"==typeof u)c+=u;else if("number"==typeof u)if(u<0)c+=pe(t[i-u]);else{var f=u>>>2;switch(3&u){case 1:var d=n[++l],h=n[++l],p=e.data[f];"string"==typeof p?ar(t[11],t[f],null,p,d,c,h):Xo(e,p,t,d,c,t[11],h,!1);break;case 0:var b=t[f];null!==b&&Vi(t[11],b,c);break;case 2:Ds(e,Ms(e,f),t,c);break;case 3:Ts(e,Ms(e,f),i,t)}}}else{var g=n[r+1];if(g>0&&3==(3&g)){var m=Ms(e,g>>>2);t[m.currentCaseLViewIndex]<0&&Ts(e,m,i,t)}}r+=s}}function Ts(e,t,n,i){var o=i[t.currentCaseLViewIndex];if(null!==o){var r=Ss;o<0&&(o=i[t.currentCaseLViewIndex]=~o,r=-1),As(e,i,t.update[o],n,r)}}function Ds(e,t,n,i){var o=function(e,t){var n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:var i=function(e,t){var n=fs(t)(parseInt(e,10)),i=ps[n];return void 0!==i?i:"other"}(t,vs);-1===(n=e.cases.indexOf(i))&&"other"!==i&&(n=e.cases.indexOf("other"));break;case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,i);if(Es(t,n)!==o&&(js(e,t,n),n[t.currentCaseLViewIndex]=null===o?null:~o,null!==o)){var r=n[t.anchorIdx];r&&Is(e,t.create[o],n,r)}}function js(e,t,n){var i=Es(t,n);if(null!==i)for(var o=t.remove[i],r=0;r<o.length;r++){var a=o[r];if(a>0){var s=Se(a,n);null!==s&&co(n[11],s)}else js(e,Ms(e,~a),n)}}var Fs=/\ufffd(\d+):?\d*\ufffd/gi,Qs=/\ufffd(\d+)\ufffd/,Ls=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ns=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,zs=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Vs=/\uE500/g;function Bs(e,t,n,i,o,r,a){var s=No(e,i,1,null),c=s<<ms.SHIFT,l=$e();t===l&&(l=null),null===l&&(c|=ms.APPEND_EAGERLY),a&&(c|=ms.COMMENT,void 0===Ai&&(Ai=function(){var e,t,n=[],i=-1;function o(e,n){i=0;var o=Es(e,n);t=null!==o?e.remove[o]:N}function r(){if(i<t.length){var a=t[i++];return a>0?e[a]:(n.push(i,t),o(e[1].data[~a],e),r())}return 0===n.length?null:(t=n.pop(),i=n.pop(),r())}return function(t,i){for(e=i;n.length;)n.pop();return o(t.value,i),r}}())),o.push(c,null===r?"":r);var u=Lo(e,s,a?32:1,null===r?"":r,null);ks(n,u);var f=u.index;return We(u,!1),null!==l&&t!==l&&function(e,t){var n,i=e.insertBeforeIndex;null===i?(oo(_s,Cs),i=e.insertBeforeIndex=[null,t]):(1!=(n=Array.isArray(i))&&g("Expecting array here",n,!0,"=="),i.push(t))}(l,f),u}function Us(e,t,n,i,o,r,a){var s=a.match(Fs),c=Bs(e,t,n,r,i,s?null:a,!1);s&&Hs(o,a,c.index)}function Hs(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=e.length,a=r+1;e.push(null,null);for(var s=r+2,c=t.split(Fs),l=0,u=0;u<c.length;u++){var f=c[u];if(1&u){var d=parseInt(f,10);e.push(-1-d),l|=Ks(d)}else""!==f&&e.push(f)}return e.push(n<<2|(i?1:0)),i&&e.push(i,o),e[r]=l,e[a]=e.length-s,l}function Ks(e){return 1<<Math.min(e,31)}function qs(e){for(var t,n,i="",o=0,r=!1;null!==(t=Ns.exec(e));)r?t[0]==="\ufffd/*".concat(n,"\ufffd")&&(o=t.index,r=!1):(i+=e.substring(o,t.index+t[0].length),n=t[1],r=!0);return i+=e.substr(o)}function $s(e,t,n,i,o,r){var a=0,s={type:o.type,currentCaseLViewIndex:No(e,t,1,null),anchorIdx:r,cases:[],create:[],remove:[],update:[]};!function(e,t,n){e.push(Ks(t.mainBinding),2,-1-t.mainBinding,n<<2|2)}(n,o,r),function(e,t,n){var i=e.data[t];null===i?e.data[t]=n:i.value=n}(e,r,s);for(var c=o.values,l=0;l<c.length;l++){for(var u=c[l],f=[],d=0;d<u.length;d++){var h=u[d];if("string"!=typeof h){var p=f.push(h)-1;u[d]="\x3c!--\ufffd".concat(p,"\ufffd--\x3e")}}a=Ys(e,s,t,n,i,o.cases[l],u.join(""),f)|a}a&&function(e,t,n){e.push(t,1,n<<2|3)}(n,a,r)}function Ws(e){for(var t=[],n=[],i=1,o=0,r=Gs(e=e.replace(Ls,function(e,t,n){return i="select"===n?0:1,o=parseInt(t.substr(1),10),""})),a=0;a<r.length;){var s=r[a++].trim();1===i&&(s=s.replace(/\s*(?:=)?(\w+)\s*/,"$1")),s.length&&t.push(s);var c=Gs(r[a++]);t.length>n.length&&n.push(c)}return{type:i,mainBinding:o,cases:t,values:n}}function Gs(e){if(!e)return[];var t,n=0,i=[],o=[],r=/[{}]/g;for(r.lastIndex=0;t=r.exec(e);){var a=t.index;if("}"==t[0]){if(i.pop(),0==i.length){var s=e.substring(n,a);Ls.test(s)?o.push(Ws(s)):o.push(s),n=a+1}}else{if(0==i.length){var c=e.substring(n,a);o.push(c),n=a+1}i.push("{")}}var l=e.substring(n);return o.push(l),o}function Ys(e,t,n,i,o,r,a,s){var c=[],l=[],u=[];t.cases.push(r),t.create.push(c),t.remove.push(l),t.update.push(u);var f=qn(we()).getInertBodyElement(a),d=gi(f)||f;return d?Xs(e,t,n,i,c,l,u,d,o,s,0):0}function Xs(e,t,n,i,o,r,a,s,c,l,u){for(var f=0,d=s.firstChild;d;){var h=No(e,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:var p=d,b=p.tagName.toLowerCase();if(ai.hasOwnProperty(b)){ec(o,bs,b,c,h),e.data[h]=b;for(var g=p.attributes,m=0;m<g.length;m++){var v=g.item(m),y=v.name.toLowerCase();v.value.match(Fs)?li.hasOwnProperty(y)&&(si[y]?Hs(a,v.value,h,v.name,Xn):ci[y]?Hs(a,v.value,h,v.name,Zn):Hs(a,v.value,h,v.name)):tc(o,h,v)}f=Xs(e,t,n,i,o,r,a,d,h,l,u+1)|f,Zs(r,h,u)}break;case Node.TEXT_NODE:var _=d.textContent||"",C=_.match(Fs);ec(o,null,C?"":_,c,h),Zs(r,h,u),C&&(f=Hs(a,_,h)|f);break;case Node.COMMENT_NODE:var k=Qs.exec(d.textContent||"");if(k){var O=l[parseInt(k[1],10)];ec(o,gs,"",c,h),$s(e,n,i,c,O,h),Js(r,h,u)}}d=d.nextSibling}return f}function Zs(e,t,n){0===n&&e.push(t)}function Js(e,t,n){0===n&&(e.push(~t),e.push(t))}function ec(e,t,n,i,o){null!==t&&e.push(t),e.push(n,o,0|i<<17|o<<1)}function tc(e,t,n){e.push(t<<1|1,n.name,n.value)}function nc(e,t,n){(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=Ue(),o=Be(),r=20+e,a=Qe(i.consts,t),s=$e();i.firstCreatePass&&function(e,t,n,i,o,r){for(var a,s=$e(),c=[],l=[],u=[[]],f=(a=o=function(e,t){if(function(e){return-1===e}(t))return qs(e);var n=e.indexOf(":".concat(t,"\ufffd"))+2+t.toString().length,i=e.search(new RegExp("\ufffd\\/\\*\\d+:".concat(t,"\ufffd")));return qs(e.substring(n,i))}(o,r),a.replace(Vs," ")).split(zs),d=0;d<f.length;d++){var h=f[d];if(0==(1&d))for(var p=Gs(h),b=0;b<p.length;b++){var g=p[b];if(0==(1&b)){var m=g;""!==m&&Us(e,s,u[0],c,l,n,m)}else{var v=g;if("object"!=typeof v)throw new Error('Unable to parse ICU expression in "'.concat(o,'" message.'));$s(e,n,l,t,v,Bs(e,s,u[0],n,c,"",!0).index)}}else{var y=47===h.charCodeAt(0),_=(h.charCodeAt(y?1:0),20+Number.parseInt(h.substring(y?2:1)));if(y)u.shift(),We($e(),!1);else{var C=Ps(e,u[0],_);u.unshift([]),We(C,!0)}}}e.data[i]={create:c,update:l}}(i,null===s?0:s.index,o,r,a,n);var c=i.data[r],l=Gi(i,s===o[6]?null:s,o);!function(e,t,n,i){for(var o=e[11],r=0;r<t.length;r++){var a=t[r++],s=t[r],c=(a&ms.COMMENT)===ms.COMMENT,l=(a&ms.APPEND_EAGERLY)===ms.APPEND_EAGERLY,u=a>>>ms.SHIFT,f=e[u];null===f&&(f=e[u]=c?o.createComment(s):zi(o,s)),l&&null!==n&&Yi(o,n,f,i,!1)}}(o,c.create,l,s&&8&s.type?o[s.index]:null),it(!0)})(e,t,n),it(!1)}function ic(e){return ea(Be(),tt(),e)&&(Ss|=1<<Math.min(Rs,31)),Rs++,ic}function oc(e){!function(e,t,n){if(Rs>0){var i=e.data[n];As(e,t,Array.isArray(i)?i:i.update,et()-Rs-1,Ss)}Ss=0,Rs=0}(Ue(),Be(),e+20)}function rc(e,t,n,i,o){if(e=p(e),Array.isArray(e))for(var r=0;r<e.length;r++)rc(e[r],t,n,i,o);else{var a=Ue(),s=Be(),c=Nr(e)?e:p(e.provide),l=Fr(e),u=Ke(),f=1048575&u.providerIndexes,d=u.directiveStart,h=u.providerIndexes>>20;if(Nr(e)||!e.multi){var b=new Pt(l,o,ca),g=cc(c,t,o?f:f+h,d);-1===g?(Ut(Nt(u,s),a,c),ac(a,e,t.length),t.push(c),u.directiveStart++,u.directiveEnd++,o&&(u.providerIndexes+=1048576),n.push(b),s.push(b)):(n[g]=b,s[g]=b)}else{var m=cc(c,t,f+h,d),v=cc(c,t,f,f+h),y=m>=0&&n[m],_=v>=0&&n[v];if(o&&!_||!o&&!y){Ut(Nt(u,s),a,c);var C=function(e,t,n,i,o){var r=new Pt(e,n,ca);return r.multi=[],r.index=t,r.componentProviders=0,sc(r,o,i&&!n),r}(o?uc:lc,n.length,o,i,l);!o&&_&&(n[v].providerFactory=C),ac(a,e,t.length,0),t.push(c),u.directiveStart++,u.directiveEnd++,o&&(u.providerIndexes+=1048576),n.push(C),s.push(C)}else ac(a,e,m>-1?m:v,sc(n[o?v:m],l,!o&&i));!o&&i&&_&&n[v].componentProviders++}}}function ac(e,t,n,i){var o=Nr(t);if(o||t.useClass){var r=(t.useClass||t).prototype.ngOnDestroy;if(r){var a=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){var s=a.indexOf(n);-1===s?a.push(n,[i,r]):a[s+1].push(i,r)}else a.push(n,r)}}}function sc(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function cc(e,t,n,i){for(var o=n;o<i;o++)if(t[o]===e)return o;return-1}function lc(e,t,n,i){return fc(this.multi,[])}function uc(e,t,n,i){var o,r=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=Xt(n,n[1],this.providerFactory.index,i);fc(r,o=s.slice(0,a));for(var c=a;c<s.length;c++)o.push(s[c])}else fc(r,o=[]);return o}function fc(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function dc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,i){return function(e,t,n){var i=Ue();if(i.firstCreatePass){var o=fe(e);rc(n,i.data,i.blueprint,o,!0),rc(t,i.data,i.blueprint,o,!1)}}(n,i?i(e):e,t)}}}var hc=function e(){_classCallCheck(this,e)},pc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(u(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),bc=function(){var e=function e(){_classCallCheck(this,e)};return e.NULL=new pc,e}();function gc(){}function mc(e,t){return new yc(Re(e,t))}var vc=function(){return mc(Ke(),Be())},yc=function(){var e=function e(t){_classCallCheck(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=vc,e}(),_c=function e(){_classCallCheck(this,e)},Cc=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return kc()},e}(),kc=function(){var e=Be(),t=Te(Ke().index,e);return function(e){return e[11]}(ae(t)?t:e)},Oc=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275prov=m({token:e,providedIn:"root",factory:function(){return null}}),e}(),xc=function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},wc=new xc("11.0.5"),Mc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return Xr(e)}},{key:"create",value:function(e){return new Ec(e)}}]),e}(),Pc=function(e,t){return t},Ec=function(){function e(t){_classCallCheck(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Pc}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,i=0,o=null;t||n;){var r=!n||t&&t.currentIndex<Ac(n,i,o)?t:n,a=Ac(r,i,o),s=r.currentIndex;if(r===n)i--,n=n._nextRemoved;else if(t=t._next,null==r.previousIndex)i++;else{o||(o=[]);var c=a-i,l=s-i;if(c!=l){for(var u=0;u<c;u++){var f=u<o.length?o[u]:o[u]=0,d=f+u;l<=d&&d<c&&(o[u]=f+1)}o[r.previousIndex]=l-c}}a!==s&&e(r,a,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!Xr(e))throw new Error("Error trying to diff '".concat(u(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,i,o,r=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)i=e[s],o=this._trackByFn(s,i),null!==r&&Object.is(r.trackById,o)?(a&&(r=this._verifyReinsertion(r,i,o,s)),Object.is(r.item,i)||this._addIdentityChange(r,i)):(r=this._mismatch(r,i,o,s),a=!0),r=r._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var i,o=e[Gr()]();!(i=o.next()).done;)t(i.value)}(e,function(e){o=t._trackByFn(n,e),null!==r&&Object.is(r.trackById,o)?(a&&(r=t._verifyReinsertion(r,e,o,n)),Object.is(r.item,e)||t._addIdentityChange(r,e)):(r=t._mismatch(r,e,o,n),a=!0),r=r._next,n++}),this.length=n;return this._truncate(r),this.collection=e,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,i){var o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):e=this._addAfter(new Sc(t,n),o,i),e}},{key:"_verifyReinsertion",value:function(e,t,n,i){var o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Ic),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ic),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),e}(),Sc=function e(t,n){_classCallCheck(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Rc=function(){function e(){_classCallCheck(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),Ic=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new Rc,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),e}();function Ac(e,t,n){var i=e.previousIndex;if(null===i)return i;var o=0;return n&&i<n.length&&(o=n[i]),i+t+o}var Tc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||Zr(e)}},{key:"create",value:function(){return new Dc}}]),e}(),Dc=function(){function e(){_classCallCheck(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Zr(e)))throw new Error("Error trying to diff '".concat(u(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(e,i){if(n&&n.key===i)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var o=t._getOrCreateRecordForKey(i,e);n=t._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var i=n._prev,o=n._next;return i&&(i._next=o),o&&(o._prev=i),n._next=null,n._prev=null,n}var r=new jc(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(function(n){return t(e[n],n)})}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),e}(),jc=function e(t){_classCallCheck(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Fc=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t,n=this.factories.find(function(t){return t.supports(e)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var i=n.factories.slice();t=t.concat(i)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new _n,new vn]]}}}]),e}();return e.\u0275prov=m({token:e,providedIn:"root",factory:function(){return new e([new Mc])}}),e}(),Qc=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find(function(t){return t.supports(e)});if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var i=n.factories.slice();t=t.concat(i)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new _n,new vn]]}}}]),e}();return e.\u0275prov=m({token:e,providedIn:"root",factory:function(){return new e([new Tc])}}),e}();function Lc(e,t,n,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var r=t[n.index];if(null!==r&&i.push(Ee(r)),se(r))for(var a=10;a<r.length;a++){var s=r[a],c=s[1].firstChild;null!==c&&Lc(s[1],s,c,i)}var l=n.type;if(8&l)Lc(e,t,n.child,i);else if(32&l)for(var u=Di(n,t),f=void 0;f=u();)i.push(f);else if(16&l){var d=t[16],h=d[6].projection[n.projection];if(Array.isArray(h))i.push.apply(i,_toConsumableArray(h));else{var p=ji(d);Lc(p[1],p,h,i,!0)}}n=o?n.projectionNext:n.next}return i}var Nc=function(){function e(t,n){_classCallCheck(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return _createClass(e,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}qi(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){Go(this._lView[1],this._lView,null,e)}},{key:"markForCheck",value:function(){pr(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){br(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){Ze(!0);try{br(e,t,n)}finally{Ze(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,uo(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"rootNodes",get:function(){var e=this._lView,t=e[1];return Lc(t,e,t.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),e}(),zc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e))._view=e,i}return _createClass(n,[{key:"detectChanges",value:function(){gr(this._view)}},{key:"checkNoChanges",value:function(){!function(e){Ze(!0);try{gr(e)}finally{Ze(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Nc),Vc=Uc,Bc=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=Vc,e.__ChangeDetectorRef__=!0,e}();function Uc(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t,n){if(!n&&le(e)){var i=Te(e.index,t);return new Nc(i,i)}return 47&e.type?new Nc(t[16],t):null}(Ke(),Be(),e)}var Hc=[new Tc],Kc=new Fc([new Mc]),qc=new Qc(Hc),$c=function(){return Yc(Ke(),Be())},Wc=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=$c,e}(),Gc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o){var r;return _classCallCheck(this,n),(r=t.call(this))._declarationLView=e,r._declarationTContainer=i,r.elementRef=o,r}return _createClass(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=Fo(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(t)),zo(t,n,e),new Nc(n)}}]),n}(Wc);function Yc(e,t){return 4&e.type?new Gc(t,e,mc(e,t)):null}var Xc=function e(){_classCallCheck(this,e)},Zc=function e(){_classCallCheck(this,e)},Jc=function(){return ol(Ke(),Be())},el=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=Jc,e}(),tl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o){var r;return _classCallCheck(this,n),(r=t.call(this))._lContainer=e,r._hostTNode=i,r._hostLView=o,r}return _createClass(n,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){var t=nl(this._lContainer);return null!==t&&t[e]||null}},{key:"createEmbeddedView",value:function(e,t,n){var i=e.createEmbeddedView(t||{});return this.insert(i,n),i}},{key:"createComponent",value:function(e,t,n,i,o){var r=n||this.parentInjector;if(!o&&null==e.ngModule&&r){var a=r.get(Xc,null);a&&(o=a)}var s=e.create(r,i,void 0,o);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){var i=e._lView,o=i[1];if(se(i[3])){var r=this.indexOf(e);if(-1!==r)this.detach(r);else{var a=i[3],s=new n(a,a[6],a[3]);s.detach(s.indexOf(e))}}var c=this._adjustIndex(t),l=this._lContainer;!function(e,t,n,i){var o=10+i,r=n.length;i>0&&(n[o-1][4]=t),i<r-10?(t[4]=n[o],fn(n,10+i,t)):(n.push(t),t[4]=null),t[3]=n;var a=t[17];null!==a&&n!==a&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(a,t);var s=t[19];null!==s&&s.insertView(e),t[2]|=128}(o,i,l,c);var u=so(c,l),f=i[11],d=Ji(f,l[7]);return null!==d&&function(e,t,n,i,o,r){i[0]=o,i[6]=t,uo(e,i,n,1,o,r)}(o,l[6],f,i,d,u),e.attachToViewContainerRef(this),fn(il(l),c,e),e}},{key:"move",value:function(e,t){return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=nl(this._lContainer);return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){var t=this._adjustIndex(e,-1),n=Ki(this._lContainer,t);n&&(dn(il(this._lContainer),t),qi(n[1],n))}},{key:"detach",value:function(e){var t=this._adjustIndex(e,-1),n=Ki(this._lContainer,t);return n&&null!=dn(il(this._lContainer),t)?new Nc(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}},{key:"element",get:function(){return mc(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new en(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var e=Bt(this._hostTNode,this._hostLView);if(Tt(e)){var t=jt(e,this._hostLView),n=Dt(e);return new en(t[1].data[n+8],t)}return new en(null,this._hostLView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),n}(el);function nl(e){return e[8]}function il(e){return e[8]||(e[8]=[])}function ol(e,t){var n,i=t[e.index];if(se(i))n=i;else{var o;if(8&e.type)o=Ee(i);else{var r=t[11];o=r.createComment("");var a=Re(e,t);Yi(r,Ji(r,a),o,function(e,t){return Me(e)?e.nextSibling(t):t.nextSibling}(r,a),!1)}t[e.index]=n=lr(i,t,o,e),hr(t,n)}return new tl(n,e,t)}var rl={},al=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).ngModule=e,i}return _createClass(n,[{key:"resolveComponentFactory",value:function(e){var t=oe(e);return new ll(t,this.ngModule)}}]),n}(bc);function sl(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var cl=new an("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Pi}}),ll=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this)).componentDef=e,o.ngModule=i,o.componentType=e.type,o.selector=e.selectors.map(wo).join(","),o.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],o.isBoundToModule=!!i,o}return _createClass(n,[{key:"create",value:function(e,t,n,i){var o,r,a=(i=i||this.ngModule)?function(e,t){return{get:function(n,i,o){var r=e.get(n,rl,o);return r!==rl||i===rl?r:t.get(n,i,o)}}}(e,i.injector):e,s=a.get(_c,Pe),c=a.get(Oc,null),l=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",f=n?function(e,t,n){if(Me(e))return e.selectRootElement(t,n===A.ShadowDom);var i="string"==typeof t?e.querySelector(t):t;return i.textContent="",i}(l,n,this.componentDef.encapsulation):Ui(s.createRenderer(null,this.componentDef),u,function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(u)),d=this.componentDef.onPush?576:528,h={components:[],scheduler:Pi,clean:vr,playerHandler:null,flags:0},p=Wo(0,null,null,1,0,null,null,null,null,null),b=Fo(null,p,h,d,null,null,s,l,c,a);ut(b);try{var g=function(e,t,n,i,o,r){var a=n[1];n[20]=e;var s=Qo(a,20,2,"#host",null),c=s.mergedAttrs=t.hostAttrs;null!==c&&(xr(s,c,!0),null!==e&&(Et(o,e,c),null!==s.classes&&po(o,e,s.classes),null!==s.styles&&ho(o,e,s.styles)));var l=i.createRenderer(e,t),u=Fo(n,$o(t),null,t.onPush?64:16,n[20],s,i,l,null,null);return a.firstCreatePass&&(Ut(Nt(s,n),a,t.type),tr(a,s),ir(s,n.length,1)),hr(n,u),n[20]=u}(f,this.componentDef,b,s,l);if(f)if(n)Et(l,f,["ng-version",wc.full]);else{var m=function(e){for(var t=[],n=[],i=1,o=2;i<e.length;){var r=e[i];if("string"==typeof r)2===o?""!==r&&t.push(r,e[++i]):8===o&&n.push(r);else{if(!_o(o))break;o=r}i++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),v=m.attrs,y=m.classes;v&&Et(l,f,v),y&&y.length>0&&po(l,f,y.join(" "))}if(r=Ie(p,20),void 0!==t)for(var _=r.projection=[],C=0;C<this.ngContentSelectors.length;C++){var k=t[C];_.push(null!=k?Array.from(k):null)}o=function(e,t,n,i,o){var r=n[1],a=function(e,t,n){var i=Ke();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),or(e,i,t,No(e,t,1,null),n));var o=Xt(t,e,i.directiveStart,i);Mi(o,t);var r=Re(i,t);return r&&Mi(r,t),o}(r,n,t);if(i.components.push(a),e[8]=a,o&&o.forEach(function(e){return e(a,t)}),t.contentQueries){var s=Ke();t.contentQueries(1,a,s.directiveStart)}var c=Ke();return!r.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(mt(c.index),Jo(n[1],c,0,c.directiveStart,c.directiveEnd,t),er(t,a)),a}(g,this.componentDef,b,h,[Br]),zo(p,b,null)}finally{bt()}return new ul(this.componentType,o,mc(r,b),b,r)}},{key:"inputs",get:function(){return sl(this.componentDef.inputs)}},{key:"outputs",get:function(){return sl(this.componentDef.outputs)}}]),n}(hc),ul=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,r,a){var s;return _classCallCheck(this,n),(s=t.call(this)).location=o,s._rootLView=r,s._tNode=a,s.instance=i,s.hostView=s.changeDetectorRef=new zc(r),s.componentType=e,s}return _createClass(n,[{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(e){this.hostView.onDestroy(e)}},{key:"injector",get:function(){return new en(this._tNode,this._rootLView)}}]),n}(function(){return function e(){_classCallCheck(this,e)}}()),fl=new Map,dl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;_classCallCheck(this,n),(o=t.call(this))._parent=i,o._bootstrapComponents=[],o.injector=_assertThisInitialized(o),o.destroyCbs=[],o.componentFactoryResolver=new al(_assertThisInitialized(o));var r=re(e),a=e[H]||null;return a&&ys(a),o._bootstrapComponents=Ii(r.bootstrap),o._r3Injector=Tr(e,i,[{provide:Xc,useValue:_assertThisInitialized(o)},{provide:bc,useValue:o.componentFactoryResolver}],u(e)),o._r3Injector._resolveInjectorDefTypes(),o.instance=o.get(e),o}return _createClass(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vr.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P.Default;return e===Vr||e===Xc||e===wr?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(Xc),hl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i,o,r;return _classCallCheck(this,n),(i=t.call(this)).moduleType=e,null!==re(e)&&(o=e,r=new Set,function e(t){var n=re(t,!0),i=n.id;null!==i&&(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(u(t)," vs ").concat(u(t.name)))}(i,fl.get(i),t),fl.set(i,t));var o,a=_createForOfIteratorHelper(Ii(n.imports));try{for(a.s();!(o=a.n()).done;){var s=o.value;r.has(s)||(r.add(s),e(s))}}catch(c){a.e(c)}finally{a.f()}}(o)),i}return _createClass(n,[{key:"create",value:function(e){return new dl(this.moduleType,e)}}]),n}(Zc);function pl(e,t,n){var i=Je()+e,o=Be();return o[i]===Mo?Jr(o,i,n?t.call(n):t()):function(e,t){return e[t]}(o,i)}function bl(e,t,n,i){return _l(Be(),Je(),e,t,n,i)}function gl(e,t,n,i,o){return Cl(Be(),Je(),e,t,n,i,o)}function ml(e,t,n,i,o,r){return kl(Be(),Je(),e,t,n,i,o,r)}function vl(e,t,n,i,o,r,a){return function(e,t,n,i,o,r,a,s,c){var l=t+n;return ia(e,l,o,r,a,s)?Jr(e,l+4,c?i.call(c,o,r,a,s):i(o,r,a,s)):yl(e,l+4)}(Be(),Je(),e,t,n,i,o,r,a)}function yl(e,t){var n=e[t];return n===Mo?void 0:n}function _l(e,t,n,i,o,r){var a=t+n;return ea(e,a,o)?Jr(e,a+1,r?i.call(r,o):i(o)):yl(e,a+1)}function Cl(e,t,n,i,o,r,a){var s=t+n;return ta(e,s,o,r)?Jr(e,s+2,a?i.call(a,o,r):i(o,r)):yl(e,s+2)}function kl(e,t,n,i,o,r,a,s){var c=t+n;return na(e,c,o,r,a)?Jr(e,c+3,s?i.call(s,o,r,a):i(o,r,a)):yl(e,c+3)}function Ol(e,t){var n,i=Ue(),o=e+20;i.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var i=t[n];if(e===i.name)return i}throw new he("302","The pipe '".concat(e,"' could not be found!"))}(t,i.pipeRegistry),i.data[o]=n,n.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(o,n.onDestroy)):n=i.data[o];var r=n.factory||(n.factory=de(n.type)),a=E(ca);try{var s=Qt(!1),c=r();return Qt(s),function(e,t,n,i){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=i}(i,Be(),o,c),c}finally{E(a)}}function xl(e,t,n){var i=e+20,o=Be(),r=Ae(o,i);return El(o,Pl(o,i)?_l(o,Je(),t,r.transform,n,r):r.transform(n))}function wl(e,t,n,i){var o=e+20,r=Be(),a=Ae(r,o);return El(r,Pl(r,o)?Cl(r,Je(),t,a.transform,n,i,a):a.transform(n,i))}function Ml(e,t,n,i,o){var r=e+20,a=Be(),s=Ae(a,r);return El(a,Pl(a,r)?kl(a,Je(),t,s.transform,n,i,o,s):s.transform(n,i,o))}function Pl(e,t){return e[1].data[t].pure}function El(e,t){return Yr.isWrapped(t)&&(t=Yr.unwrap(t),e[et()]=Mo),t}var Sl=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(e=t.call(this)).__isAsync=i,e}return _createClass(n,[{key:"emit",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,i){var r,a=function(e){return null},s=function(){return null};e&&"object"==typeof e?(r=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(a=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(r=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},t&&(a=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)}),i&&(s=this.__isAsync?function(){setTimeout(function(){return i()})}:function(){i()}));var c=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,r,a,s);return e instanceof o.a&&e.add(c),c}}]),n}(i.a);function Rl(){return this._results[Gr()]()}var Il=function(){function e(){_classCallCheck(this,e),this.dirty=!0,this._results=[],this.changes=new Sl,this.length=0;var t=Gr(),n=e.prototype;n[t]||(n[t]=Rl)}return _createClass(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=ln(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),Al=function(){function e(t){_classCallCheck(this,e),this.queryList=t,this.matches=null}return _createClass(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),Tl=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var i=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[],r=0;r<i;r++){var a=n.getByIndex(r);o.push(this.queries[a.indexInDeclarationView].clone())}return new e(o)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==Xl(e,t).matches&&this.queries[t].setDirty()}}]),e}(),Dl=function e(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.predicate=t,this.descendants=n,this.isStatic=i,this.read=o},jl=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,i=0;i<this.length;i++){var o=null!==n?n.length:0,r=this.getByIndex(i).embeddedTView(t,o);r&&(r.indexInDeclarationView=i,null!==n?n.push(r):n=[r])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"track",value:function(e){this.queries.push(e)}},{key:"length",get:function(){return this.queries.length}}]),e}(),Fl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){var n=this.metadata.predicate;if(Array.isArray(n))for(var i=0;i<n.length;i++){var o=n[i];this.matchTNodeWithReadOption(e,t,Ql(t,o)),this.matchTNodeWithReadOption(e,t,Yt(t,e,o,!1,!1))}else n===Wc?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Yt(t,e,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var i=this.metadata.read;if(null!==i)if(i===yc||i===el||i===Wc&&4&t.type)this.addMatch(t.index,-2);else{var o=Yt(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function Ql(e,t){var n=e.localNames;if(null!==n)for(var i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function Ll(e,t,n,i){return-1===n?function(e,t){return 11&e.type?mc(e,t):4&e.type?Yc(e,t):null}(t,e):-2===n?function(e,t,n){return n===yc?mc(t,e):n===Wc?Yc(t,e):n===el?ol(t,e):void 0}(e,t,i):Xt(e,e[1],n,t)}function Nl(e,t,n,i){var o=t[19].queries[i];if(null===o.matches){for(var r=e.data,a=n.matches,s=[],c=0;c<a.length;c+=2){var l=a[c];s.push(l<0?null:Ll(t,r[l],a[c+1],n.metadata.read))}o.matches=s}return o.matches}function zl(e,t,n,i){var o=e.queries.getByIndex(n),r=o.matches;if(null!==r)for(var a=Nl(e,t,o,n),s=0;s<r.length;s+=2){var c=r[s];if(c>0)i.push(a[s/2]);else{for(var l=r[s+1],u=t[-c],f=10;f<u.length;f++){var d=u[f];d[17]===d[3]&&zl(d[1],d,l,i)}if(null!==u[9])for(var h=u[9],p=0;p<h.length;p++){var b=h[p];zl(b[1],b,l,i)}}}return i}function Vl(e){var t=Be(),n=Ue(),i=at();st(i+1);var o=Xl(n,i);if(e.dirty&&je(t)===o.metadata.isStatic){if(null===o.matches)e.reset([]);else{var r=o.crossesNgTemplate?zl(n,t,i,[]):Nl(n,t,o,i);e.reset(r),e.notifyOnChanges()}return!0}return!1}function Bl(e,t,n){Hl(Ue(),Be(),e,t,n,!0)}function Ul(e,t,n){Hl(Ue(),Be(),e,t,n,!1)}function Hl(e,t,n,i,o,r){e.firstCreatePass&&(Yl(e,new Dl(n,i,r,o),-1),r&&(e.staticViewQueries=!0)),Gl(e,t)}function Kl(e,t,n,i){$l(Ue(),Be(),t,n,i,!1,Ke(),e)}function ql(e,t,n,i){$l(Ue(),Be(),t,n,i,!0,Ke(),e)}function $l(e,t,n,i,o,r,a,s){e.firstCreatePass&&(Yl(e,new Dl(n,i,r,o),a.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,s),r&&(e.staticContentQueries=!0)),Gl(e,t)}function Wl(){return e=Be(),t=at(),e[19].queries[t].queryList;var e,t}function Gl(e,t){var n=new Il;Go(e,t,n,n.destroy),null===t[19]&&(t[19]=new Tl),t[19].queries.push(new Al(n))}function Yl(e,t,n){null===e.queries&&(e.queries=new jl),e.queries.track(new Fl(t,n))}function Xl(e,t){return e.queries.getByIndex(t)}function Zl(e,t){return Yc(e,t)}function Jl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P.Default,t=Uc(!0);if(null!=t||e&P.Optional)return t;ge("ChangeDetectorRef")}var eu=new an("Application Initializer"),tu=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this.appInits=t,this.resolve=gc,this.reject=gc,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(e,t){n.resolve=e,n.reject=t})}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var i=0;i<this.appInits.length;i++){var o=this.appInits[i]();va(o)&&t.push(o)}Promise.all(t).then(function(){n()}).catch(function(t){e.reject(t)}),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Pn(eu,8))},e.\u0275prov=m({token:e,factory:e.\u0275fac}),e}(),nu=new an("AppId"),iu={provide:nu,useFactory:function(){return"".concat(ou()).concat(ou()).concat(ou())},deps:[]};function ou(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var ru=new an("Platform Initializer"),au=new an("Platform ID"),su=new an("appBootstrapListener"),cu=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac}),e}(),lu=new an("LocaleId"),uu=new an("DefaultCurrencyCode"),fu=function e(t,n){_classCallCheck(this,e),this.ngModuleFactory=t,this.componentFactories=n},du=function(e){return new hl(e)},hu=du,pu=function(e){return Promise.resolve(du(e))},bu=function(e){var t=du(e),n=Ii(re(e).declarations).reduce(function(e,t){var n=oe(t);return n&&e.push(new ll(n)),e},[]);return new fu(t,n)},gu=bu,mu=function(e){return Promise.resolve(bu(e))},vu=function(){var e=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=hu,this.compileModuleAsync=pu,this.compileModuleAndAllComponentsSync=gu,this.compileModuleAndAllComponentsAsync=mu}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac}),e}(),yu=Promise.resolve(0);function _u(e){"undefined"==typeof Zone?yu.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var Cu=function(){function e(t){var n,i,o=t.enableLongStackTrace,r=void 0!==o&&o,a=t.shouldCoalesceEventChangeDetection,s=void 0!==a&&a;if(_classCallCheck(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Sl(!1),this.onMicrotaskEmpty=new Sl(!1),this.onStable=new Sl(!1),this.onError=new Sl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=Q.requestAnimationFrame,t=Q.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,i=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Q,function(){e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){e.lastRequestAnimationFrameId=-1,xu(e),Ou(e)},void 0,function(){},function(){})),e.fakeTopEventTask.invoke()}),xu(e))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:i},onInvokeTask:function(e,t,o,r,a,s){try{return wu(n),e.invokeTask(o,r,a,s)}finally{i&&"eventTask"===r.type&&i(),Mu(n)}},onInvoke:function(e,t,i,o,r,a,s){try{return wu(n),e.invoke(i,o,r,a,s)}finally{Mu(n)}},onHasTask:function(e,t,i,o){e.hasTask(i,o),t===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,xu(n),Ou(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:function(e,t,i,o){return e.handleError(i,o),n.runOutsideAngular(function(){return n.onError.emit(o)}),!1}})}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,i){var o=this._inner,r=o.scheduleEventTask("NgZoneEvent: "+i,e,ku,gc,gc);try{return o.runTask(r,t,n)}finally{o.cancelTask(r)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}(),ku={};function Ou(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function xu(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function wu(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Mu(e){e._nesting--,Ou(e)}var Pu=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Sl,this.onMicrotaskEmpty=new Sl,this.onStable=new Sl,this.onError=new Sl}return _createClass(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,i){return e.apply(t,n)}}]),e}(),Eu=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){Cu.assertNotInAngularZone(),_u(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())_u(function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1});else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}}):[]}},{key:"addCallback",value:function(e,t,n){var i=this,o=-1;t&&t>0&&(o=setTimeout(function(){i._callbacks=i._callbacks.filter(function(e){return e.timeoutId!==o}),e(i._didWork,i.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Pn(Cu))},e.\u0275prov=m({token:e,factory:e.\u0275fac}),e}(),Su=function(){var e=function(){function e(){_classCallCheck(this,e),this._applications=new Map,Au.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Au.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac}),e}();function Ru(e){Au=e}var Iu,Au=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),Tu=!0,Du=!1;function ju(){return Du=!0,Tu}function Fu(){if(Du)throw new Error("Cannot enable prod mode after platform setup.");Tu=!1}var Qu=new an("AllowMultipleToken"),Lu=function e(t,n){_classCallCheck(this,e),this.name=t,this.token=n};function Nu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i="Platform: "+t,o=new an(i);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=zu();if(!r||r.injector.get(Qu,!1))if(e)e(n.concat(t).concat({provide:o,useValue:!0}));else{var a=n.concat(t).concat({provide:o,useValue:!0},{provide:Pr,useValue:"platform"});!function(e){if(Iu&&!Iu.destroyed&&!Iu.injector.get(Qu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Iu=e.get(Vu);var t=e.get(ru,null);t&&t.forEach(function(e){return e()})}(Vr.create({providers:a,name:i}))}return function(e){var t=zu();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(o)}}function zu(){return Iu&&!Iu.destroyed?Iu:null}var Vu=function(){var e=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,i,o=this,r=(n=t?t.ngZone:void 0,i=t&&t.ngZoneEventCoalescing||!1,"noop"===n?new Pu:("zone.js"===n?void 0:n)||new Cu({enableLongStackTrace:ju(),shouldCoalesceEventChangeDetection:i})),a=[{provide:Cu,useValue:r}];return r.run(function(){var t=Vr.create({providers:a,parent:o.injector,name:e.moduleType.name}),n=e.create(t),i=n.injector.get(xi,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.runOutsideAngular(function(){var e=r.onError.subscribe({next:function(e){i.handleError(e)}});n.onDestroy(function(){Hu(o._modules,n),e.unsubscribe()})}),function(e,t,i){try{var r=((a=n.injector.get(tu)).runInitializers(),a.donePromise.then(function(){return ys(n.injector.get(lu,"en-US")||"en-US"),o._moduleDoBootstrap(n),n}));return va(r)?r.catch(function(n){throw t.runOutsideAngular(function(){return e.handleError(n)}),n}):r}catch(s){throw t.runOutsideAngular(function(){return e.handleError(s)}),s}var a}(i,r)})}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=Bu({},n);return function(e,t,n){var i=new hl(n);return Promise.resolve(i)}(0,0,e).then(function(e){return t.bootstrapModuleFactory(e,i)})}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(Uu);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(u(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Pn(Vr))},e.\u0275prov=m({token:e,factory:e.\u0275fac}),e}();function Bu(e,t){return Array.isArray(t)?t.reduce(Bu,e):Object.assign(Object.assign({},e),t)}var Uu=function(){var e=function(){function e(t,n,i,o,c,l){var u=this;_classCallCheck(this,e),this._zone=t,this._console=n,this._injector=i,this._exceptionHandler=o,this._componentFactoryResolver=c,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){u._zone.run(function(){u.tick()})}});var f=new r.a(function(e){u._stable=u._zone.isStable&&!u._zone.hasPendingMacrotasks&&!u._zone.hasPendingMicrotasks,u._zone.runOutsideAngular(function(){e.next(u._stable),e.complete()})}),d=new r.a(function(e){var t;u._zone.runOutsideAngular(function(){t=u._zone.onStable.subscribe(function(){Cu.assertNotInAngularZone(),_u(function(){u._stable||u._zone.hasPendingMacrotasks||u._zone.hasPendingMicrotasks||(u._stable=!0,e.next(!0))})})});var n=u._zone.onUnstable.subscribe(function(){Cu.assertInAngularZone(),u._stable&&(u._stable=!1,u._zone.runOutsideAngular(function(){e.next(!1)}))});return function(){t.unsubscribe(),n.unsubscribe()}});this.isStable=Object(a.a)(f,d.pipe(Object(s.a)()))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,i=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof hc?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var o=n.isBoundToModule?void 0:this._injector.get(Xc),r=n.create(Vr.NULL,[],t||n.selector,o),a=r.location.nativeElement,s=r.injector.get(Eu,null),c=s&&r.injector.get(Su);return s&&c&&c.registerApplication(a,s),r.onDestroy(function(){i.detachView(r.hostView),Hu(i.components,r),c&&c.unregisterApplication(a)}),this._loadComponent(r),ju()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),r}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(t=n.n()).done;){t.value.detectChanges()}}catch(i){n.e(i)}finally{n.f()}}catch(o){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(o)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;Hu(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(su,[]).concat(this._bootstrapListeners).forEach(function(t){return t(e)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(e){return e.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Pn(Cu),Pn(cu),Pn(Vr),Pn(xi),Pn(bc),Pn(tu))},e.\u0275prov=m({token:e,factory:e.\u0275fac}),e}();function Hu(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Ku=function e(){_classCallCheck(this,e)},qu=function e(){_classCallCheck(this,e)},$u={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Wu=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._compiler=t,this._config=n||$u}return _createClass(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,i=_slicedToArray(e.split("#"),2),o=i[0],r=i[1];return void 0===r&&(r="default"),n("zn8P")(o).then(function(e){return e[r]}).then(function(e){return Gu(e,o,r)}).then(function(e){return t._compiler.compileModuleAsync(e)})}},{key:"loadFactory",value:function(e){var t=_slicedToArray(e.split("#"),2),i=t[0],o=t[1],r="NgFactory";return void 0===o&&(o="default",r=""),n("zn8P")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(e){return e[o+r]}).then(function(e){return Gu(e,i,o)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Pn(vu),Pn(qu,8))},e.\u0275prov=m({token:e,factory:e.\u0275fac}),e}();function Gu(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var Yu=function(e){return null},Xu=Nu(null,"core",[{provide:au,useValue:"unknown"},{provide:Vu,deps:[Vr]},{provide:Su,deps:[]},{provide:cu,deps:[]}]),Zu=[{provide:Uu,useClass:Uu,deps:[Cu,cu,Vr,xi,bc,tu]},{provide:cl,deps:[Cu],useFactory:function(e){var t=[];return e.onStable.subscribe(function(){for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:tu,useClass:tu,deps:[[new vn,eu]]},{provide:vu,useClass:vu,deps:[]},iu,{provide:Fc,useFactory:function(){return Kc},deps:[]},{provide:Qc,useFactory:function(){return qc},deps:[]},{provide:lu,useFactory:function(e){return ys(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new mn(lu),new vn,new _n]]},{provide:uu,useValue:"USD"}],Ju=function(){var e=function e(t){_classCallCheck(this,e)};return e.\u0275mod=J({type:e}),e.\u0275inj=v({factory:function(t){return new(t||e)(Pn(Uu))},providers:Zu}),e}()},gRHU:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("2fFW"),o=n("NJ4a"),r={closed:!0,next:function(e){},error:function(e){if(i.a.useDeprecatedSynchronousErrorHandling)throw e;Object(o.a)(e)},complete:function(){}}},h2iL:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("2Vo4"),o=n("fXoL"),r=n("tk/3"),a=n("9ans"),s=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.http=t,this.auth=n,this.arrayPanelFormsData={},this._coreFormData=new i.a(null),this._attestationPanelData=new i.a(null),this._etymologyData=new i.a(null),this._rightPanelData=new i.a(null),this._deleteLexicalEntryReq=new i.a(null),this._addSubElementReq=new i.a(null),this._updateCoreCardReq=new i.a(null),this._spinnerAction=new i.a(null),this._refreshLanguageTable=new i.a(null),this._refreshAfterEdit=new i.a(null),this._refreshFilter=new i.a(null),this._updateLangSelect=new i.a(null),this._triggerNotePanel=new i.a(null),this._triggerAttestationPanel=new i.a(null),this._changeDecompLabel=new i.a(null),this._decompData=new i.a(null),this._refreshLinkCounter=new i.a(null),this._triggerLexicalEntryTree=new i.a(null),this._triggerSameAs=new i.a(null),this.baseUrl="/LexO-backend-itant/service/",this.key="PRINitant19",this.author="",this.coreData$=this._coreFormData.asObservable(),this.decompData$=this._decompData.asObservable(),this.attestationPanelData$=this._attestationPanelData.asObservable(),this.etymologyData$=this._etymologyData.asObservable(),this.rightPanelData$=this._rightPanelData.asObservable(),this.deleteReq$=this._deleteLexicalEntryReq.asObservable(),this.addSubReq$=this._addSubElementReq.asObservable(),this.updateCoreCardReq$=this._updateCoreCardReq.asObservable(),this.spinnerAction$=this._spinnerAction.asObservable(),this.refreshLangTable$=this._refreshLanguageTable.asObservable(),this.refreshAfterEdit$=this._refreshAfterEdit.asObservable(),this.refreshFilter$=this._refreshFilter.asObservable(),this.updateLangSelect$=this._updateLangSelect.asObservable(),this.triggerNotePanel$=this._triggerNotePanel.asObservable(),this.triggerAttestationPanel$=this._triggerAttestationPanel.asObservable(),this.changeDecompLabel$=this._changeDecompLabel.asObservable(),this.refreshLinkCounter$=this._refreshLinkCounter.asObservable(),this.triggerLexicalEntryTree$=this._triggerLexicalEntryTree.asObservable(),this.triggerSameAs$=this._triggerSameAs.asObservable()}return _createClass(e,[{key:"refreshLinkCounter",value:function(e){this._refreshLinkCounter.next(e)}},{key:"sendToCoreTab",value:function(e){this._coreFormData.next(e)}},{key:"sendToDecompTab",value:function(e){this._decompData.next(e)}},{key:"sendToAttestationPanel",value:function(e){this._attestationPanelData.next(e)}},{key:"changeDecompLabel",value:function(e){this._changeDecompLabel.next(e)}},{key:"sendToRightTab",value:function(e){this._rightPanelData.next(e)}},{key:"sendToEtymologyTab",value:function(e){this._etymologyData.next(e)}},{key:"deleteRequest",value:function(e){this._deleteLexicalEntryReq.next(e)}},{key:"addSubElementRequest",value:function(e){this._addSubElementReq.next(e)}},{key:"updateCoreCard",value:function(e){this._updateCoreCardReq.next(e)}},{key:"spinnerAction",value:function(e){this._spinnerAction.next(e)}},{key:"refreshLangTable",value:function(){this._refreshLanguageTable.next(null)}},{key:"refreshAfterEdit",value:function(e){this._refreshAfterEdit.next(e)}},{key:"refreshFilter",value:function(e){this._refreshFilter.next(e)}},{key:"updateLangSelect",value:function(e){this._updateLangSelect.next(e)}},{key:"triggerNotePanel",value:function(e){this._triggerNotePanel.next(e)}},{key:"triggerAttestationPanel",value:function(e){this._triggerAttestationPanel.next(e)}},{key:"triggerLexicalEntryTree",value:function(e){this._triggerLexicalEntryTree.next(e)}},{key:"triggerSameAs",value:function(e){this._triggerSameAs.next(e)}},{key:"getLexicalEntriesList",value:function(e){return this.http.post(this.baseUrl+"lexicon/data/lexicalEntries",e)}},{key:"getLexicalSensesList",value:function(e){return this.http.post(this.baseUrl+"lexicon/data/lexicalSenses",e)}},{key:"getFormList",value:function(e){return this.http.post(this.baseUrl+"lexicon/data/forms",e)}},{key:"getLexEntryElements",value:function(e){return this.http.get(this.baseUrl+"lexicon/data/"+e+"/elements")}},{key:"getLexEntryData",value:function(e){return this.http.get(this.baseUrl+"lexicon/data/"+e+"/lexicalEntry?key="+this.key+"&aspect=core")}},{key:"getLexEntryLinguisticRelation",value:function(e,t){return this.http.get(this.baseUrl+"lexicon/data/"+e+"/linguisticRelation?key="+this.key+"&property="+t)}},{key:"getLexEntryForms",value:function(e){return this.http.get(this.baseUrl+"lexicon/data/"+e+"/forms")}},{key:"getFormData",value:function(e,t){return this.http.get(this.baseUrl+"lexicon/data/"+e+"/form?key="+this.key+"&aspect="+t)}},{key:"getSenseData",value:function(e,t){return this.http.get(this.baseUrl+"lexicon/data/"+e+"/lexicalSense?key="+this.key+"&aspect="+t)}},{key:"getSensesList",value:function(e){return this.http.get(this.baseUrl+"lexicon/data/"+e+"/senses")}},{key:"getLexiconLanguages",value:function(){return this.http.get(this.baseUrl+"lexicon/data/languages")}},{key:"getLanguages",value:function(){return this.http.get(this.baseUrl+"lexicon/statistics/languages?key="+this.key)}},{key:"getTypes",value:function(){return this.http.get(this.baseUrl+"lexicon/statistics/types?key="+this.key)}},{key:"getAuthors",value:function(){return this.http.get(this.baseUrl+"lexicon/statistics/authors?key="+this.key)}},{key:"getPos",value:function(){return this.http.get(this.baseUrl+"lexicon/statistics/pos?key="+this.key)}},{key:"getStatus",value:function(){return this.http.get(this.baseUrl+"lexicon/statistics/status?key="+this.key)}},{key:"newLexicalEntry",value:function(){return this.author=this.auth.getUsername(),this.http.get(this.baseUrl+"lexicon/creation/lexicalEntry?key="+this.key+"&author="+this.author)}},{key:"deleteLexicalEntry",value:function(e){return this.http.get(this.baseUrl+"lexicon/delete/"+e+"/lexicalEntry?key="+this.key)}},{key:"deleteForm",value:function(e){return this.http.get(this.baseUrl+"lexicon/delete/"+e+"/form?key="+this.key)}},{key:"deleteSense",value:function(e){return this.http.get(this.baseUrl+"lexicon/delete/"+e+"/lexicalSense?key="+this.key)}},{key:"deleteLanguage",value:function(e){return this.http.get(this.baseUrl+"lexicon/delete/"+e+"/language?key="+this.key)}},{key:"deleteLinguisticRelation",value:function(e,t){return this.http.post(this.baseUrl+"lexicon/delete/"+e+"/relation?key="+this.key,t)}},{key:"updateLexicalEntry",value:function(e,t){return this.author=this.auth.getUsername(),this.http.post(this.baseUrl+"lexicon/update/"+e+"/lexicalEntry?key="+this.key+"&user="+this.author,t)}},{key:"updateLinguisticRelation",value:function(e,t){return this.author=this.auth.getUsername(),this.http.post(this.baseUrl+"lexicon/update/"+e+"/linguisticRelation?key="+this.key+"&user="+this.author,t)}},{key:"updateGenericRelation",value:function(e,t){return this.author=this.auth.getUsername(),this.http.post(this.baseUrl+"lexicon/update/"+e+"/genericRelation?key="+this.key+"&user="+this.author,t)}},{key:"updateForm",value:function(e,t){return this.author=this.auth.getUsername(),this.http.post(this.baseUrl+"lexicon/update/"+e+"/form?key="+this.key+"&user="+this.author,t)}},{key:"updateSense",value:function(e,t){return this.author=this.auth.getUsername(),this.http.post(this.baseUrl+"lexicon/update/"+e+"/lexicalSense?key="+this.key+"&user="+this.author,t)}},{key:"getMorphologyData",value:function(){return this.http.get(this.baseUrl+"lexinfo/data/morphology")}},{key:"getFormTypes",value:function(){return this.http.get(this.baseUrl+"ontolex/data/formType")}},{key:"getLexEntryTypes",value:function(){return this.http.get(this.baseUrl+"ontolex/data/lexicalEntryType")}},{key:"createNewForm",value:function(e){return this.author=this.auth.getUsername(),this.http.get(this.baseUrl+"lexicon/creation/form?lexicalEntryID="+e+"&key="+this.key+"&author="+this.author)}},{key:"createNewSense",value:function(e){return this.author=this.auth.getUsername(),this.http.get(this.baseUrl+"lexicon/creation/lexicalSense?lexicalEntryID="+e+"&key="+this.key+"&author="+this.author)}},{key:"createNewLanguage",value:function(e){return this.author=this.auth.getUsername(),this.http.get(this.baseUrl+"lexicon/creation/language?key="+this.key+"&lang="+e+"&author="+this.author)}},{key:"updateLanguage",value:function(e,t){return this.author=this.auth.getUsername(),this.http.post(this.baseUrl+"lexicon/update/"+e+"/language?key="+this.key+"&author="+this.author,t)}},{key:"getBibliographyData",value:function(e){return this.http.get(this.baseUrl+"lexicon/data/"+e+"/bibliography?key=lexodemo")}},{key:"addBibliographyData",value:function(e,t){return this.author=this.auth.getUsername(),this.http.post(this.baseUrl+"lexicon/creation/bibliography?lexicalEntityID="+e+"&key="+this.key+"&author="+this.author,t)}},{key:"removeBibliographyItem",value:function(e){return this.http.get(this.baseUrl+"lexicon/delete/"+e+"/bibliography?key=PRINitant19")}},{key:"synchronizeBibliographyItem",value:function(e,t){return this.http.post(this.baseUrl+"lexicon/update/synchronizeBibliography?lexicalEntityID="+e+"&key=PRINitant19&author=demo&itemKey="+t,{})}},{key:"createNewEtymology",value:function(e){return this.author=this.auth.getUsername(),this.http.get(this.baseUrl+"lexicon/creation/etymology?lexicalEntryID="+e+"&key="+this.key+"&author="+this.author)}},{key:"getEtymologies",value:function(e){return this.http.get(this.baseUrl+"lexicon/data/"+e+"/etymologies?key="+this.key)}},{key:"getEtymologyData",value:function(e){return this.http.get(this.baseUrl+"lexicon/data/"+e+"/etymology?key="+this.key)}},{key:"updateEtymology",value:function(e,t){return this.author=this.auth.getUsername(),this.http.post(this.baseUrl+"lexicon/update/"+e+"/etymology?key="+this.key+"&author="+this.author,t)}},{key:"createNewEtylink",value:function(e,t){return this.http.get(this.baseUrl+"lexicon/creation/etymologicalLink?lexicalEntryID="+e+"&etymologyID="+t+"&key="+this.key+"&author="+this.author)}},{key:"deleteEtymology",value:function(e){return this.author=this.auth.getUsername(),this.http.get(this.baseUrl+"lexicon/delete/"+e+"/etymology?key="+this.key+"&author="+this.author)}},{key:"updateEtylink",value:function(e,t){return this.author=this.auth.getUsername(),this.http.post(this.baseUrl+"lexicon/update/"+e+"/etymologicalLink?key="+this.key+"&author="+this.author,t)}},{key:"deleteEtylink",value:function(e){return this.author=this.auth.getUsername(),this.http.get(this.baseUrl+"lexicon/delete/"+e+"/etymologicalLink?key="+this.key+"&author="+this.author)}},{key:"getSubTerms",value:function(e){return this.http.get(this.baseUrl+"lexicon/data/"+e+"/subTerms?key="+this.key)}},{key:"getConstituents",value:function(e){return this.http.get(this.baseUrl+"lexicon/data/"+e+"/constituents?key="+this.key)}},{key:"createComponent",value:function(e){return this.author=this.auth.getUsername(),this.http.get(this.baseUrl+"lexicon/creation/component?id="+e+"&key="+this.key+"&author="+this.author)}},{key:"deleteComponent",value:function(e){return this.http.get(this.baseUrl+"lexicon/delete/"+e+"/component?key="+this.key)}},{key:"getCorrespondsTo",value:function(e){return this.http.get(this.baseUrl+"lexicon/data/"+e+"/correspondsTo?key="+this.key)}},{key:"exportLexicon",value:function(e){return this.http.post(this.baseUrl+"export/lexicon",e,{responseType:"text"})}},{key:"getPanelCognate",value:function(e,t){return this.arrayPanelFormsData[e+"-"+t]}},{key:"newPanelForm",value:function(e,t){this.arrayPanelFormsData[e+"-"+t]={},this.arrayPanelFormsData[e+"-"+t].data=void 0,this.arrayPanelFormsData[e+"-"+t].isOpen=void 0}},{key:"closePanelForm",value:function(e,t){this.arrayPanelFormsData[e+"-"+t]=void 0}},{key:"getAllPanelForms",value:function(){return this.arrayPanelFormsData}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Yb(r.b),o.Yb(a.a))},e.\u0275prov=o.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},itXk:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u});var i=n("z+Ro"),o=n("DH7j"),r=n("l7GE"),a=n("ZUHj"),s=n("yCtX"),c={};function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=void 0,a=void 0;return Object(i.a)(t[t.length-1])&&(a=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&Object(o.a)(t[0])&&(t=t[0]),Object(s.a)(t,a).lift(new u(r))}var u=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new f(e,this.resultSelector))}}]),e}(),f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).resultSelector=i,o.active=0,o.values=[],o.observables=[],o}return _createClass(n,[{key:"_next",value:function(e){this.values.push(c),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var i=e[n];this.add(Object(a.a)(this,i,void 0,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n){var i=this.values,o=this.toRespond?i[n]===c?--this.toRespond:this.toRespond:0;i[n]=t,0===o&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(r.a)},jZKg:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("HDdC"),o=n("quSY");function r(e,t){return new i.a(function(n){var i=new o.a,r=0;return i.add(t.schedule(function(){r!==e.length?(n.next(e[r++]),n.closed||i.add(this.schedule())):n.complete()})),i})}},jhN1:function(e,t,n){"use strict";n.d(t,"a",function(){return F}),n.d(t,"b",function(){return R}),n.d(t,"c",function(){return D}),n.d(t,"d",function(){return _});var i,o=n("ofXK"),r=n("fXoL"),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=s||(s=document.querySelector("base"))?s.getAttribute("href"):null;return null==n?null:(t=n,i||(i=document.createElement("a")),i.setAttribute("href",t),"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname)}},{key:"resetBaseElement",value:function(){s=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return Object(o.F)(document.cookie,e)}}],[{key:"makeCurrent",value:function(){Object(o.G)(new n)}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(o.C)),s=null,c=new r.q("TRANSITION_ID"),l=[{provide:r.d,useFactory:function(e,t,n){return function(){n.get(r.e).donePromise.then(function(){var n=Object(o.E)();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(function(t){return t.getAttribute("ng-transition")===e}).forEach(function(e){return n.remove(e)})})}},deps:[c,o.c,r.r],multi:!0}],u=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){r.nb.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=e.findTestabilityInTree(t,n);if(null==i)throw new Error("Could not find testability for element.");return i},r.nb.getAllAngularTestabilities=function(){return e.getAllTestabilities()},r.nb.getAllAngularRootElements=function(){return e.getAllRootElements()},r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(function(e){var t=r.nb.getAllAngularTestabilities(),n=t.length,i=!1,o=function(t){i=i||t,0==--n&&e(i)};t.forEach(function(e){e.whenStable(o)})})}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var i=e.getTestability(t);return null!=i?i:n?Object(o.E)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){Object(r.W)(new e)}}]),e}(),f=new r.q("EventManagerPlugins"),d=function(){var e=function(){function e(t,n){var i=this;_classCallCheck(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach(function(e){return e.manager=i}),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,i=0;i<n.length;i++){var o=n[i];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error("No event manager plugin found for event "+e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Yb(f),r.Yb(r.z))},e.\u0275prov=r.Hb({token:e,factory:e.\u0275fac}),e}(),h=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,n){var i=Object(o.E)().getGlobalEventTarget(this._doc,e);if(!i)throw new Error("Unsupported event target ".concat(i," for event ").concat(t));return this.addEventListener(i,t,n)}}]),e}(),p=function(){var e=function(){function e(){_classCallCheck(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Hb({token:e,factory:e.\u0275fac}),e}(),b=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this))._doc=e,i._hostNodes=new Set,i._styleNodes=new Set,i._hostNodes.add(e.head),i}return _createClass(n,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach(function(e){var i=n._doc.createElement("style");i.textContent=e,n._styleNodes.add(t.appendChild(i))})}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach(function(n){return t._addStylesToHost(e,n)})}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach(function(e){return Object(o.E)().remove(e)})}}]),n}(p);return e.\u0275fac=function(t){return new(t||e)(r.Yb(o.c))},e.\u0275prov=r.Hb({token:e,factory:e.\u0275fac}),e}(),g={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},m=/%COMP%/g;function v(e,t,n){for(var i=0;i<t.length;i++){var o=t[i];Array.isArray(o)?v(e,o,n):(o=o.replace(m,e),n.push(o))}return n}function y(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var _=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new C(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case r.Q.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new k(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case 1:case r.Q.ShadowDom:return new O(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var i=v(t.id,t.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Yb(d),r.Yb(b),r.Yb(r.c))},e.\u0275prov=r.Hb({token:e,factory:e.\u0275fac}),e}(),C=function(){function e(t){_classCallCheck(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(g[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,i){if(i){t=i+":"+t;var o=g[i];o?e.setAttributeNS(o,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var i=g[n];i?e.removeAttributeNS(i,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,i){i&(r.G.DashCase|r.G.Important)?e.style.setProperty(t,n,i&r.G.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&r.G.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,y(n)):this.eventManager.addEventListener(e,t,y(n))}}]),e}(),k=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,r){var a;_classCallCheck(this,n),(a=t.call(this,e)).component=o;var s=v(r+"-"+o.id,o.styles,[]);return i.addStyles(s),a.contentAttr="_ngcontent-%COMP%".replace(m,r+"-"+o.id),a.hostAttr="_nghost-%COMP%".replace(m,r+"-"+o.id),a}return _createClass(n,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var i=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,e,t);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,i,this.contentAttr,""),i}}]),n}(C),O=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,r){var a;_classCallCheck(this,n),(a=t.call(this,e)).sharedStylesHost=i,a.hostEl=o,a.shadowRoot=o.attachShadow({mode:"open"}),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=v(r.id,r.styles,[]),c=0;c<s.length;c++){var l=document.createElement("style");l.textContent=s[c],a.shadowRoot.appendChild(l)}return a}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,i){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,i)}},{key:"removeChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(C),x=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var i=this;return e.addEventListener(t,n,!1),function(){return i.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(h);return e.\u0275fac=function(t){return new(t||e)(r.Yb(o.c))},e.\u0275prov=r.Hb({token:e,factory:e.\u0275fac}),e}(),w=["alt","control","meta","shift"],M={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},P={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},E={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},S=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,i){var r=n.parseEventName(t),a=n.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Object(o.E)().onAndCancel(e,r.domEventName,a)})}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),i=t.shift();if(0===t.length||"keydown"!==i&&"keyup"!==i)return null;var o=n._normalizeKey(t.pop()),r="";if(w.forEach(function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),r+=e+".")}),r+=o,0!=t.length||0===o.length)return null;var a={};return a.domEventName=i,a.fullKey=r,a}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&P.hasOwnProperty(t)&&(t=P[t]))}return M[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),w.forEach(function(i){i!=n&&(0,E[i])(e)&&(t+=i+".")}),t+=n}},{key:"eventCallback",value:function(e,t,i){return function(o){n.getEventFullKey(o)===e&&i.runGuarded(function(){return t(o)})}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(h);return e.\u0275fac=function(t){return new(t||e)(r.Yb(o.c))},e.\u0275prov=r.Hb({token:e,factory:e.\u0275fac}),e}(),R=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(r.Hb)({factory:function(){return Object(r.Yb)(A)},token:e,providedIn:"root"}),e}();function I(e){return new A(e.get(o.c))}var A=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this))._doc=e,i}return _createClass(n,[{key:"sanitize",value:function(e,t){if(null==t)return null;switch(e){case r.I.NONE:return t;case r.I.HTML:return Object(r.cb)(t,"HTML")?Object(r.ub)(t):Object(r.ab)(this._doc,String(t));case r.I.STYLE:return Object(r.cb)(t,"Style")?Object(r.ub)(t):t;case r.I.SCRIPT:if(Object(r.cb)(t,"Script"))return Object(r.ub)(t);throw new Error("unsafe value used in a script context");case r.I.URL:return Object(r.mb)(t),Object(r.cb)(t,"URL")?Object(r.ub)(t):Object(r.bb)(String(t));case r.I.RESOURCE_URL:if(Object(r.cb)(t,"ResourceURL"))return Object(r.ub)(t);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(e," (see https://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(e){return Object(r.db)(e)}},{key:"bypassSecurityTrustStyle",value:function(e){return Object(r.gb)(e)}},{key:"bypassSecurityTrustScript",value:function(e){return Object(r.fb)(e)}},{key:"bypassSecurityTrustUrl",value:function(e){return Object(r.hb)(e)}},{key:"bypassSecurityTrustResourceUrl",value:function(e){return Object(r.eb)(e)}}]),n}(R);return e.\u0275fac=function(t){return new(t||e)(r.Yb(o.c))},e.\u0275prov=Object(r.Hb)({factory:function(){return I(Object(r.Yb)(r.o))},token:e,providedIn:"root"}),e}(),T=[{provide:r.B,useValue:o.D},{provide:r.C,useValue:function(){a.makeCurrent(),u.init()},multi:!0},{provide:o.c,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],D=Object(r.R)(r.V,"browser",T),j=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:f,useClass:x,multi:!0,deps:[o.c,r.z,r.B]},{provide:f,useClass:S,multi:!0,deps:[o.c]},[],{provide:_,useClass:_,deps:[d,b,r.c]},{provide:r.F,useExisting:_},{provide:p,useExisting:b},{provide:b,useClass:b,deps:[o.c]},{provide:r.M,useClass:r.M,deps:[r.z]},{provide:d,useClass:d,deps:[f,r.z]},[]],F=function(){var e=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:r.c,useValue:t.appId},{provide:c,useExisting:r.c},l]}}}]),e}();return e.\u0275mod=r.Jb({type:e}),e.\u0275inj=r.Ib({factory:function(t){return new(t||e)(r.Yb(e,12))},providers:j,imports:[o.b,r.f]}),e}();"undefined"!=typeof window&&window},kJWO:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,i,o){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(n("7o/Q").a)},lJxs:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("7o/Q");function o(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new r(e,t))}}var r=function(){function e(t,n){_classCallCheck(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o){var r;return _classCallCheck(this,n),(r=t.call(this,e)).project=i,r.count=0,r.thisArg=o||_assertThisInitialized(r),r}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(i.a)},mrSG:function(e,t,n){"use strict";function i(e,t,n,i){return new(n||(n=Promise))(function(o,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function s(e){try{c(i.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())})}n.d(t,"a",function(){return i})},n6bG:function(e,t,n){"use strict";function i(e){return"function"==typeof e}n.d(t,"a",function(){return i})},ngJS:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(e){return function(t){for(var n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.complete()}}},ofXK:function(e,t,n){"use strict";n.d(t,"a",function(){return _}),n.d(t,"b",function(){return Ie}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return we}),n.d(t,"e",function(){return E}),n.d(t,"f",function(){return k}),n.d(t,"g",function(){return Me}),n.d(t,"h",function(){return Pe}),n.d(t,"i",function(){return f}),n.d(t,"j",function(){return O}),n.d(t,"k",function(){return v}),n.d(t,"l",function(){return he}),n.d(t,"m",function(){return be}),n.d(t,"n",function(){return me}),n.d(t,"o",function(){return _e}),n.d(t,"p",function(){return Ce}),n.d(t,"q",function(){return C}),n.d(t,"r",function(){return Se}),n.d(t,"s",function(){return l}),n.d(t,"t",function(){return Re}),n.d(t,"u",function(){return xe}),n.d(t,"v",function(){return S}),n.d(t,"w",function(){return De}),n.d(t,"x",function(){return G}),n.d(t,"y",function(){return T}),n.d(t,"z",function(){return A}),n.d(t,"A",function(){return D}),n.d(t,"B",function(){return Te}),n.d(t,"C",function(){return s}),n.d(t,"D",function(){return Ae}),n.d(t,"E",function(){return r}),n.d(t,"F",function(){return de}),n.d(t,"G",function(){return a});var i=n("fXoL"),o=null;function r(){return o}function a(e){o||(o=e)}var s=function e(){_classCallCheck(this,e)},c=new i.q("DocumentToken"),l=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Hb)({factory:u,token:e,providedIn:"platform"}),e}();function u(){return Object(i.Yb)(d)}var f=new i.q("Location Initialized"),d=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this))._doc=e,i._init(),i}return _createClass(n,[{key:"_init",value:function(){this.location=r().getLocation(),this._history=r().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return r().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){r().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){r().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"pushState",value:function(e,t,n){h()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){h()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(l);return e.\u0275fac=function(t){return new(t||e)(i.Yb(c))},e.\u0275prov=Object(i.Hb)({factory:p,token:e,providedIn:"platform"}),e}();function h(){return!!window.history.pushState}function p(){return new d(Object(i.Yb)(c))}function b(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function g(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function m(e){return e&&"?"!==e[0]?"?"+e:e}var v=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Hb)({factory:y,token:e,providedIn:"root"}),e}();function y(e){var t=Object(i.Yb)(c).location;return new C(Object(i.Yb)(l),t&&t.origin||"")}var _=new i.q("appBaseHref"),C=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;if(_classCallCheck(this,n),(o=t.call(this))._platformLocation=e,null==i&&(i=o._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return o._baseHref=i,_possibleConstructorReturn(o)}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return b(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,i){var o=this.prepareExternalUrl(n+m(i));this._platformLocation.pushState(e,t,o)}},{key:"replaceState",value:function(e,t,n,i){var o=this.prepareExternalUrl(n+m(i));this._platformLocation.replaceState(e,t,o)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(v);return e.\u0275fac=function(t){return new(t||e)(i.Yb(l),i.Yb(_,8))},e.\u0275prov=i.Hb({token:e,factory:e.\u0275fac}),e}(),k=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this))._platformLocation=e,o._baseHref="",null!=i&&(o._baseHref=i),o}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=b(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,i){var o=this.prepareExternalUrl(n+m(i));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,t,o)}},{key:"replaceState",value:function(e,t,n,i){var o=this.prepareExternalUrl(n+m(i));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,o)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(v);return e.\u0275fac=function(t){return new(t||e)(i.Yb(l),i.Yb(_,8))},e.\u0275prov=i.Hb({token:e,factory:e.\u0275fac}),e}(),O=function(){var e=function(){function e(t,n){var o=this;_classCallCheck(this,e),this._subject=new i.n,this._urlChangeListeners=[],this._platformStrategy=t;var r=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=g(w(r)),this._platformStrategy.onPopState(function(e){o._subject.emit({url:o.path(!0),pop:!0,state:e.state,type:e.type})})}return _createClass(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+m(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,w(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+m(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+m(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(e,t)})}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Yb(v),i.Yb(l))},e.normalizeQueryParams=m,e.joinWithSlash=b,e.stripTrailingSlash=g,e.\u0275prov=Object(i.Hb)({factory:x,token:e,providedIn:"root"}),e}();function x(){return new O(Object(i.Yb)(v),Object(i.Yb)(l))}function w(e){return e.replace(/\/index.html$/,"")}var M=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}({}),P=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({}),E=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}({}),S=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}({}),R=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}({}),I=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e[1/0]=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}({});function A(e,t,n){var o=Object(i.ib)(e),r=V([o[i.Z.DayPeriodsFormat],o[i.Z.DayPeriodsStandalone]],t);return V(r,n)}function T(e,t,n){var o=Object(i.ib)(e),r=V([o[i.Z.DaysFormat],o[i.Z.DaysStandalone]],t);return V(r,n)}function D(e,t,n){var o=Object(i.ib)(e),r=V([o[i.Z.MonthsFormat],o[i.Z.MonthsStandalone]],t);return V(r,n)}function j(e,t){return V(Object(i.ib)(e)[i.Z.DateFormat],t)}function F(e,t){return V(Object(i.ib)(e)[i.Z.TimeFormat],t)}function Q(e,t){return V(Object(i.ib)(e)[i.Z.DateTimeFormat],t)}function L(e,t){var n=Object(i.ib)(e),o=n[i.Z.NumberSymbols][t];if(void 0===o){if(t===I.CurrencyDecimal)return n[i.Z.NumberSymbols][I.Decimal];if(t===I.CurrencyGroup)return n[i.Z.NumberSymbols][I.Group]}return o}var N=i.lb;function z(e){if(!e[i.Z.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(e[i.Z.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function V(e,t){for(var n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function B(e){var t=_slicedToArray(e.split(":"),2);return{hours:+t[0],minutes:+t[1]}}var U=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,H={},K=/((?:[^GyYMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,q=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}({}),$=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}({}),W=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}({});function G(e,t,n,i){var o=function(e){if(se(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();var t,n=parseFloat(e);if(!isNaN(e-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var i=_slicedToArray(e.split("-").map(function(e){return+e}),3),o=i[0],r=i[1],a=i[2];return new Date(o,r-1,a)}if(t=e.match(U))return function(e){var t=new Date(0),n=0,i=0,o=e[8]?t.setUTCFullYear:t.setFullYear,r=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),i=Number(e[9]+e[11])),o.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));var a=Number(e[4]||0)-n,s=Number(e[5]||0)-i,c=Number(e[6]||0),l=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return r.call(t,a,s,c,l),t}(t)}var s=new Date(e);if(!se(s))throw new Error('Unable to convert "'.concat(e,'" into a date'));return s}(e);t=Y(n,t)||t;for(var r,a=[];t;){if(!(r=K.exec(t))){a.push(t);break}var s=(a=a.concat(r.slice(1))).pop();if(!s)break;t=s}var c=o.getTimezoneOffset();i&&(c=ae(i,c),o=function(e,t,n){var i=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(ae(t,i)-i))}(o,i));var l="";return a.forEach(function(e){var t=function(e){if(re[e])return re[e];var t;switch(e){case"G":case"GG":case"GGG":t=ee(W.Eras,S.Abbreviated);break;case"GGGG":t=ee(W.Eras,S.Wide);break;case"GGGGG":t=ee(W.Eras,S.Narrow);break;case"y":t=J($.FullYear,1,0,!1,!0);break;case"yy":t=J($.FullYear,2,0,!0,!0);break;case"yyy":t=J($.FullYear,3,0,!1,!0);break;case"yyyy":t=J($.FullYear,4,0,!1,!0);break;case"Y":t=oe(1);break;case"YY":t=oe(2,!0);break;case"YYY":t=oe(3);break;case"YYYY":t=oe(4);break;case"M":case"L":t=J($.Month,1,1);break;case"MM":case"LL":t=J($.Month,2,1);break;case"MMM":t=ee(W.Months,S.Abbreviated);break;case"MMMM":t=ee(W.Months,S.Wide);break;case"MMMMM":t=ee(W.Months,S.Narrow);break;case"LLL":t=ee(W.Months,S.Abbreviated,E.Standalone);break;case"LLLL":t=ee(W.Months,S.Wide,E.Standalone);break;case"LLLLL":t=ee(W.Months,S.Narrow,E.Standalone);break;case"w":t=ie(1);break;case"ww":t=ie(2);break;case"W":t=ie(1,!0);break;case"d":t=J($.Date,1);break;case"dd":t=J($.Date,2);break;case"E":case"EE":case"EEE":t=ee(W.Days,S.Abbreviated);break;case"EEEE":t=ee(W.Days,S.Wide);break;case"EEEEE":t=ee(W.Days,S.Narrow);break;case"EEEEEE":t=ee(W.Days,S.Short);break;case"a":case"aa":case"aaa":t=ee(W.DayPeriods,S.Abbreviated);break;case"aaaa":t=ee(W.DayPeriods,S.Wide);break;case"aaaaa":t=ee(W.DayPeriods,S.Narrow);break;case"b":case"bb":case"bbb":t=ee(W.DayPeriods,S.Abbreviated,E.Standalone,!0);break;case"bbbb":t=ee(W.DayPeriods,S.Wide,E.Standalone,!0);break;case"bbbbb":t=ee(W.DayPeriods,S.Narrow,E.Standalone,!0);break;case"B":case"BB":case"BBB":t=ee(W.DayPeriods,S.Abbreviated,E.Format,!0);break;case"BBBB":t=ee(W.DayPeriods,S.Wide,E.Format,!0);break;case"BBBBB":t=ee(W.DayPeriods,S.Narrow,E.Format,!0);break;case"h":t=J($.Hours,1,-12);break;case"hh":t=J($.Hours,2,-12);break;case"H":t=J($.Hours,1);break;case"HH":t=J($.Hours,2);break;case"m":t=J($.Minutes,1);break;case"mm":t=J($.Minutes,2);break;case"s":t=J($.Seconds,1);break;case"ss":t=J($.Seconds,2);break;case"S":t=J($.FractionalSeconds,1);break;case"SS":t=J($.FractionalSeconds,2);break;case"SSS":t=J($.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=te(q.Short);break;case"ZZZZZ":t=te(q.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=te(q.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=te(q.Long);break;default:return null}return re[e]=t,t}(e);l+=t?t(o,n,c):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Y(e,t){var n=function(e){return Object(i.ib)(e)[i.Z.LocaleId]}(e);if(H[n]=H[n]||{},H[n][t])return H[n][t];var o="";switch(t){case"shortDate":o=j(e,R.Short);break;case"mediumDate":o=j(e,R.Medium);break;case"longDate":o=j(e,R.Long);break;case"fullDate":o=j(e,R.Full);break;case"shortTime":o=F(e,R.Short);break;case"mediumTime":o=F(e,R.Medium);break;case"longTime":o=F(e,R.Long);break;case"fullTime":o=F(e,R.Full);break;case"short":var r=Y(e,"shortTime"),a=Y(e,"shortDate");o=X(Q(e,R.Short),[r,a]);break;case"medium":var s=Y(e,"mediumTime"),c=Y(e,"mediumDate");o=X(Q(e,R.Medium),[s,c]);break;case"long":var l=Y(e,"longTime"),u=Y(e,"longDate");o=X(Q(e,R.Long),[l,u]);break;case"full":var f=Y(e,"fullTime"),d=Y(e,"fullDate");o=X(Q(e,R.Full),[f,d])}return o&&(H[n][t]=o),o}function X(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),e}function Z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,r="";(e<0||o&&e<=0)&&(o?e=1-e:(e=-e,r=n));for(var a=String(e);a.length<t;)a="0"+a;return i&&(a=a.substr(a.length-t)),r+a}function J(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(r,a){var s,c=function(e,t){switch(e){case $.FullYear:return t.getFullYear();case $.Month:return t.getMonth();case $.Date:return t.getDate();case $.Hours:return t.getHours();case $.Minutes:return t.getMinutes();case $.Seconds:return t.getSeconds();case $.FractionalSeconds:return t.getMilliseconds();case $.Day:return t.getDay();default:throw new Error('Unknown DateType value "'.concat(e,'".'))}}(e,r);if((n>0||c>-n)&&(c+=n),e===$.Hours)0===c&&-12===n&&(c=12);else if(e===$.FractionalSeconds)return s=t,Z(c,3).substr(0,s);var l=L(a,I.MinusSign);return Z(c,t,l,i,o)}}function ee(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E.Format,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(r,a){return function(e,t,n,o,r,a){switch(n){case W.Months:return D(t,r,o)[e.getMonth()];case W.Days:return T(t,r,o)[e.getDay()];case W.DayPeriods:var s=e.getHours(),c=e.getMinutes();if(a){var l=function(e){var t=Object(i.ib)(e);return z(t),(t[i.Z.ExtraData][2]||[]).map(function(e){return"string"==typeof e?B(e):[B(e[0]),B(e[1])]})}(t),u=function(e,t,n){var o=Object(i.ib)(e);z(o);var r=V([o[i.Z.ExtraData][0],o[i.Z.ExtraData][1]],t)||[];return V(r,n)||[]}(t,r,o),f=l.findIndex(function(e){if(Array.isArray(e)){var t=_slicedToArray(e,2),n=t[0],i=t[1],o=s>=n.hours&&c>=n.minutes,r=s<i.hours||s===i.hours&&c<i.minutes;if(n.hours<i.hours){if(o&&r)return!0}else if(o||r)return!0}else if(e.hours===s&&e.minutes===c)return!0;return!1});if(-1!==f)return u[f]}return A(t,r,o)[s<12?0:1];case W.Eras:return function(e,t){return V(Object(i.ib)(e)[i.Z.Eras],t)}(t,o)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(r,a,e,t,n,o)}}function te(e){return function(t,n,i){var o=-1*i,r=L(n,I.MinusSign),a=o>0?Math.floor(o/60):Math.ceil(o/60);switch(e){case q.Short:return(o>=0?"+":"")+Z(a,2,r)+Z(Math.abs(o%60),2,r);case q.ShortGMT:return"GMT"+(o>=0?"+":"")+Z(a,1,r);case q.Long:return"GMT"+(o>=0?"+":"")+Z(a,2,r)+":"+Z(Math.abs(o%60),2,r);case q.Extended:return 0===i?"Z":(o>=0?"+":"")+Z(a,2,r)+":"+Z(Math.abs(o%60),2,r);default:throw new Error('Unknown zone width "'.concat(e,'"'))}}}function ne(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function ie(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,i){var o,r,a;if(t){var s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,c=n.getDate();o=1+Math.floor((c+s)/7)}else{var l=ne(n),u=(r=l.getFullYear(),a=new Date(r,0,1).getDay(),new Date(r,0,1+(a<=4?4:11)-a)),f=l.getTime()-u.getTime();o=1+Math.round(f/6048e5)}return Z(o,e,L(i,I.MinusSign))}}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,i){return Z(ne(n).getFullYear(),e,L(i,I.MinusSign),t)}}var re={};function ae(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function se(e){return e instanceof Date&&!isNaN(e.valueOf())}var ce=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function le(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}var ue=function e(){_classCallCheck(this,e)},fe=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).locale=e,i}return _createClass(n,[{key:"getPluralCategory",value:function(e,t){switch(N(t||this.locale)(e)){case P.Zero:return"zero";case P.One:return"one";case P.Two:return"two";case P.Few:return"few";case P.Many:return"many";default:return"other"}}}]),n}(ue);return e.\u0275fac=function(t){return new(t||e)(i.Yb(i.u))},e.\u0275prov=i.Hb({token:e,factory:e.\u0275fac}),e}();function de(e,t){t=encodeURIComponent(t);var n,i=_createForOfIteratorHelper(e.split(";"));try{for(i.s();!(n=i.n()).done;){var o=n.value,r=o.indexOf("="),a=_slicedToArray(-1==r?[o,""]:[o.slice(0,r),o.slice(r+1)],2),s=a[0],c=a[1];if(s.trim()===t)return decodeURIComponent(c)}}catch(l){i.e(l)}finally{i.f()}return null}var he=function(){var e=function(){function e(t,n,i,o){_classCallCheck(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return _createClass(e,[{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachRemovedItem(function(e){e.previousValue&&t._toggleClass(e.key,!1)})}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(i.tb)(e.item));t._toggleClass(e.item,!0)}),e.forEachRemovedItem(function(e){return t._toggleClass(e.item,!1)})}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!0)}):Object.keys(e).forEach(function(n){return t._toggleClass(n,!!e[n])}))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!1)}):Object.keys(e).forEach(function(e){return t._toggleClass(e,!1)}))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach(function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)})}},{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Object(i.ob)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Lb(i.s),i.Lb(i.t),i.Lb(i.l),i.Lb(i.E))},e.\u0275dir=i.Gb({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e}(),pe=function(){function e(t,n,i,o){_classCallCheck(this,e),this.$implicit=t,this.ngForOf=n,this.index=i,this.count=o}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),be=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(e,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation(function(e,i,o){if(null==e.previousIndex){var r=t._viewContainer.createEmbeddedView(t._template,new pe(null,t._ngForOf,-1,-1),null===o?void 0:o),a=new ge(e,r);n.push(a)}else if(null==o)t._viewContainer.remove(null===i?void 0:i);else if(null!==i){var s=t._viewContainer.get(i);t._viewContainer.move(s,o);var c=new ge(e,s);n.push(c)}});for(var i=0;i<n.length;i++)this._perViewChange(n[i].view,n[i].record);for(var o=0,r=this._viewContainer.length;o<r;o++){var a=this._viewContainer.get(o);a.context.index=o,a.context.count=r,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange(function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item})}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}},{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(e){this._trackByFn=e},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Lb(i.P),i.Lb(i.L),i.Lb(i.s))},e.\u0275dir=i.Gb({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e}(),ge=function e(t,n){_classCallCheck(this,e),this.record=t,this.view=n},me=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._viewContainer=t,this._context=new ve,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(e,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){ye("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){ye("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Lb(i.P),i.Lb(i.L))},e.\u0275dir=i.Gb({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e}(),ve=function e(){_classCallCheck(this,e),this.$implicit=null,this.ngIf=null};function ye(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(Object(i.tb)(t),"'."))}var _e=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this._ngEl=t,this._differs=n,this._renderer=i,this._ngStyle=null,this._differ=null}return _createClass(e,[{key:"ngDoCheck",value:function(){if(this._differ){var e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}},{key:"_setStyle",value:function(e,t){var n=_slicedToArray(e.split("."),2),i=n[0],o=n[1];null!=(t=null!=t&&o?"".concat(t).concat(o):t)?this._renderer.setStyle(this._ngEl.nativeElement,i,t):this._renderer.removeStyle(this._ngEl.nativeElement,i)}},{key:"_applyChanges",value:function(e){var t=this;e.forEachRemovedItem(function(e){return t._setStyle(e.key,null)}),e.forEachAddedItem(function(e){return t._setStyle(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._setStyle(e.key,e.currentValue)})}},{key:"ngStyle",set:function(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Lb(i.l),i.Lb(i.t),i.Lb(i.E))},e.\u0275dir=i.Gb({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e}(),Ce=function(){var e=function(){function e(t){_classCallCheck(this,e),this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return _createClass(e,[{key:"ngOnChanges",value:function(e){if(this._shouldRecreateView(e)){var t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}},{key:"_shouldRecreateView",value:function(e){var t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}},{key:"_hasContextShapeChanged",value:function(e){var t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){var i,o=_createForOfIteratorHelper(n);try{for(o.s();!(i=o.n()).done;){var r=i.value;if(-1===t.indexOf(r))return!0}}catch(a){o.e(a)}finally{o.f()}return!1}return!0}},{key:"_updateExistingContext",value:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t];this._viewRef.context[i]=this.ngTemplateOutletContext[i]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Lb(i.P))},e.\u0275dir=i.Gb({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[i.wb]}),e}();function ke(e,t){return Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(Object(i.tb)(e),"'"))}var Oe=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g,xe=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(t){if(null==t)return null;if("string"!=typeof t)throw ke(e,t);return t.replace(Oe,function(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Kb({name:"titlecase",type:e,pure:!0}),e}(),we=function(){var e=function(){function e(t){_classCallCheck(this,e),this.locale=t}return _createClass(e,[{key:"transform",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if(null==t||""===t||t!=t)return null;try{return G(t,n,o||this.locale,i)}catch(r){throw ke(e,r.message)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Lb(i.u))},e.\u0275pipe=i.Kb({name:"date",type:e,pure:!0}),e}(),Me=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){return JSON.stringify(e,null,2)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Kb({name:"json",type:e,pure:!1}),e}(),Pe=function(){var e=function(){function e(t){_classCallCheck(this,e),this.differs=t,this.keyValues=[]}return _createClass(e,[{key:"transform",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ee;if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());var i=this.differ.diff(e);return i&&(this.keyValues=[],i.forEachItem(function(e){t.keyValues.push({key:e.key,value:e.currentValue})}),this.keyValues.sort(n)),this.keyValues}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Lb(i.t))},e.\u0275pipe=i.Kb({name:"keyvalue",type:e,pure:!1}),e}();function Ee(e,t){var n=e.key,i=t.key;if(n===i)return 0;if(void 0===n)return 1;if(void 0===i)return-1;if(null===n)return 1;if(null===i)return-1;if("string"==typeof n&&"string"==typeof i)return n<i?-1:1;if("number"==typeof n&&"number"==typeof i)return n-i;if("boolean"==typeof n&&"boolean"==typeof i)return n<i?-1:1;var o=String(n),r=String(i);return o==r?0:o<r?-1:1}var Se=function(){var e=function(){function e(t){_classCallCheck(this,e),this._locale=t}return _createClass(e,[{key:"transform",value:function(t,n,o){if(!function(e){return!(null==e||""===e||e!=e)}(t))return null;o=o||this._locale;try{return function(e,t,n){return function(e,t,n,i,o,r){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s="",c=!1;if(isFinite(e)){var l=function(e){var t,n,i,o,r,a=Math.abs(e)+"",s=0;for((n=a.indexOf("."))>-1&&(a=a.replace(".","")),(i=a.search(/e/i))>0?(n<0&&(n=i),n+=+a.slice(i+1),a=a.substring(0,i)):n<0&&(n=a.length),i=0;"0"===a.charAt(i);i++);if(i===(r=a.length))t=[0],n=1;else{for(r--;"0"===a.charAt(r);)r--;for(n-=i,t=[],o=0;i<=r;i++,o++)t[o]=Number(a.charAt(i))}return n>22&&(t=t.splice(0,21),s=n-1,n=1),{digits:t,exponent:s,integerLen:n}}(e);a&&(l=function(e){if(0===e.digits[0])return e;var t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(l));var u=t.minInt,f=t.minFrac,d=t.maxFrac;if(r){var h=r.match(ce);if(null===h)throw new Error(r+" is not a valid digit info");var p=h[1],b=h[3],g=h[5];null!=p&&(u=le(p)),null!=b&&(f=le(b)),null!=g?d=le(g):null!=b&&f>d&&(d=f)}!function(e,t,n){if(t>n)throw new Error("The minimum number of digits after fraction (".concat(t,") is higher than the maximum (").concat(n,")."));var i=e.digits,o=i.length-e.integerLen,r=Math.min(Math.max(t,o),n),a=r+e.integerLen,s=i[a];if(a>0){i.splice(Math.max(e.integerLen,a));for(var c=a;c<i.length;c++)i[c]=0}else{o=Math.max(0,o),e.integerLen=1,i.length=Math.max(1,a=r+1),i[0]=0;for(var l=1;l<a;l++)i[l]=0}if(s>=5)if(a-1<0){for(var u=0;u>a;u--)i.unshift(0),e.integerLen++;i.unshift(1),e.integerLen++}else i[a-1]++;for(;o<Math.max(0,r);o++)i.push(0);var f=0!==r,d=t+e.integerLen,h=i.reduceRight(function(e,t,n,i){return i[n]=(t+=e)<10?t:t-10,f&&(0===i[n]&&n>=d?i.pop():f=!1),t>=10?1:0},0);h&&(i.unshift(h),e.integerLen++)}(l,f,d);var m=l.digits,v=l.integerLen,y=l.exponent,_=[];for(c=m.every(function(e){return!e});v<u;v++)m.unshift(0);for(;v<0;v++)m.unshift(0);v>0?_=m.splice(v,m.length):(_=m,m=[0]);var C=[];for(m.length>=t.lgSize&&C.unshift(m.splice(-t.lgSize,m.length).join(""));m.length>t.gSize;)C.unshift(m.splice(-t.gSize,m.length).join(""));m.length&&C.unshift(m.join("")),s=C.join(L(n,i)),_.length&&(s+=L(n,o)+_.join("")),y&&(s+=L(n,I.Exponential)+"+"+y)}else s=L(n,I.Infinity);return s=e<0&&!c?t.negPre+s+t.negSuf:t.posPre+s+t.posSuf}(e,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=e.split(";"),o=i[0],r=i[1],a=-1!==o.indexOf(".")?o.split("."):[o.substring(0,o.lastIndexOf("0")+1),o.substring(o.lastIndexOf("0")+1)],s=a[0],c=a[1]||"";n.posPre=s.substr(0,s.indexOf("#"));for(var l=0;l<c.length;l++){var u=c.charAt(l);"0"===u?n.minFrac=n.maxFrac=l+1:"#"===u?n.maxFrac=l+1:n.posSuf+=u}var f=s.split(",");if(n.gSize=f[1]?f[1].length:0,n.lgSize=f[2]||f[1]?(f[2]||f[1]).length:0,r){var d=o.length-n.posPre.length-n.posSuf.length,h=r.indexOf("#");n.negPre=r.substr(0,h).replace(/'/g,""),n.negSuf=r.substr(h+d).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}(function(e,t){return Object(i.ib)(e)[i.Z.NumberFormats][t]}(t,M.Percent),L(t,I.MinusSign)),t,I.Group,I.Decimal,n,!0).replace(new RegExp("%","g"),L(t,I.PercentSign))}(function(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(e+" is not a number");return e}(t),o,n)}catch(r){throw ke(e,r.message)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Lb(i.u))},e.\u0275pipe=i.Kb({name:"percent",type:e,pure:!0}),e}(),Re=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(t,n,i){if(null==t)return null;if(!this.supports(t))throw ke(e,t);return t.slice(n,i)}},{key:"supports",value:function(e){return"string"==typeof e||Array.isArray(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Kb({name:"slice",type:e,pure:!1}),e}(),Ie=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=i.Jb({type:e}),e.\u0275inj=i.Ib({factory:function(t){return new(t||e)},providers:[{provide:ue,useClass:fe}]}),e}(),Ae="browser";function Te(e){return e===Ae}var De=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275prov=Object(i.Hb)({token:e,providedIn:"root",factory:function(){return new je(Object(i.Yb)(c),window,Object(i.Yb)(i.m))}}),e}(),je=function(){function e(t,n,i){_classCallCheck(this,e),this.document=t,this.window=n,this.errorHandler=i,this.offset=function(){return[0,0]}}return _createClass(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportsScrolling()){var t=this.document.getElementById(e)||this.document.getElementsByName(e)[0];t&&this.scrollToElement(t)}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],i-o[1])}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var e=Fe(this.window.history)||Fe(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(t){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}]),e}();function Fe(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}},ohmy:function(e,t,n){"use strict";t.byteLength=function(e){var t=l(e),n=t[1];return 3*(t[0]+n)/4-n},t.toByteArray=function(e){var t,n,i=l(e),a=i[0],s=i[1],c=new r(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),u=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===s&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,c[u++]=255&t),1===s&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,r=[],a=0,s=n-o;a<s;a+=16383)r.push(u(e,a,a+16383>s?s:a+16383));return 1===o?r.push(i[(t=e[n-1])>>2]+i[t<<4&63]+"=="):2===o&&r.push(i[(t=(e[n-2]<<8)+e[n-1])>>10]+i[t>>4&63]+i[t<<2&63]+"="),r.join("")};for(var i=[],o=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)i[s]=a[s],o[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var o,r=[],a=t;a<n;a+=3)r.push(i[(o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]))>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return r.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},pLZG:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("7o/Q");function o(e,t){return function(n){return n.lift(new r(e,t))}}var r=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o){var r;return _classCallCheck(this,n),(r=t.call(this,e)).predicate=i,r.thisArg=o,r.count=0,r}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(i.a)},quSY:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i,o,r=n("DH7j"),a=n("XoHu"),s=n("n6bG"),c=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map(function(e,t){return"".concat(t+1,") ").concat(e.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),l=((o=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,i=this._ctorUnsubscribe,o=this._unsubscribe,l=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var f=0;f<n.length;++f)n[f].remove(this);if(Object(s.a)(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(b){t=b instanceof c?u(b.errors):[b]}}if(Object(r.a)(l))for(var d=-1,h=l.length;++d<h;){var p=l[d];if(Object(a.a)(p))try{p.unsubscribe()}catch(b){t=t||[],b instanceof c?t=t.concat(u(b.errors)):t.push(b)}}if(t)throw new c(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var i=n;(n=new e)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof e){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}()).EMPTY=((i=new o).closed=!0,i),o);function u(e){return e.reduce(function(e,t){return e.concat(t instanceof c?t.errors:t)},[])}},"rVq+":function(e,t,n){"use strict";n.d(t,"a",function(){return _});var i=n("3Pt+"),o=n("XNiG"),r=n("Kj3r"),a=n("fXoL"),s=n("h2iL"),c=n("5eHb"),l=n("ofXK"),u=n("ZOsW");function f(e,t){if(1&e){var n=a.Sb();a.Rb(0,"ng-select",21,22),a.bc("change",function(){a.zc(n);var e=a.vc(1),t=a.fc(3).index;return a.fc().onChangeSeeAlso(e,t)})("focus",function(){return a.zc(n),a.fc(4).deleteData()})("keyup",function(e){return a.zc(n),a.fc(4).triggerSeeAlso(e)}),a.Qb()}if(2&e){var i=a.fc().$implicit,o=a.fc(3);a.mc("items",o.searchResults)("readonly",i.boolean)}}function d(e,t){if(1&e){var n=a.Sb();a.Rb(0,"ng-select",23,22),a.bc("change",function(){a.zc(n);var e=a.vc(1),t=a.fc(3).index;return a.fc().onChangeSeeAlso(e,t)})("focus",function(){return a.zc(n),a.fc(4).deleteData()})("keyup",function(e){return a.zc(n),a.fc(4).triggerSeeAlso(e)}),a.Qb()}if(2&e){var i=a.fc().$implicit,o=a.fc(3);a.mc("items",o.searchResults)("readonly",i.boolean)}}function h(e,t){if(1&e){var n=a.Sb();a.Rb(0,"input",24),a.bc("keyup",function(e){a.zc(n);var t=a.fc(3).index;return a.fc().triggerSeeAlsoInput(e,t)}),a.Qb()}}function p(e,t){if(1&e){var n=a.Sb();a.Rb(0,"div",25),a.Rb(1,"div",26),a.Rb(2,"input",27),a.bc("change",function(){a.zc(n);var e=a.fc(2).$implicit,t=a.fc().$implicit;return e.switch=!e.switch,t.get("link_type").value=e.switch?"external":"internal"}),a.Qb(),a.Mb(3,"label",28),a.Qb(),a.Rb(4,"div",29),a.Rb(5,"button",30),a.bc("click",function(){a.zc(n);var e=a.fc(3).index;return a.fc().removeElement(e)}),a.Mb(6,"i",31),a.Qb(),a.Qb(),a.Qb()}if(2&e){var i=a.fc(2).$implicit;a.yb(2),a.mc("checked",i.switch)}}function b(e,t){if(1&e&&(a.Rb(0,"div",16),a.Ic(1,f,2,2,"ng-select",17),a.Ic(2,d,2,2,"ng-select",18),a.Ic(3,h,1,0,"input",19),a.Ic(4,p,7,1,"div",20),a.Qb()),2&e){var n=t.$implicit,i=a.fc().$implicit,o=a.fc(2);a.yb(1),a.mc("ngIf",!i.switch&&!o.isSense),a.yb(1),a.mc("ngIf",!i.switch&&o.isSense),a.yb(1),a.mc("ngIf",i.switch),a.yb(1),a.mc("ngIf",!n.boolean)}}var g=function(e){return{boolean:e}};function m(e,t){if(1&e&&(a.Rb(0,"div",14),a.Ic(1,b,5,4,"div",15),a.Qb()),2&e){var n=a.fc().$implicit;a.yb(1),a.mc("ngIf",a.qc(1,g,n.get("inferred").value))}}var v=function(e){return{switch:e}};function y(e,t){if(1&e&&(a.Rb(0,"div"),a.Rb(1,"div",11),a.Rb(2,"div",12),a.Ic(3,m,2,3,"div",13),a.Qb(),a.Qb(),a.Qb()),2&e){var n=t.$implicit,i=t.index;a.yb(1),a.mc("formGroupName",i),a.yb(2),a.mc("ngIf",a.qc(2,v,"internal"!=n.get("link_type").value))}}var _=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.formBuilder=t,this.lexicalService=n,this.toastr=r,this.subject=new o.a,this.subject_input=new o.a,this.peopleLoading=!1,this.memorySeeAlso=[],this.filterLoading=!1,this.seeAlsoForm=new i.h({seeAlsoArray:new i.c([this.createSeeAlsoEntry()])})}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.seeAlsoForm=this.formBuilder.group({seeAlsoArray:this.formBuilder.array([])}),this.onChanges(),this.subject.pipe(Object(r.a)(1e3)).subscribe(function(t){console.log(t),e.onSearchFilter(t)}),this.subject_input.pipe(Object(r.a)(1e3)).subscribe(function(t){e.onChangeSeeAlsoByInput(t.value,t.i)}),this.triggerTooltip()}},{key:"triggerTooltip",value:function(){setTimeout(function(){$(".see-also-tooltip").tooltip({trigger:"hover"})},500)}},{key:"ngOnChanges",value:function(e){var t=this;setTimeout(function(){null!=e.seeAlsoData.currentValue?(t.object=e.seeAlsoData.currentValue,t.seeAlsoArray=t.seeAlsoForm.get("seeAlsoArray"),t.seeAlsoArray.clear(),t.memorySeeAlso=[],t.object.array.forEach(function(e){""!=e.label?(t.addSeeAlsoEntry(e.label,e.inferred,e.lexicalEntityInstanceName,e.linkType),t.memorySeeAlso.push(e.lexicalEntityInstanceName)):(t.addSeeAlsoEntry(e.lexicalEntity,e.inferred,e.lexicalEntityInstanceName,e.linkType),t.memorySeeAlso.push(e.lexicalEntity))}),null!=t.object.lexicalEntryInstanceName?(t.isLexEntry=!0,t.isForm=!1,t.isSense=!1):null!=t.object.formInstanceName?(t.isLexEntry=!1,t.isForm=!0,t.isSense=!1):null!=t.object.senseInstanceName&&(t.isLexEntry=!1,t.isForm=!1,t.isSense=!0)):t.object=null},10)}},{key:"onChangeSeeAlsoByInput",value:function(e,t){var n=this;if(""!=e.trim()){var i=e,o="";if(null!=this.object.lexicalEntryInstanceName?o=this.object.lexicalEntryInstanceName:null!=this.object.formInstanceName?o=this.object.formInstanceName:null!=this.object.senseInstanceName?o=this.object.senseInstanceName:null!=this.object.etymologyInstanceName&&(o=this.object.etymologyInstanceName),console.log(this.object),""==this.memorySeeAlso[t]||null==this.memorySeeAlso[t])this.lexicalService.updateGenericRelation(o,{type:"reference",relation:"seeAlso",value:i}).subscribe(function(e){},function(e){console.log(e),"object"!=typeof e.error&&n.toastr.error(e.error,"Error",{timeOut:5e3}),"OK"==e.statusText&&(n.memorySeeAlso.push(i),n.toastr.success("SeeAlso updated","",{timeOut:5e3}))});else{var r={type:"reference",relation:"seeAlso",value:i,currentValue:this.memorySeeAlso[t]};console.log(r),this.lexicalService.updateGenericRelation(o,r).subscribe(function(e){},function(e){console.log(e),200==e.status?(n.memorySeeAlso.push(i),n.toastr.success("SeeAlso updated","",{timeOut:5e3})):n.toastr.error(e.error,"Error",{timeOut:5e3})})}}}},{key:"onChangeSeeAlso",value:function(e,t){var n=this;if(0!=e.selectedItems.length){var i=e.selectedItems[0].value.lexicalEntryInstanceName,o="";if(null!=this.object.lexicalEntryInstanceName?o=this.object.lexicalEntryInstanceName:null!=this.object.formInstanceName?o=this.object.formInstanceName:null!=this.object.senseInstanceName?o=this.object.senseInstanceName:null!=this.object.etymologyInstanceName&&(o=this.object.etymologyInstanceName),null==this.memorySeeAlso[t]){var r={type:"reference",relation:"seeAlso",value:i};console.log(r),this.lexicalService.updateGenericRelation(o,r).subscribe(function(e){console.log(e),n.toastr.success("SeeAlso updated","",{timeOut:5e3}),n.lexicalService.refreshLinkCounter("+1")},function(e){console.log(e),200==e.status?(n.memorySeeAlso[t]=i,n.lexicalService.refreshLinkCounter("+1"),n.toastr.success("SeeAlso updated","",{timeOut:5e3})):n.toastr.error(e.error,"Error",{timeOut:5e3})})}else{var a={type:"reference",relation:"seeAlso",value:i,currentValue:this.memorySeeAlso[t]};console.log(a),this.lexicalService.updateGenericRelation(o,a).subscribe(function(e){console.log(e),n.lexicalService.refreshLinkCounter("+1"),n.toastr.success("SeeAlso updated","",{timeOut:5e3})},function(e){console.log(e),"OK"==e.statusText&&(n.memorySeeAlso[t]=i,n.lexicalService.refreshLinkCounter("+1"),n.toastr.success("SeeAlso updated","",{timeOut:5e3}))})}}}},{key:"deleteData",value:function(){this.searchResults=[]}},{key:"onSearchFilter",value:function(e){var t=this;this.filterLoading=!0,this.searchResults=[],console.log(this.object),null!=this.object.lexicalEntryInstanceName?this.lexicalService.getLexicalEntriesList({text:e,searchMode:"startsWith",type:"",pos:"",formType:"entry",author:"",lang:"",status:"",offset:0,limit:500}).subscribe(function(e){console.log(e),t.searchResults=e.list,t.filterLoading=!1},function(e){t.filterLoading=!1}):null!=this.object.formInstanceName?this.lexicalService.getFormList({text:e,searchMode:"startsWith",representationType:"writtenRep",author:"",offset:0,limit:500}).subscribe(function(e){t.searchResults=e.list,t.filterLoading=!1},function(e){t.filterLoading=!1}):null!=this.object.senseInstanceName||(null!=this.object.etymologyInstanceName?this.lexicalService.getLexicalEntriesList({text:e,searchMode:"startsWith",type:"etymon",pos:"",formType:"entry",author:"",lang:"",status:"",offset:0,limit:500}).subscribe(function(e){console.log(e),t.searchResults=e.list,t.filterLoading=!1},function(e){console.log(e),t.filterLoading=!1}):this.filterLoading=!1)}},{key:"triggerSeeAlsoInput",value:function(e,t){"Control"!=e.key&&"Shift"!=e.key&&"Alt"!=e.key&&this.subject_input.next({value:e.target.value,i:t})}},{key:"triggerSeeAlso",value:function(e){null!=e.target&&this.subject.next(e.target.value)}},{key:"onChanges",value:function(){this.seeAlsoForm.valueChanges.pipe(Object(r.a)(200)).subscribe(function(e){})}},{key:"createSeeAlsoEntry",value:function(e,t,n,i){return this.formBuilder.group(null==e?{entity:null,inferred:!1,lexical_entity:null,link_type:"internal"}:{entity:e,inferred:t,lexical_entity:n,link_type:i})}},{key:"addSeeAlsoEntry",value:function(e,t,n,i){this.seeAlsoArray=this.seeAlsoForm.get("seeAlsoArray"),this.seeAlsoArray.push(null==e?this.createSeeAlsoEntry():this.createSeeAlsoEntry(e,t,n,i)),this.triggerTooltip()}},{key:"removeElement",value:function(e){var t=this;this.seeAlsoArray=this.seeAlsoForm.get("seeAlsoArray");var n=this.seeAlsoArray.at(e).get("lexical_entity").value;if(""!=n&&null!=n||(n=this.seeAlsoArray.at(e).get("entity").value),null!=this.object.lexicalEntryInstanceName)this.lexicalService.deleteLinguisticRelation(this.object.lexicalEntryInstanceName,{relation:"seeAlso",value:n}).subscribe(function(e){t.lexicalService.updateCoreCard(t.object),t.toastr.success("SeeAlso deleted","",{timeOut:5e3}),t.lexicalService.refreshLinkCounter("-11")},function(e){console.log(e),t.toastr.error(e.error,"Error",{timeOut:5e3}),t.lexicalService.refreshLinkCounter("-1")});else if(null!=this.object.formInstanceName)this.lexicalService.deleteLinguisticRelation(this.object.formInstanceName,{relation:"seeAlso",value:n}).subscribe(function(e){t.lexicalService.refreshLinkCounter("-1"),t.lexicalService.updateCoreCard(t.object),t.toastr.success("SeeAlso updated","",{timeOut:5e3})},function(e){t.toastr.error(e.error,"Error",{timeOut:5e3})});else if(null!=this.object.senseInstanceName)this.lexicalService.deleteLinguisticRelation(this.object.senseInstanceName,{type:"morphology",relation:"seeAlso",value:n}).subscribe(function(e){t.lexicalService.refreshLinkCounter("-1"),t.lexicalService.updateCoreCard(t.object),t.toastr.success("SeeAlso updated","",{timeOut:5e3})},function(e){console.log(e)});else if(null!=this.object.etymologyInstanceName){var i=this.object.etymologyInstanceName;this.lexicalService.refreshLinkCounter("-1"),this.lexicalService.deleteLinguisticRelation(i,{type:"morphology",relation:"seeAlso",value:n}).subscribe(function(e){t.lexicalService.refreshLinkCounter("-1"),t.lexicalService.updateCoreCard(t.object),t.toastr.success("SeeAlso updated","",{timeOut:5e3})},function(e){console.log(e)})}this.memorySeeAlso.splice(e,1),this.seeAlsoArray.removeAt(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Lb(i.e),a.Lb(s.a),a.Lb(c.b))},e.\u0275cmp=a.Fb({type:e,selectors:[["app-see-also"]],inputs:{seeAlsoData:"seeAlsoData"},features:[a.wb],decls:12,vars:2,consts:[[3,"formGroup"],[1,"form-group","row","mt-3"],[1,"input-group","col-sm-12"],[1,"card"],[1,"text-id"],[1,"pointer",3,"click"],[1,"collapse-icon"],[1,"fa","fa-plus-square"],[1,"card-body"],["formArrayName","seeAlsoArray",1,"mt-3"],[4,"ngFor","ngForOf"],[3,"formGroupName"],[1,"d-flex"],["class","form-group row ml-2  mr-2 w-100",4,"ngIf"],[1,"form-group","row","ml-2","mr-2","w-100"],["class","input-group",4,"ngIf"],[1,"input-group"],["formControlName","entity","name","entity","formControlName","entity","name","entity","bindValue","label","class","resizeNgSelect","bindLabel","label","placeholder","Search entity","appendTo","body",3,"items","readonly","change","focus","keyup",4,"ngIf"],["formControlName","entity","name","entity","formControlName","entity","name","entity","bindValue","definition","class","resizeNgSelect","bindLabel","definition","placeholder","Search entity","appendTo","body",3,"items","readonly","change","focus","keyup",4,"ngIf"],["formControlName","entity","name","entity","type","text","class","form-control ","placeholder","Insert URI",3,"keyup",4,"ngIf"],["class","input-group-append",4,"ngIf"],["formControlName","entity","name","entity","formControlName","entity","name","entity","bindValue","label","bindLabel","label","placeholder","Search entity","appendTo","body",1,"resizeNgSelect",3,"items","readonly","change","focus","keyup"],["seeAlso",""],["formControlName","entity","name","entity","formControlName","entity","name","entity","bindValue","definition","bindLabel","definition","placeholder","Search entity","appendTo","body",1,"resizeNgSelect",3,"items","readonly","change","focus","keyup"],["formControlName","entity","name","entity","type","text","placeholder","Insert URI",1,"form-control",3,"keyup"],[1,"input-group-append"],[1,"input-group-append","ml-2","form-check"],["type","checkbox","data-toggle","tooltip","data-placement","bottom","data-trigger","hover","title","Clicca per inserire un URI manualmente",1,"form-check-input","see-also-tooltip",3,"checked","change"],["for","extCheck",1,"form-check-label"],[1,"input-group-append","ml-2"],["type","button",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash-alt"]],template:function(e,t){1&e&&(a.Rb(0,"form",0),a.Rb(1,"div",1),a.Rb(2,"div",2),a.Rb(3,"div",3),a.Rb(4,"span",4),a.Kc(5,"SEE ALSO"),a.Qb(),a.Rb(6,"a",5),a.bc("click",function(){return t.addSeeAlsoEntry()}),a.Rb(7,"span",6),a.Mb(8,"i",7),a.Qb(),a.Qb(),a.Rb(9,"div",8),a.Rb(10,"div",9),a.Ic(11,y,4,4,"div",10),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Qb()),2&e&&(a.mc("formGroup",t.seeAlsoForm),a.yb(11),a.mc("ngForOf",t.seeAlsoForm.get("seeAlsoArray").controls))},directives:[i.z,i.o,i.i,i.d,l.m,i.j,l.n,u.a,i.n,i.g,i.b],styles:['@charset "UTF-8";.btn[_ngcontent-%COMP%]{height:38px;border-radius:.25rem!important}.btn[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{font-size:12px}.btn[_ngcontent-%COMP%]{height:32px}.btn[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{font-size:12px}.card[_ngcontent-%COMP%]{width:100%}.card-header[_ngcontent-%COMP%]{padding:5px 18px}[data-toggle=collapse][_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"\uf146"}[data-toggle=collapse].collapsed[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"\uf0fe"}a[_ngcontent-%COMP%]{text-decoration:none!important}.fa[_ngcontent-%COMP%]{margin-top:2px}#accordion[_ngcontent-%COMP%]{width:100%}.text-id[_ngcontent-%COMP%]{left:10px;top:-12px;padding:5px 10px;font-size:12px}.collapse-icon[_ngcontent-%COMP%], .text-id[_ngcontent-%COMP%]{position:absolute;background:#fff;text-align:center;color:#212529}.collapse-icon[_ngcontent-%COMP%]{right:4px;top:-16px;padding:5px;font-size:16px}.badge[_ngcontent-%COMP%]{font-size:11px}.pointer[_ngcontent-%COMP%]{cursor:pointer}.resizeNgSelect[_ngcontent-%COMP%]{width:15%}']}),e}()},"tk/3":function(e,t,n){"use strict";n.d(t,"a",function(){return E}),n.d(t,"b",function(){return M}),n.d(t,"c",function(){return V}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return O});var i=n("fXoL"),o=n("LRne"),r=n("HDdC"),a=n("bOdf"),s=n("pLZG"),c=n("lJxs"),l=n("ofXK"),u=function e(){_classCallCheck(this,e)},f=function e(){_classCallCheck(this,e)},d=function(){function e(t){var n=this;_classCallCheck(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach(function(e){var t=e.indexOf(":");if(t>0){var i=e.slice(0,t),o=i.toLowerCase(),r=e.slice(t+1).trim();n.maybeSetNormalizedName(i,o),n.headers.has(o)?n.headers.get(o).push(r):n.headers.set(o,[r])}})}:function(){n.headers=new Map,Object.keys(t).forEach(function(e){var i=t[e],o=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(n.headers.set(o,i),n.maybeSetNormalizedName(e,o))})}:this.headers=new Map}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(e){return t.applyUpdate(e)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach(function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))})}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var i=("a"===e.op?this.headers.get(t):void 0)||[];i.push.apply(i,_toConsumableArray(n)),this.headers.set(t,i);break;case"d":var o=e.value;if(o){var r=this.headers.get(t);if(!r)return;0===(r=r.filter(function(e){return-1===o.indexOf(e)})).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,r)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return e(t.normalizedNames.get(n),t.headers.get(n))})}}]),e}(),h=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"encodeKey",value:function(e){return p(e)}},{key:"encodeValue",value:function(e){return p(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function p(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var b=function(){function e(){var t,n,i,o=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,e),this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new h,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(t=r.fromString,n=this.encoder,i=new Map,t.length>0&&t.split("&").forEach(function(e){var t=e.indexOf("="),o=_slicedToArray(-1==t?[n.decodeKey(e),""]:[n.decodeKey(e.slice(0,t)),n.decodeValue(e.slice(t+1))],2),r=o[0],a=o[1],s=i.get(r)||[];s.push(a),i.set(r,s)}),i)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(function(e){var t=r.fromObject[e];o.map.set(e,Array.isArray(t)?t:[t])})):this.map=null}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map(function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map(function(t){return n+"="+e.encoder.encodeValue(t)}).join("&")}).filter(function(e){return""!==e}).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([t]),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(t){return e.map.set(t,e.cloneFrom.map.get(t))}),this.updates.forEach(function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var i=e.map.get(t.param)||[],o=i.indexOf(t.value);-1!==o&&i.splice(o,1),i.length>0?e.map.set(t.param,i):e.map.delete(t.param)}}),this.cloneFrom=this.updates=null)}}]),e}();function g(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function m(e){return"undefined"!=typeof Blob&&e instanceof Blob}function v(e){return"undefined"!=typeof FormData&&e instanceof FormData}var y=function(){function e(t,n,i,o){var r;if(_classCallCheck(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==i?i:null,r=o):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new d),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new b,this.urlWithParams=n}return _createClass(e,[{key:"serializeBody",value:function(){return null===this.body?null:g(this.body)||m(this.body)||v(this.body)||"string"==typeof this.body?this.body:this.body instanceof b?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||v(this.body)?null:m(this.body)?this.body.type||null:g(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof b?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.method||this.method,i=t.url||this.url,o=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,c=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce(function(e,n){return e.set(n,t.setHeaders[n])},c)),t.setParams&&(l=Object.keys(t.setParams).reduce(function(e,n){return e.set(n,t.setParams[n])},l)),new e(n,i,r,{params:l,headers:c,reportProgress:s,responseType:o,withCredentials:a})}}]),e}(),_=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({}),C=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,e),this.headers=t.headers||new d,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300},k=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,i)).type=_.ResponseHeader,e}return _createClass(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(C),O=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,i)).type=_.Response,e.body=void 0!==i.body?i.body:null,e}return _createClass(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(C),x=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",i.ok=!1,i.message=i.status>=200&&i.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),i.error=e.error||null,i}return n}(C);function w(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var M=function(){var e=function(){function e(t){_classCallCheck(this,e),this.handler=t}return _createClass(e,[{key:"request",value:function(e,t){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof y)n=e;else{var l=void 0;l=r.headers instanceof d?r.headers:new d(r.headers);var u=void 0;r.params&&(u=r.params instanceof b?r.params:new b({fromObject:r.params})),n=new y(e,t,void 0!==r.body?r.body:null,{headers:l,params:u,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}var f=Object(o.a)(n).pipe(Object(a.a)(function(e){return i.handler.handle(e)}));if(e instanceof y||"events"===r.observe)return f;var h=f.pipe(Object(s.a)(function(e){return e instanceof O}));switch(r.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return h.pipe(Object(c.a)(function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return h.pipe(Object(c.a)(function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return h.pipe(Object(c.a)(function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return h.pipe(Object(c.a)(function(e){return e.body}))}case"response":return h;default:throw new Error("Unreachable: unhandled observe type ".concat(r.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new b).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,w(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,w(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,w(n,t))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Yb(u))},e.\u0275prov=i.Hb({token:e,factory:e.\u0275fac}),e}(),P=function(){function e(t,n){_classCallCheck(this,e),this.next=t,this.interceptor=n}return _createClass(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),E=new i.q("HTTP_INTERCEPTORS"),S=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Hb({token:e,factory:e.\u0275fac}),e}(),R=/^\)\]\}',?\n/,I=function e(){_classCallCheck(this,e)},A=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Hb({token:e,factory:e.\u0275fac}),e}(),T=function(){var e=function(){function e(t){_classCallCheck(this,e),this.xhrFactory=t}return _createClass(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new r.a(function(n){var i=t.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach(function(e,t){return i.setRequestHeader(e,t.join(","))}),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var o=e.detectContentTypeHeader();null!==o&&i.setRequestHeader("Content-Type",o)}if(e.responseType){var r=e.responseType.toLowerCase();i.responseType="json"!==r?r:"text"}var a=e.serializeBody(),s=null,c=function(){if(null!==s)return s;var t=1223===i.status?204:i.status,n=i.statusText||"OK",o=new d(i.getAllResponseHeaders()),r=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||e.url;return s=new k({headers:o,status:t,statusText:n,url:r})},l=function(){var t=c(),o=t.headers,r=t.status,a=t.statusText,s=t.url,l=null;204!==r&&(l=void 0===i.response?i.responseText:i.response),0===r&&(r=l?200:0);var u=r>=200&&r<300;if("json"===e.responseType&&"string"==typeof l){var f=l;l=l.replace(R,"");try{l=""!==l?JSON.parse(l):null}catch(d){l=f,u&&(u=!1,l={error:d,text:l})}}u?(n.next(new O({body:l,headers:o,status:r,statusText:a,url:s||void 0})),n.complete()):n.error(new x({error:l,headers:o,status:r,statusText:a,url:s||void 0}))},u=function(e){var t=c().url,o=new x({error:e,status:i.status||0,statusText:i.statusText||"Unknown Error",url:t||void 0});n.error(o)},f=!1,h=function(t){f||(n.next(c()),f=!0);var o={type:_.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(o.total=t.total),"text"===e.responseType&&i.responseText&&(o.partialText=i.responseText),n.next(o)},p=function(e){var t={type:_.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return i.addEventListener("load",l),i.addEventListener("error",u),e.reportProgress&&(i.addEventListener("progress",h),null!==a&&i.upload&&i.upload.addEventListener("progress",p)),i.send(a),n.next({type:_.Sent}),function(){i.removeEventListener("error",u),i.removeEventListener("load",l),e.reportProgress&&(i.removeEventListener("progress",h),null!==a&&i.upload&&i.upload.removeEventListener("progress",p)),i.readyState!==i.DONE&&i.abort()}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Yb(I))},e.\u0275prov=i.Hb({token:e,factory:e.\u0275fac}),e}(),D=new i.q("XSRF_COOKIE_NAME"),j=new i.q("XSRF_HEADER_NAME"),F=function e(){_classCallCheck(this,e)},Q=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this.doc=t,this.platform=n,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(l.F)(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Yb(l.c),i.Yb(i.B),i.Yb(D))},e.\u0275prov=i.Hb({token:e,factory:e.\u0275fac}),e}(),L=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.tokenService=t,this.headerName=n}return _createClass(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var i=this.tokenService.getToken();return null===i||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,i)})),t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Yb(F),i.Yb(j))},e.\u0275prov=i.Hb({token:e,factory:e.\u0275fac}),e}(),N=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.backend=t,this.injector=n,this.chain=null}return _createClass(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(E,[]);this.chain=t.reduceRight(function(e,t){return new P(e,t)},this.backend)}return this.chain.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Yb(f),i.Yb(i.r))},e.\u0275prov=i.Hb({token:e,factory:e.\u0275fac}),e}(),z=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:L,useClass:S}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:D,useValue:t.cookieName}:[],t.headerName?{provide:j,useValue:t.headerName}:[]]}}}]),e}();return e.\u0275mod=i.Jb({type:e}),e.\u0275inj=i.Ib({factory:function(t){return new(t||e)},providers:[L,{provide:E,useExisting:L,multi:!0},{provide:F,useClass:Q},{provide:D,useValue:"XSRF-TOKEN"},{provide:j,useValue:"X-XSRF-TOKEN"}]}),e}(),V=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=i.Jb({type:e}),e.\u0275inj=i.Ib({factory:function(t){return new(t||e)},providers:[M,{provide:u,useClass:N},T,{provide:f,useExisting:T},A,{provide:I,useExisting:A}],imports:[[z.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e}()},vkgz:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("7o/Q"),o=n("KqfI"),r=n("n6bG");function a(e,t,n){return function(i){return i.lift(new s(e,t,n))}}var s=function(){function e(t,n,i){_classCallCheck(this,e),this.nextOrObserver=t,this.error=n,this.complete=i}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new c(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,s){var c;return _classCallCheck(this,n),(c=t.call(this,e))._tapNext=o.a,c._tapError=o.a,c._tapComplete=o.a,c._tapError=a||o.a,c._tapComplete=s||o.a,Object(r.a)(i)?(c._context=_assertThisInitialized(c),c._tapNext=i):i&&(c._context=i,c._tapNext=i.next||o.a,c._tapError=i.error||o.a,c._tapComplete=i.complete||o.a),c}return _createClass(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(i.a)},w1tV:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var i=n("XNiG"),o=n("HDdC"),r=n("7o/Q"),a=n("quSY");function s(){return function(e){return e.lift(new l(e))}}var c,l=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var i=new u(e,n),o=t.subscribe(i);return i.closed||(i.connection=n.connect()),o}}]),e}(),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).connectable=i,o}return _createClass(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,i=e._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null}}]),n}(r.a),f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this)).source=e,o.subjectFactory=i,o._refCount=0,o._isComplete=!1,o}return _createClass(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new a.a).add(this.source.subscribe(new h(this.getSubject(),this))),e.closed&&(this._connection=null,e=a.a.EMPTY)),e}},{key:"refCount",value:function(){return s()(this)}}]),n}(o.a),d={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(c=f.prototype)._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}},h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).connectable=i,o}return _createClass(n,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(i.b);function p(){return new i.a}function b(){return function(e){return s()((t=p,function(e){var n;n="function"==typeof t?t:function(){return t};var i=Object.create(e,d);return i.source=e,i.subjectFactory=n,i})(e));var t}}},x8j5:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("fXoL"),o=n("tk/3"),r=function(){var e=function(){function e(t){_classCallCheck(this,e),this.http=t,this.baseUrl_document="/LexO-backend-itant/service/fedex/search",this.endpoint="https://lila-erc.eu/sparql/lila_knowledge_base/sparql"}return _createClass(e,[{key:"queryCognate",value:function(e){return this.http.post(this.baseUrl_document+"?sparqlQuery="+encodeURIComponent("prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>  prefix ontolex: <http://www.w3.org/ns/lemon/ontolex#>  prefix lila: <http://lila-erc.eu/ontologies/lila/>  SELECT ?lemma ?pos  WHERE {  ?lemma a lila:Lemma ;  ontolex:writtenRep '"+e+"';  lila:hasPOS ?pos  }")+"&endpoint="+this.endpoint,null)}},{key:"queryEtymon",value:function(e){return this.http.post(this.baseUrl_document+"?sparqlQuery="+encodeURIComponent('\n    PREFIX lime: <http://www.w3.org/ns/lemon/lime#>\n    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n    PREFIX lemonEty: <http://lari-datasets.ilc.cnr.it/lemonEty#>\n    PREFIX igvll: <http://lila-erc.eu/data/lexicalResources/IGVLL/>\n    SELECT  ?etymon ?language ?label ?comment WHERE\n    { ?etymon a lemonEty:Etymon ;\n      rdfs:label ?label ;\n      rdfs:comment ?comment ;\n      lime:language ?language .\n    FILTER regex(?label, "^\\\\*'+e+'", "i")}')+"&endpoint="+this.endpoint,null)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Yb(o.b))},e.\u0275prov=i.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},xDdU:function(e,t,n){var i,o,r=n("4fRq"),a=n("I2ZF"),s=0,c=0;e.exports=function(e,t,n){var l=t&&n||0,u=t||[],f=(e=e||{}).node||i,d=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==d){var h=r();null==f&&(f=i=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=o=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),b=void 0!==e.nsecs?e.nsecs:c+1,g=p-s+(b-c)/1e4;if(g<0&&void 0===e.clockseq&&(d=d+1&16383),(g<0||p>s)&&void 0===e.nsecs&&(b=0),b>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,c=b,o=d;var m=(1e4*(268435455&(p+=122192928e5))+b)%4294967296;u[l++]=m>>>24&255,u[l++]=m>>>16&255,u[l++]=m>>>8&255,u[l++]=255&m;var v=p/4294967296*1e4&268435455;u[l++]=v>>>8&255,u[l++]=255&v,u[l++]=v>>>24&15|16,u[l++]=v>>>16&255,u[l++]=d>>>8|128,u[l++]=255&d;for(var y=0;y<6;++y)u[l+y]=f[y];return t||a(u)}},xgIS:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("HDdC"),o=n("DH7j"),r=n("n6bG"),a=n("lJxs");function s(e,t,n,l){return Object(r.a)(n)&&(l=n,n=void 0),l?s(e,t,n).pipe(Object(a.a)(function(e){return Object(o.a)(e)?l.apply(void 0,_toConsumableArray(e)):l(e)})):new i.a(function(i){c(e,t,function(e){i.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},i,n)})}function c(e,t,n,i,o){var r;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var a=e;e.addEventListener(t,n,o),r=function(){return a.removeEventListener(t,n,o)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var s=e;e.on(t,n),r=function(){return s.off(t,n)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){var l=e;e.addListener(t,n),r=function(){return l.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var u=0,f=e.length;u<f;u++)c(e[u],t,n,i,o)}i.add(r)}},xk4V:function(e,t,n){var i=n("4fRq"),o=n("I2ZF");e.exports=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[r+s]=a[s];return t||o(a)}},xutz:function(e,t,n){"use strict";(function(e){var i=n("XqMk"),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,r=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=r&&r.exports===o&&i.a.process,s=function(){try{return r&&r.require&&r.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();t.a=s}).call(this,n("3UD+")(e))},yCtX:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("HDdC"),o=n("ngJS"),r=n("jZKg");function a(e,t){return t?Object(r.a)(e,t):new i.a(Object(o.a)(e))}},"z+Ro":function(e,t,n){"use strict";function i(e){return e&&"function"==typeof e.schedule}n.d(t,"a",function(){return i})},zUnb:function(e,t,n){"use strict";n.r(t);var i=n("fXoL"),o=n("AytR"),r=n("jhN1"),a=n("ofXK"),s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function c(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var l=function(){return(l=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function f(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}var d=[];Object.freeze(d);var h={};Object.freeze(h);var p={};function b(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:p}function g(){return++De.mobxGuid}function m(e){throw v(!1,e),"X"}function v(e,t){if(!e)throw new Error("[mobx] "+(t||"An invariant failed, however the error is obfuscated because this is an production build."))}function y(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var _=function(){};function C(e){return null!==e&&"object"==typeof e}function k(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function O(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function x(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function w(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return C(e)&&!0===e[n]}}function M(e){return void 0!==b().Map&&e instanceof b().Map}function P(e){return e instanceof Set}function E(e){for(var t=[];;){var n=e.next();if(n.done)break;t.push(n.value)}return t}function S(){return"function"==typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function R(e){return null===e?null:"object"==typeof e?""+e:e}function I(){return"function"==typeof Symbol&&Symbol.iterator||"@@iterator"}function A(e,t){x(e,I(),t)}function T(e){return e[I()]=j,e}function D(){return"function"==typeof Symbol&&Symbol.toStringTag||"@@toStringTag"}function j(){return this}var F=function(){function e(e){void 0===e&&(e="Atom@"+g()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=le.NOT_TRACKING}return e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.reportObserved=function(){return ze(this)},e.prototype.reportChanged=function(){Le(),function(e){if(e.lowestObserverState!==le.STALE){e.lowestObserverState=le.STALE;for(var t=e.observers,n=t.length;n--;){var i=t[n];i.dependenciesState===le.UP_TO_DATE&&(i.isTracing!==ue.NONE&&Ve(i,e),i.onBecomeStale()),i.dependenciesState=le.STALE}}}(this),Ne()},e.prototype.toString=function(){return this.name},e}(),Q=w("Atom",F);function L(e,t){return e===t}var N={identity:L,structural:function(e,t){return Zt(e,t)},default:function(e,t){return function(e,t){return"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}(e,t)||L(e,t)},shallow:function(e,t){return Zt(e,t,1)}},z={},V={};function B(e,t){var n=t?z:V;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return U(this),this[e]},set:function(t){U(this),this[e]=t}})}function U(e){if(!0!==e.__mobxDidRunLazyInitializers){var t=e.__mobxDecorators;if(t)for(var n in O(e,"__mobxDidRunLazyInitializers",!0),t){var i=t[n];i.propertyCreator(e,i.prop,i.descriptor,i.decoratorTarget,i.decoratorArguments)}}}function H(e,t){return function(){var n,i=function(i,o,r,a){return!0===a?(t(i,o,r,i,n),null):(Object.prototype.hasOwnProperty.call(i,"__mobxDecorators")||O(i,"__mobxDecorators",l({},i.__mobxDecorators)),i.__mobxDecorators[o]={prop:o,propertyCreator:t,descriptor:r,decoratorTarget:i,decoratorArguments:n},B(o,e))};return K(arguments)?(n=d,i.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),i)}}function K(e){return(2===e.length||3===e.length)&&"string"==typeof e[1]||4===e.length&&!0===e[3]}function q(e,t,n){return ft(e)?e:Array.isArray(e)?oe.array(e,{name:n}):k(e)?oe.object(e,void 0,{name:n}):M(e)?oe.map(e,{name:n}):P(e)?oe.set(e,{name:n}):e}function W(e){return e}function G(e){var t=H(!0,function(t,n,i,o,r){!function(e,t,n,i){var o=Ut(e);if(pt(o)){var r=gt(o,{object:e,name:t,type:"add",newValue:n});if(!r)return;n=r.newValue}n=(o.values[t]=new Se(n,i,o.name+"."+t,!1)).value,Object.defineProperty(e,t,function(e){return Ht[e]||(Ht[e]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,e)},set:function(t){this.$mobx.write(this,e,t)}})}(t)),o.keys&&o.keys.push(t),function(e,t,n,i){var o=mt(e),r=qe(),a=o||r?{type:"add",object:t,name:n,newValue:i}:null;r&&We(l({},a,{name:e.name,key:n})),o&&yt(e,a),r&&Ye()}(o,e,t,n)}(t,n,i?i.initializer?i.initializer.call(t):i.value:void 0,e)}),n=("undefined"!=typeof process&&process,t);return n.enhancer=e,n}var Y={deep:!0,name:void 0,defaultDecorator:void 0};function X(e){return null==e?Y:"string"==typeof e?{name:e,deep:!0}:e}function Z(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?W:q}Object.freeze(Y),Object.freeze({deep:!1,name:void 0,defaultDecorator:void 0});var J=G(q),ee=G(function(e,t,n){return null==e||Wt(e)||Dt(e)||Lt(e)||Vt(e)?e:Array.isArray(e)?oe.array(e,{name:n,deep:!1}):k(e)?oe.object(e,void 0,{name:n,deep:!1}):M(e)?oe.map(e,{name:n,deep:!1}):P(e)?oe.set(e,{name:n,deep:!1}):m(!1)}),te=G(W),ne=G(function(e,t,n){return Zt(e,t)?t:e}),ie={box:function(e,t){arguments.length>2&&re("box");var n=X(t);return new Se(e,Z(n),n.name,!0,n.equals)},shallowBox:function(e,t){return arguments.length>2&&re("shallowBox"),oe.box(e,{name:t,deep:!1})},array:function(e,t){arguments.length>2&&re("array");var n=X(t);return new Et(e,Z(n),n.name)},shallowArray:function(e,t){return arguments.length>2&&re("shallowArray"),oe.array(e,{name:t,deep:!1})},map:function(e,t){arguments.length>2&&re("map");var n=X(t);return new Ft(e,Z(n),n.name)},shallowMap:function(e,t){return arguments.length>2&&re("shallowMap"),oe.map(e,{name:t,deep:!1})},set:function(e,t){arguments.length>2&&re("set");var n=X(t);return new zt(e,Z(n),n.name)},object:function(e,t,n){"string"==typeof arguments[1]&&re("object");var i=X(n);return ct({},e,t,i)},shallowObject:function(e,t){return"string"==typeof arguments[1]&&re("shallowObject"),oe.object(e,{},{name:t,deep:!1})},ref:te,shallow:ee,deep:J,struct:ne},oe=function e(t,n,i){if("string"==typeof arguments[1])return J.apply(null,arguments);if(ft(t))return t;var o=k(t)?e.object(t,n,i):Array.isArray(t)?e.array(t,n):M(t)?e.map(t,n):P(t)?e.set(t,n):t;if(o!==t)return o;m(!1)};function re(e){m("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(ie).forEach(function(e){return oe[e]=ie[e]});var ae=H(!1,function(e,t,n,i,o){var r,a,s,c;r=e,a=t,s=l({get:n.get,set:n.set},o[0]||{}),c=Ut(r),s.name=c.name+"."+a,s.context=r,c.values[a]=new Re(s),Object.defineProperty(r,a,function(e){return Kt[e]||(Kt[e]={configurable:De.computedConfigurable,enumerable:!1,get:function(){return qt(this).read(this,e)},set:function(t){qt(this).write(this,e,t)}})}(a))}),se=ae({equals:N.structural}),ce=function(e,t,n){if("string"==typeof t)return ae.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return ae.apply(null,arguments);var i="object"==typeof t?t:{};return i.get=e,i.set="function"==typeof t?t:i.set,i.name=i.name||e.name||"",new Re(i)};ce.struct=se;var le=function(e){return e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE",e}({}),ue=function(e){return e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK",e}({}),fe=function(e){this.cause=e};function de(e){return e instanceof fe}function he(e){switch(e.dependenciesState){case le.UP_TO_DATE:return!1;case le.NOT_TRACKING:case le.STALE:return!0;case le.POSSIBLY_STALE:for(var t=ve(),n=e.observing,i=n.length,o=0;o<i;o++){var r=n[o];if(Ie(r)){if(De.disableErrorBoundaries)r.get();else try{r.get()}catch(a){return ye(t),!0}if(e.dependenciesState===le.STALE)return ye(t),!0}}return ke(e),ye(t),!1}}function pe(e){var t=e.observers.length>0;De.computationDepth>0&&t&&m(!1),De.allowStateChanges||!t&&"strict"!==De.enforceActions||m(!1)}function be(e,t,n){var i=_e(!0);ke(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++De.runId;var o,r=De.trackingDerivation;if(De.trackingDerivation=e,!0===De.disableErrorBoundaries)o=t.call(n);else try{o=t.call(n)}catch(a){o=new fe(a)}return De.trackingDerivation=r,function(e){for(var t=e.observing,n=e.observing=e.newObserving,i=le.UP_TO_DATE,o=0,r=e.unboundDepsCount,a=0;a<r;a++)0===(s=n[a]).diffValue&&(s.diffValue=1,o!==a&&(n[o]=s),o++),s.dependenciesState>i&&(i=s.dependenciesState);for(n.length=o,e.newObserving=null,r=t.length;r--;)0===(s=t[r]).diffValue&&Fe(s,e),s.diffValue=0;for(;o--;){var s;1===(s=n[o]).diffValue&&(s.diffValue=0,je(s,e))}i!==le.UP_TO_DATE&&(e.dependenciesState=i,e.onBecomeStale())}(e),Ce(i),o}function ge(e){var t=e.observing;e.observing=[];for(var n=t.length;n--;)Fe(t[n],e);e.dependenciesState=le.NOT_TRACKING}function me(e){var t=ve(),n=e();return ye(t),n}function ve(){var e=De.trackingDerivation;return De.trackingDerivation=null,e}function ye(e){De.trackingDerivation=e}function _e(e){var t=De.allowStateReads;return De.allowStateReads=e,t}function Ce(e){De.allowStateReads=e}function ke(e){if(e.dependenciesState!==le.UP_TO_DATE){e.dependenciesState=le.UP_TO_DATE;for(var t=e.observing,n=t.length;n--;)t[n].lowestObserverState=le.UP_TO_DATE}}var Oe=0,xe=1;function we(e,t){var n=function(){return Me(e,t,this,arguments)};return n.isMobxAction=!0,n}function Me(e,t,n,i){var o=function(e,t,n){var i=qe()&&!!e,o=0;if(i){o=Date.now();var r=n&&n.length||0,a=new Array(r);if(r>0)for(var s=0;s<r;s++)a[s]=n[s];We({type:"action",name:e,object:t,arguments:a})}var c=ve();Le();var l={prevDerivation:c,prevAllowStateChanges:Pe(!0),prevAllowStateReads:_e(!0),notifySpy:i,startTime:o,actionId:xe++,parentActionId:Oe};return Oe=l.actionId,l}(e,n,i);try{return t.apply(n,i)}catch(r){throw o.error=r,r}finally{!function(e){Oe!==e.actionId&&m("invalid action stack. did you forget to finish an action?"),Oe=e.parentActionId,void 0!==e.error&&(De.suppressReactionErrors=!0),Ee(e.prevAllowStateChanges),Ce(e.prevAllowStateReads),Ne(),ye(e.prevDerivation),e.notifySpy&&Ye({time:Date.now()-e.startTime}),De.suppressReactionErrors=!1}(o)}}function Pe(e){var t=De.allowStateChanges;return De.allowStateChanges=e,t}function Ee(e){De.allowStateChanges=e}var Se=function(e){function t(t,n,i,o,r){void 0===i&&(i="ObservableValue@"+g()),void 0===o&&(o=!0),void 0===r&&(r=N.default);var a=e.call(this,i)||this;return a.enhancer=n,a.name=i,a.equals=r,a.hasUnreportedChange=!1,a.value=n(t,void 0,i),o&&qe()&&$e({type:"create",name:a.name,newValue:""+a.value}),a}return c(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){var t=this.value;if((e=this.prepareNewValue(e))!==De.UNCHANGED){var n=qe();n&&We({type:"update",name:this.name,newValue:e,oldValue:t}),this.setNewValue(e),n&&Ye()}},t.prototype.prepareNewValue=function(e){if(pe(this),pt(this)){var t=gt(this,{object:this,type:"update",newValue:e});if(!t)return De.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?De.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),mt(this)&&yt(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return bt(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),vt(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return R(this.get())},t}(F);Se.prototype[S()]=Se.prototype.valueOf,w("ObservableValue",Se);var Re=function(){function e(e){this.dependenciesState=le.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=le.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+g(),this.value=new fe(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=ue.NONE,this.derivation=e.get,this.name=e.name||"ComputedValue@"+g(),e.set&&(this.setter=we(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?N.structural:N.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){if(e.lowestObserverState===le.UP_TO_DATE){e.lowestObserverState=le.POSSIBLY_STALE;for(var t=e.observers,n=t.length;n--;){var i=t[n];i.dependenciesState===le.UP_TO_DATE&&(i.dependenciesState=le.POSSIBLY_STALE,i.isTracing!==ue.NONE&&Ve(i,e),i.onBecomeStale())}}}(this)},e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.get=function(){this.isComputing&&m("Cycle detected in computation "+this.name+": "+this.derivation),0!==De.inBatch||0!==this.observers.length||this.keepAlive?(ze(this),he(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState!==le.STALE){e.lowestObserverState=le.STALE;for(var t=e.observers,n=t.length;n--;){var i=t[n];i.dependenciesState===le.POSSIBLY_STALE?i.dependenciesState=le.STALE:i.dependenciesState===le.UP_TO_DATE&&(e.lowestObserverState=le.UP_TO_DATE)}}}(this)):he(this)&&(this.warnAboutUntrackedRead(),Le(),this.value=this.computeValue(!1),Ne());var e=this.value;if(de(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(de(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){v(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else v(!1,!1)},e.prototype.trackAndCompute=function(){qe()&&$e({object:this.scope,type:"compute",name:this.name});var e=this.value,t=this.dependenciesState===le.NOT_TRACKING,n=this.computeValue(!0),i=t||de(e)||de(n)||!this.equals(e,n);return i&&(this.value=n),i},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,De.computationDepth++,e)t=be(this,this.derivation,this.scope);else if(!0===De.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(n){t=new fe(n)}return De.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(ge(this),this.value=void 0)},e.prototype.observe=function(e,t){var n=this,i=!0,o=void 0;return nt(function(){var r=n.get();if(!i||t){var a=ve();e({type:"update",object:n,newValue:r,oldValue:o}),ye(a)}i=!1,o=r})},e.prototype.warnAboutUntrackedRead=function(){},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return R(this.get())},e}();Re.prototype[S()]=Re.prototype.valueOf;var Ie=w("ComputedValue",Re),Ae=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Te=!0,De=function(){var e=b();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Te=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Ae).version&&(Te=!1),Te?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Ae):(setTimeout(function(){m("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new Ae)}();function je(e,t){var n=e.observers.length;n&&(e.observersIndexes[t.__mapid]=n),e.observers[n]=t,e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function Fe(e,t){if(1===e.observers.length)e.observers.length=0,Qe(e);else{var n=e.observers,i=e.observersIndexes,o=n.pop();if(o!==t){var r=i[t.__mapid]||0;r?i[o.__mapid]=r:delete i[o.__mapid],n[r]=o}delete i[t.__mapid]}}function Qe(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,De.pendingUnobservations.push(e))}function Le(){De.inBatch++}function Ne(){if(0==--De.inBatch){He();for(var e=De.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.length&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof Re&&n.suspend())}De.pendingUnobservations=[]}}function ze(e){var t=De.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.length&&De.inBatch>0&&Qe(e),!1)}function Ve(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===ue.BREAK){var n=[];Be(lt(Gt(e,void 0)),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof Re?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}function Be(e,t,n){t.length>=1e3?t.push("(and many more)"):(t.push(""+new Array(n).join("\t")+e.name),e.dependencies&&e.dependencies.forEach(function(e){return Be(e,t,n+1)}))}var Ue=function(){function e(e,t,n,i){void 0===e&&(e="Reaction@"+g()),void 0===i&&(i=!1),this.name=e,this.onInvalidate=t,this.errorHandler=n,this.requiresObservable=i,this.observing=[],this.newObserving=[],this.dependenciesState=le.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+g(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=ue.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,De.pendingReactions.push(this),He())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(Le(),this._isScheduled=!1,he(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&qe()&&$e({name:this.name,type:"scheduled-reaction"})}catch(e){this.reportExceptionInDerivation(e)}}Ne()}},e.prototype.track=function(e){Le();var t,n=qe();n&&(t=Date.now(),We({name:this.name,type:"reaction"})),this._isRunning=!0;var i=be(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ge(this),de(i)&&this.reportExceptionInDerivation(i.cause),n&&Ye({time:Date.now()-t}),Ne()},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(De.disableErrorBoundaries)throw e;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";De.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,e),qe()&&$e({type:"error",name:this.name,message:n,error:""+e}),De.globalReactionErrorHandlers.forEach(function(n){return n(e,t)})}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Le(),ge(this),Ne()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e.$mobx=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"==typeof e[e.length-1]&&(n=e.pop());var i=dt(e);if(!i)return m(!1);i.isTracing===ue.NONE&&console.log("[mobx.trace] '"+i.name+"' tracing enabled"),i.isTracing=n?ue.BREAK:ue.LOG}(this,e)},e}();function He(){De.inBatch>0||De.isRunningReactions||function(){De.isRunningReactions=!0;for(var e=De.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),i=0,o=n.length;i<o;i++)n[i].runReaction()}De.isRunningReactions=!1}()}var Ke=w("Reaction",Ue);function qe(){return!!De.spyListeners.length}function $e(e){if(De.spyListeners.length)for(var t=De.spyListeners,n=0,i=t.length;n<i;n++)t[n](e)}function We(e){$e(l({},e,{spyReportStart:!0}))}var Ge={spyReportEnd:!0};function Ye(e){$e(e?l({},e,{spyReportEnd:!0}):Ge)}function Xe(){m(!1)}function Ze(e){return function(t,n,i){if(i){if(i.value)return{value:we(e,i.value),enumerable:!1,configurable:!0,writable:!0};var o=i.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return we(e,o.call(this))}}}return Je(e).apply(this,arguments)}}function Je(e){return function(t,n,i){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){O(this,n,et(e,t))}})}}var et=function(e,t,n,i){return 1===arguments.length&&"function"==typeof e?we(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?we(e,t):1===arguments.length&&"string"==typeof e?Ze(e):!0!==i?Ze(t).apply(null,arguments):void(e[t]=we(e.name||t,n.value))};function tt(e,t,n){O(e,t,we(t,n.bind(e)))}function nt(e,t){void 0===t&&(t=h);var n,i=t&&t.name||e.name||"Autorun@"+g();if(t.scheduler||t.delay){var o=ot(t),r=!1;n=new Ue(i,function(){r||(r=!0,o(function(){r=!1,n.isDisposed||n.track(a)}))},t.onError,t.requiresObservable)}else n=new Ue(i,function(){this.track(a)},t.onError,t.requiresObservable);function a(){e(n)}return n.schedule(),n.getDisposer()}et.bound=function(e,t,n,i){return!0===i?(tt(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return tt(this,t,n.value||n.initializer.call(this)),this[t]},set:Xe}:{enumerable:!1,configurable:!0,set:function(e){tt(this,t,e)},get:function(){}}};var it=function(e){return e()};function ot(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:it}function rt(e,t,n){void 0===n&&(n=h),"boolean"==typeof n&&(n={fireImmediately:n});var i,o,r,a=n.name||"Reaction@"+g(),s=et(a,n.onError?(i=n.onError,o=t,function(){try{return o.apply(this,arguments)}catch(e){i.call(this,e)}}):t),c=!n.scheduler&&!n.delay,l=ot(n),u=!0,f=!1,d=n.compareStructural?N.structural:n.equals||N.default,p=new Ue(a,function(){u||c?b():f||(f=!0,l(b))},n.onError,n.requiresObservable);function b(){if(f=!1,!p.isDisposed){var t=!1;p.track(function(){var n=e(p);t=u||!d(r,n),r=n}),u&&n.fireImmediately&&s(r,p),u||!0!==t||s(r,p),u&&(u=!1)}}return p.schedule(),p.getDisposer()}function at(e,t,n){return st("onBecomeUnobserved",e,t,n)}function st(e,t,n,i){var o="function"==typeof i?Gt(t,n):Gt(t),r="function"==typeof i?i:n,a=o[e];return"function"!=typeof a?m(!1):(o[e]=function(){a.call(this),r.call(this)},function(){o[e]=a})}function ct(e,t,n,i){var o=(i=X(i)).defaultDecorator||(!1===i.deep?te:J);U(e),Ut(e,i.name,o.enhancer),Le();try{for(var r in t){var a=Object.getOwnPropertyDescriptor(t,r),s=(n&&r in n?n[r]:a.get?ae:o)(e,r,a,!0);s&&Object.defineProperty(e,r,s)}}finally{Ne()}return e}function lt(e){var t,n,i={name:e.name};return e.observing&&e.observing.length>0&&(i.dependencies=(t=e.observing,n=[],t.forEach(function(e){-1===n.indexOf(e)&&n.push(e)}),n).map(lt)),i}function ut(e,t){if(null==e)return!1;if(void 0!==t){if(Wt(e)){var n=e.$mobx;return n.values&&!!n.values[t]}return!1}return Wt(e)||!!e.$mobx||Q(e)||Ke(e)||Ie(e)}function ft(e){return 1!==arguments.length&&m(!1),ut(e)}function dt(e){switch(e.length){case 0:return De.trackingDerivation;case 1:return Gt(e[0]);case 2:return Gt(e[0],e[1])}}function ht(e,t){void 0===t&&(t=void 0),Le();try{return e.apply(t)}finally{Ne()}}function pt(e){return void 0!==e.interceptors&&e.interceptors.length>0}function bt(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),y(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function gt(e,t){var n=ve();try{var i=e.interceptors;if(i)for(var o=0,r=i.length;o<r&&(v(!(t=i[o](t))||t.type,"Intercept handlers should return nothing or a change object"),t);o++);return t}finally{ye(n)}}function mt(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function vt(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),y(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function yt(e,t){var n=ve(),i=e.changeListeners;if(i){for(var o=0,r=(i=i.slice()).length;o<r;o++)i[o](t);ye(n)}}var _t,Ct,kt,Ot,xt=(_t=!1,Ct={},Object.defineProperty(Ct,"0",{set:function(){_t=!0}}),Object.create(Ct)[0]=1,!1===_t),wt=0,Mt=function(){};kt=Mt,Ot=Array.prototype,void 0!==Object.setPrototypeOf?Object.setPrototypeOf(kt.prototype,Ot):void 0!==kt.prototype.__proto__?kt.prototype.__proto__=Ot:kt.prototype=Ot,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach(function(e){Object.defineProperty(Mt.prototype,e,{configurable:!0,writable:!0,value:Array.prototype[e]})});var Pt=function(){function e(e,t,n,i){this.array=n,this.owned=i,this.values=[],this.lastKnownLength=0,this.atom=new F(e||"ObservableArray@"+g()),this.enhancer=function(n,i){return t(n,i,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return bt(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),vt(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),i=0;i<e-t;i++)n[i]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=t,t>0&&e+t+1>wt&&At(e+t+1)},e.prototype.spliceWithArray=function(e,t,n){var i=this;pe(this.atom);var o=this.values.length;if(void 0===e?e=0:e>o?e=o:e<0&&(e=Math.max(0,o+e)),t=1===arguments.length?o-e:null==t?0:Math.max(0,Math.min(t,o-e)),void 0===n&&(n=d),pt(this)){var r=gt(this,{object:this.array,type:"splice",index:e,removedCount:t,added:n});if(!r)return d;t=r.removedCount,n=r.added}var a=(n=0===n.length?n:n.map(function(e){return i.enhancer(e,void 0)})).length-t;this.updateArrayLength(o,a);var s=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,s),this.dehanceValues(s)},e.prototype.spliceItemsIntoValues=function(e,t,n){var i;if(n.length<1e4)return(i=this.values).splice.apply(i,f([e,t],n));var o=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),o},e.prototype.notifyArrayChildUpdate=function(e,t,n){var i=!this.owned&&qe(),o=mt(this),r=o||i?{object:this.array,type:"update",index:e,newValue:t,oldValue:n}:null;i&&We(l({},r,{name:this.atom.name})),this.atom.reportChanged(),o&&yt(this,r),i&&Ye()},e.prototype.notifyArraySplice=function(e,t,n){var i=!this.owned&&qe(),o=mt(this),r=o||i?{object:this.array,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;i&&We(l({},r,{name:this.atom.name})),this.atom.reportChanged(),o&&yt(this,r),i&&Ye()},e}(),Et=function(e){function t(t,n,i,o){void 0===i&&(i="ObservableArray@"+g()),void 0===o&&(o=!1);var r=e.call(this)||this,a=new Pt(i,n,r,o);if(x(r,"$mobx",a),t&&t.length){var s=Pe(!0);r.spliceWithArray(0,0,t),Ee(s)}return xt&&Object.defineProperty(a.array,"0",St),r}return c(t,e),t.prototype.intercept=function(e){return this.$mobx.intercept(e)},t.prototype.observe=function(e,t){return void 0===t&&(t=!1),this.$mobx.observe(e,t)},t.prototype.clear=function(){return this.splice(0)},t.prototype.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),e.map(function(e){return Dt(e)?e.peek():e}))},t.prototype.replace=function(e){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,e)},t.prototype.toJS=function(){return this.slice()},t.prototype.toJSON=function(){return this.toJS()},t.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},t.prototype.find=function(e,t,n){void 0===n&&(n=0);var i=this.findIndex.apply(this,arguments);return-1===i?void 0:this.get(i)},t.prototype.findIndex=function(e,t,n){void 0===n&&(n=0);for(var i=this.peek(),o=i.length,r=n;r<o;r++)if(e.call(t,i[r],r,this))return r;return-1},t.prototype.splice=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(e);case 2:return this.$mobx.spliceWithArray(e,t)}return this.$mobx.spliceWithArray(e,t,n)},t.prototype.spliceWithArray=function(e,t,n){return this.$mobx.spliceWithArray(e,t,n)},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(n.values.length,0,e),n.values.length},t.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},t.prototype.shift=function(){return this.splice(0,1)[0]},t.prototype.unshift=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(0,0,e),n.values.length},t.prototype.reverse=function(){var e=this.slice();return e.reverse.apply(e,arguments)},t.prototype.sort=function(e){var t=this.slice();return t.sort.apply(t,arguments)},t.prototype.remove=function(e){var t=this.$mobx.dehanceValues(this.$mobx.values).indexOf(e);return t>-1&&(this.splice(t,1),!0)},t.prototype.move=function(e,t){function n(e){if(e<0)throw new Error("[mobx.array] Index out of bounds: "+e+" is negative");var t=this.$mobx.values.length;if(e>=t)throw new Error("[mobx.array] Index out of bounds: "+e+" is not smaller than "+t)}if(n.call(this,e),n.call(this,t),e!==t){var i,o=this.$mobx.values;i=e<t?f(o.slice(0,e),o.slice(e+1,t+1),[o[e]],o.slice(t+1)):f(o.slice(0,t),[o[e]],o.slice(t,e),o.slice(e+1)),this.replace(i)}},t.prototype.get=function(e){var t=this.$mobx;if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},t.prototype.set=function(e,t){var n=this.$mobx,i=n.values;if(e<i.length){pe(n.atom);var o=i[e];if(pt(n)){var r=gt(n,{type:"update",object:this,index:e,newValue:t});if(!r)return;t=r.newValue}(t=n.enhancer(t,o))!==o&&(i[e]=t,n.notifyArrayChildUpdate(e,t,o))}else{if(e!==i.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+i.length);n.spliceWithArray(e,0,[t])}},t}(Mt);A(Et.prototype,function(){this.$mobx.atom.reportObserved();var e=this,t=0;return T({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})}),Object.defineProperty(Et.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(e){this.$mobx.setArrayLength(e)}}),O(Et.prototype,D(),"Array"),["every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach(function(e){var t=Array.prototype[e];v("function"==typeof t,"Base function not defined on Array prototype: '"+e+"'"),O(Et.prototype,e,function(){return t.apply(this.peek(),arguments)})}),function(e,t){for(var n=0;n<t.length;n++)O(e,t[n],e[t[n]])}(Et.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var St=Rt(0);function Rt(e){return{enumerable:!1,configurable:!1,get:function(){return this.get(e)},set:function(t){this.set(e,t)}}}function It(e){Object.defineProperty(Et.prototype,""+e,Rt(e))}function At(e){for(var t=wt;t<e;t++)It(t);wt=e}At(1e3);var Tt=w("ObservableArrayAdministration",Pt);function Dt(e){return C(e)&&Tt(e.$mobx)}var jt={},Ft=function(){function e(e,t,n){if(void 0===t&&(t=q),void 0===n&&(n="ObservableMap@"+g()),this.enhancer=t,this.name=n,this.$mobx=jt,this._keys=new Et(void 0,W,this.name+".keys()",!0),"function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!De.trackingDerivation)return this._has(e);var n=this._hasMap.get(e);if(!n){var i=n=new Se(this._has(e),W,this.name+"."+Qt(e)+"?",!1);this._hasMap.set(e,i),at(i,function(){return t._hasMap.delete(e)})}return n.get()},e.prototype.set=function(e,t){var n=this._has(e);if(pt(this)){var i=gt(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!i)return this;t=i.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(pt(this)&&!(o=gt(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=qe(),i=mt(this),o=i||n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return n&&We(l({},o,{name:this.name,key:e})),ht(function(){t._keys.remove(e),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)}),i&&yt(this,o),n&&Ye(),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);n&&n.setNewValue(t)},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if((t=n.prepareNewValue(t))!==De.UNCHANGED){var i=qe(),o=mt(this),r=o||i?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;i&&We(l({},r,{name:this.name,key:e})),n.setNewValue(t),o&&yt(this,r),i&&Ye()}},e.prototype._addValue=function(e,t){var n=this;ht(function(){var i=new Se(t,n.enhancer,n.name+"."+Qt(e),!1);n._data.set(e,i),t=i.value,n._updateHasMapEntry(e,!0),n._keys.push(e)});var i=qe(),o=mt(this),r=o||i?{type:"add",object:this,name:e,newValue:t}:null;i&&We(l({},r,{name:this.name,key:e})),o&&yt(this,r),i&&Ye()},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keys[I()]()},e.prototype.values=function(){var e=this,t=0;return T({next:function(){return t<e._keys.length?{value:e.get(e._keys[t++]),done:!1}:{value:void 0,done:!0}}})},e.prototype.entries=function(){var e=this,t=0;return T({next:function(){if(t<e._keys.length){var n=e._keys[t++];return{value:[n,e.get(n)],done:!1}}return{done:!0}}})},e.prototype.forEach=function(e,t){var n=this;this._keys.forEach(function(i){return e.call(t,n.get(i),i,n)})},e.prototype.merge=function(e){var t=this;return Lt(e)&&(e=e.toJS()),ht(function(){k(e)?Object.keys(e).forEach(function(n){return t.set(n,e[n])}):Array.isArray(e)?e.forEach(function(e){var n=u(e,2);return t.set(n[0],n[1])}):M(e)?e.constructor!==Map?m("Cannot initialize from classes that inherit from Map: "+e.constructor.name):e.forEach(function(e,n){return t.set(n,e)}):null!=e&&m("Cannot initialize map from "+e)}),this},e.prototype.clear=function(){var e=this;ht(function(){me(function(){e._keys.slice().forEach(function(t){return e.delete(t)})})})},e.prototype.replace=function(e){var t=this;return ht(function(){for(var n,i=M(n=e)||Lt(n)?n:Array.isArray(n)?new Map(n):k(n)?new Map(Object.entries(n)):m("Cannot convert to map from '"+n+"'"),o=t._keys,r=Array.from(i.keys()),a=!1,s=0;s<o.length;s++){var c=o[s];o.length===r.length&&c!==r[s]&&(a=!0),i.has(c)||(a=!0,t.delete(c))}i.forEach(function(e,n){t._data.has(n)||(a=!0),t.set(n,e)}),a&&t._keys.replace(r)}),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e=this,t={};return this._keys.forEach(function(n){return t["symbol"==typeof n?n:Qt(n)]=e.get(n)}),t},e.prototype.toJS=function(){var e=this,t=new Map;return this._keys.forEach(function(n){return t.set(n,e.get(n))}),t},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+this._keys.map(function(t){return Qt(t)+": "+e.get(t)}).join(", ")+" }]"},e.prototype.observe=function(e,t){return vt(this,e)},e.prototype.intercept=function(e){return bt(this,e)},e}();function Qt(e){return e&&e.toString?e.toString():new String(e).toString()}A(Ft.prototype,function(){return this.entries()}),x(Ft.prototype,D(),"Map");var Lt=w("ObservableMap",Ft),Nt={},zt=function(){function e(e,t,n){if(void 0===t&&(t=q),void 0===n&&(n="ObservableSet@"+g()),this.name=n,this.$mobx=Nt,this._data=new Set,this._atom=function(e,t,n){void 0===t&&(t=_),void 0===n&&(n=_);var i=new F(e);return st("onBecomeObserved",i,t,void 0),at(i,n),i}(this.name),"function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,i){return t(e,i,n)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;ht(function(){me(function(){e._data.forEach(function(t){e.delete(t)})})})},e.prototype.forEach=function(e,t){var n=this;this._data.forEach(function(i){e.call(t,i,i,n)})},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if(pe(this._atom),pt(this)&&!(o=gt(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){ht(function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()});var n=qe(),i=mt(this),o=i||n?{type:"add",object:this,newValue:e}:null;i&&yt(this,o)}return this},e.prototype.delete=function(e){var t=this;if(pt(this)&&!(o=gt(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var n=qe(),i=mt(this),o=i||n?{type:"delete",object:this,oldValue:e}:null;return ht(function(){t._atom.reportChanged(),t._data.delete(e)}),i&&yt(this,o),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=E(this.keys()),n=E(this.values());return T({next:function(){var i=e;return e+=1,i<n.length?{value:[t[i],n[i]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e,t=this,n=0;return void 0!==this._data.values?e=E(this._data.values()):(e=[],this._data.forEach(function(t){return e.push(t)})),T({next:function(){return n<e.length?{value:t.dehanceValue(e[n++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return Vt(e)&&(e=e.toJS()),ht(function(){Array.isArray(e)||P(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):null!=e&&m("Cannot initialize set from "+e)}),this},e.prototype.observe=function(e,t){return vt(this,e)},e.prototype.intercept=function(e){return bt(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+E(this.keys()).join(", ")+" ]"},e}();A(zt.prototype,function(){return this.values()}),x(zt.prototype,D(),"Set");var Vt=w("ObservableSet",zt),Bt=function(){function e(e,t,n){this.target=e,this.name=t,this.defaultEnhancer=n,this.values={}}return e.prototype.read=function(e,t){if(this.target===e||(this.illegalAccess(e,t),this.values[t]))return this.values[t].get()},e.prototype.write=function(e,t,n){var i=this.target;i!==e&&this.illegalAccess(e,t);var o=this.values[t];if(o instanceof Re)o.set(n);else{if(pt(this)){if(!(s=gt(this,{type:"update",object:i,name:t,newValue:n})))return;n=s.newValue}if((n=o.prepareNewValue(n))!==De.UNCHANGED){var r=mt(this),a=qe(),s=r||a?{type:"update",object:i,oldValue:o.value,name:t,newValue:n}:null;a&&We(l({},s,{name:this.name,key:t})),o.setNewValue(n),r&&yt(this,s),a&&Ye()}}},e.prototype.remove=function(e){if(this.values[e]){var t=this.target;if(pt(this)&&!(r=gt(this,{object:t,name:e,type:"remove"})))return;try{Le();var n=mt(this),i=qe(),o=this.values[e].get();this.keys&&this.keys.remove(e),delete this.values[e],delete this.target[e];var r=n||i?{type:"remove",object:t,oldValue:o,name:e}:null;i&&We(l({},r,{name:this.name,key:e})),n&&yt(this,r),i&&Ye()}finally{Ne()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return vt(this,e)},e.prototype.intercept=function(e){return bt(this,e)},e.prototype.getKeys=function(){var e=this;return void 0===this.keys&&(this.keys=new Et(Object.keys(this.values).filter(function(t){return e.values[t]instanceof Se}),W,"keys("+this.name+")",!0)),this.keys.slice()},e}();function Ut(e,t,n){void 0===t&&(t=""),void 0===n&&(n=q);var i=e.$mobx;return i||(k(e)||(t=(e.constructor.name||"ObservableObject")+"@"+g()),t||(t="ObservableObject@"+g()),x(e,"$mobx",i=new Bt(e,t,n)),i)}var Ht=Object.create(null),Kt=Object.create(null);function qt(e){return e.$mobx||(U(e),e.$mobx)}var $t=w("ObservableObjectAdministration",Bt);function Wt(e){return!!C(e)&&(U(e),$t(e.$mobx))}function Gt(e,t){if("object"==typeof e&&null!==e){if(Dt(e))return void 0!==t&&m(!1),e.$mobx.atom;if(Vt(e))return e.$mobx;if(Lt(e)){var n=e;return void 0===t?Gt(n._keys):((i=n._data.get(t)||n._hasMap.get(t))||m(!1),i)}var i;if(U(e),Wt(e))return t?((i=e.$mobx.values[t])||m(!1),i):m(!1);if(Q(e)||Ie(e)||Ke(e))return e}else if("function"==typeof e&&Ke(e.$mobx))return e.$mobx;return m(!1)}function Yt(e,t){return e||m("Expecting some object"),void 0!==t?Yt(Gt(e,t)):Q(e)||Ie(e)||Ke(e)||Lt(e)||Vt(e)?e:(U(e),e.$mobx?e.$mobx:void m(!1))}var Xt=Object.prototype.toString;function Zt(e,t,n){return void 0===n&&(n=-1),Jt(e,t,n)}function Jt(e,t,n,i,o){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var r=typeof e;if("function"!==r&&"object"!==r&&"object"!=typeof t)return!1;e=en(e),t=en(t);var a=Xt.call(e);if(a!==Xt.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t)}var s="[object Array]"===a;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var c=e.constructor,l=t.constructor;if(c!==l&&!("function"==typeof c&&c instanceof c&&"function"==typeof l&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),o=o||[];for(var u=(i=i||[]).length;u--;)if(i[u]===e)return o[u]===t;if(i.push(e),o.push(t),s){if((u=e.length)!==t.length)return!1;for(;u--;)if(!Jt(e[u],t[u],n-1,i,o))return!1}else{var f=Object.keys(e),d=void 0;if(u=f.length,Object.keys(t).length!==u)return!1;for(;u--;)if(!tn(t,d=f[u])||!Jt(e[d],t[d],n-1,i,o))return!1}return i.pop(),o.pop(),!0}function en(e){return Dt(e)?e.peek():M(e)||Lt(e)||P(e)||Vt(e)?E(e.entries()):e}function tn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return De.spyListeners.push(e),y(function(){De.spyListeners=De.spyListeners.filter(function(t){return t!==e})})},extras:{getDebugName:function(e,t){return(void 0!==t?Gt(e,t):Wt(e)||Lt(e)||Vt(e)?Yt(e):Gt(e)).name}},$mobx:"$mobx"});var nn,on,rn,an,sn=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},cn=function(e){return e},ln=Math.max,un=function(e,t,n){return t=ln(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,r=ln(i.length-t,0),a=Array(r);++o<r;)a[o]=i[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=i[o];return s[t]=n(a),sn(e,this,s)}},fn=n("Ju5/"),dn=fn.a.Symbol,hn=Object.prototype,pn=hn.hasOwnProperty,bn=hn.toString,gn=dn?dn.toStringTag:void 0,mn=Object.prototype.toString,vn=dn?dn.toStringTag:void 0,yn=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":vn&&vn in Object(e)?function(e){var t=pn.call(e,gn),n=e[gn];try{e[gn]=void 0;var i=!0}catch(r){}var o=bn.call(e);return i&&(t?e[gn]=n:delete e[gn]),o}(e):function(e){return mn.call(e)}(e)},_n=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Cn=function(e){if(!_n(e))return!1;var t=yn(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},kn=fn.a["__core-js_shared__"],On=(nn=/[^.]+$/.exec(kn&&kn.keys&&kn.keys.IE_PROTO||""))?"Symbol(src)_1."+nn:"",xn=Function.prototype.toString,wn=function(e){if(null!=e){try{return xn.call(e)}catch(t){}try{return e+""}catch(t){}}return""},Mn=/^\[object .+?Constructor\]$/,Pn=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),En=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!_n(e)||(t=e,On&&On in t))&&(Cn(e)?Pn:Mn).test(wn(e));var t}(n)?n:void 0},Sn=function(){try{var e=En(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Rn=Date.now,In=(on=Sn?function(e,t){return Sn(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:cn,rn=0,an=0,function(){var e=Rn(),t=16-(e-an);if(an=e,t>0){if(++rn>=800)return arguments[0]}else rn=0;return on.apply(void 0,arguments)}),An=function(e,t){return In(un(e,t,cn),e+"")},Tn=function(e,t){return e===t||e!=e&&t!=t},Dn=function(e,t){for(var n=e.length;n--;)if(Tn(e[n][0],t))return n;return-1},jn=Array.prototype.splice;function Fn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Fn.prototype.clear=function(){this.__data__=[],this.size=0},Fn.prototype.delete=function(e){var t=this.__data__,n=Dn(t,e);return!(n<0||(n==t.length-1?t.pop():jn.call(t,n,1),--this.size,0))},Fn.prototype.get=function(e){var t=this.__data__,n=Dn(t,e);return n<0?void 0:t[n][1]},Fn.prototype.has=function(e){return Dn(this.__data__,e)>-1},Fn.prototype.set=function(e,t){var n=this.__data__,i=Dn(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};var Qn=Fn,Ln=En(fn.a,"Map"),Nn=En(Object,"create"),zn=Object.prototype.hasOwnProperty,Vn=Object.prototype.hasOwnProperty;function Bn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Bn.prototype.clear=function(){this.__data__=Nn?Nn(null):{},this.size=0},Bn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Bn.prototype.get=function(e){var t=this.__data__;if(Nn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return zn.call(t,e)?t[e]:void 0},Bn.prototype.has=function(e){var t=this.__data__;return Nn?void 0!==t[e]:Vn.call(t,e)},Bn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Nn&&void 0===t?"__lodash_hash_undefined__":t,this};var Un=Bn,Hn=function(e,t){var n,i,o=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map};function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new Un,map:new(Ln||Qn),string:new Un}},Kn.prototype.delete=function(e){var t=Hn(this,e).delete(e);return this.size-=t?1:0,t},Kn.prototype.get=function(e){return Hn(this,e).get(e)},Kn.prototype.has=function(e){return Hn(this,e).has(e)},Kn.prototype.set=function(e,t){var n=Hn(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};var qn=Kn;function $n(e){var t=this.__data__=new Qn(e);this.size=t.size}$n.prototype.clear=function(){this.__data__=new Qn,this.size=0},$n.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},$n.prototype.get=function(e){return this.__data__.get(e)},$n.prototype.has=function(e){return this.__data__.has(e)},$n.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Qn){var i=n.__data__;if(!Ln||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new qn(i)}return n.set(e,t),this.size=n.size,this};var Wn=$n,Gn=function(e,t,n){"__proto__"==t&&Sn?Sn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Yn=function(e,t,n){(void 0!==n&&!Tn(e[t],n)||void 0===n&&!(t in e))&&Gn(e,t,n)},Xn=function(e,t,n){for(var i=-1,o=Object(e),r=n(e),a=r.length;a--;){var s=r[++i];if(!1===t(o[s],s,o))break}return e},Zn=n("3/ER"),Jn=fn.a.Uint8Array,ei=function(e){var t=new e.constructor(e.byteLength);return new Jn(t).set(new Jn(e)),t},ti=function(e,t){var n=t?ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},ni=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t},ii=Object.create,oi=function(){function e(){}return function(t){if(!_n(t))return{};if(ii)return ii(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),ri=function(e,t){return function(n){return e(t(n))}},ai=ri(Object.getPrototypeOf,Object),si=Object.prototype,ci=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||si)},li=function(e){return"function"!=typeof e.constructor||ci(e)?{}:oi(ai(e))},ui=function(e){return null!=e&&"object"==typeof e},fi=function(e){return ui(e)&&"[object Arguments]"==yn(e)},di=Object.prototype,hi=di.hasOwnProperty,pi=di.propertyIsEnumerable,bi=fi(function(){return arguments}())?fi:function(e){return ui(e)&&hi.call(e,"callee")&&!pi.call(e,"callee")},gi=Array.isArray,mi=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},vi=function(e){return null!=e&&mi(e.length)&&!Cn(e)},yi=n("WOAq"),_i=Function.prototype.toString,Ci=Object.prototype.hasOwnProperty,ki=_i.call(Object),Oi=function(e){if(!ui(e)||"[object Object]"!=yn(e))return!1;var t=ai(e);if(null===t)return!0;var n=Ci.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&_i.call(n)==ki},xi={};xi["[object Float32Array]"]=xi["[object Float64Array]"]=xi["[object Int8Array]"]=xi["[object Int16Array]"]=xi["[object Int32Array]"]=xi["[object Uint8Array]"]=xi["[object Uint8ClampedArray]"]=xi["[object Uint16Array]"]=xi["[object Uint32Array]"]=!0,xi["[object Arguments]"]=xi["[object Array]"]=xi["[object ArrayBuffer]"]=xi["[object Boolean]"]=xi["[object DataView]"]=xi["[object Date]"]=xi["[object Error]"]=xi["[object Function]"]=xi["[object Map]"]=xi["[object Number]"]=xi["[object Object]"]=xi["[object RegExp]"]=xi["[object Set]"]=xi["[object String]"]=xi["[object WeakMap]"]=!1;var wi,Mi=function(e){return function(t){return e(t)}},Pi=n("xutz"),Ei=Pi.a&&Pi.a.isTypedArray,Si=Ei?Mi(Ei):function(e){return ui(e)&&mi(e.length)&&!!xi[yn(e)]},Ri=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},Ii=Object.prototype.hasOwnProperty,Ai=function(e,t,n){var i=e[t];Ii.call(e,t)&&Tn(i,n)&&(void 0!==n||t in e)||Gn(e,t,n)},Ti=function(e,t,n,i){var o=!n;n||(n={});for(var r=-1,a=t.length;++r<a;){var s=t[r],c=i?i(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),o?Gn(n,s,c):Ai(n,s,c)}return n},Di=/^(?:0|[1-9]\d*)$/,ji=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Di.test(e))&&e>-1&&e%1==0&&e<t},Fi=Object.prototype.hasOwnProperty,Qi=function(e,t){var n=gi(e),i=!n&&bi(e),o=!n&&!i&&Object(yi.a)(e),r=!n&&!i&&!o&&Si(e),a=n||i||o||r,s=a?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],c=s.length;for(var l in e)!t&&!Fi.call(e,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||r&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ji(l,c))||s.push(l);return s},Li=Object.prototype.hasOwnProperty,Ni=function(e){return vi(e)?Qi(e,!0):function(e){if(!_n(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=ci(e),n=[];for(var i in e)("constructor"!=i||!t&&Li.call(e,i))&&n.push(i);return n}(e)},zi=function e(t,n,i,o,r){t!==n&&Xn(n,function(a,s){if(r||(r=new Wn),_n(a))!function(e,t,n,i,o,r,a){var s,c=Ri(e,n),l=Ri(t,n),u=a.get(l);if(u)Yn(e,n,u);else{var f=r?r(c,l,n+"",e,t,a):void 0,d=void 0===f;if(d){var h=gi(l),p=!h&&Object(yi.a)(l),b=!h&&!p&&Si(l);f=l,h||p||b?gi(c)?f=c:ui(s=c)&&vi(s)?f=ni(c):p?(d=!1,f=Object(Zn.a)(l,!0)):b?(d=!1,f=ti(l,!0)):f=[]:Oi(l)||bi(l)?(f=c,bi(c)?f=function(e){return Ti(e,Ni(e))}(c):_n(c)&&!Cn(c)||(f=li(l))):d=!1}d&&(a.set(l,f),o(f,l,i,r,a),a.delete(l)),Yn(e,n,f)}}(t,n,s,i,e,o,r);else{var c=o?o(Ri(t,s),a,s+"",t,n,r):void 0;void 0===c&&(c=a),Yn(t,s,c)}},Ni)},Vi=function e(t,n,i,o,r,a){return _n(t)&&_n(n)&&(a.set(n,t),zi(t,n,void 0,e,a),a.delete(n)),t},Bi=(wi=function(e,t,n,i){zi(e,t,n,i)},An(function(e,t){var n=-1,i=t.length,o=i>1?t[i-1]:void 0,r=i>2?t[2]:void 0;for(o=wi.length>3&&"function"==typeof o?(i--,o):void 0,r&&function(e,t,n){if(!_n(n))return!1;var i=typeof t;return!!("number"==i?vi(n)&&ji(t,n.length):"string"==i&&t in n)&&Tn(n[t],e)}(t[0],t[1],r)&&(o=i<3?void 0:o,i=1),e=Object(e);++n<i;){var a=t[n];a&&wi(e,a,n,o)}return e})),Ui=An(function(e){return e.push(void 0,Vi),sn(Bi,void 0,e)}),Hi=function(e){return"symbol"==typeof e||ui(e)&&"[object Symbol]"==yn(e)},Ki=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qi=/^\w*$/,$i=function(e,t){if(gi(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Hi(e))||qi.test(e)||!Ki.test(e)||null!=t&&e in Object(t)};function Wi(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var i=arguments,o=t?t.apply(this,i):i[0],r=n.cache;if(r.has(o))return r.get(o);var a=e.apply(this,i);return n.cache=r.set(o,a)||r,a};return n.cache=new(Wi.Cache||qn),n}Wi.Cache=qn;var Gi,Yi,Xi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zi=/\\(\\)?/g,Ji=(Gi=Wi(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Xi,function(e,n,i,o){t.push(i?o.replace(Zi,"$1"):n||e)}),t},function(e){return 500===Yi.size&&Yi.clear(),e}),Yi=Gi.cache,Gi),eo=function(e,t){for(var n=-1,i=null==e?0:e.length,o=Array(i);++n<i;)o[n]=t(e[n],n,e);return o},to=dn?dn.prototype:void 0,no=to?to.toString:void 0,io=function e(t){if("string"==typeof t)return t;if(gi(t))return eo(t,e)+"";if(Hi(t))return no?no.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},oo=function(e){return null==e?"":io(e)},ro=function(e,t){return gi(e)?e:$i(e,t)?[e]:Ji(oo(e))},ao=function(e){if("string"==typeof e||Hi(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},so=function(e,t){for(var n=0,i=(t=ro(t,e)).length;null!=e&&n<i;)e=e[ao(t[n++])];return n&&n==i?e:void 0},co=function(e,t,n){var i=null==e?void 0:so(e,t);return void 0===i?n:i},lo=ri(Object.keys,Object),uo=Object.prototype.hasOwnProperty,fo=function(e){return vi(e)?Qi(e):function(e){if(!ci(e))return lo(e);var t=[];for(var n in Object(e))uo.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)},ho=function(){return[]},po=Object.prototype.propertyIsEnumerable,bo=Object.getOwnPropertySymbols,go=bo?function(e){return null==e?[]:(e=Object(e),function(t,n){for(var i=-1,o=null==t?0:t.length,r=0,a=[];++i<o;){var s=t[i];po.call(e,s)&&(a[r++]=s)}return a}(bo(e)))}:ho,mo=function(e,t){for(var n=-1,i=t.length,o=e.length;++n<i;)e[o+n]=t[n];return e},vo=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)mo(t,go(e)),e=ai(e);return t}:ho,yo=function(e,t,n){var i=t(e);return gi(e)?i:mo(i,n(e))},_o=function(e){return yo(e,fo,go)},Co=function(e){return yo(e,Ni,vo)},ko=En(fn.a,"DataView"),Oo=En(fn.a,"Promise"),xo=En(fn.a,"Set"),wo=En(fn.a,"WeakMap"),Mo=wn(ko),Po=wn(Ln),Eo=wn(Oo),So=wn(xo),Ro=wn(wo),Io=yn;(ko&&"[object DataView]"!=Io(new ko(new ArrayBuffer(1)))||Ln&&"[object Map]"!=Io(new Ln)||Oo&&"[object Promise]"!=Io(Oo.resolve())||xo&&"[object Set]"!=Io(new xo)||wo&&"[object WeakMap]"!=Io(new wo))&&(Io=function(e){var t=yn(e),n="[object Object]"==t?e.constructor:void 0,i=n?wn(n):"";if(i)switch(i){case Mo:return"[object DataView]";case Po:return"[object Map]";case Eo:return"[object Promise]";case So:return"[object Set]";case Ro:return"[object WeakMap]"}return t});var Ao=Io,To=Object.prototype.hasOwnProperty,Do=/\w*$/,jo=dn?dn.prototype:void 0,Fo=jo?jo.valueOf:void 0,Qo=Pi.a&&Pi.a.isMap,Lo=Qo?Mi(Qo):function(e){return ui(e)&&"[object Map]"==Ao(e)},No=Pi.a&&Pi.a.isSet,zo=No?Mi(No):function(e){return ui(e)&&"[object Set]"==Ao(e)},Vo={};Vo["[object Arguments]"]=Vo["[object Array]"]=Vo["[object ArrayBuffer]"]=Vo["[object DataView]"]=Vo["[object Boolean]"]=Vo["[object Date]"]=Vo["[object Float32Array]"]=Vo["[object Float64Array]"]=Vo["[object Int8Array]"]=Vo["[object Int16Array]"]=Vo["[object Int32Array]"]=Vo["[object Map]"]=Vo["[object Number]"]=Vo["[object Object]"]=Vo["[object RegExp]"]=Vo["[object Set]"]=Vo["[object String]"]=Vo["[object Symbol]"]=Vo["[object Uint8Array]"]=Vo["[object Uint8ClampedArray]"]=Vo["[object Uint16Array]"]=Vo["[object Uint32Array]"]=!0,Vo["[object Error]"]=Vo["[object Function]"]=Vo["[object WeakMap]"]=!1;var Bo=function e(t,n,i,o,r,a){var s,c=1&n,l=2&n,u=4&n;if(i&&(s=r?i(t,o,r,a):i(t)),void 0!==s)return s;if(!_n(t))return t;var f=gi(t);if(f){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&To.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!c)return ni(t,s)}else{var d=Ao(t),h="[object Function]"==d||"[object GeneratorFunction]"==d;if(Object(yi.a)(t))return Object(Zn.a)(t,c);if("[object Object]"==d||"[object Arguments]"==d||h&&!r){if(s=l||h?{}:li(t),!c)return l?function(e,t){return Ti(e,vo(e),t)}(t,function(e,t){return e&&Ti(t,Ni(t),e)}(s,t)):function(e,t){return Ti(e,go(e),t)}(t,function(e,t){return e&&Ti(t,fo(t),e)}(s,t))}else{if(!Vo[d])return r?t:{};s=function(e,t,n){var i=e.constructor;switch(t){case"[object ArrayBuffer]":return ei(e);case"[object Boolean]":case"[object Date]":return new i(+e);case"[object DataView]":return function(e,t){var n=t?ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ti(e,n);case"[object Map]":return new i;case"[object Number]":case"[object String]":return new i(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,Do.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Set]":return new i;case"[object Symbol]":return Fo?Object(Fo.call(e)):{}}}(t,d,c)}}a||(a=new Wn);var p=a.get(t);if(p)return p;a.set(t,s),zo(t)?t.forEach(function(o){s.add(e(o,n,i,o,t,a))}):Lo(t)&&t.forEach(function(o,r){s.set(r,e(o,n,i,r,t,a))});var b=f?void 0:(u?l?Co:_o:l?Ni:fo)(t);return function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n););}(b||t,function(o,r){b&&(o=t[r=o]),Ai(s,r,e(o,n,i,r,t,a))}),s},Uo=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},Ho=function(e,t){return null==(e=function(e,t){return t.length<2?e:so(e,function(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var r=Array(o);++i<o;)r[i]=e[i+t];return r}(t,0,-1))}(e,t=ro(t,e)))||delete e[ao(Uo(t))]},Ko=function(e){return Oi(e)?void 0:e},qo=dn?dn.isConcatSpreadable:void 0,$o=function(e){return gi(e)||bi(e)||!!(qo&&e&&e[qo])},Wo=function e(t,n,i,o,r){var a=-1,s=t.length;for(i||(i=$o),r||(r=[]);++a<s;){var c=t[a];n>0&&i(c)?n>1?e(c,n-1,i,o,r):mo(r,c):o||(r[r.length]=c)}return r},Go=function(e){return null!=e&&e.length?Wo(e,1):[]},Yo=function(e){return In(un(e,void 0,Go),e+"")},Xo=Yo(function(e,t){var n={};if(null==e)return n;var i=!1;t=eo(t,function(t){return t=ro(t,e),i||(i=t.length>1),t}),Ti(e,Co(e),n),i&&(n=Bo(n,7,Ko));for(var o=t.length;o--;)Ho(n,t[o]);return n}),Zo=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1};function Jo(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new qn;++t<n;)this.add(e[t])}Jo.prototype.add=Jo.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Jo.prototype.has=function(e){return this.__data__.has(e)};var er=Jo,tr=function(e,t){return e.has(t)},nr=function(e,t,n,i,o,r){var a=1&n,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var l=r.get(e),u=r.get(t);if(l&&u)return l==t&&u==e;var f=-1,d=!0,h=2&n?new er:void 0;for(r.set(e,t),r.set(t,e);++f<s;){var p=e[f],b=t[f];if(i)var g=a?i(b,p,f,t,e,r):i(p,b,f,e,t,r);if(void 0!==g){if(g)continue;d=!1;break}if(h){if(!Zo(t,function(e,t){if(!tr(h,t)&&(p===e||o(p,e,n,i,r)))return h.push(t)})){d=!1;break}}else if(p!==b&&!o(p,b,n,i,r)){d=!1;break}}return r.delete(e),r.delete(t),d},ir=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n},or=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},rr=dn?dn.prototype:void 0,ar=rr?rr.valueOf:void 0,sr=Object.prototype.hasOwnProperty,cr=Object.prototype.hasOwnProperty,lr=function e(t,n,i,o,r){return t===n||(null==t||null==n||!ui(t)&&!ui(n)?t!=t&&n!=n:function(e,t,n,i,o,r){var a=gi(e),s=gi(t),c=a?"[object Array]":Ao(e),l=s?"[object Array]":Ao(t),u="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),f="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),d=c==l;if(d&&Object(yi.a)(e)){if(!Object(yi.a)(t))return!1;a=!0,u=!1}if(d&&!u)return r||(r=new Wn),a||Si(e)?nr(e,t,n,i,o,r):function(e,t,n,i,o,r,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!r(new Jn(e),new Jn(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Tn(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=ir;case"[object Set]":if(s||(s=or),e.size!=t.size&&!(1&i))return!1;var c=a.get(e);if(c)return c==t;i|=2,a.set(e,t);var l=nr(s(e),s(t),i,o,r,a);return a.delete(e),l;case"[object Symbol]":if(ar)return ar.call(e)==ar.call(t)}return!1}(e,t,c,n,i,o,r);if(!(1&n)){var h=u&&cr.call(e,"__wrapped__"),p=f&&cr.call(t,"__wrapped__");if(h||p){var b=h?e.value():e,g=p?t.value():t;return r||(r=new Wn),o(b,g,n,i,r)}}return!!d&&(r||(r=new Wn),function(e,t,n,i,o,r){var a=1&n,s=_o(e),c=s.length;if(c!=_o(t).length&&!a)return!1;for(var l=c;l--;){var u=s[l];if(!(a?u in t:sr.call(t,u)))return!1}var f=r.get(e),d=r.get(t);if(f&&d)return f==t&&d==e;var h=!0;r.set(e,t),r.set(t,e);for(var p=a;++l<c;){var b=e[u=s[l]],g=t[u];if(i)var m=a?i(g,b,u,t,e,r):i(b,g,u,e,t,r);if(!(void 0===m?b===g||o(b,g,n,i,r):m)){h=!1;break}p||(p="constructor"==u)}if(h&&!p){var v=e.constructor,y=t.constructor;v==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(h=!1)}return r.delete(e),r.delete(t),h}(e,t,n,i,o,r))}(t,n,i,o,e,r))},ur=function(e){return e==e&&!_n(e)},fr=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},dr=function(e,t){return null!=e&&t in Object(e)},hr=function(e,t){return null!=e&&function(e,t,n){for(var i=-1,o=(t=ro(t,e)).length,r=!1;++i<o;){var a=ao(t[i]);if(!(r=null!=e&&n(e,a)))break;e=e[a]}return r||++i!=o?r:!!(o=null==e?0:e.length)&&mi(o)&&ji(a,o)&&(gi(e)||bi(e))}(e,t,dr)},pr=function(e){return"function"==typeof e?e:null==e?cn:"object"==typeof e?gi(e)?(o=e[1],$i(i=e[0])&&ur(o)?fr(ao(i),o):function(e){var t=co(e,i);return void 0===t&&t===o?hr(e,i):lr(o,t,3)}):1==(n=function(e){for(var t=fo(e),n=t.length;n--;){var i=t[n],o=e[i];t[n]=[i,o,ur(o)]}return t}(t=e)).length&&n[0][2]?fr(n[0][0],n[0][1]):function(e){return e===t||function(e,t,n,i){var o=n.length,r=o;if(null==e)return!r;for(e=Object(e);o--;){var a=n[o];if(a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<r;){var s=(a=n[o])[0],c=e[s],l=a[1];if(a[2]){if(void 0===c&&!(s in e))return!1}else{var u=new Wn;if(!lr(l,c,3,void 0,u))return!1}}return!0}(e,0,n)}:function(e){return $i(e)?(t=ao(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return so(t,e)}}(e);var t}(e);var t,n,i,o},br=function(e,t){if(null==e)return e;if(!vi(e))return function(e,t){return e&&Xn(e,t,fo)}(e,t);for(var n=e.length,i=-1,o=Object(e);++i<n&&!1!==t(o[i],i,o););return e},gr=function(e,t){var n;return br(e,function(e,i,o){return!(n=t(e,i,o))}),!!n},mr=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0},vr=function(e,t){var n=!0;return br(e,function(e,i,o){return n=!!t(e,i,o)}),n},yr=function(e){return e&&e.length?e[0]:void 0},_r=function(e){for(var t=-1,n=null==e?0:e.length,i=0,o=[];++t<n;){var r=e[t];r&&(o[i++]=r)}return o},Cr=function(e,t,n,i){for(var o=e.length,r=n+(i?1:-1);i?r--:++r<o;)if(t(e[r],r,e))return r;return-1},kr=/^\s+|\s+$/g,Or=/^[-+]0x[0-9a-f]+$/i,xr=/^0b[01]+$/i,wr=/^0o[0-7]+$/i,Mr=parseInt,Pr=function(e){if("number"==typeof e)return e;if(Hi(e))return NaN;if(_n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=_n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(kr,"");var n=xr.test(e);return n||wr.test(e)?Mr(e.slice(2),n?2:8):Or.test(e)?NaN:+e},Er=function(e){var t=function(e){return e?1/0===(e=Pr(e))||-1/0===e?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}(e),n=t%1;return t==t?n?t-n:t:0},Sr=Math.max,Rr=function(e,t,n){var i=Object(e);if(!vi(e)){var o=pr(t);e=fo(e),t=function(e){return o(i[e],e,i)}}var r=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=null==n?0:Er(n);return o<0&&(o=Sr(i+o,0)),Cr(e,pr(t),o)}(e,t,n);return r>-1?i[o?e[r]:r]:void 0},Ir=function(e){return"string"==typeof e||!gi(e)&&ui(e)&&"[object String]"==yn(e)},Ar=function(){return fn.a.Date.now()},Tr=Math.max,Dr=Math.min,jr=function(e){return e!=e},Fr=Math.max,Qr=function(e,t,n,i){if(!_n(e))return e;for(var o=-1,r=(t=ro(t,e)).length,a=r-1,s=e;null!=s&&++o<r;){var c=ao(t[o]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=a){var u=s[c];void 0===(l=i?i(u,c,s):void 0)&&(l=_n(u)?u:ji(t[o+1])?[]:{})}Ai(s,c,l),s=s[c]}return e},Lr=Yo(function(e,t){return null==e?{}:function(e,t){return function(e,t,n){for(var i=-1,o=t.length,r={};++i<o;){var a=t[i],s=so(e,a);n(0,a)&&Qr(r,ro(a,e),s)}return r}(e,t,function(t,n){return hr(e,n)})}(e,t)});function Nr(e,t){1&e&&(i.Rb(0,"span"),i.Kc(1,"loading..."),i.Qb())}var zr=function(e){return{$implicit:e}};function Vr(e,t){if(1&e&&(i.Pb(0),i.Rb(1,"div"),i.kc(2),i.Qb(),i.Ob()),2&e){var n=i.fc();i.yb(1),i.Gc("height",n.getTotalHeight())}}var Br=function(){return{dontDetach:!0}},Ur=["*"],Hr=["loadingTemplate"],Kr=["treeNodeTemplate"],qr=["treeNodeWrapperTemplate"],$r=["treeNodeFullTemplate"],Wr=["viewport"],Gr=function(e,t,n,i){return{loadingTemplate:e,treeNodeTemplate:t,treeNodeWrapperTemplate:n,treeNodeFullTemplate:i}};function Yr(e,t){if(1&e&&i.Mb(0,"tree-node-collection",4),2&e){var n=i.fc();i.mc("nodes",n.treeModel.roots)("treeModel",n.treeModel)("templates",i.tc(3,Gr,n.loadingTemplate,n.treeNodeTemplate,n.treeNodeWrapperTemplate,n.treeNodeFullTemplate))}}function Xr(e,t){if(1&e&&i.Mb(0,"tree-node-drop-slot",5),2&e){var n=i.fc();i.mc("dropIndex",0)("node",n.treeModel.virtualRoot)}}function Zr(e,t){if(1&e&&i.Mb(0,"tree-node-drop-slot",6),2&e){var n=i.fc(3);i.mc("dropIndex",n.node.index)("node",n.node.parent)}}function Jr(e,t){if(1&e&&(i.Rb(0,"div"),i.Ic(1,Zr,1,2,"tree-node-drop-slot",3),i.Mb(2,"tree-node-wrapper",4),i.Mb(3,"tree-node-children",5),i.Mb(4,"tree-node-drop-slot",6),i.Qb()),2&e){var n=i.fc(2);i.Ab(n.node.getClass()),i.Db("tree-node",!0)("tree-node-expanded",n.node.isExpanded&&n.node.hasChildren)("tree-node-collapsed",n.node.isCollapsed&&n.node.hasChildren)("tree-node-leaf",n.node.isLeaf)("tree-node-active",n.node.isActive)("tree-node-focused",n.node.isFocused),i.yb(1),i.mc("ngIf",0===n.index),i.yb(1),i.mc("node",n.node)("index",n.index)("templates",n.templates),i.yb(1),i.mc("node",n.node)("templates",n.templates),i.yb(1),i.mc("dropIndex",n.node.index+1)("node",n.node.parent)}}var ea=function(e,t,n,i){return{$implicit:e,node:t,index:n,templates:i}};function ta(e,t){if(1&e&&(i.Pb(0),i.Ic(1,Jr,5,22,"div",1),i.Nb(2,2),i.Ob()),2&e){var n=i.fc();i.yb(1),i.mc("ngIf",!n.templates.treeNodeFullTemplate),i.yb(1),i.mc("ngTemplateOutlet",n.templates.treeNodeFullTemplate)("ngTemplateOutletContext",i.tc(3,ea,n.node,n.node,n.index,n.templates))}}function na(e,t){if(1&e&&(i.Rb(0,"span"),i.Kc(1),i.Qb()),2&e){var n=i.fc();i.yb(1),i.Lc(n.node.displayField)}}var ia=function(e,t,n){return{$implicit:e,node:t,index:n}};function oa(e,t){if(1&e){var n=i.Sb();i.Rb(0,"span",3),i.bc("click",function(e){return i.zc(n),i.fc(2).node.mouseAction("expanderClick",e)}),i.Mb(1,"span",4),i.Qb()}if(2&e){var o=i.fc(2);i.Db("toggle-children-wrapper-expanded",o.node.isExpanded)("toggle-children-wrapper-collapsed",o.node.isCollapsed)}}function ra(e,t){1&e&&i.Mb(0,"span",5)}function aa(e,t){if(1&e&&(i.Pb(0),i.Ic(1,oa,2,4,"span",1),i.Ic(2,ra,1,0,"span",2),i.Ob()),2&e){var n=i.fc();i.yb(1),i.mc("ngIf",n.node.hasChildren),i.yb(1),i.mc("ngIf",!n.node.hasChildren)}}function sa(e,t){if(1&e&&i.Mb(0,"tree-node-collection",4),2&e){var n=i.fc(3);i.mc("nodes",n.node.children)("templates",n.templates)("treeModel",n.node.treeModel)}}function ca(e,t){if(1&e&&i.Mb(0,"tree-loading-component",5),2&e){var n=i.fc(3);i.Gc("padding-left",n.node.getNodePadding()),i.mc("template",n.templates.loadingTemplate)("node",n.node)}}function la(e,t){if(1&e&&(i.Rb(0,"div"),i.Ic(1,sa,1,3,"tree-node-collection",2),i.Ic(2,ca,1,4,"tree-loading-component",3),i.Qb()),2&e){var n=i.fc(2);i.Db("tree-children",!0)("tree-children-no-padding",n.node.options.levelPadding),i.yb(1),i.mc("ngIf",n.node.children),i.yb(1),i.mc("ngIf",!n.node.children)}}function ua(e,t){if(1&e&&(i.Pb(0),i.Ic(1,la,3,6,"div",1),i.Ob()),2&e){var n=i.fc();i.yb(1),i.mc("treeAnimateOpen",n.node.isExpanded)("treeAnimateOpenSpeed",n.node.options.animateSpeed)("treeAnimateOpenAcceleration",n.node.options.animateAcceleration)("treeAnimateOpenEnabled",n.node.options.animateExpand)}}function fa(e,t){if(1&e&&i.Mb(0,"tree-node",2),2&e){var n=t.$implicit,o=t.index,r=i.fc(2);i.mc("node",n)("index",o)("templates",r.templates)}}function da(e,t){if(1&e&&(i.Pb(0),i.Rb(1,"div"),i.Ic(2,fa,1,3,"tree-node",1),i.Qb(),i.Ob()),2&e){var n=i.fc();i.yb(1),i.Gc("margin-top",n.marginTop),i.yb(1),i.mc("ngForOf",n.viewportNodes)("ngForTrackBy",n.trackNode)}}function ha(e,t){if(1&e&&i.Mb(0,"tree-node-checkbox",4),2&e){var n=i.fc(2);i.mc("node",n.node)}}function pa(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",2),i.Ic(1,ha,1,1,"tree-node-checkbox",3),i.Mb(2,"tree-node-expander",4),i.Rb(3,"div",5),i.bc("click",function(e){return i.zc(n),i.fc().node.mouseAction("click",e)})("dblclick",function(e){return i.zc(n),i.fc().node.mouseAction("dblClick",e)})("mouseover",function(e){return i.zc(n),i.fc().node.mouseAction("mouseOver",e)})("mouseout",function(e){return i.zc(n),i.fc().node.mouseAction("mouseOut",e)})("contextmenu",function(e){return i.zc(n),i.fc().node.mouseAction("contextMenu",e)})("treeDrop",function(e){return i.zc(n),i.fc().node.onDrop(e)})("treeDropDragOver",function(e){return i.zc(n),i.fc().node.mouseAction("dragOver",e)})("treeDropDragLeave",function(e){return i.zc(n),i.fc().node.mouseAction("dragLeave",e)})("treeDropDragEnter",function(e){return i.zc(n),i.fc().node.mouseAction("dragEnter",e)}),i.Mb(4,"tree-node-content",6),i.Qb(),i.Qb()}if(2&e){var o=i.fc();i.Gc("padding-left",o.node.getNodePadding()),i.yb(1),i.mc("ngIf",o.node.options.useCheckbox),i.yb(1),i.mc("node",o.node),i.yb(1),i.Db("node-content-wrapper-active",o.node.isActive)("node-content-wrapper-focused",o.node.isFocused),i.mc("treeAllowDrop",o.node.allowDrop)("allowDragoverStyling",o.node.allowDragoverStyling())("treeDrag",o.node)("treeDragEnabled",o.node.allowDrag()),i.yb(1),i.mc("node",o.node)("index",o.index)("template",o.templates.treeNodeTemplate)}}function ba(e,t){if(1&e){var n=i.Sb();i.Pb(0),i.Rb(1,"input",1),i.bc("click",function(e){return i.zc(n),i.fc().node.mouseAction("checkboxClick",e)}),i.Qb(),i.Ob()}if(2&e){var o=i.fc();i.yb(1),i.mc("checked",o.node.isSelected)("indeterminate",o.node.isPartiallySelected)}}var ga,ma,va,ya,_a,Ca=((ga=function(){function e(t,n){_classCallCheck(this,e),this.templateRef=t,this.viewContainer=n,this.templateBindings={}}return _createClass(e,[{key:"ngOnInit",value:function(){this.view=this.viewContainer.createEmbeddedView(this.templateRef),this.dispose&&this.dispose(),this.shouldDetach()&&this.view.detach(),this.autoDetect(this.view)}},{key:"shouldDetach",value:function(){return this.treeMobxAutorun&&this.treeMobxAutorun.detach}},{key:"autoDetect",value:function(e){this.dispose=nt(function(){return e.detectChanges()})}},{key:"ngOnDestroy",value:function(){this.dispose&&this.dispose()}}]),e}()).\u0275fac=function(e){return new(e||ga)(i.Lb(i.L),i.Lb(i.P))},ga.\u0275dir=i.Gb({type:ga,selectors:[["","treeMobxAutorun",""]],inputs:{treeMobxAutorun:"treeMobxAutorun"}}),ga),ka={TOGGLE_ACTIVE:function(e,t,n){return t&&t.toggleActivated()},TOGGLE_ACTIVE_MULTI:function(e,t,n){return t&&t.toggleActivated(!0)},TOGGLE_SELECTED:function(e,t,n){return t&&t.toggleSelected()},ACTIVATE:function(e,t,n){return t.setIsActive(!0)},DEACTIVATE:function(e,t,n){return t.setIsActive(!1)},SELECT:function(e,t,n){return t.setIsSelected(!0)},DESELECT:function(e,t,n){return t.setIsSelected(!1)},FOCUS:function(e,t,n){return t.focus()},TOGGLE_EXPANDED:function(e,t,n){return t.hasChildren&&t.toggleExpanded()},EXPAND:function(e,t,n){return t.expand()},COLLAPSE:function(e,t,n){return t.collapse()},DRILL_DOWN:function(e,t,n){return e.focusDrillDown()},DRILL_UP:function(e,t,n){return e.focusDrillUp()},NEXT_NODE:function(e,t,n){return e.focusNextNode()},PREVIOUS_NODE:function(e,t,n){return e.focusPreviousNode()},MOVE_NODE:function(e,t,n,i){var o=i.from,r=i.to;n.ctrlKey?e.copyNode(o,r):e.moveNode(o,r)}},Oa={mouse:{click:ka.TOGGLE_ACTIVE,dblClick:null,contextMenu:null,expanderClick:ka.TOGGLE_EXPANDED,checkboxClick:ka.TOGGLE_SELECTED,drop:ka.MOVE_NODE},keys:{39:ka.DRILL_DOWN,37:ka.DRILL_UP,40:ka.NEXT_NODE,38:ka.PREVIOUS_NODE,32:ka.TOGGLE_ACTIVE,13:ka.TOGGLE_ACTIVE}},xa=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e),this.options=t,this.actionMapping=Ui({},this.options.actionMapping,Oa),t.rtl&&(this.actionMapping.keys[39]=co(t,["actionMapping","keys",39])||ka.DRILL_UP,this.actionMapping.keys[37]=co(t,["actionMapping","keys",37])||ka.DRILL_DOWN)}return _createClass(e,[{key:"getNodeClone",value:function(e){return this.options.getNodeClone?this.options.getNodeClone(e):Xo(Object.assign({},e.data),["id"])}},{key:"allowDrop",value:function(e,t,n){return this.options.allowDrop instanceof Function?this.options.allowDrop(e,t,n):void 0===this.options.allowDrop||this.options.allowDrop}},{key:"allowDrag",value:function(e){return this.options.allowDrag instanceof Function?this.options.allowDrag(e):this.options.allowDrag}},{key:"nodeClass",value:function(e){return this.options.nodeClass?this.options.nodeClass(e):""}},{key:"nodeHeight",value:function(e){if(e.data.virtual)return 0;var t=this.options.nodeHeight||22;return"function"==typeof t&&(t=t(e)),t+(0===e.index?2:1)*this.dropSlotHeight}},{key:"hasChildrenField",get:function(){return this.options.hasChildrenField||"hasChildren"}},{key:"childrenField",get:function(){return this.options.childrenField||"children"}},{key:"displayField",get:function(){return this.options.displayField||"name"}},{key:"idField",get:function(){return this.options.idField||"id"}},{key:"isExpandedField",get:function(){return this.options.isExpandedField||"isExpanded"}},{key:"getChildren",get:function(){return this.options.getChildren}},{key:"levelPadding",get:function(){return this.options.levelPadding||0}},{key:"useVirtualScroll",get:function(){return this.options.useVirtualScroll}},{key:"animateExpand",get:function(){return this.options.animateExpand}},{key:"animateSpeed",get:function(){return this.options.animateSpeed||1}},{key:"animateAcceleration",get:function(){return this.options.animateAcceleration||1.2}},{key:"scrollOnActivate",get:function(){return void 0===this.options.scrollOnActivate||this.options.scrollOnActivate}},{key:"rtl",get:function(){return!!this.options.rtl}},{key:"rootId",get:function(){return this.options.rootId}},{key:"useCheckbox",get:function(){return this.options.useCheckbox}},{key:"useTriState",get:function(){return void 0===this.options.useTriState||this.options.useTriState}},{key:"scrollContainer",get:function(){return this.options.scrollContainer}},{key:"allowDragoverStyling",get:function(){return void 0===this.options.allowDragoverStyling||this.options.allowDragoverStyling}},{key:"dropSlotHeight",get:function(){return"number"==typeof(e=this.options.dropSlotHeight)||ui(e)&&"[object Number]"==yn(e)?this.options.dropSlotHeight:2;var e}}]),e}(),wa={toggleExpanded:"toggleExpanded",activate:"activate",deactivate:"deactivate",nodeActivate:"nodeActivate",nodeDeactivate:"nodeDeactivate",select:"select",deselect:"deselect",focus:"focus",blur:"blur",initialized:"initialized",updateData:"updateData",moveNode:"moveNode",copyNode:"copyNode",event:"event",loadNodeChildren:"loadNodeChildren",changeFilter:"changeFilter",stateChange:"stateChange"},Ma=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},Pa=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ea=(ma=function(){function e(t,n,i,o){var r=this;_classCallCheck(this,e),this.data=t,this.parent=n,this.treeModel=i,this.position=0,this.allowDrop=function(e,t){return r.options.allowDrop(e,{parent:r,index:0},t)},this.allowDragoverStyling=function(){return r.options.allowDragoverStyling},null==this.id&&(this.id=Math.floor(1e13*Math.random())),this.index=o,this.getField("children")&&this._initChildren(),this.autoLoadChildren()}return _createClass(e,[{key:"fireEvent",value:function(e){this.treeModel.fireEvent(e)}},{key:"getField",value:function(e){return this.data[this.options[e+"Field"]]}},{key:"setField",value:function(e,t){this.data[this.options[e+"Field"]]=t}},{key:"_findAdjacentSibling",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this._getParentsChildren(t),i=n.indexOf(this);return n.length>i+e?n[i+e]:null}},{key:"findNextSibling",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._findAdjacentSibling(1,e)}},{key:"findPreviousSibling",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._findAdjacentSibling(-1,e)}},{key:"getVisibleChildren",value:function(){return this.visibleChildren}},{key:"getFirstChild",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return yr((e?this.visibleChildren:this.children)||[])}},{key:"getLastChild",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Uo((e?this.visibleChildren:this.children)||[])}},{key:"findNextNode",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&this.isExpanded&&this.getFirstChild(t)||this.findNextSibling(t)||this.parent&&this.parent.findNextNode(!1,t)}},{key:"findPreviousNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.findPreviousSibling(e);return t?t._getLastOpenDescendant(e):this.realParent}},{key:"_getLastOpenDescendant",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getLastChild(e);return this.isCollapsed||!t?this:t._getLastOpenDescendant(e)}},{key:"_getParentsChildren",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.parent&&(e?this.parent.getVisibleChildren():this.parent.children)||[]}},{key:"getIndexInParent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._getParentsChildren(e).indexOf(this)}},{key:"isDescendantOf",value:function(e){return this===e||this.parent&&this.parent.isDescendantOf(e)}},{key:"getNodePadding",value:function(){return this.options.levelPadding*(this.level-1)+"px"}},{key:"getClass",value:function(){return[this.options.nodeClass(this),"tree-node-level-"+this.level].join(" ")}},{key:"onDrop",value:function(e){this.mouseAction("drop",e.event,{from:e.element,to:{parent:this,index:0,dropOnNode:!0}})}},{key:"allowDrag",value:function(){return this.options.allowDrag(this)}},{key:"loadNodeChildren",value:function(){var e=this;return this.options.getChildren?Promise.resolve(this.options.getChildren(this)).then(function(t){t&&(e.setField("children",t),e._initChildren(),e.options.useTriState&&e.treeModel.isSelected(e)&&e.setIsSelected(!0),e.children.forEach(function(e){e.getField("isExpanded")&&e.hasChildren&&e.expand()}))}).then(function(){e.fireEvent({eventName:wa.loadNodeChildren,node:e})}):Promise.resolve()}},{key:"expand",value:function(){return this.isExpanded||this.toggleExpanded(),this}},{key:"collapse",value:function(){return this.isExpanded&&this.toggleExpanded(),this}},{key:"doForAll",value:function(e){var t=this;Promise.resolve(e(this)).then(function(){t.children&&t.children.forEach(function(t){return t.doForAll(e)})})}},{key:"expandAll",value:function(){this.doForAll(function(e){return e.expand()})}},{key:"collapseAll",value:function(){this.doForAll(function(e){return e.collapse()})}},{key:"ensureVisible",value:function(){return this.realParent&&(this.realParent.expand(),this.realParent.ensureVisible()),this}},{key:"toggleExpanded",value:function(){return this.setIsExpanded(!this.isExpanded),this}},{key:"setIsExpanded",value:function(e){return this.hasChildren&&this.treeModel.setExpandedNode(this,e),this}},{key:"autoLoadChildren",value:function(){var e=this;this.handler=rt(function(){return e.isExpanded},function(t){!e.children&&e.hasChildren&&t&&e.loadNodeChildren()},{fireImmediately:!0})}},{key:"dispose",value:function(){this.children&&this.children.forEach(function(e){return e.dispose()}),this.handler&&this.handler(),this.parent=null,this.children=null}},{key:"setIsActive",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.treeModel.setActiveNode(this,e,t),e&&this.focus(this.options.scrollOnActivate),this}},{key:"isSelectable",value:function(){return this.isLeaf||!this.children||!this.options.useTriState}},{key:"setIsSelected",value:function(e){return this.isSelectable()?this.treeModel.setSelectedNode(this,e):this.visibleChildren.forEach(function(t){return t.setIsSelected(e)}),this}},{key:"toggleSelected",value:function(){return this.setIsSelected(!this.isSelected),this}},{key:"toggleActivated",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.setIsActive(!this.isActive,e),this}},{key:"setActiveAndVisible",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.setIsActive(!0,e).ensureVisible(),setTimeout(this.scrollIntoView.bind(this)),this}},{key:"scrollIntoView",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.treeModel.virtualScroll.scrollIntoView(this,e)}},{key:"focus",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.treeModel.getFocusedNode();return this.treeModel.setFocusedNode(this),e&&this.scrollIntoView(),t&&this.fireEvent({eventName:wa.blur,node:t}),this.fireEvent({eventName:wa.focus,node:this}),this}},{key:"blur",value:function(){var e=this.treeModel.getFocusedNode();return this.treeModel.setFocusedNode(null),e&&this.fireEvent({eventName:wa.blur,node:this}),this}},{key:"setIsHidden",value:function(e){this.treeModel.setIsHidden(this,e)}},{key:"hide",value:function(){this.setIsHidden(!0)}},{key:"show",value:function(){this.setIsHidden(!1)}},{key:"mouseAction",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.treeModel.setFocus(!0);var i=this.options.actionMapping.mouse[e];i&&i(this.treeModel,this,t,n)}},{key:"getSelfHeight",value:function(){return this.options.nodeHeight(this)}},{key:"_initChildren",value:function(){var t=this;this.children=this.getField("children").map(function(n,i){return new e(n,t,t.treeModel,i)})}},{key:"isHidden",get:function(){return this.treeModel.isHidden(this)}},{key:"isExpanded",get:function(){return this.treeModel.isExpanded(this)}},{key:"isActive",get:function(){return this.treeModel.isActive(this)}},{key:"isFocused",get:function(){return this.treeModel.isNodeFocused(this)}},{key:"isSelected",get:function(){return this.isSelectable()?this.treeModel.isSelected(this):(t=function(e){return e.isSelected},(gi(e=this.children)?Zo:gr)(e,pr(t)));var e,t}},{key:"isAllSelected",get:function(){return this.isSelectable()?this.treeModel.isSelected(this):(t=function(e){return e.isAllSelected},(gi(e=this.children)?mr:vr)(e,pr(t)));var e,t}},{key:"isPartiallySelected",get:function(){return this.isSelected&&!this.isAllSelected}},{key:"level",get:function(){return this.parent?this.parent.level+1:0}},{key:"path",get:function(){return this.parent?[].concat(_toConsumableArray(this.parent.path),[this.id]):[]}},{key:"elementRef",get:function(){throw"Element Ref is no longer supported since introducing virtual scroll\n\n      You may use a template to obtain a reference to the element"}},{key:"originalNode",get:function(){return this._originalNode}},{key:"hasChildren",get:function(){return!!(this.getField("hasChildren")||this.children&&this.children.length>0)}},{key:"isCollapsed",get:function(){return!this.isExpanded}},{key:"isLeaf",get:function(){return!this.hasChildren}},{key:"isRoot",get:function(){return this.parent.data.virtual}},{key:"realParent",get:function(){return this.isRoot?null:this.parent}},{key:"options",get:function(){return this.treeModel.options}},{key:"displayField",get:function(){return this.getField("display")}},{key:"id",get:function(){return this.getField("id")},set:function(e){this.setField("id",e)}},{key:"visibleChildren",get:function(){return(this.children||[]).filter(function(e){return!e.isHidden})}}]),e}(),Ma([ce,Pa("design:type",Object),Pa("design:paramtypes",[])],ma.prototype,"isHidden",null),Ma([ce,Pa("design:type",Object),Pa("design:paramtypes",[])],ma.prototype,"isExpanded",null),Ma([ce,Pa("design:type",Object),Pa("design:paramtypes",[])],ma.prototype,"isActive",null),Ma([ce,Pa("design:type",Object),Pa("design:paramtypes",[])],ma.prototype,"isFocused",null),Ma([ce,Pa("design:type",Object),Pa("design:paramtypes",[])],ma.prototype,"isSelected",null),Ma([ce,Pa("design:type",Object),Pa("design:paramtypes",[])],ma.prototype,"isAllSelected",null),Ma([ce,Pa("design:type",Object),Pa("design:paramtypes",[])],ma.prototype,"isPartiallySelected",null),Ma([oe,Pa("design:type",Array)],ma.prototype,"children",void 0),Ma([oe,Pa("design:type",Number)],ma.prototype,"index",void 0),Ma([oe,Pa("design:type",Object)],ma.prototype,"position",void 0),Ma([oe,Pa("design:type",Number)],ma.prototype,"height",void 0),Ma([ce,Pa("design:type",Number),Pa("design:paramtypes",[])],ma.prototype,"level",null),Ma([ce,Pa("design:type",Array),Pa("design:paramtypes",[])],ma.prototype,"path",null),Ma([ce,Pa("design:type",Object),Pa("design:paramtypes",[])],ma.prototype,"visibleChildren",null),Ma([et,Pa("design:type",Function),Pa("design:paramtypes",[Object]),Pa("design:returntype",void 0)],ma.prototype,"setIsSelected",null),Ma([et,Pa("design:type",Function),Pa("design:paramtypes",[]),Pa("design:returntype",void 0)],ma.prototype,"_initChildren",null),ma),Sa=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},Ra=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ia=((ya=function(){function e(){_classCallCheck(this,e),this.options=new xa,this.eventNames=Object.keys(wa),this.expandedNodeIds={},this.selectedLeafNodeIds={},this.activeNodeIds={},this.hiddenNodeIds={},this.focusedNodeId=null,this.firstUpdate=!0,this.subscriptions=[]}return _createClass(e,[{key:"fireEvent",value:function(e){e.treeModel=this,this.events[e.eventName].emit(e),this.events.event.emit(e)}},{key:"subscribe",value:function(e,t){var n=this.events[e].subscribe(t);this.subscriptions.push(n)}},{key:"getFocusedNode",value:function(){return this.focusedNode}},{key:"getActiveNode",value:function(){return this.activeNodes[0]}},{key:"getActiveNodes",value:function(){return this.activeNodes}},{key:"getVisibleRoots",value:function(){return this.virtualRoot.visibleChildren}},{key:"getFirstRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return yr(e?this.getVisibleRoots():this.roots)}},{key:"getLastRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Uo(e?this.getVisibleRoots():this.roots)}},{key:"isNodeFocused",value:function(e){return this.focusedNode===e}},{key:"isEmptyTree",value:function(){return this.roots&&0===this.roots.length}},{key:"getNodeByPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return null;if(t=t||this.virtualRoot,0===e.length)return t;if(!t.children)return null;var n=e.shift(),i=Rr(t.children,{id:n});return i?this.getNodeByPath(e,i):null}},{key:"getNodeById",value:function(e){var t=e.toString();return this.getNodeBy(function(e){return e.id.toString()===t})}},{key:"getNodeBy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(t=t||this.virtualRoot).children)return null;var n=Rr(t.children,e);if(n)return n;var i,o=_createForOfIteratorHelper(t.children);try{for(o.s();!(i=o.n()).done;){var r=i.value,a=this.getNodeBy(e,r);if(a)return a}}catch(s){o.e(s)}finally{o.f()}}},{key:"isExpanded",value:function(e){return this.expandedNodeIds[e.id]}},{key:"isHidden",value:function(e){return this.hiddenNodeIds[e.id]}},{key:"isActive",value:function(e){return this.activeNodeIds[e.id]}},{key:"isSelected",value:function(e){return this.selectedLeafNodeIds[e.id]}},{key:"ngOnDestroy",value:function(){this.dispose(),this.unsubscribeAll()}},{key:"dispose",value:function(){this.virtualRoot&&this.virtualRoot.dispose()}},{key:"unsubscribeAll",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.subscriptions=[]}},{key:"setData",value:function(e){var t=e.nodes,n=e.options,i=void 0===n?null:n,o=e.events,r=void 0===o?null:o;i&&(this.options=new xa(i)),r&&(this.events=r),t&&(this.nodes=t),this.update()}},{key:"update",value:function(){var e=_defineProperty2({id:this.options.rootId,virtual:!0},this.options.childrenField,this.nodes);this.dispose(),this.virtualRoot=new Ea(e,null,this,0),this.roots=this.virtualRoot.children,this.firstUpdate?this.roots&&(this.firstUpdate=!1,this._calculateExpandedNodes()):this.fireEvent({eventName:wa.updateData})}},{key:"setFocusedNode",value:function(e){this.focusedNodeId=e?e.id:null}},{key:"setFocus",value:function(t){e.focusedTree=t?this:null}},{key:"doForAll",value:function(e){this.roots.forEach(function(t){return t.doForAll(e)})}},{key:"focusNextNode",value:function(){var e=this.getFocusedNode(),t=e?e.findNextNode(!0,!0):this.getFirstRoot(!0);t&&t.focus()}},{key:"focusPreviousNode",value:function(){var e=this.getFocusedNode(),t=e?e.findPreviousNode(!0):this.getLastRoot(!0);t&&t.focus()}},{key:"focusDrillDown",value:function(){var e=this.getFocusedNode();if(e&&e.isCollapsed&&e.hasChildren)e.toggleExpanded();else{var t=e?e.getFirstChild(!0):this.getFirstRoot(!0);t&&t.focus()}}},{key:"focusDrillUp",value:function(){var e=this.getFocusedNode();if(e)if(e.isExpanded)e.toggleExpanded();else{var t=e.realParent;t&&t.focus()}}},{key:"setActiveNode",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n?this._setActiveNodeMulti(e,t):this._setActiveNodeSingle(e,t),t?(e.focus(this.options.scrollOnActivate),this.fireEvent({eventName:wa.activate,node:e}),this.fireEvent({eventName:wa.nodeActivate,node:e})):(this.fireEvent({eventName:wa.deactivate,node:e}),this.fireEvent({eventName:wa.nodeDeactivate,node:e}))}},{key:"setSelectedNode",value:function(e,t){this.selectedLeafNodeIds=Object.assign({},this.selectedLeafNodeIds,_defineProperty2({},e.id,t)),t?(e.focus(),this.fireEvent({eventName:wa.select,node:e})):this.fireEvent({eventName:wa.deselect,node:e})}},{key:"setExpandedNode",value:function(e,t){this.expandedNodeIds=Object.assign({},this.expandedNodeIds,_defineProperty2({},e.id,t)),this.fireEvent({eventName:wa.toggleExpanded,node:e,isExpanded:t})}},{key:"expandAll",value:function(){this.roots.forEach(function(e){return e.expandAll()})}},{key:"collapseAll",value:function(){this.roots.forEach(function(e){return e.collapseAll()})}},{key:"setIsHidden",value:function(e,t){this.hiddenNodeIds=Object.assign({},this.hiddenNodeIds,_defineProperty2({},e.id,t))}},{key:"setHiddenNodeIds",value:function(e){this.hiddenNodeIds=e.reduce(function(e,t){return Object.assign(e,_defineProperty2({},t,!0))},{})}},{key:"performKeyAction",value:function(e,t){var n=this.options.actionMapping.keys[t.keyCode];return!!n&&(t.preventDefault(),n(this,e,t),!0)}},{key:"filterNodes",value:function(e){var t,n=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return this.clearFilter();if(Ir(e))t=function(t){return-1!==t.displayField.toLowerCase().indexOf(e.toLowerCase())};else{if(!Cn(e))return console.error("Don't know what to do with filter",e),void console.error("Should be either a string or function");t=e}var o={};this.roots.forEach(function(e){return n._filterNode(o,e,t,i)}),this.hiddenNodeIds=o,this.fireEvent({eventName:wa.changeFilter})}},{key:"clearFilter",value:function(){this.hiddenNodeIds={},this.fireEvent({eventName:wa.changeFilter})}},{key:"moveNode",value:function(e,t){var n=e.getIndexInParent(),i=e.parent;if(this.canMoveNode(e,t,n)){var o=i.getField("children");t.parent.getField("children")||t.parent.setField("children",[]);var r=t.parent.getField("children"),a=o.splice(n,1)[0],s=i===t.parent&&t.index>n?t.index-1:t.index;r.splice(s,0,a),i.treeModel.update(),t.parent.treeModel!==i.treeModel&&t.parent.treeModel.update(),this.fireEvent({eventName:wa.moveNode,node:a,to:{parent:t.parent.data,index:s},from:{parent:i.data,index:n}})}}},{key:"copyNode",value:function(e,t){var n=e.getIndexInParent();if(this.canMoveNode(e,t,n)){t.parent.getField("children")||t.parent.setField("children",[]);var i=t.parent.getField("children"),o=this.options.getNodeClone(e);i.splice(t.index,0,o),e.treeModel.update(),t.parent.treeModel!==e.treeModel&&t.parent.treeModel.update(),this.fireEvent({eventName:wa.copyNode,node:o,to:{parent:t.parent.data,index:t.index}})}}},{key:"getState",value:function(){return{expandedNodeIds:this.expandedNodeIds,selectedLeafNodeIds:this.selectedLeafNodeIds,activeNodeIds:this.activeNodeIds,hiddenNodeIds:this.hiddenNodeIds,focusedNodeId:this.focusedNodeId}}},{key:"setState",value:function(e){e&&Object.assign(this,{expandedNodeIds:e.expandedNodeIds||{},selectedLeafNodeIds:e.selectedLeafNodeIds||{},activeNodeIds:e.activeNodeIds||{},hiddenNodeIds:e.hiddenNodeIds||{},focusedNodeId:e.focusedNodeId})}},{key:"subscribeToState",value:function(e){var t=this;nt(function(){return e(t.getState())})}},{key:"canMoveNode",value:function(e,t,n){return n||e.getIndexInParent(),(e.parent!==t.parent||n!==t.index)&&!t.parent.isDescendantOf(e)}},{key:"calculateExpandedNodes",value:function(){this._calculateExpandedNodes()}},{key:"_filterNode",value:function(e,t,n,i){var o=this,r=n(t);return t.children&&t.children.forEach(function(t){o._filterNode(e,t,n,i)&&(r=!0)}),r||(e[t.id]=!0),i&&r&&t.ensureVisible(),r}},{key:"_calculateExpandedNodes",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(t=t||this.virtualRoot).data[this.options.isExpandedField]&&(this.expandedNodeIds=Object.assign({},this.expandedNodeIds,_defineProperty2({},t.id,!0))),t.children&&t.children.forEach(function(t){return e._calculateExpandedNodes(t)})}},{key:"_setActiveNodeSingle",value:function(e,t){var n=this;this.activeNodes.filter(function(t){return t!==e}).forEach(function(e){n.fireEvent({eventName:wa.deactivate,node:e}),n.fireEvent({eventName:wa.nodeDeactivate,node:e})}),this.activeNodeIds=t?_defineProperty2({},e.id,!0):{}}},{key:"_setActiveNodeMulti",value:function(e,t){this.activeNodeIds=Object.assign({},this.activeNodeIds,_defineProperty2({},e.id,t))}},{key:"isFocused",get:function(){return e.focusedTree===this}},{key:"focusedNode",get:function(){return this.focusedNodeId?this.getNodeById(this.focusedNodeId):null}},{key:"expandedNodes",get:function(){var e=this,t=Object.keys(this.expandedNodeIds).filter(function(t){return e.expandedNodeIds[t]}).map(function(t){return e.getNodeById(t)});return _r(t)}},{key:"activeNodes",get:function(){var e=this,t=Object.keys(this.activeNodeIds).filter(function(t){return e.activeNodeIds[t]}).map(function(t){return e.getNodeById(t)});return _r(t)}},{key:"hiddenNodes",get:function(){var e=this,t=Object.keys(this.hiddenNodeIds).filter(function(t){return e.hiddenNodeIds[t]}).map(function(t){return e.getNodeById(t)});return _r(t)}},{key:"selectedLeafNodes",get:function(){var e=this,t=Object.keys(this.selectedLeafNodeIds).filter(function(t){return e.selectedLeafNodeIds[t]}).map(function(t){return e.getNodeById(t)});return _r(t)}}]),e}()).\u0275fac=function(e){return new(e||ya)},ya.\u0275prov=i.Hb({token:ya,factory:ya.\u0275fac}),ya.focusedTree=null,Sa([oe,Ra("design:type",Array)],ya.prototype,"roots",void 0),Sa([oe,Ra("design:type",Object)],ya.prototype,"expandedNodeIds",void 0),Sa([oe,Ra("design:type",Object)],ya.prototype,"selectedLeafNodeIds",void 0),Sa([oe,Ra("design:type",Object)],ya.prototype,"activeNodeIds",void 0),Sa([oe,Ra("design:type",Object)],ya.prototype,"hiddenNodeIds",void 0),Sa([oe,Ra("design:type",Object)],ya.prototype,"focusedNodeId",void 0),Sa([oe,Ra("design:type",Ea)],ya.prototype,"virtualRoot",void 0),Sa([ce,Ra("design:type",Object),Ra("design:paramtypes",[])],ya.prototype,"focusedNode",null),Sa([ce,Ra("design:type",Object),Ra("design:paramtypes",[])],ya.prototype,"expandedNodes",null),Sa([ce,Ra("design:type",Object),Ra("design:paramtypes",[])],ya.prototype,"activeNodes",null),Sa([ce,Ra("design:type",Object),Ra("design:paramtypes",[])],ya.prototype,"hiddenNodes",null),Sa([ce,Ra("design:type",Object),Ra("design:paramtypes",[])],ya.prototype,"selectedLeafNodes",null),Sa([et,Ra("design:type",Function),Ra("design:paramtypes",[Object]),Ra("design:returntype",void 0)],ya.prototype,"setData",null),Sa([et,Ra("design:type",Function),Ra("design:paramtypes",[]),Ra("design:returntype",void 0)],ya.prototype,"update",null),Sa([et,Ra("design:type",Function),Ra("design:paramtypes",[Object]),Ra("design:returntype",void 0)],ya.prototype,"setFocusedNode",null),Sa([et,Ra("design:type",Function),Ra("design:paramtypes",[Object]),Ra("design:returntype",void 0)],ya.prototype,"setFocus",null),Sa([et,Ra("design:type",Function),Ra("design:paramtypes",[Object]),Ra("design:returntype",void 0)],ya.prototype,"doForAll",null),Sa([et,Ra("design:type",Function),Ra("design:paramtypes",[]),Ra("design:returntype",void 0)],ya.prototype,"focusNextNode",null),Sa([et,Ra("design:type",Function),Ra("design:paramtypes",[]),Ra("design:returntype",void 0)],ya.prototype,"focusPreviousNode",null),Sa([et,Ra("design:type",Function),Ra("design:paramtypes",[]),Ra("design:returntype",void 0)],ya.prototype,"focusDrillDown",null),Sa([et,Ra("design:type",Function),Ra("design:paramtypes",[]),Ra("design:returntype",void 0)],ya.prototype,"focusDrillUp",null),Sa([et,Ra("design:type",Function),Ra("design:paramtypes",[Object,Object,Object]),Ra("design:returntype",void 0)],ya.prototype,"setActiveNode",null),Sa([et,Ra("design:type",Function),Ra("design:paramtypes",[Object,Object]),Ra("design:returntype",void 0)],ya.prototype,"setSelectedNode",null),Sa([et,Ra("design:type",Function),Ra("design:paramtypes",[Object,Object]),Ra("design:returntype",void 0)],ya.prototype,"setExpandedNode",null),Sa([et,Ra("design:type",Function),Ra("design:paramtypes",[]),Ra("design:returntype",void 0)],ya.prototype,"expandAll",null),Sa([et,Ra("design:type",Function),Ra("design:paramtypes",[]),Ra("design:returntype",void 0)],ya.prototype,"collapseAll",null),Sa([et,Ra("design:type",Function),Ra("design:paramtypes",[Object,Object]),Ra("design:returntype",void 0)],ya.prototype,"setIsHidden",null),Sa([et,Ra("design:type",Function),Ra("design:paramtypes",[Object]),Ra("design:returntype",void 0)],ya.prototype,"setHiddenNodeIds",null),Sa([et,Ra("design:type",Function),Ra("design:paramtypes",[Object,Object]),Ra("design:returntype",void 0)],ya.prototype,"filterNodes",null),Sa([et,Ra("design:type",Function),Ra("design:paramtypes",[]),Ra("design:returntype",void 0)],ya.prototype,"clearFilter",null),Sa([et,Ra("design:type",Function),Ra("design:paramtypes",[Object,Object]),Ra("design:returntype",void 0)],ya.prototype,"moveNode",null),Sa([et,Ra("design:type",Function),Ra("design:paramtypes",[Object,Object]),Ra("design:returntype",void 0)],ya.prototype,"copyNode",null),Sa([et,Ra("design:type",Function),Ra("design:paramtypes",[Object]),Ra("design:returntype",void 0)],ya.prototype,"setState",null),ya),Aa=((va=function(){function e(){_classCallCheck(this,e),this._draggedElement=null}return _createClass(e,[{key:"set",value:function(e){this._draggedElement=e}},{key:"get",value:function(){return this._draggedElement}},{key:"isDragging",value:function(){return!!this.get()}}]),e}()).\u0275fac=function(e){return new(e||va)},va.\u0275prov=Object(i.Hb)({factory:function(){return new va},token:va,providedIn:"root"}),va),Ta=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},Da=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ja=((_a=function(){function e(t){var n=this;_classCallCheck(this,e),this.treeModel=t,this.yBlocks=0,this.x=0,this.viewportHeight=null,this.viewport=null,t.virtualScroll=this,this._dispose=[nt(function(){return n.fixScroll()})]}return _createClass(e,[{key:"fireEvent",value:function(e){this.treeModel.fireEvent(e)}},{key:"init",value:function(){var e=this,t=this.recalcPositions.bind(this);t(),this._dispose=[].concat(_toConsumableArray(this._dispose),[rt(function(){return e.treeModel.roots},t),rt(function(){return e.treeModel.expandedNodeIds},t),rt(function(){return e.treeModel.hiddenNodeIds},t)]),this.treeModel.subscribe(wa.loadNodeChildren,t)}},{key:"isEnabled",value:function(){return this.treeModel.options.useVirtualScroll}},{key:"_setYBlocks",value:function(e){this.yBlocks=e}},{key:"recalcPositions",value:function(){this.treeModel.virtualRoot.height=this._getPositionAfter(this.treeModel.getVisibleRoots(),0)}},{key:"_getPositionAfter",value:function(e,t){var n=this,i=t;return e.forEach(function(e){e.position=i,i=n._getPositionAfterNode(e,i)}),i}},{key:"_getPositionAfterNode",value:function(e,t){var n=e.getSelfHeight()+t;return e.children&&e.isExpanded&&(n=this._getPositionAfter(e.visibleChildren,n)),e.height=n-t,n}},{key:"clear",value:function(){this._dispose.forEach(function(e){return e()})}},{key:"setViewport",value:function(e){Object.assign(this,{viewport:e,x:e.scrollLeft,yBlocks:Math.round(e.scrollTop/150),viewportHeight:e.getBoundingClientRect?e.getBoundingClientRect().height:0})}},{key:"scrollIntoView",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e.options.scrollContainer){var i=e.options.scrollContainer,o=i.getBoundingClientRect().height,r=i.getBoundingClientRect().top,a=this.viewport.getBoundingClientRect().top+e.position-r;(t||a<i.scrollTop||a+e.getSelfHeight()>i.scrollTop+o)&&(i.scrollTop=n?a-o/2:a)}else(t||e.position<this.y||e.position+e.getSelfHeight()>this.y+this.viewportHeight)&&this.viewport&&(this.viewport.scrollTop=n?e.position-this.viewportHeight/2:e.position,this._setYBlocks(Math.floor(this.viewport.scrollTop/150)))}},{key:"getViewportNodes",value:function(e){var t=this;if(!e)return[];var n=e.filter(function(e){return!e.isHidden});if(!this.isEnabled())return n;if(!this.viewportHeight||!n.length)return[];var i=n.slice(-1)[0];if(!i.height&&0===i.position)return[];for(var o=Fa(n,function(e){return e.position+500>t.y||e.position+e.height>t.y}),r=Fa(n,function(e){return e.position-500>t.y+t.viewportHeight},o),a=[],s=o;s<=r;s++)a.push(n[s]);return a}},{key:"fixScroll",value:function(){var e=Math.max(0,this.totalHeight-this.viewportHeight);this.y<0&&this._setYBlocks(0),this.y>e&&this._setYBlocks(e/150)}},{key:"y",get:function(){return 150*this.yBlocks}},{key:"totalHeight",get:function(){return this.treeModel.virtualRoot?this.treeModel.virtualRoot.height:0}}]),e}()).\u0275fac=function(e){return new(e||_a)(i.Yb(Ia))},_a.\u0275prov=i.Hb({token:_a,factory:_a.\u0275fac}),Ta([oe,Da("design:type",Object)],_a.prototype,"yBlocks",void 0),Ta([oe,Da("design:type",Object)],_a.prototype,"x",void 0),Ta([oe,Da("design:type",Object)],_a.prototype,"viewportHeight",void 0),Ta([ce,Da("design:type",Object),Da("design:paramtypes",[])],_a.prototype,"y",null),Ta([ce,Da("design:type",Object),Da("design:paramtypes",[])],_a.prototype,"totalHeight",null),Ta([et,Da("design:type",Function),Da("design:paramtypes",[Object]),Da("design:returntype",void 0)],_a.prototype,"_setYBlocks",null),Ta([et,Da("design:type",Function),Da("design:paramtypes",[]),Da("design:returntype",void 0)],_a.prototype,"recalcPositions",null),Ta([et,Da("design:type",Function),Da("design:paramtypes",[Object]),Da("design:returntype",void 0)],_a.prototype,"setViewport",null),Ta([et,Da("design:type",Function),Da("design:paramtypes",[Object,Object,Object]),Da("design:returntype",void 0)],_a.prototype,"scrollIntoView",null),_a);function Fa(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=n,o=e.length-1;i!==o;){var r=Math.floor((i+o)/2);t(e[r])?o=r:i=i===r?o:r}return i}var Qa,La,Na,za,Va,Ba,Ua,Ha,Ka,qa,$a,Wa,Ga,Ya,Xa,Za=((Ha=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Ha)},Ha.\u0275cmp=i.Fb({type:Ha,selectors:[["tree-loading-component"]],inputs:{template:"template",node:"node"},decls:2,vars:5,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(i.Ic(0,Nr,2,0,"span",0),i.Nb(1,1)),2&e&&(i.mc("ngIf",!t.template),i.yb(1),i.mc("ngTemplateOutlet",t.template)("ngTemplateOutletContext",i.qc(3,zr,t.node)))},directives:[a.n,a.p],encapsulation:2}),Ha),Ja=((Ua=function(){function e(t,n,i){var o=this;_classCallCheck(this,e),this.elementRef=t,this.ngZone=n,this.virtualScroll=i,this.setViewport=function(e,t,n){var i=!0,o=!0;return _n(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),function(e,t,n){var i,o,r,a,s,c,l=0,u=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=i,r=o;return i=o=void 0,l=t,a=e.apply(r,n)}function p(e){return l=e,s=setTimeout(g,t),u?h(e):a}function b(e){var n=e-c;return void 0===c||n>=t||n<0||f&&e-l>=r}function g(){var e=Ar();if(b(e))return m(e);s=setTimeout(g,function(e){var n=t-(e-c);return f?Dr(n,r-(e-l)):n}(e))}function m(e){return s=void 0,d&&i?h(e):(i=o=void 0,a)}function v(){var e=Ar(),n=b(e);if(i=arguments,o=this,c=e,n){if(void 0===s)return p(c);if(f)return clearTimeout(s),s=setTimeout(g,t),h(c)}return void 0===s&&(s=setTimeout(g,t)),a}return t=Pr(t)||0,_n(n)&&(u=!!n.leading,r=(f="maxWait"in n)?Tr(Pr(n.maxWait)||0,t):r,d="trailing"in n?!!n.trailing:d),v.cancel=function(){void 0!==s&&clearTimeout(s),l=0,i=c=o=s=void 0},v.flush=function(){return void 0===s?a:m(Ar())},v}(e,17,{leading:i,maxWait:17,trailing:o})}(function(){o.virtualScroll.setViewport(o.elementRef.nativeElement)}),this.scrollEventHandler=this.setViewport.bind(this)}return _createClass(e,[{key:"ngOnInit",value:function(){this.virtualScroll.init()}},{key:"ngAfterViewInit",value:function(){var e=this;setTimeout(function(){e.setViewport(),e.virtualScroll.fireEvent({eventName:wa.initialized})});var t=this.elementRef.nativeElement;this.ngZone.runOutsideAngular(function(){t.addEventListener("scroll",e.scrollEventHandler)})}},{key:"ngOnDestroy",value:function(){this.virtualScroll.clear(),this.elementRef.nativeElement.removeEventListener("scroll",this.scrollEventHandler)}},{key:"getTotalHeight",value:function(){return this.virtualScroll.isEnabled()&&this.virtualScroll.totalHeight+"px"||"auto"}}]),e}()).\u0275fac=function(e){return new(e||Ua)(i.Lb(i.l),i.Lb(i.z),i.Lb(ja))},Ua.\u0275cmp=i.Fb({type:Ua,selectors:[["tree-viewport"]],features:[i.xb([ja])],ngContentSelectors:Ur,decls:1,vars:2,consts:[[4,"treeMobxAutorun"]],template:function(e,t){1&e&&(i.lc(),i.Ic(0,Vr,3,2,"ng-container",0)),2&e&&i.mc("treeMobxAutorun",i.pc(1,Br))},directives:[Ca],encapsulation:2}),Ua),es=((Ba=function(){function e(t,n){var o=this;_classCallCheck(this,e),this.treeModel=t,this.treeDraggedElement=n,t.eventNames.forEach(function(e){return o[e]=new i.n}),t.subscribeToState(function(e){return o.stateChange.emit(e)})}return _createClass(e,[{key:"onKeydown",value:function(e){if(this.treeModel.isFocused&&!function(e,t,n,i){var o;e=vi(e)?e:null==(o=e)?[]:function(e,t){return eo(t,function(t){return e[t]})}(o,fo(o)),n=n&&!i?Er(n):0;var r=e.length;return n<0&&(n=Fr(r+n,0)),Ir(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&function(e,t,n){return t==t?function(e,t,n){for(var i=n-1,o=e.length;++i<o;)if(e[i]===t)return i;return-1}(e,t,n):Cr(e,jr,n)}(e,t,n)>-1}(["input","textarea"],document.activeElement.tagName.toLowerCase())){var t=this.treeModel.getFocusedNode();this.treeModel.performKeyAction(t,e)}}},{key:"onMousedown",value:function(e){(function e(t,n){return!t||t.localName!==n&&e(t.parentElement,n)})(e.target,"tree-root")&&this.treeModel.setFocus(!1)}},{key:"ngOnChanges",value:function(e){(e.options||e.nodes)&&this.treeModel.setData({options:e.options&&e.options.currentValue,nodes:e.nodes&&e.nodes.currentValue,events:Lr(this,this.treeModel.eventNames)})}},{key:"sizeChanged",value:function(){this.viewportComponent.setViewport()}},{key:"nodes",set:function(e){}},{key:"options",set:function(e){}},{key:"focused",set:function(e){this.treeModel.setFocus(e)}},{key:"state",set:function(e){this.treeModel.setState(e)}}]),e}()).\u0275fac=function(e){return new(e||Ba)(i.Lb(Ia),i.Lb(Aa))},Ba.\u0275cmp=i.Fb({type:Ba,selectors:[["Tree"],["tree-root"]],contentQueries:function(e,t,n){var o;1&e&&(i.Eb(n,Hr,!0),i.Eb(n,Kr,!0),i.Eb(n,qr,!0),i.Eb(n,$r,!0)),2&e&&(i.uc(o=i.cc())&&(t.loadingTemplate=o.first),i.uc(o=i.cc())&&(t.treeNodeTemplate=o.first),i.uc(o=i.cc())&&(t.treeNodeWrapperTemplate=o.first),i.uc(o=i.cc())&&(t.treeNodeFullTemplate=o.first))},viewQuery:function(e,t){var n;1&e&&i.Pc(Wr,!0),2&e&&i.uc(n=i.cc())&&(t.viewportComponent=n.first)},hostBindings:function(e,t){1&e&&i.bc("keydown",function(e){return t.onKeydown(e)},!1,i.wc)("mousedown",function(e){return t.onMousedown(e)},!1,i.wc)},inputs:{nodes:"nodes",options:"options",focused:"focused",state:"state"},outputs:{toggleExpanded:"toggleExpanded",activate:"activate",deactivate:"deactivate",nodeActivate:"nodeActivate",nodeDeactivate:"nodeDeactivate",select:"select",deselect:"deselect",focus:"focus",blur:"blur",updateData:"updateData",initialized:"initialized",moveNode:"moveNode",copyNode:"copyNode",loadNodeChildren:"loadNodeChildren",changeFilter:"changeFilter",event:"event",stateChange:"stateChange"},features:[i.xb([Ia]),i.wb],decls:5,vars:6,consts:[["viewport",""],[1,"angular-tree-component"],[3,"nodes","treeModel","templates",4,"ngIf"],["class","empty-tree-drop-slot",3,"dropIndex","node",4,"ngIf"],[3,"nodes","treeModel","templates"],[1,"empty-tree-drop-slot",3,"dropIndex","node"]],template:function(e,t){1&e&&(i.Rb(0,"tree-viewport",null,0),i.Rb(2,"div",1),i.Ic(3,Yr,1,8,"tree-node-collection",2),i.Ic(4,Xr,1,2,"tree-node-drop-slot",3),i.Qb(),i.Qb()),2&e&&(i.yb(2),i.Db("node-dragging",t.treeDraggedElement.isDragging())("angular-tree-component-rtl",t.treeModel.options.rtl),i.yb(1),i.mc("ngIf",t.treeModel.roots),i.yb(1),i.mc("ngIf",t.treeModel.isEmptyTree()))},directives:function(){return[Ja,a.n,fs,is]},encapsulation:2}),Ba),ts=((Va=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Va)},Va.\u0275cmp=i.Fb({type:Va,selectors:[["TreeNode"],["tree-node"]],inputs:{node:"node",index:"index",templates:"templates"},decls:1,vars:2,consts:[[4,"treeMobxAutorun"],[3,"class","tree-node","tree-node-expanded","tree-node-collapsed","tree-node-leaf","tree-node-active","tree-node-focused",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"dropIndex","node",4,"ngIf"],[3,"node","index","templates"],[3,"node","templates"],[3,"dropIndex","node"]],template:function(e,t){1&e&&i.Ic(0,ta,3,8,"ng-container",0),2&e&&i.mc("treeMobxAutorun",i.pc(1,Br))},directives:function(){return[Ca,a.n,a.p,ds,rs,is]},encapsulation:2}),Va),ns=((za=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||za)},za.\u0275cmp=i.Fb({type:za,selectors:[["tree-node-content"]],inputs:{node:"node",index:"index",template:"template"},decls:2,vars:7,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(i.Ic(0,na,2,1,"span",0),i.Nb(1,1)),2&e&&(i.mc("ngIf",!t.template),i.yb(1),i.mc("ngTemplateOutlet",t.template)("ngTemplateOutletContext",i.sc(3,ia,t.node,t.node,t.index)))},directives:[a.n,a.p],encapsulation:2}),za),is=((Na=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"onDrop",value:function(e){this.node.mouseAction("drop",e.event,{from:e.element,to:{parent:this.node,index:this.dropIndex}})}},{key:"allowDrop",value:function(e,t){return this.node.options.allowDrop(e,{parent:this.node,index:this.dropIndex},t)}}]),e}()).\u0275fac=function(e){return new(e||Na)},Na.\u0275cmp=i.Fb({type:Na,selectors:[["TreeNodeDropSlot"],["tree-node-drop-slot"]],inputs:{node:"node",dropIndex:"dropIndex"},decls:1,vars:2,consts:[[1,"node-drop-slot",3,"treeAllowDrop","allowDragoverStyling","treeDrop"]],template:function(e,t){1&e&&(i.Rb(0,"div",0),i.bc("treeDrop",function(e){return t.onDrop(e)}),i.Qb()),2&e&&i.mc("treeAllowDrop",t.allowDrop.bind(t))("allowDragoverStyling",!0)},directives:function(){return[ps]},encapsulation:2}),Na),os=((La=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||La)},La.\u0275cmp=i.Fb({type:La,selectors:[["tree-node-expander"]],inputs:{node:"node"},decls:1,vars:2,consts:[[4,"treeMobxAutorun"],["class","toggle-children-wrapper",3,"toggle-children-wrapper-expanded","toggle-children-wrapper-collapsed","click",4,"ngIf"],["class","toggle-children-placeholder",4,"ngIf"],[1,"toggle-children-wrapper",3,"click"],[1,"toggle-children"],[1,"toggle-children-placeholder"]],template:function(e,t){1&e&&i.Ic(0,aa,3,2,"ng-container",0),2&e&&i.mc("treeMobxAutorun",i.pc(1,Br))},directives:[Ca,a.n],encapsulation:2}),La),rs=((Qa=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Qa)},Qa.\u0275cmp=i.Fb({type:Qa,selectors:[["tree-node-children"]],inputs:{node:"node",templates:"templates"},decls:1,vars:2,consts:[[4,"treeMobxAutorun"],[3,"tree-children","tree-children-no-padding",4,"treeAnimateOpen","treeAnimateOpenSpeed","treeAnimateOpenAcceleration","treeAnimateOpenEnabled"],[3,"nodes","templates","treeModel",4,"ngIf"],["class","tree-node-loading",3,"padding-left","template","node",4,"ngIf"],[3,"nodes","templates","treeModel"],[1,"tree-node-loading",3,"template","node"]],template:function(e,t){1&e&&i.Ic(0,ua,2,4,"ng-container",0),2&e&&i.mc("treeMobxAutorun",i.pc(1,Br))},directives:function(){return[Ca,gs,a.n,fs,Za]},encapsulation:2}),Qa),as=Object.assign(function(){return et.apply(void 0,arguments)},et),ss=Object.assign(function(){return ce.apply(void 0,arguments)},ce),cs=Object.assign(function(){return oe.apply(void 0,arguments)},oe),ls=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},us=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},fs=((Xa=function(){function e(){_classCallCheck(this,e),this._dispose=[]}return _createClass(e,[{key:"setNodes",value:function(e){this._nodes=e}},{key:"ngOnInit",value:function(){var e=this;this.virtualScroll=this.treeModel.virtualScroll,this._dispose=[rt(function(){return e.virtualScroll.getViewportNodes(e.nodes).map(function(e){return e.index})},function(t){e.viewportNodes=t.map(function(t){return e.nodes[t]})},{compareStructural:!0,fireImmediately:!0}),rt(function(){return e.nodes},function(t){e.viewportNodes=e.virtualScroll.getViewportNodes(t)})]}},{key:"ngOnDestroy",value:function(){this._dispose.forEach(function(e){return e()})}},{key:"trackNode",value:function(e,t){return t.id}},{key:"nodes",get:function(){return this._nodes},set:function(e){this.setNodes(e)}},{key:"marginTop",get:function(){var e=this.viewportNodes&&this.viewportNodes.length&&this.viewportNodes[0];return(e&&e.parent?e.position-e.parent.position-e.parent.getSelfHeight():0)+"px"}}]),e}()).\u0275fac=function(e){return new(e||Xa)},Xa.\u0275cmp=i.Fb({type:Xa,selectors:[["tree-node-collection"]],inputs:{nodes:"nodes",treeModel:"treeModel",templates:"templates"},decls:1,vars:2,consts:[[4,"treeMobxAutorun"],[3,"node","index","templates",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","index","templates"]],template:function(e,t){1&e&&i.Ic(0,da,3,4,"ng-container",0),2&e&&i.mc("treeMobxAutorun",i.pc(1,Br))},directives:[Ca,a.m,ts],encapsulation:2}),ls([cs,us("design:type",Object)],Xa.prototype,"_nodes",void 0),ls([cs,us("design:type",Array)],Xa.prototype,"viewportNodes",void 0),ls([ss,us("design:type",String),us("design:paramtypes",[])],Xa.prototype,"marginTop",null),ls([as,us("design:type",Function),us("design:paramtypes",[Object]),us("design:returntype",void 0)],Xa.prototype,"setNodes",null),Xa),ds=((Ya=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Ya)},Ya.\u0275cmp=i.Fb({type:Ya,selectors:[["tree-node-wrapper"]],inputs:{node:"node",index:"index",templates:"templates"},decls:2,vars:8,consts:[["class","node-wrapper",3,"padding-left",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"node-wrapper"],[3,"node",4,"ngIf"],[3,"node"],[1,"node-content-wrapper",3,"treeAllowDrop","allowDragoverStyling","treeDrag","treeDragEnabled","click","dblclick","mouseover","mouseout","contextmenu","treeDrop","treeDropDragOver","treeDropDragLeave","treeDropDragEnter"],[3,"node","index","template"]],template:function(e,t){1&e&&(i.Ic(0,pa,5,15,"div",0),i.Nb(1,1)),2&e&&(i.mc("ngIf",!t.templates.treeNodeWrapperTemplate),i.yb(1),i.mc("ngTemplateOutlet",t.templates.treeNodeWrapperTemplate)("ngTemplateOutletContext",i.tc(3,ea,t.node,t.node,t.index,t.templates)))},directives:function(){return[a.n,a.p,os,bs,ps,ns,hs]},encapsulation:2}),Ya),hs=((Ga=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Ga)},Ga.\u0275cmp=i.Fb({type:Ga,selectors:[["tree-node-checkbox"]],inputs:{node:"node"},decls:1,vars:2,consts:[[4,"treeMobxAutorun"],["type","checkbox",1,"tree-node-checkbox",3,"checked","indeterminate","click"]],template:function(e,t){1&e&&i.Ic(0,ba,2,2,"ng-container",0),2&e&&i.mc("treeMobxAutorun",i.pc(1,Br))},directives:[Ca],encapsulation:2}),Ga),ps=((Wa=function(){function e(t,n,o,r){_classCallCheck(this,e),this.el=t,this.renderer=n,this.treeDraggedElement=o,this.ngZone=r,this.allowDragoverStyling=!0,this.onDropCallback=new i.n,this.onDragOverCallback=new i.n,this.onDragLeaveCallback=new i.n,this.onDragEnterCallback=new i.n,this._allowDrop=function(e,t){return!0},this.dragOverEventHandler=this.onDragOver.bind(this),this.dragEnterEventHandler=this.onDragEnter.bind(this),this.dragLeaveEventHandler=this.onDragLeave.bind(this)}return _createClass(e,[{key:"allowDrop",value:function(e){return this._allowDrop(this.treeDraggedElement.get(),e)}},{key:"ngAfterViewInit",value:function(){var e=this,t=this.el.nativeElement;this.ngZone.runOutsideAngular(function(){t.addEventListener("dragover",e.dragOverEventHandler),t.addEventListener("dragenter",e.dragEnterEventHandler),t.addEventListener("dragleave",e.dragLeaveEventHandler)})}},{key:"ngOnDestroy",value:function(){var e=this.el.nativeElement;e.removeEventListener("dragover",this.dragOverEventHandler),e.removeEventListener("dragenter",this.dragEnterEventHandler),e.removeEventListener("dragleave",this.dragLeaveEventHandler)}},{key:"onDragOver",value:function(e){if(!this.allowDrop(e))return this.allowDragoverStyling?this.addDisabledClass():void 0;this.onDragOverCallback.emit({event:e,element:this.treeDraggedElement.get()}),e.preventDefault(),this.allowDragoverStyling&&this.addClass()}},{key:"onDragEnter",value:function(e){this.allowDrop(e)&&(e.preventDefault(),this.onDragEnterCallback.emit({event:e,element:this.treeDraggedElement.get()}))}},{key:"onDragLeave",value:function(e){if(!this.allowDrop(e))return this.allowDragoverStyling?this.removeDisabledClass():void 0;this.onDragLeaveCallback.emit({event:e,element:this.treeDraggedElement.get()}),this.allowDragoverStyling&&this.removeClass()}},{key:"onDrop",value:function(e){this.allowDrop(e)&&(e.preventDefault(),this.onDropCallback.emit({event:e,element:this.treeDraggedElement.get()}),this.allowDragoverStyling&&this.removeClass(),this.treeDraggedElement.set(null))}},{key:"addClass",value:function(){this.renderer.addClass(this.el.nativeElement,"is-dragging-over")}},{key:"removeClass",value:function(){this.renderer.removeClass(this.el.nativeElement,"is-dragging-over")}},{key:"addDisabledClass",value:function(){this.renderer.addClass(this.el.nativeElement,"is-dragging-over-disabled")}},{key:"removeDisabledClass",value:function(){this.renderer.removeClass(this.el.nativeElement,"is-dragging-over-disabled")}},{key:"treeAllowDrop",set:function(e){this._allowDrop=e instanceof Function?e:function(t,n){return e}}}]),e}()).\u0275fac=function(e){return new(e||Wa)(i.Lb(i.l),i.Lb(i.E),i.Lb(Aa),i.Lb(i.z))},Wa.\u0275dir=i.Gb({type:Wa,selectors:[["","treeDrop",""]],hostBindings:function(e,t){1&e&&i.bc("drop",function(e){return t.onDrop(e)})},inputs:{allowDragoverStyling:"allowDragoverStyling",treeAllowDrop:"treeAllowDrop"},outputs:{onDropCallback:"treeDrop",onDragOverCallback:"treeDropDragOver",onDragLeaveCallback:"treeDropDragLeave",onDragEnterCallback:"treeDropDragEnter"}}),Wa),bs=(($a=function(){function e(t,n,i,o){_classCallCheck(this,e),this.el=t,this.renderer=n,this.treeDraggedElement=i,this.ngZone=o,this.dragEventHandler=this.onDrag.bind(this)}return _createClass(e,[{key:"ngAfterViewInit",value:function(){var e=this,t=this.el.nativeElement;this.ngZone.runOutsideAngular(function(){t.addEventListener("drag",e.dragEventHandler)})}},{key:"ngDoCheck",value:function(){this.renderer.setAttribute(this.el.nativeElement,"draggable",this.treeDragEnabled?"true":"false")}},{key:"ngOnDestroy",value:function(){this.el.nativeElement.removeEventListener("drag",this.dragEventHandler)}},{key:"onDragStart",value:function(e){e.dataTransfer.setData("text",e.target.id),this.treeDraggedElement.set(this.draggedElement),this.draggedElement.mouseAction&&this.draggedElement.mouseAction("dragStart",e)}},{key:"onDrag",value:function(e){this.draggedElement.mouseAction&&this.draggedElement.mouseAction("drag",e)}},{key:"onDragEnd",value:function(){this.draggedElement.mouseAction&&this.draggedElement.mouseAction("dragEnd"),this.treeDraggedElement.set(null)}}]),e}()).\u0275fac=function(e){return new(e||$a)(i.Lb(i.l),i.Lb(i.E),i.Lb(Aa),i.Lb(i.z))},$a.\u0275dir=i.Gb({type:$a,selectors:[["","treeDrag",""]],hostBindings:function(e,t){1&e&&i.bc("dragstart",function(e){return t.onDragStart(e)})("dragend",function(){return t.onDragEnd()})},inputs:{draggedElement:["treeDrag","draggedElement"],treeDragEnabled:"treeDragEnabled"}}),$a),gs=((qa=function(){function e(t,n,i){_classCallCheck(this,e),this.renderer=t,this.templateRef=n,this.viewContainerRef=i}return _createClass(e,[{key:"_show",value:function(){this.innerElement||(this.innerElement=this.viewContainerRef.createEmbeddedView(this.templateRef).rootNodes[0])}},{key:"_hide",value:function(){this.viewContainerRef.clear(),this.innerElement=null}},{key:"_animateOpen",value:function(){var e=this,t=this.animateSpeed,n=this.animateAcceleration,i=0;this.renderer.setStyle(this.innerElement,"max-height","0"),setTimeout(function(){var o=setInterval(function(){if(!e._isOpen||!e.innerElement)return clearInterval(o);i+=t;var r=Math.round(i);e.renderer.setStyle(e.innerElement,"max-height",r+"px");var a=e.innerElement.getBoundingClientRect?e.innerElement.getBoundingClientRect().height:0;t*=n,n*=1.005,a<r&&(e.renderer.setStyle(e.innerElement,"max-height",null),clearInterval(o))},17)})}},{key:"_animateClose",value:function(){var e=this;if(this.innerElement)var t=this.animateSpeed,n=this.animateAcceleration,i=this.innerElement.getBoundingClientRect().height,o=setInterval(function(){if(e._isOpen||!e.innerElement)return clearInterval(o);i-=t,e.renderer.setStyle(e.innerElement,"max-height",i+"px"),t*=n,n*=1.005,i<=0&&(e.viewContainerRef.clear(),e.innerElement=null,clearInterval(o))},17)}},{key:"isOpen",set:function(e){e?(this._show(),this.isEnabled&&!1===this._isOpen&&this._animateOpen()):this.isEnabled?this._animateClose():this._hide(),this._isOpen=!!e}}]),e}()).\u0275fac=function(e){return new(e||qa)(i.Lb(i.E),i.Lb(i.L),i.Lb(i.P))},qa.\u0275dir=i.Gb({type:qa,selectors:[["","treeAnimateOpen",""]],inputs:{isOpen:["treeAnimateOpen","isOpen"],animateSpeed:["treeAnimateOpenSpeed","animateSpeed"],animateAcceleration:["treeAnimateOpenAcceleration","animateAcceleration"],isEnabled:["treeAnimateOpenEnabled","isEnabled"]}}),qa),ms=((Ka=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:Ka}),Ka.\u0275inj=i.Ib({factory:function(e){return new(e||Ka)},providers:[],imports:[[a.b]]}),Ka),vs=n("3Pt+"),ys=n("LRne"),_s=n("xgIS"),Cs=n("5+tZ"),ks=n("lJxs"),Os=n("vkgz"),xs=n("pLZG"),ws=n("7o/Q"),Ms=n("D0XW"),Ps=n("zx2A"),Es={leading:!0,trailing:!1},Ss=function(){function e(t,n,i,o){_classCallCheck(this,e),this.duration=t,this.scheduler=n,this.leading=i,this.trailing=o}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Rs(e,this.duration,this.scheduler,this.leading,this.trailing))}}]),e}(),Rs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,r,a){var s;return _classCallCheck(this,n),(s=t.call(this,e)).duration=i,s.scheduler=o,s.leading=r,s.trailing=a,s._hasTrailingValue=!1,s._trailingValue=null,s}return _createClass(n,[{key:"_next",value:function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Is,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))}},{key:"_complete",value:function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}},{key:"clearThrottle",value:function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)}}]),n}(ws.a);function Is(e){e.subscriber.clearThrottle()}function As(e,t,n,i){var o=window&&!!window.document&&window.document.documentElement,r=o&&t?window:n;if(e&&!(r=e&&o&&"string"==typeof e?function(e,t,n){return(n?window.document:t).querySelector(e)}(e,n.nativeElement,i):e))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return r}function Ts(e){return e&&!e.firstChange}var Ds={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},js={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"},Fs=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_classCallCheck(this,e),this.vertical=t,this.propsMap=t?Ds:js}return _createClass(e,[{key:"clientHeightKey",value:function(){return this.propsMap.clientHeight}},{key:"offsetHeightKey",value:function(){return this.propsMap.offsetHeight}},{key:"scrollHeightKey",value:function(){return this.propsMap.scrollHeight}},{key:"pageYOffsetKey",value:function(){return this.propsMap.pageYOffset}},{key:"offsetTopKey",value:function(){return this.propsMap.offsetTop}},{key:"scrollTopKey",value:function(){return this.propsMap.scrollTop}},{key:"topKey",value:function(){return this.propsMap.top}}]),e}();function Qs(e){return["Window","global"].some(function(t){return Object.prototype.toString.call(e).includes(t)})}function Ls(e,t){return e?t.document.documentElement:null}function Ns(e,t){var n,i,o,r,a=(i=(n=t).container,o=n.isWindow,r=zs(n.axis),Vs(i,o,r.offsetHeightKey,r.clientHeightKey));return t.isWindow?function(e,t,n){var i=n.axis,o=n.container,r=n.isWindow,a=zs(i),s=a.offsetHeightKey,c=a.clientHeightKey,l=e+Bs(Ls(r,o),i,r),u=Vs(t.nativeElement,r,s,c);return{height:e,scrolled:l,totalToScroll:function(e,t,n){var i=t.topKey();if(e.getBoundingClientRect)return e.getBoundingClientRect()[i]+Bs(e,t,n)}(t.nativeElement,i,r)+u,isWindow:r}}(a,e,t):function(e,t,n){var i=n.axis,o=n.container;return{height:e,scrolled:o[i.scrollTopKey()],totalToScroll:o[i.scrollHeightKey()],isWindow:!1}}(a,0,t)}function zs(e){return{offsetHeightKey:e.offsetHeightKey(),clientHeightKey:e.clientHeightKey()}}function Vs(e,t,n,i){if(isNaN(e[n])){var o=Ls(t,e);return o?o[i]:0}return e[n]}function Bs(e,t,n){var i=t.pageYOffsetKey(),o=t.scrollTopKey(),r=t.offsetTopKey();return isNaN(window.pageYOffset)?Ls(n,e)[o]:e.ownerDocument?e.ownerDocument.defaultView[i]:e[r]}function Us(e,t,n){var i,o;if(e.totalToScroll<=0)return!1;var r=e.isWindow?e.scrolled:e.height+e.scrolled;return n?(i=(e.totalToScroll-r)/e.totalToScroll,o=t.down/10):(i=e.scrolled/(e.scrolled+(e.totalToScroll-r)),o=t.up/10),i<=o}var Hs=function(){function e(t){var n=t.totalToScroll;_classCallCheck(this,e),this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=n}return _createClass(e,[{key:"updateScrollPosition",value:function(e){return this.lastScrollPosition=e}},{key:"updateTotalToScroll",value:function(e){this.lastTotalToScroll!==e&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=e)}},{key:"updateScroll",value:function(e,t){this.updateScrollPosition(e),this.updateTotalToScroll(t)}},{key:"updateTriggeredFlag",value:function(e,t){t?this.triggered.down=e:this.triggered.up=e}},{key:"isTriggeredScroll",value:function(e,t){return t?this.triggered.down===e:this.triggered.up===e}}]),e}();function Ks(e){return{type:e.scrollDown?"[NGX_ISE] DOWN":"[NGX_ISE] UP",payload:{currentScrollPosition:e.stats.scrolled}}}var qs,$s,Ws=(($s=function(){function e(t,n){_classCallCheck(this,e),this.element=t,this.zone=n,this.scrolled=new i.n,this.scrolledUp=new i.n,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}return _createClass(e,[{key:"ngAfterViewInit",value:function(){this.infiniteScrollDisabled||this.setup()}},{key:"ngOnChanges",value:function(e){var t=e.infiniteScrollContainer,n=e.infiniteScrollDisabled,i=e.infiniteScrollDistance,o=Ts(t),r=Ts(n),a=Ts(i),s=!r&&!this.infiniteScrollDisabled||r&&!n.currentValue||a;(o||r||a)&&(this.destroyScroller(),s&&this.setup())}},{key:"setup",value:function(){var e=this;"undefined"!=typeof window&&this.zone.runOutsideAngular(function(){var t,n,i,o,r,a,s,c,l,u,f,d;e.disposeScroller=(t={fromRoot:e.fromRoot,alwaysCallback:e.alwaysCallback,disable:e.infiniteScrollDisabled,downDistance:e.infiniteScrollDistance,element:e.element,horizontal:e.horizontal,scrollContainer:e.infiniteScrollContainer,scrollWindow:e.scrollWindow,throttle:e.infiniteScrollThrottle,upDistance:e.infiniteScrollUpDistance},a=t.scrollContainer,s=t.scrollWindow,c=t.element,l=t.fromRoot,u=function(e,t){var n=e.isWindow||t&&!t.nativeElement?t:t.nativeElement;return Object.assign(Object.assign({},e),{container:n})}({axis:(n={axis:new Fs(!t.horizontal),windowElement:As(a,s,c,l)}).axis,isWindow:Qs(i=n.windowElement)},i),f=new Hs({totalToScroll:Ns(c,u)}),d={up:t.upDistance,down:t.downDistance},(o={container:u.container,throttle:t.throttle},r=Object(_s.a)(o.container,"scroll"),o.throttle&&(r=r.pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ms.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Es;return function(i){return i.lift(new Ss(e,t,n.leading,n.trailing))}}(o.throttle))),r).pipe(Object(Cs.a)(function(){return Object(ys.a)(Ns(c,u))}),Object(ks.a)(function(e){return function(e,t,n){var i=function(e,t,n){var i=function(e,t){return e<t.scrolled}(e,t);return{fire:Us(t,n,i),scrollDown:i}}(e,t,n);return{scrollDown:i.scrollDown,fire:i.fire,stats:t}}(f.lastScrollPosition,e,d)}),Object(Os.a)(function(e){var t=e.stats;return f.updateScroll(t.scrolled,t.totalToScroll)}),Object(xs.a)(function(e){var n=e.fire,i=e.scrollDown,o=e.stats.totalToScroll;return function(e,t,n){return!(!e||!t)||!(n||!t)}(t.alwaysCallback,n,f.isTriggeredScroll(o,i))}),Object(Os.a)(function(e){var t=e.scrollDown,n=e.stats.totalToScroll;f.updateTriggeredFlag(n,t)}),Object(ks.a)(Ks))).subscribe(function(t){return e.zone.run(function(){return e.handleOnScroll(t)})})})}},{key:"handleOnScroll",value:function(e){var t=e.type,n=e.payload;switch(t){case"[NGX_ISE] DOWN":return this.scrolled.emit(n);case"[NGX_ISE] UP":return this.scrolledUp.emit(n);default:return}}},{key:"ngOnDestroy",value:function(){this.destroyScroller()}},{key:"destroyScroller",value:function(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||$s)(i.Lb(i.l),i.Lb(i.z))},$s.\u0275dir=i.Gb({type:$s,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[i.wb]}),$s),Gs=((qs=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:qs}),qs.\u0275inj=i.Ib({factory:function(e){return new(e||qs)},providers:[],imports:[[]]}),qs),Ys=n("tk/3"),Xs=["fileInput"];function Zs(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",2),i.Rb(1,"ae-select",63),i.bc("ngModelChange",function(e){return i.zc(n),i.fc(2).customClassId=e})("change",function(){i.zc(n);var e=i.fc(2);return e.setCustomClass(e.customClassId)}),i.Qb(),i.Qb()}if(2&e){var o=i.fc(2);i.yb(1),i.mc("options",o.customClassList)("ngModel",o.customClassId)("disabled",o.htmlMode)("hidden",o.isButtonHidden("customClasses"))}}function Js(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",1),i.Rb(1,"div",2),i.Rb(2,"button",3),i.bc("click",function(){return i.zc(n),i.fc().triggerCommand("undo")}),i.Mb(3,"i",4),i.Qb(),i.Rb(4,"button",5),i.bc("click",function(){return i.zc(n),i.fc().triggerCommand("redo")}),i.Mb(5,"i",6),i.Qb(),i.Qb(),i.Rb(6,"div",2),i.Rb(7,"button",7),i.bc("click",function(){return i.zc(n),i.fc().triggerCommand("bold")}),i.Mb(8,"i",8),i.Qb(),i.Rb(9,"button",9),i.bc("click",function(){return i.zc(n),i.fc().triggerCommand("italic")}),i.Mb(10,"i",10),i.Qb(),i.Rb(11,"button",11),i.bc("click",function(){return i.zc(n),i.fc().triggerCommand("underline")}),i.Mb(12,"i",12),i.Qb(),i.Rb(13,"button",13),i.bc("click",function(){return i.zc(n),i.fc().triggerCommand("strikeThrough")}),i.Mb(14,"i",14),i.Qb(),i.Rb(15,"button",15),i.bc("click",function(){return i.zc(n),i.fc().triggerCommand("subscript")}),i.Mb(16,"i",16),i.Qb(),i.Rb(17,"button",17),i.bc("click",function(){return i.zc(n),i.fc().triggerCommand("superscript")}),i.Mb(18,"i",18),i.Qb(),i.Qb(),i.Rb(19,"div",2),i.Rb(20,"button",19),i.bc("click",function(){return i.zc(n),i.fc().triggerCommand("justifyLeft")}),i.Mb(21,"i",20),i.Qb(),i.Rb(22,"button",21),i.bc("click",function(){return i.zc(n),i.fc().triggerCommand("justifyCenter")}),i.Mb(23,"i",22),i.Qb(),i.Rb(24,"button",23),i.bc("click",function(){return i.zc(n),i.fc().triggerCommand("justifyRight")}),i.Mb(25,"i",24),i.Qb(),i.Rb(26,"button",25),i.bc("click",function(){return i.zc(n),i.fc().triggerCommand("justifyFull")}),i.Mb(27,"i",26),i.Qb(),i.Qb(),i.Rb(28,"div",2),i.Rb(29,"button",27),i.bc("click",function(){return i.zc(n),i.fc().triggerCommand("indent")}),i.Mb(30,"i",28),i.Qb(),i.Rb(31,"button",29),i.bc("click",function(){return i.zc(n),i.fc().triggerCommand("outdent")}),i.Mb(32,"i",30),i.Qb(),i.Qb(),i.Rb(33,"div",2),i.Rb(34,"button",31),i.bc("click",function(){return i.zc(n),i.fc().triggerCommand("insertUnorderedList")}),i.Mb(35,"i",32),i.Qb(),i.Rb(36,"button",33),i.bc("click",function(){return i.zc(n),i.fc().triggerCommand("insertOrderedList")}),i.Mb(37,"i",34),i.Qb(),i.Qb(),i.Rb(38,"div",2),i.Rb(39,"ae-select",35),i.bc("ngModelChange",function(e){return i.zc(n),i.fc().block=e})("change",function(){i.zc(n);var e=i.fc();return e.triggerCommand(e.block)}),i.Qb(),i.Qb(),i.Rb(40,"div",2),i.Rb(41,"ae-select",36),i.bc("ngModelChange",function(e){return i.zc(n),i.fc().fontName=e})("change",function(){i.zc(n);var e=i.fc();return e.setFontName(e.fontName)}),i.Qb(),i.Qb(),i.Rb(42,"div",2),i.Rb(43,"ae-select",37),i.bc("ngModelChange",function(e){return i.zc(n),i.fc().fontSize=e})("change",function(){i.zc(n);var e=i.fc();return e.setFontSize(e.fontSize)}),i.Qb(),i.Qb(),i.Rb(44,"div",2),i.Rb(45,"input",38,39),i.bc("change",function(){i.zc(n);var e=i.vc(46);return i.fc().insertColor(e.value,"textColor")}),i.Qb(),i.Rb(47,"button",40),i.bc("click",function(){i.zc(n);var e=i.vc(46);return i.fc().focus(),e.click()}),i.Rb(48,"span",41),i.Mb(49,"i",42),i.Qb(),i.Qb(),i.Rb(50,"input",38,43),i.bc("change",function(){i.zc(n);var e=i.vc(51);return i.fc().insertColor(e.value,"backgroundColor")}),i.Qb(),i.Rb(52,"button",44),i.bc("click",function(){i.zc(n);var e=i.vc(51);return i.fc().focus(),e.click()}),i.Rb(53,"span",45),i.Mb(54,"i",42),i.Qb(),i.Qb(),i.Qb(),i.Ic(55,Zs,2,4,"div",46),i.Rb(56,"div",2),i.Rb(57,"button",47),i.bc("click",function(){return i.zc(n),i.fc().insertUrl()}),i.Mb(58,"i",48),i.Qb(),i.Rb(59,"button",49),i.bc("click",function(){return i.zc(n),i.fc().triggerCommand("unlink")}),i.Mb(60,"i",50),i.Qb(),i.Rb(61,"input",51,52),i.bc("change",function(e){return i.zc(n),i.fc().onFileChanged(e)}),i.Qb(),i.Rb(63,"button",53),i.bc("click",function(){i.zc(n);var e=i.vc(62);return i.fc().focus(),e.click()}),i.Mb(64,"i",54),i.Qb(),i.Rb(65,"button",55),i.bc("click",function(){return i.zc(n),i.fc().insertVideo()}),i.Mb(66,"i",56),i.Qb(),i.Rb(67,"button",57),i.bc("click",function(){return i.zc(n),i.fc().triggerCommand("insertHorizontalRule")}),i.Mb(68,"i",58),i.Qb(),i.Qb(),i.Rb(69,"div",2),i.Rb(70,"button",59),i.bc("click",function(){return i.zc(n),i.fc().triggerCommand("removeFormat")}),i.Mb(71,"i",60),i.Qb(),i.Qb(),i.Rb(72,"div",2),i.Rb(73,"button",61),i.bc("click",function(){return i.zc(n),i.fc().triggerCommand("toggleEditorMode")}),i.Mb(74,"i",62),i.Qb(),i.Qb(),i.Qb()}if(2&e){var o=i.fc();i.yb(2),i.mc("hidden",o.isButtonHidden("undo")),i.yb(2),i.mc("hidden",o.isButtonHidden("redo")),i.yb(3),i.mc("id","bold-"+o.id)("disabled",o.htmlMode)("hidden",o.isButtonHidden("bold")),i.yb(2),i.mc("id","italic-"+o.id)("disabled",o.htmlMode)("hidden",o.isButtonHidden("italic")),i.yb(2),i.mc("id","underline-"+o.id)("disabled",o.htmlMode)("hidden",o.isButtonHidden("underline")),i.yb(2),i.mc("id","strikeThrough-"+o.id)("disabled",o.htmlMode)("hidden",o.isButtonHidden("strikeThrough")),i.yb(2),i.mc("id","subscript-"+o.id)("disabled",o.htmlMode)("hidden",o.isButtonHidden("subscript")),i.yb(2),i.mc("id","superscript-"+o.id)("disabled",o.htmlMode)("hidden",o.isButtonHidden("superscript")),i.yb(3),i.mc("id","justifyLeft-"+o.id)("disabled",o.htmlMode)("hidden",o.isButtonHidden("justifyLeft")),i.yb(2),i.mc("id","justifyCenter-"+o.id)("disabled",o.htmlMode)("hidden",o.isButtonHidden("justifyCenter")),i.yb(2),i.mc("id","justifyRight-"+o.id)("disabled",o.htmlMode)("hidden",o.isButtonHidden("justifyRight")),i.yb(2),i.mc("id","justifyFull-"+o.id)("disabled",o.htmlMode)("hidden",o.isButtonHidden("justifyFull")),i.yb(3),i.mc("id","indent-"+o.id)("disabled",o.htmlMode)("hidden",o.isButtonHidden("indent")),i.yb(2),i.mc("id","outdent-"+o.id)("disabled",o.htmlMode)("hidden",o.isButtonHidden("outdent")),i.yb(3),i.mc("id","insertUnorderedList-"+o.id)("disabled",o.htmlMode)("hidden",o.isButtonHidden("insertUnorderedList")),i.yb(2),i.mc("id","insertOrderedList-"+o.id)("disabled",o.htmlMode)("hidden",o.isButtonHidden("insertOrderedList")),i.yb(3),i.mc("options",o.headings)("ngModel",o.block)("disabled",o.htmlMode)("hidden",o.isButtonHidden("heading")),i.yb(2),i.mc("options",o.fonts)("ngModel",o.fontName)("disabled",o.htmlMode)("hidden",o.isButtonHidden("fontName")),i.yb(2),i.mc("options",o.fontSizes)("ngModel",o.fontSize)("disabled",o.htmlMode)("hidden",o.isButtonHidden("fontSize")),i.yb(4),i.mc("id","foregroundColorPicker-"+o.id)("disabled",o.htmlMode)("hidden",o.isButtonHidden("textColor")),i.yb(5),i.mc("id","backgroundColorPicker-"+o.id)("disabled",o.htmlMode)("hidden",o.isButtonHidden("backgroundColor")),i.yb(3),i.mc("ngIf",o._customClasses),i.yb(2),i.mc("id","link-"+o.id)("disabled",o.isLinkButtonDisabled)("hidden",o.isButtonHidden("link")),i.yb(2),i.mc("id","unlink-"+o.id)("disabled",o.htmlMode||!o.linkSelected)("hidden",o.isButtonHidden("unlink")),i.yb(4),i.mc("id","insertImage-"+o.id)("disabled",o.htmlMode)("hidden",o.isButtonHidden("insertImage")),i.yb(2),i.mc("id","insertVideo-"+o.id)("disabled",o.htmlMode)("hidden",o.isButtonHidden("insertVideo")),i.yb(2),i.mc("id","insertHorizontalRule-"+o.id)("disabled",o.htmlMode)("hidden",o.isButtonHidden("insertHorizontalRule")),i.yb(3),i.mc("id","clearFormatting-"+o.id)("disabled",o.htmlMode)("hidden",o.isButtonHidden("removeFormat")),i.yb(3),i.mc("id","toggleEditorMode-"+o.id)("hidden",o.isButtonHidden("toggleEditorMode"))}}var ec=["editor"],tc=["editorWrapper"],nc=["editorToolbar"];function ic(e,t){if(1&e){var n=i.Sb();i.Rb(0,"angular-editor-toolbar",8,9),i.bc("execute",function(e){return i.zc(n),i.fc().executeCommand(e)}),i.Qb()}if(2&e){var o=i.fc();i.mc("id",o.id)("uploadUrl",o.config.uploadUrl)("showToolbar",void 0===o.config.showToolbar||o.config.showToolbar)("fonts",o.getFonts())("customClasses",o.config.customClasses)("defaultFontName",o.config.defaultFontName)("defaultFontSize",o.config.defaultFontSize)("hiddenButtons",o.config.toolbarHiddenButtons)}}function oc(e,t){if(1&e){var n=i.Sb();i.Rb(0,"angular-editor-toolbar",8,9),i.bc("execute",function(e){return i.zc(n),i.fc().executeCommand(e)}),i.Qb()}if(2&e){var o=i.fc();i.mc("id",o.id)("uploadUrl",o.config.uploadUrl)("showToolbar",void 0===o.config.showToolbar||o.config.showToolbar)("fonts",o.getFonts())("customClasses",o.config.customClasses)("defaultFontName",o.config.defaultFontName)("defaultFontSize",o.config.defaultFontSize)("hiddenButtons",o.config.toolbarHiddenButtons)}}var rc=["labelButton"],ac=function(e,t){return{selected:e,focused:t}};function sc(e,t){if(1&e){var n=i.Sb();i.Rb(0,"button",9),i.bc("click",function(e){i.zc(n);var o=t.$implicit;return i.fc().optionSelect(o,e)}),i.Kc(1),i.Qb()}if(2&e){var o=t.$implicit,r=t.index,a=i.fc();i.mc("ngClass",i.rc(2,ac,o.value===a.value,r===a.optionId)),i.yb(1),i.Mc(" ",o.label," ")}}function cc(e,t){1&e&&(i.Rb(0,"span",10),i.Kc(1,"No items for select"),i.Qb())}var lc,uc,fc=function(e){return{"ae-expanded":e}},dc=((lc=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.http=t,this.doc=n,this.saveSelection=function(){if(i.doc.getSelection){var e=i.doc.getSelection();e.getRangeAt&&e.rangeCount&&(i.savedSelection=e.getRangeAt(0),i.selectedText=e.toString())}else i.savedSelection=i.doc.getSelection&&i.doc.createRange?document.createRange():null}}return _createClass(e,[{key:"executeCommand",value:function(e){["h1","h2","h3","h4","h5","h6","p","pre"].includes(e)?this.doc.execCommand("formatBlock",!1,e):this.doc.execCommand(e,!1,null)}},{key:"createLink",value:function(e){e.includes("http")?this.insertHtml('<a href="'+e+'" target="_blank">'+this.selectedText+"</a>"):this.doc.execCommand("createlink",!1,e)}},{key:"insertColor",value:function(e,t){this.restoreSelection()&&this.doc.execCommand("textColor"===t?"foreColor":"hiliteColor",!1,e)}},{key:"setFontName",value:function(e){this.doc.execCommand("fontName",!1,e)}},{key:"setFontSize",value:function(e){this.doc.execCommand("fontSize",!1,e)}},{key:"insertHtml",value:function(e){if(!this.doc.execCommand("insertHTML",!1,e))throw new Error("Unable to perform the operation")}},{key:"restoreSelection",value:function(){if(!this.savedSelection)return!1;if(this.doc.getSelection){var e=this.doc.getSelection();return e.removeAllRanges(),e.addRange(this.savedSelection),!0}return!!this.doc.getSelection||void 0}},{key:"executeInNextQueueIteration",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;setTimeout(e,t)}},{key:"checkSelection",value:function(){if(0===this.savedSelection.toString().length)throw new Error("No Selection Made");return!0}},{key:"uploadImage",value:function(e){var t=new FormData;return t.append("file",e,e.name),this.http.post(this.uploadUrl,t,{reportProgress:!0,observe:"events",withCredentials:this.uploadWithCredentials})}},{key:"insertImage",value:function(e){this.doc.execCommand("insertImage",!1,e)}},{key:"setDefaultParagraphSeparator",value:function(e){this.doc.execCommand("defaultParagraphSeparator",!1,e)}},{key:"createCustomClass",value:function(e){var t=this.selectedText;if(e){var n=e.tag?e.tag:"span";t="<"+n+' class="'+e.class+'">'+this.selectedText+"</"+n+">"}this.insertHtml(t)}},{key:"insertVideo",value:function(e){e.match("www.youtube.com")&&this.insertYouTubeVideoTag(e),e.match("vimeo.com")&&this.insertVimeoVideoTag(e)}},{key:"insertYouTubeVideoTag",value:function(e){var t=e.split("v=")[1];this.insertHtml("\n      <div style='position: relative'>\n        <img style='position: absolute; left:200px; top:140px'\n             src=\"https://img.icons8.com/color/96/000000/youtube-play.png\"/>\n        <a href='".concat(e,"' target='_blank'>\n          <img src=\"https://img.youtube.com/vi/").concat(t,'/0.jpg" alt="click to watch"/>\n        </a>\n      </div>'))}},{key:"insertVimeoVideoTag",value:function(e){var t=this,n=this.http.get("https://vimeo.com/api/oembed.json?url="+e).subscribe(function(i){t.insertHtml("<div>\n        <a href='".concat(e,"' target='_blank'>\n          <img src=\"").concat(i.thumbnail_url_with_play_button,'" alt="').concat(i.title,'"/>\n        </a>\n      </div>')),n.unsubscribe()})}},{key:"nextNode",value:function(e){if(e.hasChildNodes())return e.firstChild;for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null}},{key:"getRangeSelectedNodes",value:function(e,t){var n=e.startContainer,i=e.endContainer,o=[];if(n===i)o=[n];else{for(;n&&n!==i;)o.push(n=this.nextNode(n));for(n=e.startContainer;n&&n!==e.commonAncestorContainer;)o.unshift(n),n=n.parentNode}if(t)for(n=e.commonAncestorContainer;n;)o.push(n),n=n.parentNode;return o}},{key:"getSelectedNodes",value:function(){var e=[];if(this.doc.getSelection)for(var t=this.doc.getSelection(),n=0,i=t.rangeCount;n<i;++n)e.push.apply(e,this.getRangeSelectedNodes(t.getRangeAt(n),!0));return e}},{key:"replaceWithOwnChildren",value:function(e){for(var t=e.parentNode;e.hasChildNodes();)t.insertBefore(e.firstChild,e);t.removeChild(e)}},{key:"removeSelectedElements",value:function(e){var t=this,n=e.toLowerCase().split(",");this.getSelectedNodes().forEach(function(e){1===e.nodeType&&n.indexOf(e.tagName.toLowerCase())>-1&&t.replaceWithOwnChildren(e)})}}]),e}()).\u0275fac=function(e){return new(e||lc)(i.Yb(Ys.b),i.Yb(a.c))},lc.\u0275prov=i.Hb({token:lc,factory:lc.\u0275fac}),lc),hc={editable:!0,spellcheck:!0,height:"auto",minHeight:"0",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],uploadUrl:"v1/image",uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",outline:!0},pc=((uc=function(){function e(t,n,o,r){_classCallCheck(this,e),this.r=t,this.editorService=n,this.er=o,this.doc=r,this.htmlMode=!1,this.linkSelected=!1,this.block="default",this.fontName="Times New Roman",this.fontSize="3",this.headings=[{label:"Heading 1",value:"h1"},{label:"Heading 2",value:"h2"},{label:"Heading 3",value:"h3"},{label:"Heading 4",value:"h4"},{label:"Heading 5",value:"h5"},{label:"Heading 6",value:"h6"},{label:"Heading 7",value:"h7"},{label:"Paragraph",value:"p"},{label:"Predefined",value:"pre"},{label:"Standard",value:"div"},{label:"default",value:"default"}],this.fontSizes=[{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"},{label:"5",value:"5"},{label:"6",value:"6"},{label:"7",value:"7"}],this.customClassId="-1",this.customClassList=[{label:"",value:""}],this.tagMap={BLOCKQUOTE:"indent",A:"link"},this.select=["H1","H2","H3","H4","H5","H6","P","PRE","DIV"],this.buttons=["bold","italic","underline","strikeThrough","subscript","superscript","justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent","insertUnorderedList","insertOrderedList","link"],this.fonts=[{label:"",value:""}],this.execute=new i.n}return _createClass(e,[{key:"triggerCommand",value:function(e){this.execute.emit(e)}},{key:"triggerButtons",value:function(){var e=this;this.showToolbar&&this.buttons.forEach(function(t){var n=e.doc.queryCommandState(t),i=e.doc.getElementById(t+"-"+e.id);n?e.r.addClass(i,"active"):e.r.removeClass(i,"active")})}},{key:"triggerBlocks",value:function(e){var t=this;if(this.showToolbar){this.linkSelected=e.findIndex(function(e){return"A"===e.nodeName})>-1;var n=!1;this.select.forEach(function(i){var o=e.find(function(e){return e.nodeName===i});void 0!==o&&i===o.nodeName?!1===n&&(t.block=o.nodeName.toLowerCase(),n=!0):!1===n&&(t.block="default")}),n=!1,this._customClasses&&this._customClasses.forEach(function(i,o){void 0!==e.find(function(e){if(e instanceof Element)return e.className===i.class})?!1===n&&(t.customClassId=o.toString(),n=!0):!1===n&&(t.customClassId="-1")}),Object.keys(this.tagMap).map(function(n){var i=t.doc.getElementById(t.tagMap[n]+"-"+t.id),o=e.find(function(e){return e.nodeName===n});void 0!==o&&n===o.nodeName?t.r.addClass(i,"active"):t.r.removeClass(i,"active")}),this.foreColour=this.doc.queryCommandValue("ForeColor"),this.fontSize=this.doc.queryCommandValue("FontSize"),this.fontName=this.doc.queryCommandValue("FontName").replace(/"/g,""),this.backColor=this.doc.queryCommandValue("backColor")}}},{key:"insertUrl",value:function(){var e="https://",t=this.editorService.savedSelection;if(t&&"A"===t.commonAncestorContainer.parentElement.nodeName){var n=t.commonAncestorContainer.parentElement;""!==n.href&&(e=n.href)}(e=prompt("Insert URL link",e))&&""!==e&&"https://"!==e&&this.editorService.createLink(e)}},{key:"insertVideo",value:function(){this.execute.emit("");var e=prompt("Insert Video link","https://");e&&""!==e&&"https://"!==e&&this.editorService.insertVideo(e)}},{key:"insertColor",value:function(e,t){this.editorService.insertColor(e,t),this.execute.emit("")}},{key:"setFontName",value:function(e){this.editorService.setFontName(e),this.execute.emit("")}},{key:"setFontSize",value:function(e){this.editorService.setFontSize(e),this.execute.emit("")}},{key:"setEditorMode",value:function(e){var t=this.doc.getElementById("toggleEditorMode-"+this.id);e?this.r.addClass(t,"active"):this.r.removeClass(t,"active"),this.htmlMode=e}},{key:"onFileChanged",value:function(e){var t=this,n=e.target.files[0];if(n.type.includes("image/"))if(this.uploadUrl)this.editorService.uploadImage(n).subscribe(function(n){n instanceof Ys.e&&(t.editorService.insertImage(n.body.imageUrl),e.srcElement.value=null)});else{var i=new FileReader;i.onload=function(e){t.editorService.insertImage(e.currentTarget.result.toString())},i.readAsDataURL(n)}}},{key:"setCustomClass",value:function(e){"-1"===e?this.execute.emit("clear"):this.editorService.createCustomClass(this._customClasses[+e])}},{key:"isButtonHidden",value:function(e){if(!e)return!1;if(!(this.hiddenButtons instanceof Array))return!1;var t,n,i=_createForOfIteratorHelper(this.hiddenButtons);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o instanceof Array&&(t=o.find(function(t){return t===e})),t)break}}catch(r){i.e(r)}finally{i.f()}return void 0!==t}},{key:"focus",value:function(){this.execute.emit("focus"),console.log("focused")}},{key:"customClasses",set:function(e){e&&(this._customClasses=e,this.customClassList=this._customClasses.map(function(e,t){return{label:e.name,value:t.toString()}}),this.customClassList.unshift({label:"Clear Class",value:"-1"}))}},{key:"defaultFontName",set:function(e){e&&(this.fontName=e)}},{key:"defaultFontSize",set:function(e){e&&(this.fontSize=e)}},{key:"isLinkButtonDisabled",get:function(){return this.htmlMode||!Boolean(this.editorService.selectedText)}}]),e}()).\u0275fac=function(e){return new(e||uc)(i.Lb(i.E),i.Lb(dc),i.Lb(i.l),i.Lb(a.c))},uc.\u0275cmp=i.Fb({type:uc,selectors:[["angular-editor-toolbar"]],viewQuery:function(e,t){var n;1&e&&i.Fc(Xs,!0),2&e&&i.uc(n=i.cc())&&(t.myInputFile=n.first)},inputs:{fonts:"fonts",customClasses:"customClasses",defaultFontName:"defaultFontName",defaultFontSize:"defaultFontSize",id:"id",uploadUrl:"uploadUrl",showToolbar:"showToolbar",hiddenButtons:"hiddenButtons"},outputs:{execute:"execute"},decls:1,vars:1,consts:[["class","angular-editor-toolbar",4,"ngIf"],[1,"angular-editor-toolbar"],[1,"angular-editor-toolbar-set"],["type","button","title","Undo","tabindex","-1",1,"angular-editor-button",3,"hidden","click"],[1,"fa","fa-undo"],["type","button","title","Redo","tabindex","-1",1,"angular-editor-button",3,"hidden","click"],[1,"fa","fa-repeat"],["type","button","title","Bold","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-bold"],["type","button","title","Italic","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-italic"],["type","button","title","Underline","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-underline"],["type","button","title","Strikethrough","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-strikethrough"],["type","button","title","Subscript","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-subscript"],["type","button","title","Superscript","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-superscript"],["type","button","title","Justify Left","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-align-left"],["type","button","title","Justify Center","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-align-center"],["type","button","title","Justify Right","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-align-right"],["type","button","title","Justify Full","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-align-justify"],["type","button","title","Indent","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-indent"],["type","button","title","Outdent","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-outdent"],["type","button","title","Unordered List","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-list-ul"],["type","button","title","Ordered List","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-list-ol"],["tabindex","-1",1,"select-heading",3,"options","ngModel","disabled","hidden","ngModelChange","change"],["tabindex","-1",1,"select-font",3,"options","ngModel","disabled","hidden","ngModelChange","change"],["tabindex","-1",1,"select-font-size",3,"options","ngModel","disabled","hidden","ngModelChange","change"],["type","color",2,"display","none",3,"change"],["fgInput",""],["type","button","title","Text Color","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"color-label","foreground"],[1,"fa","fa-font"],["bgInput",""],["type","button","title","Background Color","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"color-label","background"],["class","angular-editor-toolbar-set",4,"ngIf"],["type","button","title","Insert Link","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-link"],["type","button","title","Unlink","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-chain-broken"],["accept","image/*","type","file",2,"display","none",3,"change"],["fileInput",""],["type","button","title","Insert Image","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-image"],["type","button","title","Insert Video","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-video-camera"],["type","button","title","Horizontal Line","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-minus"],["type","button","title","Clear Formatting","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-remove"],["type","button","title","HTML Code","tabindex","-1",1,"angular-editor-button",3,"id","hidden","click"],[1,"fa","fa-code"],["tabindex","-1",1,"select-custom-style",3,"options","ngModel","disabled","hidden","ngModelChange","change"]],template:function(e,t){1&e&&i.Ic(0,Js,75,83,"div",0),2&e&&i.mc("ngIf",t.showToolbar)},directives:function(){return[a.n,_c,vs.n,vs.q]},styles:['@charset "UTF-8";@font-face{font-family:FontAwesome;src:url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.eot?v=4.7.0);src:url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.eot?#iefix&v=4.7.0) format("embedded-opentype"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.woff2?v=4.7.0) format("woff2"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.woff?v=4.7.0) format("woff"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.ttf?v=4.7.0) format("truetype"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.svg?v=4.7.0#fontawesomeregular) format("svg");font-weight:400;font-style:normal}.fa[_ngcontent-%COMP%]{display:inline-block;font:14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg[_ngcontent-%COMP%]{font-size:1.3333333333em;line-height:.75em;vertical-align:-15%}.fa-2x[_ngcontent-%COMP%]{font-size:2em}.fa-3x[_ngcontent-%COMP%]{font-size:3em}.fa-4x[_ngcontent-%COMP%]{font-size:4em}.fa-5x[_ngcontent-%COMP%]{font-size:5em}.fa-fw[_ngcontent-%COMP%]{width:1.2857142857em;text-align:center}.fa-ul[_ngcontent-%COMP%]{padding-left:0;margin-left:2.1428571429em;list-style-type:none}.fa-ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}.fa-li[_ngcontent-%COMP%]{position:absolute;left:-2.1428571429em;width:2.1428571429em;top:.1428571429em;text-align:center}.fa-li.fa-lg[_ngcontent-%COMP%]{left:-1.8571428571em}.fa-border[_ngcontent-%COMP%]{padding:.2em .25em .15em;border:.08em solid #eee;border-radius:.1em}.fa-pull-left[_ngcontent-%COMP%]{float:left}.fa-pull-right[_ngcontent-%COMP%]{float:right}.fa.fa-pull-left[_ngcontent-%COMP%]{margin-right:.3em}.fa.fa-pull-right[_ngcontent-%COMP%]{margin-left:.3em}.pull-right[_ngcontent-%COMP%]{float:right}.pull-left[_ngcontent-%COMP%]{float:left}.fa.pull-left[_ngcontent-%COMP%]{margin-right:.3em}.fa.pull-right[_ngcontent-%COMP%]{margin-left:.3em}.fa-spin[_ngcontent-%COMP%]{-webkit-animation:2s linear infinite fa-spin;animation:2s linear infinite fa-spin}.fa-pulse[_ngcontent-%COMP%]{-webkit-animation:1s steps(8) infinite fa-spin;animation:1s steps(8) infinite fa-spin}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.fa-rotate-90[_ngcontent-%COMP%]{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180[_ngcontent-%COMP%]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270[_ngcontent-%COMP%]{-webkit-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal[_ngcontent-%COMP%]{-webkit-transform:scale(-1,1);transform:scale(-1,1)}.fa-flip-vertical[_ngcontent-%COMP%]{-webkit-transform:scale(1,-1);transform:scale(1,-1)}[_ngcontent-%COMP%]:root   .fa-flip-horizontal[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-flip-vertical[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-rotate-180[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-rotate-270[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-rotate-90[_ngcontent-%COMP%]{-webkit-filter:none;filter:none}.fa-stack[_ngcontent-%COMP%]{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x[_ngcontent-%COMP%], .fa-stack-2x[_ngcontent-%COMP%]{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x[_ngcontent-%COMP%]{line-height:inherit}.fa-stack-2x[_ngcontent-%COMP%]{font-size:2em}.fa-inverse[_ngcontent-%COMP%]{color:#fff}.fa-glass[_ngcontent-%COMP%]:before{content:"\uf000"}.fa-music[_ngcontent-%COMP%]:before{content:"\uf001"}.fa-search[_ngcontent-%COMP%]:before{content:"\uf002"}.fa-envelope-o[_ngcontent-%COMP%]:before{content:"\uf003"}.fa-heart[_ngcontent-%COMP%]:before{content:"\uf004"}.fa-star[_ngcontent-%COMP%]:before{content:"\uf005"}.fa-star-o[_ngcontent-%COMP%]:before{content:"\uf006"}.fa-user[_ngcontent-%COMP%]:before{content:"\uf007"}.fa-film[_ngcontent-%COMP%]:before{content:"\uf008"}.fa-th-large[_ngcontent-%COMP%]:before{content:"\uf009"}.fa-th[_ngcontent-%COMP%]:before{content:"\uf00a"}.fa-th-list[_ngcontent-%COMP%]:before{content:"\uf00b"}.fa-check[_ngcontent-%COMP%]:before{content:"\uf00c"}.fa-close[_ngcontent-%COMP%]:before, .fa-remove[_ngcontent-%COMP%]:before, .fa-times[_ngcontent-%COMP%]:before{content:"\uf00d"}.fa-search-plus[_ngcontent-%COMP%]:before{content:"\uf00e"}.fa-search-minus[_ngcontent-%COMP%]:before{content:"\uf010"}.fa-power-off[_ngcontent-%COMP%]:before{content:"\uf011"}.fa-signal[_ngcontent-%COMP%]:before{content:"\uf012"}.fa-cog[_ngcontent-%COMP%]:before, .fa-gear[_ngcontent-%COMP%]:before{content:"\uf013"}.fa-trash-o[_ngcontent-%COMP%]:before{content:"\uf014"}.fa-home[_ngcontent-%COMP%]:before{content:"\uf015"}.fa-file-o[_ngcontent-%COMP%]:before{content:"\uf016"}.fa-clock-o[_ngcontent-%COMP%]:before{content:"\uf017"}.fa-road[_ngcontent-%COMP%]:before{content:"\uf018"}.fa-download[_ngcontent-%COMP%]:before{content:"\uf019"}.fa-arrow-circle-o-down[_ngcontent-%COMP%]:before{content:"\uf01a"}.fa-arrow-circle-o-up[_ngcontent-%COMP%]:before{content:"\uf01b"}.fa-inbox[_ngcontent-%COMP%]:before{content:"\uf01c"}.fa-play-circle-o[_ngcontent-%COMP%]:before{content:"\uf01d"}.fa-repeat[_ngcontent-%COMP%]:before, .fa-rotate-right[_ngcontent-%COMP%]:before{content:"\uf01e"}.fa-refresh[_ngcontent-%COMP%]:before{content:"\uf021"}.fa-list-alt[_ngcontent-%COMP%]:before{content:"\uf022"}.fa-lock[_ngcontent-%COMP%]:before{content:"\uf023"}.fa-flag[_ngcontent-%COMP%]:before{content:"\uf024"}.fa-headphones[_ngcontent-%COMP%]:before{content:"\uf025"}.fa-volume-off[_ngcontent-%COMP%]:before{content:"\uf026"}.fa-volume-down[_ngcontent-%COMP%]:before{content:"\uf027"}.fa-volume-up[_ngcontent-%COMP%]:before{content:"\uf028"}.fa-qrcode[_ngcontent-%COMP%]:before{content:"\uf029"}.fa-barcode[_ngcontent-%COMP%]:before{content:"\uf02a"}.fa-tag[_ngcontent-%COMP%]:before{content:"\uf02b"}.fa-tags[_ngcontent-%COMP%]:before{content:"\uf02c"}.fa-book[_ngcontent-%COMP%]:before{content:"\uf02d"}.fa-bookmark[_ngcontent-%COMP%]:before{content:"\uf02e"}.fa-print[_ngcontent-%COMP%]:before{content:"\uf02f"}.fa-camera[_ngcontent-%COMP%]:before{content:"\uf030"}.fa-font[_ngcontent-%COMP%]:before{content:"\uf031"}.fa-bold[_ngcontent-%COMP%]:before{content:"\uf032"}.fa-italic[_ngcontent-%COMP%]:before{content:"\uf033"}.fa-text-height[_ngcontent-%COMP%]:before{content:"\uf034"}.fa-text-width[_ngcontent-%COMP%]:before{content:"\uf035"}.fa-align-left[_ngcontent-%COMP%]:before{content:"\uf036"}.fa-align-center[_ngcontent-%COMP%]:before{content:"\uf037"}.fa-align-right[_ngcontent-%COMP%]:before{content:"\uf038"}.fa-align-justify[_ngcontent-%COMP%]:before{content:"\uf039"}.fa-list[_ngcontent-%COMP%]:before{content:"\uf03a"}.fa-dedent[_ngcontent-%COMP%]:before, .fa-outdent[_ngcontent-%COMP%]:before{content:"\uf03b"}.fa-indent[_ngcontent-%COMP%]:before{content:"\uf03c"}.fa-video-camera[_ngcontent-%COMP%]:before{content:"\uf03d"}.fa-image[_ngcontent-%COMP%]:before, .fa-photo[_ngcontent-%COMP%]:before, .fa-picture-o[_ngcontent-%COMP%]:before{content:"\uf03e"}.fa-pencil[_ngcontent-%COMP%]:before{content:"\uf040"}.fa-map-marker[_ngcontent-%COMP%]:before{content:"\uf041"}.fa-adjust[_ngcontent-%COMP%]:before{content:"\uf042"}.fa-tint[_ngcontent-%COMP%]:before{content:"\uf043"}.fa-edit[_ngcontent-%COMP%]:before, .fa-pencil-square-o[_ngcontent-%COMP%]:before{content:"\uf044"}.fa-share-square-o[_ngcontent-%COMP%]:before{content:"\uf045"}.fa-check-square-o[_ngcontent-%COMP%]:before{content:"\uf046"}.fa-arrows[_ngcontent-%COMP%]:before{content:"\uf047"}.fa-step-backward[_ngcontent-%COMP%]:before{content:"\uf048"}.fa-fast-backward[_ngcontent-%COMP%]:before{content:"\uf049"}.fa-backward[_ngcontent-%COMP%]:before{content:"\uf04a"}.fa-play[_ngcontent-%COMP%]:before{content:"\uf04b"}.fa-pause[_ngcontent-%COMP%]:before{content:"\uf04c"}.fa-stop[_ngcontent-%COMP%]:before{content:"\uf04d"}.fa-forward[_ngcontent-%COMP%]:before{content:"\uf04e"}.fa-fast-forward[_ngcontent-%COMP%]:before{content:"\uf050"}.fa-step-forward[_ngcontent-%COMP%]:before{content:"\uf051"}.fa-eject[_ngcontent-%COMP%]:before{content:"\uf052"}.fa-chevron-left[_ngcontent-%COMP%]:before{content:"\uf053"}.fa-chevron-right[_ngcontent-%COMP%]:before{content:"\uf054"}.fa-plus-circle[_ngcontent-%COMP%]:before{content:"\uf055"}.fa-minus-circle[_ngcontent-%COMP%]:before{content:"\uf056"}.fa-times-circle[_ngcontent-%COMP%]:before{content:"\uf057"}.fa-check-circle[_ngcontent-%COMP%]:before{content:"\uf058"}.fa-question-circle[_ngcontent-%COMP%]:before{content:"\uf059"}.fa-info-circle[_ngcontent-%COMP%]:before{content:"\uf05a"}.fa-crosshairs[_ngcontent-%COMP%]:before{content:"\uf05b"}.fa-times-circle-o[_ngcontent-%COMP%]:before{content:"\uf05c"}.fa-check-circle-o[_ngcontent-%COMP%]:before{content:"\uf05d"}.fa-ban[_ngcontent-%COMP%]:before{content:"\uf05e"}.fa-arrow-left[_ngcontent-%COMP%]:before{content:"\uf060"}.fa-arrow-right[_ngcontent-%COMP%]:before{content:"\uf061"}.fa-arrow-up[_ngcontent-%COMP%]:before{content:"\uf062"}.fa-arrow-down[_ngcontent-%COMP%]:before{content:"\uf063"}.fa-mail-forward[_ngcontent-%COMP%]:before, .fa-share[_ngcontent-%COMP%]:before{content:"\uf064"}.fa-expand[_ngcontent-%COMP%]:before{content:"\uf065"}.fa-compress[_ngcontent-%COMP%]:before{content:"\uf066"}.fa-plus[_ngcontent-%COMP%]:before{content:"\uf067"}.fa-minus[_ngcontent-%COMP%]:before{content:"\uf068"}.fa-asterisk[_ngcontent-%COMP%]:before{content:"\uf069"}.fa-exclamation-circle[_ngcontent-%COMP%]:before{content:"\uf06a"}.fa-gift[_ngcontent-%COMP%]:before{content:"\uf06b"}.fa-leaf[_ngcontent-%COMP%]:before{content:"\uf06c"}.fa-fire[_ngcontent-%COMP%]:before{content:"\uf06d"}.fa-eye[_ngcontent-%COMP%]:before{content:"\uf06e"}.fa-eye-slash[_ngcontent-%COMP%]:before{content:"\uf070"}.fa-exclamation-triangle[_ngcontent-%COMP%]:before, .fa-warning[_ngcontent-%COMP%]:before{content:"\uf071"}.fa-plane[_ngcontent-%COMP%]:before{content:"\uf072"}.fa-calendar[_ngcontent-%COMP%]:before{content:"\uf073"}.fa-random[_ngcontent-%COMP%]:before{content:"\uf074"}.fa-comment[_ngcontent-%COMP%]:before{content:"\uf075"}.fa-magnet[_ngcontent-%COMP%]:before{content:"\uf076"}.fa-chevron-up[_ngcontent-%COMP%]:before{content:"\uf077"}.fa-chevron-down[_ngcontent-%COMP%]:before{content:"\uf078"}.fa-retweet[_ngcontent-%COMP%]:before{content:"\uf079"}.fa-shopping-cart[_ngcontent-%COMP%]:before{content:"\uf07a"}.fa-folder[_ngcontent-%COMP%]:before{content:"\uf07b"}.fa-folder-open[_ngcontent-%COMP%]:before{content:"\uf07c"}.fa-arrows-v[_ngcontent-%COMP%]:before{content:"\uf07d"}.fa-arrows-h[_ngcontent-%COMP%]:before{content:"\uf07e"}.fa-bar-chart-o[_ngcontent-%COMP%]:before, .fa-bar-chart[_ngcontent-%COMP%]:before{content:"\uf080"}.fa-twitter-square[_ngcontent-%COMP%]:before{content:"\uf081"}.fa-facebook-square[_ngcontent-%COMP%]:before{content:"\uf082"}.fa-camera-retro[_ngcontent-%COMP%]:before{content:"\uf083"}.fa-key[_ngcontent-%COMP%]:before{content:"\uf084"}.fa-cogs[_ngcontent-%COMP%]:before, .fa-gears[_ngcontent-%COMP%]:before{content:"\uf085"}.fa-comments[_ngcontent-%COMP%]:before{content:"\uf086"}.fa-thumbs-o-up[_ngcontent-%COMP%]:before{content:"\uf087"}.fa-thumbs-o-down[_ngcontent-%COMP%]:before{content:"\uf088"}.fa-star-half[_ngcontent-%COMP%]:before{content:"\uf089"}.fa-heart-o[_ngcontent-%COMP%]:before{content:"\uf08a"}.fa-sign-out[_ngcontent-%COMP%]:before{content:"\uf08b"}.fa-linkedin-square[_ngcontent-%COMP%]:before{content:"\uf08c"}.fa-thumb-tack[_ngcontent-%COMP%]:before{content:"\uf08d"}.fa-external-link[_ngcontent-%COMP%]:before{content:"\uf08e"}.fa-sign-in[_ngcontent-%COMP%]:before{content:"\uf090"}.fa-trophy[_ngcontent-%COMP%]:before{content:"\uf091"}.fa-github-square[_ngcontent-%COMP%]:before{content:"\uf092"}.fa-upload[_ngcontent-%COMP%]:before{content:"\uf093"}.fa-lemon-o[_ngcontent-%COMP%]:before{content:"\uf094"}.fa-phone[_ngcontent-%COMP%]:before{content:"\uf095"}.fa-square-o[_ngcontent-%COMP%]:before{content:"\uf096"}.fa-bookmark-o[_ngcontent-%COMP%]:before{content:"\uf097"}.fa-phone-square[_ngcontent-%COMP%]:before{content:"\uf098"}.fa-twitter[_ngcontent-%COMP%]:before{content:"\uf099"}.fa-facebook-f[_ngcontent-%COMP%]:before, .fa-facebook[_ngcontent-%COMP%]:before{content:"\uf09a"}.fa-github[_ngcontent-%COMP%]:before{content:"\uf09b"}.fa-unlock[_ngcontent-%COMP%]:before{content:"\uf09c"}.fa-credit-card[_ngcontent-%COMP%]:before{content:"\uf09d"}.fa-feed[_ngcontent-%COMP%]:before, .fa-rss[_ngcontent-%COMP%]:before{content:"\uf09e"}.fa-hdd-o[_ngcontent-%COMP%]:before{content:"\uf0a0"}.fa-bullhorn[_ngcontent-%COMP%]:before{content:"\uf0a1"}.fa-bell[_ngcontent-%COMP%]:before{content:"\uf0f3"}.fa-certificate[_ngcontent-%COMP%]:before{content:"\uf0a3"}.fa-hand-o-right[_ngcontent-%COMP%]:before{content:"\uf0a4"}.fa-hand-o-left[_ngcontent-%COMP%]:before{content:"\uf0a5"}.fa-hand-o-up[_ngcontent-%COMP%]:before{content:"\uf0a6"}.fa-hand-o-down[_ngcontent-%COMP%]:before{content:"\uf0a7"}.fa-arrow-circle-left[_ngcontent-%COMP%]:before{content:"\uf0a8"}.fa-arrow-circle-right[_ngcontent-%COMP%]:before{content:"\uf0a9"}.fa-arrow-circle-up[_ngcontent-%COMP%]:before{content:"\uf0aa"}.fa-arrow-circle-down[_ngcontent-%COMP%]:before{content:"\uf0ab"}.fa-globe[_ngcontent-%COMP%]:before{content:"\uf0ac"}.fa-wrench[_ngcontent-%COMP%]:before{content:"\uf0ad"}.fa-tasks[_ngcontent-%COMP%]:before{content:"\uf0ae"}.fa-filter[_ngcontent-%COMP%]:before{content:"\uf0b0"}.fa-briefcase[_ngcontent-%COMP%]:before{content:"\uf0b1"}.fa-arrows-alt[_ngcontent-%COMP%]:before{content:"\uf0b2"}.fa-group[_ngcontent-%COMP%]:before, .fa-users[_ngcontent-%COMP%]:before{content:"\uf0c0"}.fa-chain[_ngcontent-%COMP%]:before, .fa-link[_ngcontent-%COMP%]:before{content:"\uf0c1"}.fa-cloud[_ngcontent-%COMP%]:before{content:"\uf0c2"}.fa-flask[_ngcontent-%COMP%]:before{content:"\uf0c3"}.fa-cut[_ngcontent-%COMP%]:before, .fa-scissors[_ngcontent-%COMP%]:before{content:"\uf0c4"}.fa-copy[_ngcontent-%COMP%]:before, .fa-files-o[_ngcontent-%COMP%]:before{content:"\uf0c5"}.fa-paperclip[_ngcontent-%COMP%]:before{content:"\uf0c6"}.fa-floppy-o[_ngcontent-%COMP%]:before, .fa-save[_ngcontent-%COMP%]:before{content:"\uf0c7"}.fa-square[_ngcontent-%COMP%]:before{content:"\uf0c8"}.fa-bars[_ngcontent-%COMP%]:before, .fa-navicon[_ngcontent-%COMP%]:before, .fa-reorder[_ngcontent-%COMP%]:before{content:"\uf0c9"}.fa-list-ul[_ngcontent-%COMP%]:before{content:"\uf0ca"}.fa-list-ol[_ngcontent-%COMP%]:before{content:"\uf0cb"}.fa-strikethrough[_ngcontent-%COMP%]:before{content:"\uf0cc"}.fa-underline[_ngcontent-%COMP%]:before{content:"\uf0cd"}.fa-table[_ngcontent-%COMP%]:before{content:"\uf0ce"}.fa-magic[_ngcontent-%COMP%]:before{content:"\uf0d0"}.fa-truck[_ngcontent-%COMP%]:before{content:"\uf0d1"}.fa-pinterest[_ngcontent-%COMP%]:before{content:"\uf0d2"}.fa-pinterest-square[_ngcontent-%COMP%]:before{content:"\uf0d3"}.fa-google-plus-square[_ngcontent-%COMP%]:before{content:"\uf0d4"}.fa-google-plus[_ngcontent-%COMP%]:before{content:"\uf0d5"}.fa-money[_ngcontent-%COMP%]:before{content:"\uf0d6"}.fa-caret-down[_ngcontent-%COMP%]:before{content:"\uf0d7"}.fa-caret-up[_ngcontent-%COMP%]:before{content:"\uf0d8"}.fa-caret-left[_ngcontent-%COMP%]:before{content:"\uf0d9"}.fa-caret-right[_ngcontent-%COMP%]:before{content:"\uf0da"}.fa-columns[_ngcontent-%COMP%]:before{content:"\uf0db"}.fa-sort[_ngcontent-%COMP%]:before, .fa-unsorted[_ngcontent-%COMP%]:before{content:"\uf0dc"}.fa-sort-desc[_ngcontent-%COMP%]:before, .fa-sort-down[_ngcontent-%COMP%]:before{content:"\uf0dd"}.fa-sort-asc[_ngcontent-%COMP%]:before, .fa-sort-up[_ngcontent-%COMP%]:before{content:"\uf0de"}.fa-envelope[_ngcontent-%COMP%]:before{content:"\uf0e0"}.fa-linkedin[_ngcontent-%COMP%]:before{content:"\uf0e1"}.fa-rotate-left[_ngcontent-%COMP%]:before, .fa-undo[_ngcontent-%COMP%]:before{content:"\uf0e2"}.fa-gavel[_ngcontent-%COMP%]:before, .fa-legal[_ngcontent-%COMP%]:before{content:"\uf0e3"}.fa-dashboard[_ngcontent-%COMP%]:before, .fa-tachometer[_ngcontent-%COMP%]:before{content:"\uf0e4"}.fa-comment-o[_ngcontent-%COMP%]:before{content:"\uf0e5"}.fa-comments-o[_ngcontent-%COMP%]:before{content:"\uf0e6"}.fa-bolt[_ngcontent-%COMP%]:before, .fa-flash[_ngcontent-%COMP%]:before{content:"\uf0e7"}.fa-sitemap[_ngcontent-%COMP%]:before{content:"\uf0e8"}.fa-umbrella[_ngcontent-%COMP%]:before{content:"\uf0e9"}.fa-clipboard[_ngcontent-%COMP%]:before, .fa-paste[_ngcontent-%COMP%]:before{content:"\uf0ea"}.fa-lightbulb-o[_ngcontent-%COMP%]:before{content:"\uf0eb"}.fa-exchange[_ngcontent-%COMP%]:before{content:"\uf0ec"}.fa-cloud-download[_ngcontent-%COMP%]:before{content:"\uf0ed"}.fa-cloud-upload[_ngcontent-%COMP%]:before{content:"\uf0ee"}.fa-user-md[_ngcontent-%COMP%]:before{content:"\uf0f0"}.fa-stethoscope[_ngcontent-%COMP%]:before{content:"\uf0f1"}.fa-suitcase[_ngcontent-%COMP%]:before{content:"\uf0f2"}.fa-bell-o[_ngcontent-%COMP%]:before{content:"\uf0a2"}.fa-coffee[_ngcontent-%COMP%]:before{content:"\uf0f4"}.fa-cutlery[_ngcontent-%COMP%]:before{content:"\uf0f5"}.fa-file-text-o[_ngcontent-%COMP%]:before{content:"\uf0f6"}.fa-building-o[_ngcontent-%COMP%]:before{content:"\uf0f7"}.fa-hospital-o[_ngcontent-%COMP%]:before{content:"\uf0f8"}.fa-ambulance[_ngcontent-%COMP%]:before{content:"\uf0f9"}.fa-medkit[_ngcontent-%COMP%]:before{content:"\uf0fa"}.fa-fighter-jet[_ngcontent-%COMP%]:before{content:"\uf0fb"}.fa-beer[_ngcontent-%COMP%]:before{content:"\uf0fc"}.fa-h-square[_ngcontent-%COMP%]:before{content:"\uf0fd"}.fa-plus-square[_ngcontent-%COMP%]:before{content:"\uf0fe"}.fa-angle-double-left[_ngcontent-%COMP%]:before{content:"\uf100"}.fa-angle-double-right[_ngcontent-%COMP%]:before{content:"\uf101"}.fa-angle-double-up[_ngcontent-%COMP%]:before{content:"\uf102"}.fa-angle-double-down[_ngcontent-%COMP%]:before{content:"\uf103"}.fa-angle-left[_ngcontent-%COMP%]:before{content:"\uf104"}.fa-angle-right[_ngcontent-%COMP%]:before{content:"\uf105"}.fa-angle-up[_ngcontent-%COMP%]:before{content:"\uf106"}.fa-angle-down[_ngcontent-%COMP%]:before{content:"\uf107"}.fa-desktop[_ngcontent-%COMP%]:before{content:"\uf108"}.fa-laptop[_ngcontent-%COMP%]:before{content:"\uf109"}.fa-tablet[_ngcontent-%COMP%]:before{content:"\uf10a"}.fa-mobile-phone[_ngcontent-%COMP%]:before, .fa-mobile[_ngcontent-%COMP%]:before{content:"\uf10b"}.fa-circle-o[_ngcontent-%COMP%]:before{content:"\uf10c"}.fa-quote-left[_ngcontent-%COMP%]:before{content:"\uf10d"}.fa-quote-right[_ngcontent-%COMP%]:before{content:"\uf10e"}.fa-spinner[_ngcontent-%COMP%]:before{content:"\uf110"}.fa-circle[_ngcontent-%COMP%]:before{content:"\uf111"}.fa-mail-reply[_ngcontent-%COMP%]:before, .fa-reply[_ngcontent-%COMP%]:before{content:"\uf112"}.fa-github-alt[_ngcontent-%COMP%]:before{content:"\uf113"}.fa-folder-o[_ngcontent-%COMP%]:before{content:"\uf114"}.fa-folder-open-o[_ngcontent-%COMP%]:before{content:"\uf115"}.fa-smile-o[_ngcontent-%COMP%]:before{content:"\uf118"}.fa-frown-o[_ngcontent-%COMP%]:before{content:"\uf119"}.fa-meh-o[_ngcontent-%COMP%]:before{content:"\uf11a"}.fa-gamepad[_ngcontent-%COMP%]:before{content:"\uf11b"}.fa-keyboard-o[_ngcontent-%COMP%]:before{content:"\uf11c"}.fa-flag-o[_ngcontent-%COMP%]:before{content:"\uf11d"}.fa-flag-checkered[_ngcontent-%COMP%]:before{content:"\uf11e"}.fa-terminal[_ngcontent-%COMP%]:before{content:"\uf120"}.fa-code[_ngcontent-%COMP%]:before{content:"\uf121"}.fa-mail-reply-all[_ngcontent-%COMP%]:before, .fa-reply-all[_ngcontent-%COMP%]:before{content:"\uf122"}.fa-star-half-empty[_ngcontent-%COMP%]:before, .fa-star-half-full[_ngcontent-%COMP%]:before, .fa-star-half-o[_ngcontent-%COMP%]:before{content:"\uf123"}.fa-location-arrow[_ngcontent-%COMP%]:before{content:"\uf124"}.fa-crop[_ngcontent-%COMP%]:before{content:"\uf125"}.fa-code-fork[_ngcontent-%COMP%]:before{content:"\uf126"}.fa-chain-broken[_ngcontent-%COMP%]:before, .fa-unlink[_ngcontent-%COMP%]:before{content:"\uf127"}.fa-question[_ngcontent-%COMP%]:before{content:"\uf128"}.fa-info[_ngcontent-%COMP%]:before{content:"\uf129"}.fa-exclamation[_ngcontent-%COMP%]:before{content:"\uf12a"}.fa-superscript[_ngcontent-%COMP%]:before{content:"\uf12b"}.fa-subscript[_ngcontent-%COMP%]:before{content:"\uf12c"}.fa-eraser[_ngcontent-%COMP%]:before{content:"\uf12d"}.fa-puzzle-piece[_ngcontent-%COMP%]:before{content:"\uf12e"}.fa-microphone[_ngcontent-%COMP%]:before{content:"\uf130"}.fa-microphone-slash[_ngcontent-%COMP%]:before{content:"\uf131"}.fa-shield[_ngcontent-%COMP%]:before{content:"\uf132"}.fa-calendar-o[_ngcontent-%COMP%]:before{content:"\uf133"}.fa-fire-extinguisher[_ngcontent-%COMP%]:before{content:"\uf134"}.fa-rocket[_ngcontent-%COMP%]:before{content:"\uf135"}.fa-maxcdn[_ngcontent-%COMP%]:before{content:"\uf136"}.fa-chevron-circle-left[_ngcontent-%COMP%]:before{content:"\uf137"}.fa-chevron-circle-right[_ngcontent-%COMP%]:before{content:"\uf138"}.fa-chevron-circle-up[_ngcontent-%COMP%]:before{content:"\uf139"}.fa-chevron-circle-down[_ngcontent-%COMP%]:before{content:"\uf13a"}.fa-html5[_ngcontent-%COMP%]:before{content:"\uf13b"}.fa-css3[_ngcontent-%COMP%]:before{content:"\uf13c"}.fa-anchor[_ngcontent-%COMP%]:before{content:"\uf13d"}.fa-unlock-alt[_ngcontent-%COMP%]:before{content:"\uf13e"}.fa-bullseye[_ngcontent-%COMP%]:before{content:"\uf140"}.fa-ellipsis-h[_ngcontent-%COMP%]:before{content:"\uf141"}.fa-ellipsis-v[_ngcontent-%COMP%]:before{content:"\uf142"}.fa-rss-square[_ngcontent-%COMP%]:before{content:"\uf143"}.fa-play-circle[_ngcontent-%COMP%]:before{content:"\uf144"}.fa-ticket[_ngcontent-%COMP%]:before{content:"\uf145"}.fa-minus-square[_ngcontent-%COMP%]:before{content:"\uf146"}.fa-minus-square-o[_ngcontent-%COMP%]:before{content:"\uf147"}.fa-level-up[_ngcontent-%COMP%]:before{content:"\uf148"}.fa-level-down[_ngcontent-%COMP%]:before{content:"\uf149"}.fa-check-square[_ngcontent-%COMP%]:before{content:"\uf14a"}.fa-pencil-square[_ngcontent-%COMP%]:before{content:"\uf14b"}.fa-external-link-square[_ngcontent-%COMP%]:before{content:"\uf14c"}.fa-share-square[_ngcontent-%COMP%]:before{content:"\uf14d"}.fa-compass[_ngcontent-%COMP%]:before{content:"\uf14e"}.fa-caret-square-o-down[_ngcontent-%COMP%]:before, .fa-toggle-down[_ngcontent-%COMP%]:before{content:"\uf150"}.fa-caret-square-o-up[_ngcontent-%COMP%]:before, .fa-toggle-up[_ngcontent-%COMP%]:before{content:"\uf151"}.fa-caret-square-o-right[_ngcontent-%COMP%]:before, .fa-toggle-right[_ngcontent-%COMP%]:before{content:"\uf152"}.fa-eur[_ngcontent-%COMP%]:before, .fa-euro[_ngcontent-%COMP%]:before{content:"\uf153"}.fa-gbp[_ngcontent-%COMP%]:before{content:"\uf154"}.fa-dollar[_ngcontent-%COMP%]:before, .fa-usd[_ngcontent-%COMP%]:before{content:"\uf155"}.fa-inr[_ngcontent-%COMP%]:before, .fa-rupee[_ngcontent-%COMP%]:before{content:"\uf156"}.fa-cny[_ngcontent-%COMP%]:before, .fa-jpy[_ngcontent-%COMP%]:before, .fa-rmb[_ngcontent-%COMP%]:before, .fa-yen[_ngcontent-%COMP%]:before{content:"\uf157"}.fa-rouble[_ngcontent-%COMP%]:before, .fa-rub[_ngcontent-%COMP%]:before, .fa-ruble[_ngcontent-%COMP%]:before{content:"\uf158"}.fa-krw[_ngcontent-%COMP%]:before, .fa-won[_ngcontent-%COMP%]:before{content:"\uf159"}.fa-bitcoin[_ngcontent-%COMP%]:before, .fa-btc[_ngcontent-%COMP%]:before{content:"\uf15a"}.fa-file[_ngcontent-%COMP%]:before{content:"\uf15b"}.fa-file-text[_ngcontent-%COMP%]:before{content:"\uf15c"}.fa-sort-alpha-asc[_ngcontent-%COMP%]:before{content:"\uf15d"}.fa-sort-alpha-desc[_ngcontent-%COMP%]:before{content:"\uf15e"}.fa-sort-amount-asc[_ngcontent-%COMP%]:before{content:"\uf160"}.fa-sort-amount-desc[_ngcontent-%COMP%]:before{content:"\uf161"}.fa-sort-numeric-asc[_ngcontent-%COMP%]:before{content:"\uf162"}.fa-sort-numeric-desc[_ngcontent-%COMP%]:before{content:"\uf163"}.fa-thumbs-up[_ngcontent-%COMP%]:before{content:"\uf164"}.fa-thumbs-down[_ngcontent-%COMP%]:before{content:"\uf165"}.fa-youtube-square[_ngcontent-%COMP%]:before{content:"\uf166"}.fa-youtube[_ngcontent-%COMP%]:before{content:"\uf167"}.fa-xing[_ngcontent-%COMP%]:before{content:"\uf168"}.fa-xing-square[_ngcontent-%COMP%]:before{content:"\uf169"}.fa-youtube-play[_ngcontent-%COMP%]:before{content:"\uf16a"}.fa-dropbox[_ngcontent-%COMP%]:before{content:"\uf16b"}.fa-stack-overflow[_ngcontent-%COMP%]:before{content:"\uf16c"}.fa-instagram[_ngcontent-%COMP%]:before{content:"\uf16d"}.fa-flickr[_ngcontent-%COMP%]:before{content:"\uf16e"}.fa-adn[_ngcontent-%COMP%]:before{content:"\uf170"}.fa-bitbucket[_ngcontent-%COMP%]:before{content:"\uf171"}.fa-bitbucket-square[_ngcontent-%COMP%]:before{content:"\uf172"}.fa-tumblr[_ngcontent-%COMP%]:before{content:"\uf173"}.fa-tumblr-square[_ngcontent-%COMP%]:before{content:"\uf174"}.fa-long-arrow-down[_ngcontent-%COMP%]:before{content:"\uf175"}.fa-long-arrow-up[_ngcontent-%COMP%]:before{content:"\uf176"}.fa-long-arrow-left[_ngcontent-%COMP%]:before{content:"\uf177"}.fa-long-arrow-right[_ngcontent-%COMP%]:before{content:"\uf178"}.fa-apple[_ngcontent-%COMP%]:before{content:"\uf179"}.fa-windows[_ngcontent-%COMP%]:before{content:"\uf17a"}.fa-android[_ngcontent-%COMP%]:before{content:"\uf17b"}.fa-linux[_ngcontent-%COMP%]:before{content:"\uf17c"}.fa-dribbble[_ngcontent-%COMP%]:before{content:"\uf17d"}.fa-skype[_ngcontent-%COMP%]:before{content:"\uf17e"}.fa-foursquare[_ngcontent-%COMP%]:before{content:"\uf180"}.fa-trello[_ngcontent-%COMP%]:before{content:"\uf181"}.fa-female[_ngcontent-%COMP%]:before{content:"\uf182"}.fa-male[_ngcontent-%COMP%]:before{content:"\uf183"}.fa-gittip[_ngcontent-%COMP%]:before, .fa-gratipay[_ngcontent-%COMP%]:before{content:"\uf184"}.fa-sun-o[_ngcontent-%COMP%]:before{content:"\uf185"}.fa-moon-o[_ngcontent-%COMP%]:before{content:"\uf186"}.fa-archive[_ngcontent-%COMP%]:before{content:"\uf187"}.fa-bug[_ngcontent-%COMP%]:before{content:"\uf188"}.fa-vk[_ngcontent-%COMP%]:before{content:"\uf189"}.fa-weibo[_ngcontent-%COMP%]:before{content:"\uf18a"}.fa-renren[_ngcontent-%COMP%]:before{content:"\uf18b"}.fa-pagelines[_ngcontent-%COMP%]:before{content:"\uf18c"}.fa-stack-exchange[_ngcontent-%COMP%]:before{content:"\uf18d"}.fa-arrow-circle-o-right[_ngcontent-%COMP%]:before{content:"\uf18e"}.fa-arrow-circle-o-left[_ngcontent-%COMP%]:before{content:"\uf190"}.fa-caret-square-o-left[_ngcontent-%COMP%]:before, .fa-toggle-left[_ngcontent-%COMP%]:before{content:"\uf191"}.fa-dot-circle-o[_ngcontent-%COMP%]:before{content:"\uf192"}.fa-wheelchair[_ngcontent-%COMP%]:before{content:"\uf193"}.fa-vimeo-square[_ngcontent-%COMP%]:before{content:"\uf194"}.fa-try[_ngcontent-%COMP%]:before, .fa-turkish-lira[_ngcontent-%COMP%]:before{content:"\uf195"}.fa-plus-square-o[_ngcontent-%COMP%]:before{content:"\uf196"}.fa-space-shuttle[_ngcontent-%COMP%]:before{content:"\uf197"}.fa-slack[_ngcontent-%COMP%]:before{content:"\uf198"}.fa-envelope-square[_ngcontent-%COMP%]:before{content:"\uf199"}.fa-wordpress[_ngcontent-%COMP%]:before{content:"\uf19a"}.fa-openid[_ngcontent-%COMP%]:before{content:"\uf19b"}.fa-bank[_ngcontent-%COMP%]:before, .fa-institution[_ngcontent-%COMP%]:before, .fa-university[_ngcontent-%COMP%]:before{content:"\uf19c"}.fa-graduation-cap[_ngcontent-%COMP%]:before, .fa-mortar-board[_ngcontent-%COMP%]:before{content:"\uf19d"}.fa-yahoo[_ngcontent-%COMP%]:before{content:"\uf19e"}.fa-google[_ngcontent-%COMP%]:before{content:"\uf1a0"}.fa-reddit[_ngcontent-%COMP%]:before{content:"\uf1a1"}.fa-reddit-square[_ngcontent-%COMP%]:before{content:"\uf1a2"}.fa-stumbleupon-circle[_ngcontent-%COMP%]:before{content:"\uf1a3"}.fa-stumbleupon[_ngcontent-%COMP%]:before{content:"\uf1a4"}.fa-delicious[_ngcontent-%COMP%]:before{content:"\uf1a5"}.fa-digg[_ngcontent-%COMP%]:before{content:"\uf1a6"}.fa-pied-piper-pp[_ngcontent-%COMP%]:before{content:"\uf1a7"}.fa-pied-piper-alt[_ngcontent-%COMP%]:before{content:"\uf1a8"}.fa-drupal[_ngcontent-%COMP%]:before{content:"\uf1a9"}.fa-joomla[_ngcontent-%COMP%]:before{content:"\uf1aa"}.fa-language[_ngcontent-%COMP%]:before{content:"\uf1ab"}.fa-fax[_ngcontent-%COMP%]:before{content:"\uf1ac"}.fa-building[_ngcontent-%COMP%]:before{content:"\uf1ad"}.fa-child[_ngcontent-%COMP%]:before{content:"\uf1ae"}.fa-paw[_ngcontent-%COMP%]:before{content:"\uf1b0"}.fa-spoon[_ngcontent-%COMP%]:before{content:"\uf1b1"}.fa-cube[_ngcontent-%COMP%]:before{content:"\uf1b2"}.fa-cubes[_ngcontent-%COMP%]:before{content:"\uf1b3"}.fa-behance[_ngcontent-%COMP%]:before{content:"\uf1b4"}.fa-behance-square[_ngcontent-%COMP%]:before{content:"\uf1b5"}.fa-steam[_ngcontent-%COMP%]:before{content:"\uf1b6"}.fa-steam-square[_ngcontent-%COMP%]:before{content:"\uf1b7"}.fa-recycle[_ngcontent-%COMP%]:before{content:"\uf1b8"}.fa-automobile[_ngcontent-%COMP%]:before, .fa-car[_ngcontent-%COMP%]:before{content:"\uf1b9"}.fa-cab[_ngcontent-%COMP%]:before, .fa-taxi[_ngcontent-%COMP%]:before{content:"\uf1ba"}.fa-tree[_ngcontent-%COMP%]:before{content:"\uf1bb"}.fa-spotify[_ngcontent-%COMP%]:before{content:"\uf1bc"}.fa-deviantart[_ngcontent-%COMP%]:before{content:"\uf1bd"}.fa-soundcloud[_ngcontent-%COMP%]:before{content:"\uf1be"}.fa-database[_ngcontent-%COMP%]:before{content:"\uf1c0"}.fa-file-pdf-o[_ngcontent-%COMP%]:before{content:"\uf1c1"}.fa-file-word-o[_ngcontent-%COMP%]:before{content:"\uf1c2"}.fa-file-excel-o[_ngcontent-%COMP%]:before{content:"\uf1c3"}.fa-file-powerpoint-o[_ngcontent-%COMP%]:before{content:"\uf1c4"}.fa-file-image-o[_ngcontent-%COMP%]:before, .fa-file-photo-o[_ngcontent-%COMP%]:before, .fa-file-picture-o[_ngcontent-%COMP%]:before{content:"\uf1c5"}.fa-file-archive-o[_ngcontent-%COMP%]:before, .fa-file-zip-o[_ngcontent-%COMP%]:before{content:"\uf1c6"}.fa-file-audio-o[_ngcontent-%COMP%]:before, .fa-file-sound-o[_ngcontent-%COMP%]:before{content:"\uf1c7"}.fa-file-movie-o[_ngcontent-%COMP%]:before, .fa-file-video-o[_ngcontent-%COMP%]:before{content:"\uf1c8"}.fa-file-code-o[_ngcontent-%COMP%]:before{content:"\uf1c9"}.fa-vine[_ngcontent-%COMP%]:before{content:"\uf1ca"}.fa-codepen[_ngcontent-%COMP%]:before{content:"\uf1cb"}.fa-jsfiddle[_ngcontent-%COMP%]:before{content:"\uf1cc"}.fa-life-bouy[_ngcontent-%COMP%]:before, .fa-life-buoy[_ngcontent-%COMP%]:before, .fa-life-ring[_ngcontent-%COMP%]:before, .fa-life-saver[_ngcontent-%COMP%]:before, .fa-support[_ngcontent-%COMP%]:before{content:"\uf1cd"}.fa-circle-o-notch[_ngcontent-%COMP%]:before{content:"\uf1ce"}.fa-ra[_ngcontent-%COMP%]:before, .fa-rebel[_ngcontent-%COMP%]:before, .fa-resistance[_ngcontent-%COMP%]:before{content:"\uf1d0"}.fa-empire[_ngcontent-%COMP%]:before, .fa-ge[_ngcontent-%COMP%]:before{content:"\uf1d1"}.fa-git-square[_ngcontent-%COMP%]:before{content:"\uf1d2"}.fa-git[_ngcontent-%COMP%]:before{content:"\uf1d3"}.fa-hacker-news[_ngcontent-%COMP%]:before, .fa-y-combinator-square[_ngcontent-%COMP%]:before, .fa-yc-square[_ngcontent-%COMP%]:before{content:"\uf1d4"}.fa-tencent-weibo[_ngcontent-%COMP%]:before{content:"\uf1d5"}.fa-qq[_ngcontent-%COMP%]:before{content:"\uf1d6"}.fa-wechat[_ngcontent-%COMP%]:before, .fa-weixin[_ngcontent-%COMP%]:before{content:"\uf1d7"}.fa-paper-plane[_ngcontent-%COMP%]:before, .fa-send[_ngcontent-%COMP%]:before{content:"\uf1d8"}.fa-paper-plane-o[_ngcontent-%COMP%]:before, .fa-send-o[_ngcontent-%COMP%]:before{content:"\uf1d9"}.fa-history[_ngcontent-%COMP%]:before{content:"\uf1da"}.fa-circle-thin[_ngcontent-%COMP%]:before{content:"\uf1db"}.fa-header[_ngcontent-%COMP%]:before{content:"\uf1dc"}.fa-paragraph[_ngcontent-%COMP%]:before{content:"\uf1dd"}.fa-sliders[_ngcontent-%COMP%]:before{content:"\uf1de"}.fa-share-alt[_ngcontent-%COMP%]:before{content:"\uf1e0"}.fa-share-alt-square[_ngcontent-%COMP%]:before{content:"\uf1e1"}.fa-bomb[_ngcontent-%COMP%]:before{content:"\uf1e2"}.fa-futbol-o[_ngcontent-%COMP%]:before, .fa-soccer-ball-o[_ngcontent-%COMP%]:before{content:"\uf1e3"}.fa-tty[_ngcontent-%COMP%]:before{content:"\uf1e4"}.fa-binoculars[_ngcontent-%COMP%]:before{content:"\uf1e5"}.fa-plug[_ngcontent-%COMP%]:before{content:"\uf1e6"}.fa-slideshare[_ngcontent-%COMP%]:before{content:"\uf1e7"}.fa-twitch[_ngcontent-%COMP%]:before{content:"\uf1e8"}.fa-yelp[_ngcontent-%COMP%]:before{content:"\uf1e9"}.fa-newspaper-o[_ngcontent-%COMP%]:before{content:"\uf1ea"}.fa-wifi[_ngcontent-%COMP%]:before{content:"\uf1eb"}.fa-calculator[_ngcontent-%COMP%]:before{content:"\uf1ec"}.fa-paypal[_ngcontent-%COMP%]:before{content:"\uf1ed"}.fa-google-wallet[_ngcontent-%COMP%]:before{content:"\uf1ee"}.fa-cc-visa[_ngcontent-%COMP%]:before{content:"\uf1f0"}.fa-cc-mastercard[_ngcontent-%COMP%]:before{content:"\uf1f1"}.fa-cc-discover[_ngcontent-%COMP%]:before{content:"\uf1f2"}.fa-cc-amex[_ngcontent-%COMP%]:before{content:"\uf1f3"}.fa-cc-paypal[_ngcontent-%COMP%]:before{content:"\uf1f4"}.fa-cc-stripe[_ngcontent-%COMP%]:before{content:"\uf1f5"}.fa-bell-slash[_ngcontent-%COMP%]:before{content:"\uf1f6"}.fa-bell-slash-o[_ngcontent-%COMP%]:before{content:"\uf1f7"}.fa-trash[_ngcontent-%COMP%]:before{content:"\uf1f8"}.fa-copyright[_ngcontent-%COMP%]:before{content:"\uf1f9"}.fa-at[_ngcontent-%COMP%]:before{content:"\uf1fa"}.fa-eyedropper[_ngcontent-%COMP%]:before{content:"\uf1fb"}.fa-paint-brush[_ngcontent-%COMP%]:before{content:"\uf1fc"}.fa-birthday-cake[_ngcontent-%COMP%]:before{content:"\uf1fd"}.fa-area-chart[_ngcontent-%COMP%]:before{content:"\uf1fe"}.fa-pie-chart[_ngcontent-%COMP%]:before{content:"\uf200"}.fa-line-chart[_ngcontent-%COMP%]:before{content:"\uf201"}.fa-lastfm[_ngcontent-%COMP%]:before{content:"\uf202"}.fa-lastfm-square[_ngcontent-%COMP%]:before{content:"\uf203"}.fa-toggle-off[_ngcontent-%COMP%]:before{content:"\uf204"}.fa-toggle-on[_ngcontent-%COMP%]:before{content:"\uf205"}.fa-bicycle[_ngcontent-%COMP%]:before{content:"\uf206"}.fa-bus[_ngcontent-%COMP%]:before{content:"\uf207"}.fa-ioxhost[_ngcontent-%COMP%]:before{content:"\uf208"}.fa-angellist[_ngcontent-%COMP%]:before{content:"\uf209"}.fa-cc[_ngcontent-%COMP%]:before{content:"\uf20a"}.fa-ils[_ngcontent-%COMP%]:before, .fa-shekel[_ngcontent-%COMP%]:before, .fa-sheqel[_ngcontent-%COMP%]:before{content:"\uf20b"}.fa-meanpath[_ngcontent-%COMP%]:before{content:"\uf20c"}.fa-buysellads[_ngcontent-%COMP%]:before{content:"\uf20d"}.fa-connectdevelop[_ngcontent-%COMP%]:before{content:"\uf20e"}.fa-dashcube[_ngcontent-%COMP%]:before{content:"\uf210"}.fa-forumbee[_ngcontent-%COMP%]:before{content:"\uf211"}.fa-leanpub[_ngcontent-%COMP%]:before{content:"\uf212"}.fa-sellsy[_ngcontent-%COMP%]:before{content:"\uf213"}.fa-shirtsinbulk[_ngcontent-%COMP%]:before{content:"\uf214"}.fa-simplybuilt[_ngcontent-%COMP%]:before{content:"\uf215"}.fa-skyatlas[_ngcontent-%COMP%]:before{content:"\uf216"}.fa-cart-plus[_ngcontent-%COMP%]:before{content:"\uf217"}.fa-cart-arrow-down[_ngcontent-%COMP%]:before{content:"\uf218"}.fa-diamond[_ngcontent-%COMP%]:before{content:"\uf219"}.fa-ship[_ngcontent-%COMP%]:before{content:"\uf21a"}.fa-user-secret[_ngcontent-%COMP%]:before{content:"\uf21b"}.fa-motorcycle[_ngcontent-%COMP%]:before{content:"\uf21c"}.fa-street-view[_ngcontent-%COMP%]:before{content:"\uf21d"}.fa-heartbeat[_ngcontent-%COMP%]:before{content:"\uf21e"}.fa-venus[_ngcontent-%COMP%]:before{content:"\uf221"}.fa-mars[_ngcontent-%COMP%]:before{content:"\uf222"}.fa-mercury[_ngcontent-%COMP%]:before{content:"\uf223"}.fa-intersex[_ngcontent-%COMP%]:before, .fa-transgender[_ngcontent-%COMP%]:before{content:"\uf224"}.fa-transgender-alt[_ngcontent-%COMP%]:before{content:"\uf225"}.fa-venus-double[_ngcontent-%COMP%]:before{content:"\uf226"}.fa-mars-double[_ngcontent-%COMP%]:before{content:"\uf227"}.fa-venus-mars[_ngcontent-%COMP%]:before{content:"\uf228"}.fa-mars-stroke[_ngcontent-%COMP%]:before{content:"\uf229"}.fa-mars-stroke-v[_ngcontent-%COMP%]:before{content:"\uf22a"}.fa-mars-stroke-h[_ngcontent-%COMP%]:before{content:"\uf22b"}.fa-neuter[_ngcontent-%COMP%]:before{content:"\uf22c"}.fa-genderless[_ngcontent-%COMP%]:before{content:"\uf22d"}.fa-facebook-official[_ngcontent-%COMP%]:before{content:"\uf230"}.fa-pinterest-p[_ngcontent-%COMP%]:before{content:"\uf231"}.fa-whatsapp[_ngcontent-%COMP%]:before{content:"\uf232"}.fa-server[_ngcontent-%COMP%]:before{content:"\uf233"}.fa-user-plus[_ngcontent-%COMP%]:before{content:"\uf234"}.fa-user-times[_ngcontent-%COMP%]:before{content:"\uf235"}.fa-bed[_ngcontent-%COMP%]:before, .fa-hotel[_ngcontent-%COMP%]:before{content:"\uf236"}.fa-viacoin[_ngcontent-%COMP%]:before{content:"\uf237"}.fa-train[_ngcontent-%COMP%]:before{content:"\uf238"}.fa-subway[_ngcontent-%COMP%]:before{content:"\uf239"}.fa-medium[_ngcontent-%COMP%]:before{content:"\uf23a"}.fa-y-combinator[_ngcontent-%COMP%]:before, .fa-yc[_ngcontent-%COMP%]:before{content:"\uf23b"}.fa-optin-monster[_ngcontent-%COMP%]:before{content:"\uf23c"}.fa-opencart[_ngcontent-%COMP%]:before{content:"\uf23d"}.fa-expeditedssl[_ngcontent-%COMP%]:before{content:"\uf23e"}.fa-battery-4[_ngcontent-%COMP%]:before, .fa-battery-full[_ngcontent-%COMP%]:before, .fa-battery[_ngcontent-%COMP%]:before{content:"\uf240"}.fa-battery-3[_ngcontent-%COMP%]:before, .fa-battery-three-quarters[_ngcontent-%COMP%]:before{content:"\uf241"}.fa-battery-2[_ngcontent-%COMP%]:before, .fa-battery-half[_ngcontent-%COMP%]:before{content:"\uf242"}.fa-battery-1[_ngcontent-%COMP%]:before, .fa-battery-quarter[_ngcontent-%COMP%]:before{content:"\uf243"}.fa-battery-0[_ngcontent-%COMP%]:before, .fa-battery-empty[_ngcontent-%COMP%]:before{content:"\uf244"}.fa-mouse-pointer[_ngcontent-%COMP%]:before{content:"\uf245"}.fa-i-cursor[_ngcontent-%COMP%]:before{content:"\uf246"}.fa-object-group[_ngcontent-%COMP%]:before{content:"\uf247"}.fa-object-ungroup[_ngcontent-%COMP%]:before{content:"\uf248"}.fa-sticky-note[_ngcontent-%COMP%]:before{content:"\uf249"}.fa-sticky-note-o[_ngcontent-%COMP%]:before{content:"\uf24a"}.fa-cc-jcb[_ngcontent-%COMP%]:before{content:"\uf24b"}.fa-cc-diners-club[_ngcontent-%COMP%]:before{content:"\uf24c"}.fa-clone[_ngcontent-%COMP%]:before{content:"\uf24d"}.fa-balance-scale[_ngcontent-%COMP%]:before{content:"\uf24e"}.fa-hourglass-o[_ngcontent-%COMP%]:before{content:"\uf250"}.fa-hourglass-1[_ngcontent-%COMP%]:before, .fa-hourglass-start[_ngcontent-%COMP%]:before{content:"\uf251"}.fa-hourglass-2[_ngcontent-%COMP%]:before, .fa-hourglass-half[_ngcontent-%COMP%]:before{content:"\uf252"}.fa-hourglass-3[_ngcontent-%COMP%]:before, .fa-hourglass-end[_ngcontent-%COMP%]:before{content:"\uf253"}.fa-hourglass[_ngcontent-%COMP%]:before{content:"\uf254"}.fa-hand-grab-o[_ngcontent-%COMP%]:before, .fa-hand-rock-o[_ngcontent-%COMP%]:before{content:"\uf255"}.fa-hand-paper-o[_ngcontent-%COMP%]:before, .fa-hand-stop-o[_ngcontent-%COMP%]:before{content:"\uf256"}.fa-hand-scissors-o[_ngcontent-%COMP%]:before{content:"\uf257"}.fa-hand-lizard-o[_ngcontent-%COMP%]:before{content:"\uf258"}.fa-hand-spock-o[_ngcontent-%COMP%]:before{content:"\uf259"}.fa-hand-pointer-o[_ngcontent-%COMP%]:before{content:"\uf25a"}.fa-hand-peace-o[_ngcontent-%COMP%]:before{content:"\uf25b"}.fa-trademark[_ngcontent-%COMP%]:before{content:"\uf25c"}.fa-registered[_ngcontent-%COMP%]:before{content:"\uf25d"}.fa-creative-commons[_ngcontent-%COMP%]:before{content:"\uf25e"}.fa-gg[_ngcontent-%COMP%]:before{content:"\uf260"}.fa-gg-circle[_ngcontent-%COMP%]:before{content:"\uf261"}.fa-tripadvisor[_ngcontent-%COMP%]:before{content:"\uf262"}.fa-odnoklassniki[_ngcontent-%COMP%]:before{content:"\uf263"}.fa-odnoklassniki-square[_ngcontent-%COMP%]:before{content:"\uf264"}.fa-get-pocket[_ngcontent-%COMP%]:before{content:"\uf265"}.fa-wikipedia-w[_ngcontent-%COMP%]:before{content:"\uf266"}.fa-safari[_ngcontent-%COMP%]:before{content:"\uf267"}.fa-chrome[_ngcontent-%COMP%]:before{content:"\uf268"}.fa-firefox[_ngcontent-%COMP%]:before{content:"\uf269"}.fa-opera[_ngcontent-%COMP%]:before{content:"\uf26a"}.fa-internet-explorer[_ngcontent-%COMP%]:before{content:"\uf26b"}.fa-television[_ngcontent-%COMP%]:before, .fa-tv[_ngcontent-%COMP%]:before{content:"\uf26c"}.fa-contao[_ngcontent-%COMP%]:before{content:"\uf26d"}.fa-500px[_ngcontent-%COMP%]:before{content:"\uf26e"}.fa-amazon[_ngcontent-%COMP%]:before{content:"\uf270"}.fa-calendar-plus-o[_ngcontent-%COMP%]:before{content:"\uf271"}.fa-calendar-minus-o[_ngcontent-%COMP%]:before{content:"\uf272"}.fa-calendar-times-o[_ngcontent-%COMP%]:before{content:"\uf273"}.fa-calendar-check-o[_ngcontent-%COMP%]:before{content:"\uf274"}.fa-industry[_ngcontent-%COMP%]:before{content:"\uf275"}.fa-map-pin[_ngcontent-%COMP%]:before{content:"\uf276"}.fa-map-signs[_ngcontent-%COMP%]:before{content:"\uf277"}.fa-map-o[_ngcontent-%COMP%]:before{content:"\uf278"}.fa-map[_ngcontent-%COMP%]:before{content:"\uf279"}.fa-commenting[_ngcontent-%COMP%]:before{content:"\uf27a"}.fa-commenting-o[_ngcontent-%COMP%]:before{content:"\uf27b"}.fa-houzz[_ngcontent-%COMP%]:before{content:"\uf27c"}.fa-vimeo[_ngcontent-%COMP%]:before{content:"\uf27d"}.fa-black-tie[_ngcontent-%COMP%]:before{content:"\uf27e"}.fa-fonticons[_ngcontent-%COMP%]:before{content:"\uf280"}.fa-reddit-alien[_ngcontent-%COMP%]:before{content:"\uf281"}.fa-edge[_ngcontent-%COMP%]:before{content:"\uf282"}.fa-credit-card-alt[_ngcontent-%COMP%]:before{content:"\uf283"}.fa-codiepie[_ngcontent-%COMP%]:before{content:"\uf284"}.fa-modx[_ngcontent-%COMP%]:before{content:"\uf285"}.fa-fort-awesome[_ngcontent-%COMP%]:before{content:"\uf286"}.fa-usb[_ngcontent-%COMP%]:before{content:"\uf287"}.fa-product-hunt[_ngcontent-%COMP%]:before{content:"\uf288"}.fa-mixcloud[_ngcontent-%COMP%]:before{content:"\uf289"}.fa-scribd[_ngcontent-%COMP%]:before{content:"\uf28a"}.fa-pause-circle[_ngcontent-%COMP%]:before{content:"\uf28b"}.fa-pause-circle-o[_ngcontent-%COMP%]:before{content:"\uf28c"}.fa-stop-circle[_ngcontent-%COMP%]:before{content:"\uf28d"}.fa-stop-circle-o[_ngcontent-%COMP%]:before{content:"\uf28e"}.fa-shopping-bag[_ngcontent-%COMP%]:before{content:"\uf290"}.fa-shopping-basket[_ngcontent-%COMP%]:before{content:"\uf291"}.fa-hashtag[_ngcontent-%COMP%]:before{content:"\uf292"}.fa-bluetooth[_ngcontent-%COMP%]:before{content:"\uf293"}.fa-bluetooth-b[_ngcontent-%COMP%]:before{content:"\uf294"}.fa-percent[_ngcontent-%COMP%]:before{content:"\uf295"}.fa-gitlab[_ngcontent-%COMP%]:before{content:"\uf296"}.fa-wpbeginner[_ngcontent-%COMP%]:before{content:"\uf297"}.fa-wpforms[_ngcontent-%COMP%]:before{content:"\uf298"}.fa-envira[_ngcontent-%COMP%]:before{content:"\uf299"}.fa-universal-access[_ngcontent-%COMP%]:before{content:"\uf29a"}.fa-wheelchair-alt[_ngcontent-%COMP%]:before{content:"\uf29b"}.fa-question-circle-o[_ngcontent-%COMP%]:before{content:"\uf29c"}.fa-blind[_ngcontent-%COMP%]:before{content:"\uf29d"}.fa-audio-description[_ngcontent-%COMP%]:before{content:"\uf29e"}.fa-volume-control-phone[_ngcontent-%COMP%]:before{content:"\uf2a0"}.fa-braille[_ngcontent-%COMP%]:before{content:"\uf2a1"}.fa-assistive-listening-systems[_ngcontent-%COMP%]:before{content:"\uf2a2"}.fa-american-sign-language-interpreting[_ngcontent-%COMP%]:before, .fa-asl-interpreting[_ngcontent-%COMP%]:before{content:"\uf2a3"}.fa-deaf[_ngcontent-%COMP%]:before, .fa-deafness[_ngcontent-%COMP%]:before, .fa-hard-of-hearing[_ngcontent-%COMP%]:before{content:"\uf2a4"}.fa-glide[_ngcontent-%COMP%]:before{content:"\uf2a5"}.fa-glide-g[_ngcontent-%COMP%]:before{content:"\uf2a6"}.fa-sign-language[_ngcontent-%COMP%]:before, .fa-signing[_ngcontent-%COMP%]:before{content:"\uf2a7"}.fa-low-vision[_ngcontent-%COMP%]:before{content:"\uf2a8"}.fa-viadeo[_ngcontent-%COMP%]:before{content:"\uf2a9"}.fa-viadeo-square[_ngcontent-%COMP%]:before{content:"\uf2aa"}.fa-snapchat[_ngcontent-%COMP%]:before{content:"\uf2ab"}.fa-snapchat-ghost[_ngcontent-%COMP%]:before{content:"\uf2ac"}.fa-snapchat-square[_ngcontent-%COMP%]:before{content:"\uf2ad"}.fa-pied-piper[_ngcontent-%COMP%]:before{content:"\uf2ae"}.fa-first-order[_ngcontent-%COMP%]:before{content:"\uf2b0"}.fa-yoast[_ngcontent-%COMP%]:before{content:"\uf2b1"}.fa-themeisle[_ngcontent-%COMP%]:before{content:"\uf2b2"}.fa-google-plus-circle[_ngcontent-%COMP%]:before, .fa-google-plus-official[_ngcontent-%COMP%]:before{content:"\uf2b3"}.fa-fa[_ngcontent-%COMP%]:before, .fa-font-awesome[_ngcontent-%COMP%]:before{content:"\uf2b4"}.fa-handshake-o[_ngcontent-%COMP%]:before{content:"\uf2b5"}.fa-envelope-open[_ngcontent-%COMP%]:before{content:"\uf2b6"}.fa-envelope-open-o[_ngcontent-%COMP%]:before{content:"\uf2b7"}.fa-linode[_ngcontent-%COMP%]:before{content:"\uf2b8"}.fa-address-book[_ngcontent-%COMP%]:before{content:"\uf2b9"}.fa-address-book-o[_ngcontent-%COMP%]:before{content:"\uf2ba"}.fa-address-card[_ngcontent-%COMP%]:before, .fa-vcard[_ngcontent-%COMP%]:before{content:"\uf2bb"}.fa-address-card-o[_ngcontent-%COMP%]:before, .fa-vcard-o[_ngcontent-%COMP%]:before{content:"\uf2bc"}.fa-user-circle[_ngcontent-%COMP%]:before{content:"\uf2bd"}.fa-user-circle-o[_ngcontent-%COMP%]:before{content:"\uf2be"}.fa-user-o[_ngcontent-%COMP%]:before{content:"\uf2c0"}.fa-id-badge[_ngcontent-%COMP%]:before{content:"\uf2c1"}.fa-drivers-license[_ngcontent-%COMP%]:before, .fa-id-card[_ngcontent-%COMP%]:before{content:"\uf2c2"}.fa-drivers-license-o[_ngcontent-%COMP%]:before, .fa-id-card-o[_ngcontent-%COMP%]:before{content:"\uf2c3"}.fa-quora[_ngcontent-%COMP%]:before{content:"\uf2c4"}.fa-free-code-camp[_ngcontent-%COMP%]:before{content:"\uf2c5"}.fa-telegram[_ngcontent-%COMP%]:before{content:"\uf2c6"}.fa-thermometer-4[_ngcontent-%COMP%]:before, .fa-thermometer-full[_ngcontent-%COMP%]:before, .fa-thermometer[_ngcontent-%COMP%]:before{content:"\uf2c7"}.fa-thermometer-3[_ngcontent-%COMP%]:before, .fa-thermometer-three-quarters[_ngcontent-%COMP%]:before{content:"\uf2c8"}.fa-thermometer-2[_ngcontent-%COMP%]:before, .fa-thermometer-half[_ngcontent-%COMP%]:before{content:"\uf2c9"}.fa-thermometer-1[_ngcontent-%COMP%]:before, .fa-thermometer-quarter[_ngcontent-%COMP%]:before{content:"\uf2ca"}.fa-thermometer-0[_ngcontent-%COMP%]:before, .fa-thermometer-empty[_ngcontent-%COMP%]:before{content:"\uf2cb"}.fa-shower[_ngcontent-%COMP%]:before{content:"\uf2cc"}.fa-bath[_ngcontent-%COMP%]:before, .fa-bathtub[_ngcontent-%COMP%]:before, .fa-s15[_ngcontent-%COMP%]:before{content:"\uf2cd"}.fa-podcast[_ngcontent-%COMP%]:before{content:"\uf2ce"}.fa-window-maximize[_ngcontent-%COMP%]:before{content:"\uf2d0"}.fa-window-minimize[_ngcontent-%COMP%]:before{content:"\uf2d1"}.fa-window-restore[_ngcontent-%COMP%]:before{content:"\uf2d2"}.fa-times-rectangle[_ngcontent-%COMP%]:before, .fa-window-close[_ngcontent-%COMP%]:before{content:"\uf2d3"}.fa-times-rectangle-o[_ngcontent-%COMP%]:before, .fa-window-close-o[_ngcontent-%COMP%]:before{content:"\uf2d4"}.fa-bandcamp[_ngcontent-%COMP%]:before{content:"\uf2d5"}.fa-grav[_ngcontent-%COMP%]:before{content:"\uf2d6"}.fa-etsy[_ngcontent-%COMP%]:before{content:"\uf2d7"}.fa-imdb[_ngcontent-%COMP%]:before{content:"\uf2d8"}.fa-ravelry[_ngcontent-%COMP%]:before{content:"\uf2d9"}.fa-eercast[_ngcontent-%COMP%]:before{content:"\uf2da"}.fa-microchip[_ngcontent-%COMP%]:before{content:"\uf2db"}.fa-snowflake-o[_ngcontent-%COMP%]:before{content:"\uf2dc"}.fa-superpowers[_ngcontent-%COMP%]:before{content:"\uf2dd"}.fa-wpexplorer[_ngcontent-%COMP%]:before{content:"\uf2de"}.fa-meetup[_ngcontent-%COMP%]:before{content:"\uf2e0"}.sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.sr-only-focusable[_ngcontent-%COMP%]:active, .sr-only-focusable[_ngcontent-%COMP%]:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}a[_ngcontent-%COMP%]{cursor:pointer}.angular-editor-textarea[_ngcontent-%COMP%]{min-height:150px;overflow:auto;margin-top:5px;resize:vertical}.angular-editor-textarea[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;right:0;display:block;width:8px;height:8px;cursor:nwse-resize;background-color:rgba(255,255,255,.5)}.angular-editor-toolbar[_ngcontent-%COMP%]{font:100 .8rem/15px Roboto,Arial,sans-serif;background-color:#f5f5f5;padding:.2rem;border:1px solid #ddd}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]{display:none;margin-right:5px;vertical-align:baseline}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]{background-color:#fff;vertical-align:middle;border:1px solid #ddd;padding:.4rem;min-width:2rem;float:left}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;-webkit-transition:.2s;transition:.2s}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.focus[_ngcontent-%COMP%], .angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:focus{outline:0}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label[_ngcontent-%COMP%]{pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label.background[_ngcontent-%COMP%], .angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label.foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background:#555}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.active[_ngcontent-%COMP%]{background:#fff5b9}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.active[_ngcontent-%COMP%]:hover{background-color:#fffa98}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:11px;width:90px;vertical-align:middle;background-color:transparent;border:.5px solid rgba(255,255,255,0);border-radius:5px;outline:0;padding:.4rem;cursor:pointer}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]{display:inline-block;width:90px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;-webkit-transition:.2s;transition:.2s}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]{display:inline-block;width:90px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;-webkit-transition:.2s;transition:.2s}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]{display:inline-block;width:50px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;-webkit-transition:.2s;transition:.2s}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance:none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .default[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{font-size:24px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:20px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h3[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h4[_ngcontent-%COMP%]{font-size:15px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h5[_ngcontent-%COMP%]{font-size:14px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h6[_ngcontent-%COMP%]{font-size:13px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .div[_ngcontent-%COMP%], .angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .pre[_ngcontent-%COMP%]{font-size:12px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size1[_ngcontent-%COMP%]{font-size:10px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size2[_ngcontent-%COMP%]{font-size:12px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size3[_ngcontent-%COMP%]{font-size:14px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size4[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size5[_ngcontent-%COMP%]{font-size:18px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size6[_ngcontent-%COMP%]{font-size:20px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size7[_ngcontent-%COMP%]{font-size:22px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;-webkit-transition:.2s;transition:.2s}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .color-label[_ngcontent-%COMP%]{position:relative;cursor:pointer}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{font-size:smaller;background:#1b1b1b;color:#fff;padding:3px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{position:absolute;content:"";left:-1px;top:auto;bottom:-3px;right:auto;width:15px;height:2px;z-index:0;background:#1b1b1b}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]:not([style*="display:none"]):not([style*="display: none"]), .select-button[_ngcontent-%COMP%]{display:inline-block}.select-button.disabled[_ngcontent-%COMP%]{cursor:pointer;background-color:#f1f1f1;-webkit-transition:.2s;transition:.2s}']}),uc);function bc(e){return null!=e}var gc,mc,vc,yc=((vc=function(){function e(t,n,o,r,a,s,c){_classCallCheck(this,e),this.r=t,this.editorService=n,this.doc=o,this.sanitizer=r,this.cdRef=a,this.autoFocus=c,this.modeVisual=!0,this.showPlaceholder=!1,this.disabled=!1,this.focused=!1,this.touched=!1,this.changed=!1,this.id="",this.config=hc,this.placeholder="",this.viewMode=new i.n,this.blurEvent=new i.n,this.focusEvent=new i.n,this.tabindex=-1;var l=Number(s);this.tabIndex=l||0===l?l:null}return _createClass(e,[{key:"onFocus",value:function(){this.focus()}},{key:"ngOnInit",value:function(){this.config.toolbarPosition=this.config.toolbarPosition?this.config.toolbarPosition:hc.toolbarPosition}},{key:"ngAfterViewInit",value:function(){bc(this.autoFocus)&&this.focus()}},{key:"executeCommand",value:function(e){this.focus(),"focus"!==e&&("toggleEditorMode"===e?this.toggleEditorMode(this.modeVisual):""!==e&&("clear"===e?(this.editorService.removeSelectedElements(this.getCustomTags()),this.onContentChange(this.textArea.nativeElement)):"default"===e?(this.editorService.removeSelectedElements("h1,h2,h3,h4,h5,h6,p,pre"),this.onContentChange(this.textArea.nativeElement)):this.editorService.executeCommand(e),this.exec()))}},{key:"onTextAreaFocus",value:function(e){var t=this;this.focused?e.stopPropagation():(this.focused=!0,this.focusEvent.emit(e),this.touched&&this.changed||this.editorService.executeInNextQueueIteration(function(){t.configure(),t.touched=!0}))}},{key:"onTextAreaMouseOut",value:function(e){this.editorService.saveSelection()}},{key:"onTextAreaBlur",value:function(e){if(this.editorService.executeInNextQueueIteration(this.editorService.saveSelection),"function"==typeof this.onTouched&&this.onTouched(),null!==e.relatedTarget){var t=e.relatedTarget.parentElement;t.classList.contains("angular-editor-toolbar-set")||t.classList.contains("ae-picker")||(this.blurEvent.emit(e),this.focused=!1)}}},{key:"focus",value:function(){this.modeVisual?this.textArea.nativeElement.focus():(this.doc.getElementById("sourceText"+this.id).focus(),this.focused=!0)}},{key:"onContentChange",value:function(e){var t="";(t=this.modeVisual?e.innerHTML:e.innerText)&&"<br>"!==t||(t=""),"function"==typeof this.onChange&&(this.onChange(this.config.sanitize||void 0===this.config.sanitize?this.sanitizer.sanitize(i.I.HTML,t):t),!t!==this.showPlaceholder&&this.togglePlaceholder(this.showPlaceholder)),this.changed=!0}},{key:"registerOnChange",value:function(e){this.onChange=function(t){return e("<br>"===t?"":t)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"writeValue",value:function(e){(!e||"<br>"===e||""===e)!==this.showPlaceholder&&this.togglePlaceholder(this.showPlaceholder),void 0!==e&&""!==e&&"<br>"!==e||(e=null),this.refreshView(e)}},{key:"refreshView",value:function(e){this.r.setProperty(this.textArea.nativeElement,"innerHTML",null===e?"":e)}},{key:"togglePlaceholder",value:function(e){e?(this.r.removeClass(this.editorWrapper.nativeElement,"show-placeholder"),this.showPlaceholder=!1):(this.r.addClass(this.editorWrapper.nativeElement,"show-placeholder"),this.showPlaceholder=!0)}},{key:"setDisabledState",value:function(e){this.r[e?"addClass":"removeClass"](this.textArea.nativeElement,"disabled"),this.disabled=e}},{key:"toggleEditorMode",value:function(e){var t,n=this,i=this.textArea.nativeElement;if(e){t=this.r.createText(i.innerHTML),this.r.setProperty(i,"innerHTML",""),this.r.setProperty(i,"contentEditable",!1);var o=this.r.createElement("pre");this.r.setStyle(o,"margin","0"),this.r.setStyle(o,"outline","none");var r=this.r.createElement("code");this.r.setProperty(r,"id","sourceText"+this.id),this.r.setStyle(r,"display","block"),this.r.setStyle(r,"white-space","pre-wrap"),this.r.setStyle(r,"word-break","keep-all"),this.r.setStyle(r,"outline","none"),this.r.setStyle(r,"margin","0"),this.r.setStyle(r,"background-color","#fff5b9"),this.r.setProperty(r,"contentEditable",!0),this.r.appendChild(r,t),this.focusInstance=this.r.listen(r,"focus",function(e){return n.onTextAreaFocus(e)}),this.blurInstance=this.r.listen(r,"blur",function(e){return n.onTextAreaBlur(e)}),this.r.appendChild(o,r),this.r.appendChild(i,o),this.doc.execCommand("defaultParagraphSeparator",!1,"div"),this.modeVisual=!1,this.viewMode.emit(!1),r.focus()}else this.doc.querySelectorAll?this.r.setProperty(i,"innerHTML",i.innerText):((t=this.doc.createRange()).selectNodeContents(i.firstChild),this.r.setProperty(i,"innerHTML",t.toString())),this.r.setProperty(i,"contentEditable",!0),this.modeVisual=!0,this.viewMode.emit(!0),this.onContentChange(i),i.focus();this.editorToolbar.setEditorMode(!this.modeVisual)}},{key:"exec",value:function(){var e;this.editorToolbar.triggerButtons(),this.doc.getSelection&&(e=this.doc.getSelection(),this.editorService.executeInNextQueueIteration(this.editorService.saveSelection));for(var t=e.focusNode,n=[];t&&"editor"!==t.id;)n.unshift(t),t=t.parentNode;this.editorToolbar.triggerBlocks(n)}},{key:"configure",value:function(){this.editorService.uploadUrl=this.config.uploadUrl,this.editorService.uploadWithCredentials=this.config.uploadWithCredentials,this.config.defaultParagraphSeparator&&this.editorService.setDefaultParagraphSeparator(this.config.defaultParagraphSeparator),this.config.defaultFontName&&this.editorService.setFontName(this.config.defaultFontName),this.config.defaultFontSize&&this.editorService.setFontSize(this.config.defaultFontSize)}},{key:"getFonts",value:function(){return(this.config.fonts?this.config.fonts:hc.fonts).map(function(e){return{label:e.name,value:e.name}})}},{key:"getCustomTags",value:function(){var e=["span"];return this.config.customClasses.forEach(function(t){void 0!==t.tag&&(e.includes(t.tag)||e.push(t.tag))}),e.join(",")}},{key:"ngOnDestroy",value:function(){this.blurInstance&&this.blurInstance(),this.focusInstance&&this.focusInstance()}},{key:"filterStyles",value:function(e){return e.replace("position: fixed;","")}}]),e}()).\u0275fac=function(e){return new(e||vc)(i.Lb(i.E),i.Lb(dc),i.Lb(a.c),i.Lb(r.b),i.Lb(i.h),i.Zb("tabindex"),i.Zb("autofocus"))},vc.\u0275cmp=i.Fb({type:vc,selectors:[["angular-editor"]],viewQuery:function(e,t){var n;1&e&&(i.Fc(ec,!0),i.Fc(tc,!0),i.Pc(nc,!0)),2&e&&(i.uc(n=i.cc())&&(t.textArea=n.first),i.uc(n=i.cc())&&(t.editorWrapper=n.first),i.uc(n=i.cc())&&(t.editorToolbar=n.first))},hostVars:1,hostBindings:function(e,t){1&e&&i.bc("focus",function(){return t.onFocus()}),2&e&&i.zb("tabindex",t.tabindex)},inputs:{id:"id",config:"config",placeholder:"placeholder",tabIndex:"tabIndex"},outputs:{viewMode:"viewMode",blurEvent:"blur",focusEvent:"focus",html:"html"},features:[i.xb([{provide:vs.m,useExisting:Object(i.T)(function(){return vc}),multi:!0},dc])],decls:10,vars:19,consts:[[1,"angular-editor"],["angularEditor",""],[3,"id","uploadUrl","showToolbar","fonts","customClasses","defaultFontName","defaultFontSize","hiddenButtons","execute",4,"ngIf"],[1,"angular-editor-wrapper"],["editorWrapper",""],[1,"angular-editor-textarea",3,"input","focus","blur","click","keyup","mouseout"],["editor",""],[1,"angular-editor-placeholder"],[3,"id","uploadUrl","showToolbar","fonts","customClasses","defaultFontName","defaultFontSize","hiddenButtons","execute"],["editorToolbar",""]],template:function(e,t){1&e&&(i.Rb(0,"div",0,1),i.Ic(2,ic,2,8,"angular-editor-toolbar",2),i.Rb(3,"div",3,4),i.Rb(5,"div",5,6),i.bc("input",function(e){return t.onContentChange(e.target)})("focus",function(e){return t.onTextAreaFocus(e)})("blur",function(e){return t.onTextAreaBlur(e)})("click",function(){return t.exec()})("keyup",function(){return t.exec()})("mouseout",function(e){return t.onTextAreaMouseOut(e)}),i.Qb(),i.Rb(7,"span",7),i.Kc(8),i.Qb(),i.Qb(),i.Ic(9,oc,2,8,"angular-editor-toolbar",2),i.Qb()),2&e&&(i.Gc("width",t.config.width)("min-width",t.config.minWidth),i.yb(2),i.mc("ngIf","top"===t.config.toolbarPosition),i.yb(3),i.Gc("height",t.config.height)("min-height",t.config.minHeight)("max-height",t.config.maxHeight)("outline",!1===t.config.outline?"none":void 0),i.zb("contenteditable",t.config.editable)("tabindex",t.disabled?-1:t.tabIndex)("translate",t.config.translate)("spellcheck",t.config.spellcheck),i.yb(3),i.Lc(t.placeholder||t.config.placeholder),i.yb(1),i.mc("ngIf","bottom"===t.config.toolbarPosition))},directives:[a.n,pc],styles:['@charset "UTF-8";@font-face{font-family:FontAwesome;src:url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.eot?v=4.7.0);src:url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.eot?#iefix&v=4.7.0) format("embedded-opentype"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.woff2?v=4.7.0) format("woff2"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.woff?v=4.7.0) format("woff"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.ttf?v=4.7.0) format("truetype"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.svg?v=4.7.0#fontawesomeregular) format("svg");font-weight:400;font-style:normal}.fa[_ngcontent-%COMP%]{display:inline-block;font:14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg[_ngcontent-%COMP%]{font-size:1.3333333333em;line-height:.75em;vertical-align:-15%}.fa-2x[_ngcontent-%COMP%]{font-size:2em}.fa-3x[_ngcontent-%COMP%]{font-size:3em}.fa-4x[_ngcontent-%COMP%]{font-size:4em}.fa-5x[_ngcontent-%COMP%]{font-size:5em}.fa-fw[_ngcontent-%COMP%]{width:1.2857142857em;text-align:center}.fa-ul[_ngcontent-%COMP%]{padding-left:0;margin-left:2.1428571429em;list-style-type:none}.fa-ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}.fa-li[_ngcontent-%COMP%]{position:absolute;left:-2.1428571429em;width:2.1428571429em;top:.1428571429em;text-align:center}.fa-li.fa-lg[_ngcontent-%COMP%]{left:-1.8571428571em}.fa-border[_ngcontent-%COMP%]{padding:.2em .25em .15em;border:.08em solid #eee;border-radius:.1em}.fa-pull-left[_ngcontent-%COMP%]{float:left}.fa-pull-right[_ngcontent-%COMP%]{float:right}.fa.fa-pull-left[_ngcontent-%COMP%]{margin-right:.3em}.fa.fa-pull-right[_ngcontent-%COMP%]{margin-left:.3em}.pull-right[_ngcontent-%COMP%]{float:right}.pull-left[_ngcontent-%COMP%]{float:left}.fa.pull-left[_ngcontent-%COMP%]{margin-right:.3em}.fa.pull-right[_ngcontent-%COMP%]{margin-left:.3em}.fa-spin[_ngcontent-%COMP%]{-webkit-animation:2s linear infinite fa-spin;animation:2s linear infinite fa-spin}.fa-pulse[_ngcontent-%COMP%]{-webkit-animation:1s steps(8) infinite fa-spin;animation:1s steps(8) infinite fa-spin}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.fa-rotate-90[_ngcontent-%COMP%]{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180[_ngcontent-%COMP%]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270[_ngcontent-%COMP%]{-webkit-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal[_ngcontent-%COMP%]{-webkit-transform:scale(-1,1);transform:scale(-1,1)}.fa-flip-vertical[_ngcontent-%COMP%]{-webkit-transform:scale(1,-1);transform:scale(1,-1)}[_ngcontent-%COMP%]:root   .fa-flip-horizontal[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-flip-vertical[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-rotate-180[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-rotate-270[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-rotate-90[_ngcontent-%COMP%]{-webkit-filter:none;filter:none}.fa-stack[_ngcontent-%COMP%]{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x[_ngcontent-%COMP%], .fa-stack-2x[_ngcontent-%COMP%]{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x[_ngcontent-%COMP%]{line-height:inherit}.fa-stack-2x[_ngcontent-%COMP%]{font-size:2em}.fa-inverse[_ngcontent-%COMP%]{color:#fff}.fa-glass[_ngcontent-%COMP%]:before{content:"\uf000"}.fa-music[_ngcontent-%COMP%]:before{content:"\uf001"}.fa-search[_ngcontent-%COMP%]:before{content:"\uf002"}.fa-envelope-o[_ngcontent-%COMP%]:before{content:"\uf003"}.fa-heart[_ngcontent-%COMP%]:before{content:"\uf004"}.fa-star[_ngcontent-%COMP%]:before{content:"\uf005"}.fa-star-o[_ngcontent-%COMP%]:before{content:"\uf006"}.fa-user[_ngcontent-%COMP%]:before{content:"\uf007"}.fa-film[_ngcontent-%COMP%]:before{content:"\uf008"}.fa-th-large[_ngcontent-%COMP%]:before{content:"\uf009"}.fa-th[_ngcontent-%COMP%]:before{content:"\uf00a"}.fa-th-list[_ngcontent-%COMP%]:before{content:"\uf00b"}.fa-check[_ngcontent-%COMP%]:before{content:"\uf00c"}.fa-close[_ngcontent-%COMP%]:before, .fa-remove[_ngcontent-%COMP%]:before, .fa-times[_ngcontent-%COMP%]:before{content:"\uf00d"}.fa-search-plus[_ngcontent-%COMP%]:before{content:"\uf00e"}.fa-search-minus[_ngcontent-%COMP%]:before{content:"\uf010"}.fa-power-off[_ngcontent-%COMP%]:before{content:"\uf011"}.fa-signal[_ngcontent-%COMP%]:before{content:"\uf012"}.fa-cog[_ngcontent-%COMP%]:before, .fa-gear[_ngcontent-%COMP%]:before{content:"\uf013"}.fa-trash-o[_ngcontent-%COMP%]:before{content:"\uf014"}.fa-home[_ngcontent-%COMP%]:before{content:"\uf015"}.fa-file-o[_ngcontent-%COMP%]:before{content:"\uf016"}.fa-clock-o[_ngcontent-%COMP%]:before{content:"\uf017"}.fa-road[_ngcontent-%COMP%]:before{content:"\uf018"}.fa-download[_ngcontent-%COMP%]:before{content:"\uf019"}.fa-arrow-circle-o-down[_ngcontent-%COMP%]:before{content:"\uf01a"}.fa-arrow-circle-o-up[_ngcontent-%COMP%]:before{content:"\uf01b"}.fa-inbox[_ngcontent-%COMP%]:before{content:"\uf01c"}.fa-play-circle-o[_ngcontent-%COMP%]:before{content:"\uf01d"}.fa-repeat[_ngcontent-%COMP%]:before, .fa-rotate-right[_ngcontent-%COMP%]:before{content:"\uf01e"}.fa-refresh[_ngcontent-%COMP%]:before{content:"\uf021"}.fa-list-alt[_ngcontent-%COMP%]:before{content:"\uf022"}.fa-lock[_ngcontent-%COMP%]:before{content:"\uf023"}.fa-flag[_ngcontent-%COMP%]:before{content:"\uf024"}.fa-headphones[_ngcontent-%COMP%]:before{content:"\uf025"}.fa-volume-off[_ngcontent-%COMP%]:before{content:"\uf026"}.fa-volume-down[_ngcontent-%COMP%]:before{content:"\uf027"}.fa-volume-up[_ngcontent-%COMP%]:before{content:"\uf028"}.fa-qrcode[_ngcontent-%COMP%]:before{content:"\uf029"}.fa-barcode[_ngcontent-%COMP%]:before{content:"\uf02a"}.fa-tag[_ngcontent-%COMP%]:before{content:"\uf02b"}.fa-tags[_ngcontent-%COMP%]:before{content:"\uf02c"}.fa-book[_ngcontent-%COMP%]:before{content:"\uf02d"}.fa-bookmark[_ngcontent-%COMP%]:before{content:"\uf02e"}.fa-print[_ngcontent-%COMP%]:before{content:"\uf02f"}.fa-camera[_ngcontent-%COMP%]:before{content:"\uf030"}.fa-font[_ngcontent-%COMP%]:before{content:"\uf031"}.fa-bold[_ngcontent-%COMP%]:before{content:"\uf032"}.fa-italic[_ngcontent-%COMP%]:before{content:"\uf033"}.fa-text-height[_ngcontent-%COMP%]:before{content:"\uf034"}.fa-text-width[_ngcontent-%COMP%]:before{content:"\uf035"}.fa-align-left[_ngcontent-%COMP%]:before{content:"\uf036"}.fa-align-center[_ngcontent-%COMP%]:before{content:"\uf037"}.fa-align-right[_ngcontent-%COMP%]:before{content:"\uf038"}.fa-align-justify[_ngcontent-%COMP%]:before{content:"\uf039"}.fa-list[_ngcontent-%COMP%]:before{content:"\uf03a"}.fa-dedent[_ngcontent-%COMP%]:before, .fa-outdent[_ngcontent-%COMP%]:before{content:"\uf03b"}.fa-indent[_ngcontent-%COMP%]:before{content:"\uf03c"}.fa-video-camera[_ngcontent-%COMP%]:before{content:"\uf03d"}.fa-image[_ngcontent-%COMP%]:before, .fa-photo[_ngcontent-%COMP%]:before, .fa-picture-o[_ngcontent-%COMP%]:before{content:"\uf03e"}.fa-pencil[_ngcontent-%COMP%]:before{content:"\uf040"}.fa-map-marker[_ngcontent-%COMP%]:before{content:"\uf041"}.fa-adjust[_ngcontent-%COMP%]:before{content:"\uf042"}.fa-tint[_ngcontent-%COMP%]:before{content:"\uf043"}.fa-edit[_ngcontent-%COMP%]:before, .fa-pencil-square-o[_ngcontent-%COMP%]:before{content:"\uf044"}.fa-share-square-o[_ngcontent-%COMP%]:before{content:"\uf045"}.fa-check-square-o[_ngcontent-%COMP%]:before{content:"\uf046"}.fa-arrows[_ngcontent-%COMP%]:before{content:"\uf047"}.fa-step-backward[_ngcontent-%COMP%]:before{content:"\uf048"}.fa-fast-backward[_ngcontent-%COMP%]:before{content:"\uf049"}.fa-backward[_ngcontent-%COMP%]:before{content:"\uf04a"}.fa-play[_ngcontent-%COMP%]:before{content:"\uf04b"}.fa-pause[_ngcontent-%COMP%]:before{content:"\uf04c"}.fa-stop[_ngcontent-%COMP%]:before{content:"\uf04d"}.fa-forward[_ngcontent-%COMP%]:before{content:"\uf04e"}.fa-fast-forward[_ngcontent-%COMP%]:before{content:"\uf050"}.fa-step-forward[_ngcontent-%COMP%]:before{content:"\uf051"}.fa-eject[_ngcontent-%COMP%]:before{content:"\uf052"}.fa-chevron-left[_ngcontent-%COMP%]:before{content:"\uf053"}.fa-chevron-right[_ngcontent-%COMP%]:before{content:"\uf054"}.fa-plus-circle[_ngcontent-%COMP%]:before{content:"\uf055"}.fa-minus-circle[_ngcontent-%COMP%]:before{content:"\uf056"}.fa-times-circle[_ngcontent-%COMP%]:before{content:"\uf057"}.fa-check-circle[_ngcontent-%COMP%]:before{content:"\uf058"}.fa-question-circle[_ngcontent-%COMP%]:before{content:"\uf059"}.fa-info-circle[_ngcontent-%COMP%]:before{content:"\uf05a"}.fa-crosshairs[_ngcontent-%COMP%]:before{content:"\uf05b"}.fa-times-circle-o[_ngcontent-%COMP%]:before{content:"\uf05c"}.fa-check-circle-o[_ngcontent-%COMP%]:before{content:"\uf05d"}.fa-ban[_ngcontent-%COMP%]:before{content:"\uf05e"}.fa-arrow-left[_ngcontent-%COMP%]:before{content:"\uf060"}.fa-arrow-right[_ngcontent-%COMP%]:before{content:"\uf061"}.fa-arrow-up[_ngcontent-%COMP%]:before{content:"\uf062"}.fa-arrow-down[_ngcontent-%COMP%]:before{content:"\uf063"}.fa-mail-forward[_ngcontent-%COMP%]:before, .fa-share[_ngcontent-%COMP%]:before{content:"\uf064"}.fa-expand[_ngcontent-%COMP%]:before{content:"\uf065"}.fa-compress[_ngcontent-%COMP%]:before{content:"\uf066"}.fa-plus[_ngcontent-%COMP%]:before{content:"\uf067"}.fa-minus[_ngcontent-%COMP%]:before{content:"\uf068"}.fa-asterisk[_ngcontent-%COMP%]:before{content:"\uf069"}.fa-exclamation-circle[_ngcontent-%COMP%]:before{content:"\uf06a"}.fa-gift[_ngcontent-%COMP%]:before{content:"\uf06b"}.fa-leaf[_ngcontent-%COMP%]:before{content:"\uf06c"}.fa-fire[_ngcontent-%COMP%]:before{content:"\uf06d"}.fa-eye[_ngcontent-%COMP%]:before{content:"\uf06e"}.fa-eye-slash[_ngcontent-%COMP%]:before{content:"\uf070"}.fa-exclamation-triangle[_ngcontent-%COMP%]:before, .fa-warning[_ngcontent-%COMP%]:before{content:"\uf071"}.fa-plane[_ngcontent-%COMP%]:before{content:"\uf072"}.fa-calendar[_ngcontent-%COMP%]:before{content:"\uf073"}.fa-random[_ngcontent-%COMP%]:before{content:"\uf074"}.fa-comment[_ngcontent-%COMP%]:before{content:"\uf075"}.fa-magnet[_ngcontent-%COMP%]:before{content:"\uf076"}.fa-chevron-up[_ngcontent-%COMP%]:before{content:"\uf077"}.fa-chevron-down[_ngcontent-%COMP%]:before{content:"\uf078"}.fa-retweet[_ngcontent-%COMP%]:before{content:"\uf079"}.fa-shopping-cart[_ngcontent-%COMP%]:before{content:"\uf07a"}.fa-folder[_ngcontent-%COMP%]:before{content:"\uf07b"}.fa-folder-open[_ngcontent-%COMP%]:before{content:"\uf07c"}.fa-arrows-v[_ngcontent-%COMP%]:before{content:"\uf07d"}.fa-arrows-h[_ngcontent-%COMP%]:before{content:"\uf07e"}.fa-bar-chart-o[_ngcontent-%COMP%]:before, .fa-bar-chart[_ngcontent-%COMP%]:before{content:"\uf080"}.fa-twitter-square[_ngcontent-%COMP%]:before{content:"\uf081"}.fa-facebook-square[_ngcontent-%COMP%]:before{content:"\uf082"}.fa-camera-retro[_ngcontent-%COMP%]:before{content:"\uf083"}.fa-key[_ngcontent-%COMP%]:before{content:"\uf084"}.fa-cogs[_ngcontent-%COMP%]:before, .fa-gears[_ngcontent-%COMP%]:before{content:"\uf085"}.fa-comments[_ngcontent-%COMP%]:before{content:"\uf086"}.fa-thumbs-o-up[_ngcontent-%COMP%]:before{content:"\uf087"}.fa-thumbs-o-down[_ngcontent-%COMP%]:before{content:"\uf088"}.fa-star-half[_ngcontent-%COMP%]:before{content:"\uf089"}.fa-heart-o[_ngcontent-%COMP%]:before{content:"\uf08a"}.fa-sign-out[_ngcontent-%COMP%]:before{content:"\uf08b"}.fa-linkedin-square[_ngcontent-%COMP%]:before{content:"\uf08c"}.fa-thumb-tack[_ngcontent-%COMP%]:before{content:"\uf08d"}.fa-external-link[_ngcontent-%COMP%]:before{content:"\uf08e"}.fa-sign-in[_ngcontent-%COMP%]:before{content:"\uf090"}.fa-trophy[_ngcontent-%COMP%]:before{content:"\uf091"}.fa-github-square[_ngcontent-%COMP%]:before{content:"\uf092"}.fa-upload[_ngcontent-%COMP%]:before{content:"\uf093"}.fa-lemon-o[_ngcontent-%COMP%]:before{content:"\uf094"}.fa-phone[_ngcontent-%COMP%]:before{content:"\uf095"}.fa-square-o[_ngcontent-%COMP%]:before{content:"\uf096"}.fa-bookmark-o[_ngcontent-%COMP%]:before{content:"\uf097"}.fa-phone-square[_ngcontent-%COMP%]:before{content:"\uf098"}.fa-twitter[_ngcontent-%COMP%]:before{content:"\uf099"}.fa-facebook-f[_ngcontent-%COMP%]:before, .fa-facebook[_ngcontent-%COMP%]:before{content:"\uf09a"}.fa-github[_ngcontent-%COMP%]:before{content:"\uf09b"}.fa-unlock[_ngcontent-%COMP%]:before{content:"\uf09c"}.fa-credit-card[_ngcontent-%COMP%]:before{content:"\uf09d"}.fa-feed[_ngcontent-%COMP%]:before, .fa-rss[_ngcontent-%COMP%]:before{content:"\uf09e"}.fa-hdd-o[_ngcontent-%COMP%]:before{content:"\uf0a0"}.fa-bullhorn[_ngcontent-%COMP%]:before{content:"\uf0a1"}.fa-bell[_ngcontent-%COMP%]:before{content:"\uf0f3"}.fa-certificate[_ngcontent-%COMP%]:before{content:"\uf0a3"}.fa-hand-o-right[_ngcontent-%COMP%]:before{content:"\uf0a4"}.fa-hand-o-left[_ngcontent-%COMP%]:before{content:"\uf0a5"}.fa-hand-o-up[_ngcontent-%COMP%]:before{content:"\uf0a6"}.fa-hand-o-down[_ngcontent-%COMP%]:before{content:"\uf0a7"}.fa-arrow-circle-left[_ngcontent-%COMP%]:before{content:"\uf0a8"}.fa-arrow-circle-right[_ngcontent-%COMP%]:before{content:"\uf0a9"}.fa-arrow-circle-up[_ngcontent-%COMP%]:before{content:"\uf0aa"}.fa-arrow-circle-down[_ngcontent-%COMP%]:before{content:"\uf0ab"}.fa-globe[_ngcontent-%COMP%]:before{content:"\uf0ac"}.fa-wrench[_ngcontent-%COMP%]:before{content:"\uf0ad"}.fa-tasks[_ngcontent-%COMP%]:before{content:"\uf0ae"}.fa-filter[_ngcontent-%COMP%]:before{content:"\uf0b0"}.fa-briefcase[_ngcontent-%COMP%]:before{content:"\uf0b1"}.fa-arrows-alt[_ngcontent-%COMP%]:before{content:"\uf0b2"}.fa-group[_ngcontent-%COMP%]:before, .fa-users[_ngcontent-%COMP%]:before{content:"\uf0c0"}.fa-chain[_ngcontent-%COMP%]:before, .fa-link[_ngcontent-%COMP%]:before{content:"\uf0c1"}.fa-cloud[_ngcontent-%COMP%]:before{content:"\uf0c2"}.fa-flask[_ngcontent-%COMP%]:before{content:"\uf0c3"}.fa-cut[_ngcontent-%COMP%]:before, .fa-scissors[_ngcontent-%COMP%]:before{content:"\uf0c4"}.fa-copy[_ngcontent-%COMP%]:before, .fa-files-o[_ngcontent-%COMP%]:before{content:"\uf0c5"}.fa-paperclip[_ngcontent-%COMP%]:before{content:"\uf0c6"}.fa-floppy-o[_ngcontent-%COMP%]:before, .fa-save[_ngcontent-%COMP%]:before{content:"\uf0c7"}.fa-square[_ngcontent-%COMP%]:before{content:"\uf0c8"}.fa-bars[_ngcontent-%COMP%]:before, .fa-navicon[_ngcontent-%COMP%]:before, .fa-reorder[_ngcontent-%COMP%]:before{content:"\uf0c9"}.fa-list-ul[_ngcontent-%COMP%]:before{content:"\uf0ca"}.fa-list-ol[_ngcontent-%COMP%]:before{content:"\uf0cb"}.fa-strikethrough[_ngcontent-%COMP%]:before{content:"\uf0cc"}.fa-underline[_ngcontent-%COMP%]:before{content:"\uf0cd"}.fa-table[_ngcontent-%COMP%]:before{content:"\uf0ce"}.fa-magic[_ngcontent-%COMP%]:before{content:"\uf0d0"}.fa-truck[_ngcontent-%COMP%]:before{content:"\uf0d1"}.fa-pinterest[_ngcontent-%COMP%]:before{content:"\uf0d2"}.fa-pinterest-square[_ngcontent-%COMP%]:before{content:"\uf0d3"}.fa-google-plus-square[_ngcontent-%COMP%]:before{content:"\uf0d4"}.fa-google-plus[_ngcontent-%COMP%]:before{content:"\uf0d5"}.fa-money[_ngcontent-%COMP%]:before{content:"\uf0d6"}.fa-caret-down[_ngcontent-%COMP%]:before{content:"\uf0d7"}.fa-caret-up[_ngcontent-%COMP%]:before{content:"\uf0d8"}.fa-caret-left[_ngcontent-%COMP%]:before{content:"\uf0d9"}.fa-caret-right[_ngcontent-%COMP%]:before{content:"\uf0da"}.fa-columns[_ngcontent-%COMP%]:before{content:"\uf0db"}.fa-sort[_ngcontent-%COMP%]:before, .fa-unsorted[_ngcontent-%COMP%]:before{content:"\uf0dc"}.fa-sort-desc[_ngcontent-%COMP%]:before, .fa-sort-down[_ngcontent-%COMP%]:before{content:"\uf0dd"}.fa-sort-asc[_ngcontent-%COMP%]:before, .fa-sort-up[_ngcontent-%COMP%]:before{content:"\uf0de"}.fa-envelope[_ngcontent-%COMP%]:before{content:"\uf0e0"}.fa-linkedin[_ngcontent-%COMP%]:before{content:"\uf0e1"}.fa-rotate-left[_ngcontent-%COMP%]:before, .fa-undo[_ngcontent-%COMP%]:before{content:"\uf0e2"}.fa-gavel[_ngcontent-%COMP%]:before, .fa-legal[_ngcontent-%COMP%]:before{content:"\uf0e3"}.fa-dashboard[_ngcontent-%COMP%]:before, .fa-tachometer[_ngcontent-%COMP%]:before{content:"\uf0e4"}.fa-comment-o[_ngcontent-%COMP%]:before{content:"\uf0e5"}.fa-comments-o[_ngcontent-%COMP%]:before{content:"\uf0e6"}.fa-bolt[_ngcontent-%COMP%]:before, .fa-flash[_ngcontent-%COMP%]:before{content:"\uf0e7"}.fa-sitemap[_ngcontent-%COMP%]:before{content:"\uf0e8"}.fa-umbrella[_ngcontent-%COMP%]:before{content:"\uf0e9"}.fa-clipboard[_ngcontent-%COMP%]:before, .fa-paste[_ngcontent-%COMP%]:before{content:"\uf0ea"}.fa-lightbulb-o[_ngcontent-%COMP%]:before{content:"\uf0eb"}.fa-exchange[_ngcontent-%COMP%]:before{content:"\uf0ec"}.fa-cloud-download[_ngcontent-%COMP%]:before{content:"\uf0ed"}.fa-cloud-upload[_ngcontent-%COMP%]:before{content:"\uf0ee"}.fa-user-md[_ngcontent-%COMP%]:before{content:"\uf0f0"}.fa-stethoscope[_ngcontent-%COMP%]:before{content:"\uf0f1"}.fa-suitcase[_ngcontent-%COMP%]:before{content:"\uf0f2"}.fa-bell-o[_ngcontent-%COMP%]:before{content:"\uf0a2"}.fa-coffee[_ngcontent-%COMP%]:before{content:"\uf0f4"}.fa-cutlery[_ngcontent-%COMP%]:before{content:"\uf0f5"}.fa-file-text-o[_ngcontent-%COMP%]:before{content:"\uf0f6"}.fa-building-o[_ngcontent-%COMP%]:before{content:"\uf0f7"}.fa-hospital-o[_ngcontent-%COMP%]:before{content:"\uf0f8"}.fa-ambulance[_ngcontent-%COMP%]:before{content:"\uf0f9"}.fa-medkit[_ngcontent-%COMP%]:before{content:"\uf0fa"}.fa-fighter-jet[_ngcontent-%COMP%]:before{content:"\uf0fb"}.fa-beer[_ngcontent-%COMP%]:before{content:"\uf0fc"}.fa-h-square[_ngcontent-%COMP%]:before{content:"\uf0fd"}.fa-plus-square[_ngcontent-%COMP%]:before{content:"\uf0fe"}.fa-angle-double-left[_ngcontent-%COMP%]:before{content:"\uf100"}.fa-angle-double-right[_ngcontent-%COMP%]:before{content:"\uf101"}.fa-angle-double-up[_ngcontent-%COMP%]:before{content:"\uf102"}.fa-angle-double-down[_ngcontent-%COMP%]:before{content:"\uf103"}.fa-angle-left[_ngcontent-%COMP%]:before{content:"\uf104"}.fa-angle-right[_ngcontent-%COMP%]:before{content:"\uf105"}.fa-angle-up[_ngcontent-%COMP%]:before{content:"\uf106"}.fa-angle-down[_ngcontent-%COMP%]:before{content:"\uf107"}.fa-desktop[_ngcontent-%COMP%]:before{content:"\uf108"}.fa-laptop[_ngcontent-%COMP%]:before{content:"\uf109"}.fa-tablet[_ngcontent-%COMP%]:before{content:"\uf10a"}.fa-mobile-phone[_ngcontent-%COMP%]:before, .fa-mobile[_ngcontent-%COMP%]:before{content:"\uf10b"}.fa-circle-o[_ngcontent-%COMP%]:before{content:"\uf10c"}.fa-quote-left[_ngcontent-%COMP%]:before{content:"\uf10d"}.fa-quote-right[_ngcontent-%COMP%]:before{content:"\uf10e"}.fa-spinner[_ngcontent-%COMP%]:before{content:"\uf110"}.fa-circle[_ngcontent-%COMP%]:before{content:"\uf111"}.fa-mail-reply[_ngcontent-%COMP%]:before, .fa-reply[_ngcontent-%COMP%]:before{content:"\uf112"}.fa-github-alt[_ngcontent-%COMP%]:before{content:"\uf113"}.fa-folder-o[_ngcontent-%COMP%]:before{content:"\uf114"}.fa-folder-open-o[_ngcontent-%COMP%]:before{content:"\uf115"}.fa-smile-o[_ngcontent-%COMP%]:before{content:"\uf118"}.fa-frown-o[_ngcontent-%COMP%]:before{content:"\uf119"}.fa-meh-o[_ngcontent-%COMP%]:before{content:"\uf11a"}.fa-gamepad[_ngcontent-%COMP%]:before{content:"\uf11b"}.fa-keyboard-o[_ngcontent-%COMP%]:before{content:"\uf11c"}.fa-flag-o[_ngcontent-%COMP%]:before{content:"\uf11d"}.fa-flag-checkered[_ngcontent-%COMP%]:before{content:"\uf11e"}.fa-terminal[_ngcontent-%COMP%]:before{content:"\uf120"}.fa-code[_ngcontent-%COMP%]:before{content:"\uf121"}.fa-mail-reply-all[_ngcontent-%COMP%]:before, .fa-reply-all[_ngcontent-%COMP%]:before{content:"\uf122"}.fa-star-half-empty[_ngcontent-%COMP%]:before, .fa-star-half-full[_ngcontent-%COMP%]:before, .fa-star-half-o[_ngcontent-%COMP%]:before{content:"\uf123"}.fa-location-arrow[_ngcontent-%COMP%]:before{content:"\uf124"}.fa-crop[_ngcontent-%COMP%]:before{content:"\uf125"}.fa-code-fork[_ngcontent-%COMP%]:before{content:"\uf126"}.fa-chain-broken[_ngcontent-%COMP%]:before, .fa-unlink[_ngcontent-%COMP%]:before{content:"\uf127"}.fa-question[_ngcontent-%COMP%]:before{content:"\uf128"}.fa-info[_ngcontent-%COMP%]:before{content:"\uf129"}.fa-exclamation[_ngcontent-%COMP%]:before{content:"\uf12a"}.fa-superscript[_ngcontent-%COMP%]:before{content:"\uf12b"}.fa-subscript[_ngcontent-%COMP%]:before{content:"\uf12c"}.fa-eraser[_ngcontent-%COMP%]:before{content:"\uf12d"}.fa-puzzle-piece[_ngcontent-%COMP%]:before{content:"\uf12e"}.fa-microphone[_ngcontent-%COMP%]:before{content:"\uf130"}.fa-microphone-slash[_ngcontent-%COMP%]:before{content:"\uf131"}.fa-shield[_ngcontent-%COMP%]:before{content:"\uf132"}.fa-calendar-o[_ngcontent-%COMP%]:before{content:"\uf133"}.fa-fire-extinguisher[_ngcontent-%COMP%]:before{content:"\uf134"}.fa-rocket[_ngcontent-%COMP%]:before{content:"\uf135"}.fa-maxcdn[_ngcontent-%COMP%]:before{content:"\uf136"}.fa-chevron-circle-left[_ngcontent-%COMP%]:before{content:"\uf137"}.fa-chevron-circle-right[_ngcontent-%COMP%]:before{content:"\uf138"}.fa-chevron-circle-up[_ngcontent-%COMP%]:before{content:"\uf139"}.fa-chevron-circle-down[_ngcontent-%COMP%]:before{content:"\uf13a"}.fa-html5[_ngcontent-%COMP%]:before{content:"\uf13b"}.fa-css3[_ngcontent-%COMP%]:before{content:"\uf13c"}.fa-anchor[_ngcontent-%COMP%]:before{content:"\uf13d"}.fa-unlock-alt[_ngcontent-%COMP%]:before{content:"\uf13e"}.fa-bullseye[_ngcontent-%COMP%]:before{content:"\uf140"}.fa-ellipsis-h[_ngcontent-%COMP%]:before{content:"\uf141"}.fa-ellipsis-v[_ngcontent-%COMP%]:before{content:"\uf142"}.fa-rss-square[_ngcontent-%COMP%]:before{content:"\uf143"}.fa-play-circle[_ngcontent-%COMP%]:before{content:"\uf144"}.fa-ticket[_ngcontent-%COMP%]:before{content:"\uf145"}.fa-minus-square[_ngcontent-%COMP%]:before{content:"\uf146"}.fa-minus-square-o[_ngcontent-%COMP%]:before{content:"\uf147"}.fa-level-up[_ngcontent-%COMP%]:before{content:"\uf148"}.fa-level-down[_ngcontent-%COMP%]:before{content:"\uf149"}.fa-check-square[_ngcontent-%COMP%]:before{content:"\uf14a"}.fa-pencil-square[_ngcontent-%COMP%]:before{content:"\uf14b"}.fa-external-link-square[_ngcontent-%COMP%]:before{content:"\uf14c"}.fa-share-square[_ngcontent-%COMP%]:before{content:"\uf14d"}.fa-compass[_ngcontent-%COMP%]:before{content:"\uf14e"}.fa-caret-square-o-down[_ngcontent-%COMP%]:before, .fa-toggle-down[_ngcontent-%COMP%]:before{content:"\uf150"}.fa-caret-square-o-up[_ngcontent-%COMP%]:before, .fa-toggle-up[_ngcontent-%COMP%]:before{content:"\uf151"}.fa-caret-square-o-right[_ngcontent-%COMP%]:before, .fa-toggle-right[_ngcontent-%COMP%]:before{content:"\uf152"}.fa-eur[_ngcontent-%COMP%]:before, .fa-euro[_ngcontent-%COMP%]:before{content:"\uf153"}.fa-gbp[_ngcontent-%COMP%]:before{content:"\uf154"}.fa-dollar[_ngcontent-%COMP%]:before, .fa-usd[_ngcontent-%COMP%]:before{content:"\uf155"}.fa-inr[_ngcontent-%COMP%]:before, .fa-rupee[_ngcontent-%COMP%]:before{content:"\uf156"}.fa-cny[_ngcontent-%COMP%]:before, .fa-jpy[_ngcontent-%COMP%]:before, .fa-rmb[_ngcontent-%COMP%]:before, .fa-yen[_ngcontent-%COMP%]:before{content:"\uf157"}.fa-rouble[_ngcontent-%COMP%]:before, .fa-rub[_ngcontent-%COMP%]:before, .fa-ruble[_ngcontent-%COMP%]:before{content:"\uf158"}.fa-krw[_ngcontent-%COMP%]:before, .fa-won[_ngcontent-%COMP%]:before{content:"\uf159"}.fa-bitcoin[_ngcontent-%COMP%]:before, .fa-btc[_ngcontent-%COMP%]:before{content:"\uf15a"}.fa-file[_ngcontent-%COMP%]:before{content:"\uf15b"}.fa-file-text[_ngcontent-%COMP%]:before{content:"\uf15c"}.fa-sort-alpha-asc[_ngcontent-%COMP%]:before{content:"\uf15d"}.fa-sort-alpha-desc[_ngcontent-%COMP%]:before{content:"\uf15e"}.fa-sort-amount-asc[_ngcontent-%COMP%]:before{content:"\uf160"}.fa-sort-amount-desc[_ngcontent-%COMP%]:before{content:"\uf161"}.fa-sort-numeric-asc[_ngcontent-%COMP%]:before{content:"\uf162"}.fa-sort-numeric-desc[_ngcontent-%COMP%]:before{content:"\uf163"}.fa-thumbs-up[_ngcontent-%COMP%]:before{content:"\uf164"}.fa-thumbs-down[_ngcontent-%COMP%]:before{content:"\uf165"}.fa-youtube-square[_ngcontent-%COMP%]:before{content:"\uf166"}.fa-youtube[_ngcontent-%COMP%]:before{content:"\uf167"}.fa-xing[_ngcontent-%COMP%]:before{content:"\uf168"}.fa-xing-square[_ngcontent-%COMP%]:before{content:"\uf169"}.fa-youtube-play[_ngcontent-%COMP%]:before{content:"\uf16a"}.fa-dropbox[_ngcontent-%COMP%]:before{content:"\uf16b"}.fa-stack-overflow[_ngcontent-%COMP%]:before{content:"\uf16c"}.fa-instagram[_ngcontent-%COMP%]:before{content:"\uf16d"}.fa-flickr[_ngcontent-%COMP%]:before{content:"\uf16e"}.fa-adn[_ngcontent-%COMP%]:before{content:"\uf170"}.fa-bitbucket[_ngcontent-%COMP%]:before{content:"\uf171"}.fa-bitbucket-square[_ngcontent-%COMP%]:before{content:"\uf172"}.fa-tumblr[_ngcontent-%COMP%]:before{content:"\uf173"}.fa-tumblr-square[_ngcontent-%COMP%]:before{content:"\uf174"}.fa-long-arrow-down[_ngcontent-%COMP%]:before{content:"\uf175"}.fa-long-arrow-up[_ngcontent-%COMP%]:before{content:"\uf176"}.fa-long-arrow-left[_ngcontent-%COMP%]:before{content:"\uf177"}.fa-long-arrow-right[_ngcontent-%COMP%]:before{content:"\uf178"}.fa-apple[_ngcontent-%COMP%]:before{content:"\uf179"}.fa-windows[_ngcontent-%COMP%]:before{content:"\uf17a"}.fa-android[_ngcontent-%COMP%]:before{content:"\uf17b"}.fa-linux[_ngcontent-%COMP%]:before{content:"\uf17c"}.fa-dribbble[_ngcontent-%COMP%]:before{content:"\uf17d"}.fa-skype[_ngcontent-%COMP%]:before{content:"\uf17e"}.fa-foursquare[_ngcontent-%COMP%]:before{content:"\uf180"}.fa-trello[_ngcontent-%COMP%]:before{content:"\uf181"}.fa-female[_ngcontent-%COMP%]:before{content:"\uf182"}.fa-male[_ngcontent-%COMP%]:before{content:"\uf183"}.fa-gittip[_ngcontent-%COMP%]:before, .fa-gratipay[_ngcontent-%COMP%]:before{content:"\uf184"}.fa-sun-o[_ngcontent-%COMP%]:before{content:"\uf185"}.fa-moon-o[_ngcontent-%COMP%]:before{content:"\uf186"}.fa-archive[_ngcontent-%COMP%]:before{content:"\uf187"}.fa-bug[_ngcontent-%COMP%]:before{content:"\uf188"}.fa-vk[_ngcontent-%COMP%]:before{content:"\uf189"}.fa-weibo[_ngcontent-%COMP%]:before{content:"\uf18a"}.fa-renren[_ngcontent-%COMP%]:before{content:"\uf18b"}.fa-pagelines[_ngcontent-%COMP%]:before{content:"\uf18c"}.fa-stack-exchange[_ngcontent-%COMP%]:before{content:"\uf18d"}.fa-arrow-circle-o-right[_ngcontent-%COMP%]:before{content:"\uf18e"}.fa-arrow-circle-o-left[_ngcontent-%COMP%]:before{content:"\uf190"}.fa-caret-square-o-left[_ngcontent-%COMP%]:before, .fa-toggle-left[_ngcontent-%COMP%]:before{content:"\uf191"}.fa-dot-circle-o[_ngcontent-%COMP%]:before{content:"\uf192"}.fa-wheelchair[_ngcontent-%COMP%]:before{content:"\uf193"}.fa-vimeo-square[_ngcontent-%COMP%]:before{content:"\uf194"}.fa-try[_ngcontent-%COMP%]:before, .fa-turkish-lira[_ngcontent-%COMP%]:before{content:"\uf195"}.fa-plus-square-o[_ngcontent-%COMP%]:before{content:"\uf196"}.fa-space-shuttle[_ngcontent-%COMP%]:before{content:"\uf197"}.fa-slack[_ngcontent-%COMP%]:before{content:"\uf198"}.fa-envelope-square[_ngcontent-%COMP%]:before{content:"\uf199"}.fa-wordpress[_ngcontent-%COMP%]:before{content:"\uf19a"}.fa-openid[_ngcontent-%COMP%]:before{content:"\uf19b"}.fa-bank[_ngcontent-%COMP%]:before, .fa-institution[_ngcontent-%COMP%]:before, .fa-university[_ngcontent-%COMP%]:before{content:"\uf19c"}.fa-graduation-cap[_ngcontent-%COMP%]:before, .fa-mortar-board[_ngcontent-%COMP%]:before{content:"\uf19d"}.fa-yahoo[_ngcontent-%COMP%]:before{content:"\uf19e"}.fa-google[_ngcontent-%COMP%]:before{content:"\uf1a0"}.fa-reddit[_ngcontent-%COMP%]:before{content:"\uf1a1"}.fa-reddit-square[_ngcontent-%COMP%]:before{content:"\uf1a2"}.fa-stumbleupon-circle[_ngcontent-%COMP%]:before{content:"\uf1a3"}.fa-stumbleupon[_ngcontent-%COMP%]:before{content:"\uf1a4"}.fa-delicious[_ngcontent-%COMP%]:before{content:"\uf1a5"}.fa-digg[_ngcontent-%COMP%]:before{content:"\uf1a6"}.fa-pied-piper-pp[_ngcontent-%COMP%]:before{content:"\uf1a7"}.fa-pied-piper-alt[_ngcontent-%COMP%]:before{content:"\uf1a8"}.fa-drupal[_ngcontent-%COMP%]:before{content:"\uf1a9"}.fa-joomla[_ngcontent-%COMP%]:before{content:"\uf1aa"}.fa-language[_ngcontent-%COMP%]:before{content:"\uf1ab"}.fa-fax[_ngcontent-%COMP%]:before{content:"\uf1ac"}.fa-building[_ngcontent-%COMP%]:before{content:"\uf1ad"}.fa-child[_ngcontent-%COMP%]:before{content:"\uf1ae"}.fa-paw[_ngcontent-%COMP%]:before{content:"\uf1b0"}.fa-spoon[_ngcontent-%COMP%]:before{content:"\uf1b1"}.fa-cube[_ngcontent-%COMP%]:before{content:"\uf1b2"}.fa-cubes[_ngcontent-%COMP%]:before{content:"\uf1b3"}.fa-behance[_ngcontent-%COMP%]:before{content:"\uf1b4"}.fa-behance-square[_ngcontent-%COMP%]:before{content:"\uf1b5"}.fa-steam[_ngcontent-%COMP%]:before{content:"\uf1b6"}.fa-steam-square[_ngcontent-%COMP%]:before{content:"\uf1b7"}.fa-recycle[_ngcontent-%COMP%]:before{content:"\uf1b8"}.fa-automobile[_ngcontent-%COMP%]:before, .fa-car[_ngcontent-%COMP%]:before{content:"\uf1b9"}.fa-cab[_ngcontent-%COMP%]:before, .fa-taxi[_ngcontent-%COMP%]:before{content:"\uf1ba"}.fa-tree[_ngcontent-%COMP%]:before{content:"\uf1bb"}.fa-spotify[_ngcontent-%COMP%]:before{content:"\uf1bc"}.fa-deviantart[_ngcontent-%COMP%]:before{content:"\uf1bd"}.fa-soundcloud[_ngcontent-%COMP%]:before{content:"\uf1be"}.fa-database[_ngcontent-%COMP%]:before{content:"\uf1c0"}.fa-file-pdf-o[_ngcontent-%COMP%]:before{content:"\uf1c1"}.fa-file-word-o[_ngcontent-%COMP%]:before{content:"\uf1c2"}.fa-file-excel-o[_ngcontent-%COMP%]:before{content:"\uf1c3"}.fa-file-powerpoint-o[_ngcontent-%COMP%]:before{content:"\uf1c4"}.fa-file-image-o[_ngcontent-%COMP%]:before, .fa-file-photo-o[_ngcontent-%COMP%]:before, .fa-file-picture-o[_ngcontent-%COMP%]:before{content:"\uf1c5"}.fa-file-archive-o[_ngcontent-%COMP%]:before, .fa-file-zip-o[_ngcontent-%COMP%]:before{content:"\uf1c6"}.fa-file-audio-o[_ngcontent-%COMP%]:before, .fa-file-sound-o[_ngcontent-%COMP%]:before{content:"\uf1c7"}.fa-file-movie-o[_ngcontent-%COMP%]:before, .fa-file-video-o[_ngcontent-%COMP%]:before{content:"\uf1c8"}.fa-file-code-o[_ngcontent-%COMP%]:before{content:"\uf1c9"}.fa-vine[_ngcontent-%COMP%]:before{content:"\uf1ca"}.fa-codepen[_ngcontent-%COMP%]:before{content:"\uf1cb"}.fa-jsfiddle[_ngcontent-%COMP%]:before{content:"\uf1cc"}.fa-life-bouy[_ngcontent-%COMP%]:before, .fa-life-buoy[_ngcontent-%COMP%]:before, .fa-life-ring[_ngcontent-%COMP%]:before, .fa-life-saver[_ngcontent-%COMP%]:before, .fa-support[_ngcontent-%COMP%]:before{content:"\uf1cd"}.fa-circle-o-notch[_ngcontent-%COMP%]:before{content:"\uf1ce"}.fa-ra[_ngcontent-%COMP%]:before, .fa-rebel[_ngcontent-%COMP%]:before, .fa-resistance[_ngcontent-%COMP%]:before{content:"\uf1d0"}.fa-empire[_ngcontent-%COMP%]:before, .fa-ge[_ngcontent-%COMP%]:before{content:"\uf1d1"}.fa-git-square[_ngcontent-%COMP%]:before{content:"\uf1d2"}.fa-git[_ngcontent-%COMP%]:before{content:"\uf1d3"}.fa-hacker-news[_ngcontent-%COMP%]:before, .fa-y-combinator-square[_ngcontent-%COMP%]:before, .fa-yc-square[_ngcontent-%COMP%]:before{content:"\uf1d4"}.fa-tencent-weibo[_ngcontent-%COMP%]:before{content:"\uf1d5"}.fa-qq[_ngcontent-%COMP%]:before{content:"\uf1d6"}.fa-wechat[_ngcontent-%COMP%]:before, .fa-weixin[_ngcontent-%COMP%]:before{content:"\uf1d7"}.fa-paper-plane[_ngcontent-%COMP%]:before, .fa-send[_ngcontent-%COMP%]:before{content:"\uf1d8"}.fa-paper-plane-o[_ngcontent-%COMP%]:before, .fa-send-o[_ngcontent-%COMP%]:before{content:"\uf1d9"}.fa-history[_ngcontent-%COMP%]:before{content:"\uf1da"}.fa-circle-thin[_ngcontent-%COMP%]:before{content:"\uf1db"}.fa-header[_ngcontent-%COMP%]:before{content:"\uf1dc"}.fa-paragraph[_ngcontent-%COMP%]:before{content:"\uf1dd"}.fa-sliders[_ngcontent-%COMP%]:before{content:"\uf1de"}.fa-share-alt[_ngcontent-%COMP%]:before{content:"\uf1e0"}.fa-share-alt-square[_ngcontent-%COMP%]:before{content:"\uf1e1"}.fa-bomb[_ngcontent-%COMP%]:before{content:"\uf1e2"}.fa-futbol-o[_ngcontent-%COMP%]:before, .fa-soccer-ball-o[_ngcontent-%COMP%]:before{content:"\uf1e3"}.fa-tty[_ngcontent-%COMP%]:before{content:"\uf1e4"}.fa-binoculars[_ngcontent-%COMP%]:before{content:"\uf1e5"}.fa-plug[_ngcontent-%COMP%]:before{content:"\uf1e6"}.fa-slideshare[_ngcontent-%COMP%]:before{content:"\uf1e7"}.fa-twitch[_ngcontent-%COMP%]:before{content:"\uf1e8"}.fa-yelp[_ngcontent-%COMP%]:before{content:"\uf1e9"}.fa-newspaper-o[_ngcontent-%COMP%]:before{content:"\uf1ea"}.fa-wifi[_ngcontent-%COMP%]:before{content:"\uf1eb"}.fa-calculator[_ngcontent-%COMP%]:before{content:"\uf1ec"}.fa-paypal[_ngcontent-%COMP%]:before{content:"\uf1ed"}.fa-google-wallet[_ngcontent-%COMP%]:before{content:"\uf1ee"}.fa-cc-visa[_ngcontent-%COMP%]:before{content:"\uf1f0"}.fa-cc-mastercard[_ngcontent-%COMP%]:before{content:"\uf1f1"}.fa-cc-discover[_ngcontent-%COMP%]:before{content:"\uf1f2"}.fa-cc-amex[_ngcontent-%COMP%]:before{content:"\uf1f3"}.fa-cc-paypal[_ngcontent-%COMP%]:before{content:"\uf1f4"}.fa-cc-stripe[_ngcontent-%COMP%]:before{content:"\uf1f5"}.fa-bell-slash[_ngcontent-%COMP%]:before{content:"\uf1f6"}.fa-bell-slash-o[_ngcontent-%COMP%]:before{content:"\uf1f7"}.fa-trash[_ngcontent-%COMP%]:before{content:"\uf1f8"}.fa-copyright[_ngcontent-%COMP%]:before{content:"\uf1f9"}.fa-at[_ngcontent-%COMP%]:before{content:"\uf1fa"}.fa-eyedropper[_ngcontent-%COMP%]:before{content:"\uf1fb"}.fa-paint-brush[_ngcontent-%COMP%]:before{content:"\uf1fc"}.fa-birthday-cake[_ngcontent-%COMP%]:before{content:"\uf1fd"}.fa-area-chart[_ngcontent-%COMP%]:before{content:"\uf1fe"}.fa-pie-chart[_ngcontent-%COMP%]:before{content:"\uf200"}.fa-line-chart[_ngcontent-%COMP%]:before{content:"\uf201"}.fa-lastfm[_ngcontent-%COMP%]:before{content:"\uf202"}.fa-lastfm-square[_ngcontent-%COMP%]:before{content:"\uf203"}.fa-toggle-off[_ngcontent-%COMP%]:before{content:"\uf204"}.fa-toggle-on[_ngcontent-%COMP%]:before{content:"\uf205"}.fa-bicycle[_ngcontent-%COMP%]:before{content:"\uf206"}.fa-bus[_ngcontent-%COMP%]:before{content:"\uf207"}.fa-ioxhost[_ngcontent-%COMP%]:before{content:"\uf208"}.fa-angellist[_ngcontent-%COMP%]:before{content:"\uf209"}.fa-cc[_ngcontent-%COMP%]:before{content:"\uf20a"}.fa-ils[_ngcontent-%COMP%]:before, .fa-shekel[_ngcontent-%COMP%]:before, .fa-sheqel[_ngcontent-%COMP%]:before{content:"\uf20b"}.fa-meanpath[_ngcontent-%COMP%]:before{content:"\uf20c"}.fa-buysellads[_ngcontent-%COMP%]:before{content:"\uf20d"}.fa-connectdevelop[_ngcontent-%COMP%]:before{content:"\uf20e"}.fa-dashcube[_ngcontent-%COMP%]:before{content:"\uf210"}.fa-forumbee[_ngcontent-%COMP%]:before{content:"\uf211"}.fa-leanpub[_ngcontent-%COMP%]:before{content:"\uf212"}.fa-sellsy[_ngcontent-%COMP%]:before{content:"\uf213"}.fa-shirtsinbulk[_ngcontent-%COMP%]:before{content:"\uf214"}.fa-simplybuilt[_ngcontent-%COMP%]:before{content:"\uf215"}.fa-skyatlas[_ngcontent-%COMP%]:before{content:"\uf216"}.fa-cart-plus[_ngcontent-%COMP%]:before{content:"\uf217"}.fa-cart-arrow-down[_ngcontent-%COMP%]:before{content:"\uf218"}.fa-diamond[_ngcontent-%COMP%]:before{content:"\uf219"}.fa-ship[_ngcontent-%COMP%]:before{content:"\uf21a"}.fa-user-secret[_ngcontent-%COMP%]:before{content:"\uf21b"}.fa-motorcycle[_ngcontent-%COMP%]:before{content:"\uf21c"}.fa-street-view[_ngcontent-%COMP%]:before{content:"\uf21d"}.fa-heartbeat[_ngcontent-%COMP%]:before{content:"\uf21e"}.fa-venus[_ngcontent-%COMP%]:before{content:"\uf221"}.fa-mars[_ngcontent-%COMP%]:before{content:"\uf222"}.fa-mercury[_ngcontent-%COMP%]:before{content:"\uf223"}.fa-intersex[_ngcontent-%COMP%]:before, .fa-transgender[_ngcontent-%COMP%]:before{content:"\uf224"}.fa-transgender-alt[_ngcontent-%COMP%]:before{content:"\uf225"}.fa-venus-double[_ngcontent-%COMP%]:before{content:"\uf226"}.fa-mars-double[_ngcontent-%COMP%]:before{content:"\uf227"}.fa-venus-mars[_ngcontent-%COMP%]:before{content:"\uf228"}.fa-mars-stroke[_ngcontent-%COMP%]:before{content:"\uf229"}.fa-mars-stroke-v[_ngcontent-%COMP%]:before{content:"\uf22a"}.fa-mars-stroke-h[_ngcontent-%COMP%]:before{content:"\uf22b"}.fa-neuter[_ngcontent-%COMP%]:before{content:"\uf22c"}.fa-genderless[_ngcontent-%COMP%]:before{content:"\uf22d"}.fa-facebook-official[_ngcontent-%COMP%]:before{content:"\uf230"}.fa-pinterest-p[_ngcontent-%COMP%]:before{content:"\uf231"}.fa-whatsapp[_ngcontent-%COMP%]:before{content:"\uf232"}.fa-server[_ngcontent-%COMP%]:before{content:"\uf233"}.fa-user-plus[_ngcontent-%COMP%]:before{content:"\uf234"}.fa-user-times[_ngcontent-%COMP%]:before{content:"\uf235"}.fa-bed[_ngcontent-%COMP%]:before, .fa-hotel[_ngcontent-%COMP%]:before{content:"\uf236"}.fa-viacoin[_ngcontent-%COMP%]:before{content:"\uf237"}.fa-train[_ngcontent-%COMP%]:before{content:"\uf238"}.fa-subway[_ngcontent-%COMP%]:before{content:"\uf239"}.fa-medium[_ngcontent-%COMP%]:before{content:"\uf23a"}.fa-y-combinator[_ngcontent-%COMP%]:before, .fa-yc[_ngcontent-%COMP%]:before{content:"\uf23b"}.fa-optin-monster[_ngcontent-%COMP%]:before{content:"\uf23c"}.fa-opencart[_ngcontent-%COMP%]:before{content:"\uf23d"}.fa-expeditedssl[_ngcontent-%COMP%]:before{content:"\uf23e"}.fa-battery-4[_ngcontent-%COMP%]:before, .fa-battery-full[_ngcontent-%COMP%]:before, .fa-battery[_ngcontent-%COMP%]:before{content:"\uf240"}.fa-battery-3[_ngcontent-%COMP%]:before, .fa-battery-three-quarters[_ngcontent-%COMP%]:before{content:"\uf241"}.fa-battery-2[_ngcontent-%COMP%]:before, .fa-battery-half[_ngcontent-%COMP%]:before{content:"\uf242"}.fa-battery-1[_ngcontent-%COMP%]:before, .fa-battery-quarter[_ngcontent-%COMP%]:before{content:"\uf243"}.fa-battery-0[_ngcontent-%COMP%]:before, .fa-battery-empty[_ngcontent-%COMP%]:before{content:"\uf244"}.fa-mouse-pointer[_ngcontent-%COMP%]:before{content:"\uf245"}.fa-i-cursor[_ngcontent-%COMP%]:before{content:"\uf246"}.fa-object-group[_ngcontent-%COMP%]:before{content:"\uf247"}.fa-object-ungroup[_ngcontent-%COMP%]:before{content:"\uf248"}.fa-sticky-note[_ngcontent-%COMP%]:before{content:"\uf249"}.fa-sticky-note-o[_ngcontent-%COMP%]:before{content:"\uf24a"}.fa-cc-jcb[_ngcontent-%COMP%]:before{content:"\uf24b"}.fa-cc-diners-club[_ngcontent-%COMP%]:before{content:"\uf24c"}.fa-clone[_ngcontent-%COMP%]:before{content:"\uf24d"}.fa-balance-scale[_ngcontent-%COMP%]:before{content:"\uf24e"}.fa-hourglass-o[_ngcontent-%COMP%]:before{content:"\uf250"}.fa-hourglass-1[_ngcontent-%COMP%]:before, .fa-hourglass-start[_ngcontent-%COMP%]:before{content:"\uf251"}.fa-hourglass-2[_ngcontent-%COMP%]:before, .fa-hourglass-half[_ngcontent-%COMP%]:before{content:"\uf252"}.fa-hourglass-3[_ngcontent-%COMP%]:before, .fa-hourglass-end[_ngcontent-%COMP%]:before{content:"\uf253"}.fa-hourglass[_ngcontent-%COMP%]:before{content:"\uf254"}.fa-hand-grab-o[_ngcontent-%COMP%]:before, .fa-hand-rock-o[_ngcontent-%COMP%]:before{content:"\uf255"}.fa-hand-paper-o[_ngcontent-%COMP%]:before, .fa-hand-stop-o[_ngcontent-%COMP%]:before{content:"\uf256"}.fa-hand-scissors-o[_ngcontent-%COMP%]:before{content:"\uf257"}.fa-hand-lizard-o[_ngcontent-%COMP%]:before{content:"\uf258"}.fa-hand-spock-o[_ngcontent-%COMP%]:before{content:"\uf259"}.fa-hand-pointer-o[_ngcontent-%COMP%]:before{content:"\uf25a"}.fa-hand-peace-o[_ngcontent-%COMP%]:before{content:"\uf25b"}.fa-trademark[_ngcontent-%COMP%]:before{content:"\uf25c"}.fa-registered[_ngcontent-%COMP%]:before{content:"\uf25d"}.fa-creative-commons[_ngcontent-%COMP%]:before{content:"\uf25e"}.fa-gg[_ngcontent-%COMP%]:before{content:"\uf260"}.fa-gg-circle[_ngcontent-%COMP%]:before{content:"\uf261"}.fa-tripadvisor[_ngcontent-%COMP%]:before{content:"\uf262"}.fa-odnoklassniki[_ngcontent-%COMP%]:before{content:"\uf263"}.fa-odnoklassniki-square[_ngcontent-%COMP%]:before{content:"\uf264"}.fa-get-pocket[_ngcontent-%COMP%]:before{content:"\uf265"}.fa-wikipedia-w[_ngcontent-%COMP%]:before{content:"\uf266"}.fa-safari[_ngcontent-%COMP%]:before{content:"\uf267"}.fa-chrome[_ngcontent-%COMP%]:before{content:"\uf268"}.fa-firefox[_ngcontent-%COMP%]:before{content:"\uf269"}.fa-opera[_ngcontent-%COMP%]:before{content:"\uf26a"}.fa-internet-explorer[_ngcontent-%COMP%]:before{content:"\uf26b"}.fa-television[_ngcontent-%COMP%]:before, .fa-tv[_ngcontent-%COMP%]:before{content:"\uf26c"}.fa-contao[_ngcontent-%COMP%]:before{content:"\uf26d"}.fa-500px[_ngcontent-%COMP%]:before{content:"\uf26e"}.fa-amazon[_ngcontent-%COMP%]:before{content:"\uf270"}.fa-calendar-plus-o[_ngcontent-%COMP%]:before{content:"\uf271"}.fa-calendar-minus-o[_ngcontent-%COMP%]:before{content:"\uf272"}.fa-calendar-times-o[_ngcontent-%COMP%]:before{content:"\uf273"}.fa-calendar-check-o[_ngcontent-%COMP%]:before{content:"\uf274"}.fa-industry[_ngcontent-%COMP%]:before{content:"\uf275"}.fa-map-pin[_ngcontent-%COMP%]:before{content:"\uf276"}.fa-map-signs[_ngcontent-%COMP%]:before{content:"\uf277"}.fa-map-o[_ngcontent-%COMP%]:before{content:"\uf278"}.fa-map[_ngcontent-%COMP%]:before{content:"\uf279"}.fa-commenting[_ngcontent-%COMP%]:before{content:"\uf27a"}.fa-commenting-o[_ngcontent-%COMP%]:before{content:"\uf27b"}.fa-houzz[_ngcontent-%COMP%]:before{content:"\uf27c"}.fa-vimeo[_ngcontent-%COMP%]:before{content:"\uf27d"}.fa-black-tie[_ngcontent-%COMP%]:before{content:"\uf27e"}.fa-fonticons[_ngcontent-%COMP%]:before{content:"\uf280"}.fa-reddit-alien[_ngcontent-%COMP%]:before{content:"\uf281"}.fa-edge[_ngcontent-%COMP%]:before{content:"\uf282"}.fa-credit-card-alt[_ngcontent-%COMP%]:before{content:"\uf283"}.fa-codiepie[_ngcontent-%COMP%]:before{content:"\uf284"}.fa-modx[_ngcontent-%COMP%]:before{content:"\uf285"}.fa-fort-awesome[_ngcontent-%COMP%]:before{content:"\uf286"}.fa-usb[_ngcontent-%COMP%]:before{content:"\uf287"}.fa-product-hunt[_ngcontent-%COMP%]:before{content:"\uf288"}.fa-mixcloud[_ngcontent-%COMP%]:before{content:"\uf289"}.fa-scribd[_ngcontent-%COMP%]:before{content:"\uf28a"}.fa-pause-circle[_ngcontent-%COMP%]:before{content:"\uf28b"}.fa-pause-circle-o[_ngcontent-%COMP%]:before{content:"\uf28c"}.fa-stop-circle[_ngcontent-%COMP%]:before{content:"\uf28d"}.fa-stop-circle-o[_ngcontent-%COMP%]:before{content:"\uf28e"}.fa-shopping-bag[_ngcontent-%COMP%]:before{content:"\uf290"}.fa-shopping-basket[_ngcontent-%COMP%]:before{content:"\uf291"}.fa-hashtag[_ngcontent-%COMP%]:before{content:"\uf292"}.fa-bluetooth[_ngcontent-%COMP%]:before{content:"\uf293"}.fa-bluetooth-b[_ngcontent-%COMP%]:before{content:"\uf294"}.fa-percent[_ngcontent-%COMP%]:before{content:"\uf295"}.fa-gitlab[_ngcontent-%COMP%]:before{content:"\uf296"}.fa-wpbeginner[_ngcontent-%COMP%]:before{content:"\uf297"}.fa-wpforms[_ngcontent-%COMP%]:before{content:"\uf298"}.fa-envira[_ngcontent-%COMP%]:before{content:"\uf299"}.fa-universal-access[_ngcontent-%COMP%]:before{content:"\uf29a"}.fa-wheelchair-alt[_ngcontent-%COMP%]:before{content:"\uf29b"}.fa-question-circle-o[_ngcontent-%COMP%]:before{content:"\uf29c"}.fa-blind[_ngcontent-%COMP%]:before{content:"\uf29d"}.fa-audio-description[_ngcontent-%COMP%]:before{content:"\uf29e"}.fa-volume-control-phone[_ngcontent-%COMP%]:before{content:"\uf2a0"}.fa-braille[_ngcontent-%COMP%]:before{content:"\uf2a1"}.fa-assistive-listening-systems[_ngcontent-%COMP%]:before{content:"\uf2a2"}.fa-american-sign-language-interpreting[_ngcontent-%COMP%]:before, .fa-asl-interpreting[_ngcontent-%COMP%]:before{content:"\uf2a3"}.fa-deaf[_ngcontent-%COMP%]:before, .fa-deafness[_ngcontent-%COMP%]:before, .fa-hard-of-hearing[_ngcontent-%COMP%]:before{content:"\uf2a4"}.fa-glide[_ngcontent-%COMP%]:before{content:"\uf2a5"}.fa-glide-g[_ngcontent-%COMP%]:before{content:"\uf2a6"}.fa-sign-language[_ngcontent-%COMP%]:before, .fa-signing[_ngcontent-%COMP%]:before{content:"\uf2a7"}.fa-low-vision[_ngcontent-%COMP%]:before{content:"\uf2a8"}.fa-viadeo[_ngcontent-%COMP%]:before{content:"\uf2a9"}.fa-viadeo-square[_ngcontent-%COMP%]:before{content:"\uf2aa"}.fa-snapchat[_ngcontent-%COMP%]:before{content:"\uf2ab"}.fa-snapchat-ghost[_ngcontent-%COMP%]:before{content:"\uf2ac"}.fa-snapchat-square[_ngcontent-%COMP%]:before{content:"\uf2ad"}.fa-pied-piper[_ngcontent-%COMP%]:before{content:"\uf2ae"}.fa-first-order[_ngcontent-%COMP%]:before{content:"\uf2b0"}.fa-yoast[_ngcontent-%COMP%]:before{content:"\uf2b1"}.fa-themeisle[_ngcontent-%COMP%]:before{content:"\uf2b2"}.fa-google-plus-circle[_ngcontent-%COMP%]:before, .fa-google-plus-official[_ngcontent-%COMP%]:before{content:"\uf2b3"}.fa-fa[_ngcontent-%COMP%]:before, .fa-font-awesome[_ngcontent-%COMP%]:before{content:"\uf2b4"}.fa-handshake-o[_ngcontent-%COMP%]:before{content:"\uf2b5"}.fa-envelope-open[_ngcontent-%COMP%]:before{content:"\uf2b6"}.fa-envelope-open-o[_ngcontent-%COMP%]:before{content:"\uf2b7"}.fa-linode[_ngcontent-%COMP%]:before{content:"\uf2b8"}.fa-address-book[_ngcontent-%COMP%]:before{content:"\uf2b9"}.fa-address-book-o[_ngcontent-%COMP%]:before{content:"\uf2ba"}.fa-address-card[_ngcontent-%COMP%]:before, .fa-vcard[_ngcontent-%COMP%]:before{content:"\uf2bb"}.fa-address-card-o[_ngcontent-%COMP%]:before, .fa-vcard-o[_ngcontent-%COMP%]:before{content:"\uf2bc"}.fa-user-circle[_ngcontent-%COMP%]:before{content:"\uf2bd"}.fa-user-circle-o[_ngcontent-%COMP%]:before{content:"\uf2be"}.fa-user-o[_ngcontent-%COMP%]:before{content:"\uf2c0"}.fa-id-badge[_ngcontent-%COMP%]:before{content:"\uf2c1"}.fa-drivers-license[_ngcontent-%COMP%]:before, .fa-id-card[_ngcontent-%COMP%]:before{content:"\uf2c2"}.fa-drivers-license-o[_ngcontent-%COMP%]:before, .fa-id-card-o[_ngcontent-%COMP%]:before{content:"\uf2c3"}.fa-quora[_ngcontent-%COMP%]:before{content:"\uf2c4"}.fa-free-code-camp[_ngcontent-%COMP%]:before{content:"\uf2c5"}.fa-telegram[_ngcontent-%COMP%]:before{content:"\uf2c6"}.fa-thermometer-4[_ngcontent-%COMP%]:before, .fa-thermometer-full[_ngcontent-%COMP%]:before, .fa-thermometer[_ngcontent-%COMP%]:before{content:"\uf2c7"}.fa-thermometer-3[_ngcontent-%COMP%]:before, .fa-thermometer-three-quarters[_ngcontent-%COMP%]:before{content:"\uf2c8"}.fa-thermometer-2[_ngcontent-%COMP%]:before, .fa-thermometer-half[_ngcontent-%COMP%]:before{content:"\uf2c9"}.fa-thermometer-1[_ngcontent-%COMP%]:before, .fa-thermometer-quarter[_ngcontent-%COMP%]:before{content:"\uf2ca"}.fa-thermometer-0[_ngcontent-%COMP%]:before, .fa-thermometer-empty[_ngcontent-%COMP%]:before{content:"\uf2cb"}.fa-shower[_ngcontent-%COMP%]:before{content:"\uf2cc"}.fa-bath[_ngcontent-%COMP%]:before, .fa-bathtub[_ngcontent-%COMP%]:before, .fa-s15[_ngcontent-%COMP%]:before{content:"\uf2cd"}.fa-podcast[_ngcontent-%COMP%]:before{content:"\uf2ce"}.fa-window-maximize[_ngcontent-%COMP%]:before{content:"\uf2d0"}.fa-window-minimize[_ngcontent-%COMP%]:before{content:"\uf2d1"}.fa-window-restore[_ngcontent-%COMP%]:before{content:"\uf2d2"}.fa-times-rectangle[_ngcontent-%COMP%]:before, .fa-window-close[_ngcontent-%COMP%]:before{content:"\uf2d3"}.fa-times-rectangle-o[_ngcontent-%COMP%]:before, .fa-window-close-o[_ngcontent-%COMP%]:before{content:"\uf2d4"}.fa-bandcamp[_ngcontent-%COMP%]:before{content:"\uf2d5"}.fa-grav[_ngcontent-%COMP%]:before{content:"\uf2d6"}.fa-etsy[_ngcontent-%COMP%]:before{content:"\uf2d7"}.fa-imdb[_ngcontent-%COMP%]:before{content:"\uf2d8"}.fa-ravelry[_ngcontent-%COMP%]:before{content:"\uf2d9"}.fa-eercast[_ngcontent-%COMP%]:before{content:"\uf2da"}.fa-microchip[_ngcontent-%COMP%]:before{content:"\uf2db"}.fa-snowflake-o[_ngcontent-%COMP%]:before{content:"\uf2dc"}.fa-superpowers[_ngcontent-%COMP%]:before{content:"\uf2dd"}.fa-wpexplorer[_ngcontent-%COMP%]:before{content:"\uf2de"}.fa-meetup[_ngcontent-%COMP%]:before{content:"\uf2e0"}.sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.sr-only-focusable[_ngcontent-%COMP%]:active, .sr-only-focusable[_ngcontent-%COMP%]:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}a[_ngcontent-%COMP%]{cursor:pointer}.angular-editor-textarea[_ngcontent-%COMP%]{min-height:150px;overflow:auto;margin-top:5px;resize:vertical}.angular-editor-textarea[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;right:0;display:block;width:8px;height:8px;cursor:nwse-resize;background-color:rgba(255,255,255,.5)}.angular-editor-toolbar[_ngcontent-%COMP%]{font:100 .8rem/15px Roboto,Arial,sans-serif;background-color:#f5f5f5;padding:.2rem;border:1px solid #ddd}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]{display:none;margin-right:5px;vertical-align:baseline}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]{background-color:#fff;vertical-align:middle;border:1px solid #ddd;padding:.4rem;min-width:2rem;float:left}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;-webkit-transition:.2s;transition:.2s}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.focus[_ngcontent-%COMP%], .angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:focus{outline:0}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label[_ngcontent-%COMP%]{pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label.background[_ngcontent-%COMP%], .angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label.foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background:#555}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.active[_ngcontent-%COMP%]{background:#fff5b9}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.active[_ngcontent-%COMP%]:hover{background-color:#fffa98}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:11px;width:90px;vertical-align:middle;background-color:transparent;border:.5px solid rgba(255,255,255,0);border-radius:5px;outline:0;padding:.4rem;cursor:pointer}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]{display:inline-block;width:90px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;-webkit-transition:.2s;transition:.2s}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]{display:inline-block;width:90px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;-webkit-transition:.2s;transition:.2s}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]{display:inline-block;width:50px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;-webkit-transition:.2s;transition:.2s}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance:none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .default[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{font-size:24px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:20px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h3[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h4[_ngcontent-%COMP%]{font-size:15px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h5[_ngcontent-%COMP%]{font-size:14px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h6[_ngcontent-%COMP%]{font-size:13px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .div[_ngcontent-%COMP%], .angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .pre[_ngcontent-%COMP%]{font-size:12px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size1[_ngcontent-%COMP%]{font-size:10px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size2[_ngcontent-%COMP%]{font-size:12px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size3[_ngcontent-%COMP%]{font-size:14px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size4[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size5[_ngcontent-%COMP%]{font-size:18px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size6[_ngcontent-%COMP%]{font-size:20px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size7[_ngcontent-%COMP%]{font-size:22px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;-webkit-transition:.2s;transition:.2s}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .color-label[_ngcontent-%COMP%]{position:relative;cursor:pointer}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{font-size:smaller;background:#1b1b1b;color:#fff;padding:3px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{position:absolute;content:"";left:-1px;top:auto;bottom:-3px;right:auto;width:15px;height:2px;z-index:0;background:#1b1b1b}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]:not([style*="display:none"]):not([style*="display: none"]){display:inline-block}.angular-editor[_ngcontent-%COMP%]{position:relative}.angular-editor[_ngcontent-%COMP%]     [contenteditable=true]:empty:before{content:attr(placeholder);color:#868e96;opacity:1}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]{position:relative}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]{min-height:5rem;padding:.5rem .8rem 1rem;border:1px solid #ddd;background-color:transparent;overflow-x:hidden;overflow-y:auto;position:relative}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]     blockquote{margin-left:1rem;border-left:.2em solid #dfe2e5;padding-left:.5rem}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]     p{margin-bottom:0}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-placeholder[_ngcontent-%COMP%]{display:none;position:absolute;top:0;padding:.5rem .8rem 1rem .9rem;color:#6c757d;opacity:.75}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper.show-placeholder[_ngcontent-%COMP%]   .angular-editor-placeholder[_ngcontent-%COMP%]{display:block}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper.disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.5;pointer-events:none}']}),vc),_c=((mc=function(){function e(t,n){_classCallCheck(this,e),this.elRef=t,this.r=n,this.options=[],this.disabled=!1,this.optionId=0,this.opened=!1,this.hidden="inline-block",this.changeEvent=new i.n,this.onChange=function(){},this.onTouched=function(){}}return _createClass(e,[{key:"ngOnInit",value:function(){this.selectedOption=this.options[0],bc(this.isHidden)&&this.isHidden&&this.hide()}},{key:"hide",value:function(){this.hidden="none"}},{key:"optionSelect",value:function(e,t){t.stopPropagation(),this.setValue(e.value),this.onChange(this.selectedOption.value),this.changeEvent.emit(this.selectedOption.value),this.onTouched(),this.opened=!1}},{key:"toggleOpen",value:function(e){this.disabled||(this.opened=!this.opened)}},{key:"onClick",value:function(e){this.elRef.nativeElement.contains(e.target)||this.close()}},{key:"close",value:function(){this.opened=!1}},{key:"writeValue",value:function(e){e&&"string"==typeof e&&this.setValue(e)}},{key:"setValue",value:function(e){var t=0,n=this.options.find(function(n,i){return t=i,n.value===e});n&&(this.selectedOption=n,this.optionId=t)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this.labelButton.nativeElement.disabled=e,this.r[e?"addClass":"removeClass"](this.labelButton.nativeElement,"disabled"),this.disabled=e}},{key:"handleKeyDown",value:function(e){if(this.opened)switch(e.key){case"ArrowDown":this._handleArrowDown(e);break;case"ArrowUp":this._handleArrowUp(e);break;case"Space":this._handleSpace(e);break;case"Enter":this._handleEnter(e);break;case"Tab":this._handleTab(e);break;case"Escape":this.close(),e.preventDefault();break;case"Backspace":this._handleBackspace()}}},{key:"_handleArrowDown",value:function(e){this.optionId<this.options.length-1&&this.optionId++}},{key:"_handleArrowUp",value:function(e){this.optionId>=1&&this.optionId--}},{key:"_handleSpace",value:function(e){}},{key:"_handleEnter",value:function(e){this.optionSelect(this.options[this.optionId],e)}},{key:"_handleTab",value:function(e){}},{key:"_handleBackspace",value:function(){}},{key:"label",get:function(){return this.selectedOption&&this.selectedOption.hasOwnProperty("label")?this.selectedOption.label:"Select"}},{key:"value",get:function(){return this.selectedOption.value}},{key:"isOpen",get:function(){return this.opened}}]),e}()).\u0275fac=function(e){return new(e||mc)(i.Lb(i.l),i.Lb(i.E))},mc.\u0275cmp=i.Fb({type:mc,selectors:[["ae-select"]],viewQuery:function(e,t){var n;1&e&&i.Fc(rc,!0),2&e&&i.uc(n=i.cc())&&(t.labelButton=n.first)},hostVars:2,hostBindings:function(e,t){1&e&&i.bc("click",function(e){return t.onClick(e)},!1,i.xc)("keydown",function(e){return t.handleKeyDown(e)}),2&e&&i.Gc("display",t.hidden)},inputs:{options:"options",isHidden:["hidden","isHidden"]},outputs:{changeEvent:"change"},features:[i.xb([{provide:vs.m,useExisting:Object(i.T)(function(){return mc}),multi:!0}])],decls:10,vars:7,consts:[[1,"ae-font","ae-picker",3,"ngClass"],["tabindex","0","type","button","role","button",1,"ae-picker-label",3,"tabIndex","click"],["labelButton",""],["viewBox","0 0 18 18"],["points","7 11 9 13 11 11 7 11",1,"ae-stroke"],["points","7 7 9 5 11 7 7 7",1,"ae-stroke"],[1,"ae-picker-options"],["tabindex","-1","type","button","role","button","class","ae-picker-item",3,"ngClass","click",4,"ngFor","ngForOf"],["class","dropdown-item",4,"ngIf"],["tabindex","-1","type","button","role","button",1,"ae-picker-item",3,"ngClass","click"],[1,"dropdown-item"]],template:function(e,t){1&e&&(i.Rb(0,"span",0),i.Rb(1,"button",1,2),i.bc("click",function(e){return t.toggleOpen(e)}),i.Kc(3),i.ec(),i.Rb(4,"svg",3),i.Mb(5,"polygon",4),i.Mb(6,"polygon",5),i.Qb(),i.Qb(),i.dc(),i.Rb(7,"span",6),i.Ic(8,sc,2,5,"button",7),i.Ic(9,cc,2,0,"span",8),i.Qb(),i.Qb()),2&e&&(i.mc("ngClass",i.qc(5,fc,t.isOpen)),i.yb(1),i.mc("tabIndex",-1),i.yb(2),i.Mc("",t.label," "),i.yb(5),i.mc("ngForOf",t.options),i.yb(1),i.mc("ngIf",!t.options.length))},directives:[a.l,a.m,a.n],styles:['.ae-font.ae-picker{color:#444;display:inline-block;float:left;width:100%;position:relative;vertical-align:middle}.ae-font .ae-picker-label{cursor:pointer;display:inline-block;height:100%;padding-left:8px;padding-right:10px;position:relative;width:100%;line-height:26px;vertical-align:middle;font-size:85%;text-align:left;background-color:#fff;min-width:2rem;float:left;border:1px solid #ddd;text-overflow:clip;overflow:hidden;white-space:nowrap}.ae-font .ae-picker-label:before{content:"";position:absolute;right:0;top:0;width:20px;height:100%;background:-webkit-gradient(linear,left top,right top,from(white),to(#fff));background:linear-gradient(to right,#fff,#fff 100%)}.ae-font .ae-picker-label:focus{outline:0}.ae-font .ae-picker-label:hover{cursor:pointer;background-color:#f1f1f1;-webkit-transition:.2s;transition:.2s}.ae-font .ae-picker-label:hover:before{background:-webkit-gradient(linear,left top,right top,color-stop(100%,#f5f5f5),to(#fff));background:linear-gradient(to right,#f5f5f5 100%,#fff 100%)}.ae-font .ae-picker-label:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.ae-font .ae-picker-label:disabled:before{background:-webkit-gradient(linear,left top,right top,color-stop(100%,#f5f5f5),to(#fff));background:linear-gradient(to right,#f5f5f5 100%,#fff 100%)}.ae-font .ae-picker-label svg{position:absolute;margin-top:-9px;right:0;top:50%;width:18px}.ae-font .ae-picker-label svg:not(:root){overflow:hidden}.ae-font .ae-picker-label svg .ae-stroke{fill:none;stroke:#444;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ae-font .ae-picker-options{background-color:#fff;display:none;min-width:100%;position:absolute;white-space:nowrap;z-index:3;border:1px solid transparent;box-shadow:rgba(0,0,0,.2) 0 2px 8px}.ae-font .ae-picker-options .ae-picker-item{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px;padding-left:5px;z-index:3;text-align:left;background-color:transparent;min-width:2rem;width:100%;border:0 solid #ddd}.ae-font .ae-picker-options .ae-picker-item.selected{color:#06c;background-color:#fff4c2}.ae-font .ae-picker-options .ae-picker-item.focused,.ae-font .ae-picker-options .ae-picker-item:hover{background-color:#fffa98}.ae-font.ae-expanded{display:block;margin-top:-1px;z-index:1}.ae-font.ae-expanded .ae-picker-label,.ae-font.ae-expanded .ae-picker-label svg{color:#ccc;z-index:2}.ae-font.ae-expanded .ae-picker-label svg .ae-stroke{stroke:#ccc}.ae-font.ae-expanded .ae-picker-options{display:block;margin-top:-1px;top:100%;z-index:3;border-color:#ccc}'],encapsulation:2}),mc),Cc=((gc=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:gc}),gc.\u0275inj=i.Ib({factory:function(e){return new(e||gc)},imports:[[a.b,vs.k,vs.u]]}),gc),kc=n("ZOsW");function Oc(e){return Array.isArray(e)?e:[e]}function xc(e){return null==e?"":"string"==typeof e?e:e+"px"}var wc=n("XNiG"),Mc=n("HDdC"),Pc=(n("eNwd"),n("7Hc7"),n("quSY"));n("/uUt");var Ec=n("3UWI"),Sc=n("1G5W"),Rc=n("JX91");function Ic(){return function(e){return e.lift(new Tc)}}var Ac,Tc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Dc(e))}}]),e}(),Dc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).hasPrev=!1,i}return _createClass(n,[{key:"_next",value:function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}]),n}(ws.a),jc=n("eIep");n("3N8a"),n("IjjT"),n("WMd4"),n("9ppp"),n("Ylt2");try{Ac="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(uR){Ac=!1}var Fc,Qc,Lc,Nc=((Lc=function e(t){_classCallCheck(this,e),this._platformId=t,this.isBrowser=this._platformId?Object(a.B)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ac)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}).\u0275fac=function(e){return new(e||Lc)(i.Yb(i.B))},Lc.\u0275prov=Object(i.Hb)({factory:function(){return new Lc(Object(i.Yb)(i.B))},token:Lc,providedIn:"root"}),Lc),zc=((Qc=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:Qc}),Qc.\u0275inj=i.Ib({factory:function(e){return new(e||Qc)}}),Qc);var Vc,Bc,Uc,Hc,Kc,qc,$c,Wc=new i.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(i.U)(a.c)}}),Gc=((qc=function(){function e(t){if(_classCallCheck(this,e),this.value="ltr",this.change=new i.n,t){var n=t.documentElement?t.documentElement.dir:null,o=(t.body?t.body.dir:null)||n;this.value="ltr"===o||"rtl"===o?o:"ltr"}}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),e}()).\u0275fac=function(e){return new(e||qc)(i.Yb(Wc,8))},qc.\u0275prov=Object(i.Hb)({factory:function(){return new qc(Object(i.Yb)(Wc,8))},token:qc,providedIn:"root"}),qc),Yc=((Kc=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:Kc}),Kc.\u0275inj=i.Ib({factory:function(e){return new(e||Kc)}}),Kc),Xc=((Hc=function(){function e(t,n,i){_classCallCheck(this,e),this._ngZone=t,this._platform=n,this._scrolled=new wc.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}return _createClass(e,[{key:"register",value:function(e){var t=this;this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(function(){return t._scrolled.next(e)}))}},{key:"deregister",value:function(e){var t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}},{key:"scrolled",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new Mc.a(function(n){e._globalSubscription||e._addGlobalListener();var i=t>0?e._scrolled.pipe(Object(Ec.a)(t)).subscribe(n):e._scrolled.subscribe(n);return e._scrolledCount++,function(){i.unsubscribe(),e._scrolledCount--,e._scrolledCount||e._removeGlobalListener()}}):Object(ys.a)()}},{key:"ngOnDestroy",value:function(){var e=this;this._removeGlobalListener(),this.scrollContainers.forEach(function(t,n){return e.deregister(n)}),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(e,t){var n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(Object(xs.a)(function(e){return!e||n.indexOf(e)>-1}))}},{key:"getAncestorScrollContainers",value:function(e){var t=this,n=[];return this.scrollContainers.forEach(function(i,o){t._scrollableContainsElement(o,e)&&n.push(o)}),n}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_scrollableContainsElement",value:function(e,t){var n,o=(n=t)instanceof i.l?n.nativeElement:n,r=e.getElementRef().nativeElement;do{if(o==r)return!0}while(o=o.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var e=this;this._globalSubscription=this._ngZone.runOutsideAngular(function(){var t=e._getWindow();return Object(_s.a)(t.document,"scroll").subscribe(function(){return e._scrolled.next()})})}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),e}()).\u0275fac=function(e){return new(e||Hc)(i.Yb(i.z),i.Yb(Nc),i.Yb(a.c,8))},Hc.\u0275prov=Object(i.Hb)({factory:function(){return new Hc(Object(i.Yb)(i.z),Object(i.Yb)(Nc),Object(i.Yb)(a.c,8))},token:Hc,providedIn:"root"}),Hc),Zc=((Uc=function(){function e(t,n,i){var o=this;_classCallCheck(this,e),this._platform=t,this._change=new wc.a,this._changeListener=function(e){o._change.next(e)},this._document=i,n.runOutsideAngular(function(){if(t.isBrowser){var e=o._getWindow();e.addEventListener("resize",o._changeListener),e.addEventListener("orientationchange",o._changeListener)}o.change().subscribe(function(){return o._updateViewportSize()})})}return _createClass(e,[{key:"ngOnDestroy",value:function(){if(this._platform.isBrowser){var e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}},{key:"getViewportRect",value:function(){var e=this.getViewportScrollPosition(),t=this.getViewportSize(),n=t.width,i=t.height;return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+n,height:i,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var e=this._document,t=this._getWindow(),n=e.documentElement,i=n.getBoundingClientRect();return{top:-i.top||e.body.scrollTop||t.scrollY||n.scrollTop||0,left:-i.left||e.body.scrollLeft||t.scrollX||n.scrollLeft||0}}},{key:"change",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return e>0?this._change.pipe(Object(Ec.a)(e)):this._change}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_updateViewportSize",value:function(){var e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}]),e}()).\u0275fac=function(e){return new(e||Uc)(i.Yb(Nc),i.Yb(i.z),i.Yb(a.c,8))},Uc.\u0275prov=Object(i.Hb)({factory:function(){return new Uc(Object(i.Yb)(Nc),Object(i.Yb)(i.z),Object(i.Yb)(a.c,8))},token:Uc,providedIn:"root"}),Uc),Jc=((Bc=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:Bc}),Bc.\u0275inj=i.Ib({factory:function(e){return new(e||Bc)}}),Bc),el=((Vc=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:Vc}),Vc.\u0275inj=i.Ib({factory:function(e){return new(e||Vc)},imports:[[Yc,zc,Jc],Yc,Jc]}),Vc),tl=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"attach",value:function(e){return this._attachedHost=e,e.attach(this)}},{key:"detach",value:function(){var e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}},{key:"setAttachedHost",value:function(e){this._attachedHost=e}},{key:"isAttached",get:function(){return null!=this._attachedHost}}]),e}(),nl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,r){var a;return _classCallCheck(this,n),(a=t.call(this)).component=e,a.viewContainerRef=i,a.injector=o,a.componentFactoryResolver=r,a}return n}(tl),il=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o){var r;return _classCallCheck(this,n),(r=t.call(this)).templateRef=e,r.viewContainerRef=i,r.context=o,r}return _createClass(n,[{key:"attach",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.context;return this.context=t,_get(_getPrototypeOf(n.prototype),"attach",this).call(this,e)}},{key:"detach",value:function(){return this.context=void 0,_get(_getPrototypeOf(n.prototype),"detach",this).call(this)}},{key:"origin",get:function(){return this.templateRef.elementRef}}]),n}(tl),ol=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var o;return _classCallCheck(this,n),(o=t.call(this)).element=e instanceof i.l?e.nativeElement:e,o}return n}(tl),rl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,r,a){var s,c;return _classCallCheck(this,n),(c=t.call(this)).outletElement=e,c._componentFactoryResolver=i,c._appRef=o,c._defaultInjector=r,c.attachDomPortal=function(e){var t=e.element,i=c._document.createComment("dom-portal");t.parentNode.insertBefore(i,t),c.outletElement.appendChild(t),c._attachedPortal=e,_get((s=_assertThisInitialized(c),_getPrototypeOf(n.prototype)),"setDisposeFn",s).call(s,function(){i.parentNode&&i.parentNode.replaceChild(t,i)})},c._document=a,c}return _createClass(n,[{key:"attachComponentPortal",value:function(e){var t,n=this,i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);return e.viewContainerRef?(t=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(function(){return t.destroy()})):(t=i.create(e.injector||this._defaultInjector),this._appRef.attachView(t.hostView),this.setDisposeFn(function(){n._appRef.detachView(t.hostView),t.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}},{key:"attachTemplatePortal",value:function(e){var t=this,n=e.viewContainerRef,i=n.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(function(e){return t.outletElement.appendChild(e)}),i.detectChanges(),this.setDisposeFn(function(){var e=n.indexOf(i);-1!==e&&n.remove(e)}),this._attachedPortal=e,i}},{key:"dispose",value:function(){_get(_getPrototypeOf(n.prototype),"dispose",this).call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}},{key:"_getComponentRootNode",value:function(e){return e.hostView.rootNodes[0]}}]),n}(function(){function e(){_classCallCheck(this,e),this._isDisposed=!1,this.attachDomPortal=null}return _createClass(e,[{key:"hasAttached",value:function(){return!!this._attachedPortal}},{key:"attach",value:function(e){return e instanceof nl?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof il?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof ol?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}},{key:"detach",value:function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}},{key:"dispose",value:function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}},{key:"setDisposeFn",value:function(e){this._disposeFn=e}},{key:"_invokeDisposeFn",value:function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}]),e}()),al=(($c=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:$c}),$c.\u0275inj=i.Ib({factory:function(e){return new(e||$c)}}),$c),sl=n("VRyK"),cl=n("IzEk"),ll=function(){if(null==Fc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Fc=!1;if("scrollBehavior"in document.documentElement.style)Fc=!0;else{var e=Element.prototype.scrollTo;Fc=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return Fc}(),ul=function(){function e(t,n){_classCallCheck(this,e),this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}return _createClass(e,[{key:"attach",value:function(){}},{key:"enable",value:function(){if(this._canBeEnabled()){var e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=xc(-this._previousScrollPosition.left),e.style.top=xc(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}},{key:"disable",value:function(){if(this._isEnabled){var e=this._document.documentElement,t=e.style,n=this._document.body.style,i=t.scrollBehavior||"",o=n.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),ll&&(t.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ll&&(t.scrollBehavior=i,n.scrollBehavior=o)}}},{key:"_canBeEnabled",value:function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}}]),e}(),fl=function(){function e(t,n,i,o){var r=this;_classCallCheck(this,e),this._scrollDispatcher=t,this._ngZone=n,this._viewportRuler=i,this._config=o,this._scrollSubscription=null,this._detach=function(){r.disable(),r._overlayRef.hasAttached()&&r._ngZone.run(function(){return r._overlayRef.detach()})}}return _createClass(e,[{key:"attach",value:function(e){this._overlayRef=e}},{key:"enable",value:function(){var e=this;if(!this._scrollSubscription){var t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(function(){var t=e._viewportRuler.getViewportScrollPosition().top;Math.abs(t-e._initialScrollPosition)>e._config.threshold?e._detach():e._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),e}(),dl=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"attach",value:function(){}}]),e}();function hl(e,t){return t.some(function(t){return e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right})}function pl(e,t){return t.some(function(t){return e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right})}var bl,gl,ml,vl,yl,_l=function(){function e(t,n,i,o){_classCallCheck(this,e),this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=i,this._config=o,this._scrollSubscription=null}return _createClass(e,[{key:"attach",value:function(e){this._overlayRef=e}},{key:"enable",value:function(){var e=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(function(){if(e._overlayRef.updatePosition(),e._config&&e._config.autoClose){var t=e._overlayRef.overlayElement.getBoundingClientRect(),n=e._viewportRuler.getViewportSize(),i=n.width,o=n.height;hl(t,[{width:i,height:o,bottom:o,right:i,top:0,left:0}])&&(e.disable(),e._ngZone.run(function(){return e._overlayRef.detach()}))}}))}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),e}(),Cl=((bl=function e(t,n,i,o){var r=this;_classCallCheck(this,e),this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=i,this.noop=function(){return new dl},this.close=function(e){return new fl(r._scrollDispatcher,r._ngZone,r._viewportRuler,e)},this.block=function(){return new ul(r._viewportRuler,r._document)},this.reposition=function(e){return new _l(r._scrollDispatcher,r._viewportRuler,r._ngZone,e)},this._document=o}).\u0275fac=function(e){return new(e||bl)(i.Yb(Xc),i.Yb(Zc),i.Yb(i.z),i.Yb(a.c))},bl.\u0275prov=Object(i.Hb)({factory:function(){return new bl(Object(i.Yb)(Xc),Object(i.Yb)(Zc),Object(i.Yb)(i.z),Object(i.Yb)(a.c))},token:bl,providedIn:"root"}),bl),kl=function e(t){if(_classCallCheck(this,e),this.scrollStrategy=new dl,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t)for(var n=0,i=Object.keys(t);n<i.length;n++){var o=i[n];void 0!==t[o]&&(this[o]=t[o])}},Ol=function e(t,n,i,o,r){_classCallCheck(this,e),this.offsetX=i,this.offsetY=o,this.panelClass=r,this.originX=t.originX,this.originY=t.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY},xl=function e(t,n){_classCallCheck(this,e),this.connectionPair=t,this.scrollableViewProperties=n},wl=((vl=function(){function e(t){_classCallCheck(this,e),this._attachedOverlays=[],this._document=t}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.detach()}},{key:"add",value:function(e){this.remove(e),this._attachedOverlays.push(e)}},{key:"remove",value:function(e){var t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this.detach()}}]),e}()).\u0275fac=function(e){return new(e||vl)(i.Yb(a.c))},vl.\u0275prov=Object(i.Hb)({factory:function(){return new vl(Object(i.Yb)(a.c))},token:vl,providedIn:"root"}),vl),Ml=((ml=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e))._keydownListener=function(e){for(var t=i._attachedOverlays,n=t.length-1;n>-1;n--)if(t[n]._keydownEvents.observers.length>0){t[n]._keydownEvents.next(e);break}},i}return _createClass(n,[{key:"add",value:function(e){_get(_getPrototypeOf(n.prototype),"add",this).call(this,e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}},{key:"detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}]),n}(wl)).\u0275fac=function(e){return new(e||ml)(i.Yb(a.c))},ml.\u0275prov=Object(i.Hb)({factory:function(){return new ml(Object(i.Yb)(a.c))},token:ml,providedIn:"root"}),ml),Pl=((gl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this,e))._platform=i,o._cursorStyleIsSet=!1,o._clickListener=function(e){for(var t=e.composedPath?e.composedPath()[0]:e.target,n=o._attachedOverlays.slice(),i=n.length-1;i>-1;i--){var r=n[i];if(!(r._outsidePointerEvents.observers.length<1)&&r.hasAttached()){if(r.overlayElement.contains(t))break;r._outsidePointerEvents.next(e)}}},o}return _createClass(n,[{key:"add",value:function(e){if(_get(_getPrototypeOf(n.prototype),"add",this).call(this,e),!this._isAttached){var t=this._document.body;t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=t.style.cursor,t.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}},{key:"detach",value:function(){if(this._isAttached){var e=this._document.body;e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}]),n}(wl)).\u0275fac=function(e){return new(e||gl)(i.Yb(a.c),i.Yb(Nc))},gl.\u0275prov=Object(i.Hb)({factory:function(){return new gl(Object(i.Yb)(a.c),Object(i.Yb)(Nc))},token:gl,providedIn:"root"}),gl),El=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine),Sl=((yl=function(){function e(t,n){_classCallCheck(this,e),this._platform=n,this._document=t}return _createClass(e,[{key:"ngOnDestroy",value:function(){var e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){if(this._platform.isBrowser||El)for(var e=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]'),t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t]);var n=this._document.createElement("div");n.classList.add("cdk-overlay-container"),El?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}}]),e}()).\u0275fac=function(e){return new(e||yl)(i.Yb(a.c),i.Yb(Nc))},yl.\u0275prov=Object(i.Hb)({factory:function(){return new yl(Object(i.Yb)(a.c),Object(i.Yb)(Nc))},token:yl,providedIn:"root"}),yl),Rl=function(){function e(t,n,i,o,r,a,s,c,l){var u=this;_classCallCheck(this,e),this._portalOutlet=t,this._host=n,this._pane=i,this._config=o,this._ngZone=r,this._keyboardDispatcher=a,this._document=s,this._location=c,this._outsideClickDispatcher=l,this._backdropElement=null,this._backdropClick=new wc.a,this._attachments=new wc.a,this._detachments=new wc.a,this._locationChanges=Pc.a.EMPTY,this._backdropClickHandler=function(e){return u._backdropClick.next(e)},this._keydownEvents=new wc.a,this._outsidePointerEvents=new wc.a,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}return _createClass(e,[{key:"attach",value:function(e){var t=this,n=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Object(cl.a)(1)).subscribe(function(){t.hasAttached()&&t.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(function(){return t.dispose()})),this._outsideClickDispatcher.add(this),n}},{key:"detach",value:function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();var e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}}},{key:"dispose",value:function(){var e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}},{key:"hasAttached",value:function(){return this._portalOutlet.hasAttached()}},{key:"backdropClick",value:function(){return this._backdropClick}},{key:"attachments",value:function(){return this._attachments}},{key:"detachments",value:function(){return this._detachments}},{key:"keydownEvents",value:function(){return this._keydownEvents}},{key:"outsidePointerEvents",value:function(){return this._outsidePointerEvents}},{key:"getConfig",value:function(){return this._config}},{key:"updatePosition",value:function(){this._positionStrategy&&this._positionStrategy.apply()}},{key:"updatePositionStrategy",value:function(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}},{key:"updateSize",value:function(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}},{key:"setDirection",value:function(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}},{key:"addPanelClass",value:function(e){this._pane&&this._toggleClasses(this._pane,e,!0)}},{key:"removePanelClass",value:function(e){this._pane&&this._toggleClasses(this._pane,e,!1)}},{key:"getDirection",value:function(){var e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}},{key:"updateScrollStrategy",value:function(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}},{key:"_updateElementDirection",value:function(){this._host.setAttribute("dir",this.getDirection())}},{key:"_updateElementSize",value:function(){if(this._pane){var e=this._pane.style;e.width=xc(this._config.width),e.height=xc(this._config.height),e.minWidth=xc(this._config.minWidth),e.minHeight=xc(this._config.minHeight),e.maxWidth=xc(this._config.maxWidth),e.maxHeight=xc(this._config.maxHeight)}}},{key:"_togglePointerEvents",value:function(e){this._pane.style.pointerEvents=e?"":"none"}},{key:"_attachBackdrop",value:function(){var e=this;this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(function(){requestAnimationFrame(function(){e._backdropElement&&e._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}},{key:"_updateStackingOrder",value:function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}},{key:"detachBackdrop",value:function(){var e,t=this,n=this._backdropElement;if(n){var i=function i(){n&&(n.removeEventListener("click",t._backdropClickHandler),n.removeEventListener("transitionend",i),n.parentNode&&n.parentNode.removeChild(n)),t._backdropElement==n&&(t._backdropElement=null),t._config.backdropClass&&t._toggleClasses(n,t._config.backdropClass,!1),clearTimeout(e)};n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(function(){n.addEventListener("transitionend",i)}),n.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(function(){return setTimeout(i,500)})}}},{key:"_toggleClasses",value:function(e,t,n){var i=e.classList;Oc(t).forEach(function(e){e&&(n?i.add(e):i.remove(e))})}},{key:"_detachContentWhenStable",value:function(){var e=this;this._ngZone.runOutsideAngular(function(){var t=e._ngZone.onStable.pipe(Object(Sc.a)(Object(sl.a)(e._attachments,e._detachments))).subscribe(function(){e._pane&&e._host&&0!==e._pane.children.length||(e._pane&&e._config.panelClass&&e._toggleClasses(e._pane,e._config.panelClass,!1),e._host&&e._host.parentElement&&(e._previousHostParent=e._host.parentElement,e._previousHostParent.removeChild(e._host)),t.unsubscribe())})})}},{key:"_disposeScrollStrategy",value:function(){var e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}},{key:"overlayElement",get:function(){return this._pane}},{key:"backdropElement",get:function(){return this._backdropElement}},{key:"hostElement",get:function(){return this._host}}]),e}(),Il=/([A-Za-z%]+)$/,Al=function(){function e(t,n,i,o,r){_classCallCheck(this,e),this._viewportRuler=n,this._document=i,this._platform=o,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new wc.a,this._resizeSubscription=Pc.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}return _createClass(e,[{key:"attach",value:function(e){var t=this;this._validatePositions(),e.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(function(){t._isInitialRender=!0,t.apply()})}},{key:"apply",value:function(){if(!this._isDisposed&&this._platform.isBrowser)if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();var e,t,n=this._originRect,i=this._overlayRect,o=this._viewportRect,r=[],a=_createForOfIteratorHelper(this._preferredPositions);try{for(a.s();!(t=a.n()).done;){var s=t.value,c=this._getOriginPoint(n,s),l=this._getOverlayPoint(c,i,s),u=this._getOverlayFit(l,i,o,s);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,c);this._canFitWithFlexibleDimensions(u,l,o)?r.push({position:s,origin:c,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(c,s)}):(!e||e.overlayFit.visibleArea<u.visibleArea)&&(e={overlayFit:u,overlayPoint:l,originPoint:c,position:s,overlayRect:i})}}catch(m){a.e(m)}finally{a.f()}if(r.length){var f,d=null,h=-1,p=_createForOfIteratorHelper(r);try{for(p.s();!(f=p.n()).done;){var b=f.value,g=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);g>h&&(h=g,d=b)}}catch(m){p.e(m)}finally{p.f()}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(e.position,e.originPoint);this._applyPosition(e.position,e.originPoint)}}},{key:"detach",value:function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}},{key:"dispose",value:function(){this._isDisposed||(this._boundingBox&&Tl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}},{key:"reapplyLastPosition",value:function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}},{key:"withScrollableContainers",value:function(e){return this._scrollables=e,this}},{key:"withPositions",value:function(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}},{key:"withViewportMargin",value:function(e){return this._viewportMargin=e,this}},{key:"withFlexibleDimensions",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hasFlexibleDimensions=e,this}},{key:"withGrowAfterOpen",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._growAfterOpen=e,this}},{key:"withPush",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._canPush=e,this}},{key:"withLockedPosition",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._positionLocked=e,this}},{key:"setOrigin",value:function(e){return this._origin=e,this}},{key:"withDefaultOffsetX",value:function(e){return this._offsetX=e,this}},{key:"withDefaultOffsetY",value:function(e){return this._offsetY=e,this}},{key:"withTransformOriginOn",value:function(e){return this._transformOriginSelector=e,this}},{key:"_getOriginPoint",value:function(e,t){var n;if("center"==t.originX)n=e.left+e.width/2;else{var i=this._isRtl()?e.right:e.left,o=this._isRtl()?e.left:e.right;n="start"==t.originX?i:o}return{x:n,y:"center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom}}},{key:"_getOverlayPoint",value:function(e,t,n){var i,o;return i="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height,{x:e.x+i,y:e.y+o}}},{key:"_getOverlayFit",value:function(e,t,n,i){var o=jl(t),r=e.x,a=e.y,s=this._getOffset(i,"x"),c=this._getOffset(i,"y");s&&(r+=s),c&&(a+=c);var l=0-a,u=a+o.height-n.height,f=this._subtractOverflows(o.width,0-r,r+o.width-n.width),d=this._subtractOverflows(o.height,l,u),h=f*d;return{visibleArea:h,isCompletelyWithinViewport:o.width*o.height===h,fitsInViewportVertically:d===o.height,fitsInViewportHorizontally:f==o.width}}},{key:"_canFitWithFlexibleDimensions",value:function(e,t,n){if(this._hasFlexibleDimensions){var i=n.bottom-t.y,o=n.right-t.x,r=Dl(this._overlayRef.getConfig().minHeight),a=Dl(this._overlayRef.getConfig().minWidth),s=e.fitsInViewportHorizontally||null!=a&&a<=o;return(e.fitsInViewportVertically||null!=r&&r<=i)&&s}return!1}},{key:"_pushOverlayOnScreen",value:function(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};var i,o,r=jl(t),a=this._viewportRect,s=Math.max(e.x+r.width-a.width,0),c=Math.max(e.y+r.height-a.height,0),l=Math.max(a.top-n.top-e.y,0),u=Math.max(a.left-n.left-e.x,0);return i=r.width<=a.width?u||-s:e.x<this._viewportMargin?a.left-n.left-e.x:0,o=r.height<=a.height?l||-c:e.y<this._viewportMargin?a.top-n.top-e.y:0,this._previousPushAmount={x:i,y:o},{x:e.x+i,y:e.y+o}}},{key:"_applyPosition",value:function(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){var n=this._getScrollVisibility(),i=new xl(e,n);this._positionChanges.next(i)}this._isInitialRender=!1}},{key:"_setTransformOrigin",value:function(e){if(this._transformOriginSelector){var t,n=this._boundingBox.querySelectorAll(this._transformOriginSelector),i=e.overlayY;t="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(var o=0;o<n.length;o++)n[o].style.transformOrigin="".concat(t," ").concat(i)}}},{key:"_calculateBoundingBoxRect",value:function(e,t){var n,i,o,r,a,s,c=this._viewportRect,l=this._isRtl();if("top"===t.overlayY)i=e.y,n=c.height-i+this._viewportMargin;else if("bottom"===t.overlayY)o=c.height-e.y+2*this._viewportMargin,n=c.height-o+this._viewportMargin;else{var u=Math.min(c.bottom-e.y+c.top,e.y),f=this._lastBoundingBoxSize.height;n=2*u,i=e.y-u,n>f&&!this._isInitialRender&&!this._growAfterOpen&&(i=e.y-f/2)}if("end"===t.overlayX&&!l||"start"===t.overlayX&&l)s=c.width-e.x+this._viewportMargin,r=e.x-this._viewportMargin;else if("start"===t.overlayX&&!l||"end"===t.overlayX&&l)a=e.x,r=c.right-e.x;else{var d=Math.min(c.right-e.x+c.left,e.x),h=this._lastBoundingBoxSize.width;r=2*d,a=e.x-d,r>h&&!this._isInitialRender&&!this._growAfterOpen&&(a=e.x-h/2)}return{top:i,left:a,bottom:o,right:s,width:r,height:n}}},{key:"_setBoundingBoxStyles",value:function(e,t){var n=this._calculateBoundingBoxRect(e,t);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));var i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{var o=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;i.height=xc(n.height),i.top=xc(n.top),i.bottom=xc(n.bottom),i.width=xc(n.width),i.left=xc(n.left),i.right=xc(n.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=xc(o)),r&&(i.maxWidth=xc(r))}this._lastBoundingBoxSize=n,Tl(this._boundingBox.style,i)}},{key:"_resetBoundingBoxStyles",value:function(){Tl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}},{key:"_resetOverlayElementStyles",value:function(){Tl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}},{key:"_setOverlayElementStyles",value:function(e,t){var n={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,r=this._overlayRef.getConfig();if(i){var a=this._viewportRuler.getViewportScrollPosition();Tl(n,this._getExactOverlayY(t,e,a)),Tl(n,this._getExactOverlayX(t,e,a))}else n.position="static";var s="",c=this._getOffset(t,"x"),l=this._getOffset(t,"y");c&&(s+="translateX(".concat(c,"px) ")),l&&(s+="translateY(".concat(l,"px)")),n.transform=s.trim(),r.maxHeight&&(i?n.maxHeight=xc(r.maxHeight):o&&(n.maxHeight="")),r.maxWidth&&(i?n.maxWidth=xc(r.maxWidth):o&&(n.maxWidth="")),Tl(this._pane.style,n)}},{key:"_getExactOverlayY",value:function(e,t,n){var i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n));var r=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return o.y-=r,"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=xc(o.y),i}},{key:"_getExactOverlayX",value:function(e,t,n){var i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),"right"===(this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left")?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=xc(o.x),i}},{key:"_getScrollVisibility",value:function(){var e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(function(e){return e.getElementRef().nativeElement.getBoundingClientRect()});return{isOriginClipped:pl(e,n),isOriginOutsideView:hl(e,n),isOverlayClipped:pl(t,n),isOverlayOutsideView:hl(t,n)}}},{key:"_subtractOverflows",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.reduce(function(e,t){return e-Math.max(t,0)},e)}},{key:"_getNarrowedViewportRect",value:function(){var e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}},{key:"_isRtl",value:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"_hasExactPosition",value:function(){return!this._hasFlexibleDimensions||this._isPushed}},{key:"_getOffset",value:function(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}},{key:"_validatePositions",value:function(){}},{key:"_addPanelClasses",value:function(e){var t=this;this._pane&&Oc(e).forEach(function(e){""!==e&&-1===t._appliedPanelClasses.indexOf(e)&&(t._appliedPanelClasses.push(e),t._pane.classList.add(e))})}},{key:"_clearPanelClasses",value:function(){var e=this;this._pane&&(this._appliedPanelClasses.forEach(function(t){e._pane.classList.remove(t)}),this._appliedPanelClasses=[])}},{key:"_getOriginRect",value:function(){var e=this._origin;if(e instanceof i.l)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();var t=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+t,height:n,width:t}}},{key:"positions",get:function(){return this._preferredPositions}}]),e}();function Tl(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Dl(e){if("number"!=typeof e&&null!=e){var t=_slicedToArray(e.split(Il),2),n=t[0],i=t[1];return i&&"px"!==i?null:parseFloat(n)}return e||null}function jl(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}var Fl,Ql,Ll,Nl,zl=function(){function e(t,n,i,o,r,a,s){_classCallCheck(this,e),this._preferredPositions=[],this._positionStrategy=new Al(i,o,r,a,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,n),this.onPositionChange=this._positionStrategy.positionChanges}return _createClass(e,[{key:"attach",value:function(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}},{key:"dispose",value:function(){this._positionStrategy.dispose()}},{key:"detach",value:function(){this._positionStrategy.detach()}},{key:"apply",value:function(){this._positionStrategy.apply()}},{key:"recalculateLastPosition",value:function(){this._positionStrategy.reapplyLastPosition()}},{key:"withScrollableContainers",value:function(e){this._positionStrategy.withScrollableContainers(e)}},{key:"withFallbackPosition",value:function(e,t,n,i){var o=new Ol(e,t,n,i);return this._preferredPositions.push(o),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"withDirection",value:function(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}},{key:"withOffsetX",value:function(e){return this._positionStrategy.withDefaultOffsetX(e),this}},{key:"withOffsetY",value:function(e){return this._positionStrategy.withDefaultOffsetY(e),this}},{key:"withLockedPosition",value:function(e){return this._positionStrategy.withLockedPosition(e),this}},{key:"withPositions",value:function(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"setOrigin",value:function(e){return this._positionStrategy.setOrigin(e),this}},{key:"positions",get:function(){return this._preferredPositions}}]),e}(),Vl=function(){function e(){_classCallCheck(this,e),this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return _createClass(e,[{key:"attach",value:function(e){var t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}},{key:"top",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}},{key:"left",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}},{key:"bottom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}},{key:"right",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}},{key:"width",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}},{key:"height",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}},{key:"centerHorizontally",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.left(e),this._justifyContent="center",this}},{key:"centerVertically",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.top(e),this._alignItems="center",this}},{key:"apply",value:function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),i=n.width,o=n.height,r=n.maxWidth,a=n.maxHeight,s=!("100%"!==i&&"100vw"!==i||r&&"100%"!==r&&"100vw"!==r),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a);e.position=this._cssPosition,e.marginLeft=s?"0":this._leftOffset,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,s?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=c?"flex-start":this._alignItems}}},{key:"dispose",value:function(){if(!this._isDisposed&&this._overlayRef){var e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}}]),e}(),Bl=((Ql=function(){function e(t,n,i,o){_classCallCheck(this,e),this._viewportRuler=t,this._document=n,this._platform=i,this._overlayContainer=o}return _createClass(e,[{key:"global",value:function(){return new Vl}},{key:"connectedTo",value:function(e,t,n){return new zl(t,n,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}},{key:"flexibleConnectedTo",value:function(e){return new Al(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}]),e}()).\u0275fac=function(e){return new(e||Ql)(i.Yb(Zc),i.Yb(a.c),i.Yb(Nc),i.Yb(Sl))},Ql.\u0275prov=Object(i.Hb)({factory:function(){return new Ql(Object(i.Yb)(Zc),Object(i.Yb)(a.c),Object(i.Yb)(Nc),Object(i.Yb)(Sl))},token:Ql,providedIn:"root"}),Ql),Ul=0,Hl=((Fl=function(){function e(t,n,i,o,r,a,s,c,l,u,f){_classCallCheck(this,e),this.scrollStrategies=t,this._overlayContainer=n,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=r,this._injector=a,this._ngZone=s,this._document=c,this._directionality=l,this._location=u,this._outsideClickDispatcher=f}return _createClass(e,[{key:"create",value:function(e){var t=this._createHostElement(),n=this._createPaneElement(t),i=this._createPortalOutlet(n),o=new kl(e);return o.direction=o.direction||this._directionality.value,new Rl(i,t,n,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}},{key:"position",value:function(){return this._positionBuilder}},{key:"_createPaneElement",value:function(e){var t=this._document.createElement("div");return t.id="cdk-overlay-"+Ul++,t.classList.add("cdk-overlay-pane"),e.appendChild(t),t}},{key:"_createHostElement",value:function(){var e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}},{key:"_createPortalOutlet",value:function(e){return this._appRef||(this._appRef=this._injector.get(i.g)),new rl(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}]),e}()).\u0275fac=function(e){return new(e||Fl)(i.Yb(Cl),i.Yb(Sl),i.Yb(i.j),i.Yb(Bl),i.Yb(Ml),i.Yb(i.r),i.Yb(i.z),i.Yb(a.c),i.Yb(Gc),i.Yb(a.j),i.Yb(Pl))},Fl.\u0275prov=i.Hb({token:Fl,factory:Fl.\u0275fac}),Fl),Kl={provide:new i.q("cdk-connected-overlay-scroll-strategy"),deps:[Hl],useFactory:function(e){return function(){return e.scrollStrategies.reposition()}}},ql=((Nl=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:Nl}),Nl.\u0275inj=i.Ib({factory:function(e){return new(e||Nl)},providers:[Hl,Kl],imports:[[Yc,al,el],el]}),Nl),$l=((Ll=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){return _classCallCheck(this,n),t.call(this,e,i)}return _createClass(n,[{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this),this._fullScreenEventName&&this._fullScreenListener&&this._document.removeEventListener(this._fullScreenEventName,this._fullScreenListener)}},{key:"_createContainer",value:function(){var e=this;_get(_getPrototypeOf(n.prototype),"_createContainer",this).call(this),this._adjustParentForFullscreenChange(),this._addFullscreenChangeListener(function(){return e._adjustParentForFullscreenChange()})}},{key:"_adjustParentForFullscreenChange",value:function(){this._containerElement&&(this.getFullscreenElement()||this._document.body).appendChild(this._containerElement)}},{key:"_addFullscreenChangeListener",value:function(e){var t=this._getEventName();t&&(this._fullScreenListener&&this._document.removeEventListener(t,this._fullScreenListener),this._document.addEventListener(t,e),this._fullScreenListener=e)}},{key:"_getEventName",value:function(){if(!this._fullScreenEventName){var e=this._document;e.fullscreenEnabled?this._fullScreenEventName="fullscreenchange":e.webkitFullscreenEnabled?this._fullScreenEventName="webkitfullscreenchange":e.mozFullScreenEnabled?this._fullScreenEventName="mozfullscreenchange":e.msFullscreenEnabled&&(this._fullScreenEventName="MSFullscreenChange")}return this._fullScreenEventName}},{key:"getFullscreenElement",value:function(){var e=this._document;return e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||null}}]),n}(Sl)).\u0275fac=function(e){return new(e||Ll)(i.Yb(a.c),i.Yb(Nc))},Ll.\u0275prov=Object(i.Hb)({factory:function(){return new Ll(Object(i.Yb)(a.c),Object(i.Yb)(Nc))},token:Ll,providedIn:"root"}),Ll),Wl=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}();function Gl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new Yl(e))}}var Yl=function(){function e(t){_classCallCheck(this,e),this.defaultValue=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Xl(e,this.defaultValue))}}]),e}(),Xl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).defaultValue=i,o.isEmpty=!0,o}return _createClass(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(ws.a);function Zl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tu;return function(t){return t.lift(new Jl(e))}}var Jl=function(){function e(t){_classCallCheck(this,e),this.errorFactory=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new eu(e,this.errorFactory))}}]),e}(),eu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).errorFactory=i,o.hasValue=!1,o}return _createClass(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}]),n}(ws.a);function tu(){return new Wl}var nu=n("SpAZ");function iu(e,t){var n=arguments.length>=2;return function(i){return i.pipe(e?Object(xs.a)(function(t,n){return e(t,n,i)}):nu.a,Object(cl.a)(1),n?Gl(t):Zl(function(){return new Wl}))}}var ou=n("Kj3r"),ru=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"setActiveItem",value:function(e){this.activeItem&&this.activeItem.setInactiveStyles(),_get(_getPrototypeOf(n.prototype),"setActiveItem",this).call(this,e),this.activeItem&&this.activeItem.setActiveStyles()}}]),n}(function(){function e(t){var n=this;_classCallCheck(this,e),this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new wc.a,this._typeaheadSubscription=Pc.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=function(e){return e.disabled},this._pressedLetters=[],this.tabOut=new wc.a,this.change=new wc.a,t instanceof i.D&&t.changes.subscribe(function(e){if(n._activeItem){var t=e.toArray().indexOf(n._activeItem);t>-1&&t!==n._activeItemIndex&&(n._activeItemIndex=t)}})}return _createClass(e,[{key:"skipPredicate",value:function(e){return this._skipPredicateFn=e,this}},{key:"withWrap",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._wrap=e,this}},{key:"withVerticalOrientation",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._vertical=e,this}},{key:"withHorizontalOrientation",value:function(e){return this._horizontal=e,this}},{key:"withAllowedModifierKeys",value:function(e){return this._allowedModifierKeys=e,this}},{key:"withTypeAhead",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(Os.a)(function(t){return e._pressedLetters.push(t)}),Object(ou.a)(t),Object(xs.a)(function(){return e._pressedLetters.length>0}),Object(ks.a)(function(){return e._pressedLetters.join("")})).subscribe(function(t){for(var n=e._getItemsArray(),i=1;i<n.length+1;i++){var o=(e._activeItemIndex+i)%n.length,r=n[o];if(!e._skipPredicateFn(r)&&0===r.getLabel().toUpperCase().trim().indexOf(t)){e.setActiveItem(o);break}}e._pressedLetters=[]}),this}},{key:"withHomeAndEnd",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._homeAndEnd=e,this}},{key:"setActiveItem",value:function(e){var t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}},{key:"onKeydown",value:function(e){var t=this,n=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(function(n){return!e[n]||t._allowedModifierKeys.indexOf(n)>-1});switch(n){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.length?n.some(function(t){return e[t]}):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))))}this._pressedLetters=[],e.preventDefault()}},{key:"isTyping",value:function(){return this._pressedLetters.length>0}},{key:"setFirstItemActive",value:function(){this._setActiveItemByIndex(0,1)}},{key:"setLastItemActive",value:function(){this._setActiveItemByIndex(this._items.length-1,-1)}},{key:"setNextItemActive",value:function(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}},{key:"setPreviousItemActive",value:function(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}},{key:"updateActiveItem",value:function(e){var t=this._getItemsArray(),n="number"==typeof e?e:t.indexOf(e),i=t[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}},{key:"_setActiveItemByDelta",value:function(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}},{key:"_setActiveInWrapMode",value:function(e){for(var t=this._getItemsArray(),n=1;n<=t.length;n++){var i=(this._activeItemIndex+e*n+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}},{key:"_setActiveInDefaultMode",value:function(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}},{key:"_setActiveItemByIndex",value:function(e,t){var n=this._getItemsArray();if(n[e]){for(;this._skipPredicateFn(n[e]);)if(!n[e+=t])return;this.setActiveItem(e)}}},{key:"_getItemsArray",value:function(){return this._items instanceof i.D?this._items.toArray():this._items}},{key:"activeItemIndex",get:function(){return this._activeItemIndex}},{key:"activeItem",get:function(){return this._activeItem}}]),e}());"undefined"!=typeof Element&&Element;var au=["menu"],su=["li"];function cu(e,t){}var lu=function(e){return{$implicit:e}};function uu(e,t){if(1&e){var n=i.Sb();i.Rb(0,"a",7),i.bc("click",function(e){i.zc(n);var t=i.fc().$implicit;return i.fc().onMenuItemSelect(t,e)})("mouseenter",function(e){i.zc(n);var t=i.fc().$implicit;return i.fc().onOpenSubMenu(t,e)}),i.Ic(1,cu,0,0,"ng-template",8),i.Qb()}if(2&e){var o=i.fc().$implicit,r=i.fc();i.Db("dropdown-item",r.useBootstrap4)("active",o.isActive&&r.isMenuItemEnabled(o))("disabled",r.useBootstrap4&&!r.isMenuItemEnabled(o))("hasSubMenu",!!o.subMenu),i.yb(1),i.mc("ngTemplateOutlet",o.template)("ngTemplateOutletContext",i.qc(10,lu,r.item))}}function fu(e,t){}function du(e,t){if(1&e){var n=i.Sb();i.Rb(0,"span",9),i.bc("click",function(e){return i.zc(n),i.fc(2).stopEvent(e)})("contextmenu",function(e){return i.zc(n),i.fc(2).stopEvent(e)}),i.Ic(1,fu,0,0,"ng-template",8),i.Qb()}if(2&e){var o=i.fc().$implicit,r=i.fc();i.Db("dropdown-item",r.useBootstrap4)("disabled",r.useBootstrap4&&!r.isMenuItemEnabled(o)),i.yb(1),i.mc("ngTemplateOutlet",o.template)("ngTemplateOutletContext",i.qc(6,lu,r.item))}}function hu(e,t){if(1&e&&(i.Rb(0,"li",null,4),i.Ic(2,uu,2,12,"a",5),i.Ic(3,du,2,8,"span",6),i.Qb()),2&e){var n=t.$implicit,o=i.fc();i.Db("disabled",!o.isMenuItemEnabled(n))("divider",n.divider)("dropdown-divider",o.useBootstrap4&&n.divider)("active",n.isActive&&o.isMenuItemEnabled(n)),i.zb("role",n.divider?"separator":void 0),i.yb(2),i.mc("ngIf",!n.divider&&!n.passive),i.yb(1),i.mc("ngIf",!n.divider&&n.passive)}}var pu,bu,gu,mu,vu,yu,_u=((pu=function(){function e(t,n){_classCallCheck(this,e),this.template=t,this.elementRef=n,this.divider=!1,this.enabled=!0,this.passive=!1,this.visible=!0,this.execute=new i.n,this.isActive=!1}return _createClass(e,[{key:"evaluateIfFunction",value:function(e,t){return e instanceof Function?e(t):e}},{key:"setActiveStyles",value:function(){this.isActive=!0}},{key:"setInactiveStyles",value:function(){this.isActive=!1}},{key:"triggerExecute",value:function(e,t){this.evaluateIfFunction(this.enabled,e)&&this.execute.emit({event:t,item:e})}},{key:"disabled",get:function(){return this.passive||this.divider||!this.evaluateIfFunction(this.enabled,this.currentItem)}}]),e}()).\u0275fac=function(e){return new(e||pu)(i.Lb(i.L),i.Lb(i.l))},pu.\u0275dir=i.Gb({type:pu,selectors:[["","contextMenuItem",""]],inputs:{divider:"divider",enabled:"enabled",passive:"passive",visible:"visible",subMenu:"subMenu"},outputs:{execute:"execute"}}),pu),Cu=new i.q("CONTEXT_MENU_OPTIONS"),ku=((yu=function(){function e(t,n,o){_classCallCheck(this,e),this.changeDetector=t,this.elementRef=n,this.options=o,this.menuItems=[],this.isLeaf=!1,this.execute=new i.n,this.openSubMenu=new i.n,this.closeLeafMenu=new i.n,this.closeAllMenus=new i.n,this.autoFocus=!1,this.useBootstrap4=!1,this.subscription=new Pc.a,o&&(this.autoFocus=o.autoFocus,this.useBootstrap4=o.useBootstrap4)}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.menuItems.forEach(function(t){t.currentItem=e.item,e.subscription.add(t.execute.subscribe(function(n){return e.execute.emit(Object.assign(Object.assign({},n),{menuItem:t}))}))});var t=new i.D;t.reset(this.menuItems),this._keyManager=new ru(t).withWrap()}},{key:"ngAfterViewInit",value:function(){var e=this;this.autoFocus&&setTimeout(function(){return e.focus()}),this.overlay.updatePosition()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"focus",value:function(){this.autoFocus&&this.menuElement.nativeElement.focus()}},{key:"stopEvent",value:function(e){e.stopPropagation()}},{key:"isMenuItemEnabled",value:function(e){return this.evaluateIfFunction(e&&e.enabled)}},{key:"isMenuItemVisible",value:function(e){return this.evaluateIfFunction(e&&e.visible)}},{key:"evaluateIfFunction",value:function(e){return e instanceof Function?e(this.item):e}},{key:"isDisabled",value:function(e){return e.enabled&&!e.enabled(this.item)}},{key:"onKeyEvent",value:function(e){this.isLeaf&&this._keyManager.onKeydown(e)}},{key:"keyboardOpenSubMenu",value:function(e){if(this.isLeaf){this.cancelEvent(e);var t=this.menuItems[this._keyManager.activeItemIndex];t&&this.onOpenSubMenu(t)}}},{key:"keyboardMenuItemSelect",value:function(e){if(this.isLeaf){this.cancelEvent(e);var t=this.menuItems[this._keyManager.activeItemIndex];t&&this.onMenuItemSelect(t,e)}}},{key:"onCloseLeafMenu",value:function(e){this.isLeaf&&(this.cancelEvent(e),this.closeLeafMenu.emit({exceptRootMenu:37===e.keyCode,event:e}))}},{key:"closeMenu",value:function(e){"click"===e.type&&2===e.button||this.closeAllMenus.emit({event:e})}},{key:"onOpenSubMenu",value:function(e,t){var n=this.menuItemElements.toArray()[this._keyManager.activeItemIndex];this.openSubMenu.emit({anchorElement:n&&n.nativeElement,contextMenu:e.subMenu,event:t,item:this.item,parentContextMenu:this})}},{key:"onMenuItemSelect",value:function(e,t){t.preventDefault(),t.stopPropagation(),this.onOpenSubMenu(e,t),e.subMenu||e.triggerExecute(this.item,t)}},{key:"cancelEvent",value:function(e){if(e){var t=e.target;["INPUT","TEXTAREA","SELECT"].indexOf(t.tagName)>-1||t.isContentEditable||(e.preventDefault(),e.stopPropagation())}}}]),e}()).\u0275fac=function(e){return new(e||yu)(i.Lb(i.h),i.Lb(i.l),i.Lb(Cu,8))},yu.\u0275cmp=i.Fb({type:yu,selectors:[["context-menu-content"]],viewQuery:function(e,t){var n;1&e&&(i.Fc(au,!0),i.Pc(su,!0)),2&e&&(i.uc(n=i.cc())&&(t.menuElement=n.first),i.uc(n=i.cc())&&(t.menuItemElements=n))},hostBindings:function(e,t){1&e&&i.bc("keydown.ArrowDown",function(e){return t.onKeyEvent(e)},!1,i.yc)("keydown.ArrowUp",function(e){return t.onKeyEvent(e)},!1,i.yc)("keydown.ArrowRight",function(e){return t.keyboardOpenSubMenu(e)},!1,i.yc)("keydown.Enter",function(e){return t.keyboardMenuItemSelect(e)},!1,i.yc)("keydown.Space",function(e){return t.keyboardMenuItemSelect(e)},!1,i.yc)("keydown.Escape",function(e){return t.onCloseLeafMenu(e)},!1,i.yc)("keydown.ArrowLeft",function(e){return t.onCloseLeafMenu(e)},!1,i.yc)("click",function(e){return t.closeMenu(e)},!1,i.xc)("contextmenu",function(e){return t.closeMenu(e)},!1,i.xc)},inputs:{menuItems:"menuItems",isLeaf:"isLeaf",item:"item",event:"event",parentContextMenu:"parentContextMenu",menuClass:"menuClass",overlay:"overlay"},outputs:{execute:"execute",openSubMenu:"openSubMenu",closeLeafMenu:"closeLeafMenu",closeAllMenus:"closeAllMenus"},decls:4,vars:2,consts:[["tabindex","0",1,"dropdown","open","show","ngx-contextmenu",3,"ngClass"],["tabindex","0",1,"dropdown-menu","show",2,"position","static","float","none"],["menu",""],[3,"disabled","divider","dropdown-divider","active",4,"ngFor","ngForOf"],["li",""],["href","",3,"dropdown-item","active","disabled","hasSubMenu","click","mouseenter",4,"ngIf"],["class","passive",3,"dropdown-item","disabled","click","contextmenu",4,"ngIf"],["href","",3,"click","mouseenter"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"passive",3,"click","contextmenu"]],template:function(e,t){1&e&&(i.Rb(0,"div",0),i.Rb(1,"ul",1,2),i.Ic(3,hu,4,11,"li",3),i.Qb(),i.Qb()),2&e&&(i.mc("ngClass",t.menuClass),i.yb(3),i.mc("ngForOf",t.menuItems))},directives:[a.l,a.m,a.n,a.p],styles:[".passive[_ngcontent-%COMP%] {\n        display: block;\n        padding: 3px 20px;\n        clear: both;\n        font-weight: normal;\n        line-height: @line-height-base;\n        white-space: nowrap;\n      }\n      .hasSubMenu[_ngcontent-%COMP%]:before {\n        content: '\u25b6';\n        float: right;\n      }"]}),yu),Ou=((vu=function(){function e(t,n){_classCallCheck(this,e),this.overlay=t,this.scrollStrategy=n,this.isDestroyingLeafMenu=!1,this.show=new wc.a,this.triggerClose=new wc.a,this.close=new wc.a,this.overlays=[],this.fakeElement={getBoundingClientRect:function(){return{bottom:0,height:0,left:0,right:0,top:0,width:0}}}}return _createClass(e,[{key:"openContextMenu",value:function(e){var t=e.anchorElement,n=e.event,o=e.parentContextMenu;if(o){var r=this.overlay.position().connectedTo(new i.l(n?n.target:t),{originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}).withFallbackPosition({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}).withFallbackPosition({originX:"end",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}).withFallbackPosition({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"}),a=this.overlay.create({positionStrategy:r,panelClass:"ngx-contextmenu",scrollStrategy:this.scrollStrategy.close()});this.destroySubMenus(o),this.overlays=this.overlays.concat(a),this.attachContextMenu(a,e)}else{var s=n;this.fakeElement.getBoundingClientRect=function(){return{bottom:s.clientY,height:0,left:s.clientX,right:s.clientX,top:s.clientY,width:0}},this.closeAllContextMenus({eventType:"cancel",event:n});var c=this.overlay.position().connectedTo(new i.l(t||this.fakeElement),{originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}).withFallbackPosition({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}).withFallbackPosition({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}).withFallbackPosition({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}).withFallbackPosition({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}).withFallbackPosition({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"});this.overlays=[this.overlay.create({positionStrategy:c,panelClass:"ngx-contextmenu",scrollStrategy:this.scrollStrategy.close()})],this.attachContextMenu(this.overlays[0],e)}}},{key:"attachContextMenu",value:function(e,t){var n=this,i=t.event,o=t.item,r=t.menuItems,a=t.menuClass,s=e.attach(new nl(ku));s.instance.event=i,s.instance.item=o,s.instance.menuItems=r,s.instance.overlay=e,s.instance.isLeaf=!0,s.instance.menuClass=a,e.contextMenu=s.instance;var c=new Pc.a;c.add(s.instance.execute.asObservable().subscribe(function(e){return n.closeAllContextMenus(Object.assign({eventType:"execute"},e))})),c.add(s.instance.closeAllMenus.asObservable().subscribe(function(e){return n.closeAllContextMenus(Object.assign({eventType:"cancel"},e))})),c.add(s.instance.closeLeafMenu.asObservable().subscribe(function(e){return n.destroyLeafMenu(e)})),c.add(s.instance.openSubMenu.asObservable().subscribe(function(e){n.destroySubMenus(s.instance),e.contextMenu?(s.instance.isLeaf=!1,n.show.next(e)):s.instance.isLeaf=!0})),s.onDestroy(function(){r.forEach(function(e){return e.isActive=!1}),c.unsubscribe()}),s.changeDetectorRef.detectChanges()}},{key:"closeAllContextMenus",value:function(e){this.overlays&&(this.close.next(e),this.overlays.forEach(function(e,t){e.detach(),e.dispose()})),this.overlays=[]}},{key:"getLastAttachedOverlay",value:function(){for(var e=this.overlays[this.overlays.length-1];this.overlays.length>1&&e&&!e.hasAttached();)e.detach(),e.dispose(),this.overlays=this.overlays.slice(0,-1),e=this.overlays[this.overlays.length-1];return e}},{key:"destroyLeafMenu",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.exceptRootMenu,i=t.event;this.isDestroyingLeafMenu||(this.isDestroyingLeafMenu=!0,setTimeout(function(){var t=e.getLastAttachedOverlay();e.overlays.length>1&&t&&(t.detach(),t.dispose()),!n&&e.overlays.length>0&&t&&(e.close.next({eventType:"cancel",event:i}),t.detach(),t.dispose());var o=e.getLastAttachedOverlay();o&&(o.contextMenu.isLeaf=!0),e.isDestroyingLeafMenu=!1}))}},{key:"destroySubMenus",value:function(e){var t=this.overlays.indexOf(e.overlay);this.overlays.slice(t+1).forEach(function(e){e.detach(),e.dispose()})}},{key:"isLeafMenu",value:function(e){var t=this.getLastAttachedOverlay();return e.overlay===t}}]),e}()).\u0275fac=function(e){return new(e||vu)(i.Yb(Hl),i.Yb(Cl))},vu.\u0275prov=i.Hb({token:vu,factory:vu.\u0275fac}),vu),xu=((mu=function(){function e(t,n,o,r){var a=this;_classCallCheck(this,e),this._contextMenuService=t,this.changeDetector=n,this.elementRef=o,this.options=r,this.menuClass="",this.autoFocus=!1,this.useBootstrap4=!1,this.disabled=!1,this.close=new i.n,this.open=new i.n,this.visibleMenuItems=[],this.links=[],this.subscription=new Pc.a,r&&(this.autoFocus=r.autoFocus,this.useBootstrap4=r.useBootstrap4),this.subscription.add(t.show.subscribe(function(e){a.onMenuEvent(e)}))}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onMenuEvent",value:function(e){var t=this;if(!this.disabled){var n=e.contextMenu,i=e.event,o=e.item;n&&n!==this||(this.event=i,this.item=o,this.setVisibleMenuItems(),this._contextMenuService.openContextMenu(Object.assign(Object.assign({},e),{menuItems:this.visibleMenuItems,menuClass:this.menuClass})),this._contextMenuService.close.asObservable().pipe(iu()).subscribe(function(e){return t.close.emit(e)}),this.open.next(e))}}},{key:"isMenuItemVisible",value:function(e){return this.evaluateIfFunction(e.visible)}},{key:"setVisibleMenuItems",value:function(){var e=this;this.visibleMenuItems=this.menuItems.filter(function(t){return e.isMenuItemVisible(t)})}},{key:"evaluateIfFunction",value:function(e){return e instanceof Function?e(this.item):e}}]),e}()).\u0275fac=function(e){return new(e||mu)(i.Lb(Ou),i.Lb(i.h),i.Lb(i.l),i.Lb(Cu,8))},mu.\u0275cmp=i.Fb({type:mu,selectors:[["context-menu"]],contentQueries:function(e,t,n){var o;1&e&&i.Eb(n,_u,!1),2&e&&i.uc(o=i.cc())&&(t.menuItems=o)},viewQuery:function(e,t){var n;1&e&&i.Pc(au,!0),2&e&&i.uc(n=i.cc())&&(t.menuElement=n.first)},inputs:{menuClass:"menuClass",autoFocus:"autoFocus",useBootstrap4:"useBootstrap4",disabled:"disabled"},outputs:{close:"close",open:"open"},decls:0,vars:0,template:function(e,t){},styles:["\n    .cdk-overlay-container {\n      position: fixed;\n      z-index: 1000;\n      pointer-events: none;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n    }\n    .ngx-contextmenu.cdk-overlay-pane {\n      position: absolute;\n      pointer-events: auto;\n      box-sizing: border-box;\n    }\n  "],encapsulation:2}),mu),wu=((gu=function(){function e(t){_classCallCheck(this,e),this.contextMenuService=t}return _createClass(e,[{key:"onContextMenu",value:function(e){this.contextMenu.disabled||(this.contextMenuService.show.next({contextMenu:this.contextMenu,event:e,item:this.contextMenuSubject}),e.preventDefault(),e.stopPropagation())}}]),e}()).\u0275fac=function(e){return new(e||gu)(i.Lb(Ou))},gu.\u0275dir=i.Gb({type:gu,selectors:[["","contextMenu",""]],hostBindings:function(e,t){1&e&&i.bc("contextmenu",function(e){return t.onContextMenu(e)})},inputs:{contextMenuSubject:"contextMenuSubject",contextMenu:"contextMenu"}}),gu),Mu=((bu=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t){return{ngModule:e,providers:[Ou,{provide:Cu,useValue:t},{provide:Sl,useClass:$l}]}}}]),e}()).\u0275mod=i.Jb({type:bu}),bu.\u0275inj=i.Ib({factory:function(e){return new(e||bu)},imports:[[a.b,ql]]}),bu),Pu=n("5eHb"),Eu=n("mrSG");function Su(e){var t=this;return function(){return new Promise(function(n,i){return Object(Eu.a)(t,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.init({config:{url:o.a.keycloak.issuer,realm:o.a.keycloak.realm,clientId:o.a.keycloak.clientId},loadUserProfileAtStartUp:!1,enableBearerInterceptor:!0,bearerPrefix:"Bearer",initOptions:{onLoad:"check-sso",checkLoginIframe:!0},bearerExcludedUrls:["api.zotero.org"]});case 3:n(),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),i(t.t0);case 9:case"end":return t.stop()}},t,null,[[0,6]])}))})}}var Ru=n("aTx8"),Iu=n("Cfvw"),Au=n("2Vo4"),Tu=n("itXk"),Du=n("EY2u");function ju(e){return new Mc.a(function(t){var n;try{n=e()}catch(i){return void t.error(i)}return(n?Object(Iu.a)(n):Object(Du.b)()).subscribe(t)})}var Fu=n("0EUg"),Qu=n("4I5i");function Lu(e){return function(t){return 0===e?Object(Du.b)():t.lift(new Nu(e))}}var Nu=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new Qu.a}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new zu(e,this.total))}}]),e}(),zu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).total=i,o.ring=new Array,o.count=0,o}return _createClass(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,i=this.count++;t.length<n?t.push(e):t[i%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,o=0;o<n;o++){var r=t++%n;e.next(i[r])}e.complete()}}]),n}(ws.a),Vu=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.accumulator=t,this.seed=n,this.hasSeed=i}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Bu(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),Bu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,r){var a;return _classCallCheck(this,n),(a=t.call(this,e)).accumulator=i,a._seed=o,a.hasSeed=r,a.index=0,a}return _createClass(n,[{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(i){this.destination.error(i)}this.seed=t,this.destination.next(t)}},{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}}]),n}(ws.a);function Uu(e){return function(t){var n=new Hu(e),i=t.lift(n);return n.caught=i}}var Hu=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ku(e,this.selector,this.caught))}}]),e}(),Ku=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o){var r;return _classCallCheck(this,n),(r=t.call(this,e)).selector=i,r.caught=o,r}return _createClass(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(r){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,r)}this._unsubscribeAndRecycle();var i=new Ps.a(this);this.add(i);var o=Object(Ps.c)(t,i);o!==i&&this.add(o)}}}]),n}(Ps.b),qu=n("bOdf"),$u=function(){function e(t){_classCallCheck(this,e),this.callback=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Wu(e,this.callback))}}]),e}(),Wu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).add(new Pc.a(i)),o}return n}(ws.a),Gu=n("bHdf"),Yu=function e(t,n){_classCallCheck(this,e),this.id=t,this.url=n},Xu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(o=t.call(this,e,i)).navigationTrigger=r,o.restoredState=a,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Yu),Zu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o){var r;return _classCallCheck(this,n),(r=t.call(this,e,i)).urlAfterRedirects=o,r}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Yu),Ju=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o){var r;return _classCallCheck(this,n),(r=t.call(this,e,i)).reason=o,r}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Yu),ef=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o){var r;return _classCallCheck(this,n),(r=t.call(this,e,i)).error=o,r}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Yu),tf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,r){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).urlAfterRedirects=o,a.state=r,a}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Yu),nf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,r){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).urlAfterRedirects=o,a.state=r,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Yu),of=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,r,a){var s;return _classCallCheck(this,n),(s=t.call(this,e,i)).urlAfterRedirects=o,s.state=r,s.shouldActivate=a,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Yu),rf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,r){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).urlAfterRedirects=o,a.state=r,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Yu),af=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,r){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).urlAfterRedirects=o,a.state=r,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Yu),sf=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),cf=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),lf=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),uf=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),ff=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),df=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),hf=function(){function e(t,n,i){_classCallCheck(this,e),this.routerEvent=t,this.position=n,this.anchor=i}return _createClass(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),pf=function(){function e(t){_classCallCheck(this,e),this.params=t||{}}return _createClass(e,[{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.params,e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function bf(e){return new pf(e)}function gf(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function mf(e,t,n){var i=n.path.split("/");if(i.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;for(var o={},r=0;r<i.length;r++){var a=i[r],s=e[r];if(a.startsWith(":"))o[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,i.length),posParams:o}}function vf(e,t){var n,i=Object.keys(e),o=Object.keys(t);if(!i||!o||i.length!=o.length)return!1;for(var r=0;r<i.length;r++)if(!yf(e[n=i[r]],t[n]))return!1;return!0}function yf(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;var n=_toConsumableArray(e).sort(),i=_toConsumableArray(t).sort();return n.every(function(e,t){return i[t]===e})}return e===t}function _f(e){return Array.prototype.concat.apply([],e)}function Cf(e){return e.length>0?e[e.length-1]:null}function kf(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Of(e){return Object(i.pb)(e)?e:Object(i.qb)(e)?Object(Iu.a)(Promise.resolve(e)):Object(ys.a)(e)}function xf(e,t,n){return n?function(e,t){return vf(e,t)}(e.queryParams,t.queryParams)&&wf(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(function(n){return yf(e[n],t[n])})}(e.queryParams,t.queryParams)&&Mf(e.root,t.root)}function wf(e,t){if(!If(e.segments,t.segments))return!1;if(e.numberOfChildren!==t.numberOfChildren)return!1;for(var n in t.children){if(!e.children[n])return!1;if(!wf(e.children[n],t.children[n]))return!1}return!0}function Mf(e,t){return Pf(e,t,t.segments)}function Pf(e,t,n){if(e.segments.length>n.length)return!!If(e.segments.slice(0,n.length),n)&&!t.hasChildren();if(e.segments.length===n.length){if(!If(e.segments,n))return!1;for(var i in t.children){if(!e.children[i])return!1;if(!Mf(e.children[i],t.children[i]))return!1}return!0}var o=n.slice(0,e.segments.length),r=n.slice(e.segments.length);return!!If(e.segments,o)&&!!e.children.primary&&Pf(e.children.primary,t,r)}var Ef=function(){function e(t,n,i){_classCallCheck(this,e),this.root=t,this.queryParams=n,this.fragment=i}return _createClass(e,[{key:"toString",value:function(){return jf.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=bf(this.queryParams)),this._queryParamMap}}]),e}(),Sf=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.segments=t,this.children=n,this.parent=null,kf(n,function(e,t){return e.parent=i})}return _createClass(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Ff(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),e}(),Rf=function(){function e(t,n){_classCallCheck(this,e),this.path=t,this.parameters=n}return _createClass(e,[{key:"toString",value:function(){return Uf(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=bf(this.parameters)),this._parameterMap}}]),e}();function If(e,t){return e.length===t.length&&e.every(function(e,n){return e.path===t[n].path})}function Af(e,t){var n=[];return kf(e.children,function(e,i){"primary"===i&&(n=n.concat(t(e,i)))}),kf(e.children,function(e,i){"primary"!==i&&(n=n.concat(t(e,i)))}),n}var Tf=function e(){_classCallCheck(this,e)},Df=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(e){var t=new Wf(e);return new Ef(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){return"".concat("/"+Qf(e.root,!0)).concat((t=e.queryParams,n=Object.keys(t).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(t){return"".concat(Nf(e),"=").concat(Nf(t))}).join("&"):"".concat(Nf(e),"=").concat(Nf(n))}),n.length?"?"+n.join("&"):"")).concat("string"==typeof e.fragment?"#"+encodeURI(e.fragment):"");var t,n}}]),e}(),jf=new Df;function Ff(e){return e.segments.map(function(e){return Uf(e)}).join("/")}function Qf(e,t){if(!e.hasChildren())return Ff(e);if(t){var n=e.children.primary?Qf(e.children.primary,!1):"",i=[];return kf(e.children,function(e,t){"primary"!==t&&i.push("".concat(t,":").concat(Qf(e,!1)))}),i.length>0?"".concat(n,"(").concat(i.join("//"),")"):n}var o=Af(e,function(t,n){return"primary"===n?[Qf(e.children.primary,!1)]:["".concat(n,":").concat(Qf(t,!1))]});return 1===Object.keys(e.children).length&&null!=e.children.primary?"".concat(Ff(e),"/").concat(o[0]):"".concat(Ff(e),"/(").concat(o.join("//"),")")}function Lf(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nf(e){return Lf(e).replace(/%3B/gi,";")}function zf(e){return Lf(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vf(e){return decodeURIComponent(e)}function Bf(e){return Vf(e.replace(/\+/g,"%20"))}function Uf(e){return"".concat(zf(e.path)).concat((t=e.parameters,Object.keys(t).map(function(e){return";".concat(zf(e),"=").concat(zf(t[e]))}).join("")));var t}var Hf=/^[^\/()?;=#]+/;function Kf(e){var t=e.match(Hf);return t?t[0]:""}var qf=/^[^=?&#]+/,$f=/^[^?&#]+/,Wf=function(){function e(t){_classCallCheck(this,e),this.url=t,this.remaining=t}return _createClass(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Sf([],{}):new Sf([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Sf(e,t)),n}},{key:"parseSegment",value:function(){var e=Kf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new Rf(Vf(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=Kf(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var i=Kf(this.remaining);i&&(n=i,this.capture(n))}e[Vf(t)]=Vf(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(qf);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var i=function(e){var t=e.match($f);return t?t[0]:""}(this.remaining);i&&(n=i,this.capture(n))}var o=Bf(t),r=Bf(n);if(e.hasOwnProperty(o)){var a=e[o];Array.isArray(a)||(a=[a],e[o]=a),a.push(r)}else e[o]=r}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Kf(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error("Cannot parse url '".concat(this.url,"'"));var o=void 0;n.indexOf(":")>-1?(o=n.substr(0,n.indexOf(":")),this.capture(o),this.capture(":")):e&&(o="primary");var r=this.parseChildren();t[o]=1===Object.keys(r).length?r.primary:new Sf([],r),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),Gf=function(){function e(t){_classCallCheck(this,e),this._root=t}return _createClass(e,[{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=Yf(e,this._root);return t?t.children.map(function(e){return e.value}):[]}},{key:"firstChild",value:function(e){var t=Yf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=Xf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(function(e){return e.value}).filter(function(t){return t!==e})}},{key:"pathFromRoot",value:function(e){return Xf(e,this._root).map(function(e){return e.value})}},{key:"root",get:function(){return this._root.value}}]),e}();function Yf(e,t){if(e===t.value)return t;var n,i=_createForOfIteratorHelper(t.children);try{for(i.s();!(n=i.n()).done;){var o=Yf(e,n.value);if(o)return o}}catch(r){i.e(r)}finally{i.f()}return null}function Xf(e,t){if(e===t.value)return[t];var n,i=_createForOfIteratorHelper(t.children);try{for(i.s();!(n=i.n()).done;){var o=Xf(e,n.value);if(o.length)return o.unshift(t),o}}catch(r){i.e(r)}finally{i.f()}return[]}var Zf=function(){function e(t,n){_classCallCheck(this,e),this.value=t,this.children=n}return _createClass(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function Jf(e){var t={};return e&&e.children.forEach(function(e){return t[e.value.outlet]=e}),t}var ed=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).snapshot=i,ad(_assertThisInitialized(o),e),o}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Gf);function td(e,t){var n=function(e,t){var n=new od([],{},{},"",{},"primary",t,null,e.root,-1,{});return new rd("",new Zf(n,[]))}(e,t),i=new Au.a([new Rf("",{})]),o=new Au.a({}),r=new Au.a({}),a=new Au.a({}),s=new Au.a(""),c=new nd(i,o,a,s,r,"primary",t,n.root);return c.snapshot=n.root,new ed(new Zf(c,[]),n)}var nd=function(){function e(t,n,i,o,r,a,s,c){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=i,this.fragment=o,this.data=r,this.outlet=a,this.component=s,this._futureSnapshot=c}return _createClass(e,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(ks.a)(function(e){return bf(e)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(ks.a)(function(e){return bf(e)}))),this._queryParamMap}}]),e}();function id(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,i=0;if("always"!==t)for(i=n.length-1;i>=1;){var o=n[i],r=n[i-1];if(o.routeConfig&&""===o.routeConfig.path)i--;else{if(r.component)break;i--}}return function(e){return e.reduce(function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(i))}var od=function(){function e(t,n,i,o,r,a,s,c,l,u,f){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=i,this.fragment=o,this.data=r,this.outlet=a,this.component=s,this.routeConfig=c,this._urlSegment=l,this._lastPathIndex=u,this._resolve=f}return _createClass(e,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(e){return e.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=bf(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=bf(this.queryParams)),this._queryParamMap}}]),e}(),rd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this,i)).url=e,ad(_assertThisInitialized(o),i),o}return _createClass(n,[{key:"toString",value:function(){return sd(this._root)}}]),n}(Gf);function ad(e,t){t.value._routerState=e,t.children.forEach(function(t){return ad(e,t)})}function sd(e){var t=e.children.length>0?" { ".concat(e.children.map(sd).join(", ")," } "):"";return"".concat(e.value).concat(t)}function cd(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,vf(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),vf(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!vf(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),vf(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function ld(e,t){var n,i;return vf(e.params,t.params)&&If(n=e.url,i=t.url)&&n.every(function(e,t){return vf(e.parameters,i[t].parameters)})&&!(!e.parent!=!t.parent)&&(!e.parent||ld(e.parent,t.parent))}function ud(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){var i=n.value;i._futureSnapshot=t.value;var o=function(e,t,n){return t.children.map(function(t){var i,o=_createForOfIteratorHelper(n.children);try{for(o.s();!(i=o.n()).done;){var r=i.value;if(e.shouldReuseRoute(t.value,r.value.snapshot))return ud(e,t,r)}}catch(a){o.e(a)}finally{o.f()}return ud(e,t)})}(e,t,n);return new Zf(i,o)}var r=e.retrieve(t.value);if(r){var a=r.route;return fd(t,a),a}var s,c=new nd(new Au.a((s=t.value).url),new Au.a(s.params),new Au.a(s.queryParams),new Au.a(s.fragment),new Au.a(s.data),s.outlet,s.component,s),l=t.children.map(function(t){return ud(e,t)});return new Zf(c,l)}function fd(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(var n=0;n<e.children.length;++n)fd(e.children[n],t.children[n])}function dd(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function hd(e){return"object"==typeof e&&null!=e&&e.outlets}function pd(e,t,n,i,o){var r={};return i&&kf(i,function(e,t){r[t]=Array.isArray(e)?e.map(function(e){return""+e}):""+e}),new Ef(n.root===e?t:bd(n.root,e,t),r,o)}function bd(e,t,n){var i={};return kf(e.children,function(e,o){i[o]=e===t?n:bd(e,t,n)}),new Sf(e.segments,i)}var gd=function(){function e(t,n,i){if(_classCallCheck(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&dd(i[0]))throw new Error("Root segment cannot have matrix parameters");var o=i.find(hd);if(o&&o!==Cf(i))throw new Error("{outlets:{}} has to be the last command")}return _createClass(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),md=function e(t,n,i){_classCallCheck(this,e),this.segmentGroup=t,this.processChildren=n,this.index=i};function vd(e,t,n){if(e||(e=new Sf([],{})),0===e.segments.length&&e.hasChildren())return yd(e,t,n);var i=function(e,t,n){for(var i=0,o=t,r={match:!1,pathIndex:0,commandIndex:0};o<e.segments.length;){if(i>=n.length)return r;var a=e.segments[o],s=n[i];if(hd(s))break;var c=""+s,l=i<n.length-1?n[i+1]:null;if(o>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!Od(c,l,a))return r;i+=2}else{if(!Od(c,{},a))return r;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(e,t,n),o=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){var r=new Sf(e.segments.slice(0,i.pathIndex),{});return r.children.primary=new Sf(e.segments.slice(i.pathIndex),e.children),yd(r,0,o)}return i.match&&0===o.length?new Sf(e.segments,{}):i.match&&!e.hasChildren()?_d(e,t,n):i.match?yd(e,0,o):_d(e,t,n)}function yd(e,t,n){if(0===n.length)return new Sf(e.segments,{});var i=function(e){return hd(e[0])?e[0].outlets:{primary:e}}(n),o={};return kf(i,function(n,i){"string"==typeof n&&(n=[n]),null!==n&&(o[i]=vd(e.children[i],t,n))}),kf(e.children,function(e,t){void 0===i[t]&&(o[t]=e)}),new Sf(e.segments,o)}function _d(e,t,n){for(var i=e.segments.slice(0,t),o=0;o<n.length;){var r=n[o];if(hd(r)){var a=Cd(r.outlets);return new Sf(i,a)}if(0===o&&dd(n[0]))i.push(new Rf(e.segments[t].path,n[0])),o++;else{var s=hd(r)?r.outlets.primary:""+r,c=o<n.length-1?n[o+1]:null;s&&c&&dd(c)?(i.push(new Rf(s,kd(c))),o+=2):(i.push(new Rf(s,{})),o++)}}return new Sf(i,{})}function Cd(e){var t={};return kf(e,function(e,n){"string"==typeof e&&(e=[e]),null!==e&&(t[n]=_d(new Sf([],{}),0,e))}),t}function kd(e){var t={};return kf(e,function(e,n){return t[n]=""+e}),t}function Od(e,t,n){return e==n.path&&vf(t,n.parameters)}var xd=function(){function e(t,n,i,o){_classCallCheck(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=o}return _createClass(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),cd(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var i=this,o=Jf(t);e.children.forEach(function(e){var t=e.value.outlet;i.deactivateRoutes(e,o[t],n),delete o[t]}),kf(o,function(e,t){i.deactivateRouteAndItsChildren(e,n)})}},{key:"deactivateRoutes",value:function(e,t,n){var i=e.value,o=t?t.value:null;if(i===o)if(i.component){var r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(e,t,r.children)}else this.deactivateChildRoutes(e,t,n);else o&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var i=n.outlet.detach(),o=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:i,route:e,contexts:o})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n=this,i=t.getContext(e.value.outlet);if(i){var o=Jf(e),r=e.value.component?i.children:t;kf(o,function(e,t){return n.deactivateRouteAndItsChildren(e,r)}),i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(e,t,n){var i=this,o=Jf(t);e.children.forEach(function(e){i.activateRoutes(e,o[e.value.outlet],n),i.forwardEvent(new df(e.value.snapshot))}),e.children.length&&this.forwardEvent(new uf(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var i=e.value,o=t?t.value:null;if(cd(i),i===o)if(i.component){var r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,r.children)}else this.activateChildRoutes(e,t,n);else if(i.component){var a=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){var s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),wd(s.route)}else{var c=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),l=c?c.module.componentFactoryResolver:null;a.attachRef=null,a.route=i,a.resolver=l,a.outlet&&a.outlet.activateWith(i,l),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function wd(e){cd(e.value),e.children.forEach(wd)}var Md=function e(t,n){_classCallCheck(this,e),this.routes=t,this.module=n};function Pd(e){return"function"==typeof e}function Ed(e){return e instanceof Ef}var Sd=Symbol("INITIAL_VALUE");function Rd(){return Object(jc.a)(function(e){return Object(Tu.b).apply(void 0,_toConsumableArray(e.map(function(e){return e.pipe(Object(cl.a)(1),Object(Rc.a)(Sd))}))).pipe(function(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new Vu(e,t,n))}}(function(e,t){var n=!1;return t.reduce(function(e,i,o){if(e!==Sd)return e;if(i===Sd&&(n=!0),!n){if(!1===i)return i;if(o===t.length-1||Ed(i))return i}return e},e)},Sd),Object(xs.a)(function(e){return e!==Sd}),Object(ks.a)(function(e){return Ed(e)?e:!0===e}),Object(cl.a)(1))})}var Id,Ad=((Id=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Id)},Id.\u0275cmp=i.Fb({type:Id,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&i.Mb(0,"router-outlet")},directives:function(){return[Th]},encapsulation:2}),Id);function Td(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var i=e[n];Dd(i,jd(t,i))}}function Dd(e,t){e.children&&Td(e.children,t)}function jd(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function Fd(e){var t=e.children&&e.children.map(Fd),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Ad),n}function Qd(e){return e.outlet||"primary"}var Ld=function e(t){_classCallCheck(this,e),this.segmentGroup=t||null},Nd=function e(t){_classCallCheck(this,e),this.urlTree=t};function zd(e){return new Mc.a(function(t){return t.error(new Ld(e))})}function Vd(e){return new Mc.a(function(t){return t.error(new Nd(e))})}function Bd(e){return new Mc.a(function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))})}var Ud=function(){function e(t,n,o,r,a){_classCallCheck(this,e),this.configLoader=n,this.urlSerializer=o,this.urlTree=r,this.config=a,this.allowRedirects=!0,this.ngModule=t.get(i.x)}return _createClass(e,[{key:"apply",value:function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(ks.a)(function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)})).pipe(Uu(function(t){if(t instanceof Nd)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof Ld)throw e.noMatchError(t);throw t}))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(Object(ks.a)(function(n){return t.createUrlTree(n,e.queryParams,e.fragment)})).pipe(Uu(function(e){if(e instanceof Ld)throw t.noMatchError(e);throw e}))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var i=e.segments.length>0?new Sf([],{primary:e}):e;return new Ef(i,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(Object(ks.a)(function(e){return new Sf([],e)})):this.expandSegment(e,n,t,n.segments,i,!0)}},{key:"expandChildren",value:function(e,t,n){var i=this;return function(n,o){if(0===Object.keys(n).length)return Object(ys.a)({});var r=[],a=[],s={};return kf(n,function(n,o){var c,l,u=(c=o,l=n,i.expandSegmentGroup(e,t,l,c)).pipe(Object(ks.a)(function(e){return s[o]=e}));"primary"===o?r.push(u):a.push(u)}),ys.a.apply(null,r.concat(a)).pipe(Object(Fu.a)(),function(e,t){var n=arguments.length>=2;return function(i){return i.pipe(e?Object(xs.a)(function(t,n){return e(t,n,i)}):nu.a,Lu(1),n?Gl(t):Zl(function(){return new Wl}))}}(),Object(ks.a)(function(){return s}))}(n.children)}},{key:"expandSegment",value:function(e,t,n,i,o,r){var a=this,s=function(e){return e.reduce(function(e,t){var n=Qd(t);return e.has(n)?e.get(n).push(t):e.set(n,[t]),e},new Map)}(n);s.has(o)||s.set(o,[]);var c=Array.from(s.entries()).map(function(n){var s=_slicedToArray(n,2),c=s[0],l=function(n){return Object(Iu.a)(n).pipe(Object(qu.a)(function(s){return a.expandSegmentAgainstRoute(e,t,n,s,i,o,r).pipe(Uu(function(e){if(e instanceof Ld)return Object(ys.a)(null);throw e}))}),iu(function(e){return null!==e}),Uu(function(e){if(e instanceof Wl||"EmptyError"===e.name){if(a.noLeftoversInUrl(t,i,o))return Object(ys.a)(new Sf([],{}));throw new Ld(t)}throw e}))}(s[1]);return c===o?l:l.pipe(Object(ks.a)(function(){return null}),Uu(function(){return Object(ys.a)(null)}))});return Object(Iu.a)(c).pipe(function(e){return e.lift(new Tu.a(void 0))},iu(),Object(ks.a)(function(e){return e.find(function(e){return null!==e})}))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,i,o,r,a){return Qd(i)!==r&&""!==i.path?zd(t):void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,i,o,r):zd(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,i,o,r){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,r):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,o,r)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,i){var o=this,r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Vd(r):this.lineralizeSegments(n,r).pipe(Object(Cs.a)(function(n){var r=new Sf(n,{});return o.expandSegment(e,r,t,n,i,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,i,o,r){var a=this,s=Hd(t,i,o),c=s.matched,l=s.consumedSegments,u=s.lastChild,f=s.positionalParamSegments;if(!c)return zd(t);var d=this.applyRedirectCommands(l,i.redirectTo,f);return i.redirectTo.startsWith("/")?Vd(d):this.lineralizeSegments(i,d).pipe(Object(Cs.a)(function(i){return a.expandSegment(e,t,n,i.concat(o.slice(u)),r,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,i){var o=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(Object(ks.a)(function(e){return n._loadedConfig=e,new Sf(i,{})})):Object(ys.a)(new Sf(i,{}));var r=Hd(t,n,i),a=r.matched,s=r.consumedSegments,c=r.lastChild;if(!a)return zd(t);var l=i.slice(c);return this.getChildConfig(e,n,i).pipe(Object(Cs.a)(function(e){var n=e.module,i=e.routes,r=function(e,t,n,i){return n.length>0&&function(e,t,n){return n.some(function(n){return qd(e,t,n)&&"primary"!==Qd(n)})}(e,n,i)?{segmentGroup:Kd(new Sf(t,function(e,t){var n={};n.primary=t;var i,o=_createForOfIteratorHelper(e);try{for(o.s();!(i=o.n()).done;){var r=i.value;""===r.path&&"primary"!==Qd(r)&&(n[Qd(r)]=new Sf([],{}))}}catch(a){o.e(a)}finally{o.f()}return n}(i,new Sf(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some(function(n){return qd(e,t,n)})}(e,n,i)?{segmentGroup:Kd(new Sf(e.segments,function(e,t,n,i){var o,r={},a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;qd(e,t,s)&&!i[Qd(s)]&&(r[Qd(s)]=new Sf([],{}))}}catch(c){a.e(c)}finally{a.f()}return Object.assign(Object.assign({},i),r)}(e,n,i,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,s,l,i),a=r.segmentGroup,c=r.slicedSegments;return 0===c.length&&a.hasChildren()?o.expandChildren(n,i,a).pipe(Object(ks.a)(function(e){return new Sf(s,e)})):0===i.length&&0===c.length?Object(ys.a)(new Sf(s,{})):o.expandSegment(n,a,i,c,"primary",!0).pipe(Object(ks.a)(function(e){return new Sf(s.concat(e.segments),e.children)}))}))}},{key:"getChildConfig",value:function(e,t,n){var i=this;return t.children?Object(ys.a)(new Md(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Object(ys.a)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe(Object(Cs.a)(function(n){return n?i.configLoader.load(e.injector,t).pipe(Object(ks.a)(function(e){return t._loadedConfig=e,e})):function(e){return new Mc.a(function(t){return t.error(gf("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))})}(t)})):Object(ys.a)(new Md([],e))}},{key:"runCanLoadGuards",value:function(e,t,n){var i=this,o=t.canLoad;if(!o||0===o.length)return Object(ys.a)(!0);var r=o.map(function(i){var o,r=e.get(i);if(function(e){return e&&Pd(e.canLoad)}(r))o=r.canLoad(t,n);else{if(!Pd(r))throw new Error("Invalid CanLoad guard");o=r(t,n)}return Of(o)});return Object(ys.a)(r).pipe(Rd(),Object(Os.a)(function(e){if(Ed(e)){var t=gf('Redirecting to "'.concat(i.urlSerializer.serialize(e),'"'));throw t.url=e,t}}),Object(ks.a)(function(e){return!0===e}))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],i=t.root;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Object(ys.a)(n);if(i.numberOfChildren>1||!i.children.primary)return Bd(e.redirectTo);i=i.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,i){var o=this.createSegmentGroup(e,t.root,n,i);return new Ef(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return kf(e,function(e,i){if("string"==typeof e&&e.startsWith(":")){var o=e.substring(1);n[i]=t[o]}else n[i]=e}),n}},{key:"createSegmentGroup",value:function(e,t,n,i){var o=this,r=this.createSegments(e,t.segments,n,i),a={};return kf(t.children,function(t,r){a[r]=o.createSegmentGroup(e,t,n,i)}),new Sf(r,a)}},{key:"createSegments",value:function(e,t,n,i){var o=this;return t.map(function(t){return t.path.startsWith(":")?o.findPosParam(e,t,i):o.findOrReturn(t,n)})}},{key:"findPosParam",value:function(e,t,n){var i=n[t.path.substring(1)];if(!i)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return i}},{key:"findOrReturn",value:function(e,t){var n,i=0,o=_createForOfIteratorHelper(t);try{for(o.s();!(n=o.n()).done;){var r=n.value;if(r.path===e.path)return t.splice(i),r;i++}}catch(a){o.e(a)}finally{o.f()}return e}}]),e}();function Hd(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var i=(t.matcher||mf)(n,e,t);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Kd(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new Sf(e.segments.concat(t.segments),t.children)}return e}function qd(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}var $d=function e(t){_classCallCheck(this,e),this.path=t,this.route=this.path[this.path.length-1]},Wd=function e(t,n){_classCallCheck(this,e),this.component=t,this.route=n};function Gd(e,t,n){var i=e._root;return Xd(i,t?t._root:null,n,[i.value])}function Yd(e,t,n){var i=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(i?i.module.injector:n).get(e)}function Xd(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},r=Jf(t);return e.children.forEach(function(e){!function(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},r=e.value,a=t?t.value:null,s=n?n.getContext(e.value.outlet):null;if(a&&r.routeConfig===a.routeConfig){var c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!If(e.url,t.url);case"pathParamsOrQueryParamsChange":return!If(e.url,t.url)||!vf(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ld(e,t)||!vf(e.queryParams,t.queryParams);case"paramsChange":default:return!ld(e,t)}}(a,r,r.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new $d(i)):(r.data=a.data,r._resolvedData=a._resolvedData),Xd(e,t,r.component?s?s.children:null:n,i,o),c&&s&&s.outlet&&s.outlet.isActivated&&o.canDeactivateChecks.push(new Wd(s.outlet.component,a))}else a&&Zd(t,s,o),o.canActivateChecks.push(new $d(i)),Xd(e,null,r.component?s?s.children:null:n,i,o)}(e,r[e.value.outlet],n,i.concat([e.value]),o),delete r[e.value.outlet]}),kf(r,function(e,t){return Zd(e,n.getContext(t),o)}),o}function Zd(e,t,n){var i=Jf(e),o=e.value;kf(i,function(e,i){Zd(e,o.component?t?t.children.getContext(i):null:t,n)}),n.canDeactivateChecks.push(new Wd(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function Jd(e,t){return null!==e&&t&&t(new ff(e)),Object(ys.a)(!0)}function eh(e,t){return null!==e&&t&&t(new lf(e)),Object(ys.a)(!0)}function th(e,t,n){var i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Object(ys.a)(!0);var o=i.map(function(i){return ju(function(){var o,r=Yd(i,t,n);if(function(e){return e&&Pd(e.canActivate)}(r))o=Of(r.canActivate(t,e));else{if(!Pd(r))throw new Error("Invalid CanActivate guard");o=Of(r(t,e))}return o.pipe(iu())})});return Object(ys.a)(o).pipe(Rd())}function nh(e,t,n){var i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)}).filter(function(e){return null!==e}).map(function(t){return ju(function(){var o=t.guards.map(function(o){var r,a=Yd(o,t.node,n);if(function(e){return e&&Pd(e.canActivateChild)}(a))r=Of(a.canActivateChild(i,e));else{if(!Pd(a))throw new Error("Invalid CanActivateChild guard");r=Of(a(i,e))}return r.pipe(iu())});return Object(ys.a)(o).pipe(Rd())})});return Object(ys.a)(o).pipe(Rd())}var ih=function e(){_classCallCheck(this,e)},oh=function(){function e(t,n,i,o,r,a){_classCallCheck(this,e),this.rootComponentType=t,this.config=n,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=a}return _createClass(e,[{key:"recognize",value:function(){try{var e=sh(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new od([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Zf(n,t),o=new rd(this.url,i);return this.inheritParamsAndData(o._root),Object(ys.a)(o)}catch(r){return new Mc.a(function(e){return e.error(r)})}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,i=id(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),e.children.forEach(function(e){return t.inheritParamsAndData(e)})}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){var n,i=this,o=Af(t,function(t,n){return i.processSegmentGroup(e,t,n)});return n={},o.forEach(function(e){var t=n[e.value.outlet];if(t){var i=t.url.map(function(e){return e.toString()}).join("/"),o=e.value.url.map(function(e){return e.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(i,"' and '").concat(o,"'."))}n[e.value.outlet]=e.value}),o.sort(function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)}),o}},{key:"processSegment",value:function(e,t,n,i){var o,r=_createForOfIteratorHelper(e);try{for(r.s();!(o=r.n()).done;){var a=o.value;try{return this.processSegmentAgainstRoute(a,t,n,i)}catch(s){if(!(s instanceof ih))throw s}}}catch(c){r.e(c)}finally{r.f()}if(this.noLeftoversInUrl(t,n,i))return[];throw new ih}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,i){if(e.redirectTo)throw new ih;if((e.outlet||"primary")!==i)throw new ih;var o,r=[],a=[];if("**"===e.path){var s=n.length>0?Cf(n).parameters:{};o=new od(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,lh(e),i,e.component,e,rh(t),ah(t)+n.length,uh(e))}else{var c=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new ih;return{consumedSegments:[],lastChild:0,parameters:{}}}var i=(t.matcher||mf)(n,e,t);if(!i)throw new ih;var o={};kf(i.posParams,function(e,t){o[t]=e.path});var r=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:r}}(t,e,n);r=c.consumedSegments,a=n.slice(c.lastChild),o=new od(r,c.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,lh(e),i,e.component,e,rh(t),ah(t)+r.length,uh(e))}var l=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),u=sh(t,r,a,l,this.relativeLinkResolution),f=u.segmentGroup,d=u.slicedSegments;if(0===d.length&&f.hasChildren()){var h=this.processChildren(l,f);return[new Zf(o,h)]}if(0===l.length&&0===d.length)return[new Zf(o,[])];var p=this.processSegment(l,f,d,"primary");return[new Zf(o,p)]}}]),e}();function rh(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function ah(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function sh(e,t,n,i,o){if(n.length>0&&function(e,t,n){return n.some(function(n){return ch(e,t,n)&&"primary"!==Qd(n)})}(e,n,i)){var r=new Sf(t,function(e,t,n,i){var o={};o.primary=i,i._sourceSegment=e,i._segmentIndexShift=t.length;var r,a=_createForOfIteratorHelper(n);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(""===s.path&&"primary"!==Qd(s)){var c=new Sf([],{});c._sourceSegment=e,c._segmentIndexShift=t.length,o[Qd(s)]=c}}}catch(l){a.e(l)}finally{a.f()}return o}(e,t,i,new Sf(n,e.children)));return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(function(n){return ch(e,t,n)})}(e,n,i)){var a=new Sf(e.segments,function(e,t,n,i,o,r){var a,s={},c=_createForOfIteratorHelper(i);try{for(c.s();!(a=c.n()).done;){var l=a.value;if(ch(e,n,l)&&!o[Qd(l)]){var u=new Sf([],{});u._sourceSegment=e,u._segmentIndexShift="legacy"===r?e.segments.length:t.length,s[Qd(l)]=u}}}catch(f){c.e(f)}finally{c.f()}return Object.assign(Object.assign({},o),s)}(e,t,n,i,e.children,o));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}var s=new Sf(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function ch(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function lh(e){return e.data||{}}function uh(e){return e.resolve||{}}function fh(e){return function(t){return t.pipe(Object(jc.a)(function(t){var n=e(t);return n?Object(Iu.a)(n).pipe(Object(ks.a)(function(){return t})):Object(Iu.a)([t])}))}}var dh=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}()),hh=new i.q("ROUTES"),ph=function(){function e(t,n,i,o){_classCallCheck(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=i,this.onLoadEndListener=o}return _createClass(e,[{key:"load",value:function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(Object(ks.a)(function(i){n.onLoadEndListener&&n.onLoadEndListener(t);var o=i.create(e);return new Md(_f(o.injector.get(hh)).map(Fd),o)}))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?Object(Iu.a)(this.loader.load(e)):Of(e()).pipe(Object(Cs.a)(function(e){return e instanceof i.v?Object(ys.a)(e):Object(Iu.a)(t.compiler.compileModuleAsync(e))}))}}]),e}(),bh=function e(){_classCallCheck(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new gh,this.attachRef=null},gh=function(){function e(){_classCallCheck(this,e),this.contexts=new Map}return _createClass(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new bh,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),mh=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function vh(e){throw e}function yh(e,t,n){return t.parse("/")}function _h(e,t){return Object(ys.a)(null)}var Ch,kh,Oh,xh=((Oh=function(){function e(t,n,o,r,a,s,c,l){var u=this;_classCallCheck(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=o,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new wc.a,this.errorHandler=vh,this.malformedUriErrorHandler=yh,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:_h,afterPreactivation:_h},this.urlHandlingStrategy=new mh,this.routeReuseStrategy=new dh,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=a.get(i.x),this.console=a.get(i.X);var f=a.get(i.z);this.isNgZoneEnabled=f instanceof i.z,this.resetConfig(l),this.currentUrlTree=new Ef(new Sf([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ph(s,c,function(e){return u.triggerEvent(new sf(e))},function(e){return u.triggerEvent(new cf(e))}),this.routerState=td(this.currentUrlTree,this.rootComponentType),this.transitions=new Au.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(Object(xs.a)(function(e){return 0!==e.id}),Object(ks.a)(function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})}),Object(jc.a)(function(e){var i,o,r,a,s=!1,c=!1;return Object(ys.a)(e).pipe(Object(Os.a)(function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(jc.a)(function(e){var i,o,r,a,s=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||s)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Object(ys.a)(e).pipe(Object(jc.a)(function(e){var i=t.transitions.getValue();return n.next(new Xu(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),i!==t.transitions.getValue()?Du.a:[e]}),Object(jc.a)(function(e){return Promise.resolve(e)}),(i=t.ngModule.injector,o=t.configLoader,r=t.urlSerializer,a=t.config,function(e){return e.pipe(Object(jc.a)(function(e){return function(e,t,n,i,o){return new Ud(e,t,n,i,o).apply()}(i,o,r,e.extractedUrl,a).pipe(Object(ks.a)(function(t){return Object.assign(Object.assign({},e),{urlAfterRedirects:t})}))}))}),Object(Os.a)(function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,n,i,o,r){return function(i){return i.pipe(Object(Cs.a)(function(i){return function(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new oh(e,t,n,i,o,r).recognize()}(e,n,i.urlAfterRedirects,(a=i.urlAfterRedirects,t.serializeUrl(a)),o,r).pipe(Object(ks.a)(function(e){return Object.assign(Object.assign({},i),{targetSnapshot:e})}));var a}))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),Object(Os.a)(function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)}),Object(Os.a)(function(e){var i=new tf(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(i)}));if(s&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var c=e.id,l=e.extractedUrl,u=e.source,f=e.restoredState,d=e.extras,h=new Xu(c,t.serializeUrl(l),u,f);n.next(h);var p=td(l,t.rootComponentType).snapshot;return Object(ys.a)(Object.assign(Object.assign({},e),{targetSnapshot:p,urlAfterRedirects:l,extras:Object.assign(Object.assign({},d),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Du.a}),fh(function(e){var n=e.targetSnapshot,i=e.id,o=e.extractedUrl,r=e.rawUrl,a=e.extras,s=a.skipLocationChange,c=a.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:i,appliedUrlTree:o,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!c})}),Object(Os.a)(function(e){var n=new nf(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),Object(ks.a)(function(e){return Object.assign(Object.assign({},e),{guards:Gd(e.targetSnapshot,e.currentSnapshot,t.rootContexts)})}),function(e,t){return function(n){return n.pipe(Object(Cs.a)(function(n){var i=n.targetSnapshot,o=n.currentSnapshot,r=n.guards,a=r.canActivateChecks,s=r.canDeactivateChecks;return 0===s.length&&0===a.length?Object(ys.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,i){return Object(Iu.a)(e).pipe(Object(Cs.a)(function(e){return function(e,t,n,i,o){var r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!r||0===r.length)return Object(ys.a)(!0);var a=r.map(function(r){var a,s=Yd(r,t,o);if(function(e){return e&&Pd(e.canDeactivate)}(s))a=Of(s.canDeactivate(e,t,n,i));else{if(!Pd(s))throw new Error("Invalid CanDeactivate guard");a=Of(s(e,t,n,i))}return a.pipe(iu())});return Object(ys.a)(a).pipe(Rd())}(e.component,e.route,n,t,i)}),iu(function(e){return!0!==e},!0))}(s,i,o,e).pipe(Object(Cs.a)(function(n){return n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,i){return Object(Iu.a)(t).pipe(Object(qu.a)(function(t){return Object(Iu.a)([eh(t.route.parent,i),Jd(t.route,i),nh(e,t.path,n),th(e,t.route,n)]).pipe(Object(Fu.a)(),iu(function(e){return!0!==e},!0))}),iu(function(e){return!0!==e},!0))}(i,a,e,t):Object(ys.a)(n)}),Object(ks.a)(function(e){return Object.assign(Object.assign({},n),{guardsResult:e})}))}))}}(t.ngModule.injector,function(e){return t.triggerEvent(e)}),Object(Os.a)(function(e){if(Ed(e.guardsResult)){var n=gf('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}}),Object(Os.a)(function(e){var n=new of(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)}),Object(xs.a)(function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var i=new Ju(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(i),e.resolve(!1),!1}return!0}),fh(function(e){if(e.guards.canActivateChecks.length)return Object(ys.a)(e).pipe(Object(Os.a)(function(e){var n=new rf(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),Object(jc.a)(function(e){var i,o,r=!1;return Object(ys.a)(e).pipe((i=t.paramsInheritanceStrategy,o=t.ngModule.injector,function(e){return e.pipe(Object(Cs.a)(function(e){var t=e.targetSnapshot,n=e.guards.canActivateChecks;if(!n.length)return Object(ys.a)(e);var r=0;return Object(Iu.a)(n).pipe(Object(qu.a)(function(e){return function(e,t,n,i){return function(e,t,n,i){var o=Object.keys(e);if(0===o.length)return Object(ys.a)({});var r={};return Object(Iu.a)(o).pipe(Object(Cs.a)(function(o){return function(e,t,n,i){var o=Yd(e,t,i);return Of(o.resolve?o.resolve(t,n):o(t,n))}(e[o],t,n,i).pipe(Object(Os.a)(function(e){r[o]=e}))}),Lu(1),Object(Cs.a)(function(){return Object.keys(r).length===o.length?Object(ys.a)(r):Du.a}))}(e._resolve,e,t,i).pipe(Object(ks.a)(function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),id(e,n).resolve),null}))}(e.route,t,i,o)}),Object(Os.a)(function(){return r++}),Lu(1),Object(Cs.a)(function(t){return r===n.length?Object(ys.a)(e):Du.a}))}))}),Object(Os.a)({next:function(){return r=!0},complete:function(){if(!r){var i=new Ju(e.id,t.serializeUrl(e.extractedUrl),"At least one route resolver didn't emit any value.");n.next(i),e.resolve(!1)}}}))}),Object(Os.a)(function(e){var n=new af(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}))}),fh(function(e){var n=e.targetSnapshot,i=e.id,o=e.extractedUrl,r=e.rawUrl,a=e.extras,s=a.skipLocationChange,c=a.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:i,appliedUrlTree:o,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!c})}),Object(ks.a)(function(e){var n=function(e,t,n){var i=ud(e,t._root,n?n._root:void 0);return new ed(i,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})}),Object(Os.a)(function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)}),(o=t.rootContexts,r=t.routeReuseStrategy,a=function(e){return t.triggerEvent(e)},Object(ks.a)(function(e){return new xd(r,e.targetRouterState,e.currentRouterState,a).activate(o),e})),Object(Os.a)({next:function(){s=!0},complete:function(){s=!0}}),(i=function(){if(!s&&!c){t.resetUrlToCurrentUrlTree();var i=new Ju(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(i),e.resolve(!1)}t.currentNavigation=null},function(e){return e.lift(new $u(i))}),Uu(function(i){if(c=!0,(s=i)&&s.ngNavigationCancelingError){var o=Ed(i.url);o||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var r=new Ju(e.id,t.serializeUrl(e.extractedUrl),i.message);n.next(r),o?setTimeout(function(){var n=t.urlHandlingStrategy.merge(i.url,t.rawUrlTree);return t.scheduleNavigation(n,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var a=new ef(e.id,t.serializeUrl(e.extractedUrl),i);n.next(a);try{e.resolve(t.errorHandler(i))}catch(l){e.reject(l)}}var s;return Du.a}))}))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(t){var n=e.extractLocationChangeInfoFromEvent(t);e.shouldScheduleNavigation(e.lastLocationChangeInfo,n)&&setTimeout(function(){var t=n.source,i=n.state,o=n.urlTree,r={replaceUrl:!0};if(i){var a=Object.assign({},i);delete a.navigationId,0!==Object.keys(a).length&&(r.state=a)}e.scheduleNavigation(o,t,i,r)},0),e.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(e,t){if(!e)return!0;var n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){Td(e),this.config=e.map(Fd),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,i=t.queryParams,o=t.fragment,r=t.queryParamsHandling,a=t.preserveFragment,s=n||this.routerState.root,c=a?this.currentUrlTree.fragment:o,l=null;switch(r){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}return null!==l&&(l=this.removeEmptyProps(l)),function(e,t,n,i,o){if(0===n.length)return pd(t.root,t.root,t,i,o);var r=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new gd(!0,0,e);var t=0,n=!1,i=e.reduce(function(e,i,o){if("object"==typeof i&&null!=i){if(i.outlets){var r={};return kf(i.outlets,function(e,t){r[t]="string"==typeof e?e.split("/"):e}),[].concat(_toConsumableArray(e),[{outlets:r}])}if(i.segmentPath)return[].concat(_toConsumableArray(e),[i.segmentPath])}return"string"!=typeof i?[].concat(_toConsumableArray(e),[i]):0===o?(i.split("/").forEach(function(i,o){0==o&&"."===i||(0==o&&""===i?n=!0:".."===i?t++:""!=i&&e.push(i))}),e):[].concat(_toConsumableArray(e),[i])},[]);return new gd(n,t,i)}(n);if(r.toRoot())return pd(t.root,new Sf([],{}),t,i,o);var a=function(e,t,n){if(e.isAbsolute)return new md(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){var i=n.snapshot._urlSegment;return new md(i,i===t.root,0)}var o=dd(e.commands[0])?0:1;return function(e,t,n){for(var i=e,o=t,r=n;r>o;){if(r-=o,!(i=i.parent))throw new Error("Invalid number of '../'");o=i.segments.length}return new md(i,!1,o-r)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+o,e.numberOfDoubleDots)}(r,t,e),s=a.processChildren?yd(a.segmentGroup,a.index,r.commands):vd(a.segmentGroup,a.index,r.commands);return pd(a.segmentGroup,s,t,i,o)}(s,this.currentUrlTree,e,l,c)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=Ed(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(Ed(e))return xf(this.currentUrlTree,e,t);var n=this.parseUrl(e);return xf(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce(function(t,n){var i=e[n];return null!=i&&(t[n]=i),t},{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe(function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new Zu(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)},function(t){e.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(e,t,n,i,o){var r,a,s,c=this.getTransition(),l="imperative"!==t&&"imperative"===(null==c?void 0:c.source),u=(this.lastSuccessfulId===c.id||this.currentNavigation?c.rawUrl:c.urlAfterRedirects).toString()===e.toString();if(l&&u)return Promise.resolve(!0);o?(r=o.resolve,a=o.reject,s=o.promise):s=new Promise(function(e,t){r=e,a=t});var f=++this.navigationId;return this.setTransition({id:f,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:r,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(e){return Promise.reject(e)})}},{key:"setBrowserUrl",value:function(e,t,n,i){var o=this.urlSerializer.serialize(e);i=i||{},this.location.isCurrentPathEqualTo(o)||t?this.location.replaceState(o,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(o,"",Object.assign(Object.assign({},i),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),e}()).\u0275fac=function(e){return new(e||Oh)(i.Yb(i.N),i.Yb(Tf),i.Yb(gh),i.Yb(a.j),i.Yb(i.r),i.Yb(i.w),i.Yb(i.i),i.Yb(void 0))},Oh.\u0275prov=i.Hb({token:Oh,factory:Oh.\u0275fac}),Oh),wh=((kh=function(){function e(t,n,i,o,r){_classCallCheck(this,e),this.router=t,this.route=n,this.commands=[],this.onChanges=new wc.a,null==i&&o.setAttribute(r.nativeElement,"tabindex","0")}return _createClass(e,[{key:"ngOnChanges",value:function(e){this.onChanges.next(this)}},{key:"onClick",value:function(){var e={skipLocationChange:Ph(this.skipLocationChange),replaceUrl:Ph(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ph(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||kh)(i.Lb(xh),i.Lb(nd),i.Zb("tabindex"),i.Lb(i.E),i.Lb(i.l))},kh.\u0275dir=i.Gb({type:kh,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&i.bc("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[i.wb]}),kh),Mh=((Ch=function(){function e(t,n,i){var o=this;_classCallCheck(this,e),this.router=t,this.route=n,this.locationStrategy=i,this.commands=[],this.onChanges=new wc.a,this.subscription=t.events.subscribe(function(e){e instanceof Zu&&o.updateTargetUrlAndHref()})}return _createClass(e,[{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,i,o){if(0!==e||t||n||i||o)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var r={skipLocationChange:Ph(this.skipLocationChange),replaceUrl:Ph(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ph(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||Ch)(i.Lb(xh),i.Lb(nd),i.Lb(a.k))},Ch.\u0275dir=i.Gb({type:Ch,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&i.bc("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(i.Ub("href",t.href,i.Bc),i.zb("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[i.wb]}),Ch);function Ph(e){return""===e||!!e}var Eh,Sh,Rh,Ih,Ah=((Sh=function(){function e(t,n,i,o,r,a){var s=this;_classCallCheck(this,e),this.router=t,this.element=n,this.renderer=i,this.cdr=o,this.link=r,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(function(e){e instanceof Zu&&s.update()})}return _createClass(e,[{key:"ngAfterContentInit",value:function(){var e=this;Object(Iu.a)([this.links.changes,this.linksWithHrefs.changes,Object(ys.a)(null)]).pipe(Object(Gu.a)()).subscribe(function(t){e.update(),e.subscribeToEachLinkOnChanges()})}},{key:"subscribeToEachLinkOnChanges",value:function(){var e,t=this;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();var n=[].concat(_toConsumableArray(this.links.toArray()),_toConsumableArray(this.linksWithHrefs.toArray()),[this.link,this.linkWithHref]).filter(function(e){return!!e}).map(function(e){return e.onChanges});this.linkInputChangesSubscription=Object(Iu.a)(n).pipe(Object(Gu.a)()).subscribe(function(e){t.isActive!==t.isLinkActive(t.router)(e)&&t.update()})}},{key:"ngOnChanges",value:function(e){this.update()}},{key:"ngOnDestroy",value:function(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}},{key:"update",value:function(){var e=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var t=e.hasActiveLinks();e.isActive!==t&&(e.isActive=t,e.cdr.markForCheck(),e.classes.forEach(function(n){t?e.renderer.addClass(e.element.nativeElement,n):e.renderer.removeClass(e.element.nativeElement,n)}))})}},{key:"isLinkActive",value:function(e){var t=this;return function(n){return e.isActive(n.urlTree,t.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}},{key:"routerLinkActive",set:function(e){var t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(function(e){return!!e})}}]),e}()).\u0275fac=function(e){return new(e||Sh)(i.Lb(xh),i.Lb(i.l),i.Lb(i.E),i.Lb(i.h),i.Lb(wh,8),i.Lb(Mh,8))},Sh.\u0275dir=i.Gb({type:Sh,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){var o;1&e&&(i.Eb(n,wh,!0),i.Eb(n,Mh,!0)),2&e&&(i.uc(o=i.cc())&&(t.links=o),i.uc(o=i.cc())&&(t.linksWithHrefs=o))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[i.wb]}),Sh),Th=((Eh=function(){function e(t,n,o,r,a){_classCallCheck(this,e),this.parentContexts=t,this.location=n,this.resolver=o,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.n,this.deactivateEvents=new i.n,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,o=new Dh(e,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,o),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),e}()).\u0275fac=function(e){return new(e||Eh)(i.Lb(gh),i.Lb(i.P),i.Lb(i.j),i.Zb("name"),i.Lb(i.h))},Eh.\u0275dir=i.Gb({type:Eh,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),Eh),Dh=function(){function e(t,n,i){_classCallCheck(this,e),this.route=t,this.childContexts=n,this.parent=i}return _createClass(e,[{key:"get",value:function(e,t){return e===nd?this.route:e===gh?this.childContexts:this.parent.get(e,t)}}]),e}(),jh=function e(){_classCallCheck(this,e)},Fh=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return Object(ys.a)(null)}}]),e}(),Qh=((Ih=function(){function e(t,n,i,o,r){_classCallCheck(this,e),this.router=t,this.injector=o,this.preloadingStrategy=r,this.loader=new ph(n,i,function(e){return t.triggerEvent(new sf(e))},function(e){return t.triggerEvent(new cf(e))})}return _createClass(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(Object(xs.a)(function(e){return e instanceof Zu}),Object(qu.a)(function(){return e.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var e=this.injector.get(i.x);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,i=[],o=_createForOfIteratorHelper(t);try{for(o.s();!(n=o.n()).done;){var r=n.value;if(r.loadChildren&&!r.canLoad&&r._loadedConfig){var a=r._loadedConfig;i.push(this.processRoutes(a.module,a.routes))}else r.loadChildren&&!r.canLoad?i.push(this.preloadConfig(e,r)):r.children&&i.push(this.processRoutes(e,r.children))}}catch(s){o.e(s)}finally{o.f()}return Object(Iu.a)(i).pipe(Object(Gu.a)(),Object(ks.a)(function(e){}))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,function(){return n.loader.load(e.injector,t).pipe(Object(Cs.a)(function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)}))})}}]),e}()).\u0275fac=function(e){return new(e||Ih)(i.Yb(xh),i.Yb(i.w),i.Yb(i.i),i.Yb(i.r),i.Yb(jh))},Ih.\u0275prov=i.Hb({token:Ih,factory:Ih.\u0275fac}),Ih),Lh=((Rh=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.router=t,this.viewportScroller=n,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}return _createClass(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe(function(t){t instanceof Xu?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Zu&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe(function(t){t instanceof hf&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new hf(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Rh)(i.Yb(xh),i.Yb(a.w),i.Yb(void 0))},Rh.\u0275prov=i.Hb({token:Rh,factory:Rh.\u0275fac}),Rh),Nh=new i.q("ROUTER_CONFIGURATION"),zh=new i.q("ROUTER_FORROOT_GUARD"),Vh=[a.j,{provide:Tf,useClass:Df},{provide:xh,useFactory:function(e,t,n,i,o,r,s){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0,f=new xh(null,e,t,n,i,o,r,_f(s));if(l&&(f.urlHandlingStrategy=l),u&&(f.routeReuseStrategy=u),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(c,f),c.enableTracing){var d=Object(a.E)();f.events.subscribe(function(e){d.logGroup("Router Event: "+e.constructor.name),d.log(e.toString()),d.log(e),d.logGroupEnd()})}return f},deps:[Tf,gh,a.j,i.r,i.w,i.i,hh,Nh,[function(){return function e(){_classCallCheck(this,e)}}(),new i.A],[function(){return function e(){_classCallCheck(this,e)}}(),new i.A]]},gh,{provide:nd,useFactory:function(e){return e.routerState.root},deps:[xh]},{provide:i.w,useClass:i.K},Qh,Fh,function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return t().pipe(Uu(function(){return Object(ys.a)(null)}))}}]),e}(),{provide:Nh,useValue:{enableTracing:!1}}];function Bh(){return new i.y("Router",xh)}var Uh,Hh=((Uh=function(){function e(t,n){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[Vh,Wh(t),{provide:zh,useFactory:$h,deps:[[xh,new i.A,new i.J]]},{provide:Nh,useValue:n||{}},{provide:a.k,useFactory:qh,deps:[a.s,[new i.p(a.a),new i.A],Nh]},{provide:Lh,useFactory:Kh,deps:[xh,a.w,Nh]},{provide:jh,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Fh},{provide:i.y,multi:!0,useFactory:Bh},[Yh,{provide:i.d,multi:!0,useFactory:Xh,deps:[Yh]},{provide:op,useFactory:Zh,deps:[Yh]},{provide:i.b,multi:!0,useExisting:op}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[Wh(t)]}}}]),e}()).\u0275mod=i.Jb({type:Uh}),Uh.\u0275inj=i.Ib({factory:function(e){return new(e||Uh)(i.Yb(zh,8),i.Yb(xh,8))}}),Uh);function Kh(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Lh(e,t,n)}function qh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new a.f(e,t):new a.q(e,t)}function $h(e){return"guarded"}function Wh(e){return[{provide:i.a,multi:!0,useValue:e},{provide:hh,multi:!0,useValue:e}]}var Gh,Yh=((Gh=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new wc.a}return _createClass(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(a.i,Promise.resolve(null)).then(function(){var t=null,n=new Promise(function(e){return t=e}),i=e.injector.get(xh),o=e.injector.get(Nh);return"disabled"===o.initialNavigation?(i.setUpLocationChangeListener(),t(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(i.hooks.afterPreactivation=function(){return e.initNavigation?Object(ys.a)(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},i.initialNavigation()):t(!0),n})}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(Nh),n=this.injector.get(Qh),o=this.injector.get(Lh),r=this.injector.get(xh),a=this.injector.get(i.g);e===a.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||r.initialNavigation(),n.setUpPreloading(),o.init(),r.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}]),e}()).\u0275fac=function(e){return new(e||Gh)(i.Yb(i.r))},Gh.\u0275prov=i.Hb({token:Gh,factory:Gh.\u0275fac}),Gh);function Xh(e){return e.appInitializer.bind(e)}function Zh(e){return e.bootstrapListener.bind(e)}var Jh,ep,tp,np,ip,op=new i.q("Router Initializer"),rp=((ep=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,i)).router=e,o.keycloak=i,o}return _createClass(n,[{key:"isAccessAllowed",value:function(e,t){return Object(Eu.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i,o=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.authenticated,n.t0){n.next=4;break}return n.next=4,this.keycloak.login({redirectUri:window.location.origin+"/epilexo_demo/"+t.url});case 4:return i=e.data.roles,n.abrupt("return",!(i instanceof Array&&0!==i.length)||!(!this.roles||0===this.roles.length)&&(i.every(function(e){return o.roles.includes(e)})||this.router.navigate(["/"]),i.every(function(e){return o.roles.includes(e)})));case 6:case"end":return n.stop()}},n,this)}))}}]),n}(Ru.b)).\u0275fac=function(e){return new(e||ep)(i.Yb(xh),i.Yb(Ru.d))},ep.\u0275prov=i.Hb({token:ep,factory:ep.\u0275fac,providedIn:"root"}),ep),ap=((Jh=function(){function e(t){_classCallCheck(this,e),this.http=t,this.baseUrl_document="/cash/",this._epigraphyData=new Au.a(null),this._epigraphyTextData=new Au.a(null),this._epigraphyLeidenData=new Au.a(null),this._epigraphyTranslationData=new Au.a(null),this._metadataData=new Au.a(null),this._triggerMetadataPanel=new Au.a(null),this.epigraphyData$=this._epigraphyData.asObservable(),this.epigraphyTextData$=this._epigraphyTextData.asObservable(),this.epigraphyLeidenData$=this._epigraphyLeidenData.asObservable(),this.epigraphyTranslationData$=this._epigraphyTranslationData.asObservable(),this.metadataData$=this._metadataData.asObservable(),this.triggerMetadataPanel$=this._triggerMetadataPanel.asObservable()}return _createClass(e,[{key:"sendToEpigraphyTab",value:function(e){this._epigraphyData.next(e)}},{key:"sendTextToEpigraphyTab",value:function(e){this._epigraphyTextData.next(e)}},{key:"sendTranslationToEpigraphyTab",value:function(e){this._epigraphyTranslationData.next(e)}},{key:"sendLeidenToEpigraphyTab",value:function(e){this._epigraphyLeidenData.next(e)}},{key:"sendToMetadataPanel",value:function(e){this._metadataData.next(e)}},{key:"triggerMetadataPanel",value:function(e){this._triggerMetadataPanel.next(e)}},{key:"getDocumentSystem",value:function(){return this.http.get(this.baseUrl_document+"api/getDocumentSystem?requestUUID=11")}},{key:"addFolder",value:function(e){return this.http.post(this.baseUrl_document+"api/crud/addFolder",e)}},{key:"removeFolder",value:function(e){return this.http.post(this.baseUrl_document+"api/crud/removeFolder",e)}},{key:"moveFolder",value:function(e){return this.http.post(this.baseUrl_document+"api/crud/moveFolder",e)}},{key:"renameFolder",value:function(e){return this.http.post(this.baseUrl_document+"api/crud/renameFolder",e)}},{key:"uploadFile",value:function(e,t,n){return this.http.post(this.baseUrl_document+"api/crud/uploadFile?requestUUID="+n+"&element-id="+t,e)}},{key:"removeFile",value:function(e){return this.http.post(this.baseUrl_document+"api/crud/removeFile",e)}},{key:"renameFile",value:function(e){return this.http.post(this.baseUrl_document+"api/crud/renameFile",e)}},{key:"moveFileTo",value:function(e){return this.http.post(this.baseUrl_document+"api/crud/moveFileTo",e)}},{key:"copyFileTo",value:function(e){return this.http.post(this.baseUrl_document+"api/crud/copyFileTo",e)}},{key:"downloadFile",value:function(e){return this.http.post(this.baseUrl_document+"api/crud/downloadFile",e)}},{key:"updateMetadata",value:function(e){return this.http.post(this.baseUrl_document+"api/crud/updateMetadata",e)}},{key:"deleteMetadata",value:function(e){return this.http.post(this.baseUrl_document+"api/crud/deleteMetadata",e)}},{key:"searchFiles",value:function(e){return this.http.post(this.baseUrl_document+"api/searchFiles",e)}},{key:"createFile",value:function(e){return this.http.post(this.baseUrl_document+"api/crud/createFile",e)}},{key:"getContent",value:function(e){return this.http.get(this.baseUrl_document+"api/v1/getcontent?requestUUID=11&nodeid="+e)}},{key:"testConvert",value:function(e){return this.http.post("/leiden/",e)}}]),e}()).\u0275fac=function(e){return new(e||Jh)(i.Yb(Ys.b))},Jh.\u0275prov=i.Hb({token:Jh,factory:Jh.\u0275fac,providedIn:"root"}),Jh),sp=n("h2iL"),cp=((tp=function(){function e(t){_classCallCheck(this,e),this.http=t,this.baseUrl="https://api.zotero.org/groups/2552746/items",this._addBiblioItem=new Au.a(null),this._triggerPanel=new Au.a(null),this.addBiblioReq$=this._addBiblioItem.asObservable(),this.triggerPanel$=this._triggerPanel.asObservable()}return _createClass(e,[{key:"sendDataToBibliographyPanel",value:function(e){this._addBiblioItem.next(e)}},{key:"triggerPanel",value:function(e){this._triggerPanel.next(e)}},{key:"bootstrapData",value:function(e,t,n){return this.http.get(this.baseUrl+"?limit=25&start="+e+"&sort="+t+"&direction="+n+"&v=3")}},{key:"filterBibliography",value:function(e,t,n,i,o){return this.http.get(this.baseUrl+"?limit=25&q="+i+"&qmode="+o+"&start="+e+"&sort="+t+"&direction="+n+"&v=3")}}]),e}()).\u0275fac=function(e){return new(e||tp)(i.Yb(Ys.b))},tp.\u0275prov=i.Hb({token:tp,factory:tp.\u0275fac,providedIn:"root"}),tp),lp=n("Iab2"),up=((np=function(){function e(){_classCallCheck(this,e),this.isEpigraphyExpanded=!1,this.isEditExpanded=!1,this.isEditOpen=!1,this.isEpigraphyOpen=!1,this._openEdit=new Au.a(null),this._openEpigraphy=new Au.a(null),this._expandEpigraphy=new Au.a(null),this._expandEdit=new Au.a(null),this.expEpigraphy$=this._expandEpigraphy.asObservable(),this.expEdit$=this._expandEdit.asObservable(),this.openEdit$=this._openEdit.asObservable(),this.openEpigraphy$=this._openEpigraphy.asObservable()}return _createClass(e,[{key:"expandCollapseEpigraphy",value:function(e){null!=e?(this.isEpigraphyExpanded=e,this._expandEpigraphy.next(this.isEpigraphyExpanded)):(this.isEpigraphyExpanded=!this.isEpigraphyExpanded,this._expandEpigraphy.next(this.isEpigraphyExpanded))}},{key:"expandCollapseEdit",value:function(e){null!=e?(this.isEditExpanded=e,this._expandEdit.next(this.isEditExpanded)):(this.isEditExpanded=!this.isEditExpanded,this._expandEdit.next(this.isEditExpanded))}},{key:"openCollapseEdit",value:function(e){null!=e?(this.isEditOpen=e,this._openEdit.next(e)):(this.isEditOpen=!this.isEditOpen,this._openEdit.next(this.isEditOpen))}},{key:"openCollapseEpigraphy",value:function(e){null!=e?(this.isEpigraphyOpen=e,this._openEpigraphy.next(e)):(this.isEpigraphyOpen=!this.isEpigraphyOpen,this._openEpigraphy.next(this.isEpigraphyOpen))}},{key:"isEditTabExpanded",value:function(){return this.isEditExpanded}},{key:"isEpigraphyTabExpanded",value:function(){return this.isEpigraphyExpanded}},{key:"isEditTabOpen",value:function(){return this.isEditOpen}},{key:"isEpigraphyTabOpen",value:function(){return this.isEpigraphyOpen}}]),e}()).\u0275fac=function(e){return new(e||np)},np.\u0275prov=i.Hb({token:np,factory:np.\u0275fac,providedIn:"root"}),np),fp=n("EcEN"),dp=((ip=function(){function e(t){_classCallCheck(this,e),this.http=t,this.baseUrl="/cash/api/v1/",this._triggerSearch=new Au.a(null),this._deleteAnnoRequest=new Au.a(null),this._getIdText=new Au.a(null),this.arrayPanelFormsData={},this.triggerSearch$=this._triggerSearch.asObservable(),this.deleteAnnoReq$=this._deleteAnnoRequest.asObservable(),this.getIdText$=this._getIdText.asObservable()}return _createClass(e,[{key:"triggerSearch",value:function(e){this._triggerSearch.next(e)}},{key:"deleteAnnotationRequest",value:function(e,t){this._deleteAnnoRequest.next({id:e,node_id:t})}},{key:"getIdText",value:function(e){this._getIdText.next(e)}},{key:"getPanelForm",value:function(e){return this.arrayPanelFormsData[e]}},{key:"getAllPanelForms",value:function(){return this.arrayPanelFormsData}},{key:"closePanelForm",value:function(e){this.arrayPanelFormsData[e]=void 0}},{key:"newPanelForm",value:function(e){this.arrayPanelFormsData[e]={},this.arrayPanelFormsData[e].data=void 0,this.arrayPanelFormsData[e].isOpen=void 0}},{key:"getTokens",value:function(e){return this.http.get(this.baseUrl+"token?requestUUID=test123&nodeid="+e)}},{key:"getText",value:function(e){return this.http.get(this.baseUrl+"gettext?requestUUID=test123&nodeid="+e)}},{key:"addAnnotation",value:function(e,t){return this.http.post(this.baseUrl+"annotation?requestUUID=test123&nodeid="+t,e)}},{key:"getAnnotation",value:function(e){return this.http.get(this.baseUrl+"annotation?requestUUID=test123&nodeid="+e)}},{key:"deleteAnnotation",value:function(e){return this.http.delete(this.baseUrl+"annotate?requestUUID=test123&annotationID="+e)}},{key:"updateAnnotation",value:function(e){return this.http.put(this.baseUrl+"annotation?requestUUID=test123",e)}}]),e}()).\u0275fac=function(e){return new(e||ip)(i.Yb(Ys.b))},ip.\u0275prov=i.Hb({token:ip,factory:ip.\u0275fac,providedIn:"root"}),ip),hp=["modalRoot"],pp=["modalBody"],bp=["modalHeader"],gp=["modalFooter"],mp=["closeIcon"],vp=function(e,t){return{"dt-icon-maximize":e,"dt-icon-normalize":t}};function yp(e,t){if(1&e){var n=i.Sb();i.Rb(0,"i",14),i.bc("click",function(e){return i.zc(n),i.fc().toggleMaximize(e)}),i.Qb()}if(2&e){var o=i.fc();i.mc("ngClass",i.rc(1,vp,!o.maximized,o.maximized))}}var _p=[[["",8,"app-modal-header"]],[["",8,"app-modal-body"]],[["",8,"app-modal-footer"]]],Cp=[".app-modal-header",".app-modal-body",".app-modal-footer"];function kp(e){return"touchstart"===e.type||"mousedown"===e.type&&0===e.button}function Op(e){return"touchend"===e.type||"touchcancel"===e.type?e.changedTouches[0]:e.type.startsWith("touch")?e.targetTouches[0]:e}var xp,wp,Mp,Pp,Ep,Sp,Rp=((Sp=function(){function e(t){_classCallCheck(this,e),this.element=t,this.scrollTopEnable=!0,this.backdrop=!0,this.closeModal=new i.n}return _createClass(e,[{key:"ngAfterViewChecked",value:function(){this.executePostDisplayActions&&(this.center(),this.executePostDisplayActions=!1)}},{key:"onKeyDown",value:function(e){e.preventDefault(),e.stopPropagation(),this.hide()}},{key:"onWindowResize",value:function(){this.executePostDisplayActions=!0,this.center()}},{key:"show",value:function(){var e=this;this.executePostDisplayActions=!0,this.visible=!0,setTimeout(function(){e.modalRoot.nativeElement.focus(),e.scrollTopEnable&&(e.modalBody.nativeElement.scrollTop=0)},1)}},{key:"hide",value:function(){this.visible=!1,this.closeModal.emit(!0),this.focusLastModal()}},{key:"center",value:function(){var e=this.modalRoot.nativeElement.offsetWidth,t=this.modalRoot.nativeElement.offsetHeight;0===e&&0===t&&(this.modalRoot.nativeElement.style.visibility="hidden",this.modalRoot.nativeElement.style.display="block",e=this.modalRoot.nativeElement.offsetWidth,t=this.modalRoot.nativeElement.offsetHeight,this.modalRoot.nativeElement.style.display="none",this.modalRoot.nativeElement.style.visibility="visible");var n=Math.max((window.innerWidth-e)/2,0),i=Math.max((window.innerHeight-t)/2,0);this.modalRoot.nativeElement.style.left=n+"px",this.modalRoot.nativeElement.style.top=i+"px"}},{key:"initDrag",value:function(e){e.target!==this.closeIcon.nativeElement&&(this.maximized||(this.dragEventTarget=e))}},{key:"onResize",value:function(e){"vertical"===e.direction&&this.calcBodyHeight()}},{key:"calcBodyHeight",value:function(){this.modalBody.nativeElement.style.height=this.modalRoot.nativeElement.offsetHeight-(this.modalHeader.nativeElement.offsetHeight+this.modalFooter.nativeElement.offsetHeight)+"px",this.modalBody.nativeElement.style.maxHeight="none"}},{key:"getMaxModalIndex",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body *";return Array.from(document.querySelectorAll(e)).map(function(e){return parseFloat(window.getComputedStyle(e).zIndex)}).filter(function(e){return!isNaN(e)}).sort(function(e,t){return e-t}).pop()||0}(".ui-modal")}},{key:"focusLastModal",value:function(){var e=function(e,t){if("function"==typeof e.closest)return e.closest(".ui-modal")||null;for(;e;){if(e.matches(".ui-modal"))return e;e=e.parentElement}return null}(this.element.nativeElement.parentElement);e&&e.focus()}},{key:"toggleMaximize",value:function(e){this.maximized?this.revertMaximize():this.maximize(),e.preventDefault()}},{key:"maximize",value:function(){this.preMaximizePageX=parseFloat(this.modalRoot.nativeElement.style.top),this.preMaximizePageY=parseFloat(this.modalRoot.nativeElement.style.left),this.preMaximizeRootWidth=this.modalRoot.nativeElement.offsetWidth,this.preMaximizeRootHeight=this.modalRoot.nativeElement.offsetHeight,this.preMaximizeBodyHeight=this.modalBody.nativeElement.offsetHeight,this.modalRoot.nativeElement.style.top="0px",this.modalRoot.nativeElement.style.left="0px",this.modalRoot.nativeElement.style.width="100vw",this.modalRoot.nativeElement.style.height="100vh",this.modalBody.nativeElement.style.height="calc(100vh - "+(this.modalHeader.nativeElement.offsetHeight+this.modalFooter.nativeElement.offsetHeight)+"px)",this.modalBody.nativeElement.style.maxHeight="none",this.maximized=!0}},{key:"revertMaximize",value:function(){this.modalRoot.nativeElement.style.top=this.preMaximizePageX+"px",this.modalRoot.nativeElement.style.left=this.preMaximizePageY+"px",this.modalRoot.nativeElement.style.width=this.preMaximizeRootWidth+"px",this.modalRoot.nativeElement.style.height=this.preMaximizeRootHeight+"px",this.modalBody.nativeElement.style.height=this.preMaximizeBodyHeight+"px",this.maximized=!1}},{key:"moveOnTop",value:function(){if(!this.backdrop){var e=this.getMaxModalIndex(),t=parseFloat(window.getComputedStyle(this.modalRoot.nativeElement).zIndex)||0;t<=e&&(t=e+1,this.modalRoot.nativeElement.style.zIndex=t.toString())}}}]),e}()).\u0275fac=function(e){return new(e||Sp)(i.Lb(i.l))},Sp.\u0275cmp=i.Fb({type:Sp,selectors:[["app-modal"]],viewQuery:function(e,t){var n;1&e&&(i.Pc(hp,!0),i.Pc(pp,!0),i.Pc(bp,!0),i.Pc(gp,!0),i.Pc(mp,!0)),2&e&&(i.uc(n=i.cc())&&(t.modalRoot=n.first),i.uc(n=i.cc())&&(t.modalBody=n.first),i.uc(n=i.cc())&&(t.modalHeader=n.first),i.uc(n=i.cc())&&(t.modalFooter=n.first),i.uc(n=i.cc())&&(t.closeIcon=n.first))},hostBindings:function(e,t){1&e&&i.bc("keydown.esc",function(e){return t.onKeyDown(e)})("resize",function(){return t.onWindowResize()},!1,i.yc)},inputs:{scrollTopEnable:"scrollTopEnable",backdrop:"backdrop",maximizable:"maximizable",inViewport:"inViewport"},outputs:{closeModal:"closeModal"},ngContentSelectors:Cp,decls:17,vars:15,consts:[[1,"ui-modal-overlay"],["tabindex","-1","role","dialog","appResizable","","appDraggable","",1,"ui-modal",3,"south","east","southEast","southWest","west","northWest","north","northEast","dragEventTarget","inViewport","resizing","mousedown","touchstart"],["modalRoot",""],[1,"ui-modal-header",3,"mousedown","touchstart"],["modalHeader",""],[1,"ui-titlebar"],[1,"ui-controlbar"],["class","ui-icon",3,"ngClass","click",4,"ngIf"],[1,"ui-icon","dt-icon-close",3,"click"],["closeIcon",""],[1,"ui-modal-body"],["modalBody",""],[1,"ui-modal-footer"],["modalFooter",""],[1,"ui-icon",3,"ngClass","click"]],template:function(e,t){1&e&&(i.lc(_p),i.Mb(0,"div",0),i.Rb(1,"div",1,2),i.bc("resizing",function(e){return t.onResize(e)})("mousedown",function(){return t.moveOnTop()})("touchstart",function(){return t.moveOnTop()}),i.Rb(3,"div",3,4),i.bc("mousedown",function(e){return t.initDrag(e)})("touchstart",function(e){return t.initDrag(e)}),i.Rb(5,"div",5),i.kc(6),i.Qb(),i.Rb(7,"div",6),i.Ic(8,yp,1,4,"i",7),i.Rb(9,"i",8,9),i.bc("click",function(){return t.hide()}),i.Qb(),i.Qb(),i.Qb(),i.Rb(11,"div",10,11),i.kc(13,1),i.Qb(),i.Rb(14,"div",12,13),i.kc(16,2),i.Qb(),i.Qb()),2&e&&(i.Gc("display",t.visible&&t.backdrop?"block":"none"),i.yb(1),i.Gc("display",t.visible?"block":"none"),i.mc("south",!0)("east",!0)("southEast",!0)("southWest",!0)("west",!0)("northWest",!0)("north",!0)("northEast",!0)("dragEventTarget",t.dragEventTarget)("inViewport",t.inViewport),i.yb(7),i.mc("ngIf",t.maximizable))},directives:function(){return[Ip,Tp,a.n,a.l]},styles:['.ui-modal *,.ui-modal :after,.ui-modal :before{box-sizing:border-box}.ui-modal,.ui-modal-overlay{z-index:10}.ui-modal-overlay{background-color:rgba(0,0,0,.2);height:100%;width:100%}.ui-modal,.ui-modal-overlay{display:none;left:0;position:fixed;top:0}.ui-modal{background-color:#fff;box-shadow:0 .25rem .5rem 0 rgba(0,0,0,.2),0 .375rem 1.25rem 0 rgba(0,0,0,.19);min-height:12.5rem;min-width:16.25rem;outline:none;padding:0;width:31.25rem}.ui-modal-header{-webkit-user-select:none;align-items:center;background-color:var(--dt-color-primary,#5b9bd5);color:#fff;display:flex;flex-direction:row;flex-wrap:nowrap;padding:.5rem 1rem;position:relative;user-select:none}.ui-modal-body{-webkit-overflow-scrolling:touch;max-height:calc(100vh - 12.5rem);overflow-y:auto;padding:.625rem 1rem;position:relative}.ui-modal-footer{padding:1rem}.ui-titlebar{flex-grow:1;font-size:1.125rem;height:100%;overflow:hidden}.ui-controlbar,.ui-titlebar{align-items:center;display:flex}.ui-controlbar{background-color:inherit}.ui-icon{cursor:pointer;font-size:1.4rem;margin-left:.3em}.ui-icon:hover{opacity:.75}.dragging{-webkit-user-select:none;box-shadow:0 .25rem .5rem rgba(102,175,233,.6),0 .375rem 1.25rem rgba(0,0,0,.2);cursor:move;outline:0;user-select:none}.dt-icon-maximize{background-color:initial;border:.1em solid;border-top:.2em solid}.dt-icon-maximize,.dt-icon-normalize{display:inline-block;height:1em;position:relative;width:1em}.dt-icon-normalize{background-color:inherit}.dt-icon-normalize:after,.dt-icon-normalize:before{background-color:inherit;border:.1em solid;content:"";height:.8em;position:absolute;width:.8em}.dt-icon-normalize:before{right:0;top:0}.dt-icon-normalize:after{border-top-width:.2em;bottom:0;left:0}.dt-icon-close{background-color:initial;display:inline-block;height:1em;position:relative;width:1em}.dt-icon-close:after,.dt-icon-close:before{background-color:currentColor;content:"";height:.18em;left:50%;position:absolute;top:50%;width:1.2em}.dt-icon-close:before{transform:translate(-50%,-50%) rotate(-225deg)}.dt-icon-close:after{transform:translate(-50%,-50%) rotate(225deg)}.resize-handle-e{cursor:e-resize;height:100%;position:absolute;right:-.3125rem;top:0;width:.4375rem}.resize-handle-se{bottom:0;cursor:se-resize;height:1rem;position:absolute;right:0;width:1rem}.resize-handle-s{bottom:-.3125rem;cursor:s-resize;height:.4375rem;left:0;position:absolute;width:100%}.resize-handle-sw{bottom:0;cursor:sw-resize;height:7px;height:15px;left:0;position:absolute;width:15px}.resize-handle-w{cursor:w-resize;height:100%;left:-5px;position:absolute;top:0;width:7px}.resize-handle-nw{cursor:nw-resize;height:7px;height:15px;left:0;position:absolute;top:0;width:15px}.resize-handle-n{cursor:n-resize;height:7px;left:0;position:absolute;top:-5px;width:95%}.resize-handle-ne{cursor:ne-resize;height:7px;height:15px;position:absolute;right:0;top:0;width:15px}.resizing{-webkit-user-select:none;user-select:none}'],encapsulation:2}),Sp),Ip=((Ep=function(){function e(t){_classCallCheck(this,e),this.resizeBegin=new i.n,this.resizing=new i.n,this.resizeEnd=new i.n,this.element=t.nativeElement}return _createClass(e,[{key:"ngAfterViewInit",value:function(){this.south&&this.createHandle("resize-handle-s"),this.east&&this.createHandle("resize-handle-e"),this.southEast&&this.createHandle("resize-handle-se"),this.southWest&&this.createHandle("resize-handle-sw"),this.west&&this.createHandle("resize-handle-w"),this.northWest&&this.createHandle("resize-handle-nw"),this.north&&this.createHandle("resize-handle-n"),this.northEast&&this.createHandle("resize-handle-ne");var e=window.getComputedStyle(this.element);this.minWidth=parseFloat(e.minWidth),this.maxWidth=parseFloat(e.maxWidth),this.minHeight=parseFloat(e.minHeight),this.maxHeight=parseFloat(e.maxHeight)}},{key:"ngOnDestroy",value:function(){this.destroySubscription()}},{key:"onMousedown",value:function(e){var t=this;if(kp(e)){var n=e.target.classList,i=n.contains("resize-handle-s"),o=n.contains("resize-handle-e"),r=n.contains("resize-handle-se"),a=n.contains("resize-handle-sw"),s=n.contains("resize-handle-w"),c=n.contains("resize-handle-nw"),l=n.contains("resize-handle-n"),u=n.contains("resize-handle-ne"),f=Op(e),d=this.element.clientWidth,h=this.element.clientHeight,p=this.element.offsetLeft,b=this.element.offsetTop,g=f.screenX,m=f.screenY,v=e.type.startsWith("touch"),y=v?"touchmove":"mousemove",_=v?"touchend":"mouseup";if(i||o||r||a||s||c||l||u){this.initResize(e,i,o,r,a,s,c,l,u);var C=Object(_s.a)(document,_);this.subscription=C.subscribe(function(e){return t.onMouseup(e)});var k=Object(_s.a)(document,y).pipe(Object(Sc.a)(C)).subscribe(function(e){return t.move(e,d,h,b,p,g,m)});this.subscription.add(k)}}}},{key:"move",value:function(e,t,n,i,o,r,a){var s=Op(e),c=s.screenX-r,l=s.screenY-a;this.newWidth=t-(this.resizingSW||this.resizingW||this.resizingNW?c:-c),this.newHeight=n-(this.resizingNW||this.resizingN||this.resizingNE?l:-l),this.newLeft=o+c,this.newTop=i+l,this.resizeWidth(s),this.resizeHeight(s)}},{key:"onMouseup",value:function(e){this.endResize(e),this.destroySubscription()}},{key:"destroySubscription",value:function(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=void 0)}},{key:"createHandle",value:function(e){var t=document.createElement("span");t.className=e,this.element.appendChild(t)}},{key:"initResize",value:function(e,t,n,i,o,r,a,s,c){t&&(this.resizingS=!0),n&&(this.resizingE=!0),i&&(this.resizingSE=!0),o&&(this.resizingSW=!0),r&&(this.resizingW=!0),a&&(this.resizingNW=!0),s&&(this.resizingN=!0),c&&(this.resizingNE=!0),this.element.classList.add("resizing"),this.newWidth=this.element.clientWidth,this.newHeight=this.element.clientHeight,this.newLeft=this.element.offsetLeft,this.newTop=this.element.offsetTop,e.stopPropagation(),this.resizeBegin.emit()}},{key:"endResize",value:function(e){this.resizingS=!1,this.resizingE=!1,this.resizingSE=!1,this.resizingSW=!1,this.resizingW=!1,this.resizingNW=!1,this.resizingN=!1,this.resizingNE=!1,this.element.classList.remove("resizing"),this.resizeEnd.emit({event:Op(e),width:this.newWidth,height:this.newHeight})}},{key:"resizeWidth",value:function(e){var t=!this.minWidth||this.newWidth>=this.minWidth,n=!this.maxWidth||this.newWidth<=this.maxWidth;(this.resizingSE||this.resizingE||this.resizingNE)&&t&&n&&(this.ghost||(this.element.style.width=this.newWidth+"px")),(this.resizingSW||this.resizingW||this.resizingNW)&&t&&n&&(this.element.style.left=this.newLeft+"px",this.element.style.width=this.newWidth+"px"),this.resizing.emit({event:e,width:this.newWidth,height:this.newHeight,direction:"horizontal"})}},{key:"resizeHeight",value:function(e){var t=!this.minHeight||this.newHeight>=this.minHeight,n=!this.maxHeight||this.newHeight<=this.maxHeight;(this.resizingSE||this.resizingS||this.resizingSW)&&t&&n&&(this.ghost||(this.element.style.height=this.newHeight+"px")),(this.resizingNW||this.resizingN||this.resizingNE)&&t&&n&&(this.ghost||(this.element.style.top=this.newTop+"px",this.element.style.height=this.newHeight+"px")),this.resizing.emit({event:e,width:this.newWidth,height:this.newHeight,direction:"vertical"})}}]),e}()).\u0275fac=function(e){return new(e||Ep)(i.Lb(i.l))},Ep.\u0275dir=i.Gb({type:Ep,selectors:[["","appResizable",""]],hostBindings:function(e,t){1&e&&i.bc("mousedown",function(e){return t.onMousedown(e)})("touchstart",function(e){return t.onMousedown(e)})},inputs:{south:"south",east:"east",southEast:"southEast",ghost:"ghost",southWest:"southWest",west:"west",northWest:"northWest",north:"north",northEast:"northEast"},outputs:{resizeBegin:"resizeBegin",resizing:"resizing",resizeEnd:"resizeEnd"}}),Ep),Ap=((Pp=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:Pp}),Pp.\u0275inj=i.Ib({factory:function(e){return new(e||Pp)}}),Pp),Tp=((Mp=function(){function e(t,n){_classCallCheck(this,e),this.element=t,this.ngZone=n,this.dragX=!0,this.dragY=!0,this.dragStart=new i.n,this.dragMove=new i.n,this.dragEnd=new i.n,this.globalListeners=new Map}return _createClass(e,[{key:"ngOnChanges",value:function(e){e.dragEventTarget&&e.dragEventTarget.currentValue&&this.onMousedown(this.dragEventTarget)}},{key:"ngOnDestroy",value:function(){this.removeEventListener()}},{key:"onMousedown",value:function(e){if(kp(e)&&(this.dragX||this.dragY)){var t=Op(e);this.initDrag(t.pageX,t.pageY),this.addEventListeners(e),this.dragStart.emit(e)}}},{key:"onMousemove",value:function(e){var t=Op(e);this.onDrag(t.pageX,t.pageY),this.dragMove.emit(e)}},{key:"onMouseup",value:function(e){this.endDrag(),this.removeEventListener(),this.dragEnd.emit(e)}},{key:"addEventListeners",value:function(e){var t=this,n=e.type.startsWith("touch"),i=n?"touchend":"mouseup";this.globalListeners.set(n?"touchmove":"mousemove",{handler:this.onMousemove.bind(this),options:!1}).set(i,{handler:this.onMouseup.bind(this),options:!1}),this.ngZone.runOutsideAngular(function(){t.globalListeners.forEach(function(e,t){window.document.addEventListener(t,e.handler,e.options)})})}},{key:"removeEventListener",value:function(){this.globalListeners.forEach(function(e,t){window.document.removeEventListener(t,e.handler,e.options)})}},{key:"initDrag",value:function(e,t){this.isDragging=!0,this.lastPageX=e,this.lastPageY=t,this.element.nativeElement.classList.add("dragging"),this.elementWidth=this.element.nativeElement.offsetWidth,this.elementHeight=this.element.nativeElement.offsetHeight,this.vw=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),this.vh=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)}},{key:"onDrag",value:function(e,t){if(this.isDragging){var n=e-this.lastPageX,i=t-this.lastPageY,o=this.element.nativeElement.getBoundingClientRect(),r=o.left+n,a=o.top+i,s=!this.inViewport||a>=0&&a+this.elementHeight<=this.vh;(!this.inViewport||r>=0&&r+this.elementWidth<=this.vw)&&(this.lastPageX=e),s&&(this.lastPageY=t),this.inViewport&&(r<0&&(r=0),r+this.elementWidth>this.vw&&(r=this.vw-this.elementWidth),a<0&&(a=0),a+this.elementHeight>this.vh&&(a=this.vh-this.elementHeight)),this.element.nativeElement.style.left=r+"px",this.element.nativeElement.style.top=a+"px"}}},{key:"endDrag",value:function(){this.isDragging=!1,this.element.nativeElement.classList.remove("dragging")}}]),e}()).\u0275fac=function(e){return new(e||Mp)(i.Lb(i.l),i.Lb(i.z))},Mp.\u0275dir=i.Gb({type:Mp,selectors:[["","appDraggable",""]],inputs:{dragX:"dragX",dragY:"dragY",dragEventTarget:"dragEventTarget",inViewport:"inViewport"},outputs:{dragStart:"dragStart",dragMove:"dragMove",dragEnd:"dragEnd"},features:[i.wb]}),Mp),Dp=((wp=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:wp}),wp.\u0275inj=i.Ib({factory:function(e){return new(e||wp)}}),wp),jp=((xp=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:xp}),xp.\u0275inj=i.Ib({factory:function(e){return new(e||xp)},imports:[[a.b,Ap,Dp]]}),xp),Fp=["metadata_tags"],Qp=["treeText"],Lp=["uploadFile"],Np=["renameNodeInput"],zp=["editMetadata"];function Vp(e,t){1&e&&(i.Rb(0,"div",68),i.Rb(1,"span",69),i.Kc(2,"Loading..."),i.Qb(),i.Qb())}function Bp(e,t){1&e&&(i.Rb(0,"p"),i.Kc(1,"Nessun risultato"),i.Qb())}function Up(e,t){1&e&&(i.Rb(0,"div",68),i.Rb(1,"span",69),i.Kc(2,"Loading..."),i.Qb(),i.Qb())}function Hp(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",71),i.Rb(1,"input",72,73),i.bc("keyup",function(e){i.zc(n);var t=i.vc(2),o=i.fc().$implicit;return i.fc().onRenamingNode(e,o,t.value)}),i.Qb(),i.Rb(3,"div",74),i.Rb(4,"span",75),i.Mb(5,"i",76),i.Qb(),i.Qb(),i.Rb(6,"div",3),i.Rb(7,"span",77),i.Ic(8,Up,3,0,"div",5),i.Qb(),i.Qb(),i.Qb()}if(2&e){var o=i.fc().$implicit,r=i.fc();i.yb(1),i.mc("value",o.data.name),i.yb(7),i.mc("ngIf",r.searchIconSpinner_input)}}function Kp(e,t){1&e&&i.Mb(0,"i",82)}function qp(e,t){1&e&&i.Mb(0,"i",83)}function $p(e,t){1&e&&i.Mb(0,"i",84)}function Wp(e,t){if(1&e&&(i.Rb(0,"div"),i.Ic(1,Kp,1,0,"i",78),i.Ic(2,qp,1,0,"i",79),i.Ic(3,$p,1,0,"i",80),i.Rb(4,"span",81),i.Kc(5),i.Qb(),i.Qb()),2&e){var n=i.fc().$implicit,o=i.fc();i.yb(1),i.mc("ngIf","directory"==n.data.type&&!n.isExpanded),i.yb(1),i.mc("ngIf","directory"==n.data.type&&n.isExpanded),i.yb(1),i.mc("ngIf","file"==n.data.type),i.yb(1),i.mc("contextMenu",o.basicMenu)("contextMenuSubject",n.data),i.yb(1),i.Mc(" ",n.data.name," ")}}function Gp(e,t){if(1&e&&(i.Ic(0,Hp,9,2,"div",70),i.Ic(1,Wp,6,6,"div",34)),2&e){var n=t.$implicit;i.mc("ngIf",n.data.rename_mode),i.yb(1),i.mc("ngIf",!n.data.rename_mode)}}function Yp(e,t){1&e&&i.Kc(0," Add File ")}function Xp(e,t){}function Zp(e,t){1&e&&i.Kc(0," Create new empty File ")}function Jp(e,t){}function eb(e,t){1&e&&i.Kc(0," Add Folder ")}function tb(e,t){1&e&&i.Kc(0," Delete Folder ")}function nb(e,t){1&e&&(i.Rb(0,"span"),i.Kc(1,"Rename Folder"),i.Qb())}function ib(e,t){1&e&&i.Kc(0," Copy Elements ")}function ob(e,t){1&e&&i.Kc(0," Paste Elements ")}function rb(e,t){}function ab(e,t){1&e&&i.Kc(0," Delete Elements ")}function sb(e,t){1&e&&i.Kc(0," Copy File ")}function cb(e,t){1&e&&i.Kc(0," Paste File ")}function lb(e,t){1&e&&(i.Rb(0,"span"),i.Kc(1,"Rename File"),i.Qb())}function ub(e,t){1&e&&i.Kc(0," Delete File ")}function fb(e,t){}function db(e,t){1&e&&i.Kc(0," Download File ")}function hb(e,t){1&e&&(i.Rb(0,"span"),i.Kc(1," Invalid field "),i.Qb())}function pb(e,t){1&e&&(i.Rb(0,"span"),i.Kc(1," Duplicate field "),i.Qb())}function bb(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div"),i.Rb(1,"div",85),i.Rb(2,"div",86),i.Rb(3,"div",87),i.Mb(4,"input",88),i.Rb(5,"div",89),i.Ic(6,hb,2,0,"span",34),i.Ic(7,pb,2,0,"span",34),i.Qb(),i.Qb(),i.Rb(8,"div",90),i.Mb(9,"input",91),i.Rb(10,"div",63),i.Rb(11,"button",92),i.bc("click",function(){i.zc(n);var e=t.index;return i.fc().removeMetadataItem(e)}),i.Mb(12,"i",93),i.Qb(),i.Qb(),i.Rb(13,"div",89),i.Kc(14," Invalid field "),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb()}if(2&e){var o=t.$implicit,r=t.index;i.yb(1),i.mc("formGroupName",r),i.yb(4),i.mc("hidden",!o.get("key").invalid),i.yb(1),i.mc("ngIf",!o.get("key").hasError("duplicate")),i.yb(1),i.mc("ngIf",o.get("key").hasError("duplicate")),i.yb(6),i.mc("hidden",!o.get("value").invalid)}}function gb(e,t){1&e&&(i.Rb(0,"div",59),i.Rb(1,"label",94),i.Kc(2,"No metadata"),i.Qb(),i.Qb())}var mb,vb=function(){return[]},yb={mouse:{click:function(e,t,n){n.shiftKey?ka.TOGGLE_ACTIVE_MULTI(e,t,n):ka.TOGGLE_ACTIVE(e,t,n),t.data.rename_mode&&n.preventDefault()},expanderClick:function(e,t,n){t.data.rename_mode?n.preventDefault():ka.TOGGLE_EXPANDED(e,t,n)}},keys:{13:function(e,t,n){return alert("This is "+t.data.name)}}},_b=((mb=function(){function e(t,n,i,o,r,a,s,c,l){var u=this;_classCallCheck(this,e),this.lexicalService=t,this.annotatorService=n,this.expander=i,this.element=o,this.documentService=r,this.renderer=a,this.formBuilder=s,this.datePipe=c,this.toastr=l,this.show=!1,this.nodes=[],this.validName=null,this.searchIconSpinner=!1,this.searchIconSpinner_input=!1,this.memoryMetadata=[],this.metadataForm=new vs.h({element_id:new vs.f(null),metadata_array:new vs.c([],[vs.x.required])}),this.options={actionMapping:yb,allowDrag:function(e){return e.isLeaf},allowDrop:function(e,t){return"directory"==t.parent.data.type},getNodeClone:function(e){return Object.assign(Object.assign({},e.data),{id:Object(fp.v4)(),name:"copy of "+e.data.name})}},this.date=this.datePipe.transform(new Date,"yyyy-MM-ddThh:mm"),this.counter=0,this.textFilterForm=new vs.h({search_text:new vs.f(null),search_mode:new vs.f(null),import_date:new vs.f(this.date),date_mode:new vs.f("")}),this.onEvent=function(e){console.log(e),"activate"==e.eventName&&"directory"!=e.node.data.type&&u.selectedNodeId!=e.node.data["element-id"]&&(u.selectedNodeId=e.node.data["element-id"],u.selectedEpidocId=e.node.data.metadata.itAnt_ID,$("#epigraphyTabModal").modal("show"),$(".modal-backdrop").appendTo(".epigraphy-tab-body"),$("#epigraphyTabModal").modal({backdrop:"static",keyboard:!1}),$("body").removeClass("modal-open"),$("body").css("padding-right",""),u.annotatorService.getIdText(u.selectedEpidocId),u.documentService.getContent(u.selectedNodeId).subscribe(function(t){var n=t.text,i={xmlString:n},o=(new DOMParser).parseFromString(n,"text/xml");u.annotatorService.getTokens(u.selectedNodeId).subscribe(function(t){console.log(t),u.documentService.sendToEpigraphyTab({tokens:t.tokens,element_id:u.selectedNodeId,epidoc_id:u.selectedEpidocId,xmlDoc:o}),u.expander.isEditTabOpen()||u.expander.isEpigraphyTabOpen()?u.expander.isEditTabOpen()&&!u.expander.isEpigraphyTabOpen()&&u.expander.isEditTabExpanded()&&!u.expander.isEpigraphyTabExpanded()&&(u.expander.openCollapseEpigraphy(!0),u.expander.expandCollapseEdit(!1)):u.expander.isEditTabExpanded()||u.expander.isEpigraphyTabExpanded()||(u.expander.expandCollapseEpigraphy(!0),u.expander.openCollapseEpigraphy(!0));var n=e.node.data.metadata;n.path=e.node.data.path,n["element-id"]=e.node.data["element-id"],null!=n&&Object.keys(n).length>5?(u.documentService.sendToMetadataPanel(n),u.documentService.triggerMetadataPanel(!0)):(u.documentService.sendToMetadataPanel(null),u.documentService.triggerMetadataPanel(!1))},function(e){console.log(e)}),u.documentService.sendLeidenToEpigraphyTab(null),u.documentService.testConvert(i).subscribe(function(e){var t;if(null!=e)try{var n=e.xml,i=(new DOMParser).parseFromString(n,"text/html");console.log(i);var o=(new DOMParser).parseFromString(n,"text/html").querySelectorAll("#edition .textpart"),r=[];Array.from(o).length>1?Array.from(o).forEach(function(e){Array.from(e.childNodes).forEach(function(e){Array.from(e.childNodes).forEach(function(e){r.push(e)})})}):r=Array.from((new DOMParser).parseFromString(n,"text/html").querySelectorAll("#edition .textpart")[0].childNodes[0].childNodes);for(var a=[],s=0;s<r.length;s++){var c=r[s];if("A"==c.nodeName||"BR"==c.nodeName)for(var l="",f=s;f<r.length;f++){var d=r[f];if("#text"==d.nodeName&&""!=d.nodeValue.trim()){if(l+=d.nodeValue,f==r.length-1){a.push(l);break}}else if(("BR"==d.nodeName||(null===(t=null==d?void 0:d.id)||void 0===t?void 0:t.toLowerCase().includes("face")))&&s!=f){a.push(l),s=f-1;break}if(f==r.length-1&&""!=l){a.push(l);break}}}u.documentService.sendLeidenToEpigraphyTab(a);var h=(new DOMParser).parseFromString(n,"text/html").querySelectorAll("#translation"),p=[];h.forEach(function(e){var t="";e.childNodes.forEach(function(e){"P"==e.nodeName&&(t+=e.innerHTML)}),p.push(t)}),u.documentService.sendTranslationToEpigraphyTab(p)}catch(b){console.log(b)}},function(e){console.log("ERROR TEST",e),u.documentService.sendLeidenToEpigraphyTab(null),u.documentService.sendTranslationToEpigraphyTab(null)})},function(e){console.log(e)}))},this.isFolder=function(e){return null!=e.type&&"directory"==e.type&&(1==u.treeText.treeModel.activeNodes.length||0==u.treeText.treeModel.activeNodes.length)},this.isFile=function(e){return null!=e.type&&"file"==e.type&&(1==u.treeText.treeModel.activeNodes.length||0==u.treeText.treeModel.activeNodes.length)},this.enableMetadata=function(e){return!("file"!=e.type&&"folder"!=e.type||1!=u.treeText.treeModel.activeNodes.length&&0!=u.treeText.treeModel.activeNodes.length)},this.multipleSelection=function(e){return u.treeText.treeModel.activeNodes.length>1},this.isFolderMultiple=function(e){return null!=u.selectedFileToCopyArray&&"directory"==e.type&&u.selectedFileToCopyArray.length>1},this.pasteElementsReq=function(e){return null!=u.selectedFileToCopyArray&&u.selectedFileToCopyArray.length>1}}return _createClass(e,[{key:"clickout",value:function(e){if(null!=this.renameNode_input)if(this.renameNode_input.nativeElement.contains(e.target))console.log("clicked inside"),e.stopPropagation();else{console.log("clicked outside");var t=this;setTimeout(function(){$(".input-tooltip").tooltip("hide"),setTimeout(function(){t.treeText.treeModel.getNodeBy(function(e){e.data.rename_mode=!1})},100)},300)}}},{key:"ngOnInit",value:function(){this.loadTree(),this.textFilterForm=this.formBuilder.group({search_text:new vs.f(null),search_mode:new vs.f("start"),import_date:new vs.f(this.date),date_mode:new vs.f("until"),metadata_array:new vs.c([])}),this.onChanges(),this.metadataForm=this.formBuilder.group({element_id:new vs.f(null),name:new vs.f(null),metadata_array:new vs.c([],[vs.x.required])}),this.initialValues=this.textFilterForm.value}},{key:"onChanges",value:function(){var e=this;this.textFilterForm.valueChanges.pipe(Object(ou.a)(500)).subscribe(function(t){console.log(t),e.searchFilter(t)})}},{key:"onMoveNode",value:function(e){console.log(e);var t=e.node.type,n=e.to.parent.type;"directory"===t&&"directory"===n?this.moveFolder(e):"file"===t&&"directory"===n&&this.moveFile(e)}},{key:"loadTree",value:function(){var e=this;this.documentService.getDocumentSystem().subscribe(function(t){console.log(t),0!=t.documentSystem.length&&(e.nodes=t.documentSystem,setTimeout(function(){e.treeText.treeModel.getNodeBy(function(e){e.data.rename_mode=!1})},100)),e.counter=t.results},function(e){console.log(e)})}},{key:"noRoot",value:function(e){return"root"!=e.name}},{key:"pasteElements",value:function(e){var t=this;console.log(e);var n=e["element-id"];null!=this.selectedFileToCopyArray&&this.selectedFileToCopyArray.forEach(function(e){"file"==e.data.type?t.documentService.copyFileTo({requestUUID:"string","user-id":0,"element-id":null==e?void 0:e.data["element-id"],"target-id":n}).subscribe(function(i){var o;console.log(i),t.toastr.info("File "+(null===(o=null==e?void 0:e.data)||void 0===o?void 0:o.name)+" copied","",{timeOut:5e3}),t.treeText.treeModel.getNodeBy(function(i){var o,r,a,s,c;if(i.data["element-id"]===n){console.log("entrato"),i.expand();var l={children:null==e?void 0:e.data.children,"element-id":(null==e?void 0:e.data["element-id"])+123213,id:(null===(o=null==e?void 0:e.data)||void 0===o?void 0:o.id)+1232312,metadata:null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.metadata,name:null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.name,path:null===(s=null==e?void 0:e.data)||void 0===s?void 0:s.path,rename_mode:!1,type:null===(c=null==e?void 0:e.data)||void 0===c?void 0:c.type};i.data.children.push(l),setTimeout(function(){t.counter=t.nodes.length,t.updateTreeView(),t.treeText.treeModel.update()},100)}}),t.treeText.treeModel.update(),t.selectedFileToCopyArray=null},function(e){t.selectedFileToCopyArray=null}):t.toastr.error("You can't copy folder, please select only files or move entire folder","Error",{timeOut:5e3})})}},{key:"copyElements",value:function(){this.selectedFileToCopy=null,this.selectedFileToCopyArray=this.treeText.treeModel.activeNodes}},{key:"removeElements",value:function(){var e=this;Array.from(this.treeText.treeModel.activeNodes).forEach(function(t){try{var n=t.data,i={requestUUID:"string","user-id":0,"element-id":n["element-id"]};"file"==n.type?e.documentService.removeFile(i).subscribe(function(t){console.log(t),e.toastr.info("File "+n.name+" deleted","",{timeOut:5e3}),e.lexicalService.sendToAttestationPanel(null),e.documentService.sendToEpigraphyTab(null),e.expander.expandCollapseEpigraphy(!1),e.expander.openCollapseEpigraphy(!1),e.expander.isEditOpen&&e.expander.expandCollapseEdit(!0),e.documentService.sendToMetadataPanel(null),e.treeText.treeModel.getNodeBy(function(e){e.data["element-id"]===n["element-id"]&&e.parent.data.children.splice(e.parent.data.children.indexOf(e.data),1)}),e.treeText.treeModel.update(),setTimeout(function(){console.log(e.nodes),e.counter=e.nodes.length},100)},function(t){console.log(t),"string"==typeof t.error&&e.toastr.info(t.error,"",{timeOut:5e3})}):"directory"==n.type&&e.documentService.removeFolder(i).subscribe(function(t){console.log(t),e.toastr.info("Folder "+n.name+" removed correctly","Info",{timeOut:5e3}),e.treeText.treeModel.getNodeBy(function(e){e.data["element-id"]===n["element-id"]&&e.parent.data.children.splice(e.parent.data.children.indexOf(e.data),1)}),e.treeText.treeModel.update(),setTimeout(function(){console.log(e.nodes),e.counter=e.nodes.length},100)},function(t){console.log(t),e.toastr.error("Something went wront ","Error",{timeOut:5e3}),"string"==typeof t.error&&e.toastr.info(t.error,"",{timeOut:5e3})})}catch(o){}})}},{key:"createNewFile",value:function(e){var t=this;if(null!=e){console.log(e);var n=e["element-id"],i={requestUUID:"string","user-id":0,"element-id":n,filename:"new_file"+Math.floor(99989*Math.random()+10)};this.documentService.createFile(i).subscribe(function(e){console.log(e),t.treeText.treeModel.getNodeBy(function(i){i.data["element-id"]===n&&(i.expand(),t.toastr.info("New file added","",{timeOut:5e3}),console.log(i),i.data.children.push(e.node),setTimeout(function(){t.counter=t.nodes.length,t.updateTreeView(),t.treeText.treeModel.update(),t.treeText.treeModel.getNodeById(e.node.id).setActiveAndVisible()},100))})},function(e){console.log(e)})}}},{key:"addFolder",value:function(e){var t=this;if(null!=e){var n=e["element-id"];this.documentService.addFolder({requestUUID:"string","user-id":0,"element-id":n}).subscribe(function(e){console.log(e),t.toastr.info("New folder added","",{timeOut:5e3}),t.treeText.treeModel.getNodeBy(function(i){if(i.data["element-id"]===n){i.expand();var o=e.node["element-id"],r=Math.floor(8e12*Math.random()+1728157429307),a={children:[],"element-id":o,id:r,metadata:{},path:"",name:e.node.name,type:"directory",rename_mode:!1};console.log(i),i.data.children.push(a),setTimeout(function(){t.updateTreeView(),t.treeText.treeModel.update(),t.treeText.treeModel.getNodeById(r).setActiveAndVisible()},100)}})},function(e){console.log(e)})}}},{key:"addFile",value:function(e){var t=this;console.log(e);var n,i,o=this.uploadFile_input.nativeElement["element-id"];if(this.selectedFileToCopy=null,null!=e.target.files)if(1==e.target.files.length){n=e.target.files[0].name,i={requestUUID:"string","user-id":0,"element-id":o,"file-name":n};var r=new FormData;r.append("file",e.target.files[0]),this.documentService.uploadFile(r,o,11).subscribe(function(e){console.log(e),t.treeText.treeModel.getNodeBy(function(n){n.data["element-id"]===o&&(n.expand(),t.toastr.info("New file added","",{timeOut:5e3}),console.log(n),n.data.children.push(e.node),setTimeout(function(){t.counter=t.nodes.length,t.updateTreeView(),t.treeText.treeModel.update(),t.treeText.treeModel.getNodeById(e.node.id).setActiveAndVisible()},100))})},function(e){console.log(e)})}else Array.from(e.target.files).forEach(function(e){n=e.name,i={requestUUID:"string","user-id":0,"element-id":o,"file-name":n};var r=new FormData;r.append("file",e),t.documentService.uploadFile(r,o,11).subscribe(function(e){console.log(e),t.treeText.treeModel.getNodeBy(function(n){n.data["element-id"]===o&&(n.expand(),t.toastr.info("New file added","",{timeOut:5e3}),console.log(n),n.data.children.push(e.node),setTimeout(function(){t.counter=t.nodes.length,t.updateTreeView(),t.treeText.treeModel.update(),t.treeText.treeModel.getNodeById(e.node.id).setActiveAndVisible()},100))})},function(e){console.log(e),t.toastr.error("Error when adding new file","",{timeOut:5e3})})});console.log(i)}},{key:"triggerUploader",value:function(e){this.renderer.setProperty(this.uploadFile_input.nativeElement,"element-id",e["element-id"]),this.uploadFile_input.nativeElement.click()}},{key:"copyFile",value:function(e){console.log(e),this.selectedFileToCopy=e,this.selectedFileToCopyArray=null}},{key:"pasteFile",value:function(e){var t=this;console.log(e);var n=e["element-id"];this.documentService.copyFileTo({requestUUID:"string","user-id":0,"element-id":this.selectedFileToCopy["element-id"],"target-id":n}).subscribe(function(i){console.log(i),t.toastr.info("File "+e.name+" copied","",{timeOut:5e3}),t.treeText.treeModel.getNodeBy(function(e){if(e.data["element-id"]===n){console.log("entrato"),e.expand();var i={children:t.selectedFileToCopy.children,"element-id":t.selectedFileToCopy["element-id"],id:t.selectedFileToCopy.id+1232312,metadata:t.selectedFileToCopy.metadata,name:t.selectedFileToCopy.name,path:"",rename_mode:!1,type:t.selectedFileToCopy.type};e.data.children.push(i),setTimeout(function(){t.counter=t.nodes.length,t.updateTreeView(),t.treeText.treeModel.update(),t.treeText.treeModel.getNodeById(i.id).setActiveAndVisible()},100)}}),t.treeText.treeModel.update(),t.selectedFileToCopy=null},function(e){t.selectedFileToCopy=null})}},{key:"downloadFile",value:function(e){var t=this;console.log(e),this.documentService.downloadFile({requestUUID:"string","user-id":0,"element-id":e["element-id"]}).subscribe(function(n){console.log(n),t.toastr.info("File "+e.name+" downloaded","",{timeOut:5e3})},function(e){})}},{key:"removeFile",value:function(e){var t=this;if(this.selectedFileToCopy=null,null!=e){var n=e["element-id"];this.documentService.removeFile({requestUUID:"string","user-id":0,"element-id":n}).subscribe(function(i){console.log(i),t.toastr.info("File "+e.name+" deleted","",{timeOut:5e3}),t.lexicalService.sendToAttestationPanel(null),t.documentService.sendToEpigraphyTab(null),t.expander.expandCollapseEpigraphy(!1),t.expander.openCollapseEpigraphy(!1),t.documentService.sendToMetadataPanel(null),t.expander.isEditOpen&&t.expander.expandCollapseEdit(),t.treeText.treeModel.getNodeBy(function(e){e.data["element-id"]===n&&e.parent.data.children.splice(e.parent.data.children.indexOf(e.data),1)}),t.treeText.treeModel.update(),setTimeout(function(){console.log(t.nodes),t.counter=t.nodes.length},100)},function(e){console.log(e),"string"==typeof e.error&&t.toastr.info(e.error,"",{timeOut:5e3})})}}},{key:"removeFolder",value:function(e){var t=this;if(null!=e){var n=e["element-id"],i={requestUUID:"string","user-id":0,"element-id":n};this.toastr.info("Folder "+e.name+" deleted","",{timeOut:5e3}),this.documentService.removeFolder(i).subscribe(function(e){console.log(e),t.treeText.treeModel.getNodeBy(function(e){e.data["element-id"]===n&&e.parent.data.children.splice(e.parent.data.children.indexOf(e.data),1)}),t.treeText.treeModel.update(),setTimeout(function(){console.log(t.nodes),t.counter=t.nodes.length},100)},function(e){console.log(e),"string"==typeof e.error&&t.toastr.info(e.error,"",{timeOut:5e3})})}}},{key:"moveFolder",value:function(e){var t=this;null!=e&&this.documentService.moveFolder({requestUUID:"string","user-id":0,"element-id":e.node["element-id"],"target-id":e.to.parent["element-id"]}).subscribe(function(n){t.toastr.info("Folder "+e.node.name+" moved","",{timeOut:5e3})},function(e){console.log(e)})}},{key:"moveFile",value:function(e){var t=this;null!=e&&(console.log(e),this.documentService.moveFileTo({requestUUID:"string","user-id":0,"element-id":e.node["element-id"],"target-id":e.to.parent["element-id"]}).subscribe(function(n){console.log(n),t.toastr.info("File "+e.node.name+" moved","",{timeOut:5e3})},function(e){}))}},{key:"renameNode",value:function(e){var t=this;setTimeout(function(){t.renameNode_input.nativeElement.focus(),$(".input-tooltip").tooltip({trigger:"hover"})},300),console.log(e),this.treeText.treeModel.getNodeBy(function(t){t.data.rename_mode=t.data["element-id"]==e["element-id"]})}},{key:"onRenamingNode",value:function(e,t,n){switch(console.log(e,t),setTimeout(function(){$(".input-tooltip").tooltip({trigger:"hover"})},300),e.key){case"Enter":this.updateNodeName(t,n);break;case"Escape":this.exitRenamingMode();break;default:console.log(e)}}},{key:"updateNodeName",value:function(e,t){var n=this;this.searchIconSpinner_input=!0;var i=e.data.type;if(t.match(/^[A-Za-z-_0-9. ]{3,}$/)){var o=e.data["element-id"],r={requestUUID:"string","user-id":0,"element-id":o,"rename-string":t};"directory"==i?this.documentService.renameFolder(r).subscribe(function(i){n.toastr.info("Folder "+e.data.name+" renamed","",{timeOut:5e3}),setTimeout(function(){n.treeText.treeModel.getNodeBy(function(e){e.data["element-id"]===o&&(e.data.name=t)})},300),n.searchIconSpinner_input=!1,n.renameNode_input.nativeElement.value="";var r=n;setTimeout(function(){$(".input-tooltip").tooltip("hide"),setTimeout(function(){r.treeText.treeModel.getNodeBy(function(e){e.data.rename_mode=!1})},100)},100)},function(e){console.log(e);var t=n;setTimeout(function(){$(".input-tooltip").tooltip("hide"),setTimeout(function(){t.treeText.treeModel.getNodeBy(function(e){e.data.rename_mode=!1})},100)},100)}):"file"==i&&this.documentService.renameFile(r).subscribe(function(e){n.toastr.info("File renamed","",{timeOut:5e3}),setTimeout(function(){n.treeText.treeModel.getNodeBy(function(e){e.data["element-id"]===o&&(e.data.name=t)})},300),n.searchIconSpinner_input=!1,n.renameNode_input.nativeElement.value="";var i=n;setTimeout(function(){$(".input-tooltip").tooltip("hide"),setTimeout(function(){i.treeText.treeModel.getNodeBy(function(e){e.data.rename_mode=!1})},100)},100)},function(e){console.log(e);var t=n;setTimeout(function(){$(".input-tooltip").tooltip("hide"),setTimeout(function(){t.treeText.treeModel.getNodeBy(function(e){e.data.rename_mode=!1})},100)},100)})}}},{key:"exitRenamingMode",value:function(){var e=this;setTimeout(function(){$(".input-tooltip").tooltip("hide"),setTimeout(function(){e.searchIconSpinner_input=!1,e.treeText.treeModel.getNodeBy(function(e){e.data.rename_mode=!1})},100)},300)}},{key:"saveMetadata",value:function(){var e=this;console.log(this.metadata_array.value);var t=this.metadataForm.get("element_id").value,n=this.metadataForm.get("name").value,i={requestUUID:"string",metadata:{},"user-id":0,"element-id":t};this.metadata_array.value.forEach(function(e){i.metadata[e.key]=e.value});var o=this.treeText.treeModel.expandedNodes;this.documentService.updateMetadata(i).subscribe(function(t){e.toastr.info("Metadata updated for "+n+" node","",{timeOut:5e3}),e.nodes=t.documentSystem,o.forEach(function(t){setTimeout(function(){e.treeText.treeModel.getNodeBy(function(e){e.data["element-id"]===t.data["element-id"]&&e.setActiveAndVisible()})},300)})},function(e){console.log(e)})}},{key:"removeMetadataItem",value:function(e){this.metadata_array=this.metadataForm.get("metadata_array");var t=this.metadata_array.at(e).get("key").value;this.toastr.info("Metadata deleted for "+t+" node","",{timeOut:5e3}),this.memoryMetadata.splice(e,1),this.metadata_array.removeAt(e),this.metadataForm.markAsTouched()}},{key:"addMetadata",value:function(e,t){this.metadata_array=this.metadataForm.get("metadata_array"),this.metadata_array.push(null==e?this.createMetadataItem():this.createMetadataItem(e,t))}},{key:"onCloseRemoveMetadata",value:function(){this.selectedFileToCopy=null}},{key:"deleteMetadata",value:function(){var e=this,t=this.selectedFileToCopy.name,n=this.treeText.treeModel.expandedNodes;this.documentService.deleteMetadata({requestUUID:"string","user-id":0,"element-id":this.selectedFileToCopy["element-id"]}).subscribe(function(i){e.toastr.info("Metadata deleted for "+t+" node","",{timeOut:5e3}),e.nodes=i.documentSystem,n.forEach(function(t){setTimeout(function(){e.treeText.treeModel.getNodeBy(function(e){e.data["element-id"]===t.data["element-id"]&&e.setActiveAndVisible()})},300)})},function(e){console.log(e)})}},{key:"onCloseModal",value:function(){this.metadataForm.markAsUntouched(),this.metadata_array.clear(),this.memoryMetadata=[]}},{key:"populateMetadata",value:function(e){var t=e["element-id"],n=e.name;if(this.metadataForm.get("name").setValue(n,{emitEvent:!1}),this.metadataForm.get("element_id").setValue(t,{emitEvent:!1}),this.editMetadataModal.show(),this.metadata_array=this.metadataForm.get("metadata_array"),this.metadata_array.clear(),this.memoryMetadata=[],0!=Object.keys(e.metadata).length)for(var i=0,o=Object.entries(e.metadata);i<o.length;i++){var r=_slicedToArray(o[i],2),a=r[0],s=r[1];console.log("".concat(a,": ").concat(s)),this.addMetadata(a,s)}}},{key:"createMetadataItem",value:function(e,t){return this.formBuilder.group(null!=e?{key:new vs.f(e,[vs.x.required,vs.x.minLength(0)]),value:new vs.f(t,[vs.x.required,vs.x.minLength(0)])}:{key:new vs.f("",[vs.x.required,vs.x.minLength(0),this.uniqueIdValidator.bind(this)]),value:new vs.f("",[vs.x.required,vs.x.minLength(0)])})}},{key:"uniqueIdValidator",value:function(e){return""!=e.value&&this.metadata_array.value.find(function(t){return t.key===e.value})?{duplicate:!0}:null}},{key:"updateTreeView",value:function(){var e=this;setTimeout(function(){$(".input-tooltip").tooltip({trigger:"hover"})},300),setTimeout(function(){e.treeText.sizeChanged(),$(".lexical-tooltip").tooltip()},1e3)}},{key:"resetFields",value:function(){var e=this;this.textFilterForm.reset(this.initialValues,{emitEvent:!1}),setTimeout(function(){e.loadTree(),e.treeText.treeModel.update(),e.updateTreeView()},500)}},{key:"searchFilter",value:function(e){var t=this;setTimeout(function(){t.element.nativeElement.querySelector("tree-viewport").scrollTop=0},300);var n=null!=e.search_text?e.search_text:"",i=this.datePipe.transform(e.import_date,"yyyy-MM-ddThh:mm:ss.zzzZ");this.searchIconSpinner=!0,console.log({requestUUID:"string",contains:"contains"==e.search_mode,metadata:{},"search-text":n,"start-with":"start"==e.search_mode,"user-id":0,"import-date":i,"exact-date":"exact"==e.date_mode,"from-date":"from"==e.date_mode,"util-date":"until"==e.date_mode}),this.documentService.searchFiles(e).subscribe(function(e){t.show=!(e.files.length>0),t.nodes=e.files,t.counter=e.results,t.treeText.treeModel.update(),t.updateTreeView(),t.searchIconSpinner=!1},function(e){console.log(e),t.searchIconSpinner=!1,t.toastr.error("Error on search text","Error",{timeOut:5e3})})}},{key:"addTagFn",value:function(e){return{name:e,tag:!0}}},{key:"triggerMetadata",value:function(){console.log(this.metadata_tags_element.selectedItems)}}]),e}()).\u0275fac=function(e){return new(e||mb)(i.Lb(sp.a),i.Lb(dp),i.Lb(up),i.Lb(i.l),i.Lb(ap),i.Lb(i.E),i.Lb(vs.e),i.Lb(a.d),i.Lb(Pu.b))},mb.\u0275cmp=i.Fb({type:mb,selectors:[["app-text-tree"]],viewQuery:function(e,t){var n;1&e&&(i.Pc(Fp,!0),i.Pc(Qp,!0),i.Pc(xu,!0),i.Pc(Lp,!0),i.Pc(Np,!0),i.Pc(zp,!0)),2&e&&(i.uc(n=i.cc())&&(t.metadata_tags_element=n.first),i.uc(n=i.cc())&&(t.treeText=n.first),i.uc(n=i.cc())&&(t.basicMenu=n.first),i.uc(n=i.cc())&&(t.uploadFile_input=n.first),i.uc(n=i.cc())&&(t.renameNode_input=n.first),i.uc(n=i.cc())&&(t.editMetadataModal=n.first))},hostBindings:function(e,t){1&e&&i.bc("click",function(e){return t.clickout(e)},!1,i.xc)},features:[i.xb([a.d])],decls:106,vars:40,consts:[[3,"formGroup"],[1,"input-group","col-md-12","mt-2","p-0"],["formControlName","search_text","id","filterLexicalEntry","name","search_text","type","text","placeholder","Search",1,"form-control"],[1,"input-group-append"],["id","basic-addon2",1,"input-group-text","loading_icon_append"],["class","spinner-border spinner-border-sm m-1","role","status",4,"ngIf"],["id","buttons-container",1,"input-group-append"],["type","button","value","Filter","title","Filter","data-toggle","collapse","data-target","#metadataFilterCollapse","aria-expanded","false","aria-controls","metadataFilterCollapse",1,"btn","btn-sm","btn-secondary","btn-block","filter-button"],[1,"fa","fa-filter"],["type","button","value","Reset","title","Reset",1,"btn","btn-sm","btn-danger","btn-block","reset-button",2,"border-top-right-radius",".25rem","border-bottom-right-radius",".25rem",3,"click"],[1,"fa","fa-times"],["type","button",1,"btn","btn-sm","btn-block","counter-button"],[1,"font-weight-bold","font-italic","text-muted"],[1,"d-flex","flex-wrap","mt-3"],[1,"col-md-6","col-sm-3"],[1,"form-check"],["formControlName","search_mode","type","radio","name","search_mode","id","startRadio","value","start",1,"form-check-input"],["for","startRadio",1,"form-check-label"],["formControlName","search_mode","type","radio","name","search_mode","id","containsRadio","value","contains",1,"form-check-input"],["for","containsRadio",1,"form-check-label"],["id","metadataFilterCollapse",1,"collapse","multi-collapse"],[1,"col-md-12"],[1,"form-group","row"],["for","inputEmail3",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["formControlName","date_mode","name","date_mode",1,"form-control"],["value","exact"],["value","from"],["value","until"],[1,"d-flex","flex-wrap"],["formControlName","import_date","type","datetime-local","name","import_date","value","date","min","2018-06-07T00:00",1,"form-control",3,"max"],["placeholder","Insert metadata tags",3,"items","addTag","multiple","selectOnTab","isOpen","change"],["metadata_tags",""],[1,"col-md-12","mt-3","rounded","border","border-secondary","tree-view"],[4,"ngIf"],[3,"nodes","options","focused","activate","moveNode"],["treeText",""],["treeNodeTemplate",""],["contextMenuItem","",3,"visible","execute"],["contextMenuItem","","divider","true",3,"visible"],["contextMenuItem","",3,"visible","enabled","execute"],["contextMenuItem","","divider","isFile",3,"visible"],["type","file","accept",".xml","hidden","","multiple","",3,"change"],["uploadFile",""],[1,"add_languages_modal",3,"inViewport","closeModal"],["editMetadata",""],[1,"app-modal-header"],[1,"app-modal-body"],[1,"form-group","row","ml-2","mt-3","mr-2","justify-content-between"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"btn","btn-success",3,"disabled","click"],[1,"card"],[1,"card-body"],["formArrayName","metadata_array"],[4,"ngFor","ngForOf"],["class","form-group row ml-2 mt-3 mr-2",4,"ngIf"],[1,"remove_languages_modal",3,"inViewport","closeModal"],["removeMetadataModal",""],[1,"form-group","row","ml-2","mt-3","mr-2"],["for","inputLabel",1,"col-lg-12","col-form-label",2,"font-size","12px","text-align","center"],[1,"form-group","row","ml-2","mt-3","mr-2","justify-content-md-center"],[1,"input-group","col-lg-5","justify-content-md-center",2,"align-items","center","text-align","center"],[1,"input-group-append","ml-2"],["type","button",1,"btn","btn-success",3,"click"],[1,"fas","fa-check"],["type","button",1,"btn","btn-danger",3,"click"],[1,"fas","fa-times"],["role","status",1,"spinner-border","spinner-border-sm","m-1"],[1,"sr-only"],["class","input-group",4,"ngIf"],[1,"input-group"],["autofocus","","type","text",1,"form-control",2,"height","22px","border-right","transparent",3,"value","keyup"],["renameNodeInput",""],["data-toggle","tooltip","data-placement","top","data-html","true","title","Click enter to rename; Click ESC to exit",1,"input-group-append","input-tooltip"],[1,"input-group-text"],[1,"fas","fa-question"],[1,"input-group-text","loading_icon_append"],["class","far fa-folder",4,"ngIf"],["class","far fa-folder-open",4,"ngIf"],["class","far fa-file-alt",4,"ngIf"],[3,"contextMenu","contextMenuSubject"],[1,"far","fa-folder"],[1,"far","fa-folder-open"],[1,"far","fa-file-alt"],[3,"formGroupName"],[1,"d-flex","my-2"],[1,"col-md-5"],["formControlName","key","name","key","type","text","placeholder","Insert metadata key",1,"form-control"],[1,"invalid-feedback",2,"display","block","font-size","9px",3,"hidden"],[1,"input-group","col-md-7"],["formControlName","value","name","value","type","text","placeholder","Insert metadata value",1,"form-control"],["type","button",1,"btn","btn-danger",2,"border-radius","0.25rem",3,"click"],[1,"fa","fa-trash"],["for","inputLabel",1,"col-lg-5","col-form-label","font-italic",2,"font-size","12px"]],template:function(e,t){if(1&e){var n=i.Sb();i.Rb(0,"form",0),i.Rb(1,"div",1),i.Mb(2,"input",2),i.Rb(3,"div",3),i.Rb(4,"span",4),i.Ic(5,Vp,3,0,"div",5),i.Qb(),i.Qb(),i.Rb(6,"div",6),i.Rb(7,"button",7),i.Mb(8,"i",8),i.Qb(),i.Rb(9,"button",9),i.bc("click",function(){return t.resetFields()}),i.Mb(10,"i",10),i.Qb(),i.Rb(11,"button",11),i.Rb(12,"span",12),i.Kc(13),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(14,"div",13),i.Rb(15,"div",14),i.Rb(16,"div",15),i.Mb(17,"input",16),i.Rb(18,"label",17),i.Kc(19," Starts "),i.Qb(),i.Qb(),i.Qb(),i.Rb(20,"div",14),i.Rb(21,"div",15),i.Mb(22,"input",18),i.Rb(23,"label",19),i.Kc(24," Contains "),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(25,"div",20),i.Rb(26,"div",13),i.Rb(27,"div",21),i.Rb(28,"div",22),i.Rb(29,"label",23),i.Kc(30,"Date mode:"),i.Qb(),i.Rb(31,"div",24),i.Rb(32,"select",25),i.Rb(33,"option",26),i.Kc(34,"Exact"),i.Qb(),i.Rb(35,"option",27),i.Kc(36,"From"),i.Qb(),i.Rb(37,"option",28),i.Kc(38,"Until"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(39,"div",29),i.Rb(40,"div",21),i.Mb(41,"input",30),i.Qb(),i.Qb(),i.Rb(42,"div",13),i.Rb(43,"div",21),i.Rb(44,"ng-select",31,32),i.bc("change",function(){return t.triggerMetadata()}),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(46,"div",33),i.Ic(47,Bp,2,0,"p",34),i.Rb(48,"tree-root",35,36),i.bc("activate",function(e){return t.onEvent(e)})("moveNode",function(e){return t.onMoveNode(e)}),i.Ic(50,Gp,2,2,"ng-template",null,37,i.Jc),i.Qb(),i.Rb(52,"context-menu"),i.Ic(53,Yp,1,0,"ng-template",38),i.bc("execute",function(e){return t.triggerUploader(e.item)}),i.Ic(54,Xp,0,0,"ng-template",39),i.Ic(55,Zp,1,0,"ng-template",38),i.bc("execute",function(e){return t.createNewFile(e.item)}),i.Ic(56,Jp,0,0,"ng-template",39),i.Ic(57,eb,1,0,"ng-template",38),i.bc("execute",function(e){return t.addFolder(e.item)}),i.Ic(58,tb,1,0,"ng-template",40),i.bc("execute",function(e){return t.removeFolder(e.item)}),i.Ic(59,nb,2,0,"ng-template",40),i.bc("execute",function(e){return t.renameNode(e.item)}),i.Ic(60,ib,1,0,"ng-template",38),i.bc("execute",function(){return t.copyElements()}),i.Ic(61,ob,1,0,"ng-template",38),i.bc("execute",function(e){return t.pasteElements(e.item)}),i.Ic(62,rb,0,0,"ng-template",39),i.Ic(63,ab,1,0,"ng-template",38),i.bc("execute",function(){return t.removeElements()}),i.Ic(64,sb,1,0,"ng-template",38),i.bc("execute",function(e){return t.copyFile(e.item)}),i.Ic(65,cb,1,0,"ng-template",38),i.bc("execute",function(e){return t.pasteFile(e.item)}),i.Ic(66,lb,2,0,"ng-template",38),i.bc("execute",function(e){return t.renameNode(e.item)}),i.Ic(67,ub,1,0,"ng-template",38),i.bc("execute",function(e){return t.removeFile(e.item)}),i.Ic(68,fb,0,0,"ng-template",41),i.Ic(69,db,1,0,"ng-template",38),i.bc("execute",function(e){return t.downloadFile(e.item)}),i.Qb(),i.Qb(),i.Rb(70,"input",42,43),i.bc("change",function(e){return t.addFile(e)}),i.Qb(),i.Rb(72,"app-modal",44,45),i.bc("closeModal",function(){return t.onCloseModal()}),i.Nb(74,46),i.Pb(75,47),i.Rb(76,"form",0),i.Rb(77,"div",48),i.Rb(78,"button",49),i.bc("click",function(){return t.addMetadata()}),i.Kc(79,"Add Metadata "),i.Mb(80,"i",50),i.Qb(),i.Rb(81,"button",51),i.bc("click",function(){return t.saveMetadata()}),i.Kc(82,"Save Metadata "),i.Mb(83,"i",50),i.Qb(),i.Qb(),i.Rb(84,"div",52),i.Rb(85,"div",53),i.Rb(86,"div",54),i.Ic(87,bb,15,5,"div",55),i.Ic(88,gb,3,0,"div",56),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Ob(),i.Qb(),i.Rb(89,"app-modal",57,58),i.bc("closeModal",function(){return t.onCloseRemoveMetadata()}),i.Nb(91,46),i.Pb(92,47),i.Rb(93,"div",52),i.Rb(94,"div",53),i.Rb(95,"div",59),i.Rb(96,"label",60),i.Kc(97),i.Qb(),i.Qb(),i.Rb(98,"div",61),i.Rb(99,"div",62),i.Rb(100,"div",63),i.Rb(101,"button",64),i.bc("click",function(){i.zc(n);var e=i.vc(90);return t.deleteMetadata(),e.hide()}),i.Mb(102,"i",65),i.Qb(),i.Qb(),i.Rb(103,"div",63),i.Rb(104,"button",66),i.bc("click",function(){return i.zc(n),i.vc(90).hide()}),i.Mb(105,"i",67),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Ob(),i.Qb()}2&e&&(i.mc("formGroup",t.textFilterForm),i.yb(5),i.mc("ngIf",t.searchIconSpinner),i.yb(8),i.Lc(t.counter),i.yb(28),i.mc("max",t.date),i.yb(3),i.mc("items",i.pc(39,vb))("addTag",!0)("multiple",!0)("selectOnTab",!0)("isOpen",!1),i.yb(3),i.mc("ngIf",t.show),i.yb(1),i.mc("nodes",t.nodes)("options",t.options)("focused",!0),i.yb(5),i.mc("visible",t.isFolder),i.yb(1),i.mc("visible",t.isFolder),i.yb(1),i.mc("visible",t.isFolder),i.yb(1),i.mc("visible",t.isFolder),i.yb(1),i.mc("visible",t.isFolder),i.yb(1),i.mc("visible",t.isFolder)("enabled",t.noRoot),i.yb(1),i.mc("visible",t.isFolder)("enabled",t.noRoot),i.yb(1),i.mc("visible",t.multipleSelection),i.yb(1),i.mc("visible",t.isFolderMultiple),i.yb(1),i.mc("visible",t.multipleSelection),i.yb(1),i.mc("visible",t.multipleSelection),i.yb(1),i.mc("visible",t.isFile),i.yb(1),i.mc("visible",t.isFolder&&null!=t.selectedFileToCopy),i.yb(1),i.mc("visible",t.isFile),i.yb(1),i.mc("visible",t.isFile),i.yb(1),i.mc("visible",t.isFile),i.yb(1),i.mc("visible",t.isFile),i.yb(3),i.mc("inViewport",!0),i.yb(4),i.mc("formGroup",t.metadataForm),i.yb(5),i.mc("disabled",!t.metadataForm.touched||!t.metadataForm.valid),i.yb(6),i.mc("ngForOf",t.metadataForm.get("metadata_array").controls),i.yb(1),i.mc("ngIf",0==t.metadataForm.get("metadata_array").controls.length),i.yb(1),i.mc("inViewport",!0),i.yb(8),i.Mc("Are you sure to delete the metadata of ",null==t.selectedFileToCopy?null:t.selectedFileToCopy.name,"?"))},directives:[vs.z,vs.o,vs.i,vs.b,vs.n,vs.g,a.n,vs.t,vs.w,vs.r,vs.y,kc.a,es,xu,_u,Rp,vs.d,a.m,wu,vs.j],styles:[".form-control[_ngcontent-%COMP%]{font-size:12px}.tree-view[_ngcontent-%COMP%]{padding-top:15px;height:calc(100vh - 18rem);max-height:calc(100vh - 18rem)}.tree-view[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{height:22px;font-size:12px;font-size:10px;color:#fff;background-color:#6c757d;border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.tree-view[_ngcontent-%COMP%]   .loading_icon_append[_ngcontent-%COMP%]{background-color:transparent;color:#000;border:none;padding:0}.btn[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{font-size:12px}.card[_ngcontent-%COMP%]{width:100%}.card-header[_ngcontent-%COMP%]{padding:5px 18px}#filterLexicalEntry[_ngcontent-%COMP%]{border-right:none}#filterLexicalEntry[_ngcontent-%COMP%]:active, #filterLexicalEntry[_ngcontent-%COMP%]:focus, #filterLexicalEntry[_ngcontent-%COMP%]:hover{outline:0!important;-webkit-appearance:none;box-shadow:none!important;border-color:#ccc}.loading_icon_append[_ngcontent-%COMP%]{height:32px;background-color:#fff;border-left:none}.lang[_ngcontent-%COMP%]{color:#00f}.icons-container[_ngcontent-%COMP%]{display:flex;align-self:flex-end;justify-content:space-between;width:25%}.counter-button[_ngcontent-%COMP%], .filter-button[_ngcontent-%COMP%], .popover-dismiss[_ngcontent-%COMP%], .reset-button[_ngcontent-%COMP%]{margin:0;font-size:10px}.counter-button[_ngcontent-%COMP%]{background-color:#fff}.counter-button[_ngcontent-%COMP%]:hover{background-color:unset;border:none}.counter-button[_ngcontent-%COMP%]:focus{border:#fff;box-shadow:none}input[_ngcontent-%COMP%]{margin-top:0}.custom-control-label[_ngcontent-%COMP%]:before{top:0}.custom-switch[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]:after{top:calc(.25rem + -2px)}.canonicalForm[_ngcontent-%COMP%]{font-weight:800}.btn[_ngcontent-%COMP%]{transition:none!important}.disablePointer[_ngcontent-%COMP%]{pointer-events:none}"]}),mb);function Cb(e,t){if(1&e){var n=i.Sb();i.Rb(0,"tr"),i.Rb(1,"th",35),i.Kc(2),i.Qb(),i.Rb(3,"td"),i.Kc(4),i.Qb(),i.Rb(5,"td"),i.Kc(6),i.Qb(),i.Rb(7,"td"),i.Kc(8),i.gc(9,"slice"),i.Qb(),i.Rb(10,"td"),i.Kc(11),i.Qb(),i.Rb(12,"td"),i.Rb(13,"span"),i.Rb(14,"button",36),i.bc("click",function(){i.zc(n);var e=t.index,o=i.fc(),r=i.vc(44);return o.editLang(e),r.show()}),i.Mb(15,"i",37),i.Qb(),i.Qb(),i.Rb(16,"span"),i.Rb(17,"button",38),i.bc("click",function(){i.zc(n);var e=t.index,o=i.fc(),r=i.vc(27);return o.removeLang(e),r.show()}),i.Mb(18,"i",39),i.Qb(),i.Qb(),i.Qb(),i.Qb()}if(2&e){var o=t.$implicit,r=t.index;i.yb(2),i.Lc(r+1),i.yb(2),i.Lc(o.label),i.yb(2),i.Lc(""!=o.creator?o.creator:"<empty>"),i.yb(2),i.Mc("",""!=o.description?i.jc(9,5,o.description,0,50)+"...":"<empty>"," "),i.yb(3),i.Lc(o.entries)}}function kb(e,t){1&e&&(i.Rb(0,"div",46),i.Kc(1," Invalid Field "),i.Qb())}function Ob(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",14),i.Rb(1,"label",42),i.Kc(2),i.Qb(),i.Rb(3,"div",43),i.Rb(4,"input",44,45),i.bc("keyup",function(){i.zc(n);var e=i.vc(5),t=i.fc().$implicit;return i.fc(2).triggerEdit(t.key,e.value)}),i.Qb(),i.Ic(6,kb,2,0,"div",34),i.Qb(),i.Qb()}if(2&e){var o=i.fc().$implicit,r=i.fc(2);i.yb(2),i.Lc(o.key),i.yb(2),i.mc("value",o.value)("formControlName",o.key)("name",o.key),i.yb(2),i.mc("ngIf",!r.checkEditValid(o.key))}}function xb(e,t){if(1&e&&(i.Rb(0,"div"),i.Ic(1,Ob,7,5,"div",41),i.Qb()),2&e){var n=t.$implicit;i.yb(1),i.mc("ngIf","description"==n.key||"label"==n.key||"lexvo"==n.key)}}function wb(e,t){if(1&e&&(i.Rb(0,"div",0),i.Rb(1,"span",1),i.Rb(2,"b"),i.Kc(3,"LANGUAGE EDITOR"),i.Qb(),i.Qb(),i.Rb(4,"div",5),i.Rb(5,"form",40),i.Ic(6,xb,2,1,"div",9),i.gc(7,"keyvalue"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc();i.yb(5),i.mc("formGroup",n.editLangForm),i.yb(1),i.mc("ngForOf",i.hc(7,2,n.editLangArray))}}function Mb(e,t){1&e&&(i.Rb(0,"div",47),i.Rb(1,"span",48),i.Kc(2,"Loading..."),i.Qb(),i.Qb())}function Pb(e,t){1&e&&(i.Rb(0,"div",46),i.Kc(1," Please, insert at least three characters. "),i.Qb())}var Eb,Sb=((Eb=function(){function e(t,n){_classCallCheck(this,e),this.lexicalService=t,this.toastr=n,this.languageList=[],this.editLangArray=[],this.isValid=!1,this.loadingService=!1,this.subject=new wc.a,this.editLangForm=new vs.h({description:new vs.f(""),lexvo:new vs.f("",[vs.x.required,vs.x.minLength(3)]),label:new vs.f("",[vs.x.required,vs.x.minLength(2),vs.x.maxLength(3)])})}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.lexicalService.refreshLangTable$.subscribe(function(t){e.loadLangData()},function(e){}),this.subject.pipe(Object(ou.a)(1e3)).subscribe(function(t){e.onEditLanguage(t)})}},{key:"loadLangData",value:function(){var e=this;this.lexicalService.getLexiconLanguages().subscribe(function(t){e.languageList=t},function(e){})}},{key:"onSubmit",value:function(e){var t=this;e.match(/^[A-Za-z]{2,3}$/)?(this.isValid=!0,this.loadingService=!0,this.lexicalService.createNewLanguage(e).subscribe(function(e){console.log(e),t.loadingService=!1,t.lexicalService.refreshFilter({request:!0}),t.lexicalService.updateLangSelect({request:!0}),t.lexicalService.refreshLangTable(),t.toastr.info("Language "+e.label+" created","",{timeOut:5e3})},function(e){console.log(e),t.loadingService=!1,t.lexicalService.refreshLangTable(),t.lexicalService.refreshFilter({request:!0}),t.lexicalService.updateLangSelect({request:!0})})):this.isValid=!1}},{key:"triggerEdit",value:function(e,t){this.subject.next({i:e,v:t})}},{key:"onEditLanguage",value:function(e){var t=this;if(""!=e.v.trim()){if("description"==e.i){var n=this.editLangArray.languageInstanceName;this.lexicalService.updateLanguage(n,{relation:"description",value:e.v}).subscribe(function(e){console.log(e),t.lexicalService.refreshLangTable(),t.lexicalService.refreshFilter({request:!0})},function(e){console.log(e),t.lexicalService.refreshLangTable(),t.lexicalService.refreshFilter({request:!0}),"OK"==e.statusText?t.toastr.info("Description for "+n+" updated","",{timeOut:5e3}):t.toastr.error(e.error,"Error",{timeOut:5e3})})}else if("lexvo"==e.i){var i=this.editLangArray.languageInstanceName;this.lexicalService.updateLanguage(i,{relation:"lexvo",value:e.v}).subscribe(function(e){console.log(e),t.lexicalService.refreshLangTable(),t.lexicalService.refreshFilter({request:!0})},function(e){console.log(e),t.lexicalService.refreshLangTable(),t.lexicalService.refreshFilter({request:!0}),"OK"==e.statusText?t.toastr.info("Description for "+i+" updated","",{timeOut:5e3}):t.toastr.error(e.error,"Error",{timeOut:5e3})})}else if("label"==e.i)if(this.editLangForm.get("label").valid){var o=this.editLangArray.languageInstanceName;this.lexicalService.updateLanguage(o,{relation:"language",value:e.v}).subscribe(function(e){console.log(e),t.lexicalService.refreshLangTable()},function(e){console.log(e),t.lexicalService.refreshLangTable(),"OK"==e.statusText?t.toastr.info("Description for "+o+" updated","",{timeOut:5e3}):t.toastr.error(e.error,"Error",{timeOut:5e3})})}else this.toastr.error("Not valid string for label field","Error",{timeOut:5e3})}else this.toastr.error("Don't insert empty value","Error",{timeOut:5e3})}},{key:"editLang",value:function(e){this.editLangArray=this.languageList[e],this.editLangForm.get("description").setValue(this.editLangArray.description,{eventEmit:!1}),this.editLangForm.get("lexvo").setValue(this.editLangArray.lexvo,{eventEmit:!1}),this.editLangForm.get("label").setValue(this.editLangArray.label,{eventEmit:!1})}},{key:"checkEditValid",value:function(e){return this.editLangForm.get(e).valid}},{key:"removeLang",value:function(e){this.removeMessage=this.languageList[e].languageInstanceName}},{key:"deleteLangRequest",value:function(){var e=this,t=this.removeMessage;this.lexicalService.deleteLanguage(t).subscribe(function(n){console.log(n),e.lexicalService.refreshLangTable(),e.lexicalService.refreshFilter({request:!0}),e.toastr.info("Language "+t+" removed","",{timeOut:5e3})},function(t){console.log(t),e.lexicalService.refreshLangTable(),e.lexicalService.refreshFilter({request:!0}),e.toastr.error(t.error,"Error",{timeOut:5e3})})}}]),e}()).\u0275fac=function(e){return new(e||Eb)(i.Lb(sp.a),i.Lb(Pu.b))},Eb.\u0275cmp=i.Fb({type:Eb,selectors:[["app-language-manager"]],decls:66,vars:6,consts:[[1,"card"],[1,"text-id"],[1,"pointer",3,"click"],[1,"collapse-icon"],[1,"fa","fa-plus-square"],[1,"card-body"],[1,"form-group","row","ml-3","mt-3","mr-3","mb-0"],[1,"table","table_language","table-bordered","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[1,"remove_languages_modal"],["removeLangModal",""],[1,"app-modal-header"],[1,"app-modal-body"],[1,"form-group","row","ml-2","mt-3","mr-2"],["for","inputLabel",1,"col-lg-12","col-form-label",2,"font-size","12px","text-align","center"],[1,"form-group","row","ml-2","mt-3","mr-2","justify-content-md-center"],[1,"input-group","col-lg-5","justify-content-md-center",2,"align-items","center","text-align","center"],[1,"input-group-append","ml-2"],["type","button",1,"btn","btn-success",3,"click"],[1,"fas","fa-check"],["type","button",1,"btn","btn-danger",3,"click"],[1,"fas","fa-times"],[1,"edit_languages_modal"],["editLangModal",""],["class","card",4,"ngIf"],[1,"add_languages_modal"],["addLanguageModal",""],["for","inputLabel",1,"col-lg-5","col-form-label",2,"font-size","12px"],[1,"input-group","col-lg-7",2,"align-items","center"],["id","label","type","text","placeholder","",1,"form-control"],["inputAddLanguage","","langValue",""],["type","button",1,"btn","btn-success",3,"disabled","click"],["class","spinner-border spinner-border-sm m-1","role","status",4,"ngIf"],["class","invalid-feedback","style","display: block; font-size: 9px;",4,"ngIf"],["scope","row"],[1,"btn","btn-primary","mr-1",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-danger","ml-1",3,"click"],[1,"fas","fa-trash-alt"],[3,"formGroup"],["class","form-group row ml-2 mt-3 mr-2",4,"ngIf"],["for","inputLabel",1,"col-lg-3","col-form-label",2,"font-size","12px"],[1,"input-group","col-lg-9",2,"align-items","center"],["type","text","placeholder","",1,"form-control",3,"value","formControlName","name","keyup"],["inputLang",""],[1,"invalid-feedback",2,"display","block","font-size","9px"],["role","status",1,"spinner-border","spinner-border-sm","m-1"],[1,"sr-only"]],template:function(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",0),i.Rb(1,"span",1),i.Rb(2,"b"),i.Kc(3,"LANGUAGE LIST"),i.Qb(),i.Qb(),i.Rb(4,"a",2),i.bc("click",function(){return i.zc(n),i.vc(49).show()}),i.Rb(5,"span",3),i.Mb(6,"i",4),i.Qb(),i.Qb(),i.Rb(7,"div",5),i.Rb(8,"div",6),i.Rb(9,"table",7),i.Rb(10,"thead"),i.Rb(11,"tr"),i.Rb(12,"th",8),i.Kc(13,"#"),i.Qb(),i.Rb(14,"th",8),i.Kc(15,"Label"),i.Qb(),i.Rb(16,"th",8),i.Kc(17,"Creator"),i.Qb(),i.Rb(18,"th",8),i.Kc(19,"Description"),i.Qb(),i.Rb(20,"th",8),i.Kc(21,"Entries"),i.Qb(),i.Rb(22,"th",8),i.Kc(23,"Actions"),i.Qb(),i.Qb(),i.Qb(),i.Rb(24,"tbody"),i.Ic(25,Cb,19,9,"tr",9),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(26,"app-modal",10,11),i.Nb(28,12),i.Pb(29,13),i.Rb(30,"div",0),i.Rb(31,"div",5),i.Rb(32,"div",14),i.Rb(33,"label",15),i.Kc(34),i.Qb(),i.Qb(),i.Rb(35,"div",16),i.Rb(36,"div",17),i.Rb(37,"div",18),i.Rb(38,"button",19),i.bc("click",function(){i.zc(n);var e=i.vc(27);return t.deleteLangRequest(),e.hide()}),i.Mb(39,"i",20),i.Qb(),i.Qb(),i.Rb(40,"div",18),i.Rb(41,"button",21),i.bc("click",function(){return i.zc(n),i.vc(27).hide()}),i.Mb(42,"i",22),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Ob(),i.Qb(),i.Rb(43,"app-modal",23,24),i.Nb(45,12),i.Pb(46,13),i.Ic(47,wb,8,4,"div",25),i.Ob(),i.Qb(),i.Rb(48,"app-modal",26,27),i.Nb(50,12),i.Pb(51,13),i.Rb(52,"div",0),i.Rb(53,"div",5),i.Rb(54,"div",14),i.Rb(55,"label",28),i.Kc(56,"Insert a language code (max 2-3 chars):"),i.Qb(),i.Rb(57,"div",29),i.Mb(58,"input",30,31),i.Rb(61,"div",18),i.Rb(62,"button",32),i.bc("click",function(){i.zc(n);var e=i.vc(60),o=i.vc(49);return t.onSubmit(e.value),o.hide()}),i.Mb(63,"i",20),i.Qb(),i.Qb(),i.Ic(64,Mb,3,0,"div",33),i.Ic(65,Pb,2,0,"div",34),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Ob(),i.Qb()}if(2&e){var o=i.vc(59);i.yb(25),i.mc("ngForOf",t.languageList),i.yb(9),i.Mc("Are you sure to delete ",t.removeMessage,"?"),i.yb(13),i.mc("ngIf",t.editLangArray),i.yb(15),i.mc("disabled",o.value.length<2||o.value.length>3),i.yb(2),i.mc("ngIf",t.loadingService),i.yb(1),i.mc("ngIf",!t.isValid)}},directives:[a.m,Rp,a.n,vs.z,vs.o,vs.i,vs.b,vs.n,vs.g],pipes:[a.t,a.h],styles:["table[_ngcontent-%COMP%]{font-size:12px;font-weight:400}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle}.row[_ngcontent-%COMP%]{align-items:center}.btn[_ngcontent-%COMP%]{height:38px;border-radius:.25rem!important}.btn[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{font-size:12px}.btn[_ngcontent-%COMP%]{height:32px}.form-check-input[_ngcontent-%COMP%]{margin-top:0}.card[_ngcontent-%COMP%]{margin-top:20px;padding-top:20px}#accordion[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{width:100%}.text-id[_ngcontent-%COMP%]{left:10px;top:-12px;padding:5px 10px;font-size:12px}.collapse-icon[_ngcontent-%COMP%], .text-id[_ngcontent-%COMP%]{position:absolute;background:#fff;text-align:center;color:#212529}.collapse-icon[_ngcontent-%COMP%]{right:4px;top:-16px;padding:5px;font-size:16px}.badge[_ngcontent-%COMP%]{font-size:11px}.pointer[_ngcontent-%COMP%]{cursor:pointer}.input-group-text[_ngcontent-%COMP%]{background-color:#fff;border:none}.input-group[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:not(:last-child){border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}#addLanguageModal[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], #editLangModal[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-top:0;padding-top:0;width:100%;height:100%}"]}),Eb),Rb=function(e){return e.equals="equals",e.startsWith="startsWith",e.contains="contains",e.endsWith="endsWith",e}({}),Ib=["lexicalEntry"];function Ab(e,t){1&e&&(i.Rb(0,"div",56),i.Rb(1,"span",49),i.Kc(2,"Loading..."),i.Qb(),i.Qb())}function Tb(e,t){if(1&e&&(i.Rb(0,"option",57),i.Kc(1),i.Qb()),2&e){var n=t.$implicit;i.mc("value",n.label),i.yb(1),i.Nc("",n.label," - ",n.count,"")}}function Db(e,t){if(1&e&&(i.Rb(0,"option",57),i.Kc(1),i.Qb()),2&e){var n=t.$implicit;i.mc("value",n.label),i.yb(1),i.Nc("",n.label," - ",n.count," ")}}function jb(e,t){if(1&e&&(i.Rb(0,"option",57),i.Kc(1),i.Qb()),2&e){var n=t.$implicit;i.mc("value",n.label),i.yb(1),i.Nc("",n.label," - ",n.count,"")}}function Fb(e,t){if(1&e&&(i.Rb(0,"option",57),i.Kc(1),i.Qb()),2&e){var n=t.$implicit;i.mc("value",n.label),i.yb(1),i.Nc("",n.label," - ",n.count," ")}}function Qb(e,t){1&e&&(i.Rb(0,"p",58),i.Kc(1,"Nessun risultato"),i.Qb())}function Lb(e,t){if(1&e&&i.Mb(0,"tree-node-expander",72),2&e){var n=i.fc().$implicit;i.mc("node",n)}}function Nb(e,t){if(1&e&&(i.Rb(0,"span"),i.Kc(1),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(1),i.Lc(n.data.label)}}function zb(e,t){if(1&e&&(i.Rb(0,"span"),i.Kc(1),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(1),i.Lc(n.data.lexicalEntryInstanceName)}}function Vb(e,t){if(1&e&&(i.Rb(0,"span"),i.Rb(1,"b"),i.Kc(2),i.Qb(),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(2),i.Lc(n.data.label)}}function Bb(e,t){if(1&e&&(i.Rb(0,"span"),i.Rb(1,"b"),i.Kc(2),i.Qb(),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(2),i.Lc(n.data.formInstanceName)}}function Ub(e,t){if(1&e&&(i.Rb(0,"span"),i.Kc(1),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(1),i.Lc(n.data.formInstanceName)}}function Hb(e,t){if(1&e&&(i.Rb(0,"span"),i.Kc(1),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(1),i.Lc(n.data.senseInstanceName)}}function Kb(e,t){if(1&e&&(i.Rb(0,"span"),i.Kc(1),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(1),i.Lc(n.data.etymologyInstanceName)}}function qb(e,t){1&e&&(i.Rb(0,"span"),i.Kc(1," Anonimous component"),i.Qb())}function $b(e,t){if(1&e&&(i.Rb(0,"span"),i.Kc(1),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(1),i.Mc(" ",n.data.label,"")}}function Wb(e,t){if(1&e&&(i.Rb(0,"span"),i.Kc(1),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(1),i.Mc(" ",n.data.componentInstanceName,"")}}function Gb(e,t){if(1&e&&(i.Rb(0,"span",73),i.Kc(1),i.gc(2,"slice"),i.Qb()),2&e){var n=i.fc().$implicit;i.mc("title",n.data.definition),i.yb(1),i.Lc(n.data.label.length>10?i.jc(2,2,n.data.label,0,10)+"...":n.data.label)}}function Yb(e,t){if(1&e&&(i.Rb(0,"span",73),i.Kc(1),i.Qb()),2&e){var n=i.fc().$implicit;i.mc("title",n.data.definition),i.yb(1),i.Lc(n.data.instanceName)}}function Xb(e,t){if(1&e&&(i.Rb(0,"span"),i.Rb(1,"i"),i.Rb(2,"span",74),i.Kc(3),i.Qb(),i.Qb(),i.Kc(4),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(3),i.Lc(n.data.label),i.yb(1),i.Mc("\xa0(",n.data.count,")")}}function Zb(e,t){if(1&e&&(i.Rb(0,"span"),i.Kc(1),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(1),i.Lc(n.data.writtenRep)}}function Jb(e,t){if(1&e&&(i.Rb(0,"sub"),i.Kc(1),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(1),i.Lc(n.data.pos)}}function eg(e,t){if(1&e&&(i.Rb(0,"span",75),i.Kc(1),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(1),i.Mc("@",n.data.language,"")}}function tg(e,t){if(1&e&&i.Mb(0,"i",76),2&e){var n=i.fc().$implicit;i.Bb("far fa-comment-dots note-tooltip note_",n.data.id,""),i.mc("title",n.data.note)}}function ng(e,t){if(1&e&&i.Mb(0,"i",77),2&e){var n=i.fc().$implicit;i.mc("title",n.data.creator)}}function ig(e,t){if(1&e&&i.Mb(0,"i",77),2&e){var n=i.fc().$implicit;i.mc("title",n.data.author)}}function og(e,t){if(1&e&&i.Mb(0,"i",77),2&e){var n=i.fc().$implicit;i.mc("title",n.data.revisor)}}function rg(e,t){if(1&e&&i.Mb(0,"i",77),2&e){var n=i.fc().$implicit;i.mc("title",n.data.creator)}}function ag(e,t){if(1&e&&i.Mb(0,"i",77),2&e){var n=i.fc().$implicit;i.mc("title",n.data.creator)}}function sg(e,t){if(1&e&&i.Mb(0,"i",77),2&e){var n=i.fc().$implicit;i.mc("title",n.data.creator)}}function cg(e,t){1&e&&i.Mb(0,"i",78)}function lg(e,t){1&e&&i.Mb(0,"i",79)}function ug(e,t){if(1&e&&i.Mb(0,"i",80),2&e){var n=i.fc().$implicit;i.mc("title",n.data.revisor)}}function fg(e,t){if(1&e&&(i.Rb(0,"div",59),i.Rb(1,"div"),i.Ic(2,Lb,1,1,"tree-node-expander",60),i.Rb(3,"div",61),i.bc("click",function(e){return t.$implicit.mouseAction("click",e)})("dblclick",function(e){return t.$implicit.mouseAction("dblClick",e)}),i.Ic(4,Nb,2,1,"span",62),i.Ic(5,zb,2,1,"span",62),i.Ic(6,Vb,3,1,"span",62),i.Ic(7,Bb,3,1,"span",62),i.Ic(8,Ub,2,1,"span",62),i.Ic(9,Hb,2,1,"span",62),i.Ic(10,Kb,2,1,"span",62),i.Ic(11,qb,2,0,"span",62),i.Ic(12,$b,2,1,"span",62),i.Ic(13,Wb,2,1,"span",62),i.Ic(14,Gb,3,6,"span",63),i.Ic(15,Yb,2,2,"span",63),i.Ic(16,Xb,5,2,"span",62),i.Ic(17,Zb,2,1,"span",62),i.Ic(18,Jb,2,1,"sub",62),i.Ic(19,eg,2,1,"span",64),i.Qb(),i.Qb(),i.Rb(20,"div",65),i.Rb(21,"div",66),i.Ic(22,tg,1,4,"i",67),i.Qb(),i.Rb(23,"div",66),i.Ic(24,ng,1,1,"i",68),i.Ic(25,ig,1,1,"i",68),i.Ic(26,og,1,1,"i",68),i.Ic(27,rg,1,1,"i",68),i.Ic(28,ag,1,1,"i",68),i.Ic(29,sg,1,1,"i",68),i.Qb(),i.Rb(30,"div",66),i.Ic(31,cg,1,0,"i",69),i.Ic(32,lg,1,0,"i",70),i.Ic(33,ug,1,1,"i",71),i.Qb(),i.Qb(),i.Qb()),2&e){var n=t.$implicit,o=i.fc();i.yb(2),i.mc("ngIf",1==n.data.hasChildren),i.yb(1),i.Db("node-content-wrapper-active",n.isActive)("node-content-wrapper-focused",n.isFocused),i.mc("contextMenu",o.basicMenu)("contextMenuSubject",n.data),i.yb(1),i.mc("ngIf",null==n.data.count&&o.labelView&&null==n.data.componentInstanceName&&null==n.data.definition&&"canonicalForm"!=n.data.type&&null==n.data.sense),i.yb(1),i.mc("ngIf",null==n.data.count&&o.idView&&null==n.data.definition&&"canonicalForm"!=n.data.type&&null==n.data.sense&&null==n.data.etymologyInstanceName),i.yb(1),i.mc("ngIf",null==n.data.count&&o.labelView&&null==n.data.definition&&"canonicalForm"==n.data.type&&null==n.data.sense),i.yb(1),i.mc("ngIf",null==n.data.count&&o.idView&&null==n.data.definition&&"canonicalForm"==n.data.type&&null==n.data.sense),i.yb(1),i.mc("ngIf",null==n.data.count&&o.idView&&null==n.data.definition&&"canonicalForm"!=n.data.type&&null==n.data.sense),i.yb(1),i.mc("ngIf",null==n.data.count&&o.idView&&null!=n.data.definition),i.yb(1),i.mc("ngIf",null==n.data.count&&o.idView&&null!=n.data.etymologyInstanceName),i.yb(1),i.mc("ngIf",null==n.data.count&&o.labelView&&null!=n.data.componentInstanceName&&""==n.data.label),i.yb(1),i.mc("ngIf",null==n.data.count&&o.labelView&&null!=n.data.componentInstanceName&&""!=n.data.label),i.yb(1),i.mc("ngIf",null==n.data.count&&o.idView&&null!=n.data.componentInstanceName),i.yb(1),i.mc("ngIf",null==n.data.count&&o.labelView&&null!=n.data.definition&&null!=n.data.label),i.yb(1),i.mc("ngIf",null==n.data.count&&o.idView&&null!=n.data.definition&&null!=n.data.label),i.yb(1),i.mc("ngIf",null!=n.data.count),i.yb(1),i.mc("ngIf",""!=n.data.writtenRep),i.yb(1),i.mc("ngIf",o.labelView&&null==n.data.sense),i.yb(1),i.mc("ngIf",null!=n.data.language&&o.labelView),i.yb(3),i.mc("ngIf",""!=n.data.note&&null!=n.data.note),i.yb(2),i.mc("ngIf",null!=n.data.lexicalEntryInstanceName&&!o.flagAuthor&&"working"==n.data.status),i.yb(1),i.mc("ngIf",null!=n.data.lexicalEntryInstanceName&&!o.flagAuthor&&"completed"==n.data.status),i.yb(1),i.mc("ngIf",null!=n.data.lexicalEntryInstanceName&&!o.flagAuthor&&"reviewed"==n.data.status),i.yb(1),i.mc("ngIf",null!=n.data.formInstanceName&&n.data.flagAuthor),i.yb(1),i.mc("ngIf",null!=n.data.senseInstanceName&&n.data.flagAuthor),i.yb(1),i.mc("ngIf",null!=n.data.etymologyInstanceName&&n.data.flagAuthor),i.yb(2),i.mc("ngIf",null!=n.data.status&&"working"==n.data.status),i.yb(1),i.mc("ngIf",null!=n.data.status&&"completed"==n.data.status),i.yb(1),i.mc("ngIf",null!=n.data.status&&"reviewed"==n.data.status)}}function dg(e,t){1&e&&i.Kc(0," Copy URI ")}function hg(e,t){1&e&&(i.Rb(0,"div"),i.Rb(1,"div",56),i.Rb(2,"span",49),i.Kc(3,"Loading..."),i.Qb(),i.Qb(),i.Qb())}function pg(e,t){1&e&&i.Ic(0,hg,4,0,"div",62),2&e&&i.mc("ngIf",t.$implicit.hasChildren)}var bg,gg,mg={mouse:{dblClick:function(e,t,n){t.hasChildren&&ka.TOGGLE_EXPANDED(e,t,n)},click:function(e,t,n){ka.TOGGLE_ACTIVE(e,t,n),ka.TOGGLE_EXPANDED(e,t,n)},contextMenu:function(e,t,n){ka.TOGGLE_ACTIVE(e,t,n),ka.TOGGLE_EXPANDED(e,t,n)}}},vg=((gg=function(){function e(t,n,i,o,r){var a=this;_classCallCheck(this,e),this.expander=t,this.renderer=n,this.element=i,this.lexicalService=o,this.toastr=r,this.show=!1,this.modalShow=!1,this.flagAuthor=!1,this.searchIconSpinner=!1,this.titlePopover="Search examples",this.popoverWildcards="<span><b>Multiple character wildcard search:</b></span>&nbsp;<span><i>te*</i></span><br><span><b>Single character wildcard search:</b></span>&nbsp;<span><i>te?t</i></span><br> <b>Fuzzy search:</b></span>&nbsp;<span><i>test~</i></span><br><b>Weighted fuzzy search:</b></span>&nbsp;<span><i>test~0.8</i></span>",this.labelView=!0,this.idView=!1,this.offset=0,this.limit=500,this.counter=0,this.status=[{label:"false",count:0},{label:"true",count:0}],this.parameters={text:"",searchMode:Rb.startsWith,type:"",pos:"",formType:"entry",author:"",lang:"",status:"",offset:this.offset,limit:this.limit},this.options={useVirtualScroll:!0,scrollOnActivate:!1,nodeHeight:13,actionMapping:mg,getChildren:this.getChildren.bind(this)},this.filterForm=new vs.h({text:new vs.f(""),searchMode:new vs.f("startsWith"),type:new vs.f(""),pos:new vs.f(""),formType:new vs.f("entry"),author:new vs.f(""),lang:new vs.f(""),status:new vs.f("")}),this.initialValues=this.filterForm.value,this.copySubject=new wc.a,this.onEvent=function(e){console.log(e),setTimeout(function(){$(".lexical-tooltip").tooltip()},2e3),"activate"==e.eventName&&null!=e.node.data.lexicalEntry&&null==e.node.data.form&&null==e.node.data.sense&&null==e.node.data.etymology&&e.node.data.lexicalEntryInstanceName!=a.selectedNodeId?a.lexicalService.getLexEntryData(e.node.data.lexicalEntryInstanceName).subscribe(function(t){console.log(t),a.selectedNodeId=e.node.data.lexicalEntryInstanceName,a.lexicalService.sendToCoreTab(t),a.lexicalService.sendToRightTab(t),a.lexicalService.sendToEtymologyTab(null),a.lexicalService.updateCoreCard({lastUpdate:t.lastUpdate,creationDate:t.creationDate}),a.expander.isEditTabOpen()||a.expander.isEpigraphyTabOpen()?!a.expander.isEditTabOpen()&&a.expander.isEpigraphyTabOpen()&&!a.expander.isEditTabExpanded()&&a.expander.isEpigraphyTabExpanded()&&(a.expander.expandCollapseEpigraphy(!1),a.expander.openCollapseEdit(!0)):a.expander.isEditTabExpanded()||a.expander.isEpigraphyTabExpanded()||(a.expander.expandCollapseEdit(!0),a.expander.openCollapseEdit(!0)),$("#coreTabModal").modal("show"),$(".modal-backdrop").appendTo(".core-tab-body"),$("#coreTabModal").modal({backdrop:"static",keyboard:!1}),$("body").removeClass("modal-open"),$("body").css("padding-right",""),null!=t.note&&a.lexicalService.triggerNotePanel(""!=t.note)},function(e){}):"activate"==e.eventName&&null!=e.node.data.form&&e.node.data.formInstanceName!=a.selectedNodeId?a.lexicalService.getFormData(e.node.data.formInstanceName,"core").subscribe(function(t){console.log(t),a.selectedNodeId=e.node.data.formInstanceName,t.parentNodeLabel=e.node.parent.parent.data.label,t.parentNodeInstanceName=e.node.parent.parent.data.lexicalEntryInstanceName,a.lexicalService.sendToCoreTab(t),a.lexicalService.sendToEtymologyTab(null),a.lexicalService.sendToRightTab(t),a.lexicalService.updateCoreCard({lastUpdate:t.lastUpdate,creationDate:t.creationDate}),$("#coreTabModal").modal("show"),$(".modal-backdrop").appendTo(".core-tab-body"),$("#coreTabModal").modal({backdrop:"static",keyboard:!1}),$("body").removeClass("modal-open"),$("body").css("padding-right",""),a.expander.isEditTabOpen()||a.expander.isEpigraphyTabOpen()?!a.expander.isEditTabOpen()&&a.expander.isEpigraphyTabOpen()&&!a.expander.isEditTabExpanded()&&a.expander.isEpigraphyTabExpanded()&&(a.expander.expandCollapseEpigraphy(!1),a.expander.openCollapseEdit(!0)):a.expander.isEditTabExpanded()||a.expander.isEpigraphyTabExpanded()||(a.expander.expandCollapseEdit(!0),a.expander.openCollapseEdit(!0)),null!=t.note&&a.lexicalService.triggerNotePanel(""!=t.note)},function(e){}):"activate"==e.eventName&&null!=e.node.data.sense&&e.node.data.senseInstanceName!=a.selectedNodeId?a.lexicalService.getSenseData(e.node.data.senseInstanceName,"core").subscribe(function(t){a.selectedNodeId=e.node.data.senseInstanceName,t.parentNodeLabel=e.node.parent.parent.data.label,t.parentNodeInstanceName=e.node.parent.parent.data.lexicalEntryInstanceName,t.type=e.node.parent.parent.data.type,console.log(t),a.lexicalService.sendToCoreTab(t),a.lexicalService.sendToEtymologyTab(null),a.lexicalService.sendToRightTab(t),a.lexicalService.updateCoreCard({lastUpdate:t.lastUpdate,creationDate:t.creationDate}),$("#coreTabModal").modal("show"),$(".modal-backdrop").appendTo(".core-tab-body"),$("#coreTabModal").modal({backdrop:"static",keyboard:!1}),$("body").removeClass("modal-open"),$("body").css("padding-right",""),a.expander.isEditTabOpen()||a.expander.isEpigraphyTabOpen()?!a.expander.isEditTabOpen()&&a.expander.isEpigraphyTabOpen()&&!a.expander.isEditTabExpanded()&&a.expander.isEpigraphyTabExpanded()&&(a.expander.expandCollapseEpigraphy(!1),a.expander.openCollapseEdit(!0)):a.expander.isEditTabExpanded()||a.expander.isEpigraphyTabExpanded()||(a.expander.expandCollapseEdit(!0),a.expander.openCollapseEdit(!0)),null!=t.note&&a.lexicalService.triggerNotePanel(""!=t.note)},function(e){}):"activate"==e.eventName&&null!=e.node.data.etymology&&e.node.data.etymologyInstanceName!=a.selectedNodeId?a.lexicalService.getEtymologyData(e.node.data.etymologyInstanceName).subscribe(function(t){a.selectedNodeId=e.node.data.etymologyInstanceName,t.parentNodeLabel=e.node.parent.parent.data.label,t.parentNodeInstanceName=e.node.parent.parent.data.lexicalEntryInstanceName,console.log(t),t.type=e.node.parent.parent.data.type,a.lexicalService.sendToEtymologyTab(t),a.lexicalService.sendToRightTab(t),a.lexicalService.updateCoreCard({lastUpdate:t.etymology.lastUpdate,creationDate:t.etymology.creationDate}),$("#etymologyTabModal").modal("show"),$(".modal-backdrop").appendTo(".etym-tab-body"),$("#etymologyTabModal").modal({backdrop:"static",keyboard:!1}),$("body").removeClass("modal-open"),$("body").css("padding-right",""),a.expander.isEditTabOpen()||a.expander.isEpigraphyTabOpen()?!a.expander.isEditTabOpen()&&a.expander.isEpigraphyTabOpen()&&!a.expander.isEditTabExpanded()&&a.expander.isEpigraphyTabExpanded()&&(a.expander.expandCollapseEpigraphy(!1),a.expander.openCollapseEdit(!0)):a.expander.isEditTabExpanded()||a.expander.isEpigraphyTabExpanded()||(a.expander.expandCollapseEdit(!0),a.expander.openCollapseEdit(!0)),null!=t.note&&a.lexicalService.triggerNotePanel(""!=t.note)},function(e){console.log(e)}):"activate"==e.eventName&&null!=e.node.data.component&&e.node.data.componentInstanceName!=a.selectedNodeId&&a.lexicalService.getLexEntryData(e.node.parent.parent.data.lexicalEntryInstanceName).subscribe(function(t){a.selectedNodeId=e.node.data.parentNodeInstanceName,console.log(t),a.lexicalService.sendToRightTab(t),a.lexicalService.updateCoreCard({lastUpdate:t.lastUpdate,creationDate:t.creationDate}),$("#etymologyTabModal").modal("show"),$(".modal-backdrop").appendTo(".etym-tab-body"),$("#etymologyTabModal").modal({backdrop:"static",keyboard:!1}),$("body").removeClass("modal-open"),$("body").css("padding-right",""),a.expander.isEditTabOpen()||a.expander.isEpigraphyTabOpen()?!a.expander.isEditTabOpen()&&a.expander.isEpigraphyTabOpen()&&!a.expander.isEditTabExpanded()&&a.expander.isEpigraphyTabExpanded()&&(a.expander.expandCollapseEpigraphy(!1),a.expander.openCollapseEdit(!0)):a.expander.isEditTabExpanded()||a.expander.isEpigraphyTabExpanded()||(a.expander.expandCollapseEdit(!0),a.expander.openCollapseEdit(!0)),null!=t.note&&a.lexicalService.triggerNotePanel(""!=t.note)},function(e){console.log(e)})},this.onKey=function(e){var t=a;setTimeout(function(){var e=document.body.querySelectorAll("tree-node-collection > div")[1].children.length;t.show=0==e},5)},setInterval(function(e){$(".lexical-tooltip").tooltip("disable"),$(".lexical-tooltip").tooltip("enable"),$(".note-tooltip").tooltip("disable"),$(".note-tooltip").tooltip("enable")},2e3)}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.viewPort=this.element.nativeElement.querySelector("tree-viewport"),this.renderer.addClass(this.viewPort,"search-results"),this.onChanges(),this.lexicalService.deleteReq$.subscribe(function(t){null!=t&&e.lexEntryDeleteReq(t)}),this.lexicalService.addSubReq$.subscribe(function(t){null!=t&&e.addSubElement(t)}),this.copySubject.pipe(Object(ou.a)(500)).subscribe(function(t){var n=document.createElement("textarea");n.style.position="fixed",n.style.left="0",n.style.top="0",n.style.opacity="0",n.value=t,document.body.appendChild(n),n.focus(),n.select(),document.execCommand("copy"),document.body.removeChild(n),e.toastr.info("URI copied","Info",{timeOut:5e3})}),this.lexicalService.refreshFilter$.subscribe(function(t){null!=t&&(e.lexicalService.getLexicalEntriesList(e.parameters).subscribe(function(t){e.counter=t.totalHits},function(e){}),e.lexicalService.getLanguages().subscribe(function(t){e.languages=t}),e.lexicalService.getTypes().subscribe(function(t){e.types=t}),e.lexicalService.getAuthors().subscribe(function(t){e.authors=t}),e.lexicalService.getPos().subscribe(function(t){e.partOfSpeech=t}),e.lexicalService.getStatus().subscribe(function(t){e.status=t}))}),this.lexicalService.getLexicalEntriesList(this.parameters).subscribe(function(t){e.nodes=t.list,e.counter=t.totalHits},function(e){}),this.lexicalService.getLanguages().subscribe(function(t){e.languages=t}),this.lexicalService.getTypes().subscribe(function(t){e.types=t}),this.lexicalService.getAuthors().subscribe(function(t){e.authors=t}),this.lexicalService.getPos().subscribe(function(t){e.partOfSpeech=t}),this.lexicalService.getStatus().subscribe(function(t){e.status=t})}},{key:"onChanges",value:function(){var e=this;this.filterForm.valueChanges.pipe(Object(ou.a)(500)).subscribe(function(t){e.offset=0,e.lexicalEntriesFilter(t)})}},{key:"addSubElement",value:function(e){var t=this;setTimeout(function(){var n,i=e.lex,o=e.data;switch(console.log(i),console.log(o),i.request){case"form":n="formInstanceName";break;case"sense":n="senseInstanceName";break;case"etymology":n="etymologyInstanceName";break;case"subterm":n="lexicalEntryInstanceName";break;case"constituent":n="componentInstanceName"}t.lexicalEntryTree.treeModel.getNodeBy(function(e){if(null!=i.lexicalEntryInstanceName){if(e.data.lexicalEntryInstanceName===i.lexicalEntryInstanceName){if(null!=e.data.children||e.isExpanded){if(null==e.data.children)return!1;var r=e.data.children.filter(function(e){return e.label===i.request});1==r.length?e.data.children.filter(function(r){return r.label===i.request&&("sense"==i.request?(o.label="no definition",o.definition="no definition"):"etymology"==i.request?(o.label="Etymology of: "+i.parentNodeLabel,console.log(o.label)):"subterm"==i.request?(o.label=o.label,o.children=null,o.hasChildren=!1):"constituent"==i.request?(o.label="",o.children=null,o.hasChildren=!1):o.label=o[n],o.flagAuthor=o.creator!=e.data.creator,r.count++,r.children.push(o),t.lexicalEntryTree.treeModel.update(),t.lexicalEntryTree.treeModel.getNodeBy(function(e){(null==e.data.etymology&&e.data.label===o.label&&"subterm"!=i.request||null!=e.data.etymology&&e.data.etymologyInstanceName===o.etymologyInstanceName&&"subterm"!=i.request)&&e.setActiveAndVisible()}),!0)}):0==r.length&&(e.data.children.push({hasChildren:!0,label:i.request,children:[],count:0}),e.data.children.sort(function(e,t){var n=e.label.toUpperCase(),i=t.label.toUpperCase();return n<i?-1:n>i?1:0}),t.lexicalEntryTree.treeModel.update(),e.data.children.filter(function(r){return r.label===i.request&&(console.log(o.creator,e.data.reator),o.flagAuthor=o.creator!=e.data.creator,"sense"==i.request?(o.definition="no definition",o.label="no definintion"):"subterm"==i.request?(o.label=o.label,o.children=null,o.hasChildren=!1):o.label=o[n],"subterm"==i.request&&(o.hasChildren=!1,o.label=o.label),"constituent"==i.request&&(o.label=""),r.count++,r.children.push(o),t.lexicalEntryTree.treeModel.update(),t.lexicalEntryTree.treeModel.getNodeBy(function(e){e.data.label===o.label&&"subterm"!=i.request&&e.setActiveAndVisible()}),!0)}))}else{e.expand();var a=t;t.interval=setInterval(function(i){null!=e.data.children&&t.lexicalEntryTree.treeModel.getNodeBy(function(t){return null!=t.data[n]&&(t.data.flagAuthor=t.data.creator!=e.data.creator,t.data[n]===o[n]&&(t.setActiveAndVisible(),clearInterval(a.interval),!0))})},3e3)}return!0}return!1}return!1})},300)}},{key:"lexEntryDeleteReq",value:function(e){var t=this;setTimeout(function(){t.lexicalEntryTree.treeModel.getNodeBy(function(n){if(null!=e.lexicalEntryInstanceName){if(n.data.lexicalEntryInstanceName===e.lexicalEntryInstanceName){n.parent.data.children.splice(n.parent.data.children.indexOf(n.data),1);var i=n.parent.data.count;return 0!=i&&(n.parent.data.count--,i--),0==t.nodes.length&&t.lexicalEntriesFilter(t.parameters),0==i&&n.parent.parent.data.children.splice(n.parent.parent.data.children.indexOf(n.parent.data),1),console.log(n.parent),t.lexicalEntryTree.treeModel.update(),!0}return!1}if(null!=e.formInstanceName){if(n.data.formInstanceName===e.formInstanceName){n.parent.data.children.splice(n.parent.data.children.indexOf(n.data),1);var o=n.parent.data.count;return 0!=o&&(n.parent.data.count--,o--),0==o&&n.parent.parent.data.children.splice(n.parent.parent.data.children.indexOf(n.parent.data),1),console.log(n.parent),t.lexicalEntryTree.treeModel.update(),!0}return!1}if(null!=e.senseInstanceName){if(n.data.senseInstanceName===e.senseInstanceName){n.parent.data.children.splice(n.parent.data.children.indexOf(n.data),1);var r=n.parent.data.count;return 0!=r&&(n.parent.data.count--,r--),0==r&&n.parent.parent.data.children.splice(n.parent.parent.data.children.indexOf(n.parent.data),1),console.log(n.parent),t.lexicalEntryTree.treeModel.update(),!0}return!1}if(null!=e.etymology){if(n.data.etymologyInstanceName===e.etymology.etymologyInstanceName){n.parent.data.children.splice(n.parent.data.children.indexOf(n.data),1);var a=n.parent.data.count;return 0!=a&&(n.parent.data.count--,a--),0==a&&n.parent.parent.data.children.splice(n.parent.parent.data.children.indexOf(n.parent.data),1),console.log(n.parent),t.lexicalEntryTree.treeModel.update(),!0}return!1}if(null!=e.componentInstanceName){if(n.data.componentInstanceName===e.componentInstanceName){n.parent.data.children.splice(n.parent.data.children.indexOf(n.data),1);var s=n.parent.data.count;return 0!=s&&(n.parent.data.count--,s--),0==s&&n.parent.parent.data.children.splice(n.parent.parent.data.children.indexOf(n.parent.data),1),console.log(n.parent),t.lexicalEntryTree.treeModel.update(),!0}return!1}if(null==e.subtermInstanceName)return!1;if(n.data.lexicalEntryInstanceName==e.parentNodeInstanceName){console.log(n);var c=n.data.children;c.length>=1&&Array.from(c).forEach(function(i){if(i.lexicalEntryInstanceName==e.subtermInstanceName){console.log(i,n),n.data.children.splice(n.data.children.indexOf(i),1);var o=n.data.count;return 0!=o&&(n.data.count--,o--),0==t.nodes.length&&t.lexicalEntriesFilter(t.parameters),0==o&&n.parent.data.children.splice(n.parent.data.children.indexOf(n.data),1),t.lexicalEntryTree.treeModel.update(),!0}return!1})}return!1})},300)}},{key:"lexicalEntriesFilter",value:function(e){var t=this;setTimeout(function(){t.element.nativeElement.querySelector("tree-viewport").scrollTop=0},300),this.searchIconSpinner=!0;var n=e;n.offset=this.offset,n.limit=this.limit,console.log(n),this.lexicalService.getLexicalEntriesList(e).subscribe(function(e){console.log(e),t.show=!(e.list.length>0),t.nodes=e.list,t.counter=e.totalHits,t.lexicalEntryTree.treeModel.update(),t.updateTreeView(),t.searchIconSpinner=!1},function(e){console.log(e)})}},{key:"getParameters",value:function(){return this.initialValues}},{key:"ngAfterViewInit",value:function(){$('[data-toggle="popover"]').popover({html:!0,title:this.titlePopover,content:this.popoverWildcards})}},{key:"resetFields",value:function(){var e=this;this.initialValues.text="",this.parameters.text="",this.offset=0,this.filterForm.reset(this.initialValues,{emitEvent:!1}),setTimeout(function(){e.lexicalEntriesFilter(e.parameters),e.lexicalEntryTree.treeModel.update()},500)}},{key:"updateTreeView",value:function(){var e=this;setTimeout(function(){e.lexicalEntryTree.sizeChanged(),$(".lexical-tooltip").tooltip()},1e3)}},{key:"onScrollDown",value:function(e){var t=this;this.offset+=500,this.modalShow=!0,$("#lazyLoadingModal").modal("show"),$(".modal-backdrop").appendTo(".tree-view"),$("body").removeClass("modal-open"),$("body").css("padding-right","");var n=this.filterForm.value;n.offset=this.offset,n.limit=this.limit,this.lexicalService.getLexicalEntriesList(n).pipe(Object(ou.a)(200)).subscribe(function(e){$("#lazyLoadingModal").modal("hide"),$(".modal-backdrop").remove();for(var n=0;n<e.list.length;n++)t.nodes.push(e.list[n]);t.lexicalEntryTree.treeModel.update(),t.updateTreeView(),t.modalShow=!1,setTimeout(function(){$("#lazyLoadingModal").modal("hide"),$(".modal-backdrop").remove()},300)},function(e){})}},{key:"getChildren",value:function(e){var t,n=this;return null!=e.data.lexicalEntryInstanceName?this.lexicalService.getLexEntryElements(e.data.lexicalEntryInstanceName).subscribe(function(e){console.log(e.elements),e.elements=e.elements.filter(function(e){return 0!=e.count}),(t=e.elements.map(function(e){return Object.assign({},e)})).forEach(function(e){setTimeout(function(){try{n.lexicalEntryTree.treeModel.getNodeById(e.id).expand()}catch(t){console.log(t)}},1e3)})},function(e){}):"form"==e.data.label?this.lexicalService.getLexEntryForms(e.parent.data.lexicalEntryInstanceName).subscribe(function(n){t=n.map(function(e){return Object.assign({},e)});for(var i=0;i<t.length;i++)t[i].flagAuthor=t[i].creator!=e.parent.data.creator}):"sense"==e.data.label?this.lexicalService.getSensesList(e.parent.data.lexicalEntryInstanceName).subscribe(function(n){t=n.map(function(e){return Object.assign({},e)});for(var i=0;i<t.length;i++)t[i].hasChildren=null,t[i].flagAuthor=t[i].creator!=e.parent.data.creator},function(e){}):"etymology"==e.data.label?this.lexicalService.getEtymologies(e.parent.data.lexicalEntryInstanceName).subscribe(function(n){console.log(n),t=n.map(function(e){return Object.assign({},e)});for(var i=0;i<t.length;i++)t[i].hasChildren=null,t[i].flagAuthor=t[i].creator!=e.parent.data.creator},function(e){}):"constituent"==e.data.label?this.lexicalService.getConstituents(e.parent.data.lexicalEntryInstanceName).subscribe(function(e){console.log(e),t=e.map(function(e){return Object.assign({},e)});for(var n=0;n<t.length;n++)t[n].hasChildren=null},function(e){}):"subterm"==e.data.label&&this.lexicalService.getSubTerms(e.parent.data.lexicalEntryInstanceName).subscribe(function(e){console.log(e),t=e.map(function(e){return Object.assign({},e)});for(var n=0;n<t.length;n++)t[n].hasChildren=null},function(e){}),new Promise(function(e,n){setTimeout(function(){return e(t)},1e3)})}},{key:"copyText",value:function(e){console.log(e);var t="";null!=e.lexicalEntry&&null==e.sense&&null==e.etymology?t=e.lexicalEntry:null!=e.form?t=e.form:null!=e.sense?t=e.sense:null!=e.etymology&&(t=e.etymology),this.copySubject.next(t)}}]),e}()).\u0275fac=function(e){return new(e||gg)(i.Lb(up),i.Lb(i.E),i.Lb(i.l),i.Lb(sp.a),i.Lb(Pu.b))},gg.\u0275cmp=i.Fb({type:gg,selectors:[["app-lexical-entry-tree"]],viewQuery:function(e,t){var n;1&e&&(i.Pc(xu,!0),i.Pc(Ib,!0)),2&e&&(i.uc(n=i.cc())&&(t.basicMenu=n.first),i.uc(n=i.cc())&&(t.lexicalEntryTree=n.first))},inputs:{triggerShowTree:"triggerShowTree"},decls:100,vars:17,consts:[[3,"formGroup"],[1,"input-group","col-md-12","mt-1","p-0"],["formControlName","text","id","filterLexicalEntry","name","text","type","text","placeholder","Search",1,"form-control",3,"value"],[1,"input-group-append"],["id","basic-addon2",1,"input-group-text","loading_icon_append"],["class","spinner-border spinner-border-sm m-1","role","status",4,"ngIf"],["id","buttons-container",1,"input-group-append"],["type","button","data-toggle","popover","data-placement","bottom","data-trigger","hover",1,"btn","btn-sm","btn-info","btn-block","filter-button"],[1,"fa","fa-question"],["type","button","value","Filter","title","Filter","data-toggle","collapse","data-target","#filterCollapse","aria-expanded","false","aria-controls","filterCollapse",1,"btn","btn-sm","btn-secondary","btn-block","filter-button"],[1,"fa","fa-filter"],["type","button","value","Reset","title","Reset",1,"btn","btn-sm","btn-danger","btn-block","reset-button",2,"border-top-right-radius",".25rem","border-bottom-right-radius",".25rem",3,"click"],[1,"fa","fa-times"],["type","button",1,"btn","btn-block","counter-button"],[1,"font-weight-bold","font-italic","text-muted"],[1,"d-flex","flex-wrap","mt-3"],[1,"col-md-6","col-sm-3"],[1,"form-check"],["formControlName","searchMode","type","radio","name","searchMode","id","equalsRadio","value","equals",1,"form-check-input"],["for","equalsRadio",1,"form-check-label"],["formControlName","searchMode","type","radio","name","searchMode","id","startRadio","value","startsWith",1,"form-check-input"],["for","startRadio",1,"form-check-label"],["formControlName","searchMode","type","radio","name","searchMode","id","containsRadio","value","contains",1,"form-check-input"],["for","containsRadio",1,"form-check-label"],["formControlName","searchMode","type","radio","name","searchMode","id","endRadio","value","end",1,"form-check-input"],["for","endRadio",1,"form-check-label"],["id","filterCollapse",1,"collapse","multi-collapse"],[1,"col-md-6","col-sm-12"],["formControlName","type","id","type","name","type",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"d-md-none","mt-3"],["formControlName","pos","id","pos","name","pos",1,"form-control"],["formControlName","formType","id","formType","name","formType",1,"form-control"],["value","entry"],["value","flexed"],["formControlName","author","id","author","name","author",1,"form-control"],["formControlName","lang","id","lang","name","lang",1,"form-control"],["formControlName","status","id","status","name","status",1,"form-control"],["value","working"],["value","completed"],["value","reviewed"],["infiniteScroll","",1,"col-md-12","mt-3","rounded","border","border-secondary","tree-view",2,"height","calc(100vh - 19rem)","overflow-x","auto",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","fromRoot","scrolled"],["id","lazyLoadingModal","role","dialog",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],["class","mx-3",4,"ngIf"],[1,"lexicalEntryTree",3,"state","nodes","options","focused","stateChange","activate","deactivate"],["lexicalEntry",""],["treeNodeWrapperTemplate",""],["contextMenuItem","",3,"execute"],["loadingTemplate",""],["role","status",1,"spinner-border","spinner-border-sm","m-1"],[3,"value"],[1,"mx-3"],[1,"node-wrapper",2,"justify-content","space-between","padding","0px 15px"],[3,"node",4,"ngIf"],[1,"node-content-wrapper",3,"contextMenu","contextMenuSubject","click","dblclick"],[4,"ngIf"],["class","lexical-tooltip","data-toggle","tooltip","data-html","true",3,"title",4,"ngIf"],["class","lang",4,"ngIf"],[1,"icons-container"],[2,"width","30%"],["data-toggle","tooltip","data-html","true",3,"class","title",4,"ngIf"],["class","fas fa-user lexical-tooltip","data-toggle","tooltip","data-html","true",3,"title",4,"ngIf"],["class","fa fa-circle","style","color:red;",4,"ngIf"],["class","fa fa-circle","style","color:yellow;",4,"ngIf"],["class","fa fa-circle lexical-tooltip","style","color: green;","data-toggle","tooltip","data-html","true",3,"title",4,"ngIf"],[3,"node"],["data-toggle","tooltip","data-html","true",1,"lexical-tooltip",3,"title"],[2,"color","#6e6e6e"],[1,"lang"],["data-toggle","tooltip","data-html","true",3,"title"],["data-toggle","tooltip","data-html","true",1,"fas","fa-user","lexical-tooltip",3,"title"],[1,"fa","fa-circle",2,"color","red"],[1,"fa","fa-circle",2,"color","yellow"],["data-toggle","tooltip","data-html","true",1,"fa","fa-circle","lexical-tooltip",2,"color","green",3,"title"]],template:function(e,t){if(1&e){var n=i.Sb();i.Rb(0,"form",0),i.Rb(1,"div",1),i.Mb(2,"input",2),i.Rb(3,"div",3),i.Rb(4,"span",4),i.Ic(5,Ab,3,0,"div",5),i.Qb(),i.Qb(),i.Rb(6,"div",6),i.Rb(7,"button",7),i.Mb(8,"i",8),i.Qb(),i.Rb(9,"button",9),i.Mb(10,"i",10),i.Qb(),i.Rb(11,"button",11),i.bc("click",function(){return t.resetFields()}),i.Mb(12,"i",12),i.Qb(),i.Rb(13,"button",13),i.Rb(14,"span",14),i.Kc(15),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(16,"div",15),i.Rb(17,"div",16),i.Rb(18,"div",17),i.Mb(19,"input",18),i.Rb(20,"label",19),i.Kc(21," Equals "),i.Qb(),i.Qb(),i.Qb(),i.Rb(22,"div",16),i.Rb(23,"div",17),i.Mb(24,"input",20),i.Rb(25,"label",21),i.Kc(26," Starts "),i.Qb(),i.Qb(),i.Qb(),i.Rb(27,"div",16),i.Rb(28,"div",17),i.Mb(29,"input",22),i.Rb(30,"label",23),i.Kc(31," Contains "),i.Qb(),i.Qb(),i.Qb(),i.Rb(32,"div",16),i.Rb(33,"div",17),i.Mb(34,"input",24),i.Rb(35,"label",25),i.Kc(36," Ends "),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(37,"div",26),i.Rb(38,"div",15),i.Rb(39,"div",27),i.Rb(40,"select",28),i.Rb(41,"option",29),i.Kc(42,"Type"),i.Qb(),i.Ic(43,Tb,2,3,"option",30),i.Qb(),i.Qb(),i.Rb(44,"div",27),i.Mb(45,"div",31),i.Rb(46,"select",32),i.Rb(47,"option",29),i.Kc(48,"Pos"),i.Qb(),i.Ic(49,Db,2,3,"option",30),i.Qb(),i.Qb(),i.Qb(),i.Rb(50,"div",15),i.Rb(51,"div",27),i.Mb(52,"div",31),i.Rb(53,"select",33),i.Rb(54,"option",34),i.Kc(55,"entry"),i.Qb(),i.Rb(56,"option",35),i.Kc(57,"flexed"),i.Qb(),i.Qb(),i.Qb(),i.Rb(58,"div",27),i.Mb(59,"div",31),i.Rb(60,"select",36),i.Rb(61,"option",29),i.Kc(62,"Author"),i.Qb(),i.Ic(63,jb,2,3,"option",30),i.Qb(),i.Qb(),i.Qb(),i.Rb(64,"div",15),i.Rb(65,"div",27),i.Mb(66,"div",31),i.Rb(67,"select",37),i.Rb(68,"option",29),i.Kc(69,"Language"),i.Qb(),i.Ic(70,Fb,2,3,"option",30),i.Qb(),i.Qb(),i.Rb(71,"div",27),i.Mb(72,"div",31),i.Rb(73,"select",38),i.Rb(74,"option",29),i.Kc(75,"Status"),i.Qb(),i.Rb(76,"option",39),i.Kc(77,"working"),i.Qb(),i.Rb(78,"option",40),i.Kc(79,"completed"),i.Qb(),i.Rb(80,"option",41),i.Kc(81,"reviewed"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(82,"div",42),i.bc("scrolled",function(){i.zc(n);var e=i.vc(93);return t.onScrollDown(e.treeModel)}),i.Rb(83,"div",43),i.Rb(84,"div",44),i.Rb(85,"div",45),i.Rb(86,"div",46),i.Rb(87,"div",47),i.Rb(88,"div",48),i.Rb(89,"span",49),i.Kc(90,"Loading..."),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Ic(91,Qb,2,0,"p",50),i.Rb(92,"tree-root",51,52),i.bc("stateChange",function(e){return t.state=e})("activate",function(e){return t.onEvent(e)})("deactivate",function(e){return t.onEvent(e)}),i.Ic(94,fg,34,33,"ng-template",null,53,i.Jc),i.Rb(96,"context-menu"),i.Ic(97,dg,1,0,"ng-template",54),i.bc("execute",function(e){return t.copyText(e.item)}),i.Qb(),i.Ic(98,pg,1,1,"ng-template",null,55,i.Jc),i.Qb(),i.Qb()}2&e&&(i.mc("formGroup",t.filterForm),i.yb(2),i.mc("value",t.filterForm.get("text").value),i.yb(3),i.mc("ngIf",t.searchIconSpinner),i.yb(10),i.Lc(t.counter),i.yb(28),i.mc("ngForOf",t.types),i.yb(6),i.mc("ngForOf",t.partOfSpeech),i.yb(14),i.mc("ngForOf",t.authors),i.yb(7),i.mc("ngForOf",t.languages),i.yb(12),i.mc("infiniteScrollDistance",.4)("infiniteScrollThrottle",150)("infiniteScrollContainer",".search-results")("fromRoot",!0),i.yb(9),i.mc("ngIf",t.show),i.yb(1),i.mc("state",t.state)("nodes",t.nodes)("options",t.options)("focused",!0))},directives:[vs.z,vs.o,vs.i,vs.b,vs.n,vs.g,a.n,vs.t,vs.w,vs.r,vs.y,a.m,Ws,es,xu,_u,wu,os],pipes:[a.t],styles:[".form-control[_ngcontent-%COMP%]{font-size:12px}#filterLexicalEntry[_ngcontent-%COMP%]{border-right:none}#filterLexicalEntry[_ngcontent-%COMP%]:active, #filterLexicalEntry[_ngcontent-%COMP%]:focus, #filterLexicalEntry[_ngcontent-%COMP%]:hover{outline:0!important;-webkit-appearance:none;box-shadow:none!important;border-color:#ccc}.loading_icon_append[_ngcontent-%COMP%]{height:32px;background-color:#fff;border-left:none}.tree-view[_ngcontent-%COMP%]{padding-top:15px;position:relative;width:100%;padding-left:0;padding-right:0}.lang[_ngcontent-%COMP%]{color:#00f}.icons-container[_ngcontent-%COMP%]{display:flex;align-self:center;justify-content:space-between;width:25%}.counter-button[_ngcontent-%COMP%], .filter-button[_ngcontent-%COMP%], .popover-dismiss[_ngcontent-%COMP%], .reset-button[_ngcontent-%COMP%]{margin:0;font-size:10px}.counter-button[_ngcontent-%COMP%]{background-color:#fff}.counter-button[_ngcontent-%COMP%]:hover{background-color:unset;border:none}.counter-button[_ngcontent-%COMP%]:focus{border:#fff;box-shadow:none}input[_ngcontent-%COMP%]{margin-top:0}.custom-control-label[_ngcontent-%COMP%]:before{top:0}.custom-switch[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]:after{top:calc(.25rem + -2px)}.canonicalForm[_ngcontent-%COMP%]{font-weight:800}.btn[_ngcontent-%COMP%]{transition:none!important}"]}),gg),yg=((bg=function e(t){_classCallCheck(this,e),this.http=t}).\u0275fac=function(e){return new(e||bg)(i.Yb(Ys.b))},bg.\u0275prov=i.Hb({token:bg,factory:bg.\u0275fac,providedIn:"root"}),bg),_g=["treeConcept"];function Cg(e,t){1&e&&(i.Rb(0,"div",41),i.Rb(1,"span",38),i.Kc(2,"Loading..."),i.Qb(),i.Qb())}function kg(e,t){1&e&&(i.Rb(0,"p"),i.Kc(1,"Nessun risultato"),i.Qb())}function Og(e,t){1&e&&(i.Rb(0,"p",42),i.Kc(1,"Nessun risultato"),i.Qb())}function xg(e,t){if(1&e&&i.Mb(0,"tree-node-expander",47),2&e){var n=i.fc().$implicit;i.mc("node",n)}}function wg(e,t){if(1&e&&(i.Rb(0,"span"),i.Kc(1),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(1),i.Lc(n.data.label)}}function Mg(e,t){if(1&e&&(i.Rb(0,"span"),i.Kc(1),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(1),i.Lc(n.data.lexicalEntryInstanceName)}}function Pg(e,t){if(1&e&&(i.Rb(0,"span"),i.Rb(1,"b"),i.Kc(2),i.Qb(),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(2),i.Lc(n.data.label)}}function Eg(e,t){if(1&e&&(i.Rb(0,"span",48),i.Kc(1),i.gc(2,"slice"),i.Qb()),2&e){var n=i.fc().$implicit;i.mc("title",n.data.definition),i.yb(1),i.Lc(n.data.label.length>10?i.jc(2,2,n.data.label,0,10)+"...":n.data.label)}}function Sg(e,t){if(1&e&&(i.Rb(0,"span",48),i.Kc(1),i.Qb()),2&e){var n=i.fc().$implicit;i.mc("title",n.data.definition),i.yb(1),i.Lc(n.data.instanceName)}}function Rg(e,t){if(1&e&&(i.Rb(0,"span"),i.Rb(1,"i"),i.Rb(2,"span",49),i.Kc(3),i.Qb(),i.Qb(),i.Kc(4),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(3),i.Lc(n.data.label),i.yb(1),i.Mc("\xa0(",n.data.count,")")}}function Ig(e,t){if(1&e&&(i.Rb(0,"div",43),i.Rb(1,"div"),i.Ic(2,xg,1,1,"tree-node-expander",44),i.Rb(3,"div",45),i.bc("click",function(e){return t.$implicit.mouseAction("click",e)})("dblclick",function(e){return t.$implicit.mouseAction("dblClick",e)}),i.Ic(4,wg,2,1,"span",29),i.Ic(5,Mg,2,1,"span",29),i.Ic(6,Pg,3,1,"span",29),i.Ic(7,Eg,3,6,"span",46),i.Ic(8,Sg,2,2,"span",46),i.Ic(9,Rg,5,2,"span",29),i.Qb(),i.Qb(),i.Qb()),2&e){var n=t.$implicit,o=i.fc();i.yb(2),i.mc("ngIf",1==n.data.hasChildren),i.yb(1),i.Db("node-content-wrapper-active",n.isActive)("node-content-wrapper-focused",n.isFocused),i.mc("contextMenu",o.basicMenu)("contextMenuSubject",n.data),i.yb(1),i.mc("ngIf",null==n.data.count&&o.labelView&&null==n.data.componentInstanceName&&null==n.data.definition&&"canonicalForm"!=n.data.type&&null==n.data.sense),i.yb(1),i.mc("ngIf",null==n.data.count&&o.idView&&null==n.data.definition&&"canonicalForm"!=n.data.type&&null==n.data.sense&&null==n.data.etymologyInstanceName),i.yb(1),i.mc("ngIf",null==n.data.count&&o.labelView&&null==n.data.definition&&"canonicalForm"==n.data.type&&null==n.data.sense),i.yb(1),i.mc("ngIf",null==n.data.count&&o.labelView&&null!=n.data.definition&&null!=n.data.label),i.yb(1),i.mc("ngIf",null==n.data.count&&o.idView&&null!=n.data.definition&&null!=n.data.label),i.yb(1),i.mc("ngIf",null!=n.data.count)}}var Ag,Tg,Dg={mouse:{click:function(e,t,n){n.shiftKey?ka.TOGGLE_ACTIVE_MULTI(e,t,n):ka.TOGGLE_ACTIVE(e,t,n),t.data.rename_mode&&n.preventDefault()},expanderClick:function(e,t,n){t.data.rename_mode?n.preventDefault():ka.TOGGLE_EXPANDED(e,t,n)}},keys:{13:function(e,t,n){return alert("This is "+t.data.name)}}},jg=((Ag=function(){function e(t,n,i,o){var r=this;_classCallCheck(this,e),this.element=t,this.formBuilder=n,this.lexicalService=i,this.conceptService=o,this.options={actionMapping:Dg,allowDrag:function(e){return e.isLeaf},allowDrop:function(e,t){return"directory"==t.parent.data.type},getNodeClone:function(e){return Object.assign(Object.assign({},e.data),{id:Object(fp.v4)(),name:"copy of "+e.data.name})}},this.searchIconSpinner=!1,this.conceptFilterForm=new vs.h({search_text:new vs.f(null),search_mode:new vs.f(null)}),this.counter=0,this.nodes=[],this.show=!1,this.onEvent=function(e){console.log(e),"activate"==e.eventName&&"directory"!=e.node.data.type&&r.selectedNodeId!=e.node.data["element-id"]&&(r.selectedNodeId=e.node.data["element-id"])}}return _createClass(e,[{key:"ngOnInit",value:function(){this.loadTree(),this.conceptFilterForm=this.formBuilder.group({search_text:new vs.f(null),search_mode:new vs.f("starts")}),this.onChanges(),this.initialValues=this.conceptFilterForm.value}},{key:"onChanges",value:function(){var e=this;this.conceptFilterForm.valueChanges.pipe(Object(ou.a)(500)).subscribe(function(t){console.log(t),e.searchFilter(t)})}},{key:"onMoveNode",value:function(e){console.log(e),this.moveNode(e)}},{key:"moveNode",value:function(e){}},{key:"loadTree",value:function(){}},{key:"onScrollDown",value:function(e){var t=this;this.offset+=500,this.modalShow=!0,$("#lazyLoadingModal").modal("show"),$(".modal-backdrop").appendTo(".tree-view"),$("body").removeClass("modal-open"),$("body").css("padding-right","");var n=this.conceptFilterForm.value;n.offset=this.offset,n.limit=this.limit,this.lexicalService.getLexicalEntriesList(n).pipe(Object(ou.a)(200)).subscribe(function(e){$("#lazyLoadingModal").modal("hide"),$(".modal-backdrop").remove();for(var n=0;n<e.list.length;n++)t.nodes.push(e.list[n]);t.treeConcept.treeModel.update(),t.updateTreeView(),t.modalShow=!1,setTimeout(function(){$("#lazyLoadingModal").modal("hide"),$(".modal-backdrop").remove()},300)},function(e){})}},{key:"updateTreeView",value:function(){var e=this;setTimeout(function(){$(".input-tooltip").tooltip({trigger:"hover"})},300),setTimeout(function(){e.treeConcept.sizeChanged(),$(".lexical-tooltip").tooltip()},1e3)}},{key:"resetFields",value:function(){var e=this;this.conceptFilterForm.reset(this.initialValues,{emitEvent:!1}),setTimeout(function(){e.loadTree(),e.treeConcept.treeModel.update(),e.updateTreeView()},500)}},{key:"searchFilter",value:function(e){var t=this;setTimeout(function(){t.element.nativeElement.querySelector("tree-viewport").scrollTop=0},300);var n=null!=e.search_text?e.search_text:"";this.searchIconSpinner=!0,console.log({requestUUID:"string",contains:"contains"==e.search_mode,metadata:{},"search-text":n,"start-with":"start"==e.search_mode,"user-id":0,"exact-date":"exact"==e.date_mode,"from-date":"from"==e.date_mode,"util-date":"until"==e.date_mode}),this.searchIconSpinner=!1}}]),e}()).\u0275fac=function(e){return new(e||Ag)(i.Lb(i.l),i.Lb(vs.e),i.Lb(sp.a),i.Lb(yg))},Ag.\u0275cmp=i.Fb({type:Ag,selectors:[["app-concept-tree"]],viewQuery:function(e,t){var n;1&e&&i.Pc(_g,!0),2&e&&i.uc(n=i.cc())&&(t.treeConcept=n.first)},decls:49,vars:14,consts:[[3,"formGroup"],[1,"input-group","col-md-12","mt-2","px-1"],["formControlName","search_text","id","filterConcept","name","search_text","type","text","placeholder","Search",1,"form-control"],[1,"input-group-append"],["id","basic-addon2",1,"input-group-text","loading_icon_append","border-left-0"],["class","spinner-border spinner-border-sm m-1","role","status",4,"ngIf"],["id","buttons-container",1,"input-group-append"],["type","button","value","Filter","title","Filter","data-toggle","collapse","data-target","#conceptFilterCollapse","aria-expanded","false","aria-controls","conceptFilterCollapse",1,"btn","btn-sm","btn-secondary","btn-block","filter-button"],[1,"fa","fa-filter"],["type","button","value","Reset","title","Reset",1,"btn","btn-sm","btn-danger","btn-block","reset-button",2,"border-top-right-radius",".25rem","border-bottom-right-radius",".25rem",3,"click"],[1,"fa","fa-times"],["type","button",1,"btn","btn-sm","btn-block","counter-button"],[1,"font-weight-bold","font-italic","text-muted"],[1,"d-flex","flex-wrap","mt-3"],[1,"col-md-6","col-sm-6"],[1,"form-check"],["formControlName","search_mode","type","radio","name","search_mode","id","startsRadio","value","starts",1,"form-check-input"],["for","startsRadio",1,"form-check-label"],["formControlName","search_mode","type","radio","name","search_mode","id","containsRadio","value","contains",1,"form-check-input"],["for","containsRadio",1,"form-check-label"],[1,"d-flex","flex-wrap","mt-3","col-md-12"],[1,"input-group","justify-content-end"],["title","Add new child for selected node",1,"btn","btn-light","btn-block","filter-button"],[1,"fas","fa-plus","2x"],["type","button","value","Reset","title","Add new sibling for selected node",1,"btn","btn-light","btn-block","reset-button",2,"border-top-right-radius",".25rem","border-bottom-right-radius",".25rem"],[1,"fas","fa-user-plus","2x"],["type","button","value","Reset","title","Delete selected node",1,"btn","btn-light","btn-block","reset-button",2,"border-top-right-radius",".25rem","border-bottom-right-radius",".25rem"],[1,"fas","fa-times-circle","2x"],["infiniteScroll","",1,"col-md-12","mt-3","rounded","border","border-secondary","tree-view",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","fromRoot","scrolled"],[4,"ngIf"],[1,"lexicalConceptTree",3,"nodes","state","options","focused","stateChange","activate","moveNode","deactivate"],["treeConcept",""],["id","lazyLoadingModal","role","dialog",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],["class","mx-3",4,"ngIf"],["treeNodeWrapperTemplate",""],["role","status",1,"spinner-border","spinner-border-sm","m-1"],[1,"mx-3"],[1,"node-wrapper",2,"justify-content","space-between","padding","0px 15px"],[3,"node",4,"ngIf"],[1,"node-content-wrapper",3,"contextMenu","contextMenuSubject","click","dblclick"],["class","lexical-tooltip","data-toggle","tooltip","data-html","true",3,"title",4,"ngIf"],[3,"node"],["data-toggle","tooltip","data-html","true",1,"lexical-tooltip",3,"title"],[2,"color","#6e6e6e"]],template:function(e,t){if(1&e){var n=i.Sb();i.Rb(0,"form",0),i.Rb(1,"div",1),i.Mb(2,"input",2),i.Rb(3,"div",3),i.Rb(4,"span",4),i.Ic(5,Cg,3,0,"div",5),i.Qb(),i.Qb(),i.Rb(6,"div",6),i.Rb(7,"button",7),i.Mb(8,"i",8),i.Qb(),i.Rb(9,"button",9),i.bc("click",function(){return t.resetFields()}),i.Mb(10,"i",10),i.Qb(),i.Rb(11,"button",11),i.Rb(12,"span",12),i.Kc(13),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(14,"div",13),i.Rb(15,"div",14),i.Rb(16,"div",15),i.Mb(17,"input",16),i.Rb(18,"label",17),i.Kc(19," Starts "),i.Qb(),i.Qb(),i.Qb(),i.Rb(20,"div",14),i.Rb(21,"div",15),i.Mb(22,"input",18),i.Rb(23,"label",19),i.Kc(24," Contains "),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(25,"div",20),i.Rb(26,"div",21),i.Rb(27,"div",3),i.Rb(28,"button",22),i.Mb(29,"i",23),i.Qb(),i.Rb(30,"button",24),i.Mb(31,"i",25),i.Qb(),i.Rb(32,"button",26),i.Mb(33,"i",27),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(34,"div",28),i.bc("scrolled",function(){i.zc(n);var e=i.vc(37);return t.onScrollDown(e.treeModel)}),i.Ic(35,kg,2,0,"p",29),i.Rb(36,"tree-root",30,31),i.bc("stateChange",function(e){return t.state=e})("activate",function(e){return t.onEvent(e)})("moveNode",function(e){return t.onMoveNode(e)})("activate",function(e){return t.onEvent(e)})("deactivate",function(e){return t.onEvent(e)}),i.Rb(38,"div",32),i.Rb(39,"div",33),i.Rb(40,"div",34),i.Rb(41,"div",35),i.Rb(42,"div",36),i.Rb(43,"div",37),i.Rb(44,"span",38),i.Kc(45,"Loading..."),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Ic(46,Og,2,0,"p",39),i.Ic(47,Ig,10,13,"ng-template",null,40,i.Jc),i.Qb(),i.Qb()}2&e&&(i.mc("formGroup",t.conceptFilterForm),i.yb(5),i.mc("ngIf",t.searchIconSpinner),i.yb(8),i.Lc(t.counter),i.yb(21),i.mc("infiniteScrollDistance",.4)("infiniteScrollThrottle",150)("infiniteScrollContainer",".search-results")("fromRoot",!0),i.yb(1),i.mc("ngIf",t.show),i.yb(1),i.mc("nodes",t.nodes)("state",t.state)("options",t.options)("focused",!0)("focused",!0),i.yb(10),i.mc("ngIf",t.show))},directives:[vs.z,vs.o,vs.i,vs.b,vs.n,vs.g,a.n,vs.t,Ws,es,wu,os],pipes:[a.t],styles:[".form-control[_ngcontent-%COMP%]{font-size:12px}.tree-view[_ngcontent-%COMP%]{padding-top:15px;height:calc(100vh - 21rem);max-height:calc(100vh - 21rem)}.tree-view[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{height:22px;font-size:12px;font-size:10px;color:#fff;background-color:#6c757d;border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.btn[_ngcontent-%COMP%]{height:32px}.btn[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{font-size:12px}.card[_ngcontent-%COMP%]{width:100%}.card-header[_ngcontent-%COMP%]{padding:5px 18px}#filterConcept[_ngcontent-%COMP%]{border-right:none}#filterConcept[_ngcontent-%COMP%]:active, #filterConcept[_ngcontent-%COMP%]:focus, #filterConcept[_ngcontent-%COMP%]:hover{outline:0!important;-webkit-appearance:none;box-shadow:none!important;border-color:#ccc}.loading_icon_append[_ngcontent-%COMP%]{height:32px;background-color:#fff;border-left:none!important}.lang[_ngcontent-%COMP%]{color:#00f}.icons-container[_ngcontent-%COMP%]{display:flex;align-self:flex-end;justify-content:space-between;width:25%}.counter-button[_ngcontent-%COMP%], .filter-button[_ngcontent-%COMP%], .popover-dismiss[_ngcontent-%COMP%], .reset-button[_ngcontent-%COMP%]{margin:0;font-size:10px}.counter-button[_ngcontent-%COMP%]{background-color:#fff}.counter-button[_ngcontent-%COMP%]:hover{background-color:unset;border:none}.counter-button[_ngcontent-%COMP%]:focus{border:#fff;box-shadow:none}input[_ngcontent-%COMP%]{margin-top:0}.custom-control-label[_ngcontent-%COMP%]:before{top:0}.custom-switch[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]:after{top:calc(.25rem + -2px)}.canonicalForm[_ngcontent-%COMP%]{font-weight:800}.btn[_ngcontent-%COMP%]{transition:none!important}.disablePointer[_ngcontent-%COMP%]{pointer-events:none}"]}),Ag),Fg=["lexTree"],Qg=["textTree"],Lg=["conceptTree"],Ng=["accordion"],zg=function(){return{"background-color":"#007bff",color:"rgb(247 247 247)"}},Vg=function(){return{"background-color":"transparent",color:"#007bff"}},Bg=((Tg=function(){function e(t,n,i,o,r){_classCallCheck(this,e),this.exp=t,this.lexicalService=n,this.toastr=i,this.renderer=o,this.documentService=r,this.switcher=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.lexicalService.refreshAfterEdit$.subscribe(function(t){e.refreshAfterEdit(t)}),this.lexicalService.triggerLexicalEntryTree$.subscribe(function(t){setTimeout(function(){if(null!=t)if(t.request){e.updateTreeParent();var n={request:"form",lexicalEntryInstanceName:t.data.lexicalEntryInstanceName};e.lexTree.parameters.text=t.data.lexicalEntryLabel,e.lexTree.lexicalEntriesFilter(e.lexTree.parameters),setTimeout(function(){e.lexicalService.addSubElementRequest({lex:n,data:t.data})},500);var i=e.accordion.nativeElement.querySelectorAll('button[data-target="#lexicalCollapse"]'),o=e.accordion.nativeElement.querySelectorAll('div[aria-labelledby="lexicalHeading"]');i.forEach(function(e){e.classList.contains("collapsed")&&e.classList.remove("collapsed")}),o.forEach(function(e){e.classList.contains("show")||e.classList.add("show")}),e.accordion.nativeElement.querySelectorAll('button[data-target="#epigraphyCollapse"]');var r=e.accordion.nativeElement.querySelectorAll('div[aria-labelledby="epigraphyHeading"]');i.forEach(function(e){e.classList.contains("collapse")||e.classList.add("collapsed")}),r.forEach(function(e){e.classList.contains("show")&&e.classList.remove("show")})}else setTimeout(function(){e.accordion.nativeElement.querySelectorAll('a[data-target="#lexicalCollapse"]').forEach(function(e){e.classList.add("collapsed")}),e.accordion.nativeElement.querySelectorAll('div[aria-labelledby="lexicalHeading"]').forEach(function(e){console.log(e),e.classList.contains("show")&&e.classList.remove("show")})},100)},100)},function(e){console.log(e)})}},{key:"updateTreeParent",value:function(){this.lexTree.updateTreeView()}},{key:"switchLabel",value:function(){this.lexTree.labelView=!this.lexTree.labelView,this.lexTree.idView=!this.lexTree.idView,this.switcher=!this.switcher}},{key:"lexEdit",value:function(e){var t=this,n=this;if(null!=e.new_note){var i="";null!=e.lexicalEntryInstanceName?i=e.lexicalEntryInstanceName:null!=e.formInstanceName?i=e.formInstanceName:null!=e.senseInstanceName?i=e.senseInstanceName:null!=e.etymologyInstanceName&&(i=e.etymologyInstanceName),setTimeout(function(){t.lexTree.lexicalEntryTree.treeModel.getNodeBy(function(t){return null!=e.lexicalEntryInstanceName?t.data.lexicalEntryInstanceName==i&&(t.data.note=e.new_note,n.lexTree.lexicalEntryTree.treeModel.update(),n.lexTree.updateTreeView(),$(".note_"+t.data.id).attr("data-original-title",e.new_note),e.new_note=void 0,!0):null!=e.formInstanceName?t.data.formInstanceName==i&&(t.data.note=e.new_note,n.lexTree.lexicalEntryTree.treeModel.update(),n.lexTree.updateTreeView(),e.new_note=void 0,!0):null!=e.senseInstanceName?t.data.senseInstanceName==i&&(t.data.note=e.new_note,n.lexTree.lexicalEntryTree.treeModel.update(),n.lexTree.updateTreeView(),e.new_note=void 0,!0):null!=e.etymologyInstanceName&&t.data.etymologyInstanceName==i&&(t.data.note=e.new_note,n.lexTree.lexicalEntryTree.treeModel.update(),n.lexTree.updateTreeView(),e.new_note=void 0,!0)})},500)}else if(null!=e.new_label){var o="";null!=e.lexicalEntryInstanceName?o=e.lexicalEntryInstanceName:null!=e.formInstanceName?o=e.formInstanceName:null!=e.senseInstanceName?o=e.senseInstanceName:null!=e.etymologyInstanceName&&(o=e.etymologyInstanceName),setTimeout(function(){t.lexTree.lexicalEntryTree.treeModel.getNodeBy(function(t){return null!=e.lexicalEntryInstanceName?t.data.lexicalEntryInstanceName==o&&(t.data.label=e.new_label,t.scrollIntoView(),e.new_label=void 0,!0):null!=e.formInstanceName?t.data.formInstanceName==o&&(t.data.label=e.new_label,t.scrollIntoView(),e.new_label=void 0,!0):null!=e.senseInstanceName?t.data.senseInstanceName==o&&(t.data.label=e.new_label,t.scrollIntoView(),e.new_label=void 0,!0):null!=e.etymologyInstanceName&&t.data.etymologyInstanceName==o&&(t.data.label=e.new_label,t.scrollIntoView(),e.new_label=void 0,!0)})},500)}else if(null!=e.new_type){var r="";null!=e.lexicalEntryInstanceName?r=e.lexicalEntryInstanceName:null!=e.formInstanceName?r=e.formInstanceName:null!=e.senseInstanceName&&(r=e.senseInstanceName),setTimeout(function(){t.lexTree.lexicalEntryTree.treeModel.getNodeBy(function(t){return null!=e.lexicalEntryInstanceName?t.data.lexicalEntryInstanceName==r&&(t.data.type=e.new_type,t.scrollIntoView(),e.new_type=void 0,!0):null!=e.formInstanceName?t.data.formInstanceName==r&&(t.data.type=e.new_type,t.scrollIntoView(),e.new_type=void 0,!0):null!=e.senseInstanceName&&t.data.senseInstanceName==r&&(t.data.type=e.new_type,t.scrollIntoView(),e.new_type=void 0,!0)})},500)}else if(null!=e.new_lang){var a="";null!=e.lexicalEntryInstanceName?a=e.lexicalEntryInstanceName:null!=e.formInstanceName?a=e.formInstanceName:null!=e.senseInstanceName&&(a=e.senseInstanceName),setTimeout(function(){t.lexTree.lexicalEntryTree.treeModel.getNodeBy(function(t){return null!=e.lexicalEntryInstanceName?t.data.lexicalEntryInstanceName==a&&(t.data.language=e.new_lang,t.scrollIntoView(),e.new_lang=void 0,!0):null!=e.formInstanceName?t.data.formInstanceName==a&&(t.data.language=e.new_lang,t.scrollIntoView(),e.new_lang=void 0,!0):null!=e.senseInstanceName&&t.data.senseInstanceName==a&&(t.data.language=e.new_lang,t.scrollIntoView(),e.new_lang=void 0,!0)})},500)}else if(null!=e.new_pos){var s="";null!=e.lexicalEntryInstanceName?s=e.lexicalEntryInstanceName:null!=e.formInstanceName?s=e.formInstanceName:null!=e.senseInstanceName&&(s=e.senseInstanceName),setTimeout(function(){t.lexTree.lexicalEntryTree.treeModel.getNodeBy(function(t){return null!=e.lexicalEntryInstanceName?t.data.lexicalEntryInstanceName==s&&(t.data.pos=e.new_pos,t.scrollIntoView(),e.new_pos=void 0,!0):null!=e.formInstanceName?t.data.formInstanceName==s&&(t.data.pos=e.new_pos,t.scrollIntoView(),e.new_pos=void 0,!0):null!=e.senseInstanceName&&t.data.senseInstanceName==s&&(t.data.pos=e.new_pos,t.scrollIntoView(),e.new_pos=void 0,!0)})},500)}}},{key:"changeSenseDefinition",value:function(e){var t=this,n=this;setTimeout(function(){t.lexTree.lexicalEntryTree.treeModel.getNodeBy(function(t){return null!=t.data.senseInstanceName&&t.data.senseInstanceName==e.senseInstanceName&&(t.data.label=""==e.new_definition?"no definition":e.new_definition,n.lexTree.lexicalEntryTree.treeModel.update(),n.lexTree.updateTreeView(),!0)})},500)}},{key:"changeFormLabel",value:function(e){var t=this,n=this;setTimeout(function(){t.lexTree.lexicalEntryTree.treeModel.getNodeBy(function(t){return null!=t.data.formInstanceName&&t.data.formInstanceName==e.formInstanceName&&(t.data.label=e.new_label,n.lexTree.lexicalEntryTree.treeModel.update(),n.lexTree.updateTreeView(),!0)})},500)}},{key:"changeFormType",value:function(e){var t=this,n=this;setTimeout(function(){t.lexTree.lexicalEntryTree.treeModel.getNodeBy(function(t){return null!=t.data.formInstanceName&&t.data.formInstanceName==e.formInstanceName&&(t.data.type=e.new_type,n.lexTree.lexicalEntryTree.treeModel.update(),n.lexTree.updateTreeView(),!0)})},500)}},{key:"refreshAfterEdit",value:function(e){var t=this;null!=e&&setTimeout(function(){switch(e.request){case 0:t.lexEdit(e);break;case 3:t.changeFormLabel(e);break;case 5:t.changeFormType(e);break;case 6:t.changeSenseDefinition(e)}},100)}},{key:"triggerLoad",value:function(){this.lexicalService.refreshLangTable()}},{key:"newLexicalEntry",value:function(){var e=this;this.lexicalService.newLexicalEntry().subscribe(function(t){console.log(t),e.toastr.success(t.lexicalEntryInstanceName+" added correctly","",{timeOut:5e3}),setTimeout(function(){var n=t.label,i=e.lexTree.getParameters();i.text=n,e.lexTree.lexicalEntriesFilter(i),e.lexTree.lexicalEntryTree.treeModel.update(),e.lexTree.updateTreeView(),setTimeout(function(){e.lexTree.lexicalEntryTree.treeModel.getNodeBy(function(e){return e.data.lexicalEntryInstanceName==t.lexicalEntryInstanceName&&(e.setActiveAndVisible(),!0)})},500)},200)},function(t){console.log(t),e.toastr.error(t.error,"Error",{timeOut:5e3})})}},{key:"createNewFile",value:function(){var e=this,t={requestUUID:"string","user-id":0,"element-id":0,filename:"new_file"+Math.floor(99989*Math.random()+10)};this.documentService.createFile(t).subscribe(function(t){console.log(t),e.textTree.treeText.treeModel.nodes.push(t.node),e.textTree.counter=e.textTree.treeText.treeModel.nodes.length,e.textTree.treeText.treeModel.update(),e.toastr.info("New file added","",{timeOut:5e3}),e.textTree.treeText.treeModel.getNodeById(t.node.id).setActiveAndVisible()},function(e){console.log(e)})}},{key:"addNewFile",value:function(e){var t=this;if(console.log(e.target.files),null!=e.target.files)if(1==e.target.files.length){e.target.files[0].name;var n=new FormData;n.append("file",e.target.files[0]),this.documentService.uploadFile(n,0,11).subscribe(function(e){console.log(e),t.toastr.info("New file added","",{timeOut:5e3}),setTimeout(function(){t.textTree.treeText.treeModel.nodes.push(e.node),t.textTree.counter=t.textTree.treeText.treeModel.nodes.length,t.textTree.treeText.treeModel.update(),t.textTree.treeText.treeModel.getNodeById(e.node.id).setActiveAndVisible()},500)},function(e){console.log(e),t.toastr.error("Error when adding new file","",{timeOut:5e3})})}else Array.from(e.target.files).forEach(function(e){e.name;var n=new FormData;n.append("file",e),t.documentService.uploadFile(n,0,11).subscribe(function(e){console.log(e),t.toastr.info("New file added","",{timeOut:5e3}),setTimeout(function(){t.textTree.treeText.treeModel.nodes.push(e.node),t.textTree.counter=t.textTree.treeText.treeModel.nodes.length,t.textTree.treeText.treeModel.update(),t.textTree.treeText.treeModel.getNodeById(e.node.id).setActiveAndVisible()},500)},function(e){console.log(e),t.toastr.error("Error when adding new file","",{timeOut:5e3})})});console.log(e)}},{key:"addNewFolder",value:function(){var e=this;this.documentService.addFolder({requestUUID:"string","user-id":0,"element-id":0}).subscribe(function(t){console.log(t),null!=t.node&&(e.toastr.info("New folder added","",{timeOut:5e3}),e.textTree.nodes.push(t.node),e.textTree.updateTreeView(),e.textTree.treeText.treeModel.update())},function(t){console.log(t),e.toastr.error("Error when creating new folder","",{timeOut:5e3})})}},{key:"exportLexicon",value:function(){this.lexicalService.exportLexicon({fileName:"export",format:"turtle",inferred:!1}).subscribe(function(e){console.log(e);var t=new Blob([e],{type:"text/turtle"});window.URL.createObjectURL(t),Object(lp.saveAs)(t,"file_name.txt")},function(e){console.log(e)})}}]),e}()).\u0275fac=function(e){return new(e||Tg)(i.Lb(up),i.Lb(sp.a),i.Lb(Pu.b),i.Lb(i.E),i.Lb(ap))},Tg.\u0275cmp=i.Fb({type:Tg,selectors:[["app-document-system-tree"]],viewQuery:function(e,t){var n;1&e&&(i.Pc(Fg,!0),i.Pc(Qg,!0),i.Pc(Lg,!0),i.Pc(Ng,!0)),2&e&&(i.uc(n=i.cc())&&(t.lexTree=n.first),i.uc(n=i.cc())&&(t.textTree=n.first),i.uc(n=i.cc())&&(t.conceptTree=n.first),i.uc(n=i.cc())&&(t.accordion=n.first))},decls:60,vars:3,consts:[["id","tree-accordion"],["accordion",""],[1,"card"],["id","epigraphyHeading",1,"card-header"],[1,"mb-0","d-flex","justify-content-between","align-items-center"],["data-toggle","collapse","data-target","#epigraphyCollapse","aria-expanded","true","aria-controls","epigraphyCollapse",1,"btn","btn-link"],[1,"fa"],[1,"icons-container","dropdown"],["type","button","id","textTreeActionDropdown","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-link"],[1,"fa","fa-plus"],["aria-labelledby","textTreeActionDropdown",1,"dropdown-menu"],[1,"dropdown-item",2,"cursor","pointer",3,"click"],["type","file","accept",".xml","hidden","","multiple","",3,"change"],["addFile",""],[1,"dropdown-divider"],["id","epigraphyCollapse","aria-labelledby","epigraphyHeading","data-parent","#tree-accordion",1,"collapse","show"],[1,"card-body"],["textTree",""],["id","lexicalHeading",1,"card-header"],[1,"mb-0","d-flex","flex-wrap","justify-content-between","align-items-center"],["data-toggle","collapse","data-target","#lexicalCollapse","aria-expanded","false","aria-controls","lexicalCollapse",1,"btn","btn-link","collapsed",3,"click"],[1,"icons-container"],["title","Switch to label view",1,"btn","btn-link",3,"ngStyle","click"],[1,"fas","fa-tag"],["title","Add new lexical entry",1,"btn","btn-link",3,"click"],["title","Export",1,"btn","btn-link",3,"click"],[1,"fa","fa-file-import"],["title","Edit Languages",1,"btn","btn-link",3,"click"],[1,"fas","fa-flag-usa"],[1,"languages_modal"],["selectLanguageModal",""],[1,"app-modal-header"],[1,"app-modal-body"],["id","lexicalCollapse","aria-labelledby","lexicalHeading","data-parent","#tree-accordion",1,"collapse"],["lexTree",""],["id","headingFour",1,"card-header"],["data-toggle","collapse","data-target","#ontologia","aria-expanded","false","aria-controls","ontologia",1,"btn","btn-link","collapsed"],["id","ontologia","aria-labelledby","headingFour","data-parent","#tree-accordion",1,"collapse"],["conceptTree",""]],template:function(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",0,1),i.Rb(2,"div",2),i.Rb(3,"div",3),i.Rb(4,"h5",4),i.Rb(5,"button",5),i.Mb(6,"i",6),i.Kc(7," Text "),i.Qb(),i.Rb(8,"div",7),i.Rb(9,"button",8),i.Mb(10,"i",9),i.Qb(),i.Rb(11,"div",10),i.Rb(12,"a",11),i.bc("click",function(){return i.zc(n),i.vc(15).click()}),i.Kc(13,"Add new file"),i.Qb(),i.Rb(14,"input",12,13),i.bc("change",function(e){return t.addNewFile(e)}),i.Qb(),i.Rb(16,"a",11),i.bc("click",function(){return t.addNewFolder()}),i.Kc(17,"Add new folder"),i.Qb(),i.Mb(18,"div",14),i.Rb(19,"a",11),i.bc("click",function(){return t.createNewFile()}),i.Kc(20,"Create empty file"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(21,"div",15),i.Rb(22,"div",16),i.Mb(23,"app-text-tree",null,17),i.Qb(),i.Qb(),i.Qb(),i.Rb(25,"div",2),i.Rb(26,"div",18),i.Rb(27,"h5",19),i.Rb(28,"button",20),i.bc("click",function(){return t.updateTreeParent()}),i.Mb(29,"i",6),i.Kc(30," Lessico "),i.Qb(),i.Rb(31,"div",21),i.Rb(32,"button",22),i.bc("click",function(){return t.switchLabel(),t.updateTreeParent()}),i.Mb(33,"i",23),i.Qb(),i.Rb(34,"button",24),i.bc("click",function(){return t.newLexicalEntry()}),i.Mb(35,"i",9),i.Qb(),i.Rb(36,"button",25),i.bc("click",function(){return t.exportLexicon()}),i.Mb(37,"i",26),i.Qb(),i.Rb(38,"button",27),i.bc("click",function(){return i.zc(n),i.vc(41).show(),t.triggerLoad()}),i.Mb(39,"i",28),i.Qb(),i.Rb(40,"app-modal",29,30),i.Pb(42,31),i.Kc(43,"Language Manager"),i.Ob(),i.Pb(44,32),i.Mb(45,"app-language-manager"),i.Ob(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(46,"div",33),i.Rb(47,"div",16),i.Mb(48,"app-lexical-entry-tree",null,34),i.Qb(),i.Qb(),i.Qb(),i.Rb(50,"div",2),i.Rb(51,"div",35),i.Rb(52,"h5",19),i.Rb(53,"button",36),i.Mb(54,"i",6),i.Kc(55," Ontology "),i.Qb(),i.Qb(),i.Qb(),i.Rb(56,"div",37),i.Rb(57,"div",16),i.Mb(58,"app-concept-tree",null,38),i.Qb(),i.Qb(),i.Qb(),i.Qb()}2&e&&(i.yb(32),i.mc("ngStyle",t.switcher?i.pc(1,zg):i.pc(2,Vg)))},directives:[_b,a.o,Rp,Sb,vg,jg],styles:['@charset "UTF-8";[data-toggle=collapse][_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"\uf146"}[data-toggle=collapse].collapsed[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"\uf0fe"}.btn[_ngcontent-%COMP%], .btn-link[_ngcontent-%COMP%], .card-body[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-size:12px!important}.card-header[_ngcontent-%COMP%]{padding:0}.icons-container[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{padding:6px;font-size:12px}#epigraphyCollapse[_ngcontent-%COMP%] > .card-body[_ngcontent-%COMP%], #lexicalCollapse[_ngcontent-%COMP%] > .card-body[_ngcontent-%COMP%], #ontologia[_ngcontent-%COMP%] > .card-body[_ngcontent-%COMP%]{height:calc(100vh - 11rem);max-height:calc(100vh - 11rem)!important;overflow-y:auto!important;padding-right:10px}']}),Tg),Ug=n("R0Ic"),Hg=n("1kSV"),Kg=n("9ans"),qg=["addFormModal"],$g=["select_form"],Wg=["search_lexicalEntry"];function Gg(e,t){if(1&e&&(i.Rb(0,"span"),i.Kc(1),i.Mb(2,"br"),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(1),i.Nc(" ",n.trait," : ",n.value," ")}}function Yg(e,t){if(1&e&&(i.Rb(0,"small"),i.Ic(1,Gg,3,2,"span",11),i.Qb()),2&e){var n=t.$implicit;i.yb(1),i.mc("ngIf","case"==n.trait||"gender"==n.trait||"number"==n.trait||"partOfSpeech"==n.trait)}}function Xg(e,t){if(1&e&&(i.Rb(0,"div",7),i.Rb(1,"h6",8),i.Kc(2),i.Qb(),i.Ic(3,Yg,2,1,"small",9),i.Mb(4,"small",10),i.Qb()),2&e){var n=t.item,o=t.searchTerm;i.yb(1),i.mc("ngOptionHighlight",o),i.yb(1),i.Lc(n.label),i.yb(1),i.mc("ngForOf",n.morphology)}}function Zg(e,t){if(1&e){var n=i.Sb();i.Rb(0,"form",17),i.Rb(1,"div",18),i.Rb(2,"div",19),i.Rb(3,"p"),i.Kc(4,"To create a new lexical form it is necessary to have a reference lexical entry. Select one of the two options:"),i.Qb(),i.Rb(5,"div",20),i.Mb(6,"input",21),i.Rb(7,"label",22),i.Kc(8,"Create new lexical entry"),i.Qb(),i.Qb(),i.Rb(9,"div",20),i.Mb(10,"input",23),i.Rb(11,"label",22),i.Kc(12,"Choose one existing lexical entry"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(13,"div",24),i.Rb(14,"button",25),i.bc("click",function(){return i.zc(n),i.fc(2).previousStep()}),i.Kc(15,"Previous"),i.Qb(),i.Rb(16,"button",25),i.bc("click",function(){return i.zc(n),i.fc(2).nextStep()}),i.Kc(17,"Next"),i.Qb(),i.Qb(),i.Qb()}if(2&e){var o=i.fc(2);i.mc("formGroup",o.stepOneForm),i.yb(14),i.mc("disabled",1==o.modalStep),i.yb(2),i.mc("disabled",o.stepOneForm.invalid)}}function Jg(e,t){if(1&e){var n=i.Sb();i.Rb(0,"form",17),i.Rb(1,"div",18),i.Rb(2,"p"),i.Kc(3,"Choose a lexical entry:"),i.Qb(),i.Rb(4,"div",26),i.Rb(5,"ng-select",27,28),i.bc("focus",function(){return!0})("keyup",function(e){return i.zc(n),i.fc(2).triggerSearchLexicalEntries(e)}),i.Qb(),i.Rb(7,"div",4),i.Rb(8,"button",5),i.bc("click",function(){return i.zc(n),i.fc(2).clearAll()}),i.Kc(9,"Clear"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(10,"div",24),i.Rb(11,"button",25),i.bc("click",function(){return i.zc(n),i.fc(2).previousStep()}),i.Kc(12,"Previous"),i.Qb(),i.Rb(13,"button",25),i.bc("click",function(){return i.zc(n),i.fc(2).nextStep()}),i.Kc(14,"Next"),i.Qb(),i.Qb(),i.Qb()}if(2&e){var o=i.fc(2);i.mc("formGroup",o.stepTwoForm),i.yb(5),i.mc("clearable",!1)("items",o.lex_searchResuts)("loading",o.loader),i.yb(6),i.mc("disabled",1==o.modalStep),i.yb(2),i.mc("disabled",o.stepTwoForm.invalid)}}function em(e,t){if(1&e&&(i.Rb(0,"option",41),i.Kc(1),i.Qb()),2&e){var n=t.$implicit;i.mc("value",n.valueId),i.yb(1),i.Lc(n.valueLabel)}}function tm(e,t){if(1&e&&(i.Rb(0,"option",41),i.Kc(1),i.Qb()),2&e){var n=t.$implicit;i.mc("value",n.label),i.yb(1),i.Lc(n.label)}}function nm(e,t){if(1&e&&(i.Rb(0,"option",41),i.Kc(1),i.Qb()),2&e){var n=t.$implicit;i.mc("value",n.valueId),i.yb(1),i.Lc(n.valueLabel)}}function im(e,t){if(1&e){var n=i.Sb();i.Rb(0,"form",17),i.Rb(1,"div",18),i.Rb(2,"p"),i.Kc(3,"Enter basic info for lexical entry creation:"),i.Qb(),i.Rb(4,"div",29),i.Rb(5,"div",30),i.Rb(6,"label",31),i.Kc(7,"Label"),i.Qb(),i.Mb(8,"input",32),i.Rb(9,"div",33),i.Kc(10," Please provide a valid state. "),i.Qb(),i.Qb(),i.Rb(11,"div",34),i.Rb(12,"label",31),i.Kc(13,"Type"),i.Qb(),i.Rb(14,"select",35),i.Rb(15,"option",36),i.Kc(16,"Select type"),i.Qb(),i.Ic(17,em,2,2,"option",37),i.Qb(),i.Rb(18,"div",33),i.Kc(19," Please provide a valid state. "),i.Qb(),i.Qb(),i.Rb(20,"div",38),i.Rb(21,"label",31),i.Kc(22,"Language"),i.Qb(),i.Rb(23,"select",39),i.Rb(24,"option",36),i.Kc(25,"Select language"),i.Qb(),i.Ic(26,tm,2,2,"option",37),i.Qb(),i.Rb(27,"div",33),i.Kc(28," Please provide a valid state. "),i.Qb(),i.Qb(),i.Rb(29,"div",34),i.Rb(30,"label",31),i.Kc(31,"Part of Speech"),i.Qb(),i.Rb(32,"select",40),i.Rb(33,"option",36),i.Kc(34,"Select pos"),i.Qb(),i.Ic(35,nm,2,2,"option",37),i.Qb(),i.Rb(36,"div",33),i.Kc(37," Please provide a valid state. "),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(38,"div",24),i.Rb(39,"button",25),i.bc("click",function(){return i.zc(n),i.fc(2).previousStep()}),i.Kc(40,"Previous"),i.Qb(),i.Rb(41,"button",25),i.bc("click",function(){return i.zc(n),i.fc(2).nextStep()}),i.Kc(42,"Next"),i.Qb(),i.Qb(),i.Qb()}if(2&e){var o=i.fc(2);i.mc("formGroup",o.stepThreeForm),i.yb(17),i.mc("ngForOf",o.lexEntryTypesData),i.yb(9),i.mc("ngForOf",o.languages),i.yb(9),i.mc("ngForOf",o.morphologyData),i.yb(4),i.mc("disabled",1==o.modalStep),i.yb(2),i.mc("disabled",o.stepThreeForm.invalid)}}function om(e,t){if(1&e&&(i.Rb(0,"option",41),i.Kc(1),i.Qb()),2&e){var n=t.$implicit;i.mc("value",n.valueId),i.yb(1),i.Lc(n.valueLabel)}}function rm(e,t){if(1&e){var n=i.Sb();i.Rb(0,"form",17),i.Rb(1,"div",18),i.Rb(2,"p"),i.Kc(3,"Enter basic info for form creation:"),i.Qb(),i.Rb(4,"div",29),i.Rb(5,"div",30),i.Rb(6,"label",31),i.Kc(7,"Written Form"),i.Qb(),i.Mb(8,"input",42),i.Rb(9,"div",33),i.Kc(10," Please provide a valid state. "),i.Qb(),i.Qb(),i.Rb(11,"div",34),i.Rb(12,"label",31),i.Kc(13,"Type"),i.Qb(),i.Rb(14,"select",35),i.Rb(15,"option",36),i.Kc(16,"Select type"),i.Qb(),i.Ic(17,om,2,2,"option",37),i.Qb(),i.Rb(18,"div",33),i.Kc(19," Please provide a valid state. "),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(20,"div",24),i.Rb(21,"button",43),i.bc("click",function(){return i.zc(n),i.fc(2).previousStep()}),i.Kc(22,"Previous"),i.Qb(),i.Rb(23,"button",25),i.bc("click",function(){return i.zc(n),i.fc(2).nextStep()}),i.Kc(24,"Next"),i.Qb(),i.Qb(),i.Qb()}if(2&e){var o=i.fc(2);i.mc("formGroup",o.stepFourForm),i.yb(17),i.mc("ngForOf",o.typesData),i.yb(6),i.mc("disabled",o.stepFourForm.invalid)}}function am(e,t){if(1&e&&(i.Rb(0,"div",44),i.Rb(1,"div",45),i.Rb(2,"p"),i.Kc(3,"Lexical Entry to be attached"),i.Qb(),i.Qb(),i.Rb(4,"div",46),i.Rb(5,"p"),i.Kc(6),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(3);i.yb(6),i.Lc(n.stepTwoForm.get("lexicalEntry").value)}}function sm(e,t){if(1&e&&(i.Rb(0,"div",44),i.Rb(1,"div",45),i.Rb(2,"p"),i.Kc(3,"New lexical entry to be attached"),i.Qb(),i.Qb(),i.Rb(4,"div",46),i.Rb(5,"p"),i.Kc(6),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(3);i.yb(6),i.Lc(n.stepThreeForm.get("label").value)}}function cm(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div"),i.Rb(1,"div",18),i.Rb(2,"p"),i.Kc(3,"Summary:"),i.Qb(),i.Rb(4,"div",44),i.Rb(5,"div",45),i.Rb(6,"p"),i.Kc(7,"Lexical form to create"),i.Qb(),i.Qb(),i.Rb(8,"div",46),i.Rb(9,"p"),i.Kc(10),i.Qb(),i.Qb(),i.Qb(),i.Ic(11,am,7,1,"div",47),i.Ic(12,sm,7,1,"div",47),i.Qb(),i.Rb(13,"div",24),i.Rb(14,"button",43),i.bc("click",function(){return i.zc(n),i.fc(2).previousStep()}),i.Kc(15,"Previous"),i.Qb(),i.Rb(16,"button",43),i.bc("click",function(){return i.zc(n),i.fc(2).nextStep()}),i.Kc(17,"Proceed"),i.Qb(),i.Qb(),i.Qb()}if(2&e){var o=i.fc(2);i.yb(10),i.Nc("",o.stepFourForm.get("writtenForm").value," - ",o.stepFourForm.get("type").value,""),i.yb(1),i.mc("ngIf",o.stepTwoForm.touched),i.yb(1),i.mc("ngIf",o.stepThreeForm.touched)}}function lm(e,t){1&e&&(i.Rb(0,"div",50),i.Rb(1,"div",51),i.Mb(2,"i",52),i.Qb(),i.Qb())}function um(e,t){1&e&&(i.Rb(0,"div",50),i.Mb(1,"div",53),i.Qb())}function fm(e,t){1&e&&(i.Rb(0,"div",50),i.Rb(1,"div",51),i.Mb(2,"i",54),i.Qb(),i.Qb())}function dm(e,t){1&e&&(i.Rb(0,"div",50),i.Rb(1,"div",51),i.Mb(2,"i",55),i.Qb(),i.Qb())}var hm=function(e){return{"text-muted":e}};function pm(e,t){if(1&e&&(i.Rb(0,"div",44),i.Rb(1,"div",45),i.Rb(2,"p",48),i.Kc(3,"Lexical entry creation"),i.Qb(),i.Qb(),i.Rb(4,"div",46),i.Ic(5,lm,3,0,"div",49),i.Ic(6,um,2,0,"div",49),i.Ic(7,fm,3,0,"div",49),i.Ic(8,dm,3,0,"div",49),i.Qb(),i.Qb()),2&e){var n=i.fc(3);i.yb(2),i.mc("ngClass",i.qc(5,hm,"pause"==n.statusForm.get("lexicalEntryCreation").value)),i.yb(3),i.mc("ngIf","pause"==n.statusForm.get("lexicalEntryCreation").value),i.yb(1),i.mc("ngIf","pending"==n.statusForm.get("lexicalEntryCreation").value),i.yb(1),i.mc("ngIf","ok"==n.statusForm.get("lexicalEntryCreation").value),i.yb(1),i.mc("ngIf","error"==n.statusForm.get("lexicalEntryCreation").value)}}function bm(e,t){1&e&&(i.Rb(0,"div",50),i.Rb(1,"div",51),i.Mb(2,"i",52),i.Qb(),i.Qb())}function gm(e,t){1&e&&(i.Rb(0,"div",50),i.Mb(1,"div",53),i.Qb())}function mm(e,t){1&e&&(i.Rb(0,"div",50),i.Rb(1,"div",51),i.Mb(2,"i",54),i.Qb(),i.Qb())}function vm(e,t){1&e&&(i.Rb(0,"div",50),i.Rb(1,"div",51),i.Mb(2,"i",55),i.Qb(),i.Qb())}function ym(e,t){if(1&e&&(i.Rb(0,"div",44),i.Rb(1,"div",45),i.Rb(2,"p",48),i.Kc(3,"Attaching language"),i.Qb(),i.Qb(),i.Rb(4,"div",46),i.Ic(5,bm,3,0,"div",49),i.Ic(6,gm,2,0,"div",49),i.Ic(7,mm,3,0,"div",49),i.Ic(8,vm,3,0,"div",49),i.Qb(),i.Qb()),2&e){var n=i.fc(3);i.yb(2),i.mc("ngClass",i.qc(5,hm,"pause"==n.statusForm.get("attachingLanguage").value)),i.yb(3),i.mc("ngIf","pause"==n.statusForm.get("attachingLanguage").value),i.yb(1),i.mc("ngIf","pending"==n.statusForm.get("attachingLanguage").value),i.yb(1),i.mc("ngIf","ok"==n.statusForm.get("attachingLanguage").value),i.yb(1),i.mc("ngIf","error"==n.statusForm.get("attachingLanguage").value)}}function _m(e,t){1&e&&(i.Rb(0,"div",50),i.Rb(1,"div",51),i.Mb(2,"i",52),i.Qb(),i.Qb())}function Cm(e,t){1&e&&(i.Rb(0,"div",50),i.Mb(1,"div",53),i.Qb())}function km(e,t){1&e&&(i.Rb(0,"div",50),i.Rb(1,"div",51),i.Mb(2,"i",54),i.Qb(),i.Qb())}function Om(e,t){1&e&&(i.Rb(0,"div",50),i.Rb(1,"div",51),i.Mb(2,"i",55),i.Qb(),i.Qb())}function xm(e,t){if(1&e&&(i.Rb(0,"div",44),i.Rb(1,"div",45),i.Rb(2,"p",48),i.Kc(3,"Attaching type"),i.Qb(),i.Qb(),i.Rb(4,"div",46),i.Ic(5,_m,3,0,"div",49),i.Ic(6,Cm,2,0,"div",49),i.Ic(7,km,3,0,"div",49),i.Ic(8,Om,3,0,"div",49),i.Qb(),i.Qb()),2&e){var n=i.fc(3);i.yb(2),i.mc("ngClass",i.qc(5,hm,"pause"==n.statusForm.get("attachingType").value)),i.yb(3),i.mc("ngIf","pause"==n.statusForm.get("attachingType").value),i.yb(1),i.mc("ngIf","pending"==n.statusForm.get("attachingType").value),i.yb(1),i.mc("ngIf","ok"==n.statusForm.get("attachingType").value),i.yb(1),i.mc("ngIf","error"==n.statusForm.get("attachingType").value)}}function wm(e,t){1&e&&(i.Rb(0,"div",50),i.Rb(1,"div",51),i.Mb(2,"i",52),i.Qb(),i.Qb())}function Mm(e,t){1&e&&(i.Rb(0,"div",50),i.Mb(1,"div",53),i.Qb())}function Pm(e,t){1&e&&(i.Rb(0,"div",50),i.Rb(1,"div",51),i.Mb(2,"i",54),i.Qb(),i.Qb())}function Em(e,t){1&e&&(i.Rb(0,"div",50),i.Rb(1,"div",51),i.Mb(2,"i",55),i.Qb(),i.Qb())}function Sm(e,t){if(1&e&&(i.Rb(0,"div",44),i.Rb(1,"div",45),i.Rb(2,"p",48),i.Kc(3,"Attaching label"),i.Qb(),i.Qb(),i.Rb(4,"div",46),i.Ic(5,wm,3,0,"div",49),i.Ic(6,Mm,2,0,"div",49),i.Ic(7,Pm,3,0,"div",49),i.Ic(8,Em,3,0,"div",49),i.Qb(),i.Qb()),2&e){var n=i.fc(3);i.yb(2),i.mc("ngClass",i.qc(5,hm,"pause"==n.statusForm.get("attachingLabel").value)),i.yb(3),i.mc("ngIf","pause"==n.statusForm.get("attachingLabel").value),i.yb(1),i.mc("ngIf","pending"==n.statusForm.get("attachingLabel").value),i.yb(1),i.mc("ngIf","ok"==n.statusForm.get("attachingLabel").value),i.yb(1),i.mc("ngIf","error"==n.statusForm.get("attachingLabel").value)}}function Rm(e,t){1&e&&(i.Rb(0,"div",50),i.Rb(1,"div",51),i.Mb(2,"i",52),i.Qb(),i.Qb())}function Im(e,t){1&e&&(i.Rb(0,"div",50),i.Mb(1,"div",53),i.Qb())}function Am(e,t){1&e&&(i.Rb(0,"div",50),i.Rb(1,"div",51),i.Mb(2,"i",54),i.Qb(),i.Qb())}function Tm(e,t){1&e&&(i.Rb(0,"div",50),i.Rb(1,"div",51),i.Mb(2,"i",55),i.Qb(),i.Qb())}function Dm(e,t){if(1&e&&(i.Rb(0,"div",44),i.Rb(1,"div",45),i.Rb(2,"p",48),i.Kc(3,"Attaching part of speech"),i.Qb(),i.Qb(),i.Rb(4,"div",46),i.Ic(5,Rm,3,0,"div",49),i.Ic(6,Im,2,0,"div",49),i.Ic(7,Am,3,0,"div",49),i.Ic(8,Tm,3,0,"div",49),i.Qb(),i.Qb()),2&e){var n=i.fc(3);i.yb(2),i.mc("ngClass",i.qc(5,hm,"pause"==n.statusForm.get("attachingPos").value)),i.yb(3),i.mc("ngIf","pause"==n.statusForm.get("attachingPos").value),i.yb(1),i.mc("ngIf","pending"==n.statusForm.get("attachingPos").value),i.yb(1),i.mc("ngIf","ok"==n.statusForm.get("attachingPos").value),i.yb(1),i.mc("ngIf","error"==n.statusForm.get("attachingPos").value)}}function jm(e,t){1&e&&(i.Rb(0,"div",50),i.Rb(1,"div",51),i.Mb(2,"i",52),i.Qb(),i.Qb())}function Fm(e,t){1&e&&(i.Rb(0,"div",50),i.Mb(1,"div",53),i.Qb())}function Qm(e,t){1&e&&(i.Rb(0,"div",50),i.Rb(1,"div",51),i.Mb(2,"i",54),i.Qb(),i.Qb())}function Lm(e,t){1&e&&(i.Rb(0,"div",50),i.Rb(1,"div",51),i.Mb(2,"i",55),i.Qb(),i.Qb())}function Nm(e,t){1&e&&(i.Rb(0,"div",50),i.Rb(1,"div",51),i.Mb(2,"i",52),i.Qb(),i.Qb())}function zm(e,t){1&e&&(i.Rb(0,"div",50),i.Mb(1,"div",53),i.Qb())}function Vm(e,t){1&e&&(i.Rb(0,"div",50),i.Rb(1,"div",51),i.Mb(2,"i",54),i.Qb(),i.Qb())}function Bm(e,t){1&e&&(i.Rb(0,"div",50),i.Rb(1,"div",51),i.Mb(2,"i",55),i.Qb(),i.Qb())}function Um(e,t){1&e&&(i.Rb(0,"div",50),i.Rb(1,"div",51),i.Mb(2,"i",52),i.Qb(),i.Qb())}function Hm(e,t){1&e&&(i.Rb(0,"div",50),i.Mb(1,"div",53),i.Qb())}function Km(e,t){1&e&&(i.Rb(0,"div",50),i.Rb(1,"div",51),i.Mb(2,"i",54),i.Qb(),i.Qb())}function qm(e,t){1&e&&(i.Rb(0,"div",50),i.Rb(1,"div",51),i.Mb(2,"i",55),i.Qb(),i.Qb())}function $m(e,t){1&e&&(i.Rb(0,"div",50),i.Rb(1,"div",51),i.Mb(2,"i",52),i.Qb(),i.Qb())}function Wm(e,t){1&e&&(i.Rb(0,"div",50),i.Mb(1,"div",53),i.Qb())}function Gm(e,t){1&e&&(i.Rb(0,"div",50),i.Rb(1,"div",51),i.Mb(2,"i",54),i.Qb(),i.Qb())}function Ym(e,t){1&e&&(i.Rb(0,"div",50),i.Rb(1,"div",51),i.Mb(2,"i",55),i.Qb(),i.Qb())}function Xm(e,t){if(1&e){var n=i.Sb();i.Rb(0,"form",17),i.Rb(1,"div",18),i.Rb(2,"p"),i.Kc(3,"Summary:"),i.Qb(),i.Ic(4,pm,9,7,"div",47),i.Ic(5,ym,9,7,"div",47),i.Ic(6,xm,9,7,"div",47),i.Ic(7,Sm,9,7,"div",47),i.Ic(8,Dm,9,7,"div",47),i.Rb(9,"div",44),i.Rb(10,"div",45),i.Rb(11,"p",48),i.Kc(12,"Creating form"),i.Qb(),i.Qb(),i.Rb(13,"div",46),i.Ic(14,jm,3,0,"div",49),i.Ic(15,Fm,2,0,"div",49),i.Ic(16,Qm,3,0,"div",49),i.Ic(17,Lm,3,0,"div",49),i.Qb(),i.Qb(),i.Rb(18,"div",44),i.Rb(19,"div",45),i.Rb(20,"p",48),i.Kc(21,"Attaching written form property"),i.Qb(),i.Qb(),i.Rb(22,"div",46),i.Ic(23,Nm,3,0,"div",49),i.Ic(24,zm,2,0,"div",49),i.Ic(25,Vm,3,0,"div",49),i.Ic(26,Bm,3,0,"div",49),i.Qb(),i.Qb(),i.Rb(27,"div",44),i.Rb(28,"div",45),i.Rb(29,"p",48),i.Kc(30,"Attaching type property"),i.Qb(),i.Qb(),i.Rb(31,"div",46),i.Ic(32,Um,3,0,"div",49),i.Ic(33,Hm,2,0,"div",49),i.Ic(34,Km,3,0,"div",49),i.Ic(35,qm,3,0,"div",49),i.Qb(),i.Qb(),i.Rb(36,"div",44),i.Rb(37,"div",45),i.Rb(38,"p",48),i.Kc(39,"Finish"),i.Qb(),i.Qb(),i.Rb(40,"div",46),i.Ic(41,$m,3,0,"div",49),i.Ic(42,Wm,2,0,"div",49),i.Ic(43,Gm,3,0,"div",49),i.Ic(44,Ym,3,0,"div",49),i.Qb(),i.Qb(),i.Qb(),i.Rb(45,"div",24),i.Rb(46,"button",25),i.bc("click",function(){return i.zc(n),i.fc().$implicit.close("finish")}),i.Kc(47,"Close"),i.Qb(),i.Qb(),i.Qb()}if(2&e){var o=i.fc(2);i.mc("formGroup",o.statusForm),i.yb(4),i.mc("ngIf",o.stepThreeForm.touched),i.yb(1),i.mc("ngIf",o.stepThreeForm.touched),i.yb(1),i.mc("ngIf",o.stepThreeForm.touched),i.yb(1),i.mc("ngIf",o.stepThreeForm.touched),i.yb(1),i.mc("ngIf",o.stepThreeForm.touched),i.yb(3),i.mc("ngClass",i.qc(27,hm,"pause"==o.statusForm.get("creatingForm").value)),i.yb(3),i.mc("ngIf","pause"==o.statusForm.get("creatingForm").value),i.yb(1),i.mc("ngIf","pending"==o.statusForm.get("creatingForm").value),i.yb(1),i.mc("ngIf","ok"==o.statusForm.get("creatingForm").value),i.yb(1),i.mc("ngIf","error"==o.statusForm.get("creatingForm").value),i.yb(3),i.mc("ngClass",i.qc(29,hm,"pause"==o.statusForm.get("attachingWrittenForm").value)),i.yb(3),i.mc("ngIf","pause"==o.statusForm.get("attachingWrittenForm").value),i.yb(1),i.mc("ngIf","pending"==o.statusForm.get("attachingWrittenForm").value),i.yb(1),i.mc("ngIf","ok"==o.statusForm.get("attachingWrittenForm").value),i.yb(1),i.mc("ngIf","error"==o.statusForm.get("attachingWrittenForm").value),i.yb(3),i.mc("ngClass",i.qc(31,hm,"pause"==o.statusForm.get("attachingFormType").value)),i.yb(3),i.mc("ngIf","pause"==o.statusForm.get("attachingFormType").value),i.yb(1),i.mc("ngIf","pending"==o.statusForm.get("attachingFormType").value),i.yb(1),i.mc("ngIf","ok"==o.statusForm.get("attachingFormType").value),i.yb(1),i.mc("ngIf","error"==o.statusForm.get("attachingFormType").value),i.yb(3),i.mc("ngClass",i.qc(33,hm,"pause"==o.statusForm.get("finish").value)),i.yb(3),i.mc("ngIf","pause"==o.statusForm.get("finish").value),i.yb(1),i.mc("ngIf","pending"==o.statusForm.get("finish").value),i.yb(1),i.mc("ngIf","ok"==o.statusForm.get("finish").value),i.yb(1),i.mc("ngIf","error"==o.statusForm.get("finish").value),i.yb(2),i.mc("disabled","ok"!=o.statusForm.get("finish").value)}}function Zm(e,t){if(1&e&&(i.Rb(0,"div",12),i.Rb(1,"h4",13),i.Kc(2,"Wizard"),i.Qb(),i.Rb(3,"button",14),i.bc("click",function(){return t.$implicit.dismiss("Cross click")}),i.Rb(4,"span",15),i.Kc(5,"\xd7"),i.Qb(),i.Qb(),i.Qb(),i.Ic(6,Zg,18,3,"form",16),i.Ic(7,Jg,15,6,"form",16),i.Ic(8,im,43,6,"form",16),i.Ic(9,rm,25,3,"form",16),i.Ic(10,cm,18,4,"div",11),i.Ic(11,Xm,48,35,"form",16)),2&e){var n=i.fc();i.yb(6),i.mc("ngIf",1==n.modalStep),i.yb(1),i.mc("ngIf",2==n.modalStep),i.yb(1),i.mc("ngIf",3==n.modalStep),i.yb(1),i.mc("ngIf",4==n.modalStep),i.yb(1),i.mc("ngIf",5==n.modalStep),i.yb(1),i.mc("ngIf",6==n.modalStep)}}var Jm,ev=((Jm=function(){function e(t,n,i,o,r,a,s,c){var l=this;_classCallCheck(this,e),this.formBuilder=t,this.modalService=n,this.toastr=i,this.annotatorService=o,this.lexicalService=r,this.expander=a,this.renderer=s,this.auth=c,this.search_subject=new wc.a,this.search_lex_entries_subject=new wc.a,this.languages=[],this.morphologyData=[],this.loader=!1,this.modalStep=0,this.stepOneForm=new vs.h({existOrNot:new vs.f("",vs.x.required)}),this.stepTwoForm=new vs.h({lexicalEntry:new vs.f("",vs.x.required)}),this.stepThreeForm=new vs.h({label:new vs.f("",vs.x.required),type:new vs.f("",vs.x.required),language:new vs.f("",vs.x.required),pos:new vs.f("",vs.x.required)}),this.stepFourForm=new vs.h({writtenForm:new vs.f("",vs.x.required),type:new vs.f("",vs.x.required)}),this.statusForm=new vs.h({lexicalEntryCreation:new vs.f(""),attachingLanguage:new vs.f(""),attachingType:new vs.f(""),attachingLabel:new vs.f(""),attachingPos:new vs.f(""),creatingForm:new vs.f(""),attachingWrittenForm:new vs.f(""),attachingFormType:new vs.f(""),finish:new vs.f(""),error:new vs.f(null)}),this.addNewForm=function(e){l.addTagFormText=e;var t=l.bind.selectedPopover.tokenId,n=l.bind.spanPopovers.toArray()[t];null!=n&&n.isOpen()&&n.close(),l.modalService.open(l.addFormModal,{size:"lg",windowClass:"dark-modal",beforeDismiss:function(){return l.stepOneForm.touched||l.stepTwoForm.touched||l.stepThreeForm.touched||l.stepFourForm.touched?!!confirm("There are unsaved changes. Do you really want to quit without saving?")&&(l.stepOneForm.reset(),l.stepOneForm.markAsUntouched(),l.stepOneForm.markAsPristine(),l.stepTwoForm.reset(),l.stepTwoForm.markAsUntouched(),l.stepTwoForm.markAsPristine(),l.stepThreeForm.reset(),l.stepThreeForm.markAsUntouched(),l.stepThreeForm.markAsPristine(),l.stepFourForm.reset(),l.stepFourForm.markAsUntouched(),l.stepFourForm.markAsPristine(),l.statusForm.reset(),l.statusForm.markAsPristine(),l.statusForm.markAsUntouched(),!0):(l.stepOneForm.reset(),l.stepOneForm.markAsUntouched(),l.stepOneForm.markAsPristine(),l.stepTwoForm.reset(),l.stepTwoForm.markAsUntouched(),l.stepTwoForm.markAsPristine(),l.stepThreeForm.reset(),l.stepThreeForm.markAsUntouched(),l.stepThreeForm.markAsPristine(),l.stepFourForm.reset(),l.stepFourForm.markAsUntouched(),l.stepFourForm.markAsPristine(),!0)}}),l.modalStep=1}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;setTimeout(function(){},1e3),null!=this.auth.getLoggedUser().preferred_username&&(this.creator=this.auth.getLoggedUser().preferred_username),this.search_lex_entries_subject.pipe(Object(ou.a)(1e3)).subscribe(function(t){e.onSearchLexicalEntriesFilter(t)}),this.search_subject.pipe(Object(ou.a)(1e3)).subscribe(function(t){e.onSearchFilter(t)}),this.lexicalService.getLexiconLanguages().subscribe(function(t){e.languages=[];for(var n=0;n<t.length;n++)e.languages[n]=t[n]}),this.lexicalService.getMorphologyData().subscribe(function(t){e.morphologyData=t.filter(function(e){return"partOfSpeech"==e.propertyId}),e.morphologyData=e.morphologyData[0].propertyValues}),this.lexicalService.getLexEntryTypes().subscribe(function(t){e.lexEntryTypesData=t}),this.lexicalService.getFormTypes().subscribe(function(t){e.typesData=t},function(e){}),this.annotatorService.triggerSearch$.subscribe(function(t){console.log(t),null!=t&&e.bindSelection(t)},function(e){}).unsubscribe(),this.stepOneForm=this.formBuilder.group({existOrNot:["",vs.x.required]}),this.stepTwoForm=this.formBuilder.group({lexicalEntry:["",vs.x.required]}),this.stepThreeForm=this.formBuilder.group({label:["",vs.x.required],type:["",vs.x.required],language:["",vs.x.required],pos:["",vs.x.required]}),this.stepFourForm=this.formBuilder.group({writtenForm:["",vs.x.required],type:["",vs.x.required]}),this.statusForm=this.formBuilder.group({lexicalEntryCreation:["pause"],attachingLanguage:["pause"],attachingType:["pause"],attachingLabel:["pause"],attachingPos:["pause"],creatingForm:["pause"],attachingWrittenForm:["pause"],attachingFormType:["pause"],finish:["pause"],error:[null]})}},{key:"triggerSearch",value:function(e){null!=e.target&&"Control"!=e.key&&this.search_subject.next(e.target.value)}},{key:"triggerSearchLexicalEntries",value:function(e){null!=e.target&&"Control"!=e.key&&this.search_lex_entries_subject.next(e.target.value)}},{key:"onSearchFilter",value:function(e){var t=this;this.searchResults=[];var n={text:e,searchMode:"startsWith",representationType:"writtenRep",author:"",offset:0,limit:500};console.log(n),null!=e&&this.lexicalService.getFormList(n).subscribe(function(e){console.log(e),t.searchResults=e.list,t.loader=!1},function(e){console.log(e),t.loader=!1})}},{key:"onSearchLexicalEntriesFilter",value:function(e){var t=this;this.searchResults=[];var n={text:e,searchMode:"startsWith",type:"",pos:"",formType:"entry",author:"",lang:"",status:"",offset:0,limit:500};console.log(n),""!=e&&this.lexicalService.getLexicalEntriesList(n).subscribe(function(e){console.log(e),t.lex_searchResuts=e.list,t.loader=!1},function(e){})}},{key:"clearAll",value:function(){this.select_form.handleClearClick()}},{key:"clearAllLexicalEntries",value:function(){this.search_lexicalEntry.handleClearClick()}},{key:"bindSelection",value:function(e){var t=this;this.loader=!0,setTimeout(function(){t.select_form.filter(e),t.onSearchFilter(e)},100)}},{key:"handleForm",value:function(e){e instanceof kc.a&&e.selectedItems.length>0&&(null!=e.selectedItems[0].value.formInstanceName?e.selectedItems[0].value.formInstanceName:e.selectedItems[0].label,this.onChangeForm(e.selectedItems[0].value))}},{key:"onChangeForm",value:function(e){var t,n=this,i={},o=this.bind.object[this.bind.selectedPopover.tokenId],r=this.bind.epiData.element_id,a=this.bind.message,s=this.bind.spanSelection,c=e.form;null==this.creator&&(this.creator=""),console.log(s),console.log(a),""!=a&&null!=a?(i.value=c,i.layer="attestation",i.attributes={author:this.creator,creator:this.creator,note:"",confidence:1,timestamp:(new Date).getTime().toString(),bibliography:[],validity:"",externalRef:"",node_id:o.id,label:e.label,form_id:e.formInstanceName},i.spans=[{start:s.start.toString(),end:s.end.toString()}],i.id=o.node):""!=a||Array.isArray(s)||this.bind.isEmptyFile?Array.isArray(s)?(i.value=c,i.layer="attestation",i.attributes={author:this.creator,creator:this.creator,note:"",confidence:1,timestamp:(new Date).getTime().toString(),bibliography:[],validity:"",externalRef:"",node_id:o.id,label:e.label,form_id:e.formInstanceName},i.spans=s,i.id=o.node):this.bind.isEmptyFile&&(i.value=c,i.layer="attestation",i.attributes={author:this.creator,creator:this.creator,note:"",confidence:1,timestamp:(new Date).getTime().toString(),bibliography:[],validity:"",externalRef:"",node_id:void 0,label:e.label,form_id:e.formInstanceName},i.spans=[{start:0,end:0}],i.id=r):(i.value=c,i.layer="attestation",i.attributes={author:this.creator,creator:this.creator,note:"",confidence:1,timestamp:(new Date).getTime().toString(),bibliography:[],validity:"",externalRef:"",node_id:o.id,label:e.label,form_id:e.formInstanceName},i.spans=[{start:o.begin.toString(),end:o.end.toString()}],i.id=o.node),console.log(i),t=this.bind.isEmptyFile?r:o.node,this.annotatorService.addAnnotation(i,t).subscribe(function(e){console.log(e),n.bind.annotationArray.push(e.annotation),n.bind.populateLocalAnnotation(n.bind.isEmptyFile?e.annotation:o),n.bind.isEmptyFile||n.bind.object.forEach(function(t){if(e.annotation.attributes.node_id==t.id){var i=document.getElementsByClassName("token-"+(t.position-1))[0];n.renderer.addClass(i,"annotation")}}),n.toastr.success("New attestation created","Info",{timeOut:5e3})},function(e){console.log(e),n.toastr.error("Error on create new attestation","Error",{timeOut:5e3})})}},{key:"nextStep",value:function(){1==this.modalStep?(this.modalStep="new"==this.stepOneForm.get("existOrNot").value?3:2,this.stepTwoForm.touched&&(this.stepTwoForm.reset(),this.stepTwoForm.markAsUntouched(),this.stepTwoForm.markAsPristine(),this.clearAll()),this.stepThreeForm.touched&&(this.stepThreeForm.reset(),this.stepThreeForm.markAsUntouched(),this.stepThreeForm.markAsPristine()),this.stepFourForm.touched&&(this.stepFourForm.reset(),this.stepFourForm.markAsUntouched(),this.stepFourForm.markAsPristine())):3==this.modalStep?(this.modalStep+=1,this.stepTwoForm.touched&&(this.stepTwoForm.reset(),this.stepTwoForm.markAsUntouched(),this.stepTwoForm.markAsPristine(),this.clearAll()),this.stepFourForm.touched&&(this.stepFourForm.reset(),this.stepFourForm.markAsUntouched(),this.stepFourForm.markAsPristine()),this.stepFourForm.get("writtenForm").patchValue(this.addTagFormText,{emitEvent:!1})):2==this.modalStep?(this.modalStep=4,this.stepThreeForm.touched&&(this.stepThreeForm.reset(),this.stepThreeForm.markAsUntouched(),this.stepThreeForm.markAsPristine()),this.stepFourForm.touched&&(this.stepFourForm.reset(),this.stepFourForm.markAsUntouched(),this.stepFourForm.markAsPristine()),this.stepFourForm.get("writtenForm").patchValue(this.addTagFormText,{emitEvent:!1})):(this.modalStep+=1,6==this.modalStep&&this.wizardFactory(),this.modalStep>6&&(this.modalStep=6))}},{key:"previousStep",value:function(){2==this.modalStep?this.modalStep-=1:3==this.modalStep?this.modalStep=1:4==this.modalStep?this.stepThreeForm.touched?this.modalStep=3:this.stepTwoForm.touched&&(this.modalStep=2):5==this.modalStep&&(this.modalStep-=1)}},{key:"wizardFactory",value:function(){var e=this;if(this.stepThreeForm.touched)this.statusForm.get("lexicalEntryCreation").patchValue("pending",{emitEvent:!1}),this.lexicalService.newLexicalEntry().subscribe(function(t){console.log(t),e.statusForm.get("lexicalEntryCreation").patchValue("ok",{emitEvent:!1}),e.statusForm.get("attachingLanguage").patchValue("pending",{emitEvent:!1});var n=t.lexicalEntryInstanceName,i=e.stepThreeForm.get("language").value;e.lexicalService.updateLexicalEntry(n,{relation:"language",value:i}).subscribe(function(e){console.log(e)},function(t){if(console.log(t),200==t.status){e.statusForm.get("attachingLanguage").patchValue("ok",{emitEvent:!1}),e.statusForm.get("attachingType").patchValue("pending",{emitEvent:!1});var i=e.stepThreeForm.get("type").value;e.lexicalService.updateLexicalEntry(n,{relation:"type",value:i}).subscribe(function(e){console.log(e)},function(t){if(console.log(t),200==t.status){e.statusForm.get("attachingType").patchValue("ok",{emitEvent:!1}),e.statusForm.get("attachingLabel").patchValue("pending",{emitEvent:!1});var i=e.stepThreeForm.get("label").value;e.lexicalService.updateLexicalEntry(n,{relation:"label",value:i}).subscribe(function(e){console.log(e)},function(t){if(console.log(t),200==t.status){e.statusForm.get("attachingLabel").patchValue("ok",{emitEvent:!1}),e.statusForm.get("attachingPos").patchValue("pending",{emitEvent:!1});var i=e.stepThreeForm.get("pos").value;e.lexicalService.updateLinguisticRelation(n,{type:"morphology",relation:"partOfSpeech",value:i}).subscribe(function(e){console.log(e)},function(t){console.log(t),e.statusForm.get("attachingPos").patchValue("ok",{emitEvent:!1}),e.statusForm.get("creatingForm").patchValue("pending",{emitEvent:!1}),e.lexicalService.createNewForm(n).subscribe(function(t){console.log(t);var n=t.formInstanceName;e.statusForm.get("creatingForm").patchValue("ok",{emitEvent:!1}),e.statusForm.get("attachingWrittenForm").patchValue("pending",{emitEvent:!1});var i=e.stepFourForm.get("writtenForm").value;e.lexicalService.updateForm(n,{relation:"writtenRep",value:i}).subscribe(function(t){console.log(t),e.statusForm.get("attachingWrittenForm").patchValue("ok",{emitEvent:!1})},function(t){console.log(t),e.statusForm.get("attachingWrittenForm").patchValue("ok",{emitEvent:!1}),e.statusForm.get("attachingFormType").patchValue("pending",{emitEvent:!1});var i=e.stepFourForm.get("type").value;e.lexicalService.updateForm(n,{relation:"type",value:i}).subscribe(function(t){console.log(t),e.statusForm.get("attachingFormType").patchValue("ok",{emitEvent:!1}),e.statusForm.get("finish").patchValue("ok",{emitEvent:!1})},function(t){console.log(t),e.statusForm.get("attachingFormType").patchValue("ok",{emitEvent:!1}),e.statusForm.get("finish").patchValue("ok",{emitEvent:!1})})})},function(e){console.log(e)})})}})}})}})},function(e){console.log(e)});else if(this.stepTwoForm.touched){var t=this.stepTwoForm.get("lexicalEntry").value;this.statusForm.get("creatingForm").patchValue("pending",{emitEvent:!1}),this.lexicalService.createNewForm(t).subscribe(function(t){console.log(t);var n=t.formInstanceName;e.statusForm.get("creatingForm").patchValue("ok",{emitEvent:!1}),e.statusForm.get("attachingWrittenForm").patchValue("pending",{emitEvent:!1});var i=e.stepFourForm.get("writtenForm").value;e.lexicalService.updateForm(n,{relation:"writtenRep",value:i}).subscribe(function(t){console.log(t),e.statusForm.get("attachingWrittenForm").patchValue("ok",{emitEvent:!1})},function(t){console.log(t),e.statusForm.get("attachingWrittenForm").patchValue("ok",{emitEvent:!1}),e.statusForm.get("attachingFormType").patchValue("pending",{emitEvent:!1});var i=e.stepFourForm.get("type").value;e.lexicalService.updateForm(n,{relation:"type",value:i}).subscribe(function(t){console.log(t),e.statusForm.get("attachingFormType").patchValue("ok",{emitEvent:!1}),e.statusForm.get("finish").patchValue("ok",{emitEvent:!1})},function(t){console.log(t),e.statusForm.get("attachingFormType").patchValue("ok",{emitEvent:!1}),e.statusForm.get("finish").patchValue("ok",{emitEvent:!1})})})},function(e){console.log(e)})}}}]),e}()).\u0275fac=function(e){return new(e||Jm)(i.Lb(vs.e),i.Lb(Hg.a),i.Lb(Pu.b),i.Lb(dp),i.Lb(sp.a),i.Lb(up),i.Lb(i.E),i.Lb(Kg.a))},Jm.\u0275cmp=i.Fb({type:Jm,selectors:[["app-search-form"]],viewQuery:function(e,t){var n;1&e&&(i.Pc(qg,!0),i.Pc($g,!0),i.Pc(Wg,!0)),2&e&&(i.uc(n=i.cc())&&(t.addFormModal=n.first),i.uc(n=i.cc())&&(t.select_form=n.first),i.uc(n=i.cc())&&(t.search_lexicalEntry=n.first))},inputs:{bind:"bind"},decls:9,vars:4,consts:[[1,"input-group","col-xl-12","searchSelect"],["name","entity","bindValue","label","bindLabel","label","placeholder","Search form","appendTo",".token_modal",3,"addTag","clearable","items","loading","focus","keyup","change"],["select_form",""],["ng-option-tmp",""],[1,"input-group-append","ml-2"],["type","button",1,"btn","btn-danger",3,"click"],["addFormModal",""],[1,"card-body","p-0"],[1,"card-title","m-0",3,"ngOptionHighlight"],[4,"ngFor","ngForOf"],[1,"card-text"],[4,"ngIf"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"modal-body"],[1,"form-group"],[1,"form-check","form-check-inline"],["formControlName","existOrNot","name","existOrNot","type","radio","value","new",1,"form-check-input"],["for","existOrNot",1,"form-check-label"],["formControlName","existOrNot","name","existOrNot","type","radio","value","exist",1,"form-check-input"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"disabled","click"],[1,"input-group","searchSelect"],["formControlName","lexicalEntry","name","lexicalEntry","bindValue","lexicalEntryInstanceName","bindLabel","label","placeholder","Search form","appendTo","body",3,"clearable","items","loading","focus","keyup"],["search_lexicalEntry",""],[1,"form-row"],[1,"col-md-4","mb-3"],["for","label"],["type","text","formControlName","label","name","label","id","label","required","",1,"form-control"],[1,"invalid-feedback"],[1,"col-md-3","mb-3"],["formControlName","type","name","type","id","type","required","",1,"custom-select"],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-2","mb-3"],["formControlName","language","name","language","id","language","required","",1,"custom-select"],["formControlName","pos","name","pos","id","pos","required","",1,"custom-select"],[3,"value"],["type","text","formControlName","writtenForm","name","writtenForm","id","writtenForm","required","",1,"form-control"],["type","button",1,"btn","btn-outline-dark",3,"click"],[1,"row"],[1,"col-4"],[1,"col-8"],["class","row",4,"ngIf"],[3,"ngClass"],["class","d-flex align-items-center",4,"ngIf"],[1,"d-flex","align-items-center"],["aria-hidden","true",1,"mr-auto","ml-auto"],[1,"fas","fa-pause-circle","fa-2x",2,"color","gray"],["role","status","aria-hidden","true",1,"spinner-border","mr-auto","ml-auto"],[1,"fas","fa-check-circle","fa-2x",2,"color","green"],[1,"fas","fa-times-circle","fa-2x",2,"color","red"]],template:function(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",0),i.Rb(1,"ng-select",1,2),i.bc("focus",function(){return!0})("keyup",function(e){return t.triggerSearch(e)})("change",function(){i.zc(n);var e=i.vc(2);return t.handleForm(e)}),i.Ic(3,Xg,5,3,"ng-template",3),i.Qb(),i.Rb(4,"div",4),i.Rb(5,"button",5),i.bc("click",function(){return t.clearAll()}),i.Kc(6,"Clear"),i.Qb(),i.Qb(),i.Qb(),i.Ic(7,Zm,12,6,"ng-template",null,6,i.Jc)}2&e&&(i.yb(1),i.mc("addTag",t.addNewForm)("clearable",!1)("items",t.searchResults)("loading",t.loader))},directives:[kc.a,kc.c,a.m,a.n,vs.z,vs.o,vs.i,vs.b,vs.t,vs.n,vs.g,vs.v,vs.w,vs.r,vs.y,a.l],styles:[".searchSelect[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:.25rem!important;padding:0 .75rem!important;font-size:12px}.searchSelect[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{font-size:12px;height:2rem}"]}),Jm),tv=["search_form"],nv=["span_modal"];function iv(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",7),i.Rb(1,"button",8),i.bc("click",function(){return i.zc(n),i.fc().showAllAnnotations()}),i.Mb(2,"i",9),i.Qb(),i.Qb()}}function ov(e,t){1&e&&(i.Rb(0,"div",10),i.Rb(1,"h6"),i.Kc(2,"Linker"),i.Qb(),i.Qb())}function rv(e,t){if(1&e&&(i.Rb(0,"div",0),i.Rb(1,"div",17),i.Rb(2,"p"),i.Kc(3,"Add a form:"),i.Qb(),i.Qb(),i.Rb(4,"div",1),i.Mb(5,"app-search-form",18,19),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(5),i.mc("bind",n.bind)}}function av(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",11),i.Rb(1,"h6",12),i.Kc(2,"Add attestation"),i.Qb(),i.Rb(3,"button",13,14),i.bc("click",function(){return i.zc(n),i.fc().triggerEmptySearch()}),i.Mb(5,"i",15),i.Qb(),i.Ic(6,rv,7,1,"ng-template",null,16,i.Jc),i.Qb()}if(2&e){var o=i.vc(7);i.yb(3),i.mc("autoClose","outside")("ngbPopover",o)("placement","bottom")}}function sv(e,t){if(1&e&&(i.Rb(0,"div",0),i.Rb(1,"div",17),i.Rb(2,"p"),i.Kc(3,"Add a form:"),i.Qb(),i.Qb(),i.Rb(4,"div",1),i.Mb(5,"app-search-form",18,19),i.Qb(),i.Qb()),2&e){var n=i.fc(3);i.yb(5),i.mc("bind",n.bind)}}var cv=function(e,t,n){return{unselectable:e,selected:t,editing:n}};function lv(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",23),i.Rb(1,"span",24,25),i.bc("mouseenter",function(e){i.zc(n);var o=t.index;return i.fc(2).enterCell(e,o)})("mouseleave",function(e){i.zc(n);var o=t.index;return i.fc(2).leavingCell(e,o)})("mousedown",function(e){i.zc(n);var o=t.index,r=i.vc(2);return i.fc(2).deleteSelection(r,e,o)})("mouseup",function(e){i.zc(n);var o=t.index,r=i.vc(2);return i.fc(2).triggerBind(r,e,o)}),i.Kc(3),i.Qb(),i.Ic(4,sv,7,1,"ng-template",null,16,i.Jc),i.Qb()}if(2&e){var o=t.$implicit,r=t.index,a=i.vc(5),s=i.fc(2);i.yb(1),i.Bb("token token-",r," p-2"),i.mc("ngClass",i.sc(13,cv,!o.selected,o.selected,o.editing))("triggers",s.manual)("placement","bottom")("popoverTitle",o.value)("animation",!1)("autoClose","outside")("disablePopover",s.multiWordMode||""==o.text||"."==o.text||":"==o.text)("ngbPopover",a),i.zb("position",o.position),i.yb(2),i.Mc(" ",o.text," ")}}function uv(e,t){if(1&e&&(i.Rb(0,"form",20),i.Rb(1,"div",21),i.Ic(2,lv,6,17,"div",22),i.Qb(),i.Qb()),2&e){var n=i.fc();i.mc("formGroup",n.epigraphyForm),i.yb(2),i.mc("ngForOf",n.object)}}function fv(e,t){1&e&&(i.Rb(0,"div",10),i.Rb(1,"h6"),i.Kc(2,"Inscription"),i.Qb(),i.Qb())}function dv(e,t){if(1&e&&(i.Rb(0,"li"),i.Kc(1),i.Qb()),2&e){var n=t.$implicit;i.yb(1),i.Mc(" ",n," ")}}function hv(e,t){if(1&e&&(i.Rb(0,"div",28),i.Rb(1,"ol",29),i.Ic(2,dv,2,1,"li",30),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(2),i.mc("ngForOf",n.leidenLines)}}function pv(e,t){if(1&e&&(i.Rb(0,"div",26),i.Rb(1,"div",1),i.Ic(2,fv,3,0,"div",3),i.Ic(3,hv,3,1,"div",27),i.Qb(),i.Qb()),2&e){var n=i.fc();i.yb(2),i.mc("ngIf",null!=n.object&&0!=n.object.length),i.yb(1),i.mc("ngIf",null!=n.object&&0!=n.object.length)}}function bv(e,t){1&e&&(i.Rb(0,"div",10),i.Rb(1,"h6"),i.Kc(2,"Translation"),i.Qb(),i.Qb())}function gv(e,t){if(1&e&&(i.Rb(0,"div",32),i.Rb(1,"div",33),i.Rb(2,"div",34),i.Kc(3),i.Qb(),i.Rb(4,"div",35),i.Kc(5),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(3),i.Mc(" ",n.translation_array[0]," "),i.yb(2),i.Mc(" ",n.translation_array[1]," ")}}function mv(e,t){if(1&e&&(i.Rb(0,"div",26),i.Rb(1,"div",1),i.Ic(2,bv,3,0,"div",3),i.Ic(3,gv,6,2,"div",31),i.Qb(),i.Qb()),2&e){var n=i.fc();i.yb(2),i.mc("ngIf",null!=n.object&&0!=n.object.length),i.yb(1),i.mc("ngIf",null!=n.object&&0!=n.object.length)}}var vv,yv=((vv=function(){function e(t,n,i,o,r,a,s,c,l){_classCallCheck(this,e),this.router=t,this.annotatorService=n,this.expander=i,this.renderer=o,this.documentService=r,this.formBuilder=a,this.toastr=s,this.lexicalService=c,this.config=l,this.textEpigraphy="",this.bind_subject=new wc.a,this.searchResults=[],this.memoryForms=[],this.selectedPopover={htmlNodeName:"",tokenId:""},this.isOpen=!1,this.bind=this,this.epigraphyForm=new vs.h({tokens:new vs.c([this.createToken()])}),this.multiWordMode=!1,this.annotationArray=[],this.token_annotationArray=[],this.epidoc_annotation_array=[],this.leiden_array=[],this.translation_array=[],this.isEmptyFile=!1}return _createClass(e,[{key:"onMouseUp",value:function(e){var t=this;setTimeout(function(){var n,i=Array.from(e.path),o=!1;if(i.some(function(e){return null!=e.classList&&!!e.classList.contains("ok-button")&&(o=!0,!0)}),o){var r;Array.from(document.getElementsByClassName("multiword")).forEach(function(e){Array.from(e.children).forEach(function(t){t.classList.contains("multiword-button")&&(n=e.children,t.remove())})}),document.querySelectorAll(".multiword").forEach(function(e){t.renderer.removeClass(e,"multiword"),t.renderer.addClass(e,"multiword-span-1");var n=e.previousElementSibling,i=e.nextElementSibling;null!=n?null!=n.classList&&/(^|\s)(multiword-span-\d)(\s|$)/.test(n.className)&&t.renderer.addClass(e,"border-left-0"):null!=i&&null!=i.classList&&/(^|\s)(multiword-span-\d)(\s|$)/.test(i.className)&&t.renderer.addClass(e,"border-right-0")}),Array.from(n).forEach(function(e){r=e.getAttribute("position")}),t.message="",t.spanPopovers.toArray()[r-1].open();var a=t.spanPopovers.toArray()[r-1]._ngbPopoverWindowId;t.selectedPopover.tokenId=(r-1).toString(),t.annotatorService.triggerSearch(null),t.selectedPopover.htmlNodeName=a;var s=Array.from(document.querySelectorAll("[class*=multiword-span-]")),c=[];s.forEach(function(e){Array.from(e.children).forEach(function(e){var n=parseInt(e.getAttribute("position"));c.push({start:t.object[n-1].begin,end:t.object[n-1].end})})}),console.log(c),t.spanSelection=c}else t.multiWordMode||document.querySelectorAll(".multiword").forEach(function(e){t.renderer.removeClass(e,"multiword"),t.renderer.removeClass(e,"border-right-0")})},10)}},{key:"onGlobalClick",value:function(e){var t=this;setTimeout(function(){""!=t.selectedPopover.tokenId&&t.spanPopovers.toArray()},17),setTimeout(function(){var n=Array.from(e.path),i=document.getElementById(t.selectedPopover.htmlNodeName);console;var o=t.selectedPopover.tokenId;if(n.includes(i));else{null!=t.object&&t.object.forEach(function(e){e.position!=o&&(e.editing=!1,t.selectedPopover.htmlNodeName="",t.selectedPopover.tokenId="")});var r=document.getElementsByClassName("token-"+o)[0];if(null!=r){var a=0;Array.from(r.childNodes).forEach(function(e){var n,i,o=e.textContent;if(null!=e.classList&&(e.classList.contains("mark")||e.classList.contains("mark_test"))){n=Array.from(r.childNodes)[a-1],(i=Array.from(r.childNodes)[a])==e&&(i=Array.from(r.childNodes)[a+1]),null!=n&&"#text"==n.nodeName&&(o=n.textContent+=o,n.remove()),null!=i&&"#text"==i.nodeName&&(o+=i.textContent,i.remove());var s=t.renderer.createText(o);t.renderer.insertBefore(r,s,e),e.remove()}a++})}}},17)}},{key:"enableMultiword",value:function(e){var t=this;if(e.altKey&&e.ctrlKey)this.multiWordMode=!0,null!=this.object&&this.object.forEach(function(e){e.editing=!1,t.selectedPopover.htmlNodeName="",t.selectedPopover.tokenId=""});else if("Escape"==e.code){document.getElementById(this.selectedPopover.htmlNodeName);var n=this.selectedPopover.tokenId;if(null!=this.object){this.object.forEach(function(e){e.id!=n&&(e.editing=!1,t.selectedPopover.htmlNodeName="",t.selectedPopover.tokenId="")});var i=document.getElementsByClassName("token-"+n)[0];null!=i&&Array.from(i.children).forEach(function(e){if(console.log(e),e.classList.contains("mark")){var n=t.renderer.createText(e.textContent);return t.renderer.insertBefore(i,n,e),void t.renderer.removeChild(i,e)}})}}}},{key:"disableMultiword",value:function(e){e.altKey||e.ctrlKey||(this.multiWordMode=!1)}},{key:"ngOnInit",value:function(){var e=this;this.epigraphyForm=this.formBuilder.group({tokens:this.formBuilder.array([this.createToken()])}),this.documentService.epigraphyTextData$.subscribe(function(t){e.textEpigraphy=null!=t?t:""},function(e){console.log(e)}),this.documentService.epigraphyLeidenData$.subscribe(function(t){console.log(t),e.leidenLines=null!=t?t:[]},function(e){console.log(e)}),this.documentService.epigraphyTranslationData$.subscribe(function(t){console.log(t),e.translation_array=null!=t?t:[]},function(e){console.log(e)}),this.bind_subject.pipe(Object(ou.a)(100)).subscribe(function(t){e.bindSelection(t.popover,t.evt,t.i)}),this.annotatorService.deleteAnnoReq$.subscribe(function(t){var n=[];null!=t&&(e.annotationArray=e.annotationArray.filter(function(e){return e.id!=t.id}),null!=e.object&&e.object.forEach(function(i){if(i.id==t.node_id){var o=i.begin,r=i.end;if(e.annotationArray.forEach(function(e){e.spans[0].start>=o&&e.spans[0].end<=r&&n.push(e)}),console.log(n,n.length),0==n.length){var a=document.getElementsByClassName("token-"+(i.position-1))[0];e.renderer.removeClass(a,"annotation")}}}))})}},{key:"ngOnChanges",value:function(e){var t=this;setTimeout(function(){if(null!=e.epiData.currentValue){t.object!=e.epiData.currentValue&&(t.tokenArray=t.epigraphyForm.get("tokens"),t.tokenArray.clear(),t.spanSelection=null,t.annotationArray=[],t.epidoc_annotation_array=[]),t.object=e.epiData.currentValue.tokens;var n=e.epiData.currentValue.element_id;t.fileId=e.epiData.currentValue.epidoc_id;var i=e.epiData.currentValue.xmlDoc;console.log(t.object),null!=t.object&&(0==t.object.length?(t.isEmptyFile=!0,console.log("FILE VUOTO")):(t.isEmptyFile=!1,console.log("FILE NON VUOTO")),t.annotatorService.getAnnotation(n).subscribe(function(e){if(console.log(e),null!=e.annotations)if(e.annotations.forEach(function(e){if("attestation"==e.layer){if(null==e.attributes.bibliography&&(e.attributes.bibliography=[]),!Array.isArray(e.attributes.bibliography)){var n=[];n.push(e.attributes.bibliography),e.attributes.bibliography=n}Array.isArray(e.attributes.bibliography)&&Array.from(e.attributes.bibliography).forEach(function(e){null==e.note&&(e.note=""),null==e.textualRef&&(e.textualRef="")}),t.annotationArray.push(e)}else"epidoc"==e.layer&&t.epidoc_annotation_array.push(e)}),t.annotationArray.length>0)var n=setInterval(function(e){try{null!=t.object&&(t.object.forEach(function(e){var n=e.begin,o=e.end;t.annotationArray.forEach(function(r){if(1==r.spans.length){var a=r.spans[0].end;if(r.spans[0].start>=n&&a<=o){var s=document.getElementsByClassName("token-"+(e.position-1))[0],c=t,l=i.querySelectorAll("[*|id='"+e.xmlid+"']")[0].outerHTML;t.documentService.testConvert({xmlString:l}).subscribe(function(e){console.log(e);var t=e.xml,n=(new DOMParser).parseFromString(t,"text/html").body.innerHTML.replace("\n","");r.attributes.leiden=n},function(e){console.log(e)});var u=setInterval(function(e){try{null!=s&&(c.renderer.addClass(s,"annotation"),clearInterval(u))}catch(t){console.log(t)}},250)}}})}),setTimeout(function(){t.lexicalService.triggerAttestationPanel(!0),t.lexicalService.sendToAttestationPanel(t.annotationArray)},1e3),clearInterval(n))}catch(o){console.log(o)}},250);else t.annotationArray=[],t.lexicalService.triggerAttestationPanel(!1),t.lexicalService.sendToAttestationPanel(null);else t.annotationArray=[],t.epidoc_annotation_array=[],t.lexicalService.triggerAttestationPanel(null),t.lexicalService.sendToAttestationPanel(null)},function(e){console.log(e)}))}else t.object=null},10)}},{key:"ngOnDestroy",value:function(){}},{key:"createToken",value:function(e){return this.formBuilder.group(null!=e?{entity:new vs.f(e)}:{entity:new vs.f("")})}},{key:"enterCell",value:function(e,t){if("."!=e.target.innerText&&":"!=e.target.innerText&&""!=e.target.innerText){var n=e.target.parentElement;null!=n&&(/(^|\s)(multiword-span-\d)(\s|$)/.test(n.className)||(this.object[t].selected=!0,window.getSelection&&(window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges())))}}},{key:"leavingCell",value:function(e,t){this.object[t].selected=!1}},{key:"deleteSelection",value:function(e,t,n){setTimeout(function(){},10);var i=e._elementRef.nativeElement;i.querySelectorAll(".annotation").length>0||(i.textContent=i.textContent.trim())}},{key:"triggerBind",value:function(e,t,n){this.multiWordMode?(console.log(e),this.multiWordCreator(e,t,n)):"."!=t.target.innerText&&":"!=t.target.innerText&&""!=t.target.innerText&&this.bind_subject.next({popover:e,evt:t,i:n})}},{key:"multiWordCreator",value:function(e,t,n){var i,o,r=e._elementRef.nativeElement.parentNode.parentNode.childNodes[n];if(i=e._elementRef.nativeElement.parentNode.previousSibling,o=e._elementRef.nativeElement.parentNode.nextSibling,r.classList.contains("multiword")){this.renderer.removeClass(r,"multiword"),null!=i&&i.classList.contains("multiword")&&this.renderer.removeClass(i,"border-right-0"),null!=o&&null!=o.classList&&o.classList.contains("multiword")&&this.renderer.removeClass(r,"border-right-0");var a=Array.from(document.getElementsByClassName("multiword"));a.forEach(function(e){Array.from(e.children).forEach(function(e){e.classList.contains("multiword-button")&&e.remove()})}),a.length>1&&(console.log(a[a.length-1]),this.createDynamicButtons(a[a.length-1]))}else{this.renderer.addClass(r,"multiword"),null!=i&&i.classList.contains("multiword")&&this.renderer.addClass(i,"border-right-0"),null!=o&&null!=o.classList&&o.classList.contains("multiword")&&this.renderer.addClass(r,"border-right-0");var s=Array.from(document.getElementsByClassName("multiword"));s.forEach(function(e){Array.from(e.children).forEach(function(e){e.classList.contains("multiword-button")&&e.remove()})}),s.length>1?this.createDynamicButtons(r):1==s.length&&s.forEach(function(e){Array.from(e.children).forEach(function(e){e.classList.contains("multiword-button")&&e.remove()})})}}},{key:"createDynamicButtons",value:function(e){var t=this.renderer.createElement("div");this.renderer.addClass(t,"multiword-button");var n=this.renderer.createElement("button"),i=this.renderer.createElement("button"),o=this.renderer.createElement("i");this.renderer.addClass(o,"fas"),this.renderer.addClass(o,"fa-check");var r=this.renderer.createElement("i");this.renderer.addClass(r,"fas"),this.renderer.addClass(r,"fa-times"),this.renderer.appendChild(n,o),this.renderer.appendChild(i,r),this.renderer.setStyle(n,"position","absolute"),this.renderer.setStyle(n,"top","-1.5rem"),this.renderer.setStyle(o,"font-size","10px"),this.renderer.setStyle(o,"width","10px"),this.renderer.addClass(n,"ok-button"),this.renderer.addClass(i,"no-button"),this.renderer.setStyle(i,"position","absolute"),this.renderer.setStyle(i,"top","-1.5rem"),this.renderer.setStyle(r,"font-size","10px"),this.renderer.setStyle(r,"width","10px"),this.renderer.setStyle(i,"left","1.5rem"),this.renderer.appendChild(t,n),this.renderer.appendChild(t,i),this.renderer.appendChild(e,t)}},{key:"populateLocalAnnotation",value:function(e){var t=this;this.token_annotationArray=[],this.annotationArray.forEach(function(n){var i,o;t.isEmptyFile?(i=e.spans[0].start,o=e.spans[0].end):(i=e.begin,o=e.end),n.spans.forEach(function(e){e.start>=i&&e.end<=o&&t.token_annotationArray.push(n)})}),this.token_annotationArray.length>0&&(this.lexicalService.triggerAttestationPanel(!0),this.lexicalService.sendToAttestationPanel(this.token_annotationArray))}},{key:"bindSelection",value:function(e,t,n){var i=this;console.log(this.object[n]),this.token_annotationArray=[],this.annotationArray.forEach(function(e){var t=i.object[n].begin,o=i.object[n].end;1==e.spans.length&&e.spans.forEach(function(n){n.start>=t&&n.end<=o&&i.token_annotationArray.push(e)})}),this.token_annotationArray.length>0?(this.lexicalService.triggerAttestationPanel(!0),this.lexicalService.sendToAttestationPanel(this.token_annotationArray)):(this.lexicalService.triggerAttestationPanel(!1),this.lexicalService.sendToAttestationPanel(null)),setTimeout(function(){i.message="",i.object[n].editing=!0,i.message=window.getSelection().toString(),""==i.selectedPopover.htmlNodeName?(i.selectedPopover.htmlNodeName=e._ngbPopoverWindowId,i.selectedPopover.tokenId=n):e._ngbPopoverWindowId!=i.selectedPopover&&(i.selectedPopover.htmlNodeName=e._ngbPopoverWindowId,i.selectedPopover.tokenId=n,i.object.forEach(function(e){e.editing=e.id==n+1})),e.isOpen()||e.isOpen()||e.open();var o=e._elementRef.nativeElement,r=o.innerText,a=document.getSelection();if(null!=a.anchorNode&&null!=a.focusNode)if(a.anchorNode.parentNode==a.focusNode.parentNode&&""!=i.message)if(a.anchorNode.textContent.trim().length==r.length&&i.message!=r){var s=a.anchorOffset,c=a.focusOffset;if(s>c){var l=s;s=c,c=l}console.log(s),console.log(c),o.innerText="";var u=i.renderer.createElement("span"),f=i.renderer.createText(r.substring(0,s)),d=i.renderer.createText(i.message),h=i.renderer.createText(r.substring(c,r.length));i.renderer.appendChild(u,d),i.renderer.appendChild(o,u),i.renderer.addClass(u,"mark"),i.renderer.setAttribute(u,"startoffset",s.toString()),i.renderer.setAttribute(u,"endoffset",c.toString()),""!=f.textContent&&i.renderer.insertBefore(o,f,u),""!=h.textContent&&i.renderer.appendChild(o,h),i.spanSelection={},i.spanSelection.start=i.object[n].begin+s,i.spanSelection.end=i.object[n].begin+c,i.annotatorService.triggerSearch(i.message)}else a.anchorNode.textContent.trim().length==r.length&&i.message==r&&(i.message="",i.annotatorService.triggerSearch(r));else""==i.message&&(i.annotatorService.triggerSearch(r),i.spanSelection={},i.spanSelection.start=0,i.spanSelection.end=0);if(/(^|\s)(multiword-span-\d)(\s|$)/.test(t.target.parentElement.className)){var p=Array.from(document.querySelectorAll("[class*=multiword-span-]"));p.forEach(function(e){console.log(e),e.textContent})}},10)}},{key:"triggerEmptySearch",value:function(){this.annotatorService.triggerSearch("")}},{key:"deleteAnnotation",value:function(e,t,n){var i=this;this.annotatorService.deleteAnnotation(e.id).subscribe(function(e){console.log(e),i.lexicalService.triggerAttestationPanel(!1)},function(e){console.log(e)}),this.token_annotationArray.splice(t,1),this.annotationArray.splice(t,1)}},{key:"showAllAnnotations",value:function(){this.lexicalService.triggerAttestationPanel(!0),this.lexicalService.sendToAttestationPanel(this.annotationArray)}},{key:"replaceBetween",value:function(e,t,n,i){return e.substring(0,t)+i+e.substring(n)}}]),e}()).\u0275fac=function(e){return new(e||vv)(i.Lb(xh),i.Lb(dp),i.Lb(up),i.Lb(i.E),i.Lb(ap),i.Lb(vs.e),i.Lb(Pu.b),i.Lb(sp.a),i.Lb(Hg.e))},vv.\u0275cmp=i.Fb({type:vv,selectors:[["app-epigraphy-form"]],viewQuery:function(e,t){var n;1&e&&(i.Pc(tv,!0),i.Pc(nv,!0)),2&e&&(i.uc(n=i.cc())&&(t.searchForm=n.first),i.uc(n=i.cc())&&(t.spanPopovers=n))},hostBindings:function(e,t){1&e&&i.bc("mouseup",function(e){return t.onMouseUp(e)},!1,i.xc)("mousedown",function(e){return t.onGlobalClick(e)},!1,i.xc)("keydown",function(e){return t.enableMultiword(e)},!1,i.yc)("keyup",function(e){return t.disableMultiword(e)},!1,i.yc)},inputs:{epiData:"epiData"},features:[i.wb],decls:8,vars:6,consts:[[1,"card"],[1,"card-body"],["class","form-group row ml-2 mt-3 mr-2 showall",4,"ngIf"],["class","form-group row ml-2 mt-3 mr-2",4,"ngIf"],["class","form-group row ml-2 mt-3 mr-2 empty",4,"ngIf"],[3,"formGroup",4,"ngIf"],["class","card mt-2",4,"ngIf"],[1,"form-group","row","ml-2","mt-3","mr-2","showall"],["title","Show all annotations",1,"btn","btn-light","btn-lg",3,"click"],[1,"fas","fa-eye"],[1,"form-group","row","ml-2","mt-3","mr-2"],[1,"form-group","row","ml-2","mt-3","mr-2","empty"],[1,"mr-2"],["type","button","container","body","popoverTitle","Pop title","popoverClass","token_modal",1,"btn","btn-outline-secondary","token","mb-2",3,"autoClose","ngbPopover","placement","click"],["button_modal","ngbPopover"],[1,"fa","fa-plus"],["tokenPopover",""],[1,"card-header"],[3,"bind"],["search_form",""],[3,"formGroup"],[1,"form-group","row","ml-2","mt-3","mr-2","panel"],["class","panel-body",4,"ngFor","ngForOf"],[1,"panel-body"],["container","body","popoverClass","token_modal",2,"display","block",3,"ngClass","triggers","placement","popoverTitle","animation","autoClose","disablePopover","ngbPopover","mouseenter","mouseleave","mousedown","mouseup"],["span_modal","ngbPopover"],[1,"card","mt-2"],["class","form-group row ml-2 mt-3 mr-2 leiden_raw p-2","style","font-family: 'NewAthena';",4,"ngIf"],[1,"form-group","row","ml-2","mt-3","mr-2","leiden_raw","p-2",2,"font-family","NewAthena"],[1,"pl-3"],[4,"ngFor","ngForOf"],["class","form-group row ml-2 mt-3 mr-2 leiden_raw p-2",4,"ngIf"],[1,"form-group","row","ml-2","mt-3","mr-2","leiden_raw","p-2"],[1,"row","align-items-baseline"],[1,"col-6","border-right"],[1,"col-6"]],template:function(e,t){1&e&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Ic(2,iv,3,0,"div",2),i.Ic(3,ov,3,0,"div",3),i.Ic(4,av,8,3,"div",4),i.Ic(5,uv,3,2,"form",5),i.Qb(),i.Qb(),i.Ic(6,pv,4,2,"div",6),i.Ic(7,mv,4,2,"div",6)),2&e&&(i.yb(2),i.mc("ngIf",0!=t.annotationArray.length),i.yb(1),i.mc("ngIf",null!=t.object&&0!=t.object.length),i.yb(1),i.mc("ngIf",t.isEmptyFile),i.yb(1),i.mc("ngIf",null!=t.object&&0!=t.object.length),i.yb(1),i.mc("ngIf",0!=t.leidenLines.length),i.yb(1),i.mc("ngIf",0!=t.translation_array.length))},directives:[a.n,Hg.d,ev,vs.z,vs.o,vs.i,a.m,a.l],styles:[".row[_ngcontent-%COMP%]{align-items:center}.showall[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:.25rem;padding:0 .75rem}.empty[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .showall[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:12px}.leiden[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;padding:.375rem .75rem!important}.form-control[_ngcontent-%COMP%]{font-size:12px;height:2rem}.form-check-input[_ngcontent-%COMP%]{margin-top:0}#accordion[_ngcontent-%COMP%]{width:100%}.text-id[_ngcontent-%COMP%]{left:10px;top:-12px;padding:5px 10px;font-size:12px}.collapse-icon[_ngcontent-%COMP%], .text-id[_ngcontent-%COMP%]{position:absolute;background:#fff;text-align:center;color:#212529}.collapse-icon[_ngcontent-%COMP%]{right:4px;top:-16px;padding:5px;font-size:16px}.badge[_ngcontent-%COMP%]{font-size:11px}.pointer[_ngcontent-%COMP%]{cursor:pointer}form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:14px}.panel[_ngcontent-%COMP%]   .token[_ngcontent-%COMP%]{padding:0;border:1px solid transparent;font-size:14px;font-weight:300}.mark[_ngcontent-%COMP%]{background-color:rgba(251,255,0,.611764705882353)}.mark[_ngcontent-%COMP%], .mark_test[_ngcontent-%COMP%]{padding:.3rem 0!important}.mark_test[_ngcontent-%COMP%]{background-color:rgba(255,0,0,.5333333333333333)}.annotation[_ngcontent-%COMP%]{border:2px dashed #5f9ea0!important}.annotation_entire[_ngcontent-%COMP%]{background-color:rgba(0,255,21,.5568627450980392);padding:.3rem 0!important;border:2px dashed #006a6a!important}.unselectable[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.panel-body[_ngcontent-%COMP%]   .token.editing[_ngcontent-%COMP%], .panel-body[_ngcontent-%COMP%]   .token.selected[_ngcontent-%COMP%]{border-color:#0059ff;border-width:1px;transition:border .2s ease}.panel-body.multiword[_ngcontent-%COMP%]{border:1px solid #ff7300;transition:border .2s ease;position:relative}.panel-body.multiword[_ngcontent-%COMP%] + .panel-body.multiword[_ngcontent-%COMP%]{border-color:#ff7300;border-left:none;transition:border .2s ease;position:relative}.panel-body[_ngcontent-%COMP%]:hover.token{border-color:#0059ff;border-width:1px;transition:border .2s ease}div[class*=multiword-span-][_ngcontent-%COMP%]{border:1px solid #6f0}div[class*=multiword-span-][_ngcontent-%COMP%] + div[class*=multiword-span-][_ngcontent-%COMP%]{border:1px solid #6f0;border-left:#6f0}.leiden_raw[_ngcontent-%COMP%]{font-size:14px;font-weight:300}"]}),vv),_v=["expanderEpigraphy"];function Cv(e,t){if(1&e&&(i.Rb(0,"span",17),i.Kc(1),i.Qb()),2&e){var n=i.fc();i.yb(1),i.Mc(" ",n.name," ")}}var kv,Ov,xv,wv=((kv=function(){function e(t,n,i){_classCallCheck(this,e),this.documentService=t,this.expand=n,this.rend=i,this.exp_trig=""}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.subscription=this.documentService.epigraphyData$.subscribe(function(t){e.object!=t&&(e.epigraphyData=null),console.log(t),null!=t?(e.object=t,e.epigraphyData=e.object,null!=e.object&&setTimeout(function(){$("#epigraphyTabModal").modal("hide"),$(".modal-backdrop").remove();var e=setInterval(function(t){try{$("#epigraphyTabModal").modal("hide"),$("#epigraphyTabModal").is(":visible")||clearInterval(e)}catch(n){console.log(n)}},10)},500)):e.epigraphyData=null},function(e){}),this.expand.expEpigraphy$.subscribe(function(t){setTimeout(function(){if(t){var n=e.expand.isEditTabExpanded();e.expand.isEpigraphyTabExpanded(),n?(e.rend.setStyle(e.expander_body.nativeElement,"height","calc(50vh - 10rem)"),e.exp_trig="in",e.rend.setStyle(e.expander_body.nativeElement,"max-height","calc(50vh - 10rem)")):(e.rend.setStyle(e.expander_body.nativeElement,"height","calc(100vh - 15rem)"),e.exp_trig="in",e.rend.setStyle(e.expander_body.nativeElement,"max-height","calc(100vh - 15rem)"))}else{if(null==t)return;e.rend.setStyle(e.expander_body.nativeElement,"height","calc(50vh - 10rem)"),e.rend.setStyle(e.expander_body.nativeElement,"max-height","calc(50vh - 10rem)"),e.exp_trig="out"}},100)}),this.expand.expEdit$.subscribe(function(t){setTimeout(function(){if(t)e.exp_trig="in",e.rend.setStyle(e.expander_body.nativeElement,"height","calc(50vh - 10rem)"),e.rend.setStyle(e.expander_body.nativeElement,"max-height","calc(50vh - 10rem)");else{if(null==t)return;e.rend.setStyle(e.expander_body.nativeElement,"max-height","calc(50vh - 10rem)"),e.exp_trig="out"}},100)})}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||kv)(i.Lb(ap),i.Lb(up),i.Lb(i.E))},kv.\u0275cmp=i.Fb({type:kv,selectors:[["app-epigraphy-tab"]],viewQuery:function(e,t){var n;1&e&&i.Pc(_v,!0),2&e&&i.uc(n=i.cc())&&(t.expander_body=n.first)},decls:20,vars:4,consts:[["id","cardsAccordion",1,"accordion",3,"hidden"],[1,"card","my-2"],[1,"card-header"],[1,"mb-0","w-100","d-flex","justify-content-between","align-self-center"],["class","btn",4,"ngIf"],[1,"card-body","epigraphy-tab-body"],["expanderEpigraphy",""],["id","epigraphyTabModal","role","dialog",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[3,"epiData"],[1,"card-footer","text-muted"],[1,"w-100","d-flex","justify-content-between","align-items-center"],[1,"btn"]],template:function(e,t){1&e&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Rb(2,"div",2),i.Rb(3,"h5",3),i.Rb(4,"div"),i.Ic(5,Cv,2,1,"span",4),i.Qb(),i.Mb(6,"div"),i.Qb(),i.Qb(),i.Rb(7,"div",5,6),i.Rb(9,"div",7),i.Rb(10,"div",8),i.Rb(11,"div",9),i.Rb(12,"div",10),i.Rb(13,"div",11),i.Rb(14,"div",12),i.Rb(15,"span",13),i.Kc(16,"Loading..."),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Mb(17,"app-epigraphy-form",14),i.Qb(),i.Rb(18,"div",15),i.Mb(19,"div",16),i.Qb(),i.Qb(),i.Qb()),2&e&&(i.mc("hidden",null==t.object),i.yb(5),i.mc("ngIf",null!=t.object),i.yb(2),i.mc("@slideInOut",t.exp_trig),i.yb(10),i.mc("epiData",t.epigraphyData))},directives:[a.n,yv],styles:["h5[_ngcontent-%COMP%]{font-size:16px}.btn[_ngcontent-%COMP%], .card[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-size:12px}.card-header[_ngcontent-%COMP%]{padding:0}.card-footer[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]{background-color:#dee2e6}.card-body[_ngcontent-%COMP%]{max-height:calc(50vh - 13rem);min-height:calc(50vh - 13rem);overflow:auto}.remove_element_modal[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{max-height:unset!important;min-height:unset!important}.btn-group[_ngcontent-%COMP%] > .btn-group[_ngcontent-%COMP%]:not(:last-child) > .btn[_ngcontent-%COMP%], .btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:not(:last-child):not(.dropdown-toggle){border-top-right-radius:.25rem!important;border-bottom-right-radius:.25rem!important}.dropdown-item[_ngcontent-%COMP%]{font-size:12px}.nav-link[_ngcontent-%COMP%]   .xml-icon[_ngcontent-%COMP%]{max-height:25px;overflow:hidden}.text-preview[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}"],data:{animation:[Object(Ug.j)("slideInOut",[Object(Ug.g)("in",Object(Ug.h)({height:"calc(100vh - 15rem)"})),Object(Ug.g)("out",Object(Ug.h)({height:"calc(50vh - 10rem)"})),Object(Ug.i)("in => out",Object(Ug.e)("400ms ease-in-out")),Object(Ug.i)("out => in",Object(Ug.e)("400ms ease-in-out"))])]}}),kv),Mv=["navTabsEpigraphy"],Pv=["navContentEpigraphy"],Ev=function(e){return{disabled:e}},Sv=((Ov=function(){function e(t,n){_classCallCheck(this,e),this.documentService=t,this.exp=n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.exp.openEpigraphy$.subscribe(function(e){e&&setTimeout(function(){document.querySelectorAll("#epigraphy-dettaglio").forEach(function(e){e.classList.contains("show")||e.classList.add("show")}),document.querySelectorAll('a[data-target="#epigraphy-dettaglio"]').forEach(function(e){e.classList.contains("collapsed")&&e.classList.remove("collapsed")})},100)}),this.subscription=this.documentService.epigraphyData$.subscribe(function(t){null!=t?setTimeout(function(){var n=e.navtabs.nativeElement.querySelectorAll("a");e.object=t,n.forEach(function(e){"Epigraphy"==e.text?e.classList.add("active"):e.classList.remove("active")}),e.navcontent.nativeElement.querySelectorAll(".tab-pane").forEach(function(e){"epigraphy"==e.id?(e.classList.add("active"),e.classList.add("show")):(e.classList.remove("active"),e.classList.remove("show"))})},200):(e.object=null,setTimeout(function(){var n=e.navtabs.nativeElement.querySelectorAll("a");e.object=t,n.forEach(function(e){"Epigraphy"==e.text&&e.classList.remove("active")}),e.navcontent.nativeElement.querySelectorAll(".tab-pane").forEach(function(e){"epigraphy"==e.id&&(e.classList.remove("active"),e.classList.remove("show"))})},200))})}},{key:"triggerExpansionEpigraphy",value:function(){var e=this;setTimeout(function(){!e.exp.isEditTabOpen()&&e.exp.isEpigraphyTabOpen()?!e.exp.isEditTabExpanded()&&e.exp.isEpigraphyTabExpanded()&&(e.exp.openCollapseEpigraphy(),e.exp.expandCollapseEpigraphy()):e.exp.isEditTabOpen()||e.exp.isEpigraphyTabOpen()?e.exp.isEditTabOpen()&&e.exp.isEpigraphyTabOpen()?(e.exp.openCollapseEpigraphy(),e.exp.expandCollapseEdit(!0)):e.exp.isEditTabOpen()&&!e.exp.isEpigraphyTabOpen()&&e.exp.isEditTabExpanded()&&!e.exp.isEpigraphyTabExpanded()&&(e.exp.expandCollapseEdit(!1),e.exp.openCollapseEpigraphy(!0)):e.exp.isEditTabExpanded()||e.exp.isEpigraphyTabExpanded()||(e.exp.openCollapseEpigraphy(),e.exp.expandCollapseEpigraphy())},200)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Ov)(i.Lb(ap),i.Lb(up))},Ov.\u0275cmp=i.Fb({type:Ov,selectors:[["app-epigraphy-detail"]],viewQuery:function(e,t){var n;1&e&&(i.Pc(Mv,!0),i.Pc(Pv,!0)),2&e&&(i.uc(n=i.cc())&&(t.navtabs=n.first),i.uc(n=i.cc())&&(t.navcontent=n.first))},decls:16,vars:3,consts:[[1,"card"],["id","headingOne",1,"card-header",2,"text-align","right"],["id","editDictTab","role","tablist",1,"nav","nav-tabs",3,"ngClass"],["navTabsEpigraphy",""],[1,"nav-item"],["id","epigraphy-tab","data-toggle","tab","href","#epigraphy","role","tab","aria-controls","epigraphy","aria-selected","true",1,"nav-link"],[1,"ml-auto","mb-0"],["data-toggle","collapse","data-target","#epigraphy-dettaglio","aria-expanded","false","aria-controls","epigraphy-dettaglio",1,"btn","btn-link","w-100","d-flex","align-self-center",3,"click"],[1,"fa","ml-auto"],["id","epigraphy-dettaglio","aria-labelledby","headingOne",1,"collapse","show"],[1,"card-body"],["id","myTabContent",1,"tab-content"],["navContentEpigraphy",""],["id","epigraphy","role","tabpanel","aria-labelledby","epigraphy-tab",1,"tab-pane","fade","show","active"]],template:function(e,t){1&e&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Rb(2,"ul",2,3),i.Rb(4,"li",4),i.Rb(5,"a",5),i.Kc(6,"Epigraphy"),i.Qb(),i.Qb(),i.Rb(7,"h5",6),i.Rb(8,"a",7),i.bc("click",function(){return t.triggerExpansionEpigraphy()}),i.Mb(9,"i",8),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(10,"div",9),i.Rb(11,"div",10),i.Rb(12,"div",11,12),i.Rb(14,"div",13),i.Mb(15,"app-epigraphy-tab"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb()),2&e&&(i.yb(2),i.mc("ngClass",i.qc(1,Ev,null===t.object)))},directives:[a.l,wv],styles:['@charset "UTF-8";[data-toggle=collapse][_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"\uf146"}[data-toggle=collapse].collapsed[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"\uf0fe"}.fa[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{text-decoration:none;font-size:12px}.nav-tabs[_ngcontent-%COMP%]{border-bottom:none}.disabled[_ngcontent-%COMP%]{pointer-events:none}.disabled[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%], .disabled[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#aeaeae}.fa[_ngcontent-%COMP%]{margin-top:2px}.card-header[_ngcontent-%COMP%]{padding:0;font-size:12px}']}),Ov),Rv=["cognatePanelModal"],Iv=((xv=function(){function e(t){_classCallCheck(this,e),this.lexicalService=t}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"triggerCognatePanel",value:function(e){var t=this;setTimeout(function(){t.cognatePanelModal.show()},100)}},{key:"onCloseModal",value:function(e,t){this.lexicalService.closePanelForm(e,t),console.log(this.lexicalService.getAllPanelForms())}}]),e}()).\u0275fac=function(e){return new(e||xv)(i.Lb(sp.a))},xv.\u0275cmp=i.Fb({type:xv,selectors:[["app-cognate-panel"]],viewQuery:function(e,t){var n;1&e&&i.Pc(Rv,!0),2&e&&i.uc(n=i.cc())&&(t.cognatePanelModal=n.first)},decls:6,vars:5,consts:[[1,"panelFormData",2,"top","10%",3,"maximizable","inViewport","backdrop","closeModal"],["cognatePanelModal",""],[1,"app-modal-header"],[1,"app-modal-body"],[3,"lexData"]],template:function(e,t){1&e&&(i.Rb(0,"app-modal",0,1),i.bc("closeModal",function(){return t.onCloseModal(t.cogInstanceName,t.lexicalEntryId)}),i.Pb(2,2),i.Kc(3),i.Ob(),i.Pb(4,3),i.Mb(5,"app-lexical-entry-core-form",4),i.Ob(),i.Qb()),2&e&&(i.mc("maximizable",!1)("inViewport",!0)("backdrop",!1),i.yb(3),i.Lc(t.label),i.yb(2),i.mc("lexData",t.lexicalEntryData))},styles:[""]}),xv),Av=n("x8j5"),Tv=["cognatePanel"];function Dv(e,t){1&e&&(i.Rb(0,"div",44),i.Kc(1," Please, insert at least three characters. "),i.Qb())}function jv(e,t){if(1&e&&i.Mb(0,"input",49),2&e){var n=i.fc(4);i.mc("value",n.coreForm.get("confidence").value)}}function Fv(e,t){if(1&e){var n=i.Sb();i.Rb(0,"button",50),i.bc("click",function(){i.zc(n);var e=i.fc().$implicit;return e.confidence=!e.confidence}),i.Mb(1,"i",51),i.Qb()}}function Qv(e,t){if(1&e){var n=i.Sb();i.Rb(0,"button",50),i.bc("click",function(){i.zc(n);var e=i.fc().$implicit,t=i.fc(3);return e.confidence=!e.confidence,t.applyUncertain()}),i.Mb(1,"i",52),i.Qb()}}function Lv(e,t){if(1&e&&(i.Rb(0,"div",4),i.Rb(1,"div",33),i.Rb(2,"label",45),i.Kc(3,"Uncertain"),i.Qb(),i.Qb(),i.Rb(4,"div",46),i.Ic(5,jv,1,1,"input",47),i.Ic(6,Fv,2,0,"button",48),i.Ic(7,Qv,2,0,"button",48),i.Qb(),i.Qb()),2&e){var n=t.$implicit;i.yb(5),i.mc("ngIf",n.confidence),i.yb(1),i.mc("ngIf",!n.confidence),i.yb(1),i.mc("ngIf",n.confidence)}}function Nv(e,t){if(1&e&&(i.Rb(0,"option",60),i.Kc(1),i.Qb()),2&e){var n=t.$implicit,o=i.fc(4);i.mc("selected",o.coreForm.get("type").value===n.valueId),i.yb(1),i.Mc(" ",n.valueId," ")}}function zv(e,t){if(1&e&&(i.Rb(0,"button",61),i.Mb(1,"i",21),i.Qb()),2&e){var n=i.fc(4);i.zb("data-original-title",n.typeDesc)}}function Vv(e,t){1&e&&(i.Rb(0,"button",62),i.Mb(1,"i",21),i.Qb())}function Bv(e,t){if(1&e&&(i.Rb(0,"div",4),i.Rb(1,"div",53),i.Rb(2,"label",54),i.Kc(3,"Type:"),i.Qb(),i.Qb(),i.Rb(4,"div",55),i.Rb(5,"select",56),i.Ic(6,Nv,2,2,"option",18),i.Qb(),i.Rb(7,"div",19),i.Ic(8,zv,2,1,"button",57),i.Ic(9,Vv,2,0,"button",58),i.Qb(),i.Rb(10,"div",19),i.Rb(11,"button",59),i.Kc(12,"Cognate"),i.Qb(),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc().$implicit,o=i.fc(2);i.yb(6),i.mc("ngForOf",o.lexEntryTypesData),i.yb(2),i.mc("ngIf",!n.etymon),i.yb(1),i.mc("ngIf",n.etymon),i.yb(2),i.Gc("visibility",o.coreForm.get("isCognate").value?"visible":"hidden")}}function Uv(e,t){if(1&e&&(i.Rb(0,"option",63),i.Kc(1),i.Qb()),2&e){var n=t.$implicit,o=i.fc(3);i.mc("value",n.label.toLowerCase())("selected",o.object.language.toLowerCase()==n.label.toLowerCase()),i.yb(1),i.Mc("",n.label," ")}}function Hv(e,t){1&e&&(i.Rb(0,"div",44),i.Kc(1," Please, don't leave this field blank "),i.Qb())}var Kv=function(e){return{confidence:e}};function qv(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div"),i.Rb(1,"div",4),i.Rb(2,"label",26),i.Kc(3,"Label:"),i.Qb(),i.Rb(4,"div",27),i.Mb(5,"input",32),i.Ic(6,Dv,2,0,"div",22),i.Qb(),i.Qb(),i.Rb(7,"div",4),i.Rb(8,"div",33),i.Rb(9,"label",34),i.Kc(10,"Etymon"),i.Qb(),i.Qb(),i.Rb(11,"div",35),i.Rb(12,"div",36),i.Rb(13,"input",37),i.bc("change",function(){i.zc(n);var e=t.$implicit,o=i.fc(2);return e.etymon=!e.etymon,o.isEtymon(e.etymon)}),i.Qb(),i.Mb(14,"label",38),i.Qb(),i.Qb(),i.Qb(),i.Ic(15,Lv,8,3,"div",39),i.Ic(16,Bv,13,5,"div",39),i.Rb(17,"div",4),i.Rb(18,"label",40),i.Kc(19,"Language:"),i.Qb(),i.Rb(20,"div",41),i.Rb(21,"select",42),i.bc("change",function(e){return i.zc(n),i.fc(2).onChangeLanguage(e)}),i.Rb(22,"option",17),i.Kc(23,"Select language...."),i.Qb(),i.Ic(24,Uv,2,3,"option",43),i.Qb(),i.Ic(25,Hv,2,0,"div",22),i.Qb(),i.Qb(),i.Qb()}if(2&e){var o=t.$implicit,r=i.fc(2);i.yb(6),i.mc("ngIf",r.emptyLabelFlag),i.yb(7),i.mc("checked","Etymon"==r.coreForm.get("type").value),i.yb(2),i.mc("ngIf",i.qc(6,Kv,r.coreForm.get("confidence").value>=0)),i.yb(1),i.mc("ngIf",!o.etymon),i.yb(8),i.mc("ngForOf",r.languages),i.yb(1),i.mc("ngIf",""==r.coreForm.get("language").value)}}function $v(e,t){if(1&e&&(i.Rb(0,"option",60),i.Kc(1),i.Qb()),2&e){var n=t.$implicit,o=i.fc(2);i.mc("selected",n.valueId==o.object.pos),i.yb(1),i.Mc(" ",n.valueId,"")}}function Wv(e,t){1&e&&(i.Rb(0,"div",44),i.Kc(1," Please, don't leave this field blank "),i.Qb())}function Gv(e,t){if(1&e&&(i.Rb(0,"option",60),i.Kc(1),i.Qb()),2&e){var n=t.$implicit,o=i.fc(2).$implicit;i.mc("selected",o.value===n.valueId),i.yb(1),i.Lc(n.valueId)}}function Yv(e,t){if(1&e&&(i.Rb(0,"button",71),i.Mb(1,"i",21),i.Qb()),2&e){var n=i.fc(2).index,o=i.fc(2);i.zb("data-original-title",o.coreForm.get("morphoTraits").at(n).get("description").value)}}function Xv(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",12),i.Rb(1,"div",13),i.Rb(2,"label",65),i.Kc(3),i.Qb(),i.Qb(),i.Rb(4,"div",15),i.Rb(5,"select",66),i.bc("change",function(e){i.zc(n);var t=i.fc().index;return i.fc(2).onChangeExistingValue(e,t)}),i.Ic(6,Gv,2,2,"option",18),i.Qb(),i.Rb(7,"div",19),i.Ic(8,Yv,2,1,"button",67),i.Qb(),i.Rb(9,"div",68),i.bc("click",function(){i.zc(n);var e=i.fc().index;return i.fc(2).removeElement(e)}),i.Rb(10,"button",69),i.Mb(11,"i",70),i.Qb(),i.Qb(),i.Qb(),i.Qb()}if(2&e){var o=i.fc(),r=o.$implicit,a=o.index,s=i.fc(2);i.yb(3),i.Lc(r.trait),i.yb(3),i.mc("ngForOf",s.valueTraits[a]),i.yb(2),i.mc("ngIf",null!=(null==s.coreForm.controls.morphoTraits?null:s.coreForm.controls.morphoTraits.value[a]))}}function Zv(e,t){if(1&e&&(i.Pb(0),i.Ic(1,Xv,12,3,"div",64),i.Ob()),2&e){var n=t.$implicit;i.yb(1),i.mc("ngIf","partOfSpeech"!=n.trait)}}function Jv(e,t){if(1&e&&(i.Rb(0,"option",80),i.Kc(1),i.Qb()),2&e){var n=t.$implicit,o=i.fc(2).$implicit,r=i.fc(2);i.mc("selected",o.value.trait===n.propertyId)("disabled",r.memoryTraits.indexOf(n.propertyId)>-1||"partOfSpeech"==n.propertyId),i.yb(1),i.Lc(n.propertyId)}}function ey(e,t){1&e&&(i.Rb(0,"div",44),i.Kc(1," Please, don't leave this field blank "),i.Qb())}function ty(e,t){if(1&e&&(i.Rb(0,"option",60),i.Kc(1),i.Qb()),2&e){var n=t.$implicit,o=i.fc(2),r=o.index;i.mc("selected",o.$implicit.value.value===n.valueId),i.zb("data-index",r),i.yb(1),i.Lc(n.valueId)}}function ny(e,t){1&e&&(i.Rb(0,"div",44),i.Kc(1," Please, don't leave this field blank "),i.Qb())}function iy(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",74),i.Rb(1,"div",75),i.Rb(2,"select",76),i.bc("change",function(e){i.zc(n);var t=i.fc().index;return i.fc(2).onChangeTrait(e,t)}),i.Rb(3,"option",17),i.Kc(4,"Select a trait..."),i.Qb(),i.Ic(5,Jv,2,3,"option",77),i.Qb(),i.Ic(6,ey,2,0,"div",22),i.Qb(),i.Rb(7,"div",78),i.Rb(8,"select",79),i.bc("change",function(){i.zc(n);var e=i.fc().index;return i.fc(2).onChangeValue(e)}),i.Rb(9,"option",17),i.Kc(10,"Select a value..."),i.Qb(),i.Ic(11,ty,2,3,"option",18),i.Qb(),i.Rb(12,"div",68),i.bc("click",function(){i.zc(n);var e=i.fc().index;return i.fc(2).removeElement(e)}),i.Rb(13,"button",69),i.Mb(14,"i",70),i.Qb(),i.Qb(),i.Ic(15,ny,2,0,"div",22),i.Qb(),i.Qb()}if(2&e){var o=i.fc(),r=o.index,a=o.$implicit,s=i.fc(2);i.yb(1),i.mc("formGroupName",r),i.yb(4),i.mc("ngForOf",s.morphologyData),i.yb(1),i.mc("ngIf",a.get("trait").invalid),i.yb(1),i.mc("formGroupName",r),i.yb(4),i.mc("ngForOf",s.valueTraits[r]),i.yb(4),i.mc("ngIf",a.get("value").invalid)}}function oy(e,t){if(1&e&&(i.Pb(0,72),i.Ic(1,iy,16,6,"div",73),i.Ob()),2&e){var n=t.index,o=i.fc(2);i.yb(1),i.mc("ngIf",n+1>o.staticMorpho.length)}}function ry(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",81),i.Rb(1,"div",82),i.Rb(2,"input",83),i.bc("keyup",function(e){i.zc(n);var o=t.index;return i.fc(2).handleDenotes(e,o)}),i.Qb(),i.Rb(3,"div",19),i.Rb(4,"a",84),i.Mb(5,"i",85),i.Qb(),i.Qb(),i.Rb(6,"div",19),i.Rb(7,"button",86),i.bc("click",function(){i.zc(n);var e=t.index;return i.fc(2).removeDenotes(e)}),i.Mb(8,"i",70),i.Qb(),i.Qb(),i.Qb(),i.Qb()}if(2&e){var o=t.$implicit,r=t.index;i.yb(1),i.mc("formGroupName",r),i.yb(1),i.mc("value",o.get("entity").value),i.yb(2),i.mc("href",o.get("entity").value,i.Bc)}}function ay(e,t){if(1&e&&(i.Rb(0,"div"),i.Rb(1,"span"),i.Kc(2),i.Qb(),i.Rb(3,"span",102),i.Kc(4),i.Qb(),i.Qb()),2&e){var n=t.item;i.yb(2),i.Mc("",n.label," "),i.yb(2),i.Mc("@",n.language,"")}}function sy(e,t){1&e&&i.Ic(0,ay,5,2,"ng-template",101)}function cy(e,t){if(1&e&&(i.Rb(0,"div",103),i.Rb(1,"h6",104),i.Kc(2),i.Qb(),i.Rb(3,"small"),i.Rb(4,"span"),i.Kc(5),i.Qb(),i.Qb(),i.Mb(6,"small",105),i.Qb()),2&e){var n=t.item,o=t.searchTerm;i.yb(1),i.mc("ngOptionHighlight",o),i.yb(1),i.Lc(n.labelElement),i.yb(3),i.Mc(" ",n.labelPos," ")}}function ly(e,t){1&e&&i.Ic(0,cy,7,3,"ng-template",101)}function uy(e,t){if(1&e){var n=i.Sb();i.Rb(0,"ng-select",99,100),i.bc("keyup",function(e){i.zc(n);var t=i.fc(2).index;return i.fc(2).triggerCognates(e,t)})("change",function(){i.zc(n);var e=i.vc(1),t=i.fc(2).index;return i.fc(2).handleCognates(e,t)})("focus",function(){return i.zc(n),i.fc(4).deleteData()}),i.Ic(2,sy,1,0,void 0,3),i.Ic(3,ly,1,0,void 0,3),i.Qb()}if(2&e){var o=i.fc(2).$implicit,r=i.fc(2);i.mc("dropdownPosition","top")("items",r.searchResults),i.yb(2),i.mc("ngIf",!o.get("lila").value),i.yb(1),i.mc("ngIf",o.get("lila").value)}}function fy(e,t){if(1&e){var n=i.Sb();i.Rb(0,"input",83),i.bc("keyup",function(e){i.zc(n);var t=i.fc(2).index;return i.fc(2).handleCognates(e,t)}),i.Qb()}if(2&e){var o=i.fc(2).$implicit;i.mc("value",o.get("entity").value)}}function dy(e,t){if(1&e&&(i.Rb(0,"div",106),i.Rb(1,"a",107),i.Mb(2,"i",108),i.Qb(),i.Qb()),2&e){var n=i.fc(2).$implicit;i.yb(1),i.mc("href",n.get("entity").value,i.Bc)}}function hy(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",109),i.Rb(1,"a",110),i.bc("click",function(){i.zc(n);var e=i.fc(2).$implicit;return i.fc(2).loadCognateData(e.get("instanceName").value,e.get("lexicalEntryInstanceName").value,e.get("label").value)}),i.Mb(2,"i",111),i.Qb(),i.Qb()}}function py(e,t){1&e&&i.Mb(0,"input",112)}function by(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",82),i.Ic(1,uy,4,4,"ng-select",89),i.Ic(2,fy,1,1,"input",90),i.Rb(3,"div",91),i.Rb(4,"input",92),i.bc("change",function(){var e=t.$implicit;return e.switch=!e.switch}),i.Qb(),i.Qb(),i.Ic(5,dy,3,1,"div",93),i.Ic(6,hy,3,0,"div",94),i.Rb(7,"div",19),i.Rb(8,"div",95),i.Rb(9,"label",96),i.Ic(10,py,1,0,"input",97),i.Mb(11,"img",98),i.Qb(),i.Qb(),i.Qb(),i.Rb(12,"div",19),i.Rb(13,"button",86),i.bc("click",function(){i.zc(n);var e=i.fc().index;return i.fc(2).removeCognates(e)}),i.Mb(14,"i",70),i.Qb(),i.Qb(),i.Qb()}if(2&e){var o=t.$implicit,r=i.fc(),a=r.$implicit;i.mc("formGroupName",r.index),i.yb(1),i.mc("ngIf",!o.switch&&"external"!=a.get("type").value),i.yb(1),i.mc("ngIf",o.switch||"external"==a.get("type").value),i.yb(3),i.mc("ngIf","external"==a.get("type").value&&""!=a.get("entity").value),i.yb(1),i.mc("ngIf","internal"==a.get("type").value&&""!=a.get("entity").value),i.yb(4),i.mc("ngIf",!o.switch&&"external"!=a.get("type").value)}}var gy=function(){return{switch:!1}};function my(e,t){1&e&&(i.Rb(0,"div",87),i.Ic(1,by,15,6,"div",88),i.Qb()),2&e&&(i.yb(1),i.mc("ngIf",i.pc(1,gy)))}var vy=function(e){return{etymon:e}},yy=function(e){return{no_pointer:e}};function _y(e,t){if(1&e){var n=i.Sb();i.Rb(0,"form",2),i.Ic(1,qv,26,8,"div",3),i.Rb(2,"div",4),i.Rb(3,"div",5),i.Rb(4,"div",6),i.Rb(5,"span",7),i.Rb(6,"b"),i.Kc(7,"MORPHOLOGY"),i.Qb(),i.Qb(),i.Rb(8,"a",8),i.bc("click",function(){return i.zc(n),i.fc().addMorphoTraits()}),i.Rb(9,"span",9),i.Mb(10,"i",10),i.Qb(),i.Qb(),i.Rb(11,"div",11),i.Rb(12,"div",12),i.Rb(13,"div",13),i.Rb(14,"label",14),i.Kc(15,"Part of speech:"),i.Qb(),i.Qb(),i.Rb(16,"div",15),i.Rb(17,"select",16),i.bc("change",function(e){return i.zc(n),i.fc().onChangePos(e)}),i.Rb(18,"option",17),i.Kc(19,"Select a value..."),i.Qb(),i.Ic(20,$v,2,2,"option",18),i.Qb(),i.Rb(21,"div",19),i.Rb(22,"button",20),i.Mb(23,"i",21),i.Qb(),i.Qb(),i.Ic(24,Wv,2,0,"div",22),i.Qb(),i.Qb(),i.Ic(25,Zv,2,1,"ng-container",23),i.Ic(26,oy,2,1,"ng-container",24),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(27,"div",25),i.Rb(28,"label",26),i.Kc(29,"Stem type:"),i.Qb(),i.Rb(30,"div",27),i.Mb(31,"input",28),i.Qb(),i.Qb(),i.Rb(32,"div",4),i.Rb(33,"div",5),i.Rb(34,"div",6),i.Rb(35,"span",7),i.Rb(36,"b"),i.Kc(37,"DENOTES"),i.Qb(),i.Qb(),i.Rb(38,"a",29),i.bc("click",function(){return i.zc(n),i.fc().addDenotes()}),i.Rb(39,"span",9),i.Mb(40,"i",10),i.Qb(),i.Qb(),i.Rb(41,"div",11),i.Ic(42,ry,9,3,"div",30),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(43,"div",4),i.Rb(44,"div",5),i.Rb(45,"div",6),i.Rb(46,"span",7),i.Rb(47,"b"),i.Kc(48,"COGNATES"),i.Qb(),i.Qb(),i.Rb(49,"a",8),i.bc("click",function(){return i.zc(n),i.fc().addCognates()}),i.Rb(50,"span",9),i.Mb(51,"i",10),i.Qb(),i.Qb(),i.Rb(52,"div",11),i.Ic(53,my,2,2,"div",31),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb()}if(2&e){var o=i.fc();i.mc("formGroup",o.coreForm),i.yb(1),i.mc("ngIf",i.qc(11,vy,"Etymon"==o.coreForm.get("type").value)),i.yb(7),i.mc("ngClass",i.qc(13,yy,o.disableAddMorpho)),i.yb(12),i.mc("ngForOf",o.valuePos),i.yb(2),i.zb("data-original-title",o.posDescription),i.yb(2),i.mc("ngIf",!o.coreForm.get("pos").valid),i.yb(1),i.mc("ngForOf",o.staticMorpho),i.yb(1),i.mc("ngForOf",o.coreForm.get("morphoTraits").controls),i.yb(16),i.mc("ngForOf",o.coreForm.get("denotes").controls),i.yb(7),i.mc("ngClass",i.qc(15,yy,o.disableAddCognates)),i.yb(4),i.mc("ngForOf",o.coreForm.get("cognates").controls)}}function Cy(e,t){}var ky,Oy=((ky=function(){function e(t,n,i,o,r){_classCallCheck(this,e),this.lexicalService=t,this.formBuilder=n,this.toastr=i,this.lilaService=o,this.factory=r,this.subject=new wc.a,this.switchInput=!1,this.peopleLoading=!1,this.counter=0,this.lexEntryTypesData=[],this.morphologyData=[],this.valueTraits=[],this.memoryTraits=[],this.memoryValues=[],this.languages=[],this.memoryDenotes=[],this.memoryCognates=[],this.memoryEvokes=[],this.valuePos=[],this.memoryPos="",this.posDescription="",this.typeDesc="",this.staticMorpho=[],this.searchResults=[],this.filterLoading=!1,this.denotes_subject=new wc.a,this.cognates_subject=new wc.a,this.evokes_subject=new wc.a,this.urlRegex=/(^|\s)((https?:\/\/.+))/,this.emptyLabelFlag=!1,this.emptyFlag=!1,this.disableAddMorpho=!1,this.coreForm=new vs.h({label:new vs.f("",[vs.x.required,vs.x.minLength(3)]),type:new vs.f(""),confidence:new vs.f(null),language:new vs.f("",[vs.x.required,vs.x.minLength(0)]),pos:new vs.f(""),morphoTraits:new vs.c([this.createMorphoTraits()]),stemType:new vs.f(""),evokes:new vs.c([this.createEvokes()]),denotes:new vs.c([this.createDenotes()]),cognates:new vs.c([this.createCognates()]),isCognate:new vs.f(null),isEtymon:new vs.f(null)}),this.disableAddCognates=!1,this.arrayComponents=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.denotes_subject.pipe(Object(ou.a)(1e3)).subscribe(function(t){e.onChangeDenotes(t)}),this.cognates_subject.pipe(Object(ou.a)(1e3)).subscribe(function(t){e.onChangeCognates(t)}),this.lexicalService.updateLangSelect$.subscribe(function(t){null!=t&&(e.languages=[],e.lexicalService.getLexiconLanguages().subscribe(function(t){console.log(t);for(var n=0;n<t.length;n++)e.languages[n]=t[n]}))}),this.lexicalService.getLexiconLanguages().subscribe(function(t){e.languages=[];for(var n=0;n<t.length;n++)e.languages[n]=t[n]}),this.subject.pipe(Object(ou.a)(1e3)).subscribe(function(t){e.onSearchFilter(t)}),this.loadMorphologyData(),this.loadLexEntryTypeData(),this.coreForm=this.formBuilder.group({label:"",type:"",confidence:null,language:"",pos:"",morphoTraits:this.formBuilder.array([]),stemType:"",evokes:this.formBuilder.array([this.createEvokes()]),denotes:this.formBuilder.array([this.createDenotes()]),cognates:this.formBuilder.array([this.createCognates()]),isCognate:!1,isEtymon:!1}),this.onChanges()}},{key:"triggerCognates",value:function(e,t){console.log(e),null!=e.target&&this.subject.next({value:e.target.value,index:t})}},{key:"loadLexEntryTypeData",value:function(){var e=this;this.lexicalService.getLexEntryTypes().subscribe(function(t){e.lexEntryTypesData=t})}},{key:"onSearchFilter",value:function(e){var t=this;this.filterLoading=!0,this.searchResults=[];var n=e.value,i=e.index;this.cognatesArray=this.coreForm.get("cognates"),null==this.object.lexicalEntryInstanceName||this.cognatesArray.at(i).get("lila").value?null!=this.object.lexicalEntryInstanceName&&this.cognatesArray.at(i).get("lila").value?(this.searchResults=[],this.lilaService.queryCognate(n).subscribe(function(e){if(console.log(e),e.list.length>0){var i=e.list.map(function(e){return{label:n,labelValue:e[0].value,pos:e[1].value}});i.forEach(function(e){var t=e.labelValue.split("/"),n=t[t.length-1],i=e.pos.split("/"),o=i[i.length-1];e.labelElement=n,e.labelPos=o}),t.searchResults=i,console.log(t.searchResults),t.filterLoading=!1}},function(e){console.log(e),t.filterLoading=!1})):this.filterLoading=!1:this.lexicalService.getLexicalEntriesList({text:n,searchMode:"startsWith",type:"",pos:"",formType:"entry",author:"",lang:"",status:"",offset:0,limit:500}).subscribe(function(e){console.log(e);var n=e.list.filter(function(e){return e.language!=t.object.language});n.forEach(function(e){e.label_lang=e.label+"@"+e.language}),console.log(n),t.searchResults=n,t.filterLoading=!1},function(e){t.filterLoading=!1})}},{key:"deleteData",value:function(){this.searchResults=[]}},{key:"loadMorphologyData",value:function(){var e=this;this.lexicalService.getMorphologyData().subscribe(function(t){e.morphologyData=t,e.valuePos=e.morphologyData.filter(function(e){return"partOfSpeech"==e.propertyId}),e.valuePos=e.valuePos[0].propertyValues})}},{key:"ngOnChanges",value:function(e){var t=this;setTimeout(function(){if(t.object!=e.lexData.currentValue&&(t.morphoTraits=t.coreForm.get("morphoTraits"),t.morphoTraits.clear(),t.denotesArray=t.coreForm.get("denotes"),t.denotesArray.clear(),t.cognatesArray=t.coreForm.get("cognates"),t.cognatesArray.clear(),t.evokesArray=t.coreForm.get("evokes"),t.evokesArray.clear(),t.disableAddCognates=!1,t.disableAddCognates=!1,t.memoryPos="",t.staticMorpho=[]),t.object=e.lexData.currentValue,null!=t.object){var n=t.object.lexicalEntryInstanceName;t.coreForm.get("label").setValue(t.object.label,{emitEvent:!1}),t.coreForm.get("stemType").setValue(t.object.stemType,{emitEvent:!1}),"Etymon"==t.object.type?t.coreForm.get("type").disable({onlySelf:!0,emitEvent:!1}):t.coreForm.get("type").enable({onlySelf:!0,emitEvent:!1}),t.coreForm.get("confidence").setValue(t.object.confidence,{emitEvent:!1}),t.object.type.forEach(function(e){return"Cognate"!=e&&(t.coreForm.get("type").setValue(e,{emitEvent:!1}),!0)}),t.object.type.find(function(e){return"Cognate"==e})?t.coreForm.get("isCognate").setValue(!0,{emitEvent:!1}):t.coreForm.get("isCognate").setValue(!1,{emitEvent:!1}),t.object.type.find(function(e){return"Etymon"==e})?t.coreForm.get("isEtymon").setValue(!0,{emitEvent:!1}):t.coreForm.get("isEtymon").setValue(!1,{emitEvent:!1}),t.coreForm.get("language").setValue(t.object.language,{emitEvent:!1}),t.coreForm.get("pos").setValue(t.object.pos,{emitEvent:!1}),t.memoryPos=t.object.pos,t.valueTraits=[],t.memoryTraits=[],t.memoryDenotes=[],t.memoryCognates=[],t.memoryValues=[],setTimeout(function(){for(var e=function(){var e=t.object.morphology[n].trait,i=t.object.morphology[n].value,o="";t.morphologyData.filter(function(t){return t.propertyId==e&&"partOfSpeech"!=e&&(t.propertyValues.filter(function(e){return e.valueId==i&&(o=e.valueDescription,!0)}),!0)}),t.memoryValues[n]=i,t.addMorphoTraits(e,i,o),t.onChangeTrait(e,n),t.staticMorpho.push({trait:e,value:i})},n=0;n<t.object.morphology.length;n++)e()},100),setTimeout(function(){var e=t.coreForm.get("pos").value;t.valuePos.forEach(function(n){n.valueId==e&&(t.posDescription=n.valueDescription)}),$(".pos-tooltip").tooltip({trigger:"hover"})},1e3),setTimeout(function(){$(".trait-tooltip").tooltip({trigger:"hover"})},1e3),setTimeout(function(){var e=t.coreForm.get("type").value;t.lexEntryTypesData.forEach(function(n){n.valueId==e&&(t.typeDesc=n.valueDescription)}),$(".type-tooltip").tooltip({trigger:"hover"})},1e3),t.lexicalService.getLexEntryLinguisticRelation(n,"denotes").subscribe(function(e){for(var n=0;n<e.length;n++)t.addDenotes(e[n].lexicalEntity,e[n].linkType),t.memoryDenotes.push(e[n])},function(e){}),t.lexicalService.getLexEntryLinguisticRelation(n,"cognate").subscribe(function(e){console.log(e);for(var n=0;n<e.length;n++)t.addCognates(e[n].label,e[n].lexicalEntityInstanceName,t.object.lexicalEntryInstanceName,e[n].lexicalEntity,e[n].linkType),t.memoryCognates.push(e[n])},function(e){console.log(e)})}},10)}},{key:"onChangeLanguage",value:function(e){var t=this;this.lexicalService.spinnerAction("on");var n,i=e.target.value;if(this.languages.forEach(function(e){e.label.toLowerCase()!=i.toLowerCase()||(n=e.label)}),null!=n){var o=this.object.lexicalEntryInstanceName;this.lexicalService.updateLexicalEntry(o,{relation:"language",value:n}).subscribe(function(e){t.lexicalService.spinnerAction("off"),t.lexicalService.updateCoreCard(e),e.request=0,e.new_lang=n.toLowerCase(),t.lexicalService.refreshAfterEdit(e),t.lexicalService.refreshLangTable(),t.lexicalService.refreshFilter({request:!0})},function(e){var i=t.object;i.request=0,i.new_lang=n.toLowerCase(),t.lexicalService.refreshAfterEdit(i),t.lexicalService.spinnerAction("off"),t.lexicalService.refreshLangTable(),t.lexicalService.refreshFilter({request:!0}),t.lexicalService.updateCoreCard({lastUpdate:e.error.text}),"object"!=typeof e.error?t.toastr.error(e.error,"Error",{timeOut:5e3}):t.toastr.success("Language changed correctly for "+o,"",{timeOut:5e3})})}else this.lexicalService.spinnerAction("off")}},{key:"onChangePos",value:function(e){var t=this;this.lexicalService.spinnerAction("on");var n,i=e.target.value,o=this.object.lexicalEntryInstanceName;n=""==this.memoryPos?{type:"morphology",relation:"partOfSpeech",value:i}:{type:"morphology",relation:"partOfSpeech",value:i,currentValue:this.memoryPos},console.log(n),this.lexicalService.updateLinguisticRelation(o,n).pipe(Object(ou.a)(1e3)).subscribe(function(e){console.log(e),t.memoryPos=i;var n={request:0};n.new_pos=i,n.lexicalEntryInstanceName=t.object.lexicalEntryInstanceName,t.lexicalService.spinnerAction("off"),t.lexicalService.refreshAfterEdit(n),t.lexicalService.refreshFilter({request:!0}),setTimeout(function(){t.valuePos.forEach(function(e){e.valueId==i&&(t.posDescription=e.valueDescription)}),$(".pos-tooltip").tooltip({trigger:"hover"})},1e3)},function(e){console.log(e),t.memoryPos=i,t.lexicalService.spinnerAction("off");var n=t.object;n.request=0,n.new_pos=i,t.lexicalService.refreshAfterEdit(n),t.lexicalService.refreshFilter({request:!0}),t.lexicalService.updateCoreCard({lastUpdate:e.error.text}),"object"!=typeof e.error?t.toastr.error(e.error,"Error",{timeOut:5e3}):t.toastr.success("Pos changed correctly for "+o,"",{timeOut:5e3}),setTimeout(function(){t.valuePos.forEach(function(e){e.valueId==i&&(t.posDescription=e.valueDescription)}),$(".pos-tooltip").tooltip({trigger:"hover"})},1e3)})}},{key:"onChangeExistingValue",value:function(e,t){var n=this;this.lexicalService.spinnerAction("on"),this.morphoTraits=this.coreForm.get("morphoTraits");var i=this.morphoTraits.at(t).get("trait").value,o=this.morphoTraits.at(t).get("value").value,r=e.target.value;if(""!=r){var a={type:"morphology",relation:i,value:r,currentValue:o};this.morphoTraits.at(t).get("value").setValue(r,{emitEvent:!1}),this.staticMorpho[t]={trait:i,value:r};var s=this.object.lexicalEntryInstanceName;this.lexicalService.updateLinguisticRelation(s,a).pipe(Object(ou.a)(1e3)).subscribe(function(e){e.request=0,n.lexicalService.refreshAfterEdit(e),n.lexicalService.spinnerAction("off"),n.lexicalService.refreshFilter({request:!0}),n.lexicalService.updateCoreCard(e)},function(e){n.lexicalService.refreshAfterEdit({request:0,label:n.object.label}),n.lexicalService.spinnerAction("off"),n.lexicalService.refreshFilter({request:!0}),n.lexicalService.updateCoreCard({lastUpdate:e.error.text}),"object"!=typeof e.error?n.toastr.error(e.error,"Error",{timeOut:5e3}):n.toastr.success("Morphotraits changed correctly for "+s,"",{timeOut:5e3})})}else this.lexicalService.spinnerAction("on")}},{key:"onChangeValue",value:function(e){var t=this;this.lexicalService.spinnerAction("on"),this.morphoTraits=this.coreForm.get("morphoTraits");var n=this.morphoTraits.at(e).get("trait").value,i=this.morphoTraits.at(e).get("value").value;if(""!=n&&""!=i){var o;o=""==this.memoryValues[e]?{type:"morphology",relation:n,value:i}:{type:"morphology",relation:n,value:i,currentValue:this.memoryValues[e]},this.staticMorpho.push({trait:n,value:i});var r=this.object.lexicalEntryInstanceName;this.lexicalService.updateLinguisticRelation(r,o).pipe(Object(ou.a)(1e3)).subscribe(function(e){e.request=0,t.lexicalService.refreshAfterEdit(e),t.lexicalService.spinnerAction("off"),t.lexicalService.refreshFilter({request:!0}),t.lexicalService.updateCoreCard(e),t.disableAddMorpho=!1,setTimeout(function(){t.morphologyData.filter(function(e){return e.propertyId==n&&"partOfSpeech"!=n&&(e.propertyValues.filter(function(e){return e.valueId==i&&(e.valueDescription,!0)}),!0)}),$(".trait-tooltip").tooltip({trigger:"hover"})},1e3)},function(o){t.lexicalService.refreshAfterEdit({request:0,label:t.object.label}),t.lexicalService.spinnerAction("off"),t.lexicalService.refreshFilter({request:!0}),t.disableAddMorpho=!1,t.lexicalService.updateCoreCard({lastUpdate:o.error.text}),setTimeout(function(){var a="";t.morphologyData.filter(function(e){return e.propertyId==n&&"partOfSpeech"!=n&&(e.propertyValues.filter(function(e){return e.valueId==i&&(a=e.valueDescription,!0)}),!0)}),t.morphoTraits=t.coreForm.get("morphoTraits"),t.morphoTraits.at(e).patchValue({trait:n,value:i,description:a}),$(".trait-tooltip").tooltip({trigger:"hover"}),"object"!=typeof o.error?t.toastr.error(o.error,"Error",{timeOut:5e3}):t.toastr.success("Morphotraits changed correctly for "+r,"",{timeOut:5e3})},1e3)})}else this.lexicalService.spinnerAction("off")}},{key:"onChangeTrait",value:function(e,t){var n=this;if(null!=e.target)setTimeout(function(){if(n.morphoTraits=n.coreForm.get("morphoTraits"),n.morphoTraits.at(t).patchValue({trait:e.target.value,value:""}),""!=e.target.value){var i=n.morphologyData.filter(function(t){return t.propertyId==e.target.value})[0].propertyValues;n.valueTraits[t]=i,n.memoryTraits[t]=e.target.value,n.memoryValues[t]=""}else n.memoryValues.splice(t,1),n.valueTraits[t]=[],n.memoryTraits.splice(t,1)},500);else var i=setInterval(function(o){try{var r=n.morphologyData.filter(function(t){return t.propertyId==e})[0].propertyValues;n.valueTraits[t]=r,n.memoryTraits.push(e),clearInterval(i)}catch(a){console.log(a)}},500)}},{key:"onChanges",value:function(){var e=this;this.coreForm.get("label").valueChanges.pipe(Object(ou.a)(1e3)).subscribe(function(t){if(t.length>2&&""!=t.trim()){e.emptyLabelFlag=!1,e.lexicalService.spinnerAction("on");var n=e.object.lexicalEntryInstanceName;e.lexicalService.updateLexicalEntry(n,{relation:"label",value:t}).subscribe(function(n){console.log(n),n.request=0,n.new_label=t,e.lexicalService.refreshAfterEdit(n),e.lexicalService.spinnerAction("off"),e.lexicalService.updateCoreCard(n)},function(i){console.log(i);var o=e.object;o.request=0,o.new_label=t,e.lexicalService.refreshAfterEdit(o),e.lexicalService.spinnerAction("off"),e.lexicalService.updateCoreCard({lastUpdate:i.error.text}),e.lexicalService.changeDecompLabel(t),"object"!=typeof i.error?e.toastr.error(i.error,"Error",{timeOut:5e3}):e.toastr.success("Label changed correctly for "+n,"",{timeOut:5e3})})}else t.length<3&&(e.emptyLabelFlag=!0)}),this.coreForm.controls.confidence.valueChanges.pipe(Object(Rc.a)(void 0),Object(ou.a)(1e3),Ic()).subscribe(function(t){console.log("Old value: ",t[0]),console.log("New value: ",t[1]),e.lexicalService.spinnerAction("on");var n,i=e.object.lexicalEntryInstanceName,o=t[0],r=t[1];n=null==o?{type:"confidence",relation:"confidence",value:r}:null!=o&&-1==e.object.confidence?{type:"confidence",relation:"confidence",value:r,currentValue:-1}:{type:"confidence",relation:"confidence",value:r,currentValue:o},console.log(n),e.lexicalService.updateGenericRelation(i,n).subscribe(function(t){console.log(t),e.lexicalService.updateCoreCard(t),e.lexicalService.spinnerAction("off")},function(t){console.log(t),e.lexicalService.spinnerAction("off"),200==t.status?(e.toastr.success("Confidence updated","",{timeOut:5e3}),e.lexicalService.updateCoreCard({lastUpdate:t.error.text}),e.coreForm.get("confidence").setValue(r,{emitEvent:!1}),e.object.confidence=r):e.toastr.error(t.error,"Error",{timeOut:5e3})})}),this.coreForm.get("stemType").valueChanges.pipe(Object(ou.a)(1e3)).subscribe(function(t){e.lexicalService.spinnerAction("on");var n=e.object.lexicalEntryInstanceName;e.lexicalService.updateGenericRelation(n,{type:"extension",relation:"stemType",value:t}).subscribe(function(t){console.log(t),e.lexicalService.spinnerAction("off"),e.lexicalService.updateCoreCard(t)},function(t){console.log(t),e.lexicalService.spinnerAction("off"),e.lexicalService.updateCoreCard({lastUpdate:t.error.text}),"object"!=typeof t.error?e.toastr.error(t.error,"Error",{timeOut:5e3}):e.toastr.success("stemType changed correctly for "+n,"",{timeOut:5e3})})}),this.coreForm.get("type").valueChanges.pipe(Object(ou.a)(200)).subscribe(function(t){e.lexicalService.spinnerAction("on");var n=e.object.lexicalEntryInstanceName;e.lexicalService.updateLexicalEntry(n,{relation:"type",value:t}).subscribe(function(n){e.lexicalService.spinnerAction("off"),n.request=0,n.new_type=t,e.lexicalService.refreshAfterEdit(n),e.lexicalService.refreshFilter({request:!0}),e.lexicalService.updateCoreCard(n),setTimeout(function(){var t=e.coreForm.get("type").value;e.lexEntryTypesData.forEach(function(n){n.valueId==t&&(e.typeDesc=n.valueDescription)}),$(".type-tooltip").tooltip({trigger:"hover"})},1e3)},function(i){var o=e.object;o.request=0,o.new_type=t,e.lexicalService.refreshAfterEdit(o),e.lexicalService.spinnerAction("off"),e.lexicalService.updateCoreCard({lastUpdate:i.error.text}),e.lexicalService.refreshFilter({request:!0}),"object"!=typeof i.error?e.toastr.error(i.error,"Error",{timeOut:5e3}):e.toastr.success("Type changed correctly for "+n,"",{timeOut:5e3}),setTimeout(function(){var t=e.coreForm.get("type").value;e.lexEntryTypesData.forEach(function(n){n.valueId==t&&(e.typeDesc=n.valueDescription)}),$(".type-tooltip").tooltip({trigger:"hover"})},1e3)})})}},{key:"applyUncertain",value:function(){var e=this;this.lexicalService.spinnerAction("on"),this.coreForm.get("confidence");var t=this.object.lexicalEntryInstanceName,n={relation:"confidence",value:0};console.log(n),this.lexicalService.deleteLinguisticRelation(t,n).subscribe(function(t){console.log(t),e.lexicalService.updateCoreCard(t),e.lexicalService.spinnerAction("off"),e.coreForm.get("confidence").setValue(-1,{emitEvent:!1}),e.object.confidence=-1},function(t){console.log(t),e.lexicalService.spinnerAction("off"),e.lexicalService.updateCoreCard({lastUpdate:t.error.text}),200==t.status?(e.toastr.success("Confidence updated","",{timeOut:5e3}),e.coreForm.get("confidence").setValue(-1,{emitEvent:!1}),e.object.confidence=-1):e.toastr.error(t.error,"Error",{timeOut:5e3})})}},{key:"createMorphoTraits",value:function(e,t,n){return this.formBuilder.group(null!=e?{trait:new vs.f(e,[vs.x.required,vs.x.minLength(0)]),value:new vs.f(t,[vs.x.required,vs.x.minLength(0)]),description:new vs.f(n,[vs.x.required,vs.x.minLength(0)])}:{trait:new vs.f("",[vs.x.required,vs.x.minLength(0)]),value:new vs.f("",[vs.x.required,vs.x.minLength(0)]),description:new vs.f(null,[vs.x.required,vs.x.minLength(0)])})}},{key:"createEvokes",value:function(e){return this.formBuilder.group(null!=e?{entity:new vs.f(e,[vs.x.required,vs.x.pattern(this.urlRegex)])}:{entity:new vs.f("",[vs.x.required,vs.x.pattern(this.urlRegex)])})}},{key:"createDenotes",value:function(e,t){return this.formBuilder.group(null!=e?{entity:new vs.f(e,[vs.x.required,vs.x.pattern(this.urlRegex)]),type:t}:{entity:new vs.f(null,[vs.x.required,vs.x.pattern(this.urlRegex)]),type:null})}},{key:"createCognates",value:function(e,t,n,i,o){return this.formBuilder.group(null!=i?{label:new vs.f(e,[vs.x.required]),instanceName:new vs.f(t,[vs.x.required]),lexicalEntryInstanceName:new vs.f(n,[vs.x.required]),entity:new vs.f(i,[vs.x.required,vs.x.pattern(this.urlRegex)]),type:o,lila:!1}:{label:new vs.f(null,[vs.x.required]),instanceName:new vs.f(null,[vs.x.required]),lexicalEntryInstanceName:new vs.f(null,[vs.x.required]),entity:new vs.f(null,[vs.x.required,vs.x.pattern(this.urlRegex)]),type:null,lila:!1})}},{key:"handleDenotes",value:function(e,t){e instanceof kc.a?e.selectedItems.length>0&&this.onChangeDenotes({name:e.selectedItems[0].value.lexicalEntry,i:t}):this.denotes_subject.next({name:e.target.value,i:t})}},{key:"handleCognates",value:function(e,t){if(e instanceof kc.a){if(e.selectedItems.length>0){var n;console.log(e.selectedItems[0]),n=null==e.selectedItems[0].value.lexicalEntryInstanceName?e.selectedItems[0].value.labelValue:e.selectedItems[0].value.lexicalEntryInstanceName,this.onChangeCognates({name:n,i:t})}}else this.cognates_subject.next({name:e.target.value,i:t})}},{key:"onChangeDenotes",value:function(e){var t=this,n=e.i;if(this.denotesArray=this.coreForm.get("denotes"),null==this.memoryDenotes[n]){var i=this.object.lexicalEntryInstanceName;this.lexicalService.updateLinguisticRelation(i,{type:"conceptRef",relation:"denotes",value:e.name}).subscribe(function(e){console.log(e),t.lexicalService.spinnerAction("off"),e.request=0,t.lexicalService.refreshAfterEdit(e),t.lexicalService.updateCoreCard(e)},function(e){console.log(e),t.lexicalService.updateCoreCard({lastUpdate:e.error.text}),t.lexicalService.spinnerAction("off"),200==e.status?t.toastr.success("Denotes changed correctly for "+i,"",{timeOut:5e3}):t.toastr.error(e.error,"Error",{timeOut:5e3})}),this.memoryDenotes[n]=e}else{var o=this.object.lexicalEntryInstanceName;this.lexicalService.updateLinguisticRelation(o,{type:"conceptRef",relation:"denotes",value:e.name,currentValue:this.memoryDenotes[n].lexicalEntity}).subscribe(function(e){console.log(e),t.lexicalService.spinnerAction("off"),t.lexicalService.updateCoreCard(e),e.request=0,t.lexicalService.refreshAfterEdit(e)},function(e){console.log(e),t.object.request=0,t.toastr.error(e.error,"Error",{timeOut:5e3}),t.lexicalService.updateCoreCard({lastUpdate:e.error.text}),t.lexicalService.spinnerAction("off"),"object"!=typeof e.error?t.toastr.error(e.error,"Error",{timeOut:5e3}):t.toastr.success("Label changed correctly for "+o,"",{timeOut:5e3})}),this.memoryDenotes[n]=e}}},{key:"onChangeCognates",value:function(e){var t=this,n=e.i;this.cognatesArray=this.coreForm.get("cognates");var i=this.memoryCognates.some(function(t){return(null==t?void 0:t.lexicalEntityInstanceName)==e.name||(null==t?void 0:t.name)==e.name});if(null!=this.memoryCognates[n]||i)if(null==this.memoryCognates[n]||i)i&&this.toastr.error("This cognates already exist in this lexical entry","Error",{timeOut:5e3});else{var o={type:"lexicalRel",relation:"cognate",value:e.name,currentValue:this.memoryCognates[n].lexicalEntity},r=this.object.lexicalEntryInstanceName;console.log(o),this.lexicalService.updateLinguisticRelation(r,o).subscribe(function(e){console.log(e),t.lexicalService.spinnerAction("off"),t.lexicalService.updateCoreCard(e),e.request=0,t.lexicalService.refreshAfterEdit(e)},function(e){console.log(e),t.object.request=0,t.lexicalService.updateCoreCard({lastUpdate:e.error.text}),t.lexicalService.spinnerAction("off"),200==e.status?t.toastr.success("Label changed correctly for "+r,"",{timeOut:5e3}):t.toastr.error(e.error,"Error",{timeOut:5e3})}),this.memoryCognates[n]=e}else{var a={type:"lexicalRel",relation:"cognate",value:e.name};console.log(a);var s=this.object.lexicalEntryInstanceName;this.lexicalService.updateLinguisticRelation(s,a).subscribe(function(e){console.log(e),t.lexicalService.spinnerAction("off"),e.request=0,t.lexicalService.refreshAfterEdit(e),t.lexicalService.updateCoreCard(e),t.disableAddCognates=!1},function(e){console.log(e),t.lexicalService.updateCoreCard({lastUpdate:e.error.text}),t.lexicalService.spinnerAction("off"),200==e.status?(t.disableAddCognates=!1,t.toastr.success("Cognates changed correctly for "+s,"",{timeOut:5e3})):t.toastr.error(e.error,"Error",{timeOut:5e3})}),this.memoryCognates[n]=e}}},{key:"addDenotes",value:function(e,t){this.denotesArray=this.coreForm.get("denotes"),this.denotesArray.push(null!=e?this.createDenotes(e,t):this.createDenotes())}},{key:"addCognates",value:function(e,t,n,i,o){setTimeout(function(){$(".cognates-tooltip").tooltip({trigger:"hover"})},1e3),this.cognatesArray=this.coreForm.get("cognates"),null!=i?this.cognatesArray.push(this.createCognates(e,t,n,i,o)):(this.disableAddCognates=!0,this.cognatesArray.push(this.createCognates()))}},{key:"addMorphoTraits",value:function(e,t,n){this.morphoTraits=this.coreForm.get("morphoTraits"),null!=e?this.morphoTraits.push(this.createMorphoTraits(e,t,n)):(this.disableAddMorpho=!0,this.morphoTraits.push(this.createMorphoTraits()))}},{key:"removeElement",value:function(e){var t=this;this.memoryTraits.splice(e,1),this.valueTraits.splice(e,1),this.staticMorpho.splice(e,1),this.morphoTraits=this.coreForm.get("morphoTraits");var n=this.morphoTraits.at(e).get("trait").value,i=this.morphoTraits.at(e).get("value").value;if(""!=n){var o=this.object.lexicalEntryInstanceName;this.lexicalService.deleteLinguisticRelation(o,{type:"morphology",relation:n,value:i}).subscribe(function(e){t.lexicalService.updateCoreCard(t.object),t.lexicalService.refreshAfterEdit({request:0,label:t.object.label}),t.lexicalService.spinnerAction("off"),t.lexicalService.refreshFilter({request:!0})},function(e){t.lexicalService.refreshAfterEdit({request:0,label:t.object.label}),t.lexicalService.spinnerAction("off"),t.lexicalService.refreshFilter({request:!0}),t.lexicalService.updateCoreCard({lastUpdate:e.error.text}),"object"!=typeof e.error?t.toastr.error(e.error,"Error",{timeOut:5e3}):t.toastr.success("Element removed correctly for "+o,"",{timeOut:5e3})})}else this.disableAddMorpho=!1;this.morphoTraits.removeAt(e)}},{key:"removeDenotes",value:function(e){var t=this;this.denotesArray=this.coreForm.get("denotes");var n=this.denotesArray.at(e).get("entity").value;""!=n&&this.lexicalService.deleteLinguisticRelation(this.object.lexicalEntryInstanceName,{relation:"denotes",value:n}).subscribe(function(e){console.log(e),t.lexicalService.updateCoreCard(t.object),t.toastr.success("Denotes removed","",{timeOut:5e3})},function(e){console.log(e),t.toastr.error(e.error,"Error",{timeOut:5e3})}),this.denotesArray.removeAt(e),this.memoryDenotes.splice(e,1)}},{key:"removeCognates",value:function(e){var t=this;this.cognatesArray=this.coreForm.get("cognates");var n=this.cognatesArray.at(e).get("entity").value;""!=n&&this.lexicalService.deleteLinguisticRelation(this.object.lexicalEntryInstanceName,{relation:"cognate",value:n}).subscribe(function(e){console.log(e),t.lexicalService.updateCoreCard(t.object),t.toastr.success("Cognate deleted successfully","",{timeOut:5e3})},function(e){console.log(e),t.toastr.error(e.error,"Error",{timeOut:5e3})}),this.disableAddCognates=!1,this.cognatesArray.removeAt(e),this.memoryCognates.splice(e,1)}},{key:"isEtymon",value:function(e){var t=this;setTimeout(function(){$(".type-tooltip").tooltip({trigger:"hover"})},700),this.lexicalService.spinnerAction("on");var n=this.object.lexicalEntryInstanceName,i="";e?(i="Etymon",this.coreForm.get("type").setValue("Etymon",{emitEvent:!1}),this.coreForm.get("type").disable({onlySelf:!0,emitEvent:!1}),this.object.type.push("Etymon")):(i="LexicalEntry",this.coreForm.get("type").setValue("LexicalEntry",{emitEvent:!1}),this.coreForm.get("type").enable({onlySelf:!0,emitEvent:!1}),this.object.type.splice(this.object.type.indexOf("Etymon"),1),0==this.object.type.length&&this.object.type.push(i)),this.lexicalService.updateLexicalEntry(n,{relation:"type",value:i}).subscribe(function(e){console.log(e),t.lexicalService.spinnerAction("off"),t.lexicalService.updateCoreCard(e),t.lexicalService.refreshFilter({request:!0}),t.lexicalService.triggerSameAs(t.object.type)},function(e){console.log(e),t.lexicalService.spinnerAction("off"),"200"==e.status?(t.lexicalService.refreshFilter({request:!0}),t.lexicalService.updateCoreCard({lastUpdate:e.error.text}),t.toastr.success("Lexical Entry updated","",{timeOut:5e3}),t.lexicalService.triggerSameAs(t.object.type)):t.toastr.error(e.error.text,"",{timeOut:5e3})})}},{key:"loadCognateData",value:function(e,t,n){var i=this;null==this.lexicalService.getPanelCognate(e,t)&&this.lexicalService.getLexEntryData(e).subscribe(function(o){if(console.log(o),null!=o){i.lexicalService.newPanelForm(e,t);var r=i.factory.resolveComponentFactory(Iv),a=i.vc.createComponent(r);i.arrayComponents.push(a),a.instance.label=n,a.instance.lexicalEntryId=t,a.instance.cogInstanceName=e,a.instance.lexicalEntryData=o,a.instance.triggerCognatePanel()}},function(e){console.log(e)})}}]),e}()).\u0275fac=function(e){return new(e||ky)(i.Lb(sp.a),i.Lb(vs.e),i.Lb(Pu.b),i.Lb(Av.a),i.Lb(i.j))},ky.\u0275cmp=i.Fb({type:ky,selectors:[["app-lexical-entry-core-form"]],viewQuery:function(e,t){var n;1&e&&i.Pc(Tv,!0,i.P),2&e&&i.uc(n=i.cc())&&(t.vc=n.first)},inputs:{lexData:"lexData"},features:[i.wb],decls:3,vars:1,consts:[[3,"formGroup",4,"ngIf"],["cognatePanel",""],[3,"formGroup"],[4,"ngIf"],[1,"form-group","row","m-2"],[1,"input-group","col-lg-12"],[1,"card"],[1,"text-id"],[1,"pointer",3,"ngClass","click"],[1,"collapse-icon"],[1,"fa","fa-plus-square"],[1,"card-body"],[1,"d-flex","my-3"],[1,"col-md-4"],["for","selectPos",1,"col-form-label"],[1,"input-group","col-md-8"],["formControlName","pos","name","pos",1,"form-control","selectTrait",2,"font-size","12px",3,"change"],["value",""],[3,"selected",4,"ngFor","ngForOf"],[1,"input-group-append","ml-2"],["type","button","data-toggle","tooltip","data-placement","top","data-trigger","hover",1,"btn","btn-secondary","pos-tooltip",2,"font-size","12px","border-radius",".25rem"],[1,"fas","fa-question"],["class","invalid-feedback","style","display: block;",4,"ngIf"],[4,"ngFor","ngForOf"],["formArrayName","morphoTraits",4,"ngFor","ngForOf"],[1,"form-group","row","m-2","mt-3"],["for","inputLabel",1,"col-lg-3","col-form-label"],[1,"input-group","col-lg-7"],["id","stemType","formControlName","stemType","name","stemType","type","text","placeholder","","required","",1,"form-control"],[1,"pointer",3,"click"],["class","form-group row m-2","formArrayName","denotes",4,"ngFor","ngForOf"],["class","form-group row m-2","formArrayName","cognates",4,"ngFor","ngForOf"],["id","label","formControlName","label","name","label","type","text","placeholder","","required","",1,"form-control"],[1,"col-lg-3"],["for","sw",1,""],[1,"col-lg-9"],["id","sw",1,"custom-control","custom-switch","d-inline"],["type","checkbox","id","edit_extra_block","name","extra_block","value","","onchange","document.getElementById('typeSelect').disabled = this.checked;",1,"custom-control-input",2,"margin-left","10px",3,"checked","change"],["for","edit_extra_block",1,"custom-control-label"],["class","form-group row m-2",4,"ngIf"],["for","inputLanguage",1,"col-lg-3","col-form-label"],[1,"col-lg-7"],["formControlName","language","name","language",1,"form-control",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"invalid-feedback",2,"display","block"],["for","uncertainBox"],[1,"col-lg-3","input-group","uncertain"],["id","attributes","step","0.1","formControlName","confidence","name","confidence","type","number","min","0","max","1","class","form-control","placeholder","No info",3,"value",4,"ngIf"],["type","button","class","btn btn-secondary btn-sm",3,"click",4,"ngIf"],["id","attributes","step","0.1","formControlName","confidence","name","confidence","type","number","min","0","max","1","placeholder","No info",1,"form-control",3,"value"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"fas","fa-plus"],[1,"fas","fa-minus"],[1,"col-lg-3","col-form-label"],["for","inputType"],[1,"col-lg-9","input-group"],["id","typeSelect","formControlName","type","name","type",1,"form-control"],["class","btn btn-secondary type-tooltip","type","button","data-toggle","tooltip","data-placement","top","data-trigger","hover","style","font-size: 12px; border-radius: .25rem;",4,"ngIf"],["class","btn btn-secondary type-tooltip","type","button","data-toggle","tooltip","data-placement","top","data-trigger","hover","title","Etymon' is a subclass of Lexical Entry that consists of individuals whose role is to describe the origin and history of another Lexical Entry.","style","font-size: 12px; border-radius: .25rem;",4,"ngIf"],["type","button","data-toggle","tooltip","data-placement","top","data-trigger","hover","title","In linguistics, cognates, also called lexical cognates, are words that have a common etymological origin.",1,"btn","btn-warning","type-tooltip",2,"font-size","12px","border-radius",".25rem"],[3,"selected"],["type","button","data-toggle","tooltip","data-placement","top","data-trigger","hover",1,"btn","btn-secondary","type-tooltip",2,"font-size","12px","border-radius",".25rem"],["type","button","data-toggle","tooltip","data-placement","top","data-trigger","hover","title","Etymon' is a subclass of Lexical Entry that consists of individuals whose role is to describe the origin and history of another Lexical Entry.",1,"btn","btn-secondary","type-tooltip",2,"font-size","12px","border-radius",".25rem"],[3,"value","selected"],["class","d-flex my-3",4,"ngIf"],[1,"col-form-label"],[1,"form-control","selectTrait",2,"font-size","12px",3,"change"],["class","btn btn-secondary trait-tooltip","type","button","data-toggle","tooltip","data-placement","top","data-trigger","hover","style","font-size: 12px; border-radius: .25rem;",4,"ngIf"],[1,"input-group-append","ml-2",3,"click"],["type","button",1,"btn","btn-danger",2,"font-size","12px","border-radius",".25rem"],[1,"fa","fa-trash-alt"],["type","button","data-toggle","tooltip","data-placement","top","data-trigger","hover",1,"btn","btn-secondary","trait-tooltip",2,"font-size","12px","border-radius",".25rem"],["formArrayName","morphoTraits"],["class","d-flex my-2",4,"ngIf"],[1,"d-flex","my-2"],[1,"col-md-4",3,"formGroupName"],["formControlName","trait","name","trait",1,"form-control","selectTrait",2,"font-size","12px",3,"change"],[3,"selected","disabled",4,"ngFor","ngForOf"],[1,"input-group","col-md-8",3,"formGroupName"],["formControlName","value","name","value",1,"form-control","selectTrait",2,"font-size","12px",3,"change"],[3,"selected","disabled"],["formArrayName","denotes",1,"form-group","row","m-2"],[1,"input-group","col-xl-12",3,"formGroupName"],["formControlName","entity","name","entity","type","text","placeholder","Insert URI",1,"form-control",3,"value","keyup"],["target","_blank","type","button",1,"btn","btn-primary",3,"href"],[1,"fa","fa-external-link-alt"],["type","button",1,"btn","btn-danger",3,"click"],["formArrayName","cognates",1,"form-group","row","m-2"],["class","input-group col-xl-12",3,"formGroupName",4,"ngIf"],["formControlName","label","name","label","bindValue","label","bindLabel","label","placeholder","Search cognates","appendTo","body",3,"dropdownPosition","items","keyup","change","focus",4,"ngIf"],["formControlName","entity","name","entity","type","text","class","form-control","placeholder","Insert URI",3,"value","keyup",4,"ngIf"],[1,"input-group-append","ml-3","form-check",2,"align-items","center"],["type","checkbox","data-toggle","tooltip","data-placement","bottom","data-trigger","hover","title","Clicca per inserire un URI manualmente",1,"form-check-input","cognates-tooltip",3,"change"],["class","input-group-append ml-2","container","body","placement","top","ngbTooltip","Open in Lila Page",4,"ngIf"],["class","input-group-append ml-2","container","body","placement","top","ngbTooltip","Open in new panel",4,"ngIf"],["data-toggle","buttons","placement","top","ngbTooltip","Enable LiLa endpoint","title","Enable LiLa endpoint",1,"btn-group-toggle"],[1,"btn","btn-secondary"],["type","checkbox","autocomplete","off","autocomplete","off","formControlName","lila","name","lila","style","border-radius: .3rem;",4,"ngIf"],["src","../../../../../../../assets/images/graphql.png","alt","Avatar",1,"image",2,"height","20px"],["formControlName","label","name","label","bindValue","label","bindLabel","label","placeholder","Search cognates","appendTo","body",3,"dropdownPosition","items","keyup","change","focus"],["select_cognates",""],["ng-option-tmp",""],[2,"color","blue"],[1,"card-body","p-0"],[1,"card-title","m-0",3,"ngOptionHighlight"],[1,"card-text"],["container","body","placement","top","ngbTooltip","Open in Lila Page",1,"input-group-append","ml-2"],["target","_blank","type","button",1,"btn","btn-info",3,"href"],[1,"fas","fa-globe-europe"],["container","body","placement","top","ngbTooltip","Open in new panel",1,"input-group-append","ml-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fas","fa-external-link-alt"],["type","checkbox","autocomplete","off","autocomplete","off","formControlName","lila","name","lila",2,"border-radius",".3rem"]],template:function(e,t){1&e&&(i.Ic(0,_y,54,17,"form",0),i.Ic(1,Cy,0,0,"ng-template",null,1,i.Jc)),2&e&&i.mc("ngIf",null!=t.object)},directives:[a.n,vs.z,vs.o,vs.i,a.l,vs.w,vs.n,vs.g,vs.r,vs.y,a.m,vs.b,vs.v,vs.s,vs.d,vs.j,Hg.f,kc.a,kc.c,vs.a],styles:[".row[_ngcontent-%COMP%]{align-items:baseline}.btn[_ngcontent-%COMP%]{height:38px;border-radius:.25rem}.btn[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{font-size:12px}.btn[_ngcontent-%COMP%]{height:32px}.form-check-input[_ngcontent-%COMP%]{margin-top:0}.card[_ngcontent-%COMP%]{margin-top:20px;padding-top:20px}#accordion[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{width:100%}.text-id[_ngcontent-%COMP%]{left:10px;top:-12px;padding:5px 10px;font-size:12px}.collapse-icon[_ngcontent-%COMP%], .text-id[_ngcontent-%COMP%]{position:absolute;background:#fff;text-align:center;color:#212529}.collapse-icon[_ngcontent-%COMP%]{right:4px;top:-16px;padding:5px;font-size:16px}.badge[_ngcontent-%COMP%]{font-size:11px}.pointer[_ngcontent-%COMP%]{cursor:pointer}.no_pointer[_ngcontent-%COMP%]{pointer-events:none}.no_pointer[_ngcontent-%COMP%]   .collapse-icon[_ngcontent-%COMP%]{color:#8c8c8c}"]}),ky);function xy(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"span",24),i.Kc(3),i.Qb(),i.Qb(),i.Rb(4,"div",25),i.Mb(5,"input",26),i.Qb(),i.Qb()),2&e){var n=t.$implicit,o=t.index;i.yb(1),i.mc("formGroupName",o),i.yb(2),i.Lc(n.value.trait),i.yb(1),i.mc("formGroupName",o),i.yb(1),i.mc("value",n.value.value)}}function wy(e,t){if(1&e&&(i.Rb(0,"option",27),i.Kc(1),i.Qb()),2&e){var n=t.$implicit,o=i.fc(2);i.mc("selected",o.object.type===n.valueId),i.yb(1),i.Mc("",n.valueId," ")}}function My(e,t){if(1&e&&i.Mb(0,"input",32),2&e){var n=i.fc(3);i.mc("value",n.formCore.get("confidence").value)}}function Py(e,t){if(1&e){var n=i.Sb();i.Rb(0,"button",33),i.bc("click",function(){i.zc(n);var e=i.fc().$implicit;return e.confidence=!e.confidence}),i.Mb(1,"i",34),i.Qb()}}function Ey(e,t){if(1&e){var n=i.Sb();i.Rb(0,"button",33),i.bc("click",function(){i.zc(n);var e=i.fc().$implicit,t=i.fc(2);return e.confidence=!e.confidence,t.applyUncertain()}),i.Mb(1,"i",35),i.Qb()}}function Sy(e,t){if(1&e&&(i.Rb(0,"div",2),i.Rb(1,"div",28),i.Rb(2,"span",24),i.Kc(3,"Uncertain"),i.Qb(),i.Qb(),i.Rb(4,"div",29),i.Ic(5,My,1,1,"input",30),i.Ic(6,Py,2,0,"button",31),i.Ic(7,Ey,2,0,"button",31),i.Qb(),i.Qb()),2&e){var n=t.$implicit;i.yb(5),i.mc("ngIf",n.confidence),i.yb(1),i.mc("ngIf",!n.confidence),i.yb(1),i.mc("ngIf",n.confidence)}}function Ry(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",42),i.bc("click",function(){i.zc(n);var e=i.fc().index;return i.fc(2).removeLabel(e)}),i.Rb(1,"button",43),i.Mb(2,"i",44),i.Qb(),i.Qb()}}function Iy(e,t){1&e&&(i.Rb(0,"div",45),i.Kc(1," Please, don't leave this field blank "),i.Qb())}function Ay(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",36),i.Rb(1,"div",37),i.Rb(2,"label",24),i.Kc(3),i.Qb(),i.Qb(),i.Rb(4,"div",38),i.Rb(5,"input",39),i.bc("keyup",function(e){i.zc(n);var o=t.index;return i.fc(2).debounceKeyupExisting(e,o)}),i.Qb(),i.Ic(6,Ry,3,0,"div",40),i.Ic(7,Iy,2,0,"div",41),i.Qb(),i.Qb()}if(2&e){var o=t.$implicit,r=t.index,a=i.fc(2);i.yb(3),i.Lc(o.trait),i.yb(2),i.mc("value",o.value),i.yb(1),i.mc("ngIf","writtenRep"!=o.trait),i.yb(1),i.mc("ngIf",""==a.staticOtherDef[r].value)}}function Ty(e,t){if(1&e&&(i.Rb(0,"option",53),i.Kc(1),i.Qb()),2&e){var n=t.$implicit,o=i.fc(2).$implicit,r=i.fc(2);i.mc("selected",o.value.propertyID===n)("disabled",r.memoryLabel.indexOf(n)>-1),i.yb(1),i.Lc(n)}}function Dy(e,t){1&e&&(i.Rb(0,"div",45),i.Kc(1," Please, don't leave this field blank "),i.Qb())}function jy(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",49),i.Rb(1,"select",50),i.bc("change",function(e){i.zc(n);var t=i.fc().index;return i.fc(2).onChangeLabelTrait(e,t)}),i.Rb(2,"option",51),i.Kc(3,"Select a trait..."),i.Qb(),i.Ic(4,Ty,2,3,"option",52),i.Qb(),i.Ic(5,Dy,2,0,"div",41),i.Qb()}if(2&e){var o=i.fc(),r=o.index,a=o.$implicit,s=i.fc(2);i.mc("formGroupName",r),i.yb(4),i.mc("ngForOf",s.labelData),i.yb(1),i.mc("ngIf",a.get("propertyID").invalid)}}function Fy(e,t){1&e&&(i.Rb(0,"div",45),i.Kc(1," Please, don't leave this field blank "),i.Qb())}function Qy(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",54),i.Rb(1,"input",55),i.bc("keyup",function(e){i.zc(n);var t=i.fc().index;return i.fc(2).debounceKeyup(e,t)}),i.Qb(),i.Rb(2,"div",42),i.bc("click",function(){i.zc(n);var e=i.fc().index;return i.fc(2).removeLabel(e)}),i.Rb(3,"button",43),i.Mb(4,"i",44),i.Qb(),i.Qb(),i.Ic(5,Fy,2,0,"div",41),i.Qb()}if(2&e){var o=i.fc(),r=o.$implicit;i.mc("formGroupName",o.index),i.yb(5),i.mc("ngIf",r.get("propertyValue").invalid)}}function Ly(e,t){if(1&e&&(i.Rb(0,"div",46),i.Ic(1,jy,6,3,"div",47),i.Ic(2,Qy,6,2,"div",48),i.Qb()),2&e){var n=t.index,o=i.fc(2);i.yb(1),i.mc("ngIf",n+1>o.staticOtherDef.length),i.yb(1),i.mc("ngIf",n+1>o.staticOtherDef.length)}}function Ny(e,t){if(1&e&&(i.Rb(0,"option",27),i.Kc(1),i.Qb()),2&e){var n=t.$implicit,o=i.fc().$implicit;i.mc("selected",o.value===n.valueId),i.yb(1),i.Lc(n.valueId)}}function zy(e,t){if(1&e&&(i.Rb(0,"button",58),i.Mb(1,"i",14),i.Qb()),2&e){var n=i.fc().index,o=i.fc(2);i.zb("data-original-title",o.formCore.get("morphoTraits").at(n).get("description").value)}}function Vy(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",36),i.Rb(1,"div",37),i.Rb(2,"label",24),i.Kc(3),i.Qb(),i.Qb(),i.Rb(4,"div",38),i.Rb(5,"select",56),i.bc("change",function(e){i.zc(n);var o=t.index;return i.fc(2).onChangeExistingValue(e,o)}),i.Ic(6,Ny,2,2,"option",11),i.Qb(),i.Rb(7,"div",12),i.Ic(8,zy,2,1,"button",57),i.Qb(),i.Rb(9,"div",42),i.bc("click",function(){i.zc(n);var e=t.index;return i.fc(2).removeElement(e)}),i.Rb(10,"button",43),i.Mb(11,"i",44),i.Qb(),i.Qb(),i.Qb(),i.Qb()}if(2&e){var o=t.$implicit,r=t.index,a=i.fc(2);i.yb(3),i.Lc(o.trait),i.yb(3),i.mc("ngForOf",a.valueTraits[r]),i.yb(2),i.mc("ngIf",null!=(null==a.formCore.controls.morphoTraits?null:a.formCore.controls.morphoTraits.value[r]))}}function By(e,t){if(1&e&&(i.Rb(0,"option",53),i.Kc(1),i.Qb()),2&e){var n=t.$implicit,o=i.fc(2).$implicit,r=i.fc(2);i.mc("selected",o.value.trait===n.propertyId)("disabled",r.memoryTraits.indexOf(n.propertyId)>-1),i.yb(1),i.Lc(n.propertyId)}}function Uy(e,t){1&e&&(i.Rb(0,"div",45),i.Kc(1," Please, don't leave this field blank "),i.Qb())}function Hy(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",62),i.Rb(1,"select",63),i.bc("change",function(e){i.zc(n);var t=i.fc().index;return i.fc(2).onChangeTrait(e,t)}),i.Rb(2,"option",51),i.Kc(3,"Select a trait..."),i.Qb(),i.Ic(4,By,2,3,"option",52),i.Qb(),i.Ic(5,Uy,2,0,"div",41),i.Qb()}if(2&e){var o=i.fc(),r=o.index,a=o.$implicit,s=i.fc(2);i.mc("formGroupName",r),i.yb(4),i.mc("ngForOf",s.morphologyData),i.yb(1),i.mc("ngIf",a.get("trait").invalid)}}function Ky(e,t){if(1&e&&(i.Rb(0,"option",27),i.Kc(1),i.Qb()),2&e){var n=t.$implicit,o=i.fc(2),r=o.index;i.mc("selected",o.$implicit.value.value===n.valueId),i.zb("data-index",r),i.yb(1),i.Lc(n.valueId)}}function qy(e,t){1&e&&(i.Rb(0,"div",45),i.Kc(1," Please, don't leave this field blank "),i.Qb())}function $y(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",64),i.Rb(1,"select",65),i.bc("change",function(){i.zc(n);var e=i.fc().index;return i.fc(2).onChangeValue(e)}),i.Rb(2,"option",51),i.Kc(3,"Select a value..."),i.Qb(),i.Ic(4,Ky,2,3,"option",11),i.Qb(),i.Rb(5,"div",42),i.bc("click",function(){i.zc(n);var e=i.fc().index;return i.fc(2).removeElement(e)}),i.Rb(6,"button",43),i.Mb(7,"i",44),i.Qb(),i.Qb(),i.Ic(8,qy,2,0,"div",41),i.Qb()}if(2&e){var o=i.fc(),r=o.index,a=o.$implicit,s=i.fc(2);i.mc("formGroupName",r),i.yb(4),i.mc("ngForOf",s.valueTraits[r]),i.yb(4),i.mc("ngIf",a.get("value").invalid)}}function Wy(e,t){if(1&e&&(i.Rb(0,"div",59),i.Ic(1,Hy,6,3,"div",60),i.Ic(2,$y,9,3,"div",61),i.Qb()),2&e){var n=t.index,o=i.fc(2);i.yb(1),i.mc("ngIf",n+1>o.staticMorpho.length),i.yb(1),i.mc("ngIf",n+1>o.staticMorpho.length)}}var Gy=function(e){return{confidence:e}},Yy=function(e){return{no_pointer:e}};function Xy(e,t){if(1&e){var n=i.Sb();i.Rb(0,"form",1),i.Rb(1,"div",2),i.Rb(2,"div",3),i.Rb(3,"div",4),i.Rb(4,"span",5),i.Rb(5,"b"),i.Kc(6,"INHERITANCE"),i.Qb(),i.Qb(),i.Rb(7,"div",6),i.Ic(8,xy,6,4,"div",7),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(9,"div",2),i.Rb(10,"label",8),i.Kc(11,"Type:"),i.Qb(),i.Rb(12,"div",9),i.Rb(13,"select",10),i.bc("change",function(e){return i.zc(n),i.fc().onChangeType(e)}),i.Ic(14,wy,2,2,"option",11),i.Qb(),i.Rb(15,"div",12),i.Rb(16,"button",13),i.Mb(17,"i",14),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Ic(18,Sy,8,3,"div",15),i.Rb(19,"div",2),i.Rb(20,"div",3),i.Rb(21,"div",4),i.Rb(22,"span",5),i.Rb(23,"b"),i.Kc(24,"OTHER REPRESENTATION"),i.Qb(),i.Qb(),i.Rb(25,"a",16),i.bc("click",function(){return i.zc(n),i.fc().addLabel()}),i.Rb(26,"span",17),i.Mb(27,"i",18),i.Qb(),i.Qb(),i.Rb(28,"div",6),i.Ic(29,Ay,8,4,"div",19),i.Ic(30,Ly,3,2,"div",20),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(31,"div",2),i.Rb(32,"div",3),i.Rb(33,"div",4),i.Rb(34,"span",5),i.Rb(35,"b"),i.Kc(36,"MORPHOLOGY"),i.Qb(),i.Qb(),i.Rb(37,"a",16),i.bc("click",function(){return i.zc(n),i.fc().addMorphoTraits()}),i.Rb(38,"span",17),i.Mb(39,"i",18),i.Qb(),i.Qb(),i.Rb(40,"div",6),i.Ic(41,Vy,12,3,"div",19),i.Mb(42,"div"),i.Ic(43,Wy,3,2,"div",21),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb()}if(2&e){var o=i.fc();i.mc("formGroup",o.formCore),i.yb(8),i.mc("ngForOf",o.formCore.get("inheritance").controls),i.yb(6),i.mc("ngForOf",o.typesData),i.yb(2),i.zb("data-original-title",o.typeDesc),i.yb(2),i.mc("ngIf",i.qc(11,Gy,o.formCore.get("confidence").value>=0)),i.yb(7),i.mc("ngClass",i.qc(13,Yy,o.disableAddOther)),i.yb(4),i.mc("ngForOf",o.staticOtherDef),i.yb(1),i.mc("ngForOf",o.formCore.get("label").controls),i.yb(7),i.mc("ngClass",i.qc(15,Yy,o.disableAddMorpho)),i.yb(4),i.mc("ngForOf",o.staticMorpho),i.yb(2),i.mc("ngForOf",o.formCore.get("morphoTraits").controls)}}var Zy,Jy=((Zy=function(){function e(t,n,i){_classCallCheck(this,e),this.lexicalService=t,this.formBuilder=n,this.toastr=i,this.subject_label=new wc.a,this.subject_ex_label=new wc.a,this.switchInput=!1,this.peopleLoading=!1,this.counter=0,this.typesData=[],this.morphologyData=[],this.valueTraits=[],this.memoryTraits=[],this.formCore=new vs.h({inheritance:new vs.c([this.createInheritance()]),type:new vs.f(""),confidence:new vs.f(null),label:new vs.c([this.createLabel()]),morphoTraits:new vs.c([this.createMorphoTraits()])}),this.labelData=[],this.memoryLabel=[],this.typeDesc="",this.staticOtherDef=[],this.staticMorpho=[],this.disableAddOther=!1,this.disableAddMorpho=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.lexicalService.getMorphologyData().subscribe(function(t){e.morphologyData=t,e.morphologyData=e.morphologyData.filter(function(e){return"partOfSpeech"!=e.propertyId})}),setTimeout(function(){$(".denotes-tooltip").tooltip({trigger:"hover"})},1e3),this.loadPeople(),this.formCore=this.formBuilder.group({inheritance:this.formBuilder.array([]),type:"",confidence:null,label:this.formBuilder.array([]),morphoTraits:this.formBuilder.array([])}),this.onChanges(),this.subject_label.pipe(Object(ou.a)(1e3)).subscribe(function(t){e.onChangeLabel(t)}),this.subject_ex_label.pipe(Object(ou.a)(1e3)).subscribe(function(t){e.onChangeExistingLabelValue(t.evt,t.i)}),this.lexicalService.getFormTypes().subscribe(function(t){e.typesData=t},function(e){})}},{key:"loadPeople",value:function(){this.peopleLoading=!0}},{key:"ngOnChanges",value:function(e){var t=this;setTimeout(function(){if(t.object!=e.formData.currentValue&&(t.morphoTraits=t.formCore.get("morphoTraits"),t.morphoTraits.clear(),t.inheritanceArray=t.formCore.get("inheritance"),t.inheritanceArray.clear(),t.labelArray=t.formCore.get("label"),t.labelArray.clear(),t.staticMorpho=[],t.staticOtherDef=[]),t.object=e.formData.currentValue,null!=t.object){if(t.valueTraits=[],t.memoryTraits=[],t.memoryLabel=[],t.labelData=[],null!=t.object.inheritedMorphology)for(var n=0;n<t.object.inheritedMorphology.length;n++)t.addInheritance(t.object.inheritedMorphology[n].trait,t.object.inheritedMorphology[n].value);for(t.formCore.get("confidence").setValue(t.object.confidence,{emitEvent:!1}),t.formCore.get("type").setValue(t.object.type,{emitEvent:!1}),n=0;n<t.object.label.length;n++){var i=t.object.label[n].propertyID,o=t.object.label[n].propertyValue;t.labelData.push(i),""!=o&&(t.addLabel(i,o),t.memoryLabel.push(i),t.staticOtherDef.push({trait:i,value:o}))}setTimeout(function(){for(var e=function(){var e=t.object.morphology[n].trait,i=t.object.morphology[n].value,o="";t.morphologyData.filter(function(t){return t.propertyId==e&&"partOfSpeech"!=e&&(t.propertyValues.filter(function(e){return e.valueId==i&&(o=e.valueDescription,!0)}),!0)}),t.addMorphoTraits(e,i,o),t.onChangeTrait(e,n),t.staticMorpho.push({trait:e,value:i})},n=0;n<t.object.morphology.length;n++)e()},100),setTimeout(function(){var e=t.formCore.get("type").value;t.typesData.forEach(function(n){n.valueId==e&&(t.typeDesc=n.valueDescription)}),$(".type-tooltip").tooltip({trigger:"hover"})},1e3),setTimeout(function(){$(".trait-tooltip").tooltip({trigger:"hover"})},1e3)}},200)}},{key:"onChanges",value:function(){var e=this;this.formCore.controls.confidence.valueChanges.pipe(Object(Rc.a)(void 0),Object(ou.a)(1e3),Ic()).subscribe(function(t){console.log("Old value: ",t[0]),console.log("New value: ",t[1]),e.lexicalService.spinnerAction("on");var n,i=e.object.formInstanceName,o=t[0],r=t[1];n=null==o?{type:"confidence",relation:"confidence",value:r}:null!=o&&-1==e.object.confidence?{type:"confidence",relation:"confidence",value:r,currentValue:-1}:{type:"confidence",relation:"confidence",value:r,currentValue:o},console.log(n),e.lexicalService.updateGenericRelation(i,n).subscribe(function(t){console.log(t),e.lexicalService.updateCoreCard(t),e.lexicalService.spinnerAction("off")},function(t){console.log(t),e.lexicalService.spinnerAction("off"),200==t.status?(e.toastr.success("Confidence updated","",{timeOut:5e3}),e.lexicalService.updateCoreCard({lastUpdate:t.error.text}),e.formCore.get("confidence").setValue(r,{emitEvent:!1}),e.object.confidence=r):e.toastr.error(t.error,"Error",{timeOut:5e3})})})}},{key:"applyUncertain",value:function(){var e=this;this.lexicalService.spinnerAction("on"),this.formCore.get("confidence");var t=this.object.formInstanceName,n={relation:"confidence",value:0};console.log(n),this.lexicalService.deleteLinguisticRelation(t,n).subscribe(function(t){console.log(t),e.lexicalService.updateCoreCard(t),e.lexicalService.spinnerAction("off"),e.formCore.get("confidence").setValue(-1,{emitEvent:!1}),e.object.confidence=-1},function(t){console.log(t),e.lexicalService.spinnerAction("off"),e.lexicalService.updateCoreCard({lastUpdate:t.error.text}),200==t.status?(e.toastr.success("Confidence updated","",{timeOut:5e3}),e.formCore.get("confidence").setValue(-1,{emitEvent:!1}),e.object.confidence=-1):e.toastr.error(t.error,"Error",{timeOut:5e3})})}},{key:"onChangeType",value:function(e){var t=this;this.lexicalService.spinnerAction("on");var n=e.target.value;this.lexicalService.updateForm(this.object.formInstanceName,{relation:"type",value:n}).pipe(Object(ou.a)(500)).subscribe(function(e){console.log(e),t.lexicalService.spinnerAction("off"),e.request=5,e.new_type=n,t.lexicalService.refreshAfterEdit(e),t.lexicalService.updateCoreCard(t.object),setTimeout(function(){var e=t.formCore.get("type").value;t.typesData.forEach(function(n){n.valueId==e&&(t.typeDesc=n.valueDescription)}),$(".type-tooltip").tooltip({trigger:"hover"})},1e3)},function(e){console.log(e);var i=t.object;i.request=5,i.new_type=n,t.lexicalService.refreshAfterEdit(i),t.lexicalService.updateCoreCard({lastUpdate:e.error.text}),t.lexicalService.spinnerAction("off"),"object"!=typeof e.error?t.toastr.error(e.error,"Error",{timeOut:5e3}):t.toastr.success("Type changed","",{timeOut:5e3}),setTimeout(function(){var e=t.formCore.get("type").value;t.typesData.forEach(function(n){n.valueId==e&&(t.typeDesc=n.valueDescription)}),$(".type-tooltip").tooltip({trigger:"hover"})},1e3)})}},{key:"debounceKeyup",value:function(e,t){this.lexicalService.spinnerAction("on"),this.subject_label.next({evt:e,i:t})}},{key:"debounceKeyupExisting",value:function(e,t){this.lexicalService.spinnerAction("on"),this.subject_ex_label.next({evt:e,i:t})}},{key:"onChangeExistingValue",value:function(e,t){var n=this;this.lexicalService.spinnerAction("on"),this.morphoTraits=this.formCore.get("morphoTraits");var i=this.morphoTraits.at(t).get("trait").value,o=this.morphoTraits.at(t).get("value").value,r=e.target.value;if(this.morphoTraits.at(t).get("value").setValue(r,{emitEvent:!1}),""!=r){var a={type:"morphology",relation:i,value:r,currentValue:o};this.staticMorpho[t]={trait:i,value:r};var s=this.object.formInstanceName;console.log(a),this.lexicalService.updateLinguisticRelation(s,a).pipe(Object(ou.a)(1e3)).subscribe(function(e){console.log(e),n.lexicalService.updateCoreCard(e),n.lexicalService.spinnerAction("off")},function(e){console.log(e),n.lexicalService.updateCoreCard({lastUpdate:e.error.text}),n.lexicalService.spinnerAction("off"),200!=e.status?n.toastr.error(e.error,"Error",{timeOut:5e3}):n.toastr.success("Morphologic trait changed","",{timeOut:5e3})})}else this.lexicalService.spinnerAction("off")}},{key:"onChangeValue",value:function(e){var t=this;this.lexicalService.spinnerAction("on"),this.morphoTraits=this.formCore.get("morphoTraits");var n=this.morphoTraits.at(e).get("trait").value,i=this.morphoTraits.at(e).get("value").value;if(""!=n&&""!=i){var o={type:"morphology",relation:n,value:i},r=this.object.formInstanceName,a="";this.morphologyData.filter(function(e){return e.propertyId==n&&"partOfSpeech"!=n&&(e.propertyValues.filter(function(e){return e.valueId==i&&(a=e.valueDescription,!0)}),!0)}),console.log(o),this.morphoTraits.at(e).get("description").setValue(a,{emitEvent:!1}),this.staticMorpho.push({trait:n,value:i}),this.lexicalService.updateLinguisticRelation(r,o).pipe(Object(ou.a)(1e3)).subscribe(function(e){console.log(e),t.lexicalService.spinnerAction("off"),t.lexicalService.updateCoreCard(t.object),t.disableAddMorpho=!1,setTimeout(function(){$(".trait-tooltip").tooltip({trigger:"hover"})},1e3)},function(e){console.log(e),t.lexicalService.updateCoreCard({lastUpdate:e.error.text}),t.lexicalService.spinnerAction("off"),t.disableAddMorpho=!1,"object"!=typeof e.error?t.toastr.error(e.error,"Error",{timeOut:5e3}):t.toastr.success("Morphotrait changed correctly","Ok",{timeOut:5e3}),setTimeout(function(){$(".trait-tooltip").tooltip({trigger:"hover"})},1e3)})}else this.lexicalService.spinnerAction("off")}},{key:"onChangeTrait",value:function(e,t){var n=this;if(null!=e.target)setTimeout(function(){if(n.morphoTraits=n.formCore.get("morphoTraits"),n.morphoTraits.at(t).patchValue({trait:e.target.value,value:""}),""!=e.target.value){var i=n.morphologyData.filter(function(t){return t.propertyId==e.target.value})[0].propertyValues;n.valueTraits[t]=i,n.memoryTraits[t]=e.target.value}else n.valueTraits[t]=[],n.memoryTraits.splice(t,1)},500);else var i=setInterval(function(o){try{var r=n.morphologyData.filter(function(t){return t.propertyId==e})[0].propertyValues;n.valueTraits[t]=r,n.memoryTraits.push(e),null!=n.valueTraits&&clearInterval(i)}catch(a){console.log(a)}},500)}},{key:"onChangeLabelTrait",value:function(e,t){var n=this;setTimeout(function(){n.labelArray=n.formCore.get("label"),n.labelArray.at(t).patchValue({propertyID:e.target.value,propertyValue:""}),""!=e.target.value?n.memoryLabel[t]=e.target.value:n.memoryLabel.splice(t,1)},250)}},{key:"onChangeExistingLabelValue",value:function(e,t){var n=this;this.lexicalService.spinnerAction("on"),this.labelArray=this.formCore.get("label");var i=this.labelArray.at(t).get("propertyID").value,o=e.target.value;if(""!=o){var r={relation:i,value:o};if(this.staticOtherDef[t]={trait:i,value:o},this.lexicalService.updateForm(this.object.formInstanceName,r).pipe(Object(ou.a)(1e3)).subscribe(function(e){console.log(e),n.lexicalService.spinnerAction("off"),n.lexicalService.updateCoreCard(e)},function(e){console.log(e),n.lexicalService.updateCoreCard({lastUpdate:e.error.text}),n.lexicalService.spinnerAction("off"),"object"!=typeof e.error?n.toastr.error(e.error,"Error",{timeOut:5e3}):n.toastr.success("Label changed","",{timeOut:5e3})}),"writtenRep"==i){var a=this.object;a.whatToSearch="form",a.new_label=o,a.request=3,this.lexicalService.refreshAfterEdit(a)}}else this.lexicalService.spinnerAction("off"),this.staticOtherDef[t]={trait:i,value:""}}},{key:"onChangeLabel",value:function(e){var t=this;this.labelArray=this.formCore.get("label");var n=this.labelArray.at(e.i).get("propertyID").value,i=e.evt.target.value,o=this.object.formInstanceName,r={relation:n,value:i};this.staticOtherDef.push({trait:n,value:i}),null!=n&&""!=i?this.lexicalService.updateForm(o,r).pipe(Object(ou.a)(1e3)).subscribe(function(e){console.log(e),t.lexicalService.spinnerAction("off"),t.lexicalService.updateCoreCard(e),t.disableAddOther=!1},function(e){console.log(e),t.disableAddOther=!1,t.lexicalService.updateCoreCard({lastUpdate:e.error.text}),t.lexicalService.spinnerAction("off")}):this.lexicalService.spinnerAction("off")}},{key:"createMorphoTraits",value:function(e,t,n){return this.formBuilder.group(null!=e?{trait:new vs.f(e,[vs.x.required,vs.x.minLength(0)]),value:new vs.f(t,[vs.x.required,vs.x.minLength(0)]),description:new vs.f(n,[vs.x.required,vs.x.minLength(0)])}:{trait:new vs.f("",[vs.x.required,vs.x.minLength(0)]),value:new vs.f("",[vs.x.required,vs.x.minLength(0)]),description:new vs.f("",[vs.x.required,vs.x.minLength(0)])})}},{key:"createInheritance",value:function(e,t){return this.formBuilder.group({trait:e,value:t})}},{key:"createLabel",value:function(e,t){return this.formBuilder.group(null!=e?{propertyID:new vs.f(e,[vs.x.required,vs.x.minLength(0)]),propertyValue:new vs.f(t,[vs.x.required,vs.x.minLength(0)])}:{propertyID:new vs.f("",[vs.x.required,vs.x.minLength(0)]),propertyValue:new vs.f("",[vs.x.required,vs.x.minLength(0)])})}},{key:"addLabel",value:function(e,t){this.labelArray=this.formCore.get("label"),null!=e?this.labelArray.push(this.createLabel(e,t)):(this.disableAddOther=!0,this.labelArray.push(this.createLabel()))}},{key:"addInheritance",value:function(e,t){this.inheritanceArray=this.formCore.get("inheritance"),this.inheritanceArray.push(this.createInheritance(e,t))}},{key:"addMorphoTraits",value:function(e,t,n){this.morphoTraits=this.formCore.get("morphoTraits"),null!=e?this.morphoTraits.push(this.createMorphoTraits(e,t,n)):(this.morphoTraits.push(this.createMorphoTraits()),this.disableAddMorpho=!0)}},{key:"removeElement",value:function(e){var t=this;this.morphoTraits=this.formCore.get("morphoTraits");var n=this.morphoTraits.at(e).get("trait").value,i=this.morphoTraits.at(e).get("value").value;""!=n?this.lexicalService.deleteLinguisticRelation(this.object.formInstanceName,{type:"morphology",relation:n,value:i}).subscribe(function(e){console.log(e),t.toastr.success("Element removed","",{timeOut:5e3}),t.lexicalService.updateCoreCard(t.object)},function(e){console.log(e),200!=e.status&&t.toastr.error(e.error,"Error",{timeOut:5e3})}):this.disableAddMorpho=!1,this.staticMorpho.splice(e,1),this.morphoTraits.removeAt(e),this.memoryTraits.splice(e,1),this.valueTraits.splice(e,1)}},{key:"removeLabel",value:function(e){var t=this;this.labelArray=this.formCore.get("label");var n=this.labelArray.at(e).get("propertyID").value,i=this.labelArray.at(e).get("propertyValue").value;""!=n?this.lexicalService.deleteLinguisticRelation(this.object.formInstanceName,{type:"morphology",relation:n,value:i}).subscribe(function(e){console.log(e),t.lexicalService.updateCoreCard(t.object)},function(e){console.log(e)}):this.disableAddOther=!1,this.staticOtherDef.splice(e,1),this.labelArray.removeAt(e)}}]),e}()).\u0275fac=function(e){return new(e||Zy)(i.Lb(sp.a),i.Lb(vs.e),i.Lb(Pu.b))},Zy.\u0275cmp=i.Fb({type:Zy,selectors:[["app-form-core-form"]],inputs:{formData:"formData"},features:[i.wb],decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-group","row","ml-2","mt-3","mr-2"],[1,"input-group","col-lg-12"],[1,"card"],[1,"text-id"],[1,"card-body"],["class","d-flex my-2","formArrayName","inheritance",4,"ngFor","ngForOf"],["for","inputType",1,"col-lg-3","col-form-label"],[1,"col-lg-7","input-group"],["formControlName","type","name","type",1,"form-control",3,"change"],[3,"selected",4,"ngFor","ngForOf"],[1,"input-group-append","ml-2"],["type","button","data-toggle","tooltip","data-placement","top","data-trigger","hover",1,"btn","btn-secondary","type-tooltip",2,"font-size","12px","border-radius",".25rem"],[1,"fas","fa-question"],["class","form-group row ml-2 mt-3 mr-2",4,"ngIf"],[1,"pointer",3,"ngClass","click"],[1,"collapse-icon"],[1,"fa","fa-plus-square"],["class","d-flex my-3",4,"ngFor","ngForOf"],["class","d-flex my-2","formArrayName","label",4,"ngFor","ngForOf"],["class","d-flex","formArrayName","morphoTraits",4,"ngFor","ngForOf"],["formArrayName","inheritance",1,"d-flex","my-2"],[1,"col-lg-3",3,"formGroupName"],[1,"col-form-label"],[1,"input-group","col-lg-7","col-md-12",3,"formGroupName"],["formControlName","value","name","value","type","text","placeholder","","readonly","",1,"form-control",3,"value"],[3,"selected"],[1,"col-lg-3"],[1,"col-lg-3","input-group"],["id","attributes","step","0.1","formControlName","confidence","name","confidence","type","number","min","0","max","1","class","form-control","placeholder","No info",3,"value",4,"ngIf"],["type","button","class","btn btn-secondary btn-sm ml-2",3,"click",4,"ngIf"],["id","attributes","step","0.1","formControlName","confidence","name","confidence","type","number","min","0","max","1","placeholder","No info",1,"form-control",3,"value"],["type","button",1,"btn","btn-secondary","btn-sm","ml-2",3,"click"],[1,"fas","fa-plus"],[1,"fas","fa-minus"],[1,"d-flex","my-3"],[1,"col-md-4"],[1,"input-group","col-md-8"],["type","text","placeholder","",1,"form-control",3,"value","keyup"],["class","input-group-append ml-2",3,"click",4,"ngIf"],["class","invalid-feedback","style","display: block;",4,"ngIf"],[1,"input-group-append","ml-2",3,"click"],["type","button",1,"btn","btn-danger",2,"font-size","12px","border-radius",".25rem"],[1,"fa","fa-trash-alt"],[1,"invalid-feedback",2,"display","block"],["formArrayName","label",1,"d-flex","my-2"],["class","col-md-4",3,"formGroupName",4,"ngIf"],["class","input-group col-md-8",3,"formGroupName",4,"ngIf"],[1,"col-md-4",3,"formGroupName"],["formControlName","propertyID","name","propertyID",1,"form-control","selectTrait",2,"font-size","12px",3,"change"],["value",""],[3,"selected","disabled",4,"ngFor","ngForOf"],[3,"selected","disabled"],[1,"input-group","col-md-8",3,"formGroupName"],["formControlName","propertyValue","name","propertyValue","type","text","placeholder","",1,"form-control",3,"keyup"],[1,"form-control","selectTrait",2,"font-size","12px",3,"change"],["class","btn btn-secondary trait-tooltip","type","button","data-toggle","tooltip","data-placement","top","data-trigger","hover","style","font-size: 12px; border-radius: .25rem;",4,"ngIf"],["type","button","data-toggle","tooltip","data-placement","top","data-trigger","hover",1,"btn","btn-secondary","trait-tooltip",2,"font-size","12px","border-radius",".25rem"],["formArrayName","morphoTraits",1,"d-flex"],["class","col-md-4 my-2",3,"formGroupName",4,"ngIf"],["class","input-group col-md-8 my-2",3,"formGroupName",4,"ngIf"],[1,"col-md-4","my-2",3,"formGroupName"],["formControlName","trait","name","trait",1,"form-control","selectTrait",2,"font-size","12px",3,"change"],[1,"input-group","col-md-8","my-2",3,"formGroupName"],["formControlName","value","name","value",1,"form-control","selectTrait",2,"font-size","12px",3,"change"]],template:function(e,t){1&e&&i.Ic(0,Xy,44,17,"form",0),2&e&&i.mc("ngIf",null!=t.object)},directives:[a.n,vs.z,vs.o,vs.i,a.m,vs.w,vs.n,vs.g,a.l,vs.d,vs.j,vs.b,vs.r,vs.y,vs.s],styles:[".row[_ngcontent-%COMP%]{align-items:center!important}.btn[_ngcontent-%COMP%]{height:38px;border-radius:.25rem!important}.btn[_ngcontent-%COMP%], .col-form-label[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{font-size:12px!important}.form-check-input[_ngcontent-%COMP%]{margin-top:0}.card[_ngcontent-%COMP%]{margin-top:20px;padding-top:20px}#accordion[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{width:100%}.text-id[_ngcontent-%COMP%]{left:10px;top:-12px;padding:5px 10px;font-size:12px}.collapse-icon[_ngcontent-%COMP%], .text-id[_ngcontent-%COMP%]{position:absolute;background:#fff;text-align:center;color:#212529}.collapse-icon[_ngcontent-%COMP%]{right:4px;top:-16px;padding:5px;font-size:16px}.badge[_ngcontent-%COMP%]{font-size:11px}.pointer[_ngcontent-%COMP%]{cursor:pointer}.input-group-text[_ngcontent-%COMP%]{background-color:#fff;border:none}.input-group[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:not(:last-child){border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.no_pointer[_ngcontent-%COMP%]{pointer-events:none}.no_pointer[_ngcontent-%COMP%]   .collapse-icon[_ngcontent-%COMP%]{color:#8c8c8c}"]}),Zy);function e_(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",23),i.bc("click",function(){i.zc(n);var e=i.fc().index;return i.fc().removeDefinition(e)}),i.Rb(1,"button",24),i.Mb(2,"i",25),i.Qb(),i.Qb()}}function t_(e,t){1&e&&(i.Rb(0,"div",26),i.Kc(1," Please, don't leave this field blank "),i.Qb())}function n_(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",16),i.Rb(1,"div",17),i.Rb(2,"span",18),i.Kc(3),i.Qb(),i.Qb(),i.Rb(4,"div",19),i.Rb(5,"textarea",20),i.bc("keyup",function(e){i.zc(n);var o=t.index;return i.fc().debounceExistingKeyup(e,o)}),i.Qb(),i.Ic(6,e_,3,0,"div",21),i.Ic(7,t_,2,0,"div",22),i.Qb(),i.Qb()}if(2&e){var o=t.$implicit,r=t.index,a=i.fc();i.yb(3),i.Lc(o.trait),i.yb(2),i.mc("value",o.value),i.yb(1),i.mc("ngIf","definition"!=o.trait),i.yb(1),i.mc("ngIf",""==a.staticDef[r].value)}}function i_(e,t){if(1&e&&(i.Rb(0,"option",34),i.Kc(1),i.Qb()),2&e){var n=t.$implicit,o=i.fc(2).$implicit,r=i.fc();i.mc("disabled",r.definitionMemory.indexOf(n)>-1)("selected",o.value.propertyID===n),i.yb(1),i.Lc(n)}}function o_(e,t){1&e&&(i.Rb(0,"div",26),i.Kc(1," Please, don't leave this field blank "),i.Qb())}function r_(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",30),i.Rb(1,"select",31),i.bc("change",function(e){i.zc(n);var t=i.fc().index;return i.fc().onChangeDefinitionTrait(e,t)}),i.Rb(2,"option",32),i.Kc(3,"Select a trait..."),i.Qb(),i.Ic(4,i_,2,3,"option",33),i.Qb(),i.Ic(5,o_,2,0,"div",22),i.Qb()}if(2&e){var o=i.fc(),r=o.index,a=o.$implicit,s=i.fc();i.mc("formGroupName",r),i.yb(4),i.mc("ngForOf",s.definitionData),i.yb(1),i.mc("ngIf",a.get("propertyID").invalid)}}function a_(e,t){1&e&&(i.Rb(0,"div",26),i.Kc(1," Please, don't leave this field blank "),i.Qb())}function s_(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",35),i.Rb(1,"textarea",36),i.bc("keyup",function(e){i.zc(n);var t=i.fc().index;return i.fc().debounceKeyup(e,t)}),i.Qb(),i.Rb(2,"div",23),i.bc("click",function(){i.zc(n);var e=i.fc().index;return i.fc().removeDefinition(e)}),i.Rb(3,"button",24),i.Mb(4,"i",25),i.Qb(),i.Qb(),i.Ic(5,a_,2,0,"div",22),i.Qb()}if(2&e){var o=i.fc(),r=o.$implicit;i.mc("formGroupName",o.index),i.yb(5),i.mc("ngIf",r.get("propertyValue").invalid)}}function c_(e,t){if(1&e&&(i.Rb(0,"div",27),i.Ic(1,r_,6,3,"div",28),i.Ic(2,s_,6,2,"div",29),i.Qb()),2&e){var n=t.index,o=i.fc();i.yb(1),i.mc("ngIf",n+1>o.staticDef.length),i.yb(1),i.mc("ngIf",n+1>o.staticDef.length)}}function l_(e,t){if(1&e&&i.Mb(0,"input",42),2&e){var n=i.fc(2);i.mc("value",n.senseCore.get("confidence").value)}}function u_(e,t){if(1&e){var n=i.Sb();i.Rb(0,"button",43),i.bc("click",function(){i.zc(n);var e=i.fc().$implicit;return e.confidence=!e.confidence}),i.Mb(1,"i",44),i.Qb()}}function f_(e,t){if(1&e){var n=i.Sb();i.Rb(0,"button",43),i.bc("click",function(){i.zc(n);var e=i.fc().$implicit,t=i.fc();return e.confidence=!e.confidence,t.applyUncertain()}),i.Mb(1,"i",45),i.Qb()}}function d_(e,t){if(1&e&&(i.Rb(0,"div",1),i.Rb(1,"div",37),i.Rb(2,"label",38),i.Kc(3,"Uncertain"),i.Qb(),i.Qb(),i.Rb(4,"div",39),i.Ic(5,l_,1,1,"input",40),i.Ic(6,u_,2,0,"button",41),i.Ic(7,f_,2,0,"button",41),i.Qb(),i.Qb()),2&e){var n=t.$implicit;i.yb(5),i.mc("ngIf",n.confidence),i.yb(1),i.mc("ngIf",!n.confidence),i.yb(1),i.mc("ngIf",n.confidence)}}function h_(e,t){if(1&e&&i.Mb(0,"ng-select",57),2&e){var n=i.fc(3);i.mc("items",n.people)("loading",n.peopleLoading)}}function p_(e,t){1&e&&i.Mb(0,"input",58)}function b_(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",48),i.Ic(1,h_,1,2,"ng-select",49),i.Ic(2,p_,1,0,"input",50),i.Rb(3,"div",51),i.Rb(4,"input",52),i.bc("change",function(){var e=t.$implicit;return e.switch=!e.switch}),i.Qb(),i.Qb(),i.Rb(5,"div",53),i.Rb(6,"button",54),i.Mb(7,"i",55),i.Qb(),i.Qb(),i.Rb(8,"div",53),i.Rb(9,"button",56),i.bc("click",function(){i.zc(n);var e=i.fc().index;return i.fc().removeLexicalConcept(e)}),i.Mb(10,"i",25),i.Qb(),i.Qb(),i.Qb()}if(2&e){var o=t.$implicit,r=i.fc().index;i.mc("formGroupName",r),i.yb(1),i.mc("ngIf",!o.switch),i.yb(1),i.mc("ngIf",o.switch)}}var g_=function(){return{switch:!1}};function m_(e,t){1&e&&(i.Rb(0,"div",46),i.Ic(1,b_,11,3,"div",47),i.Qb()),2&e&&(i.yb(1),i.mc("ngIf",i.pc(1,g_)))}var v_,y_=function(e){return{no_pointer:e}},__=function(e){return{confidence:e}},C_=((v_=function(){function e(t,n,i){_classCallCheck(this,e),this.lexicalService=t,this.formBuilder=n,this.toastr=i,this.subject_def=new wc.a,this.subject_ex_def=new wc.a,this.switchInput=!1,this.peopleLoading=!1,this.counter=0,this.disableAddDef=!1,this.definitionData=[],this.definitionMemory=[],this.staticDef=[],this.senseCore=new vs.h({definition:new vs.c([this.createDefinition()]),confidence:new vs.f(null),usage:new vs.f("",[vs.x.required,vs.x.minLength(5)]),topic:new vs.f("",[vs.x.required,vs.x.minLength(5)]),reference:new vs.c([this.createReference()]),lexical_concept:new vs.c([this.createLexicalConcept()]),sense_of:new vs.f("",[vs.x.required,vs.x.minLength(5)])})}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;setTimeout(function(){$(".denotes-tooltip").tooltip({trigger:"hover"})},1e3),this.loadPeople(),this.subject_def.pipe(Object(ou.a)(1e3)).subscribe(function(t){e.onChangeDefinition(t)}),this.subject_ex_def.pipe(Object(ou.a)(1e3)).subscribe(function(t){e.onChangeExistingDefinition(t.evt,t.i)}),this.senseCore=this.formBuilder.group({definition:this.formBuilder.array([]),confidence:!1,usage:"",topic:"",reference:this.formBuilder.array([this.createReference()]),lexical_concept:this.formBuilder.array([]),sense_of:""}),this.onChanges()}},{key:"loadPeople",value:function(){}},{key:"ngOnChanges",value:function(e){var t=this;setTimeout(function(){if(t.object!=e.senseData.currentValue&&(t.lexicalConceptArray=t.senseCore.get("lexical_concept"),t.lexicalConceptArray.clear(),t.definitionArray=t.senseCore.get("definition"),t.definitionArray.clear(),t.staticDef=[]),t.object=e.senseData.currentValue,null!=t.object){t.definitionData=[],t.definitionMemory=[];for(var n=0;n<t.object.definition.length;n++){var i=t.object.definition[n].propertyID,o=t.object.definition[n].propertyValue;t.definitionData.push(i),"definition"==i&&""==o&&(t.definitionMemory.push(i),t.addDefinition(i,o),t.staticDef.push({trait:i,value:o})),""!=o&&(t.definitionMemory.push(i),t.addDefinition(i,o),t.staticDef.push({trait:i,value:o}))}t.senseCore.get("confidence").setValue(t.object.confidence,{emitEvent:!1}),t.senseCore.get("topic").setValue(t.object.topic,{emitEvent:!1}),t.senseCore.get("usage").setValue(t.object.usage,{emitEvent:!1}),t.addLexicalConcept(t.object.concept),t.senseCore.get("sense_of").setValue(t.object.sense,{emitEvent:!1})}},10)}},{key:"onChanges",value:function(){var e=this;this.senseCore.get("usage").valueChanges.pipe(Object(ou.a)(1e3)).subscribe(function(t){e.lexicalService.spinnerAction("on"),e.lexicalService.updateSense(e.object.senseInstanceName,{relation:"usage",value:t}).subscribe(function(t){console.log(t),e.lexicalService.spinnerAction("off"),e.lexicalService.updateCoreCard(e.object)},function(t){console.log(t),e.lexicalService.updateCoreCard({lastUpdate:t.error.text}),e.lexicalService.spinnerAction("off"),200!=t.status?e.toastr.error(t.error,"Error",{timeOut:5e3}):e.toastr.success("Sense usage changed","",{timeOut:5e3})})}),this.senseCore.controls.confidence.valueChanges.pipe(Object(Rc.a)(void 0),Object(ou.a)(1e3),Ic()).subscribe(function(t){console.log("Old value: ",t[0]),console.log("New value: ",t[1]),e.lexicalService.spinnerAction("on");var n,i=e.object.senseInstanceName,o=t[0],r=t[1];n=null==o?{type:"confidence",relation:"confidence",value:r}:null!=o&&-1==e.object.confidence?{type:"confidence",relation:"confidence",value:r,currentValue:-1}:{type:"confidence",relation:"confidence",value:r,currentValue:o},console.log(n),e.lexicalService.updateGenericRelation(i,n).subscribe(function(t){console.log(t),e.lexicalService.updateCoreCard(t),e.lexicalService.spinnerAction("off")},function(t){console.log(t),e.lexicalService.spinnerAction("off"),200==t.status?(e.toastr.success("Confidence updated","",{timeOut:5e3}),e.lexicalService.updateCoreCard({lastUpdate:t.error.text}),e.senseCore.get("confidence").setValue(r,{emitEvent:!1}),e.object.confidence=r):e.toastr.error(t.error,"Error",{timeOut:5e3})})}),this.senseCore.get("topic").valueChanges.pipe(Object(ou.a)(1e3)).subscribe(function(t){""!=t.trim()&&(e.lexicalService.spinnerAction("on"),e.lexicalService.updateSense(e.object.senseInstanceName,{relation:"subject",value:t}).subscribe(function(t){console.log(t),e.lexicalService.spinnerAction("off"),e.lexicalService.updateCoreCard(e.object),e.toastr.success("Sense topic changed","",{timeOut:5e3})},function(t){console.log(t),e.lexicalService.updateCoreCard({lastUpdate:t.error.text}),e.lexicalService.spinnerAction("off"),"object"!=typeof t.error&&e.toastr.error(t.error,"Error",{timeOut:5e3})}))}),this.senseCore.get("reference").valueChanges.pipe(Object(ou.a)(1e3)).subscribe(function(t){e.lexicalService.spinnerAction("on");var n=e.object.senseInstanceName,i={relation:"reference",value:t[0].entity};console.log(i),e.lexicalService.updateSense(n,i).subscribe(function(t){console.log(t),e.lexicalService.spinnerAction("off"),e.lexicalService.updateCoreCard(e.object)},function(t){console.log(t),e.lexicalService.updateCoreCard({lastUpdate:t.error.text}),e.lexicalService.spinnerAction("off"),200!=t.status?e.toastr.error(t.error,"Error",{timeOut:5e3}):e.toastr.success("Sense reference changed","",{timeOut:5e3})})})}},{key:"applyUncertain",value:function(){var e=this;this.lexicalService.spinnerAction("on"),this.senseCore.get("confidence");var t=this.object.senseInstanceName,n={relation:"confidence",value:0};console.log(n),this.lexicalService.deleteLinguisticRelation(t,n).subscribe(function(t){console.log(t),e.lexicalService.updateCoreCard(t),e.lexicalService.spinnerAction("off"),e.senseCore.get("confidence").setValue(-1,{emitEvent:!1}),e.object.confidence=-1},function(t){console.log(t),e.lexicalService.spinnerAction("off"),e.lexicalService.updateCoreCard({lastUpdate:t.error.text}),200==t.status?(e.toastr.success("Confidence updated","",{timeOut:5e3}),e.senseCore.get("confidence").setValue(-1,{emitEvent:!1}),e.object.confidence=-1):e.toastr.error(t.error,"Error",{timeOut:5e3})})}},{key:"onChangeDefinitionTrait",value:function(e,t){var n=this;setTimeout(function(){n.definitionArray=n.senseCore.get("definition"),n.definitionArray.at(t).patchValue({propertyID:e.target.value,propertyValue:""}),""!=e.target.value?n.definitionMemory[t]=e.target.value:n.definitionMemory.splice(t,1)},250)}},{key:"createReference",value:function(){return this.formBuilder.group({entity:new vs.f(null,[vs.x.required,vs.x.minLength(5)])})}},{key:"addDefinition",value:function(e,t){this.definitionArray=this.senseCore.get("definition"),null!=e?this.definitionArray.push(this.createDefinition(e,t)):(this.disableAddDef=!0,this.definitionArray.push(this.createDefinition()))}},{key:"removeDefinition",value:function(e){var t=this,n=this.senseCore.get("definition"),i=this.definitionArray.at(e).get("propertyID").value,o=this.definitionArray.at(e).get("propertyValue").value;null!=i?this.lexicalService.deleteLinguisticRelation(this.object.senseInstanceName,{relation:i,value:o}).subscribe(function(e){console.log(e),t.lexicalService.updateCoreCard(t.object),t.toastr.success("Sense definition deleted","",{timeOut:5e3})},function(e){console.log(e),t.lexicalService.updateCoreCard({lastUpdate:e.error.text}),"object"!=typeof e.error&&t.toastr.error(e.error,"Error",{timeOut:5e3})}):this.disableAddDef=!1,this.definitionMemory.splice(e,1),this.staticDef.splice(e,1),n.removeAt(e)}},{key:"debounceExistingKeyup",value:function(e,t){this.lexicalService.spinnerAction("on"),this.subject_ex_def.next({evt:e,i:t})}},{key:"debounceKeyup",value:function(e,t){this.lexicalService.spinnerAction("on"),this.subject_def.next({evt:e,i:t})}},{key:"createDefinition",value:function(e,t){return this.formBuilder.group(null!=e?{propertyID:new vs.f(e,[vs.x.required,vs.x.minLength(0)]),propertyValue:new vs.f(t,[vs.x.required,vs.x.minLength(0)])}:{propertyID:new vs.f(null,[vs.x.required,vs.x.minLength(0)]),propertyValue:new vs.f(null,[vs.x.required,vs.x.minLength(0)])})}},{key:"onChangeExistingDefinition",value:function(e,t){var n=this;this.definitionArray=this.senseCore.get("definition");var i=this.definitionArray.at(t).get("propertyID").value,o=e.target.value,r=this.object.senseInstanceName,a={relation:i,value:o};null!=i&&""!=o?(this.staticDef[t]={trait:i,value:o},this.lexicalService.updateSense(r,a).pipe(Object(ou.a)(1e3)).subscribe(function(e){console.log(e),n.lexicalService.spinnerAction("off"),n.lexicalService.updateCoreCard(e)},function(e){if(console.log(e),"definition"==i){var t=n.object;t.whatToSearch="sense",t.new_definition=o,t.request=6,n.lexicalService.refreshAfterEdit(t)}n.lexicalService.updateCoreCard({lastUpdate:e.error.text}),n.lexicalService.spinnerAction("off"),200!=e.status?n.toastr.error(e.error,"Error",{timeOut:5e3}):n.toastr.success("Sense definition changed","",{timeOut:5e3})})):(this.lexicalService.spinnerAction("off"),this.staticDef[t]={trait:i,value:""})}},{key:"onChangeDefinition",value:function(e){var t=this;this.definitionArray=this.senseCore.get("definition");var n=this.definitionArray.at(e.i).get("propertyID").value,i=e.evt.target.value,o=this.object.senseInstanceName,r={relation:n,value:i};null!=n?(this.staticDef.push({trait:n,value:i}),this.lexicalService.updateSense(o,r).pipe(Object(ou.a)(1e3)).subscribe(function(e){console.log(e),t.lexicalService.spinnerAction("off"),t.lexicalService.updateCoreCard(e),t.disableAddDef=!1},function(e){if(console.log(e),t.disableAddDef=!1,"definition"==n){var o=t.object;o.whatToSearch="sense",o.new_definition=i,o.request=6,t.lexicalService.refreshAfterEdit(o),200!=e.status?t.toastr.error(e.error,"Error",{timeOut:5e3}):t.toastr.success("Sense "+n+" changed","",{timeOut:5e3})}t.lexicalService.updateCoreCard({lastUpdate:e.error.text}),t.lexicalService.spinnerAction("off")})):this.lexicalService.spinnerAction("off")}},{key:"removeReference",value:function(e){this.senseCore.get("reference").removeAt(e)}},{key:"createLexicalConcept",value:function(e){return this.formBuilder.group(null!=e?{lex_concept:new vs.f(e,[vs.x.required,vs.x.minLength(5)])}:{lex_concept:new vs.f(null,[vs.x.required,vs.x.minLength(5)])})}},{key:"addLexicalConcept",value:function(e){this.lexicalConceptArray=this.senseCore.get("lexical_concept"),this.lexicalConceptArray.push(null!=e?this.createLexicalConcept(e):this.createLexicalConcept())}},{key:"removeLexicalConcept",value:function(e){this.lexicalConceptArray=this.senseCore.get("lexical_concept"),this.lexicalConceptArray.removeAt(e)}}]),e}()).\u0275fac=function(e){return new(e||v_)(i.Lb(sp.a),i.Lb(vs.e),i.Lb(Pu.b))},v_.\u0275cmp=i.Fb({type:v_,selectors:[["app-sense-core-form"]],inputs:{senseData:"senseData"},features:[i.wb],decls:26,vars:10,consts:[[3,"formGroup"],[1,"form-group","row","ml-2","mt-3","mr-2"],[1,"input-group","col-lg-12"],[1,"card"],[1,"text-id"],[1,"pointer",3,"ngClass","click"],[1,"collapse-icon"],[1,"fa","fa-plus-square"],[1,"card-body"],["class","d-flex my-3",4,"ngFor","ngForOf"],["class","d-flex my-2","formArrayName","definition",4,"ngFor","ngForOf"],["class","form-group row ml-2 mt-3 mr-2",4,"ngIf"],[1,"form-group","row","ml-2","mt-4","mr-2"],[1,"input-group","col-xl-12"],[1,"pointer",3,"click"],["class","form-group row ml-2 mt-3 mr-2","formArrayName","lexical_concept",4,"ngFor","ngForOf"],[1,"d-flex","my-3"],[1,"col-md-3"],[1,"col-form-label",2,"line-height","50px"],[1,"input-group","col-md-9"],["type","text","placeholder","",1,"form-control",2,"resize","none",3,"value","keyup"],["class","input-group-append ml-2",3,"click",4,"ngIf"],["class","invalid-feedback","style","display: block;",4,"ngIf"],[1,"input-group-append","ml-2",3,"click"],["type","button",1,"btn","btn-danger",2,"font-size","12px","border-radius",".25rem"],[1,"fa","fa-trash-alt"],[1,"invalid-feedback",2,"display","block"],["formArrayName","definition",1,"d-flex","my-2"],["class","col-md-3",3,"formGroupName",4,"ngIf"],["class","input-group col-md-9",3,"formGroupName",4,"ngIf"],[1,"col-md-3",3,"formGroupName"],["formControlName","propertyID","name","propertyID",1,"form-control","selectTrait",2,"font-size","12px","height","50px",3,"change"],["value",""],[3,"disabled","selected",4,"ngFor","ngForOf"],[3,"disabled","selected"],[1,"input-group","col-md-9",3,"formGroupName"],["formControlName","propertyValue","name","propertyValue","type","text","placeholder","",1,"form-control",2,"resize","none",3,"keyup"],[1,"col-lg-3"],["for","uncertainBox"],[1,"col-lg-3","input-group"],["id","attributes","step","0.1","formControlName","confidence","name","confidence","type","number","min","0","max","1","class","form-control","placeholder","No info",3,"value",4,"ngIf"],["type","button","class","btn btn-secondary btn-sm ml-2",3,"click",4,"ngIf"],["id","attributes","step","0.1","formControlName","confidence","name","confidence","type","number","min","0","max","1","placeholder","No info",1,"form-control",3,"value"],["type","button",1,"btn","btn-secondary","btn-sm","ml-2",3,"click"],[1,"fas","fa-plus"],[1,"fas","fa-minus"],["formArrayName","lexical_concept",1,"form-group","row","ml-2","mt-3","mr-2"],["class","input-group col-xl-12",3,"formGroupName",4,"ngIf"],[1,"input-group","col-xl-12",3,"formGroupName"],["formControlName","lex_concept","name","lex_concept","bindValue","name","bindLabel","name","placeholder","Search entity","appendTo","body",3,"items","loading",4,"ngIf"],["formControlName","lex_concept","name","lex_concept","type","text","class","form-control","placeholder","Insert URI",4,"ngIf"],[1,"input-group-append","ml-3","form-check",2,"align-items","center"],["type","checkbox","data-toggle","tooltip","data-placement","bottom","data-trigger","hover","title","Clicca per inserire un URI manualmente",1,"form-check-input","vartrans-tooltip",3,"change"],[1,"input-group-append","ml-2"],["type","button",1,"btn","btn-primary"],[1,"fa","fa-external-link-alt"],["type","button",1,"btn","btn-danger",3,"click"],["formControlName","lex_concept","name","lex_concept","bindValue","name","bindLabel","name","placeholder","Search entity","appendTo","body",3,"items","loading"],["formControlName","lex_concept","name","lex_concept","type","text","placeholder","Insert URI",1,"form-control"]],template:function(e,t){1&e&&(i.Rb(0,"form",0),i.Rb(1,"div",1),i.Rb(2,"div",2),i.Rb(3,"div",3),i.Rb(4,"span",4),i.Rb(5,"b"),i.Kc(6,"DEFINITIONS"),i.Qb(),i.Qb(),i.Rb(7,"a",5),i.bc("click",function(){return t.addDefinition()}),i.Rb(8,"span",6),i.Mb(9,"i",7),i.Qb(),i.Qb(),i.Rb(10,"div",8),i.Ic(11,n_,8,4,"div",9),i.Ic(12,c_,3,2,"div",10),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Ic(13,d_,8,3,"div",11),i.Mb(14,"div",12),i.Rb(15,"div",1),i.Rb(16,"div",13),i.Rb(17,"div",3),i.Rb(18,"span",4),i.Rb(19,"b"),i.Kc(20,"LEXICAL CONCEPT"),i.Qb(),i.Qb(),i.Rb(21,"a",14),i.bc("click",function(){return t.addLexicalConcept()}),i.Rb(22,"span",6),i.Mb(23,"i",7),i.Qb(),i.Qb(),i.Rb(24,"div",8),i.Ic(25,m_,2,2,"div",15),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb()),2&e&&(i.mc("formGroup",t.senseCore),i.yb(7),i.mc("ngClass",i.qc(6,y_,t.disableAddDef)),i.yb(4),i.mc("ngForOf",t.staticDef),i.yb(1),i.mc("ngForOf",t.senseCore.get("definition").controls),i.yb(1),i.mc("ngIf",i.qc(8,__,t.senseCore.get("confidence").value>=0)),i.yb(12),i.mc("ngForOf",t.senseCore.get("lexical_concept").controls))},directives:[vs.z,vs.o,vs.i,a.l,a.m,a.n,vs.d,vs.j,vs.w,vs.n,vs.g,vs.r,vs.y,vs.b,vs.s,kc.a],styles:[".row[_ngcontent-%COMP%]{align-items:center}.btn[_ngcontent-%COMP%]{height:38px;border-radius:.25rem}.btn[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{font-size:12px}.btn[_ngcontent-%COMP%]{height:32px}.form-check-input[_ngcontent-%COMP%]{margin-top:0}.card[_ngcontent-%COMP%]{margin-top:20px;padding-top:20px}#accordion[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{width:100%}.text-id[_ngcontent-%COMP%]{left:10px;top:-12px;padding:5px 10px;font-size:12px}.collapse-icon[_ngcontent-%COMP%], .text-id[_ngcontent-%COMP%]{position:absolute;background:#fff;text-align:center;color:#212529}.collapse-icon[_ngcontent-%COMP%]{right:4px;top:-16px;padding:5px;font-size:16px}.badge[_ngcontent-%COMP%]{font-size:11px}.pointer[_ngcontent-%COMP%]{cursor:pointer}.input-group-text[_ngcontent-%COMP%]{background-color:#fff;border:none}.input-group[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:not(:last-child){border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.inference[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:1px solid #ffc107!important}.no_pointer[_ngcontent-%COMP%]{pointer-events:none}.no_pointer[_ngcontent-%COMP%]   .collapse-icon[_ngcontent-%COMP%]{color:#8c8c8c}"]}),v_);function k_(e,t){if(1&e&&i.Mb(0,"ng-select",42),2&e){var n=i.fc(4);i.mc("items",n.people)("loading",n.peopleLoading)}}function O_(e,t){1&e&&i.Mb(0,"input",43)}function x_(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",24),i.Ic(1,k_,1,2,"ng-select",25),i.Ic(2,O_,1,0,"input",26),i.Rb(3,"div",27),i.Rb(4,"input",28),i.bc("change",function(){var e=t.$implicit;return e.switch=!e.switch}),i.Qb(),i.Qb(),i.Rb(5,"div",29),i.Rb(6,"button",30),i.Rb(7,"i",31),i.bc("click",function(){return i.zc(n),i.vc(9).show()}),i.Qb(),i.Qb(),i.Rb(8,"app-modal",32,33),i.Pb(10,34),i.Kc(11,"Demo modal"),i.Ob(),i.Pb(12,35),i.Rb(13,"h3"),i.Kc(14,"MODAL DIALOG"),i.Qb(),i.Rb(15,"p"),i.Kc(16,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\u2019s standard dummy text ever since the 1500s."),i.Qb(),i.Ob(),i.Pb(17,36),i.Rb(18,"button",37),i.bc("click",function(){return i.zc(n),i.vc(9).hide()}),i.Kc(19,"Delete"),i.Qb(),i.Rb(20,"button",38),i.bc("click",function(){return i.zc(n),i.vc(9).hide()}),i.Kc(21,"Save"),i.Qb(),i.Rb(22,"button",39),i.bc("click",function(){return i.zc(n),i.vc(9).hide()}),i.Kc(23,"Close "),i.Qb(),i.Ob(),i.Qb(),i.Qb(),i.Rb(24,"div",29),i.Rb(25,"button",40),i.bc("click",function(){i.zc(n);var e=i.fc().index;return i.fc(2).removeHierachicalRelation(e)}),i.Mb(26,"i",41),i.Qb(),i.Qb(),i.Qb()}if(2&e){var o=t.$implicit,r=i.fc().index;i.mc("formGroupName",r),i.yb(1),i.mc("ngIf",!o.switch),i.yb(1),i.mc("ngIf",o.switch),i.yb(6),i.mc("maximizable",!0)("backdrop",!1)}}var w_=function(){return{switch:!1}};function M_(e,t){if(1&e&&(i.Rb(0,"div",20),i.Rb(1,"div",21),i.Rb(2,"select",22),i.Rb(3,"option"),i.Kc(4,"Relations..."),i.Qb(),i.Rb(5,"option"),i.Kc(6,"..."),i.Qb(),i.Qb(),i.Qb(),i.Ic(7,x_,27,5,"div",23),i.Qb()),2&e){var n=t.index;i.yb(1),i.mc("formGroupName",n),i.yb(6),i.mc("ngIf",i.pc(2,w_))}}function P_(e,t){if(1&e&&i.Mb(0,"ng-select",54),2&e){var n=i.fc(4);i.mc("items",n.people)("loading",n.peopleLoading)}}function E_(e,t){1&e&&i.Mb(0,"input",55)}function S_(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",45),i.Ic(1,P_,1,2,"ng-select",46),i.Ic(2,E_,1,0,"input",47),i.Rb(3,"div",27),i.Rb(4,"input",28),i.bc("change",function(){var e=t.$implicit;return e.switch=!e.switch}),i.Qb(),i.Qb(),i.Rb(5,"div",29),i.Rb(6,"button",30),i.Mb(7,"i",48),i.Qb(),i.Qb(),i.Rb(8,"div",29),i.Rb(9,"button",40),i.bc("click",function(){i.zc(n);var e=i.fc().index;return i.fc(2).removeScheme(e)}),i.Mb(10,"i",41),i.Qb(),i.Qb(),i.Rb(11,"div",29),i.Rb(12,"button",49),i.bc("click",function(){return i.zc(n),i.vc(15).show()}),i.Mb(13,"i",50),i.Qb(),i.Rb(14,"app-modal",51,33),i.Pb(16,34),i.Kc(17,"Concept scheme creation"),i.Ob(),i.Pb(18,35),i.Rb(19,"div",2),i.Rb(20,"label",3),i.Kc(21,"Label:"),i.Qb(),i.Rb(22,"div",4),i.Mb(23,"input",52),i.Qb(),i.Qb(),i.Rb(24,"div",2),i.Rb(25,"label",6),i.Kc(26,"Definition:"),i.Qb(),i.Rb(27,"div",7),i.Mb(28,"textarea",53),i.Qb(),i.Qb(),i.Ob(),i.Qb(),i.Qb(),i.Qb()}if(2&e){var o=t.$implicit,r=i.fc().index;i.mc("formGroupName",r),i.yb(1),i.mc("ngIf",!o.switch),i.yb(1),i.mc("ngIf",o.switch)}}function R_(e,t){1&e&&(i.Rb(0,"div"),i.Rb(1,"div",2),i.Ic(2,S_,29,3,"div",44),i.Qb(),i.Qb()),2&e&&(i.yb(2),i.mc("ngIf",i.pc(1,w_)))}function I_(e,t){if(1&e&&i.Mb(0,"ng-select",54),2&e){var n=i.fc(4);i.mc("items",n.people)("loading",n.peopleLoading)}}function A_(e,t){1&e&&i.Mb(0,"input",55)}function T_(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",45),i.Ic(1,I_,1,2,"ng-select",46),i.Ic(2,A_,1,0,"input",47),i.Rb(3,"div",27),i.Rb(4,"input",28),i.bc("change",function(){var e=t.$implicit;return e.switch=!e.switch}),i.Qb(),i.Qb(),i.Rb(5,"div",29),i.Rb(6,"button",30),i.Mb(7,"i",48),i.Qb(),i.Qb(),i.Rb(8,"div",29),i.Rb(9,"button",40),i.bc("click",function(){i.zc(n);var e=i.fc().index;return i.fc(2).removeConceptReference(e)}),i.Mb(10,"i",41),i.Qb(),i.Qb(),i.Qb()}if(2&e){var o=t.$implicit,r=i.fc().index;i.mc("formGroupName",r),i.yb(1),i.mc("ngIf",!o.switch),i.yb(1),i.mc("ngIf",o.switch)}}function D_(e,t){1&e&&(i.Rb(0,"div"),i.Rb(1,"div",2),i.Ic(2,T_,11,3,"div",44),i.Qb(),i.Qb()),2&e&&(i.yb(2),i.mc("ngIf",i.pc(1,w_)))}function j_(e,t){if(1&e){var n=i.Sb();i.Rb(0,"form",1),i.Rb(1,"div",2),i.Rb(2,"label",3),i.Kc(3,"Label:"),i.Qb(),i.Rb(4,"div",4),i.Mb(5,"input",5),i.Qb(),i.Qb(),i.Rb(6,"div",2),i.Rb(7,"label",6),i.Kc(8,"Definition:"),i.Qb(),i.Rb(9,"div",7),i.Mb(10,"textarea",8),i.Qb(),i.Qb(),i.Rb(11,"div",2),i.Rb(12,"div",9),i.Rb(13,"div",10),i.Rb(14,"span",11),i.Rb(15,"b"),i.Kc(16,"HIERARCHICAL RELATION"),i.Qb(),i.Qb(),i.Rb(17,"a",12),i.bc("click",function(){return i.zc(n),i.fc().addHierachicalRelation()}),i.Rb(18,"span",13),i.Mb(19,"i",14),i.Qb(),i.Qb(),i.Rb(20,"div",15),i.Ic(21,M_,8,3,"div",16),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(22,"div",2),i.Rb(23,"div",9),i.Rb(24,"div",10),i.Rb(25,"span",11),i.Rb(26,"b"),i.Kc(27,"SCHEME"),i.Qb(),i.Qb(),i.Rb(28,"a",12),i.bc("click",function(){return i.zc(n),i.fc().addScheme()}),i.Rb(29,"span",13),i.Mb(30,"i",14),i.Qb(),i.Qb(),i.Rb(31,"div",15),i.Rb(32,"div",17),i.Ic(33,R_,3,2,"div",18),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(34,"div",2),i.Rb(35,"div",9),i.Rb(36,"div",10),i.Rb(37,"span",11),i.Rb(38,"b"),i.Kc(39,"CONCEPT REFERENCE"),i.Qb(),i.Qb(),i.Rb(40,"a",12),i.bc("click",function(){return i.zc(n),i.fc().addConceptReference()}),i.Rb(41,"span",13),i.Mb(42,"i",14),i.Qb(),i.Qb(),i.Rb(43,"div",15),i.Rb(44,"div",19),i.Ic(45,D_,3,2,"div",18),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb()}if(2&e){var o=i.fc();i.mc("formGroup",o.lexicalConceptForm),i.yb(21),i.mc("ngForOf",o.lexicalConceptForm.get("hierachicalRelation").controls),i.yb(12),i.mc("ngForOf",o.lexicalConceptForm.get("scheme").controls),i.yb(12),i.mc("ngForOf",o.lexicalConceptForm.get("conceptReference").controls)}}var F_,Q_=((F_=function(){function e(t,n){_classCallCheck(this,e),this.lexicalService=t,this.formBuilder=n,this.switchInput=!1,this.peopleLoading=!1,this.counter=0,this.lexicalConceptForm=new vs.h({label:new vs.f(""),definition:new vs.f(""),hierachicalRelation:new vs.c([this.createHierachicalRelation()]),scheme:new vs.c([this.createScheme()]),conceptReference:new vs.c([this.createConceptReference()])})}return _createClass(e,[{key:"ngOnInit",value:function(){this.lexicalConceptForm=this.formBuilder.group({label:"",definition:"",hierachicalRelation:this.formBuilder.array([this.createHierachicalRelation()]),scheme:this.formBuilder.array([this.createScheme()]),conceptReference:this.formBuilder.array([this.createConceptReference()])}),this.onChanges(),this.loadPeople(),this.triggerTooltip()}},{key:"ngOnChanges",value:function(e){var t=this;setTimeout(function(){t.object!=e.lexicalConceptData.currentValue&&null!=t.conceptReference&&(t.conceptReference.clear(),t.hierachicalRelation.clear(),t.scheme.clear()),t.loadPeople(),t.object=e.lexicalConceptData.currentValue,null!=t.object&&t.lexicalConceptForm.get("label").setValue(t.object.label,{emitEvent:!1}),t.triggerTooltip()},10)}},{key:"triggerTooltip",value:function(){setTimeout(function(){$(".vartrans-tooltip").tooltip({trigger:"hover"})},500)}},{key:"loadPeople",value:function(){this.peopleLoading=!0}},{key:"onChanges",value:function(){this.lexicalConceptForm.valueChanges.pipe(Object(ou.a)(200)).subscribe(function(e){})}},{key:"createScheme",value:function(){return this.formBuilder.group({target:""})}},{key:"addScheme",value:function(){this.scheme=this.lexicalConceptForm.get("scheme"),this.scheme.push(this.createScheme()),this.triggerTooltip()}},{key:"removeScheme",value:function(e){this.scheme=this.lexicalConceptForm.get("scheme"),this.scheme.removeAt(e)}},{key:"addHierachicalRelation",value:function(){this.hierachicalRelation=this.lexicalConceptForm.get("hierachicalRelation"),this.hierachicalRelation.push(this.createHierachicalRelation()),this.triggerTooltip()}},{key:"removeHierachicalRelation",value:function(e){this.hierachicalRelation=this.lexicalConceptForm.get("hierachicalRelation"),this.hierachicalRelation.removeAt(e)}},{key:"addConceptReference",value:function(){this.conceptReference=this.lexicalConceptForm.get("conceptReference"),this.conceptReference.push(this.createConceptReference()),this.triggerTooltip()}},{key:"removeConceptReference",value:function(e){this.conceptReference=this.lexicalConceptForm.get("conceptReference"),this.conceptReference.removeAt(e)}},{key:"createHierachicalRelation",value:function(){return this.formBuilder.group({relation:"",entity:""})}},{key:"createConceptReference",value:function(){return this.formBuilder.group({target:""})}}]),e}()).\u0275fac=function(e){return new(e||F_)(i.Lb(sp.a),i.Lb(vs.e))},F_.\u0275cmp=i.Fb({type:F_,selectors:[["app-lexical-concept-form"]],inputs:{lexicalConceptData:"lexicalConceptData"},features:[i.wb],decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-group","row","ml-2","mt-3","mr-2"],["for","inputLabel",1,"col-xl-3","col-form-label"],[1,"input-group","col-xl-5"],["formControlName","label","name","label","type","text","placeholder","",1,"form-control"],["for","inputLabel",1,"col-lg-3","col-form-label"],[1,"input-group","col-lg-8"],["formControlName","definition","name","definition",1,"form-control",2,"resize","none"],[1,"input-group","col-xl-12"],[1,"card"],[1,"text-id"],[1,"pointer",3,"click"],[1,"collapse-icon"],[1,"fa","fa-plus-square"],[1,"card-body"],["class","form-group row ml-2 mt-3 mr-2","formArrayName","hierachicalRelation",4,"ngFor","ngForOf"],["formArrayName","scheme"],[4,"ngFor","ngForOf"],["formArrayName","conceptReference"],["formArrayName","hierachicalRelation",1,"form-group","row","ml-2","mt-3","mr-2"],[1,"col-xl-5",3,"formGroupName"],["formControlName","relation","name","relation",1,"form-control"],["class","input-group col-xl-7",3,"formGroupName",4,"ngIf"],[1,"input-group","col-xl-7",3,"formGroupName"],["formControlName","entity","name","entity","bindValue","name","bindLabel","name","placeholder","Search entity","appendTo","body",3,"items","loading",4,"ngIf"],["formControlName","entity","name","entity","type","text","class","form-control","placeholder","Insert URI",4,"ngIf"],[1,"input-group-append","ml-3","form-check",2,"align-items","center"],["type","checkbox","data-toggle","tooltip","data-placement","bottom","data-trigger","hover","title","Clicca per inserire un URI manualmente",1,"form-check-input","vartrans-tooltip",3,"change"],[1,"input-group-append","ml-2"],["type","button",1,"btn","btn-primary"],[1,"fa","fa-external-link-alt",3,"click"],[1,"modal-demo",3,"maximizable","backdrop"],["modalRoot",""],[1,"app-modal-header"],[1,"app-modal-body"],[1,"app-modal-footer"],["type","button",1,"button","button3",3,"click"],["type","button",1,"button","button1",3,"click"],["type","button",1,"button","button2",2,"float","right",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash-alt"],["formControlName","entity","name","entity","bindValue","name","bindLabel","name","placeholder","Search entity","appendTo","body",3,"items","loading"],["formControlName","entity","name","entity","type","text","placeholder","Insert URI",1,"form-control"],["class","input-group col-xl-9",3,"formGroupName",4,"ngIf"],[1,"input-group","col-xl-9",3,"formGroupName"],["formControlName","target","name","target","bindValue","name","bindLabel","name","placeholder","Search entity","appendTo","body",3,"items","loading",4,"ngIf"],["formControlName","target","name","target","type","text","class","form-control","placeholder","Insert URI",4,"ngIf"],[1,"fa","fa-external-link-alt"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"fa","fa-plus"],[1,"modal-demo"],["type","text","placeholder","",1,"form-control"],[1,"form-control",2,"resize","none"],["formControlName","target","name","target","bindValue","name","bindLabel","name","placeholder","Search entity","appendTo","body",3,"items","loading"],["formControlName","target","name","target","type","text","placeholder","Insert URI",1,"form-control"]],template:function(e,t){1&e&&i.Ic(0,j_,46,4,"form",0),2&e&&i.mc("ngIf",null!=t.object)},directives:[a.n,vs.z,vs.o,vs.i,vs.b,vs.n,vs.g,a.m,vs.d,vs.j,vs.w,vs.r,vs.y,Rp,kc.a],styles:[".row[_ngcontent-%COMP%]{align-items:center}.btn[_ngcontent-%COMP%]{height:38px;border-radius:.25rem!important}.btn[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{font-size:12px}.btn[_ngcontent-%COMP%]{height:32px}.form-check-input[_ngcontent-%COMP%]{margin-top:0}.card[_ngcontent-%COMP%]{margin-top:20px;padding-top:20px}#accordion[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{width:100%}.text-id[_ngcontent-%COMP%]{left:10px;top:-12px;padding:5px 10px;font-size:12px}.collapse-icon[_ngcontent-%COMP%], .text-id[_ngcontent-%COMP%]{position:absolute;background:#fff;text-align:center;color:#212529}.collapse-icon[_ngcontent-%COMP%]{right:4px;top:-16px;padding:5px;font-size:16px}.badge[_ngcontent-%COMP%]{font-size:11px}.pointer[_ngcontent-%COMP%]{cursor:pointer}.input-group-text[_ngcontent-%COMP%]{background-color:#fff;border:none}.input-group[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:not(:last-child){border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}"]}),F_),L_=["expander"],N_=["addBibliography"],z_=["table_body"],V_=["searchBiblio"];function B_(e,t){1&e&&(i.Rb(0,"span"),i.Kc(1," Lexical Entry "),i.Qb())}function U_(e,t){1&e&&(i.Rb(0,"span"),i.Kc(1," Sense "),i.Qb())}function H_(e,t){1&e&&(i.Rb(0,"span"),i.Kc(1," Form "),i.Qb())}function K_(e,t){if(1&e&&(i.Rb(0,"span",67),i.Ic(1,B_,2,0,"span",24),i.Ic(2,U_,2,0,"span",24),i.Ic(3,H_,2,0,"span",24),i.Kc(4),i.gc(5,"date"),i.Qb()),2&e){var n=i.fc();i.yb(1),i.mc("ngIf",n.isLexicalEntry),i.yb(1),i.mc("ngIf",n.isSense),i.yb(1),i.mc("ngIf",n.isForm),i.yb(1),i.Nc(" CREATED BY ",n.creator," ON ",i.ic(5,5,n.creationDate,"dd/MM/yyyy hh:mm:ss")," ")}}function q_(e,t){1&e&&(i.Rb(0,"div",68),i.Rb(1,"span",17),i.Kc(2,"Loading..."),i.Qb(),i.Qb())}function $_(e,t){if(1&e){var n=i.Sb();i.Rb(0,"button",69),i.bc("click",function(){return i.zc(n),i.fc(),i.vc(42).show()}),i.Mb(1,"i",70),i.Qb()}}function W_(e,t){if(1&e){var n=i.Sb();i.Rb(0,"button",71),i.bc("click",function(){return i.zc(n),i.fc(),i.vc(42).show()}),i.Mb(1,"i",70),i.Qb()}}function G_(e,t){if(1&e){var n=i.Sb();i.Rb(0,"button",72),i.bc("click",function(){return i.zc(n),i.fc(),i.vc(42).show()}),i.Mb(1,"i",70),i.Qb()}}function Y_(e,t){if(1&e){var n=i.Sb();i.Rb(0,"button",69),i.bc("click",function(){return i.zc(n),i.fc().changeStatus()}),i.Mb(1,"i",73),i.Mb(2,"i",74),i.Mb(3,"i",75),i.Qb()}if(2&e){var o=i.fc();i.yb(1),i.mc("hidden",0!=o.lock),i.yb(1),i.mc("hidden",1!=o.lock),i.yb(1),i.mc("hidden",2!=o.lock)}}function X_(e,t){if(1&e&&i.Mb(0,"app-lexical-entry-core-form",76),2&e){var n=i.fc();i.mc("lexData",n.lexicalEntryData)}}function Z_(e,t){if(1&e&&i.Mb(0,"app-form-core-form",77),2&e){var n=i.fc();i.mc("formData",n.formData)}}function J_(e,t){if(1&e&&i.Mb(0,"app-sense-core-form",78),2&e){var n=i.fc();i.mc("senseData",n.senseData)}}function eC(e,t){if(1&e&&i.Mb(0,"app-lexical-concept-form",79),2&e){var n=i.fc();i.mc("lexicalConceptData",n.lexicalConceptData)}}function tC(e,t){if(1&e&&(i.Rb(0,"div"),i.Rb(1,"span",80),i.Kc(2),i.gc(3,"date"),i.Qb(),i.Qb()),2&e){var n=i.fc();i.yb(2),i.Mc("LAST UPDATE ON ",i.ic(3,1,n.lastUpdateDate,"dd/MM/yyyy hh:mm:ss"),"")}}function nC(e,t){if(1&e&&(i.Rb(0,"div",89),i.Rb(1,"label",90),i.Kc(2),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(2),i.Mc("Are you sure to delete ",n.object.label,"?")}}function iC(e,t){if(1&e&&(i.Rb(0,"div",89),i.Rb(1,"label",90),i.Kc(2),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(2),i.Mc("Are you sure to delete ",n.object.label[0].propertyValue,"?")}}function oC(e,t){if(1&e&&(i.Rb(0,"div",89),i.Rb(1,"label",90),i.Kc(2),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(2),i.Mc("Are you sure to delete ",n.object.senseInstanceName,"?")}}function rC(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",86),i.Rb(1,"button",91),i.bc("click",function(){i.zc(n);var e=i.fc(2),t=i.vc(42);return e.deleteLexicalEntry(),t.hide()}),i.Mb(2,"i",92),i.Qb(),i.Qb()}}function aC(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",86),i.Rb(1,"button",91),i.bc("click",function(){i.zc(n);var e=i.fc(2),t=i.vc(42);return e.deleteForm(),t.hide()}),i.Mb(2,"i",92),i.Qb(),i.Qb()}}function sC(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",86),i.Rb(1,"button",91),i.bc("click",function(){i.zc(n);var e=i.fc(2),t=i.vc(42);return e.deleteSense(),t.hide()}),i.Mb(2,"i",92),i.Qb(),i.Qb()}}function cC(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",81),i.Ic(1,nC,3,1,"div",82),i.Ic(2,iC,3,1,"div",82),i.Ic(3,oC,3,1,"div",82),i.Rb(4,"div",83),i.Rb(5,"div",84),i.Ic(6,rC,3,0,"div",85),i.Ic(7,aC,3,0,"div",85),i.Ic(8,sC,3,0,"div",85),i.Rb(9,"div",86),i.Rb(10,"button",87),i.bc("click",function(){return i.zc(n),i.fc(),i.vc(42).hide()}),i.Mb(11,"i",88),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb()}if(2&e){var o=i.fc();i.yb(1),i.mc("ngIf",o.isLexicalEntry),i.yb(1),i.mc("ngIf",o.isForm),i.yb(1),i.mc("ngIf",o.isSense),i.yb(3),i.mc("ngIf",o.isLexicalEntry),i.yb(1),i.mc("ngIf",o.isForm),i.yb(1),i.mc("ngIf",o.isSense)}}function lC(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",93),i.Rb(1,"div",94),i.Rb(2,"button",95),i.Mb(3,"i",96),i.Qb(),i.Rb(4,"div",97),i.Rb(5,"a",98),i.bc("click",function(){i.zc(n);var e=t.$implicit,o=i.vc(10),r=i.fc();return e.switch=!1,r.searchBibliography(o.value,e.switch)}),i.Kc(6,"Normal"),i.Qb(),i.Rb(7,"a",98),i.bc("click",function(){i.zc(n);var e=t.$implicit,o=i.vc(10),r=i.fc();return e.switch=!0,r.searchBibliography(o.value,e.switch)}),i.Kc(8,"Full Text"),i.Qb(),i.Qb(),i.Qb(),i.Rb(9,"input",99,100),i.bc("keyup",function(e){i.zc(n);var o=t.$implicit,r=i.vc(10);return i.fc().triggerSearch(e,r.value,o.switch)}),i.Qb(),i.Qb()}if(2&e){var o=t.$implicit;i.yb(5),i.Db("disable_click_fire",!o.switch),i.yb(2),i.Db("disable_click_fire",o.switch),i.yb(2),i.mc("placeholder",o.switch?"Title, creator, year + Full Text":"Title, creator, year")}}function uC(e,t){1&e&&i.Mb(0,"i",101)}function fC(e,t){1&e&&i.Mb(0,"i",102)}function dC(e,t){1&e&&i.Mb(0,"i",101)}function hC(e,t){1&e&&i.Mb(0,"i",102)}function pC(e,t){1&e&&i.Mb(0,"i",101)}function bC(e,t){1&e&&i.Mb(0,"i",102)}function gC(e,t){1&e&&(i.Rb(0,"span",109),i.Mb(1,"i",110),i.Qb())}function mC(e,t){1&e&&(i.Rb(0,"span",109),i.Mb(1,"i",111),i.Qb())}function vC(e,t){1&e&&(i.Rb(0,"span",109),i.Mb(1,"i",112),i.Qb())}function yC(e,t){1&e&&(i.Rb(0,"span",109),i.Mb(1,"i",113),i.Qb())}function _C(e,t){1&e&&(i.Rb(0,"span",109),i.Mb(1,"i",114),i.Qb())}function CC(e,t){1&e&&(i.Rb(0,"span",109),i.Mb(1,"i",115),i.Qb())}function kC(e,t){if(1&e&&(i.Rb(0,"span"),i.Kc(1),i.gc(2,"titlecase"),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(1),i.Lc(i.hc(2,1,n.data.title))}}function OC(e,t){1&e&&(i.Rb(0,"span",116),i.Kc(1,"No title"),i.Qb())}function xC(e,t){if(1&e&&(i.Rb(0,"span"),i.Kc(1),i.gc(2,"titlecase"),i.gc(3,"titlecase"),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(1),i.Nc(" ",i.hc(2,2,n.lastName)," ",i.hc(3,4,n.firstName)," ")}}function wC(e,t){if(1&e&&(i.Rb(0,"span"),i.Ic(1,xC,4,6,"span",24),i.Qb()),2&e){var n=t.$implicit;i.yb(1),i.mc("ngIf","author"==n.creatorType)}}function MC(e,t){1&e&&(i.Rb(0,"span",116),i.Kc(1,"No data"),i.Qb())}function PC(e,t){if(1&e&&(i.Rb(0,"span"),i.Ic(1,wC,2,1,"span",117),i.Ic(2,MC,2,0,"span",106),i.Qb()),2&e){var n=i.fc().$implicit,o=i.fc();i.yb(1),i.mc("ngForOf",n.data.creators),i.yb(1),i.mc("ngIf",!o.checkIfCreatorExist(n.data.creators))}}function EC(e,t){1&e&&(i.Rb(0,"span",116),i.Kc(1,"No data"),i.Qb())}function SC(e,t){if(1&e&&(i.Rb(0,"span"),i.Kc(1),i.gc(2,"titlecase"),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(1),i.Mc(" ",i.hc(2,1,n.data.date)," ")}}function RC(e,t){1&e&&(i.Rb(0,"span",116),i.Kc(1," No info "),i.Qb())}function IC(e,t){if(1&e){var n=i.Sb();i.Rb(0,"tr",103),i.bc("click",function(e){i.zc(n);var o=t.$implicit;return i.fc().selectItem(e,o)}),i.Rb(1,"td",104),i.Ic(2,gC,2,0,"span",105),i.Ic(3,mC,2,0,"span",105),i.Ic(4,vC,2,0,"span",105),i.Ic(5,yC,2,0,"span",105),i.Ic(6,_C,2,0,"span",105),i.Ic(7,CC,2,0,"span",105),i.Ic(8,kC,3,3,"span",24),i.Ic(9,OC,2,0,"span",106),i.Qb(),i.Rb(10,"td",107),i.Ic(11,PC,3,2,"span",24),i.Ic(12,EC,2,0,"span",106),i.Qb(),i.Rb(13,"td",108),i.Ic(14,SC,3,3,"span",24),i.Ic(15,RC,2,0,"span",106),i.Qb(),i.Qb()}if(2&e){var o=t.$implicit;i.mc("ngClass",null!=o&&o.selected?"selected":""),i.yb(2),i.mc("ngIf","book"==o.data.itemType),i.yb(1),i.mc("ngIf","bookSection"==o.data.itemType),i.yb(1),i.mc("ngIf","journalArticle"==o.data.itemType),i.yb(1),i.mc("ngIf","note"==o.data.itemType),i.yb(1),i.mc("ngIf","attachment"==o.data.itemType),i.yb(1),i.mc("ngIf","conferencePaper"==o.data.itemType),i.yb(1),i.mc("ngIf",null!=o.data.title&&""!=o.data.title),i.yb(1),i.mc("ngIf",null==o.data.title||""==o.data.title),i.yb(2),i.mc("ngIf",null!=o.data.creators),i.yb(1),i.mc("ngIf",null==o.data.creators),i.yb(2),i.mc("ngIf",null!=o.data.date&&""!=o.data.date),i.yb(1),i.mc("ngIf",null==o.data.date||""==o.data.date)}}function AC(e,t){1&e&&(i.Rb(0,"p",118),i.Kc(1,"No results"),i.Qb())}function TC(e,t){1&e&&(i.Rb(0,"div"),i.Rb(1,"div",46),i.Rb(2,"div",119),i.Rb(3,"p",120),i.Kc(4," No item selected "),i.Qb(),i.Qb(),i.Qb(),i.Qb())}function DC(e,t){if(1&e&&(i.Rb(0,"div",46),i.Rb(1,"div",122),i.Rb(2,"p",123),i.Kc(3," Item type "),i.Qb(),i.Qb(),i.Rb(4,"div",124),i.Rb(5,"p",125),i.Kc(6),i.gc(7,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",i.hc(7,1,n.selectedItem.data.itemType)," ")}}function jC(e,t){if(1&e&&(i.Rb(0,"div",46),i.Rb(1,"div",122),i.Rb(2,"p",123),i.Kc(3," Title "),i.Qb(),i.Qb(),i.Rb(4,"div",124),i.Rb(5,"p",125),i.Kc(6),i.gc(7,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",i.hc(7,1,n.selectedItem.data.title)," ")}}function FC(e,t){if(1&e&&(i.Rb(0,"span"),i.Rb(1,"p",125),i.Kc(2),i.gc(3,"titlecase"),i.gc(4,"titlecase"),i.Qb(),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(2),i.Nc(" ",i.hc(3,2,n.firstName)," ",i.hc(4,4,n.lastName)," ")}}function QC(e,t){if(1&e&&(i.Rb(0,"span"),i.Ic(1,FC,5,6,"span",24),i.Qb()),2&e){var n=t.$implicit;i.yb(1),i.mc("ngIf","author"==n.creatorType)}}function LC(e,t){if(1&e&&(i.Rb(0,"div",46),i.Rb(1,"div",122),i.Rb(2,"p",123),i.Kc(3," Author "),i.Qb(),i.Qb(),i.Rb(4,"div",124),i.Ic(5,QC,2,1,"span",117),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(5),i.mc("ngForOf",n.selectedItem.data.creators)}}function NC(e,t){if(1&e&&(i.Rb(0,"span"),i.Rb(1,"p",125),i.Kc(2),i.gc(3,"titlecase"),i.gc(4,"titlecase"),i.Qb(),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(2),i.Nc(" ",i.hc(3,2,n.firstName)," ",i.hc(4,4,n.lastName)," ")}}function zC(e,t){if(1&e&&(i.Rb(0,"span"),i.Ic(1,NC,5,6,"span",24),i.Qb()),2&e){var n=t.$implicit;i.yb(1),i.mc("ngIf","editor"==n.creatorType)}}function VC(e,t){if(1&e&&(i.Rb(0,"div",46),i.Rb(1,"div",122),i.Rb(2,"p",123),i.Kc(3," Editor "),i.Qb(),i.Qb(),i.Rb(4,"div",124),i.Ic(5,zC,2,1,"span",117),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(5),i.mc("ngForOf",n.selectedItem.data.creators)}}function BC(e,t){if(1&e&&(i.Rb(0,"div",46),i.Rb(1,"div",122),i.Rb(2,"p",123),i.Kc(3," Publication "),i.Qb(),i.Qb(),i.Rb(4,"div",124),i.Rb(5,"p",125),i.Kc(6),i.gc(7,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",i.hc(7,1,n.selectedItem.data.publicationTitle)," ")}}function UC(e,t){if(1&e&&(i.Rb(0,"div",46),i.Rb(1,"div",122),i.Rb(2,"p",123),i.Kc(3," Publisher "),i.Qb(),i.Qb(),i.Rb(4,"div",124),i.Rb(5,"p",125),i.Kc(6),i.gc(7,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",i.hc(7,1,n.selectedItem.data.publisher)," ")}}function HC(e,t){if(1&e&&(i.Rb(0,"div",46),i.Rb(1,"div",122),i.Rb(2,"p",123),i.Kc(3," Issue "),i.Qb(),i.Qb(),i.Rb(4,"div",124),i.Rb(5,"p",125),i.Kc(6),i.gc(7,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",i.hc(7,1,n.selectedItem.data.issue)," ")}}function KC(e,t){if(1&e&&(i.Rb(0,"div",46),i.Rb(1,"div",122),i.Rb(2,"p",123),i.Kc(3," Pages "),i.Qb(),i.Qb(),i.Rb(4,"div",124),i.Rb(5,"p",125),i.Kc(6),i.gc(7,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",i.hc(7,1,n.selectedItem.data.pages)," ")}}function qC(e,t){if(1&e&&(i.Rb(0,"div",46),i.Rb(1,"div",122),i.Rb(2,"p",123),i.Kc(3," Place "),i.Qb(),i.Qb(),i.Rb(4,"div",124),i.Rb(5,"p",125),i.Kc(6),i.gc(7,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",i.hc(7,1,n.selectedItem.data.place)," ")}}function $C(e,t){if(1&e&&(i.Rb(0,"div",46),i.Rb(1,"div",122),i.Rb(2,"p",123),i.Kc(3," Date "),i.Qb(),i.Qb(),i.Rb(4,"div",124),i.Rb(5,"p",125),i.Kc(6),i.gc(7,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",i.hc(7,1,n.selectedItem.data.date)," ")}}function WC(e,t){if(1&e&&(i.Rb(0,"div",46),i.Rb(1,"div",122),i.Rb(2,"p",123),i.Kc(3," Journal Abbr "),i.Qb(),i.Qb(),i.Rb(4,"div",124),i.Rb(5,"p",125),i.Kc(6),i.gc(7,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",i.hc(7,1,n.selectedItem.data.journalAbbreviation)," ")}}function GC(e,t){if(1&e&&(i.Rb(0,"div",46),i.Rb(1,"div",122),i.Rb(2,"p",123),i.Rb(3,"a",126),i.Kc(4,"DOI "),i.Mb(5,"i",127),i.Qb(),i.Qb(),i.Qb(),i.Rb(6,"div",124),i.Rb(7,"p",125),i.Kc(8),i.gc(9,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(3),i.nc("href","https://doi.org/"+n.selectedItem.data.DOI,i.Bc),i.yb(5),i.Mc(" ",i.hc(9,2,n.selectedItem.data.DOI)," ")}}function YC(e,t){if(1&e&&(i.Rb(0,"div",46),i.Rb(1,"div",122),i.Rb(2,"p",123),i.Kc(3," ISSN "),i.Qb(),i.Qb(),i.Rb(4,"div",124),i.Rb(5,"p",125),i.Kc(6),i.gc(7,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",i.hc(7,1,n.selectedItem.data.ISSN)," ")}}function XC(e,t){if(1&e&&(i.Rb(0,"div",46),i.Rb(1,"div",122),i.Rb(2,"p",123),i.Rb(3,"a",126),i.Kc(4,"URL "),i.Mb(5,"i",127),i.Qb(),i.Qb(),i.Qb(),i.Rb(6,"div",124),i.Rb(7,"p",125),i.Kc(8),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(3),i.nc("href",n.selectedItem.data.url,i.Bc),i.yb(5),i.Mc(" ",n.selectedItem.data.url," ")}}function ZC(e,t){if(1&e&&(i.Rb(0,"div",46),i.Rb(1,"div",122),i.Rb(2,"p",123),i.Kc(3," Accessed "),i.Qb(),i.Qb(),i.Rb(4,"div",124),i.Rb(5,"p",125),i.Kc(6),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",n.selectedItem.data.accessDate," ")}}function JC(e,t){if(1&e&&(i.Rb(0,"div"),i.Ic(1,DC,8,3,"div",121),i.Ic(2,jC,8,3,"div",121),i.Ic(3,LC,6,1,"div",121),i.Ic(4,VC,6,1,"div",121),i.Ic(5,BC,8,3,"div",121),i.Ic(6,UC,8,3,"div",121),i.Ic(7,HC,8,3,"div",121),i.Ic(8,KC,8,3,"div",121),i.Ic(9,qC,8,3,"div",121),i.Ic(10,$C,8,3,"div",121),i.Ic(11,WC,8,3,"div",121),i.Ic(12,GC,10,4,"div",121),i.Ic(13,YC,8,3,"div",121),i.Ic(14,XC,9,2,"div",121),i.Ic(15,ZC,7,1,"div",121),i.Qb()),2&e){var n=i.fc();i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.itemType&&null!=n.selectedItem.data.itemType),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.title&&null!=n.selectedItem.data.title),i.yb(1),i.mc("ngIf",null!=n.selectedItem.data.creators&&n.selectedItem.data.creators.length>0&&n.checkIfCreatorExist(n.selectedItem.data.creators)),i.yb(1),i.mc("ngIf",null!=n.selectedItem.data.creators&&n.selectedItem.data.creators.length>0),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.publicationTitle&&null!=n.selectedItem.data.publicationTitle),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.publisher&&null!=n.selectedItem.data.publisher),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.issue&&null!=n.selectedItem.data.issue),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.pages&&null!=n.selectedItem.data.pages),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.place&&null!=n.selectedItem.data.place),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.date&&n.selectedItem.data.pages!=n.date),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.journalAbbreviation&&null!=n.selectedItem.data.journalAbbreviation),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.DOI&&null!=n.selectedItem.data.DOI),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.ISSN&&null!=n.selectedItem.data.ISSN),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.url&&null!=n.selectedItem.data.url),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.accessDate&&null!=n.selectedItem.data.accessDate)}}function ek(e,t){1&e&&(i.Rb(0,"div"),i.Rb(1,"div",46),i.Rb(2,"div",119),i.Rb(3,"p",120),i.Kc(4," No item selected "),i.Qb(),i.Qb(),i.Qb(),i.Qb())}function tk(e,t){1&e&&(i.Rb(0,"div"),i.Rb(1,"div",46),i.Rb(2,"div",119),i.Rb(3,"p",120),i.Kc(4," No info "),i.Qb(),i.Qb(),i.Qb(),i.Qb())}function nk(e,t){if(1&e&&(i.Rb(0,"div"),i.Rb(1,"p",128),i.Kc(2," Abstract "),i.Qb(),i.Rb(3,"p",129),i.Kc(4),i.Qb(),i.Qb()),2&e){var n=i.fc();i.yb(4),i.Mc(" ",n.selectedItem.data.abstractNote," ")}}var ik,ok=function(){return{switch:!1}},rk=((ik=function(){function e(t,n,i,o,r){_classCallCheck(this,e),this.lexicalService=t,this.biblioService=n,this.expand=i,this.rend=o,this.toastr=r,this.lock=0,this.exp_trig="",this.isLexicalEntry=!1,this.isForm=!1,this.isSense=!1,this.isLexicalConcept=!1,this.searchIconSpinner=!1,this.goBack=!1,this.bibliography=[],this.start=0,this.sortField="title",this.direction="asc",this.memorySort={field:"",direction:""},this.queryTitle="",this.queryMode="titleCreatorYear",this.searchSubject=new wc.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.lexicalService.coreData$.subscribe(function(t){if(e.object!=t&&(e.lexicalEntryData=null,e.formData=null,e.senseData=null),e.object=t,null!=e.object)switch(setTimeout(function(){$("#coreTabModal").modal("hide"),$(".modal-backdrop").remove();var e=setInterval(function(t){try{$("#coreTabModal").modal("hide"),$("#coreTabModal").is(":visible")||clearInterval(e)}catch(n){console.log(n)}},10)},500),e.creator=e.object.creator,e.revisor=e.object.revisor,null!=e.object.lexicalEntry&&null==e.object.sense&&null==e.object.form?(e.isLexicalEntry=!0,e.isForm=!1,e.isSense=!1,e.lexicalEntryData=t,e.formData=null,e.lexicalConceptData=null,e.isLexicalConcept=!1):null!=e.object.form&&null==e.object.sense?(e.isLexicalEntry=!1,e.isForm=!0,e.isSense=!1,e.formData=t,e.lexicalEntryData=null,e.lexicalConceptData=null,e.isLexicalConcept=!1):null!=e.object.sense?(e.isLexicalEntry=!1,e.isForm=!1,e.isSense=!0,e.senseData=t,e.formData=null,e.lexicalEntryData=null,e.lexicalConceptData=null,e.isLexicalConcept=!1):null!=e.object.lexicalConcept&&null==e.object.sense&&(e.isLexicalEntry=!1,e.isForm=!1,e.isSense=!1,e.isLexicalConcept=!0,e.senseData=null,e.formData=null,e.lexicalEntryData=null,e.lexicalConceptData=t),e.object.status){case"working":e.lock=0,e.goBack=!1,setTimeout(function(){$(".locked-tooltip").tooltip("disable")},10);break;case"completed":e.lock=1,e.goBack=!1,setTimeout(function(){$(".locked-tooltip").tooltip("disable")},10);break;case"reviewed":e.lock=2,e.goBack=!0,setTimeout(function(){$(".locked-tooltip").tooltip("enable"),$(".locked-tooltip").tooltip({trigger:"hover"})},50)}}),this.expand.expEdit$.subscribe(function(t){setTimeout(function(){if(t)e.expand.isEditTabExpanded(),e.expand.isEpigraphyTabExpanded()?(e.rend.setStyle(e.expander_body.nativeElement,"height","calc(50vh - 10rem)"),e.rend.setStyle(e.expander_body.nativeElement,"max-height","calc(50vh - 10rem)"),e.exp_trig="in"):(e.exp_trig="in",e.rend.setStyle(e.expander_body.nativeElement,"height","calc(100vh - 17rem)"),e.rend.setStyle(e.expander_body.nativeElement,"max-height","calc(100vh - 17rem)"));else{if(null==t)return;e.rend.setStyle(e.expander_body.nativeElement,"height","calc(50vh - 10rem)"),e.rend.setStyle(e.expander_body.nativeElement,"max-height","calc(50vh - 10rem)"),e.exp_trig="out"}},100)}),this.expand.expEpigraphy$.subscribe(function(t){setTimeout(function(){if(t)e.exp_trig="in",e.rend.setStyle(e.expander_body.nativeElement,"height","calc(50vh - 10rem)"),e.rend.setStyle(e.expander_body.nativeElement,"max-height","calc(50vh - 10rem)");else{if(null==t)return;e.rend.setStyle(e.expander_body.nativeElement,"max-height","calc(50vh - 10rem)"),e.exp_trig="out"}},100)}),this.lexicalService.updateCoreCardReq$.subscribe(function(t){console.log(t),null!=t&&(e.lastUpdateDate=t.lastUpdate,null!=t.creationDate&&(e.creationDate=t.creationDate))}),this.lexicalService.spinnerAction$.subscribe(function(t){e.searchIconSpinner="on"==t},function(e){}),this.searchSubject.pipe(Object(ou.a)(1e3)).subscribe(function(t){e.queryTitle=t.query,e.queryMode=t.queryMode?"everything":"titleCreatorYear",e.searchBibliography(e.queryTitle,e.queryMode)}),$("#biblioModal").modal("show"),$(".modal-backdrop").appendTo(".ui-modal"),$("#biblioModal").modal({backdrop:"static",keyboard:!1}),$(".modal-backdrop").css("height","inherit"),$("body").removeClass("modal-open"),$("body").css("padding-right",""),this.biblioService.bootstrapData(this.start,this.sortField,this.direction).subscribe(function(t){e.memorySort={field:e.sortField,direction:e.direction},e.bibliography=t,e.bibliography.forEach(function(e){e.selected=!1}),$("#biblioModal").modal("hide"),$(".modal-backdrop").remove()},function(e){console.log(e)})}},{key:"changeStatus",value:function(){var e=this;this.goBack?this.goBack&&(this.lock--,0==this.lock&&(this.goBack=!1)):(this.lock++,2==this.lock&&(this.goBack=!0)),this.searchIconSpinner=!0;var t=this.object.lexicalEntryInstanceName;switch(this.lock){case 0:this.lexicalService.updateLexicalEntry(t,{relation:"status",value:"working"}).pipe(Object(ou.a)(500)).subscribe(function(t){e.searchIconSpinner=!1,t.request=0,e.lexicalService.updateCoreCard(t),e.lexicalService.refreshAfterEdit(t),setTimeout(function(){$(".locked-tooltip").tooltip("disable")},10)},function(t){e.searchIconSpinner=!1;var n=e.object;n.request=0,e.lexicalService.refreshAfterEdit(n),e.lexicalService.updateCoreCard({lastUpdate:t.error.text}),setTimeout(function(){$(".locked-tooltip").tooltip("disable")},10)});break;case 1:this.lexicalService.updateLexicalEntry(t,{relation:"status",value:"completed"}).pipe(Object(ou.a)(500)).subscribe(function(t){e.searchIconSpinner=!1,t.request=0,e.lexicalService.updateCoreCard(t),e.lexicalService.refreshAfterEdit(t),setTimeout(function(){$(".locked-tooltip").tooltip("disable")},10)},function(t){e.searchIconSpinner=!1;var n=e.object;n.request=0,e.lexicalService.refreshAfterEdit(n),e.lexicalService.updateCoreCard({lastUpdate:t.error.text}),setTimeout(function(){$(".locked-tooltip").tooltip("disable")},10)});break;case 2:this.lexicalService.updateLexicalEntry(t,{relation:"status",value:"reviewed"}).pipe(Object(ou.a)(500)).subscribe(function(t){e.searchIconSpinner=!1,t.request=0,e.lexicalService.updateCoreCard(t),e.lexicalService.refreshAfterEdit(t),setTimeout(function(){$(".locked-tooltip").tooltip("enable"),$(".locked-tooltip").tooltip({trigger:"hover"})},50)},function(t){e.searchIconSpinner=!1;var n=e.object;n.request=0,e.lexicalService.refreshAfterEdit(n),e.lexicalService.updateCoreCard({lastUpdate:t.error.text}),setTimeout(function(){$(".locked-tooltip").tooltip("enable"),$(".locked-tooltip").tooltip({trigger:"hover"})},50)})}}},{key:"deleteLexicalEntry",value:function(){var e=this;this.searchIconSpinner=!0;var t=this.object.lexicalEntryInstanceName;this.lexicalService.deleteLexicalEntry(t).subscribe(function(n){e.searchIconSpinner=!1,e.lexicalService.deleteRequest(e.object),e.lexicalEntryData=null,e.isLexicalEntry=!1,e.object=null,e.lexicalService.refreshLangTable(),e.lexicalService.refreshFilter({request:!0}),e.lexicalService.sendToCoreTab(null),e.lexicalService.sendToRightTab(null),e.biblioService.sendDataToBibliographyPanel(null),e.expand.expandCollapseEdit(!1),e.expand.openCollapseEdit(!1),e.expand.isEpigraphyOpen&&e.expand.expandCollapseEpigraphy(),e.toastr.success(t+"deleted correctly","",{timeOut:5e3})},function(t){e.searchIconSpinner=!1,e.toastr.error(t.error,"Error",{timeOut:5e3})})}},{key:"deleteForm",value:function(){var e=this;this.searchIconSpinner=!0;var t=this.object.formInstanceName;this.lexicalService.deleteForm(t).subscribe(function(n){e.searchIconSpinner=!1,e.lexicalService.deleteRequest(e.object),e.isForm=!1,e.object=null,e.toastr.success(t+"deleted correctly","",{timeOut:5e3})},function(t){console.log(t),e.searchIconSpinner=!1,e.lexicalService.deleteRequest(e.object)})}},{key:"deleteSense",value:function(){var e=this;this.searchIconSpinner=!0;var t=this.object.senseInstanceName;this.lexicalService.deleteSense(t).subscribe(function(n){e.searchIconSpinner=!1,e.lexicalService.deleteRequest(e.object),e.isSense=!1,e.object=null,e.toastr.success(t+"deleted correctly","",{timeOut:5e3})},function(t){e.searchIconSpinner=!1,e.lexicalService.deleteRequest(e.object)})}},{key:"addNewForm",value:function(){var e=this;if(this.searchIconSpinner=!0,this.object.request="form",this.isLexicalEntry)this.lexicalService.createNewForm(this.object.lexicalEntryInstanceName).subscribe(function(t){e.toastr.success("Form added correctly","",{timeOut:5e3}),console.log(t),t.flagAuthor=t.creator!=e.object.creator,e.lexicalService.addSubElementRequest({lex:e.object,data:t}),e.searchIconSpinner=!1},function(t){console.log(t),e.toastr.error(t.error,"Error",{timeOut:5e3}),e.searchIconSpinner=!1});else if(this.isForm){var t=this.object.parentNodeInstanceName;this.object.request="form",this.object.lexicalEntryInstanceName=t,this.lexicalService.createNewForm(t).subscribe(function(t){t.flagAuthor=t.creator!=e.object.creator,e.lexicalService.addSubElementRequest({lex:e.object,data:t}),e.searchIconSpinner=!1,e.toastr.success("Form added correctly","",{timeOut:5e3})},function(t){e.searchIconSpinner=!1,e.toastr.error(t.error,"Error",{timeOut:5e3})})}else if(this.isSense){var n=this.object.parentNodeInstanceName;this.object.request="form",this.object.lexicalEntryInstanceName=n,this.lexicalService.createNewForm(n).subscribe(function(t){t.flagAuthor=t.creator!=e.object.creator,e.lexicalService.addSubElementRequest({lex:e.object,data:t}),e.searchIconSpinner=!1,e.toastr.success("Form added correctly","",{timeOut:5e3})},function(t){e.toastr.error(t.error,"Error",{timeOut:5e3}),e.searchIconSpinner=!1})}}},{key:"addNewSense",value:function(){var e=this;if(this.searchIconSpinner=!0,this.object.request="sense",this.isLexicalEntry)this.lexicalService.createNewSense(this.object.lexicalEntryInstanceName).subscribe(function(t){t.flagAuthor=t.creator!=e.object.creator,e.lexicalService.addSubElementRequest({lex:e.object,data:t}),e.searchIconSpinner=!1,e.toastr.success("Sense added correctly","",{timeOut:5e3})},function(t){e.searchIconSpinner=!1,e.toastr.error(t.error,"Error",{timeOut:5e3})});else if(this.isSense){var t=this.object.parentNodeInstanceName;this.object.lexicalEntryInstanceName=t,this.object.request="sense",this.lexicalService.createNewSense(t).subscribe(function(t){t.flagAuthor=t.creator!=e.object.creator,e.lexicalService.addSubElementRequest({lex:e.object,data:t}),e.searchIconSpinner=!1,e.toastr.success("Sense added correctly","",{timeOut:5e3})},function(t){e.searchIconSpinner=!1,e.toastr.error(t.error,"Error",{timeOut:5e3})})}else if(this.isForm){var n=this.object.parentNodeInstanceName;this.object.lexicalEntryInstanceName=n,this.object.request="sense",this.lexicalService.createNewSense(n).subscribe(function(t){t.flagAuthor=t.creator!=e.object.creator,e.lexicalService.addSubElementRequest({lex:e.object,data:t}),e.searchIconSpinner=!1,e.toastr.success("Sense added correctly","",{timeOut:5e3})},function(t){e.searchIconSpinner=!1,e.toastr.error(t.error,"Error",{timeOut:5e3})})}}},{key:"addNewEtymology",value:function(){var e=this;this.searchIconSpinner=!0,this.object.request="etymology";var t="";null!=this.object.lexicalEntryInstanceName&&null==this.object.senseInstanceName?(console.log(1),t=this.object.lexicalEntryInstanceName):null!=this.object.formInstanceName?(t=this.object.parentNodeInstanceName,this.object.lexicalEntryInstanceName=t,console.log(2)):null!=this.object.senseInstanceName&&(t=this.object.parentNodeInstanceName,this.object.lexicalEntryInstanceName=t,console.log(3)),console.log(t),this.lexicalService.createNewEtymology(t).subscribe(function(t){console.log(t),t.flagAuthor=t.creator!=e.object.creator,e.lexicalService.addSubElementRequest({lex:e.object,data:t}),e.searchIconSpinner=!1,e.toastr.success("Etymology added correctly","",{timeOut:5e3})},function(t){e.searchIconSpinner=!1})}},{key:"showBiblioModal",value:function(){this.modal.show()}},{key:"addBibliographyItem",value:function(e){var t=this;$("#biblioModal").modal("show"),$(".modal-backdrop").appendTo(".ui-modal"),$("#biblioModal").modal({backdrop:"static",keyboard:!1}),$(".modal-backdrop").css("height","inherit"),$("body").removeClass("modal-open"),$("body").css("padding-right","");var n="";if(null!=this.object.lexicalEntryInstanceName&&null==this.object.lexicalEntryInstanceName.senseInstanceName?n=this.object.lexicalEntryInstanceName:null!=this.object.formInstanceName?n=this.object.formInstanceName:null!=this.object.senseInstanceName&&(n=this.object.senseInstanceName),null!=e){var i,o=null!=e.data.key?e.data.key:"",r=null!=e.data.title.replace('"',"")?e.data.title:"";e.data.creators.forEach(function(e){return"author"==e.creatorType&&(i=e.lastName+" "+e.firstName,!0)});var a={id:o,title:r,author:i=null!=i?i:"",date:null!=e.data.date?e.data.date:"",url:null!=e.data.url?e.data.url:"",seeAlsoLink:""};console.log(n,a),this.lexicalService.addBibliographyData(n,a).subscribe(function(e){console.log(e),setTimeout(function(){$("#biblioModal").modal("hide"),$(".modal-backdrop").remove(),t.toastr.success("Item added, check bibliography panel","",{timeOut:5e3}),t.biblioService.triggerPanel(e),setTimeout(function(){t.modal.hide()},10)},300),t.biblioService.sendDataToBibliographyPanel(e)},function(e){console.log(e),t.toastr.error("string"==typeof e.error&&e.error.length<1e3?e.error:e.statusText,"",{timeOut:5e3}),setTimeout(function(){$("#biblioModal").modal("hide"),$(".modal-backdrop").remove(),setTimeout(function(){t.modal.hide()},10)},300)})}}},{key:"checkIfCreatorExist",value:function(e){return e.some(function(e){return"author"===e.creatorType})}},{key:"triggerSearch",value:function(e,t,n){"Control"!=e.key&&"Shift"!=e.key&&"Alt"!=e.key&&this.searchSubject.next({query:t,queryMode:n})}},{key:"searchBibliography",value:function(e,t){var n=this;this.start=0,this.selectedItem=null,$("#biblioModal").modal("show"),$(".modal-backdrop").appendTo(".table-body"),$("#biblioModal").modal({backdrop:"static",keyboard:!1}),$("body").removeClass("modal-open"),$("body").css("padding-right",""),this.tableBody.nativeElement.scrollTop=0,this.biblioService.filterBibliography(this.start,this.sortField,this.direction,this.queryTitle,this.queryMode).subscribe(function(e){console.log(e),n.bibliography=[],e.forEach(function(e){n.bibliography.push(e)}),$("#biblioModal").modal("hide"),$(".modal-backdrop").remove()},function(e){console.log(e)})}},{key:"onScrollDown",value:function(){var e=this;$("#biblioModal").modal("show"),$(".modal-backdrop").appendTo(".table-body"),$("#biblioModal").modal({backdrop:"static",keyboard:!1}),$(".modal-backdrop").appendTo(".table-body"),$("body").removeClass("modal-open"),$("body").css("padding-right",""),this.start+=25,""!=this.queryTitle?this.biblioService.filterBibliography(this.start,this.sortField,this.direction,this.queryTitle,this.queryMode).subscribe(function(t){console.log(t),$("#biblioModal").modal("hide"),$(".modal-backdrop").remove(),t.forEach(function(t){e.bibliography.push(t)})},function(e){console.log(e)}):this.biblioService.filterBibliography(this.start,this.sortField,this.direction,this.queryTitle,this.queryMode).subscribe(function(t){t.forEach(function(t){e.bibliography.push(t)}),$("#biblioModal").modal("hide"),$(".modal-backdrop").remove()},function(e){console.log(e)})}},{key:"selectItem",value:function(e,t){var n=this;this.bibliography.forEach(function(e){return e.key==t.key?(e.selected=!e.selected,n.selectedItem=e.selected?e:null,!0):(e.selected=!1,!1)})}},{key:"sortBibliography",value:function(e,t){var n=this;this.memorySort.field==t?"asc"==this.direction?(this.direction="desc",this.memorySort.direction="desc"):(this.direction="asc",this.memorySort.direction="asc"):(this.sortField=t,this.direction="asc",this.memorySort={field:this.sortField,direction:this.direction}),$("#biblioModal").modal("show"),$(".modal-backdrop").appendTo(".table-body"),$("#biblioModal").modal({backdrop:"static",keyboard:!1}),$(".modal-backdrop").appendTo(".table-body"),$("body").removeClass("modal-open"),$("body").css("padding-right",""),this.start=0,this.tableBody.nativeElement.scrollTop=0,this.biblioService.filterBibliography(this.start,this.sortField,this.direction,this.queryTitle,this.queryMode).subscribe(function(e){console.log(e),n.bibliography=[],$("#biblioModal").modal("hide"),$(".modal-backdrop").remove(),e.forEach(function(e){n.bibliography.push(e)})},function(e){console.log(e)})}},{key:"onCloseModal",value:function(){var e=this;this.selectedItem=null,this.start=0,this.sortField="title",this.direction="asc",this.tableBody.nativeElement.scrollTop=0,this.memorySort={field:this.sortField,direction:this.direction},this.biblioService.bootstrapData(this.start,this.sortField,this.direction).subscribe(function(t){e.bibliography=t,e.bibliography.forEach(function(e){e.selected=!1})},function(e){console.log(e)})}}]),e}()).\u0275fac=function(e){return new(e||ik)(i.Lb(sp.a),i.Lb(cp),i.Lb(up),i.Lb(i.E),i.Lb(Pu.b))},ik.\u0275cmp=i.Fb({type:ik,selectors:[["app-core-tab"]],viewQuery:function(e,t){var n;1&e&&(i.Pc(L_,!0),i.Pc(N_,!0),i.Pc(z_,!0),i.Pc(V_,!0)),2&e&&(i.uc(n=i.cc())&&(t.expander_body=n.first),i.uc(n=i.cc())&&(t.modal=n.first),i.uc(n=i.cc())&&(t.tableBody=n.first),i.uc(n=i.cc())&&(t.searchBiblio=n.first))},decls:108,vars:36,consts:[["id","cardsAccordion",1,"accordion",3,"hidden"],[1,"card","my-2"],[1,"card-header"],[1,"mb-0","w-100","d-flex","justify-content-between","align-self-center"],["class","btn",4,"ngIf"],["class","spinner-border spinner-border-sm m-1","role","status",4,"ngIf"],["class","btn btn-link",3,"click",4,"ngIf"],["class","btn btn-link","title","delete form",3,"click",4,"ngIf"],["class","btn btn-link","title","delete sense",3,"click",4,"ngIf"],[1,"card-body","core-tab-body"],["expander",""],["id","coreTabModal","role","dialog",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[3,"lexData",4,"ngIf"],[3,"formData",4,"ngIf"],[3,"senseData",4,"ngIf"],[3,"lexicalConceptData",4,"ngIf"],[1,"card-footer","text-muted"],[1,"w-100","d-flex","justify-content-between","align-items-center"],[4,"ngIf"],[1,"btn-group","dropup","dropleft"],["type","button","id","dropdownAddLemma","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-success"],[1,"fas","fa-plus"],["aria-labelledby","dropdownAddLemma",1,"dropdown-menu","dropdown-menu-right"],["title","add new form",1,"dropdown-item",3,"click"],["title","add new sense",1,"dropdown-item",3,"click"],["title","add new etymology",1,"dropdown-item",3,"click"],["title","add new bibliography item",1,"dropdown-item",3,"click"],[1,"remove_element_modal"],["removeElementModal",""],[1,"app-modal-header"],[1,"app-modal-body"],[1,"card"],["class","card-body",4,"ngIf"],[1,"biblio_modal",3,"backdrop","inViewport","closeModal"],["addBibliography",""],["src","../../../../../../assets/images/zotero_logo.png"],[1,"ml-2","biblio-header-title"],[1,"w-25","pt-1","pb-1"],["class","input-group mb-3",4,"ngIf"],[1,"container-fluid"],[1,"row"],[1,"col-md-8","pl-0"],[1,"table-responsive","table-body"],["id","biblioModal","role","dialog",1,"modal","fade"],[1,"table","table-striped","table-hover",3,"hidden"],["scope","col",2,"width","50%","cursor","pointer",3,"click"],[1,"float-right"],["class","fas fa-sort-up",4,"ngIf"],["class","fas fa-sort-down",4,"ngIf"],["scope","col",2,"width","30%","cursor","pointer",3,"click"],["scope","col",2,"width","20%","cursor","pointer",3,"click"],["infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],["table_body",""],["style","cursor: pointer;",3,"ngClass","click",4,"ngFor","ngForOf"],["class","font-italic text-muted no-results",4,"ngIf"],[1,"col-md-4",2,"font-size","14px"],[1,"col-md-12","item-description",2,"height","calc(100vh - 37rem)","overflow","auto","font-size","13px"],[1,"col-md-12",2,"height","calc(40vh - 10rem)","overflow","auto","font-size","13px"],[1,"col-md-12","d-flex","justify-content-end"],[1,"btn","btn-secondary","w-25",3,"disabled","click"],[1,"app-modal-footer"],[1,"btn"],["role","status",1,"spinner-border","spinner-border-sm","m-1"],[1,"btn","btn-link",3,"click"],[1,"fa","fa-trash"],["title","delete form",1,"btn","btn-link",3,"click"],["title","delete sense",1,"btn","btn-link",3,"click"],[1,"fa","fa-circle",2,"color","red",3,"hidden"],[1,"fa","fa-circle",2,"color","yellow",3,"hidden"],["data-toggle","tooltip","data-placement","bottom","data-html","true","title","Locked tooltip",1,"fa","fa-circle","locked-tooltip",2,"color","green",3,"hidden"],[3,"lexData"],[3,"formData"],[3,"senseData"],[3,"lexicalConceptData"],[1,"pl-2"],[1,"card-body"],["class","form-group row ml-2 mt-3 mr-2",4,"ngIf"],[1,"form-group","row","ml-2","mt-3","mr-2","justify-content-md-center"],[1,"input-group","col-lg-5","justify-content-md-center",2,"align-items","center","text-align","center"],["class","input-group-append ml-2",4,"ngIf"],[1,"input-group-append","ml-2"],["type","button",1,"btn","btn-danger",3,"click"],[1,"fas","fa-times"],[1,"form-group","row","ml-2","mt-3","mr-2"],["for","inputLabel",1,"col-lg-12","col-form-label",2,"font-size","12px","text-align","center"],["type","button",1,"btn","btn-success",3,"click"],[1,"fas","fa-check"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-outline-secondary","dropdown-toggle"],[1,"fa","fa-search"],[1,"dropdown-menu"],[1,"dropdown-item",2,"cursor","pointer",3,"click"],["type","text","aria-label","Text input with dropdown button",1,"form-control",2,"font-size","12px",3,"placeholder","keyup"],["searchBiblio",""],[1,"fas","fa-sort-up"],[1,"fas","fa-sort-down"],[2,"cursor","pointer",3,"ngClass","click"],[2,"width","50%"],["class","pl-1 pr-1",4,"ngIf"],["class","font-italic",4,"ngIf"],[2,"width","30%"],[2,"width","20%"],[1,"pl-1","pr-1"],[1,"fas","fa-book"],[1,"fas","fa-book-open"],[1,"far","fa-newspaper"],[1,"far","fa-clipboard"],[1,"fas","fa-paperclip"],[1,"fas","fa-chalkboard-teacher"],[1,"font-italic"],[4,"ngFor","ngForOf"],[1,"font-italic","text-muted","no-results"],[1,"col-md-12"],[1,"text-muted","text-center","align-middle","mb-1","font-italic"],["class","row",4,"ngIf"],[1,"col-md-4","left",2,"text-align","right"],[1,"text-muted","font-weight-bold","mb-1"],[1,"col-md-8","right",2,"text-align","left"],[1,"font-weight-normal","mb-1"],["target","_blank",1,"text-muted",3,"href"],[1,"fas","fa-external-link-alt"],[1,"text-muted","font-weight-bold"],[1,"font-weight-normal"]],template:function(e,t){1&e&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Rb(2,"div",2),i.Rb(3,"h5",3),i.Rb(4,"div"),i.Ic(5,K_,6,8,"span",4),i.Qb(),i.Rb(6,"div"),i.Ic(7,q_,3,0,"div",5),i.Ic(8,$_,2,0,"button",6),i.Ic(9,W_,2,0,"button",7),i.Ic(10,G_,2,0,"button",8),i.Ic(11,Y_,4,3,"button",6),i.Qb(),i.Qb(),i.Qb(),i.Rb(12,"div",9,10),i.Rb(14,"div",11),i.Rb(15,"div",12),i.Rb(16,"div",13),i.Rb(17,"div",14),i.Rb(18,"div",15),i.Rb(19,"div",16),i.Rb(20,"span",17),i.Kc(21,"Loading..."),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Ic(22,X_,1,1,"app-lexical-entry-core-form",18),i.Ic(23,Z_,1,1,"app-form-core-form",19),i.Ic(24,J_,1,1,"app-sense-core-form",20),i.Ic(25,eC,1,1,"app-lexical-concept-form",21),i.Qb(),i.Rb(26,"div",22),i.Rb(27,"div",23),i.Ic(28,tC,4,4,"div",24),i.Rb(29,"div",25),i.Rb(30,"button",26),i.Mb(31,"i",27),i.Qb(),i.Rb(32,"div",28),i.Rb(33,"button",29),i.bc("click",function(){return t.addNewForm()}),i.Kc(34,"Add Form"),i.Qb(),i.Rb(35,"button",30),i.bc("click",function(){return t.addNewSense()}),i.Kc(36,"Add Sense"),i.Qb(),i.Rb(37,"button",31),i.bc("click",function(){return t.addNewEtymology()}),i.Kc(38,"Add Etymology"),i.Qb(),i.Rb(39,"button",32),i.bc("click",function(){return t.showBiblioModal()}),i.Kc(40,"Add Bibliography"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(41,"app-modal",33,34),i.Nb(43,35),i.Pb(44,36),i.Rb(45,"div",37),i.Ic(46,cC,12,6,"div",38),i.Qb(),i.Ob(),i.Qb(),i.Rb(47,"app-modal",39,40),i.bc("closeModal",function(){return t.onCloseModal()}),i.Pb(49,35),i.Mb(50,"img",41),i.Rb(51,"span",42),i.Kc(52,"Library: PRIN Italia Antica"),i.Qb(),i.Ob(),i.Pb(53,36),i.Rb(54,"div",43),i.Ic(55,lC,11,5,"div",44),i.Qb(),i.Rb(56,"div",45),i.Rb(57,"div",46),i.Rb(58,"div",47),i.Rb(59,"div",48),i.Rb(60,"div",49),i.Rb(61,"div",12),i.Rb(62,"div",13),i.Rb(63,"div",14),i.Rb(64,"div",15),i.Rb(65,"div",16),i.Rb(66,"span",17),i.Kc(67,"Loading..."),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(68,"table",50),i.Rb(69,"thead"),i.Rb(70,"tr"),i.Rb(71,"th",51),i.bc("click",function(e){return t.sortBibliography(e,"title")}),i.Rb(72,"span"),i.Kc(73,"Title"),i.Qb(),i.Rb(74,"span",52),i.Ic(75,uC,1,0,"i",53),i.Ic(76,fC,1,0,"i",54),i.Qb(),i.Qb(),i.Rb(77,"th",55),i.bc("click",function(e){return t.sortBibliography(e,"creator")}),i.Rb(78,"span"),i.Kc(79,"Creator"),i.Qb(),i.Rb(80,"span",52),i.Ic(81,dC,1,0,"i",53),i.Ic(82,hC,1,0,"i",54),i.Qb(),i.Qb(),i.Rb(83,"th",56),i.bc("click",function(e){return t.sortBibliography(e,"date")}),i.Rb(84,"span"),i.Kc(85,"Date"),i.Qb(),i.Rb(86,"span",52),i.Ic(87,pC,1,0,"i",53),i.Ic(88,bC,1,0,"i",54),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(89,"tbody",57,58),i.bc("scrolled",function(){return t.onScrollDown()}),i.Ic(91,IC,16,13,"tr",59),i.Qb(),i.Qb(),i.Ic(92,AC,2,0,"p",60),i.Qb(),i.Qb(),i.Rb(93,"div",61),i.Rb(94,"div",46),i.Rb(95,"div",62),i.Ic(96,TC,5,0,"div",24),i.Ic(97,JC,16,15,"div",24),i.Qb(),i.Qb(),i.Rb(98,"div",46),i.Rb(99,"div",63),i.Ic(100,ek,5,0,"div",24),i.Ic(101,tk,5,0,"div",24),i.Ic(102,nk,5,1,"div",24),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(103,"div",46),i.Rb(104,"div",64),i.Rb(105,"button",65),i.bc("click",function(){return t.addBibliographyItem(t.selectedItem)}),i.Kc(106,"Save"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Ob(),i.Nb(107,66),i.Qb()),2&e&&(i.mc("hidden",null==t.object),i.yb(5),i.mc("ngIf",null!=t.object),i.yb(2),i.mc("ngIf",t.searchIconSpinner),i.yb(1),i.mc("ngIf",t.isLexicalEntry),i.yb(1),i.mc("ngIf",t.isForm),i.yb(1),i.mc("ngIf",t.isSense),i.yb(1),i.mc("ngIf",t.isLexicalEntry),i.yb(1),i.mc("@slideInOut",t.exp_trig),i.yb(10),i.mc("ngIf",t.isLexicalEntry),i.yb(1),i.mc("ngIf",t.isForm),i.yb(1),i.mc("ngIf",t.isSense),i.yb(1),i.mc("ngIf",t.isLexicalConcept),i.yb(3),i.mc("ngIf",null!=t.object),i.yb(18),i.mc("ngIf",null!=t.object),i.yb(1),i.mc("backdrop",!1)("inViewport",!0),i.yb(8),i.mc("ngIf",i.pc(35,ok)),i.yb(13),i.mc("hidden",0==t.bibliography.length),i.yb(7),i.mc("ngIf","asc"==t.direction&&"title"==t.sortField),i.yb(1),i.mc("ngIf","desc"==t.direction&&"title"==t.sortField),i.yb(5),i.mc("ngIf","asc"==t.direction&&"creator"==t.sortField),i.yb(1),i.mc("ngIf","desc"==t.direction&&"creator"==t.sortField),i.yb(5),i.mc("ngIf","asc"==t.direction&&"date"==t.sortField),i.yb(1),i.mc("ngIf","desc"==t.direction&&"date"==t.sortField),i.yb(1),i.mc("infiniteScrollDistance",.4)("infiniteScrollThrottle",150)("scrollWindow",!1),i.yb(2),i.mc("ngForOf",t.bibliography),i.yb(1),i.mc("ngIf",0==t.bibliography.length),i.yb(4),i.mc("ngIf",!t.selectedItem),i.yb(1),i.mc("ngIf",t.selectedItem),i.yb(3),i.mc("ngIf",!t.selectedItem),i.yb(1),i.mc("ngIf",t.selectedItem&&(""==t.selectedItem.data.abstractNote||null==t.selectedItem.data.abstractNote)),i.yb(1),i.mc("ngIf",t.selectedItem&&""!=t.selectedItem.data.abstractNote&&null!=t.selectedItem.data.abstractNote),i.yb(3),i.mc("disabled",!t.selectedItem))},directives:[a.n,Rp,Ws,a.m,Oy,Jy,C_,Q_,a.l],pipes:[a.d,a.u],styles:[".btn[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{font-size:12px}.card-footer[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]{padding:0;background-color:#dee2e6}.card-footer[_ngcontent-%COMP%]{background-color:#dee2e6}.card-body[_ngcontent-%COMP%]{max-height:calc(50vh - 12.5rem);min-height:calc(50vh - 12.5rem);overflow:auto}.remove_element_modal[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{max-height:unset!important;min-height:unset!important}.btn-group[_ngcontent-%COMP%] > .btn-group[_ngcontent-%COMP%]:not(:last-child) > .btn[_ngcontent-%COMP%], .btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:not(:last-child):not(.dropdown-toggle){border-top-right-radius:.25rem!important;border-bottom-right-radius:.25rem!important}.biblio_modal[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]{font-size:12px}.biblio_modal[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .biblio_modal[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.55rem}.biblio_modal[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{display:block;height:calc(100vh - 29rem);overflow:auto}.biblio_modal[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:16px!important}.biblio_modal[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .biblio_modal[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed}.biblio_modal[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{background-color:rgba(91,155,213,.5098039215686274)}.biblio_modal[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{position:relative}.biblio_modal[_ngcontent-%COMP%]   table.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:rgba(91,155,213,.5098039215686274)}.biblio_modal[_ngcontent-%COMP%]   .disable_click_fire[_ngcontent-%COMP%]{pointer-events:none}.biblio_modal[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]{height:calc(100vh - 25rem)}"],data:{animation:[Object(Ug.j)("slideInOut",[Object(Ug.g)("in",Object(Ug.h)({height:"calc(100vh - 17rem)"})),Object(Ug.g)("out",Object(Ug.h)({height:"calc(50vh - 10rem)"})),Object(Ug.i)("in => out",Object(Ug.e)("400ms ease-in-out")),Object(Ug.i)("out => in",Object(Ug.e)("400ms ease-in-out"))])]}}),ik);function ak(e,t){if(1&e){var n=i.Sb();i.Rb(0,"input",45),i.bc("change",function(e){i.zc(n);var t=i.fc(2).index;return i.fc(2).debounceKeyup(e,t,"confidence")})("keyup",function(e){i.zc(n);var t=i.fc(2).index;return i.fc(2).debounceKeyup(e,t,"confidence")}),i.Qb()}if(2&e){var o=i.fc(2).$implicit;i.mc("value",o.get("confidence").value)}}function sk(e,t){if(1&e){var n=i.Sb();i.Rb(0,"button",46),i.bc("click",function(){i.zc(n);var e=i.fc().$implicit;return e.confidence=!e.confidence}),i.Mb(1,"i",47),i.Qb()}}function ck(e,t){if(1&e){var n=i.Sb();i.Rb(0,"button",46),i.bc("click",function(){i.zc(n);var e=i.fc().$implicit,t=i.fc().index,o=i.fc(2);return e.confidence=!e.confidence,o.applyUncertain(t)}),i.Mb(1,"i",48),i.Qb()}}function lk(e,t){if(1&e&&(i.Rb(0,"div",2),i.Rb(1,"div",40),i.Rb(2,"label",41),i.Kc(3,"Uncertain"),i.Qb(),i.Qb(),i.Rb(4,"div",42),i.Ic(5,ak,1,1,"input",43),i.Ic(6,sk,2,0,"button",44),i.Ic(7,ck,2,0,"button",44),i.Qb(),i.Qb()),2&e){var n=t.$implicit;i.yb(5),i.mc("ngIf",n.confidence),i.yb(1),i.mc("ngIf",!n.confidence),i.yb(1),i.mc("ngIf",n.confidence)}}function uk(e,t){if(1&e&&(i.Rb(0,"div"),i.Rb(1,"span"),i.Kc(2),i.Qb(),i.Rb(3,"span",49),i.Kc(4),i.Qb(),i.Qb()),2&e){var n=t.item;i.yb(2),i.Mc("",n.label," "),i.yb(2),i.Mc("@",n.language,"")}}function fk(e,t){if(1&e&&(i.Rb(0,"option",64),i.Kc(1),i.Qb()),2&e){var n=t.$implicit,o=i.fc(2).$implicit,r=i.fc().index,a=i.fc(2);i.mc("selected",o.value.trait===n.propertyId)("disabled",a.memoryComponent[r].morphology.indexOf(n.propertyId)>-1),i.yb(1),i.Lc(n.propertyId)}}function dk(e,t){1&e&&(i.Rb(0,"div",65),i.Kc(1," Please, don't leave this field blank "),i.Qb())}function hk(e,t){if(1&e&&(i.Rb(0,"option",66),i.Kc(1),i.Qb()),2&e){var n=t.$implicit,o=i.fc(2),r=o.index;i.mc("selected",o.$implicit.value.value===n.valueId),i.zb("data-index",r),i.yb(1),i.Lc(n.valueId)}}function pk(e,t){1&e&&(i.Rb(0,"div",65),i.Kc(1," Please, don't leave this field blank "),i.Qb())}function bk(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",52),i.Rb(1,"div",53),i.Rb(2,"select",54),i.bc("change",function(e){i.zc(n);var t=i.fc().index,o=i.fc().index;return i.fc(2).onChangeTrait(e,o,t)}),i.Rb(3,"option",55),i.Kc(4,"Select a trait..."),i.Qb(),i.Ic(5,fk,2,3,"option",56),i.Qb(),i.Ic(6,dk,2,0,"div",57),i.Qb(),i.Rb(7,"div",58),i.Rb(8,"select",59),i.bc("change",function(){i.zc(n);var e=i.fc().index,t=i.fc().index;return i.fc(2).onChangeValue(t,e)}),i.Rb(9,"option",55),i.Kc(10,"Select a value..."),i.Qb(),i.Ic(11,hk,2,3,"option",60),i.Qb(),i.Rb(12,"div",61),i.bc("click",function(){i.zc(n);var e=i.fc().index,t=i.fc().index;return i.fc(2).removeRelation(t,e)}),i.Rb(13,"button",62),i.Mb(14,"i",63),i.Qb(),i.Qb(),i.Ic(15,pk,2,0,"div",57),i.Qb(),i.Qb()}if(2&e){var o=i.fc(),r=o.index,a=o.$implicit,s=i.fc().index,c=i.fc(2);i.yb(1),i.mc("formGroupName",r),i.yb(4),i.mc("ngForOf",c.morphologyData),i.yb(1),i.mc("ngIf",a.get("trait").invalid),i.yb(1),i.mc("formGroupName",r),i.yb(4),i.mc("ngForOf",c.valueTraits[s][r]),i.yb(4),i.mc("ngIf",a.get("value").invalid)}}function gk(e,t){if(1&e&&(i.Pb(0,50),i.Ic(1,bk,16,6,"div",51),i.Ob()),2&e){var n=t.index,o=i.fc(3);i.yb(1),i.mc("ngIf",n+1>o.staticMorpho.length)}}var mk=function(e){return{confidence:e}},vk=function(e){return{no_pointer:e}};function yk(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div"),i.Rb(1,"div",23),i.Rb(2,"div",2),i.Rb(3,"div",15),i.Rb(4,"div",16),i.Rb(5,"span",17),i.Rb(6,"b"),i.Kc(7,"COMPONENT"),i.Qb(),i.Qb(),i.Rb(8,"a",18),i.bc("click",function(){i.zc(n);var e=t.index;return i.fc(2).removeComponent(e)}),i.Rb(9,"span",24),i.Mb(10,"i",25),i.Qb(),i.Qb(),i.Rb(11,"div",21),i.Rb(12,"div",2),i.Rb(13,"label",26),i.Kc(14,"Label:"),i.Qb(),i.Rb(15,"div",27),i.Rb(16,"input",28),i.bc("keyup",function(e){i.zc(n);var o=t.index;return i.fc(2).debounceKeyup(e,o,"label")}),i.Qb(),i.Qb(),i.Qb(),i.Rb(17,"div",29),i.Rb(18,"label",26),i.Kc(19,"Note:"),i.Qb(),i.Rb(20,"div",27),i.Rb(21,"textarea",30),i.bc("keyup",function(e){i.zc(n);var o=t.index;return i.fc(2).debounceKeyup(e,o,"note")}),i.Qb(),i.Qb(),i.Qb(),i.Ic(22,lk,8,3,"div",31),i.Rb(23,"div",2),i.Rb(24,"label",26),i.Kc(25,"Corresponds To:"),i.Qb(),i.Rb(26,"div",32),i.Rb(27,"ng-select",33,34),i.bc("keyup",function(e){return i.zc(n),i.fc(2).triggerCorrespondsTo(e)})("change",function(){i.zc(n);var e=t.index,o=i.vc(28);return i.fc(2).handleCorrespondsTo(o,e)})("focus",function(){return i.zc(n),i.fc(2).deleteData()}),i.Ic(29,uk,5,2,"ng-template",35),i.Qb(),i.Rb(30,"div",7),i.Rb(31,"button",36),i.Mb(32,"i",37),i.Qb(),i.Qb(),i.Rb(33,"div",7),i.Rb(34,"button",38),i.bc("click",function(){i.zc(n);var e=t.index;return i.fc(2).addRelation(e)}),i.Mb(35,"i",10),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Ic(36,gk,2,1,"ng-container",39),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb()}if(2&e){var o=t.$implicit,r=t.index,a=i.fc(2);i.yb(1),i.mc("formGroupName",r),i.yb(21),i.mc("ngIf",i.qc(6,mk,o.get("confidence").value>=0)),i.yb(5),i.mc("dropdownPosition","top")("items",a.searchResults),i.yb(7),i.mc("ngClass",i.qc(8,vk,a.disableAddTraits[r])),i.yb(2),i.mc("ngForOf",o.controls.relation.controls)}}function _k(e,t){if(1&e&&(i.Rb(0,"div"),i.Rb(1,"span"),i.Kc(2),i.Qb(),i.Rb(3,"span",49),i.Kc(4),i.Qb(),i.Qb()),2&e){var n=t.item;i.yb(2),i.Mc("",n.label," "),i.yb(2),i.Mc("@",n.language,"")}}function Ck(e,t){if(1&e){var n=i.Sb();i.Rb(0,"ng-select",76,77),i.bc("keyup",function(e){return i.zc(n),i.fc(4).triggerSubterm(e)})("change",function(){i.zc(n);var e=i.vc(1),t=i.fc(2).index;return i.fc(2).handleSubterm(e,t)})("focus",function(){return i.zc(n),i.fc(4).deleteData()}),i.Ic(2,_k,5,2,"ng-template",35),i.Qb()}if(2&e){var o=i.fc(4);i.mc("dropdownPosition","top")("items",o.searchResults)}}function kk(e,t){if(1&e){var n=i.Sb();i.Rb(0,"input",78),i.bc("keyup",function(e){i.zc(n);var t=i.fc(2).index;return i.fc(2).handleSubterm(e,t)}),i.Qb()}}function Ok(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",70),i.Ic(1,Ck,3,2,"ng-select",71),i.Ic(2,kk,1,0,"input",72),i.Rb(3,"div",73),i.Rb(4,"input",74),i.bc("change",function(){var e=t.$implicit;return e.switch=!e.switch}),i.Qb(),i.Qb(),i.Rb(5,"div",7),i.Rb(6,"button",75),i.bc("click",function(){i.zc(n);var e=i.fc().index;return i.fc(2).removeSubterm(e)}),i.Mb(7,"i",63),i.Qb(),i.Qb(),i.Qb()}if(2&e){var o=t.$implicit;i.yb(1),i.mc("ngIf",!o.switch),i.yb(1),i.mc("ngIf",o.switch)}}var xk=function(){return{switch:!1}};function wk(e,t){if(1&e&&(i.Rb(0,"div"),i.Rb(1,"div",67),i.Rb(2,"div",68),i.Ic(3,Ok,8,2,"div",69),i.Qb(),i.Qb(),i.Qb()),2&e){var n=t.index;i.yb(1),i.mc("formGroupName",n),i.yb(2),i.mc("ngIf",i.pc(2,xk))}}function Mk(e,t){if(1&e){var n=i.Sb();i.Rb(0,"form",1),i.Rb(1,"div",2),i.Rb(2,"label",3),i.Kc(3,"Label:"),i.Qb(),i.Rb(4,"div",4),i.Mb(5,"input",5),i.Rb(6,"div",6),i.Rb(7,"div",7),i.Rb(8,"div",8),i.Rb(9,"button",9),i.Mb(10,"i",10),i.Qb(),i.Rb(11,"div",11),i.Rb(12,"a",12),i.bc("click",function(){return i.zc(n),i.fc().addComponent()}),i.Kc(13,"Component"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(14,"div",13),i.Ic(15,yk,37,10,"div",14),i.Qb(),i.Rb(16,"div",2),i.Rb(17,"div",15),i.Rb(18,"div",16),i.Rb(19,"span",17),i.Rb(20,"b"),i.Kc(21,"SUBTERM"),i.Qb(),i.Qb(),i.Rb(22,"a",18),i.bc("click",function(){return i.zc(n),i.fc().addSubterm()}),i.Rb(23,"span",19),i.Mb(24,"i",20),i.Qb(),i.Qb(),i.Rb(25,"div",21),i.Rb(26,"div",22),i.Ic(27,wk,4,3,"div",14),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb()}if(2&e){var o=i.fc();i.mc("formGroup",o.decompForm),i.yb(15),i.mc("ngForOf",o.decompForm.controls.component.controls),i.yb(8),i.Db("disabled",o.subtermDisabled),i.yb(4),i.mc("ngForOf",o.decompForm.controls.subterm.controls)}}var Pk,Ek=((Pk=function(){function e(t,n,i){_classCallCheck(this,e),this.lexicalService=t,this.formBuilder=n,this.toastr=i,this.subterm_subject=new wc.a,this.ext_subterm_subject=new wc.a,this.corresponds_subject=new wc.a,this.update_component_subject=new wc.a,this.switchInput=!1,this.searchResults=[],this.peopleLoading=!1,this.counter=0,this.subtermDisabled=!1,this.memorySubterm=[],this.memoryComponent=[],this.memoryValues=[],this.decompForm=new vs.h({label:new vs.f(""),component:new vs.c([this.createComponent()]),subterm:new vs.c([this.createSubtermComponent()])}),this.staticMorpho=[],this.morphologyData=[],this.valueTraits=[],this.disableAddTraits=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.decompForm=this.formBuilder.group({label:"",component:this.formBuilder.array([]),subterm:this.formBuilder.array([])}),this.triggerTooltip(),this.loadMorphologyData(),this.lexicalService.changeDecompLabel$.subscribe(function(t){null!=t&&e.decompForm.get("label").setValue(t,{emitEvent:!1})}),this.subterm_subject.pipe(Object(ou.a)(1e3)).subscribe(function(t){e.onSearchFilter(t)}),this.ext_subterm_subject.pipe(Object(ou.a)(1e3)).subscribe(function(t){e.onChangeSubterm(t)}),this.corresponds_subject.pipe(Object(ou.a)(1e3)).subscribe(function(t){e.onSearchFilter(t)}),this.update_component_subject.pipe(Object(ou.a)(1e3)).subscribe(function(t){e.onChanges(t)})}},{key:"triggerTooltip",value:function(){setTimeout(function(){$(".vartrans-tooltip").tooltip({trigger:"hover"})},500)}},{key:"loadMorphologyData",value:function(){var e=this;this.lexicalService.getMorphologyData().subscribe(function(t){console.log(t),e.morphologyData=t})}},{key:"ngOnChanges",value:function(e){var t=this;setTimeout(function(){t.object!=e.decData.currentValue&&(null==t.componentArray&&null==t.subtermArray||(null!=t.componentArray&&t.componentArray.clear(),null!=t.subtermArray&&t.subtermArray.clear(),t.subtermDisabled=!1,t.memorySubterm=[],t.memoryComponent=[],t.valueTraits=[],t.memoryValues=[])),t.object=e.decData.currentValue,null!=t.object&&(t.decompForm.get("label").setValue(t.object.label,{emitEvent:!1}),null!=t.object.lexicalEntryInstanceName&&null==t.object.sense&&t.lexicalService.getSubTerms(t.object.lexicalEntryInstanceName).subscribe(function(e){console.log(e),null!=e&&Array.from(e).forEach(function(e){t.addSubterm(e.lexicalEntryInstanceName,e.label,e.language),t.memorySubterm.push(e)})},function(e){console.log(e)}),null!=t.object.lexicalEntryInstanceName&&null==t.object.sense&&t.lexicalService.getConstituents(t.object.lexicalEntryInstanceName).subscribe(function(e){console.log(e),null!=e&&Array.from(e).forEach(function(n){t.lexicalService.getCorrespondsTo(n.componentInstanceName).subscribe(function(i){var o;console.log(i),null!=i&&(o=i.lexicalEntryInstanceName),n.corresponds_to=o,t.addComponent(n,Array.from(e).indexOf(n))},function(e){console.log(e)})})},function(e){console.log(e)})),t.triggerTooltip()},10)}},{key:"onChanges",value:function(e){var t=this,n="";if(console.log(e),null!=e){var i=e.v.target.value,o=null==e?void 0:e.i,r="";"note"==(n=e.f)?r=this.memoryComponent[o].note:"label"==n?r=this.memoryComponent[o].label:"confidence"==n&&(r=this.memoryComponent[o].confidence);var a,s=this.memoryComponent[o].componentInstanceName;a=""==r||null==r?{type:"decomp",relation:n,value:i}:{type:"decomp",relation:n,value:i,currentValue:r},"confidence"==n&&"-1"==r?a={type:"confidence",relation:n,value:i}:"confidence"==n&&"-1"!=r&&(a={type:"confidence",relation:n,value:i,currentValue:r}),console.log(a),this.lexicalService.updateGenericRelation(s,a).subscribe(function(e){console.log(e),t.lexicalService.spinnerAction("off"),t.toastr.success("Component updated","",{timeOut:5e3}),"note"==n?t.memoryComponent[o].note=i:"label"==n?t.memoryComponent[o].label=i:"confidence"==n&&(t.memoryComponent[o].confidence=i)},function(e){console.log(e),t.lexicalService.spinnerAction("off"),200==e.status?(t.toastr.success("Component item updated","",{timeOut:5e3}),"note"==n?(t.memoryComponent[o].note=i,t.decompForm.controls.component.at(o).get("note").setValue(i,{emitEvent:!1})):"label"==n?(t.memoryComponent[o].label=i,t.decompForm.controls.component.at(o).get("label").setValue(i,{emitEvent:!1})):"confidence"==n&&(t.memoryComponent[o].confidence=i,t.decompForm.controls.component.at(o).get("confidence").setValue(i,{emitEvent:!1}))):t.toastr.error(e.error,"Error",{timeOut:5e3})}),"note"==n?this.memoryComponent[o].note=i:"label"==n&&(this.memoryComponent[o].label=i)}}},{key:"applyUncertain",value:function(e){var t=this;this.lexicalService.spinnerAction("on");var n=this.decompForm.controls.component.at(e).get("confidence").value,i=this.decompForm.controls.component.at(e).get("id").value,o={relation:"confidence",value:n};console.log(o),this.lexicalService.deleteLinguisticRelation(i,o).subscribe(function(n){console.log(n),t.lexicalService.spinnerAction("off"),t.decompForm.controls.component.at(e).get("confidence").setValue(-1,{emitEvent:!1}),t.object.confidence=-1,t.memoryComponent[e].confidence=-1},function(n){console.log(n),t.lexicalService.spinnerAction("off"),200==n.status?(t.toastr.success("Confidence updated","",{timeOut:5e3}),t.decompForm.get("confidence").setValue(-1,{emitEvent:!1}),t.object.confidence=-1,t.memoryComponent[e].confidence=-1):t.toastr.error(n.error,"Error",{timeOut:5e3})})}},{key:"onChangeValue",value:function(e,t){var n=this;this.lexicalService.spinnerAction("on");var i=this.decompForm.controls.component.at(e).get("relation"),o=i.at(t).get("trait").value,r=i.at(t).get("value").value;if(""!=o&&""!=r){var a;""==this.memoryValues[e][t]&&(a={type:"morphology",relation:o,value:r});var s=this.memoryComponent[e].componentInstanceName;this.memoryComponent[e].morphology[t]!=o&&""!=this.memoryComponent[e].morphology[t]?(a={type:"morphology",relation:o,value:r},this.lexicalService.deleteLinguisticRelation(s,{type:"morphology",relation:this.memoryComponent[e].morphology[t],value:this.memoryValues[e][t][0]}).subscribe(function(c){console.log(c),n.lexicalService.updateLinguisticRelation(s,a).subscribe(function(a){a.request=0,n.lexicalService.refreshAfterEdit(a),n.lexicalService.spinnerAction("off"),n.lexicalService.refreshFilter({request:!0}),n.memoryComponent[e].morphology[t]=o,i.at(t).patchValue({trait:o,value:r}),n.disableAddTraits[e]=!1,setTimeout(function(){n.morphologyData.filter(function(e){return e.propertyId==o&&(e.propertyValues.filter(function(e){return e.valueId==r&&(e.valueDescription,!0)}),!0)}),$(".trait-tooltip").tooltip({trigger:"hover"})},1e3)},function(a){n.lexicalService.refreshAfterEdit({request:0,label:n.object.label}),n.lexicalService.spinnerAction("off"),n.lexicalService.refreshFilter({request:!0}),n.memoryComponent[e].morphology[t]=o,i.at(t).patchValue({trait:o,value:r}),n.disableAddTraits[e]=!1,setTimeout(function(){n.morphologyData.filter(function(e){return e.propertyId==o&&(e.propertyValues.filter(function(e){return e.valueId==r&&(e.valueDescription,!0)}),!0)}),$(".trait-tooltip").tooltip({trigger:"hover"}),"object"!=typeof a.error?n.toastr.error(a.error,"Error",{timeOut:5e3}):n.toastr.success("Morphotraits changed correctly for "+s,"",{timeOut:5e3})},1e3)})},function(e){console.log(e)})):this.memoryComponent[e].morphology[t]==o&&""!=this.memoryComponent[e].morphology[t]?(a={type:"morphology",relation:o,value:r,currentValue:this.memoryValues[e][t][0]},this.lexicalService.updateLinguisticRelation(s,a).pipe(Object(ou.a)(1e3)).subscribe(function(a){a.request=0,n.lexicalService.refreshAfterEdit(a),n.lexicalService.spinnerAction("off"),n.lexicalService.refreshFilter({request:!0}),n.memoryComponent[e].morphology[t]=o,i.at(t).patchValue({trait:o,value:r}),n.disableAddTraits[e]=!1,setTimeout(function(){n.morphologyData.filter(function(e){return e.propertyId==o&&(e.propertyValues.filter(function(e){return e.valueId==r&&(e.valueDescription,!0)}),!0)}),$(".trait-tooltip").tooltip({trigger:"hover"})},1e3)},function(a){n.lexicalService.refreshAfterEdit({request:0,label:n.object.label}),n.lexicalService.spinnerAction("off"),n.lexicalService.refreshFilter({request:!0}),n.memoryComponent[e].morphology[t]=o,i.at(t).patchValue({trait:o,value:r}),n.disableAddTraits[e]=!1,setTimeout(function(){n.morphologyData.filter(function(e){return e.propertyId==o&&(e.propertyValues.filter(function(e){return e.valueId==r&&(e.valueDescription,!0)}),!0)}),$(".trait-tooltip").tooltip({trigger:"hover"}),"object"!=typeof a.error?n.toastr.error(a.error,"Error",{timeOut:5e3}):n.toastr.success("Morphotraits changed correctly for "+s,"",{timeOut:5e3})},1e3)})):""==this.memoryComponent[e].morphology[t]&&(console.log(a),this.lexicalService.updateLinguisticRelation(s,a).pipe(Object(ou.a)(1e3)).subscribe(function(a){a.request=0,n.lexicalService.refreshAfterEdit(a),n.lexicalService.spinnerAction("off"),n.lexicalService.refreshFilter({request:!0}),n.memoryComponent[e].morphology[t]=o,i.at(t).patchValue({trait:o,value:r}),n.disableAddTraits[e]=!1,setTimeout(function(){n.morphologyData.filter(function(e){return e.propertyId==o&&(e.propertyValues.filter(function(e){return e.valueId==r&&(e.valueDescription,!0)}),!0)}),$(".trait-tooltip").tooltip({trigger:"hover"})},1e3)},function(a){n.lexicalService.refreshAfterEdit({request:0,label:n.object.label}),n.lexicalService.spinnerAction("off"),n.lexicalService.refreshFilter({request:!0}),n.memoryComponent[e].morphology[t]=o,i.at(t).patchValue({trait:o,value:r}),n.disableAddTraits[e]=!1,setTimeout(function(){n.morphologyData.filter(function(e){return e.propertyId==o&&(e.propertyValues.filter(function(e){return e.valueId==r&&(e.valueDescription,!0)}),!0)}),$(".trait-tooltip").tooltip({trigger:"hover"}),"object"!=typeof a.error?n.toastr.error(a.error,"Error",{timeOut:5e3}):n.toastr.success("Morphotraits changed correctly for "+s,"",{timeOut:5e3})},1e3)}))}else this.lexicalService.spinnerAction("off"),this.disableAddTraits[e]=!1}},{key:"onChangeTrait",value:function(e,t,n){var i=this;if(null!=e.target)setTimeout(function(){if(i.decompForm.controls.component.at(t).get("relation").at(n).patchValue({trait:e.target.value,value:""}),""!=e.target.value){var o=i.morphologyData.filter(function(t){return t.propertyId==e.target.value})[0].propertyValues;i.valueTraits[t][n]=o}else i.memoryValues.splice(t,1),i.valueTraits[t][n]=[],i.memoryComponent[t].morphology[n].splice(n,1)},500);else var o=setInterval(function(r){try{var a=i.morphologyData.filter(function(t){return t.propertyId==e})[0].propertyValues;i.valueTraits[t][n]=a,i.memoryComponent[t].morphology[n].push(e),clearInterval(o)}catch(s){console.log(s)}},500)}},{key:"addSubterm",value:function(e,t,n){this.subtermArray=this.decompForm.get("subterm"),null!=e?(this.subtermArray.push(this.createSubtermComponent(e,t,n)),this.subtermDisabled=!1):(this.subtermArray.push(this.createSubtermComponent()),this.subtermDisabled=!0)}},{key:"addComponent",value:function(e,t){var n=this;if(null!=this.object.lexicalEntryInstanceName&&null==e){var i=this.object.lexicalEntryInstanceName;this.object.request="constituent",this.lexicalService.createComponent(i).subscribe(function(e){console.log(e);var t=e.componentInstanceName,i=e.component,o=e.creator,r=e.creationDate,a=e.lastUpdate,s=e.position,c=e.confidence;n.lexicalService.addSubElementRequest({lex:n.object,data:e}),n.componentArray=n.decompForm.get("component"),n.componentArray.push(n.createComponent(t,i,c,o,"",r,a,[],"",s)),e.morphology=[],n.memoryComponent.push(e),n.toastr.success("Component created correctly","Success",{timeOut:5e3})},function(e){console.log(e),n.toastr.error("Something went wrong","Error",{timeOut:5e3})})}else if(null!=e){var o=e.componentInstanceName,r=e.component,a=e.creator,s=e.label,c=e.creationDate,l=e.lastUpdate,u=e.note,f=e.position,d=e.corresponds_to,h=e.confidence;this.componentArray=this.decompForm.get("component"),this.componentArray.push(this.createComponent(o,r,h,a,s,c,l,[],u,f,d));var p=e.morphology;e.morphology=[],this.memoryComponent.push(e),p.length>0&&this.addRelation(t,p)}}},{key:"removeComponent",value:function(e){var t=this;this.componentArray=this.decompForm.get("component");var n=this.componentArray.at(e);if(null!=n){var i=n.get("id").value;this.lexicalService.deleteComponent(i).subscribe(function(e){console.log(e),t.lexicalService.deleteRequest({componentInstanceName:i}),t.toastr.info("Component "+i+" deleted","Info",{timeOut:5e3})},function(e){console.log(e),t.lexicalService.deleteRequest({componentInstanceName:i}),t.toastr.error("Something went wrong","Error",{timeOut:5e3})})}this.memoryComponent.splice(e,1),this.componentArray.removeAt(e)}},{key:"addRelation",value:function(e,t){var n=this;null==t?(this.memoryComponent[e].morphology.push(""),null==this.valueTraits[e]?(this.valueTraits[e]=[],this.valueTraits[e].push([])):this.valueTraits[e].push([]),null==this.memoryValues[e]?(this.memoryValues[e]=[],this.memoryValues[e].push([])):this.memoryValues[e].push([]),this.disableAddTraits[e]=!0,this.decompForm.controls.component.at(e).get("relation").push(this.createRelation())):t.forEach(function(t){if(n.memoryComponent[e].morphology.push(t.trait),null==n.valueTraits[e]){n.valueTraits[e]=[];var i=setInterval(function(o){try{var r=n.morphologyData.filter(function(e){return e.propertyId==t.trait})[0].propertyValues;n.valueTraits[e].push(r),clearInterval(i)}catch(a){console.log(a)}},500)}else var o=setInterval(function(i){try{var r=n.morphologyData.filter(function(e){return e.propertyId==t.trait})[0].propertyValues;n.valueTraits[e].push(r),clearInterval(o)}catch(a){console.log(a)}},500);null==n.memoryValues[e]?(n.memoryValues[e]=[],n.memoryValues[e].push([t.value])):n.memoryValues[e].push([t.value]),n.disableAddTraits[e]=!1,n.decompForm.controls.component.at(e).get("relation").push(n.createRelation(t.trait,t.value))})}},{key:"removeRelation",value:function(e,t){var n=this,i=this.decompForm.controls.component.at(e).get("relation"),o=i.at(t).get("trait").value,r=i.at(t).get("value").value;if(""!=o&&""!=r){var a=this.memoryComponent[e].componentInstanceName;this.lexicalService.deleteLinguisticRelation(a,{type:"morphology",relation:o,value:r}).subscribe(function(e){n.lexicalService.refreshAfterEdit({request:0,label:n.object.label}),n.lexicalService.spinnerAction("off"),n.lexicalService.refreshFilter({request:!0})},function(e){n.lexicalService.refreshAfterEdit({request:0,label:n.object.label}),n.lexicalService.spinnerAction("off"),n.lexicalService.refreshFilter({request:!0}),"object"!=typeof e.error?n.toastr.error(e.error,"Error",{timeOut:5e3}):n.toastr.success("Element removed correctly for "+a,"",{timeOut:5e3})})}else this.disableAddTraits[e]=!1;this.memoryComponent[e].morphology.splice(t,1),this.valueTraits[e].splice(t,1),this.memoryValues[e].splice(t,1),i.removeAt(t)}},{key:"triggerSubterm",value:function(e){console.log(e),null!=e.target&&this.subterm_subject.next(e.target.value)}},{key:"triggerCorrespondsTo",value:function(e){console.log(e),null!=e.target&&this.corresponds_subject.next(e.target.value)}},{key:"removeSubterm",value:function(e){var t=this;if(null!=this.object.lexicalEntryInstanceName){this.subtermArray=this.decompForm.get("subterm");var n=this.subtermArray.at(e).get("entity").value;this.lexicalService.deleteLinguisticRelation(this.object.lexicalEntryInstanceName,{relation:"subterm",value:n}).subscribe(function(e){console.log(e),t.toastr.info("Subterm removed correctly","Info",{timeOut:5e3}),t.lexicalService.deleteRequest({subtermInstanceName:n,parentNode:t.object.lexicaleEntryInstanceName})},function(e){console.log(e),t.toastr.info("Subterm removed correctly","Info",{timeOut:5e3}),t.lexicalService.deleteRequest({subtermInstanceName:n,parentNode:t.object.lexicaleEntryInstanceName})})}this.subtermArray.removeAt(e),this.memorySubterm.splice(e,1),this.subtermDisabled=!1}},{key:"createRelation",value:function(e,t){return this.formBuilder.group(null==e?{trait:"",value:""}:{trait:e,value:t})}},{key:"removeCorrespondsToComponent",value:function(e,t){this.decompForm.controls.component.at(e).get("corresponds_to").removeAt(t)}},{key:"createComponent",value:function(e,t,n,i,o,r,a,s,c,l,u){return this.formBuilder.group(null==e?{id:new vs.f(""),uri:new vs.f(""),confidence:new vs.f(null),creator:new vs.f(""),label:new vs.f(""),creationDate:new vs.f(""),lastUpdate:new vs.f(""),relation:new vs.c([]),note:new vs.f(""),corresponds_to:new vs.f(""),position:new vs.f("")}:{id:new vs.f(e),uri:new vs.f(t),confidence:new vs.f(n),creator:new vs.f(i),label:new vs.f(o),creationDate:new vs.f(r),lastUpdate:new vs.f(a),relation:new vs.c([]),note:new vs.f(c),corresponds_to:new vs.f(u),position:new vs.f(l)})}},{key:"createSubtermComponent",value:function(e,t,n){return this.formBuilder.group(null!=e?{entity:e,label:t,language:n}:{entity:"",label:"",language:""})}},{key:"handleSubterm",value:function(e,t){e instanceof kc.a?e.selectedItems.length>0&&(console.log(e.selectedItems[0]),this.onChangeSubterm({name:e.selectedItems[0].value.lexicalEntryInstanceName,i:t,object:e.selectedItems[0].value})):this.ext_subterm_subject.next({name:e.target.value,i:t})}},{key:"handleCorrespondsTo",value:function(e,t){e instanceof kc.a&&e.selectedItems.length>0&&(console.log(e.selectedItems[0]),this.onChangeCorrespondsTo({name:e.selectedItems[0].value.lexicalEntryInstanceName,i:t}))}},{key:"debounceKeyup",value:function(e,t,n){this.update_component_subject.next({v:e,i:t,f:n})}},{key:"onChangeSubterm",value:function(e){var t=this,n=e.i;if(this.subtermArray=this.decompForm.get("subterm"),null==this.memorySubterm[n]){var i=e.name,o={type:"decomp",relation:"subterm",value:i};console.log(o),this.object.request="subterm";var r=this.object.lexicalEntryInstanceName;this.lexicalService.updateLinguisticRelation(r,o).subscribe(function(e){console.log(e),t.lexicalService.spinnerAction("off"),t.memorySubterm[n]=e,t.subtermArray.at(n).patchValue({entity:e.object.label,label:e.label,language:e.language}),t.subtermDisabled=!1,t.lexicalService.addSubElementRequest({lex:t.object,data:e})},function(o){console.log(o),t.lexicalService.spinnerAction("off"),200==o.status?(t.toastr.success("Subterm changed correctly for "+r,"",{timeOut:5e3}),t.subtermDisabled=!1,t.memorySubterm[n]=e.object,e.request="subterm",t.subtermArray.at(n).patchValue({entity:i,label:e.object.label,language:e.object.language}),t.lexicalService.addSubElementRequest({lex:t.object,data:e.object})):t.toastr.error(o.error,"Error",{timeOut:5e3})})}else{var a={type:"decomp",relation:"subterm",value:e.name,currentValue:this.memorySubterm[n].lexicalEntryInstanceName},s=this.object.lexicalEntryInstanceName;console.log(a),this.lexicalService.updateLinguisticRelation(s,a).subscribe(function(e){console.log(e),t.lexicalService.spinnerAction("off"),e.request=0,t.lexicalService.refreshAfterEdit(e)},function(e){console.log(e),t.object.request=0,t.lexicalService.spinnerAction("off"),200==e.status?t.toastr.success("Label changed correctly for "+s,"",{timeOut:5e3}):t.toastr.error(e.error,"Error",{timeOut:5e3})}),this.memorySubterm[n]=e}}},{key:"onChangeCorrespondsTo",value:function(e){var t=this,n=e.i;if(this.subtermArray=this.decompForm.get("subterm"),null==this.memoryComponent[n].corresponds_to){var i={type:"decomp",relation:"correspondsTo",value:e.name};console.log(i);var o=this.memoryComponent[n].componentInstanceName;this.lexicalService.updateLinguisticRelation(o,i).subscribe(function(e){console.log(e),t.lexicalService.spinnerAction("off")},function(e){console.log(e),t.lexicalService.spinnerAction("off"),200==e.status?t.toastr.success("CorrespondsTo changed correctly for "+o,"",{timeOut:5e3}):t.toastr.error(e.error,"Error",{timeOut:5e3})}),this.memoryComponent[n].corresponds_to=e}else{var r={type:"decomp",relation:"correspondsTo",value:e.name,currentValue:this.memoryComponent[n].corresponds_to},a=this.memoryComponent[n].componentInstanceName;console.log(r),this.lexicalService.updateLinguisticRelation(a,r).subscribe(function(e){console.log(e),t.lexicalService.spinnerAction("off"),e.request=0,t.lexicalService.refreshAfterEdit(e)},function(e){console.log(e),t.lexicalService.spinnerAction("off"),200==e.status?t.toastr.success("Label changed correctly for "+a,"",{timeOut:5e3}):t.toastr.error(e.error,"Error",{timeOut:5e3})}),this.memoryComponent[n].corresponds_to=e}}},{key:"onSearchFilter",value:function(e){var t=this;this.searchResults=[],null!=this.object.lexicalEntryInstanceName&&this.lexicalService.getLexicalEntriesList({text:e,searchMode:"startsWith",type:"",pos:"",formType:"entry",author:"",lang:"",status:"",offset:0,limit:500}).subscribe(function(e){console.log(e),t.searchResults=e.list},function(e){console.log(e)})}},{key:"deleteData",value:function(){this.searchResults=[]}}]),e}()).\u0275fac=function(e){return new(e||Pk)(i.Lb(sp.a),i.Lb(vs.e),i.Lb(Pu.b))},Pk.\u0275cmp=i.Fb({type:Pk,selectors:[["app-lexical-entry-decomp-form"]],inputs:{decData:"decData"},features:[i.wb],decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-group","row","ml-2","mt-3","mr-2"],["for","inputLabel",1,"col-xl-3","col-form-label"],[1,"input-group","col-xl-5"],["formControlName","label","name","label","type","text","placeholder","","disabled","",1,"form-control"],[1,"input-group-append"],[1,"input-group-append","ml-2"],[1,"dropdown"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-outline-primary"],[1,"fa","fa-plus"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],[1,"dropdown-item",2,"cursor","pointer",3,"click"],["formArrayName","component"],[4,"ngFor","ngForOf"],[1,"input-group","col-xl-12"],[1,"card"],[1,"text-id"],[1,"pointer",3,"click"],[1,"add-icon"],[1,"fa","fa-plus-square"],[1,"card-body"],["formArrayName","subterm",1,"col-xl-12"],[3,"formGroupName"],[1,"trash-icon"],[1,"fa","fa-trash"],["for","inputLabel",1,"col-lg-3","col-form-label"],[1,"input-group","col-lg-8"],["id","label","formControlName","label","name","label","type","text","placeholder","","required","",1,"form-control",3,"keyup"],[1,"form-group","row","ml-2","mr-2"],["formControlName","note","name","note",1,"form-control",2,"resize","none",3,"keyup"],["class","form-group row ml-2 mt-3 mr-2",4,"ngIf"],[1,"input-group","col-lg-9"],["formControlName","corresponds_to","name","corresponds_to","bindValue","label","bindLabel","label","placeholder","Search lexical entry","appendTo","body",3,"dropdownPosition","items","keyup","change","focus"],["select_corresponds_to",""],["ng-option-tmp",""],["type","button",1,"btn","btn-primary"],[1,"fa","fa-external-link-alt"],["type","button",1,"btn","btn-outline-primary",3,"ngClass","click"],["formArrayName","relation",4,"ngFor","ngForOf"],[1,"col-lg-3"],["for","uncertainBox"],[1,"col-lg-3","input-group"],["id","attributes","step","0.1","formControlName","confidence","name","confidence","type","number","min","0","max","1","class","form-control","placeholder","No info",3,"value","change","keyup",4,"ngIf"],["type","button","class","btn btn-secondary btn-sm ml-2",3,"click",4,"ngIf"],["id","attributes","step","0.1","formControlName","confidence","name","confidence","type","number","min","0","max","1","placeholder","No info",1,"form-control",3,"value","change","keyup"],["type","button",1,"btn","btn-secondary","btn-sm","ml-2",3,"click"],[1,"fas","fa-plus"],[1,"fas","fa-minus"],[2,"color","blue"],["formArrayName","relation"],["class","d-flex my-2",4,"ngIf"],[1,"d-flex","my-2"],[1,"col-md-4",3,"formGroupName"],["formControlName","trait","name","trait",1,"form-control","selectTrait",2,"font-size","12px",3,"change"],["value",""],[3,"selected","disabled",4,"ngFor","ngForOf"],["class","invalid-feedback","style","display: block;",4,"ngIf"],[1,"input-group","col-md-8",3,"formGroupName"],["formControlName","value","name","value",1,"form-control","selectTrait",2,"font-size","12px",3,"change"],[3,"selected",4,"ngFor","ngForOf"],[1,"input-group-append","ml-2",3,"click"],["type","button",1,"btn","btn-danger",2,"font-size","12px","border-radius",".25rem"],[1,"fa","fa-trash-alt"],[3,"selected","disabled"],[1,"invalid-feedback",2,"display","block"],[3,"selected"],[1,"d-xl-flex",2,"align-items","center",3,"formGroupName"],[1,"form-group","row","ml-2","mt-2","mr-2","w-100"],["class","input-group",4,"ngIf"],[1,"input-group"],["formControlName","label","name","label","bindValue","label","bindLabel","label","placeholder","Search lexical entries","appendTo","body",3,"dropdownPosition","items","keyup","change","focus",4,"ngIf"],["formControlName","entity","name","entity","type","text","class","form-control","id","inputDenotes","placeholder","Insert URI",3,"keyup",4,"ngIf"],[1,"input-group-append","ml-3","form-check"],["type","checkbox","data-toggle","tooltip","data-placement","bottom","data-trigger","hover","title","Clicca per inserire un URI manualmente",1,"form-check-input","vartrans-tooltip",3,"change"],["type","button",1,"btn","btn-danger",3,"click"],["formControlName","label","name","label","bindValue","label","bindLabel","label","placeholder","Search lexical entries","appendTo","body",3,"dropdownPosition","items","keyup","change","focus"],["select_subterm",""],["formControlName","entity","name","entity","type","text","id","inputDenotes","placeholder","Insert URI",1,"form-control",3,"keyup"]],template:function(e,t){1&e&&i.Ic(0,Mk,28,5,"form",0),2&e&&i.mc("ngIf",null!=t.object)},directives:[a.n,vs.z,vs.o,vs.i,vs.b,vs.n,vs.g,vs.d,a.m,vs.j,vs.v,kc.a,kc.c,a.l,vs.s,vs.w,vs.r,vs.y],styles:[".collapse-icon[_ngcontent-%COMP%]{position:absolute;right:4px;top:-16px;background:#fff;text-align:center;color:#212529;padding:5px;font-size:16px}.dropdown-item[_ngcontent-%COMP%]{font-size:12px}.row[_ngcontent-%COMP%]{align-items:center}.btn[_ngcontent-%COMP%]{height:38px;border-radius:.25rem!important}.btn[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{font-size:12px}.btn[_ngcontent-%COMP%]{height:32px}.form-check-input[_ngcontent-%COMP%]{margin-top:.55rem}.card[_ngcontent-%COMP%]{margin-top:20px;padding-top:20px}#accordion[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{width:100%}.add-icon[_ngcontent-%COMP%], .trash-icon[_ngcontent-%COMP%]{right:4px;top:-16px;padding:5px;font-size:16px}.add-icon[_ngcontent-%COMP%], .text-id[_ngcontent-%COMP%], .trash-icon[_ngcontent-%COMP%]{position:absolute;background:#fff;text-align:center;color:#212529}.text-id[_ngcontent-%COMP%]{left:10px;top:-12px;padding:5px 10px;font-size:12px}.badge[_ngcontent-%COMP%]{font-size:11px}.pointer[_ngcontent-%COMP%]{cursor:pointer}.resizeNgSelect[_ngcontent-%COMP%]{width:15%}.no_pointer[_ngcontent-%COMP%]{border-color:#8c8c8c;pointer-events:none;color:#8c8c8c}.disabled[_ngcontent-%COMP%]{color:#dfdfdf;pointer-events:none}"]}),Pk),Sk=["expander"];function Rk(e,t){if(1&e&&(i.Rb(0,"span",19),i.Kc(1),i.gc(2,"date"),i.Qb()),2&e){var n=i.fc();i.yb(1),i.Nc(" CREATED BY ",n.object.creator," ON ",i.ic(2,2,n.creationDate,"dd/MM/yyyy hh:mm:ss")," ")}}function Ik(e,t){1&e&&(i.Rb(0,"div",20),i.Rb(1,"span",21),i.Kc(2,"Loading..."),i.Qb(),i.Qb())}function Ak(e,t){if(1&e&&i.Mb(0,"app-lexical-entry-decomp-form",22),2&e){var n=i.fc();i.mc("decData",n.decompData)}}function Tk(e,t){if(1&e&&(i.Rb(0,"div"),i.Rb(1,"span"),i.Kc(2),i.gc(3,"date"),i.Qb(),i.Qb()),2&e){var n=i.fc();i.yb(2),i.Nc("LAST UPDATE ON ",i.ic(3,2,n.lastUpdate,"dd/MM/yyyy hh:mm:ss")," BY ",n.object.revisor,"")}}var Dk,jk=((Dk=function(){function e(t,n,i,o){_classCallCheck(this,e),this.toastr=t,this.lexicalService=n,this.expand=i,this.rend=o,this.lock=0,this.exp_trig="",this.isLexicalEntry=!1,this.searchIconSpinner=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.lexicalService.coreData$.subscribe(function(t){e.object=null,e.object!=t&&(e.decompData=null),e.object=t,null!=e.object&&(null!=e.object.lexicalEntry&&null==e.object.sense?(e.isLexicalEntry=!0,e.decompData=t,e.creationDate=t.creationDate,e.lastUpdate=t.lastUpdate):(null!=e.object.form||null!=e.object.sense)&&(e.isLexicalEntry=!1,e.decompData=null,e.object=null))}),this.lexicalService.decompData$.subscribe(function(t){e.object=null,e.object!=t&&(e.decompData=null),e.object=t,null!=e.object&&(null!=e.object.lexicalEntry&&null==e.object.sense?(e.isLexicalEntry=!0,e.decompData=t,e.creationDate=t.creationDate,e.lastUpdate=t.lastUpdate):(null!=e.object.form||null!=e.object.sense)&&(e.isLexicalEntry=!1,e.decompData=null,e.object=null))}),this.expand.expEdit$.subscribe(function(t){setTimeout(function(){if(t)e.expand.isEditTabExpanded(),e.expand.isEpigraphyTabExpanded()?(e.rend.setStyle(e.expander_body.nativeElement,"height","calc(50vh - 12.5rem)"),e.rend.setStyle(e.expander_body.nativeElement,"max-height","calc(50vh - 12.5rem)"),e.exp_trig="in"):(e.exp_trig="in",e.rend.setStyle(e.expander_body.nativeElement,"height","calc(100vh - 17rem)"),e.rend.setStyle(e.expander_body.nativeElement,"max-height","calc(100vh - 17rem)"));else{if(null==t)return;e.rend.setStyle(e.expander_body.nativeElement,"height","calc(50vh - 12.5rem)"),e.rend.setStyle(e.expander_body.nativeElement,"max-height","calc(50vh - 12.5rem)"),e.exp_trig="out"}},100)}),this.expand.expEpigraphy$.subscribe(function(t){setTimeout(function(){if(t)e.exp_trig="in",e.rend.setStyle(e.expander_body.nativeElement,"height","calc(50vh - 12.5rem)"),e.rend.setStyle(e.expander_body.nativeElement,"max-height","calc(50vh - 12.5rem)");else{if(null==t)return;e.rend.setStyle(e.expander_body.nativeElement,"max-height","calc(50vh - 12.5rem)"),e.exp_trig="out"}},100)})}},{key:"addNewForm",value:function(){var e=this;this.searchIconSpinner=!0,this.object.request="form",this.isLexicalEntry&&this.lexicalService.createNewForm(this.object.lexicalEntryInstanceName).subscribe(function(t){e.toastr.success("Form added correctly","",{timeOut:5e3}),console.log(t),t.flagAuthor=t.creator!=e.object.creator,e.lexicalService.addSubElementRequest({lex:e.object,data:t}),e.searchIconSpinner=!1},function(t){console.log(t),e.toastr.error(t.error,"Error",{timeOut:5e3}),e.searchIconSpinner=!1})}},{key:"addNewSense",value:function(){var e=this;this.searchIconSpinner=!0,this.object.request="sense",this.isLexicalEntry&&this.lexicalService.createNewSense(this.object.lexicalEntryInstanceName).subscribe(function(t){t.flagAuthor=t.creator!=e.object.creator,e.lexicalService.addSubElementRequest({lex:e.object,data:t}),e.searchIconSpinner=!1,e.toastr.success("Sense added correctly","",{timeOut:5e3})},function(t){e.searchIconSpinner=!1,e.toastr.error(t.error,"Error",{timeOut:5e3})})}},{key:"addNewEtymology",value:function(){var e=this;this.searchIconSpinner=!0,this.object.request="etymology";var t="";null!=this.object.lexicalEntryInstanceName&&null==this.object.senseInstanceName&&(console.log(1),t=this.object.lexicalEntryInstanceName),console.log(t),this.lexicalService.createNewEtymology(t).subscribe(function(t){console.log(t),t.flagAuthor=t.creator!=e.object.creator,e.lexicalService.addSubElementRequest({lex:e.object,data:t}),e.searchIconSpinner=!1,e.toastr.success("Etymology added correctly","",{timeOut:5e3})},function(t){e.searchIconSpinner=!1})}}]),e}()).\u0275fac=function(e){return new(e||Dk)(i.Lb(Pu.b),i.Lb(sp.a),i.Lb(up),i.Lb(i.E))},Dk.\u0275cmp=i.Fb({type:Dk,selectors:[["app-decomposition-tab"]],viewQuery:function(e,t){var n;1&e&&i.Pc(Sk,!0),2&e&&i.uc(n=i.cc())&&(t.expander_body=n.first)},decls:24,vars:6,consts:[["id","cardsAccordion",1,"accordion",3,"hidden"],[1,"card","my-2"],[1,"card-header"],[1,"mb-0","w-100","d-flex","justify-content-between","align-self-center"],["class","btn",4,"ngIf"],["class","spinner-border spinner-border-sm m-1","role","status",4,"ngIf"],[1,"card-body"],["expander",""],[3,"decData",4,"ngIf"],[1,"card-footer","text-muted"],[1,"w-100","d-flex","justify-content-between","align-items-center"],[4,"ngIf"],[1,"btn-group","dropup","dropleft"],["type","button","id","dropdownAddLemma","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-success"],[1,"fas","fa-plus"],["aria-labelledby","dropdownAddLemma",1,"dropdown-menu","dropdown-menu-right"],["title","add new form",1,"dropdown-item",3,"click"],["title","add new sense",1,"dropdown-item",3,"click"],["title","add new etymology",1,"dropdown-item",3,"click"],[1,"btn"],["role","status",1,"spinner-border","spinner-border-sm","m-1"],[1,"sr-only"],[3,"decData"]],template:function(e,t){1&e&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Rb(2,"div",2),i.Rb(3,"h5",3),i.Rb(4,"div"),i.Ic(5,Rk,3,5,"span",4),i.Qb(),i.Rb(6,"div"),i.Ic(7,Ik,3,0,"div",5),i.Qb(),i.Qb(),i.Qb(),i.Rb(8,"div",6,7),i.Ic(10,Ak,1,1,"app-lexical-entry-decomp-form",8),i.Qb(),i.Rb(11,"div",9),i.Rb(12,"div",10),i.Ic(13,Tk,4,5,"div",11),i.Rb(14,"div",12),i.Rb(15,"button",13),i.Mb(16,"i",14),i.Qb(),i.Rb(17,"div",15),i.Rb(18,"button",16),i.bc("click",function(){return t.addNewForm()}),i.Kc(19,"Add Form"),i.Qb(),i.Rb(20,"button",17),i.bc("click",function(){return t.addNewSense()}),i.Kc(21,"Add Sense"),i.Qb(),i.Rb(22,"button",18),i.bc("click",function(){return t.addNewEtymology()}),i.Kc(23,"Add Etymology"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb()),2&e&&(i.mc("hidden",null==t.object),i.yb(5),i.mc("ngIf",null!=t.object),i.yb(2),i.mc("ngIf",t.searchIconSpinner),i.yb(1),i.mc("@slideInOut",t.exp_trig),i.yb(2),i.mc("ngIf",t.isLexicalEntry),i.yb(3),i.mc("ngIf",null!=t.object))},directives:[a.n,Ek],pipes:[a.d],styles:[".btn[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{font-size:12px}.card-header[_ngcontent-%COMP%]{padding:5px 18px}.card-footer[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]{background-color:#dee2e6}.card-body[_ngcontent-%COMP%]{max-height:calc(50vh - 12.5rem);min-height:calc(50vh - 12.5rem);overflow:auto}.btn-group[_ngcontent-%COMP%] > .btn-group[_ngcontent-%COMP%]:not(:last-child) > .btn[_ngcontent-%COMP%], .btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:not(:last-child):not(.dropdown-toggle){border-top-right-radius:.25rem!important;border-bottom-right-radius:.25rem!important}.dropdown-item[_ngcontent-%COMP%]{font-size:12px}"],data:{animation:[Object(Ug.j)("slideInOut",[Object(Ug.g)("in",Object(Ug.h)({height:"calc(100vh - 17rem)"})),Object(Ug.g)("out",Object(Ug.h)({height:"calc(50vh - 12.5rem)"})),Object(Ug.i)("in => out",Object(Ug.e)("400ms ease-in-out")),Object(Ug.i)("out => in",Object(Ug.e)("400ms ease-in-out"))])]}}),Dk),Fk=["etyLink"];function Qk(e,t){if(1&e){var n=i.Sb();i.Rb(0,"ng-select",40,41),i.bc("change",function(){i.zc(n);var e=i.vc(1),t=i.fc(2).index;return i.fc(2).onChangeEtylink(e,t)})("keyup",function(e){i.zc(n);var t=i.fc(2).index;return i.fc(2).triggerEtylink(e,t)})("focus",function(){return i.zc(n),i.fc(4).deleteData()}),i.Qb()}if(2&e){var o=i.fc(4);i.mc("addTag",o.createNewEtymon)("items",o.searchResults)("items",o.searchResults)}}function Lk(e,t){if(1&e){var n=i.Sb();i.Rb(0,"ng-select",40,41),i.bc("change",function(){i.zc(n);var e=i.vc(1),t=i.fc(2).index;return i.fc(2).onChangeEtylink(e,t)})("keyup",function(e){i.zc(n);var t=i.fc(2).index;return i.fc(2).triggerEtylink(e,t)})("focus",function(){return i.zc(n),i.fc(4).deleteData()}),i.Qb()}if(2&e){var o=i.fc(4);i.mc("addTag",!1)("items",o.searchResults)("items",o.searchResults)}}function Nk(e,t){if(1&e){var n=i.Sb();i.Rb(0,"input",42),i.bc("keyup",function(e){i.zc(n);var t=i.fc(2).index;return i.fc(2).triggerEtylinkInput(e,t)}),i.Qb()}}function zk(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",7),i.Rb(1,"div",43),i.Rb(2,"label",44),i.Rb(3,"input",45),i.bc("click",function(){i.zc(n);var e=i.fc(2).index;return i.fc(2).triggerLilaSearch(e)}),i.Qb(),i.Mb(4,"img",46),i.Qb(),i.Qb(),i.Qb()}}function Vk(e,t){if(1&e&&(i.Rb(0,"div",7),i.Rb(1,"a",47),i.Mb(2,"i",48),i.Qb(),i.Qb()),2&e){var n=i.fc(2).$implicit;i.yb(1),i.mc("href",n.get("etySource").value,i.Bc)}}function Bk(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",29),i.Rb(1,"input",49),i.bc("keyup",function(e){i.zc(n);var t=i.fc(3).index;return i.fc(2).debounceEtylinkLabel(e,t)}),i.Qb(),i.Mb(2,"div",50),i.Qb()}}var Uk=function(){return{switch:!1}};function Hk(e,t){1&e&&(i.Rb(0,"div",25),i.Rb(1,"div",36),i.Rb(2,"label",27),i.Kc(3,"Label:"),i.Qb(),i.Rb(4,"div",28),i.Rb(5,"div",37),i.Ic(6,Bk,3,0,"div",38),i.Qb(),i.Qb(),i.Qb(),i.Qb()),2&e&&(i.yb(6),i.mc("ngIf",i.pc(1,Uk)))}function Kk(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",29),i.Rb(1,"select",51),i.bc("change",function(e){i.zc(n);var t=i.fc(2).index;return i.fc(2).onChangeEtylinkType(t,e)}),i.Rb(2,"option",52),i.Kc(3," inheritance "),i.Qb(),i.Rb(4,"option",53),i.Kc(5," borrowing "),i.Qb(),i.Qb(),i.Mb(6,"div",50),i.Qb()}if(2&e){var o=i.fc(2).$implicit;i.yb(2),i.mc("selected","inheritance"==o.get("etyLinkType").value),i.yb(2),i.mc("selected","borrowing"==o.get("etyLinkType").value)}}function qk(e,t){1&e&&(i.Rb(0,"div",29),i.Mb(1,"input",54),i.Mb(2,"div",50),i.Qb())}function $k(e,t){1&e&&(i.Rb(0,"div",29),i.Mb(1,"input",55),i.Mb(2,"div",50),i.Qb())}function Wk(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",29),i.Rb(1,"textarea",56),i.bc("keyup",function(e){i.zc(n);var t=i.fc(2).index;return i.fc(2).debounceEtylinkNote(e,t)}),i.Qb(),i.Mb(2,"div",50),i.Qb()}}function Gk(e,t){if(1&e&&(i.Rb(0,"div",24),i.Rb(1,"div",25),i.Rb(2,"div",26),i.Rb(3,"label",27),i.Kc(4,"Etymon:"),i.Qb(),i.Rb(5,"div",28),i.Rb(6,"div",2),i.Rb(7,"div",29),i.Ic(8,Qk,2,3,"ng-select",30),i.Ic(9,Lk,2,3,"ng-select",30),i.Ic(10,Nk,1,0,"input",31),i.Ic(11,zk,5,0,"div",32),i.Ic(12,Vk,3,1,"div",32),i.Rb(13,"div",33),i.Rb(14,"input",34),i.bc("change",function(){var e=t.$implicit;return e.external=!e.external}),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Ic(15,Hk,7,2,"div",35),i.Rb(16,"div",25),i.Rb(17,"div",36),i.Rb(18,"label",27),i.Kc(19,"EtyLink Type:"),i.Qb(),i.Rb(20,"div",28),i.Rb(21,"div",37),i.Ic(22,Kk,7,2,"div",38),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(23,"div",25),i.Rb(24,"div",36),i.Rb(25,"label",39),i.Kc(26,"EtySource:"),i.Qb(),i.Rb(27,"div",28),i.Rb(28,"div",37),i.Ic(29,qk,3,0,"div",38),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(30,"div",25),i.Rb(31,"div",36),i.Rb(32,"label",39),i.Kc(33,"EtyTarget:"),i.Qb(),i.Rb(34,"div",28),i.Rb(35,"div",37),i.Ic(36,$k,3,0,"div",38),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(37,"div",25),i.Rb(38,"div",36),i.Rb(39,"label",27),i.Kc(40,"Note:"),i.Qb(),i.Rb(41,"div",28),i.Rb(42,"div",37),i.Ic(43,Wk,3,0,"div",38),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb()),2&e){var n=t.$implicit,o=i.fc().$implicit;i.yb(8),i.mc("ngIf",!o.get("lila").value&&!n.external),i.yb(1),i.mc("ngIf",o.get("lila").value&&!n.external),i.yb(1),i.mc("ngIf",n.external),i.yb(1),i.mc("ngIf",!n.external),i.yb(1),i.mc("ngIf",o.get("external_iri").value&&""!=o.get("etySource").value),i.yb(3),i.mc("ngIf",n.external),i.yb(7),i.mc("ngIf",i.pc(10,Uk)),i.yb(7),i.mc("ngIf",i.pc(11,Uk)),i.yb(7),i.mc("ngIf",i.pc(12,Uk)),i.yb(7),i.mc("ngIf",i.pc(13,Uk))}}var Yk=function(e){return{external:e}};function Xk(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div"),i.Rb(1,"div",16),i.Rb(2,"div",2),i.Rb(3,"div",17),i.Rb(4,"div",18),i.Rb(5,"span",19),i.Rb(6,"b"),i.Kc(7),i.Qb(),i.Qb(),i.Rb(8,"a",20),i.bc("click",function(){i.zc(n);var e=t.index;return i.fc(2).removeEtyLink(e)}),i.Rb(9,"span",21),i.Mb(10,"i",22),i.Qb(),i.Qb(),i.Ic(11,Gk,44,14,"div",23),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb()}if(2&e){var o=t.$implicit,r=t.index;i.yb(1),i.mc("formGroupName",r),i.yb(6),i.Mc("ETY LINK ",r+1,""),i.yb(4),i.mc("ngIf",i.qc(3,Yk,o.get("external_iri").value))}}function Zk(e,t){if(1&e){var n=i.Sb();i.Rb(0,"ng-select",60),i.bc("keyup",function(e){return i.zc(n),i.fc(4).triggerCognates(e)})("focus",function(){return i.zc(n),i.fc(4).deleteData()}),i.Qb()}if(2&e){var o=i.fc(4);i.mc("items",o.searchResults)("items",o.searchResults)}}function Jk(e,t){if(1&e){var n=i.Sb();i.Rb(0,"input",61),i.bc("keyup",function(e){i.zc(n);var t=i.fc(2).index;return i.fc(2).triggerCognatesInput(e,t)}),i.Qb()}}function eO(e,t){if(1&e&&(i.Rb(0,"div",29),i.Ic(1,Zk,1,2,"ng-select",57),i.Ic(2,Jk,1,0,"input",58),i.Rb(3,"div",33),i.Rb(4,"input",59),i.bc("change",function(){var e=t.$implicit;return e.switch=!e.switch}),i.Qb(),i.Qb(),i.Qb()),2&e){var n=t.$implicit;i.yb(1),i.mc("ngIf",!n.switch),i.yb(1),i.mc("ngIf",n.switch)}}function tO(e,t){1&e&&(i.Rb(0,"div",29),i.Mb(1,"input",62),i.Mb(2,"div",50),i.Qb())}function nO(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div"),i.Rb(1,"div",16),i.Rb(2,"div",2),i.Rb(3,"div",17),i.Rb(4,"div",18),i.Rb(5,"span",19),i.Rb(6,"b"),i.Kc(7),i.Qb(),i.Qb(),i.Rb(8,"a",20),i.bc("click",function(){i.zc(n);var e=t.index;return i.fc(2).removeCognate(e)}),i.Rb(9,"span",21),i.Mb(10,"i",22),i.Qb(),i.Qb(),i.Rb(11,"div",24),i.Rb(12,"div",25),i.Rb(13,"div",26),i.Rb(14,"label",27),i.Kc(15,"Cognate:"),i.Qb(),i.Rb(16,"div",28),i.Rb(17,"div",2),i.Ic(18,eO,5,2,"div",38),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(19,"div",25),i.Rb(20,"div",36),i.Rb(21,"label",27),i.Kc(22,"Label / Written Form:"),i.Qb(),i.Rb(23,"div",28),i.Rb(24,"div",37),i.Ic(25,tO,3,0,"div",38),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb()}if(2&e){var o=t.index;i.yb(1),i.mc("formGroupName",o),i.yb(6),i.Mc("COGNATE ",o+1,""),i.yb(11),i.mc("ngIf",i.pc(4,Uk)),i.yb(7),i.mc("ngIf",i.pc(5,Uk))}}function iO(e,t){if(1&e){var n=i.Sb();i.Rb(0,"form",1),i.Rb(1,"div",2),i.Rb(2,"label",3),i.Kc(3,"Label:"),i.Qb(),i.Rb(4,"div",4),i.Mb(5,"input",5),i.Rb(6,"div",6),i.Rb(7,"div",7),i.Rb(8,"div",8),i.Rb(9,"button",9),i.bc("click",function(){return i.zc(n),i.fc().addNewEtyLink()}),i.Mb(10,"i",10),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(11,"div",2),i.Rb(12,"label",3),i.Kc(13,"Author: "),i.Qb(),i.Rb(14,"div",4),i.Mb(15,"input",11),i.Qb(),i.Qb(),i.Rb(16,"div",2),i.Rb(17,"label",3),i.Kc(18,"Uncertain:"),i.Qb(),i.Rb(19,"div",4),i.Mb(20,"input",12),i.Qb(),i.Qb(),i.Rb(21,"div",13),i.Ic(22,Xk,12,5,"div",14),i.Qb(),i.Rb(23,"div",15),i.Ic(24,nO,26,6,"div",14),i.Qb(),i.Qb()}if(2&e){var o=i.fc();i.mc("formGroup",o.etyForm),i.yb(22),i.mc("ngForOf",o.etyForm.controls.etylink.controls),i.yb(2),i.mc("ngForOf",o.etyForm.controls.cognates.controls)}}var oO,rO=((oO=function(){function e(t,n,i,o){_classCallCheck(this,e),this.lexicalService=t,this.formBuilder=n,this.toastr=i,this.lilaService=o,this.switchInput=!1,this.peopleLoading=!1,this.counter=0,this.etyForm=new vs.h({label:new vs.f(""),author:new vs.f(""),confidence:new vs.f(null),etylink:new vs.c([this.createEtyLink()]),cognates:new vs.c([this.createCognate()]),isEtymon:new vs.f(!1),isCognate:new vs.f(!1)}),this.subject_cognates=new wc.a,this.subject_cognates_input=new wc.a,this.subject_etylink=new wc.a,this.subject_etylink_input=new wc.a,this.etylink_note_subject=new wc.a,this.etylink_label_subject=new wc.a,this.searchResults=[],this.filterLoading=!1,this.memoryLinks=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.etyForm=this.formBuilder.group({label:"",author:"",confidence:!1,etylink:this.formBuilder.array([]),cognates:this.formBuilder.array([]),isEtymon:!1,isCognate:!1}),this.onChanges(),this.triggerTooltip(),this.subject_cognates.pipe(Object(ou.a)(1e3)).subscribe(function(t){null!=t&&e.onSearchFilter(t)}),this.subject_etylink.pipe(Object(ou.a)(1e3)).subscribe(function(t){null!=t&&e.onSearchFilter(t)}),this.subject_etylink_input.pipe(Object(ou.a)(1e3)).subscribe(function(t){console.log(t),null!=t&&e.onChangeEtylink(t.value,t.i)}),this.subject_cognates_input.pipe(Object(ou.a)(1e3)).subscribe(function(t){e.onSearchFilter(t)}),this.etylink_note_subject.pipe(Object(ou.a)(1e3)).subscribe(function(t){e.onChangeEtylinkNote(t)}),this.etylink_label_subject.pipe(Object(ou.a)(1e3)).subscribe(function(t){e.onChangeEtylinkLabel(t)})}},{key:"triggerTooltip",value:function(){setTimeout(function(){$(".vartrans-tooltip").tooltip({trigger:"hover"})},500)}},{key:"ngOnChanges",value:function(e){var t=this;this.object!=e.etymData.currentValue&&(null==this.etyLinkArray&&null==this.cognatesArray||(this.etyLinkArray.clear(),this.memoryLinks=[])),this.object=e.etymData.currentValue,console.log(this.object),null!=this.object&&(this.etyForm.get("label").setValue(this.object.etymology.label,{emitEvent:!1}),this.etyForm.get("author").setValue(this.object.etymology.hypothesisOf,{emitEvent:!1}),0==this.object.etymology.confidence?this.etyForm.get("confidence").setValue(!0,{emitEvent:!1}):this.etyForm.get("confidence").setValue(!1,{emitEvent:!1}),this.object.type.find(function(e){return"Cognate"==e})?this.etyForm.get("isCognate").setValue(!0,{emitEvent:!1}):this.etyForm.get("isCognate").setValue(!1,{emitEvent:!1}),this.object.type.find(function(e){return"Etymon"==e})?this.etyForm.get("isEtymon").setValue(!0,{emitEvent:!1}):this.etyForm.get("isEtymon").setValue(!1,{emitEvent:!1}),null!=this.object.etyLinks&&0!=this.object.etyLinks.length&&this.object.etyLinks.forEach(function(e){t.addEtyLink(""==e.etySourceLabel?e.etySource:e.etySourceLabel,""==e.label?e.etySourceLabel:e.label,e.etyLinkType,e.etySource,e.etyTarget,e.note,e.externalIRI),t.memoryLinks.push(e)})),this.triggerTooltip()}},{key:"onChanges",value:function(){var e=this;this.etyForm.get("confidence").valueChanges.pipe(Object(ou.a)(100)).subscribe(function(t){var n=null;console.log(t),0==t?(n=1,e.etyForm.get("confidence").setValue(!1,{emitEvent:!1})):(n=0,e.etyForm.get("confidence").setValue(!0,{emitEvent:!1})),e.lexicalService.spinnerAction("on");var i=e.object.etymology.etymologyInstanceName,o={type:"confidence",relation:"confidence",value:n};console.log(o),e.lexicalService.updateGenericRelation(i,o).subscribe(function(t){console.log(t),e.lexicalService.spinnerAction("off")},function(t){console.log(t),e.lexicalService.spinnerAction("off"),200==t.status?e.toastr.success("Label updated","",{timeOut:5e3}):e.toastr.error(t.error,"Error",{timeOut:5e3})})}),this.etyForm.get("label").valueChanges.pipe(Object(ou.a)(1e3)).subscribe(function(t){t.length>2&&""!=t.trim()&&(e.lexicalService.spinnerAction("on"),e.lexicalService.updateEtymology(e.object.etymology.etymologyInstanceName,{relation:"label",value:t}).subscribe(function(n){n.request=0,n.new_label=t,e.lexicalService.refreshAfterEdit(n),e.lexicalService.spinnerAction("off"),e.toastr.success("Label updated","",{timeOut:5e3})},function(n){var i=e.object.etymology;i.request=0,i.new_label=t,e.lexicalService.refreshAfterEdit(i),e.lexicalService.spinnerAction("off"),200==n.status?e.toastr.success("Label updated","",{timeOut:5e3}):e.toastr.error(n.error,"Error",{timeOut:5e3})}))}),this.etyForm.get("author").valueChanges.pipe(Object(ou.a)(1e3)).subscribe(function(t){e.lexicalService.spinnerAction("on"),e.lexicalService.updateEtymology(e.object.etymology.etymologyInstanceName,{relation:"hypothesisOf",value:t}).subscribe(function(t){e.lexicalService.spinnerAction("off"),e.toastr.success("Author updated","",{timeOut:5e3})},function(t){e.lexicalService.spinnerAction("off"),200==t.status?e.toastr.success("Label updated","",{timeOut:5e3}):e.toastr.error(t.error,"Error",{timeOut:5e3})})})}},{key:"onChangeEtylinkNote",value:function(e){var t=this;if(console.log(e),null!=e){var n=e.evt.target.value,i=null==e?void 0:e.index,o=this.object.etyLinks[i].etymologicalLinkInstanceName,r={relation:"note",value:n,currentValue:this.memoryLinks[i].note};console.log(r),this.lexicalService.updateEtylink(o,r).subscribe(function(e){console.log(e),t.lexicalService.spinnerAction("off"),t.memoryLinks[i].note=n,t.toastr.success("EtyLink note updated","",{timeOut:5e3})},function(e){console.log(e),t.lexicalService.spinnerAction("off"),t.memoryLinks[i].note=n,200==e.status?t.toastr.success("Label updated","",{timeOut:5e3}):t.toastr.error(e.error,"Error",{timeOut:5e3})})}}},{key:"onChangeEtylinkLabel",value:function(e){var t=this;if(console.log(e),null!=e){var n=e.evt.target.value,i=null==e?void 0:e.index,o=this.object.etyLinks[i].etymologicalLinkInstanceName,r={relation:"label",value:n,currentValue:this.memoryLinks[i].note};console.log(r),this.lexicalService.updateEtylink(o,r).subscribe(function(e){console.log(e),t.lexicalService.spinnerAction("off"),t.memoryLinks[i].note=n,t.toastr.success("EtyLink label updated","",{timeOut:5e3})},function(e){console.log(e),t.lexicalService.spinnerAction("off"),t.memoryLinks[i].note=n,t.toastr.error(e.error,"Error",{timeOut:5e3})})}}},{key:"onChangeEtylinkType",value:function(e,t){var n,i,o=this;if(console.log(e,t.target.value),this.etyLinkArray=this.etyForm.get("etylink"),n=t.target.value,null!=this.object.etymology.etymologyInstanceName&&(i=this.object.etyLinks[e].etymologicalLinkInstanceName),null!=n){var r={relation:"etyLinkType",value:n};console.log(r),this.lexicalService.updateEtylink(i,r).subscribe(function(e){console.log(e)},function(e){console.log(e),200==e.status?o.toastr.success("Etylink type updated","",{timeOut:5e3}):o.toastr.error(e.error,"Error",{timeOut:5e3})})}}},{key:"onChangeEtylink",value:function(e,t){var n,i,o,r,a,s=this;console.log(e.selectedItems),this.etyLinkArray=this.etyForm.get("etylink"),this.etyLinkArray.at(t).get("lila").value?(i=e.selectedItems[0].value.lexicalEntry,r=e.selectedItems[0].value.label,a=e.selectedItems[0].value.lexicalEntry):null!=e.selectedItems?0!=e.selectedItems.length&&(i=e.selectedItems[0].value.lexicalEntryInstanceName,r=e.selectedItems[0].value.label,a=e.selectedItems[0].value.lexicalEntry):""!=e&&(i=e,r="",a=e),null!=this.object.etymology.etymologyInstanceName&&(o=this.object.etyLinks[t].etymologicalLinkInstanceName);var c=this.memoryLinks.some(function(e){return e.etySource==a});if("string"==typeof e||c)if("string"!=typeof e||c)c&&this.toastr.error("This etymon already exist, please choose an another etymon","Error",{timeOut:5e3});else{var l={type:"etyLink",relation:"etySource",value:i,currentValue:this.memoryLinks[t].etySource};console.log(l),this.lexicalService.updateLinguisticRelation(o,l).subscribe(function(e){console.log(e)},function(e){console.log(e),200==e.status?(s.memoryLinks[t].etySourceLabel=r,s.etyLinkArray.at(t).patchValue({label:r}),s.etyLinkArray.at(t).patchValue({etySource:a}),s.toastr.success("Etylink source updated","",{timeOut:5e3})):s.toastr.error(e.error,"Error",{timeOut:5e3})})}else if(null!=i&&null==(null===(n=null==e?void 0:e.selectedItems[0])||void 0===n?void 0:n.value.new_etymon)){var u={type:"etyLink",relation:"etySource",value:i,currentValue:this.memoryLinks[t].etySource};console.log(u),this.lexicalService.updateLinguisticRelation(o,u).subscribe(function(e){console.log(e)},function(e){console.log(e),200==e.status?(s.memoryLinks[t].etySourceLabel=r,s.etyLinkArray.at(t).patchValue({label:r}),s.etyLinkArray.at(t).patchValue({etySource:a}),s.toastr.success("Etylink source updated","",{timeOut:5e3})):s.toastr.error(e.error,"Error",{timeOut:5e3})})}else if(e.selectedItems[0].value.new_etymon){var f=e.selectedItems[0].value.name;this.lexicalService.newLexicalEntry().subscribe(function(e){console.log(e);var n=e.lexicalEntry,i=e.lexicalEntryInstanceName;s.memoryLinks[t].etySourceLabel=r,s.etyLinkArray.at(t).patchValue({lex_entity:f}),s.etyLinkArray.at(t).patchValue({etySource:n});var a={relation:"label",value:f};console.log(a),s.lexicalService.updateLexicalEntry(i,a).subscribe(function(e){console.log(e)},function(e){s.lexicalService.spinnerAction("off"),s.lexicalService.spinnerAction("off"),a={relation:"type",value:"Etymon"},s.lexicalService.updateLexicalEntry(i,a).subscribe(function(e){console.log(e),s.lexicalService.spinnerAction("off"),s.lexicalService.refreshLangTable(),s.lexicalService.refreshFilter({request:!0})},function(e){console.log(e);var n={type:"etyLink",relation:"etySource",value:i,currentValue:s.memoryLinks[t].etySource};s.lexicalService.refreshFilter({request:!0}),console.log(n),console,s.lexicalService.updateLinguisticRelation(o,n).subscribe(function(e){console.log(e)},function(e){console.log(e),"OK"==e.statusText&&s.toastr.success("New etymon created","",{timeOut:5e3})}),s.lexicalService.spinnerAction("off")})})},function(e){console.log(e)})}}},{key:"createNewEtymon",value:function(e){return new Promise(function(t){setTimeout(function(){t({id:5,name:e,new_etymon:!0})},1e3)})}},{key:"addCognate",value:function(){this.cognatesArray=this.etyForm.get("cognates"),this.cognatesArray.push(this.createCognate())}},{key:"debounceEtylinkLabel",value:function(e,t){this.lexicalService.spinnerAction("on"),this.etylink_label_subject.next({evt:e,index:t})}},{key:"debounceEtylinkNote",value:function(e,t){this.lexicalService.spinnerAction("on"),this.etylink_note_subject.next({evt:e,index:t})}},{key:"addEtyLink",value:function(e,t,n,i,o,r,a){this.etyLinkArray=this.etyForm.get("etylink"),this.etyLinkArray.push(this.createEtyLink(e,t,n,i,o,r,a))}},{key:"addNewEtyLink",value:function(){var e=this;this.etyLinkArray=this.etyForm.get("etylink"),this.etyLinkArray.push(this.createEtyLink());var t=this.etyLinkArray.length-1,n=this.object.etymology.etymologyInstanceName,i=this.object.parentNodeInstanceName;console.log(n,i),this.lexicalService.createNewEtylink(i,n).subscribe(function(n){if(console.log(n),null!=n){var i=n.etyTarget,o=n.etyLinkType;e.etyLinkArray.at(t).patchValue({etyTarget:i}),e.etyLinkArray.at(t).patchValue({etyLinkType:o}),e.object.etyLinks[t]=n,e.memoryLinks[t]=n,e.toastr.success("New etylink added","",{timeOut:5e3})}},function(t){console.log(t),e.toastr.error(t.error,"Error",{timeOut:5e3})})}},{key:"removeEtyLink",value:function(e){var t=this;this.etyLinkArray=this.etyForm.get("etylink"),this.lexicalService.deleteEtylink(this.memoryLinks[e].etymologicalLinkInstanceName).subscribe(function(e){console.log(e),t.toastr.success("Etylink removed","",{timeOut:5e3})},function(e){console.log(e),t.toastr.error(e.error,"Error",{timeOut:5e3})}),this.etyLinkArray.removeAt(e),this.memoryLinks.splice(e,1)}},{key:"removeCognate",value:function(e){this.etyLinkArray=this.etyForm.get("cognates"),this.etyLinkArray.removeAt(e)}},{key:"createRelation",value:function(){return this.formBuilder.group({trait:"",value:""})}},{key:"createEtyLink",value:function(e,t,n,i,o,r,a){return this.formBuilder.group(null!=e?{lex_entity:new vs.f(e),label:new vs.f(t),etyLinkType:new vs.f(n),etySource:new vs.f(i),etyTarget:new vs.f(o),note:new vs.f(r),external_iri:new vs.f(a),lila:!1}:{lex_entity:new vs.f(null),label:new vs.f(null),etyLinkType:new vs.f(null),etySource:new vs.f(null),etyTarget:new vs.f(null),note:new vs.f(null),external_iri:new vs.f(null),lila:!1})}},{key:"createCognate",value:function(){return this.formBuilder.group({cognate:new vs.f(null),label:new vs.f(null)})}},{key:"triggerCognates",value:function(e){null!=e.target&&this.subject_cognates.next(e.target.value)}},{key:"triggerCognatesInput",value:function(e,t){null!=e.target&&this.subject_cognates_input.next({value:e.target.value,i:t})}},{key:"triggerEtylink",value:function(e,t){null!=e.target&&this.subject_etylink.next({value:e.target.value,index:t})}},{key:"triggerEtylinkInput",value:function(e,t){null!=e.target&&this.subject_etylink_input.next({value:e.target.value,i:t})}},{key:"deleteData",value:function(){this.searchResults=[]}},{key:"onSearchFilter",value:function(e){var t=this;console.log(e),this.filterLoading=!0,this.searchResults=[];var n=e.value,i=e.index;if(this.etyLinkArray=this.etyForm.get("etylink"),this.etyLinkArray.at(i).get("lila").value)this.lilaService.queryEtymon(n).subscribe(function(e){if(console.log(e),e.list.length>0){var n=e.list.map(function(e){var t,n,i;return{label:null===(t=e[2])||void 0===t?void 0:t.value,language:null===(n=e[1])||void 0===n?void 0:n.value,lexicalEntry:null===(i=e[0])||void 0===i?void 0:i.value}});t.searchResults=n,console.log(t.searchResults)}},function(e){console.log(e)});else{var o={text:n,searchMode:"startsWith",type:"etymon",pos:"",formType:"entry",author:"",lang:"",status:"",offset:0,limit:500};console.log(o),this.lexicalService.getLexicalEntriesList(o).subscribe(function(e){console.log(e),t.searchResults=e.list,t.filterLoading=!1},function(e){console.log(e),t.filterLoading=!1})}}},{key:"triggerLilaSearch",value:function(e){var t=this;setTimeout(function(){t.etyLinkArray=t.etyForm.get("etylink"),t.etyLinkArray.at(e).get("lila").value&&Array.from(t.etyLinkList)},250)}}]),e}()).\u0275fac=function(e){return new(e||oO)(i.Lb(sp.a),i.Lb(vs.e),i.Lb(Pu.b),i.Lb(Av.a))},oO.\u0275cmp=i.Fb({type:oO,selectors:[["app-etymology-form"]],viewQuery:function(e,t){var n;1&e&&i.Pc(Fk,!0),2&e&&i.uc(n=i.cc())&&(t.etyLinkList=n)},inputs:{etymData:"etymData"},features:[i.wb],decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-group","row","ml-2","mt-3","mr-2"],["for","inputLabel",1,"col-xl-3","col-form-label"],[1,"input-group","col-xl-7"],["formControlName","label","name","label","type","text","placeholder","",1,"form-control"],[1,"input-group-append"],[1,"input-group-append","ml-2"],[1,"dropdown"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"fa","fa-plus"],["formControlName","author","name","author","type","text","placeholder","",1,"form-control"],["formControlName","confidence","name","confidence","type","checkbox"],["formArrayName","etylink"],[4,"ngFor","ngForOf"],["formArrayName","cognates"],[3,"formGroupName"],[1,"input-group","col-xl-12"],[1,"card"],[1,"text-id"],[1,"pointer",3,"click"],[1,"trash-icon"],[1,"fa","fa-trash"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"col-xl-12"],[1,"d-xl-flex",2,"align-items","center"],[1,"col-xl-3","col-form-label"],[1,"col-xl-9"],[1,"input-group"],["formControlName","lex_entity","name","lex_entity","class","resizeNgSelect","bindLabel","label","bindValue","label","placeholder","Search entity","appendTo","body","bindValue","label","class","resizeNgSelect","bindLabel","label","placeholder","Search entity","appendTo","body",3,"addTag","items","change","keyup","focus",4,"ngIf"],["formControlName","lex_entity","name","lex_entity","type","text","class","form-control","id","inputDenotes","placeholder","Insert URI",3,"keyup",4,"ngIf"],["class","input-group-append ml-2",4,"ngIf"],[1,"input-group-append","ml-3","form-check"],["formControlName","external_iri","name","external_iri","type","checkbox","data-toggle","tooltip","data-placement","bottom","data-trigger","hover","title","Clicca per inserire un URI manualmente",1,"form-check-input","vartrans-tooltip",3,"change"],["class","col-xl-12",4,"ngIf"],[1,"d-xl-flex"],[1,"form-group","row","ml-2","mr-2"],["class","input-group",4,"ngIf"],[1,"col-xl-3","col-form-label","text-muted"],["formControlName","lex_entity","name","lex_entity","bindLabel","label","bindValue","label","placeholder","Search entity","appendTo","body","bindValue","label","bindLabel","label","placeholder","Search entity","appendTo","body",1,"resizeNgSelect",3,"addTag","items","change","keyup","focus"],["etyLink",""],["formControlName","lex_entity","name","lex_entity","type","text","id","inputDenotes","placeholder","Insert URI",1,"form-control",3,"keyup"],["data-toggle","buttons","placement","top","ngbTooltip","Enable LiLa endpoint","title","Enable LiLa endpoint",1,"btn-group-toggle"],[1,"btn","btn-secondary"],["type","checkbox","autocomplete","off","autocomplete","off","formControlName","lila","name","lila",2,"border-radius",".3rem",3,"click"],["src","../../../../../../../assets/images/graphql.png","alt","Avatar",1,"image",2,"height","20px"],["target","_blank","type","button",1,"btn","btn-primary",3,"href"],[1,"fa","fa-external-link-alt"],["formControlName","label","name","label","type","text",1,"form-control",3,"keyup"],[1,"input-group-append","ml-3","form-check","invisible"],["id","typeSelect","formControlName","etyLinkType","name","etyLinkType",1,"form-control",3,"change"],["value","inheritance",3,"selected"],["value","borrowing",3,"selected"],["formControlName","etySource","name","etySource","type","text","readonly","",1,"form-control"],["formControlName","etyTarget","name","etyTarget","type","text","readonly","",1,"form-control"],["formControlName","note","name","note","type","text",1,"form-control",2,"resize","none",3,"keyup"],["formControlName","cognate","name","cognate","class","resizeNgSelect","bindLabel","label","bindValue","label","placeholder","Search entity","appendTo","body","bindValue","label","class","resizeNgSelect","bindLabel","label","placeholder","Search entity","appendTo","body",3,"items","keyup","focus",4,"ngIf"],["formControlName","cognate","name","cognate","type","text","class","form-control","id","inputDenotes","placeholder","Insert URI",3,"keyup",4,"ngIf"],["type","checkbox","data-toggle","tooltip","data-placement","bottom","data-trigger","hover","title","Clicca per inserire un URI manualmente",1,"form-check-input","vartrans-tooltip",3,"change"],["formControlName","cognate","name","cognate","bindLabel","label","bindValue","label","placeholder","Search entity","appendTo","body","bindValue","label","bindLabel","label","placeholder","Search entity","appendTo","body",1,"resizeNgSelect",3,"items","keyup","focus"],["formControlName","cognate","name","cognate","type","text","id","inputDenotes","placeholder","Insert URI",1,"form-control",3,"keyup"],["formControlName","label","name","label","type","text",1,"form-control"]],template:function(e,t){1&e&&i.Ic(0,iO,25,3,"form",0),2&e&&i.mc("ngIf",null!=t.object)},directives:[a.n,vs.z,vs.o,vs.i,vs.b,vs.n,vs.g,vs.a,vs.d,a.m,vs.j,kc.a,Hg.f,vs.w,vs.r,vs.y],styles:[".row[_ngcontent-%COMP%]{align-items:center}.btn[_ngcontent-%COMP%]{height:38px;border-radius:.25rem!important}.btn[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{font-size:12px}.btn[_ngcontent-%COMP%]{height:32px}.form-check-input[_ngcontent-%COMP%]{margin-top:.55rem}.card[_ngcontent-%COMP%]{margin-top:20px;padding-top:20px}#accordion[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{width:100%}.collapse-icon[_ngcontent-%COMP%]{position:absolute;right:4px;top:-16px;background:#fff;text-align:center;color:#212529;padding:5px;font-size:16px}.dropdown-item[_ngcontent-%COMP%]{font-size:12px}.disabled[_ngcontent-%COMP%]{color:#dfdfdf;pointer-events:none}.add-icon[_ngcontent-%COMP%]{right:28px}.add-icon[_ngcontent-%COMP%], .trash-icon[_ngcontent-%COMP%]{position:absolute;top:-16px;background:#fff;text-align:center;color:#212529;padding:5px;font-size:16px}.trash-icon[_ngcontent-%COMP%]{right:4px}.text-id[_ngcontent-%COMP%]{position:absolute;left:10px;top:-12px;background:#fff;text-align:center;color:#212529;padding:5px 10px;font-size:12px}.badge[_ngcontent-%COMP%]{font-size:11px}.pointer[_ngcontent-%COMP%]{cursor:pointer}.resizeNgSelect[_ngcontent-%COMP%]{width:15%}"]}),oO),aO=["expander"],sO=["addBibliography"],cO=["table_body"];function lO(e,t){if(1&e&&(i.Rb(0,"span",58),i.Kc(1),i.gc(2,"date"),i.Qb()),2&e){var n=i.fc();i.yb(1),i.Nc(" CREATED BY ",n.creator," ON ",i.ic(2,2,n.creationDate,"dd/MM/yyyy hh:mm:ss")," ")}}function uO(e,t){1&e&&(i.Rb(0,"div",59),i.Rb(1,"span",16),i.Kc(2,"Loading..."),i.Qb(),i.Qb())}function fO(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",60),i.Rb(1,"div",61),i.Rb(2,"button",62),i.Mb(3,"i",63),i.Qb(),i.Rb(4,"div",64),i.Rb(5,"a",65),i.bc("click",function(){i.zc(n);var e=t.$implicit,o=i.vc(10),r=i.fc();return e.switch=!1,r.searchBibliography(o.value,e.switch)}),i.Kc(6,"Normal"),i.Qb(),i.Rb(7,"a",65),i.bc("click",function(){i.zc(n);var e=t.$implicit,o=i.vc(10),r=i.fc();return e.switch=!0,r.searchBibliography(o.value,e.switch)}),i.Kc(8,"Full Text"),i.Qb(),i.Qb(),i.Qb(),i.Rb(9,"input",66,67),i.bc("keyup",function(e){i.zc(n);var o=t.$implicit,r=i.vc(10);return i.fc().triggerSearch(e,r.value,o.switch)}),i.Qb(),i.Qb()}if(2&e){var o=t.$implicit;i.yb(5),i.Db("disable_click_fire",!o.switch),i.yb(2),i.Db("disable_click_fire",o.switch),i.yb(2),i.mc("placeholder",o.switch?"Title, creator, year + Full Text":"Title, creator, year")}}function dO(e,t){1&e&&i.Mb(0,"i",68)}function hO(e,t){1&e&&i.Mb(0,"i",69)}function pO(e,t){1&e&&i.Mb(0,"i",68)}function bO(e,t){1&e&&i.Mb(0,"i",69)}function gO(e,t){1&e&&i.Mb(0,"i",68)}function mO(e,t){1&e&&i.Mb(0,"i",69)}function vO(e,t){1&e&&(i.Rb(0,"span",76),i.Mb(1,"i",77),i.Qb())}function yO(e,t){1&e&&(i.Rb(0,"span",76),i.Mb(1,"i",78),i.Qb())}function _O(e,t){1&e&&(i.Rb(0,"span",76),i.Mb(1,"i",79),i.Qb())}function CO(e,t){1&e&&(i.Rb(0,"span",76),i.Mb(1,"i",80),i.Qb())}function kO(e,t){1&e&&(i.Rb(0,"span",76),i.Mb(1,"i",81),i.Qb())}function OO(e,t){1&e&&(i.Rb(0,"span",76),i.Mb(1,"i",82),i.Qb())}function xO(e,t){if(1&e&&(i.Rb(0,"span"),i.Kc(1),i.gc(2,"titlecase"),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(1),i.Lc(i.hc(2,1,n.data.title))}}function wO(e,t){1&e&&(i.Rb(0,"span",83),i.Kc(1,"No title"),i.Qb())}function MO(e,t){if(1&e&&(i.Rb(0,"span"),i.Kc(1),i.gc(2,"titlecase"),i.gc(3,"titlecase"),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(1),i.Nc(" ",i.hc(2,2,n.lastName)," ",i.hc(3,4,n.firstName)," ")}}function PO(e,t){if(1&e&&(i.Rb(0,"span"),i.Ic(1,MO,4,6,"span",53),i.Qb()),2&e){var n=t.$implicit;i.yb(1),i.mc("ngIf","author"==n.creatorType)}}function EO(e,t){1&e&&(i.Rb(0,"span",83),i.Kc(1,"No data"),i.Qb())}function SO(e,t){if(1&e&&(i.Rb(0,"span"),i.Ic(1,PO,2,1,"span",84),i.Ic(2,EO,2,0,"span",73),i.Qb()),2&e){var n=i.fc().$implicit,o=i.fc();i.yb(1),i.mc("ngForOf",n.data.creators),i.yb(1),i.mc("ngIf",!o.checkIfCreatorExist(n.data.creators))}}function RO(e,t){1&e&&(i.Rb(0,"span",83),i.Kc(1,"No data"),i.Qb())}function IO(e,t){if(1&e&&(i.Rb(0,"span"),i.Kc(1),i.gc(2,"titlecase"),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(1),i.Mc(" ",i.hc(2,1,n.data.date)," ")}}function AO(e,t){1&e&&(i.Rb(0,"span",83),i.Kc(1," No info "),i.Qb())}function TO(e,t){if(1&e){var n=i.Sb();i.Rb(0,"tr",70),i.bc("click",function(e){i.zc(n);var o=t.$implicit;return i.fc().selectItem(e,o)}),i.Rb(1,"td",71),i.Ic(2,vO,2,0,"span",72),i.Ic(3,yO,2,0,"span",72),i.Ic(4,_O,2,0,"span",72),i.Ic(5,CO,2,0,"span",72),i.Ic(6,kO,2,0,"span",72),i.Ic(7,OO,2,0,"span",72),i.Ic(8,xO,3,3,"span",53),i.Ic(9,wO,2,0,"span",73),i.Qb(),i.Rb(10,"td",74),i.Ic(11,SO,3,2,"span",53),i.Ic(12,RO,2,0,"span",73),i.Qb(),i.Rb(13,"td",75),i.Ic(14,IO,3,3,"span",53),i.Ic(15,AO,2,0,"span",73),i.Qb(),i.Qb()}if(2&e){var o=t.$implicit;i.mc("ngClass",null!=o&&o.selected?"selected":""),i.yb(2),i.mc("ngIf","book"==o.data.itemType),i.yb(1),i.mc("ngIf","bookSection"==o.data.itemType),i.yb(1),i.mc("ngIf","journalArticle"==o.data.itemType),i.yb(1),i.mc("ngIf","note"==o.data.itemType),i.yb(1),i.mc("ngIf","attachment"==o.data.itemType),i.yb(1),i.mc("ngIf","conferencePaper"==o.data.itemType),i.yb(1),i.mc("ngIf",null!=o.data.title&&""!=o.data.title),i.yb(1),i.mc("ngIf",null==o.data.title||""==o.data.title),i.yb(2),i.mc("ngIf",null!=o.data.creators),i.yb(1),i.mc("ngIf",null==o.data.creators),i.yb(2),i.mc("ngIf",null!=o.data.date&&""!=o.data.date),i.yb(1),i.mc("ngIf",null==o.data.date||""==o.data.date)}}function DO(e,t){1&e&&(i.Rb(0,"p",85),i.Kc(1,"No results"),i.Qb())}function jO(e,t){1&e&&(i.Rb(0,"div"),i.Rb(1,"div",36),i.Rb(2,"div",86),i.Rb(3,"p",87),i.Kc(4," No item selected "),i.Qb(),i.Qb(),i.Qb(),i.Qb())}function FO(e,t){if(1&e&&(i.Rb(0,"div",36),i.Rb(1,"div",89),i.Rb(2,"p",90),i.Kc(3," Item type "),i.Qb(),i.Qb(),i.Rb(4,"div",91),i.Rb(5,"p",92),i.Kc(6),i.gc(7,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",i.hc(7,1,n.selectedItem.data.itemType)," ")}}function QO(e,t){if(1&e&&(i.Rb(0,"div",36),i.Rb(1,"div",89),i.Rb(2,"p",90),i.Kc(3," Title "),i.Qb(),i.Qb(),i.Rb(4,"div",91),i.Rb(5,"p",92),i.Kc(6),i.gc(7,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",i.hc(7,1,n.selectedItem.data.title)," ")}}function LO(e,t){if(1&e&&(i.Rb(0,"span"),i.Rb(1,"p",92),i.Kc(2),i.gc(3,"titlecase"),i.gc(4,"titlecase"),i.Qb(),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(2),i.Nc(" ",i.hc(3,2,n.firstName)," ",i.hc(4,4,n.lastName)," ")}}function NO(e,t){if(1&e&&(i.Rb(0,"span"),i.Ic(1,LO,5,6,"span",53),i.Qb()),2&e){var n=t.$implicit;i.yb(1),i.mc("ngIf","author"==n.creatorType)}}function zO(e,t){if(1&e&&(i.Rb(0,"div",36),i.Rb(1,"div",89),i.Rb(2,"p",90),i.Kc(3," Author "),i.Qb(),i.Qb(),i.Rb(4,"div",91),i.Ic(5,NO,2,1,"span",84),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(5),i.mc("ngForOf",n.selectedItem.data.creators)}}function VO(e,t){if(1&e&&(i.Rb(0,"span"),i.Rb(1,"p",92),i.Kc(2),i.gc(3,"titlecase"),i.gc(4,"titlecase"),i.Qb(),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(2),i.Nc(" ",i.hc(3,2,n.firstName)," ",i.hc(4,4,n.lastName)," ")}}function BO(e,t){if(1&e&&(i.Rb(0,"span"),i.Ic(1,VO,5,6,"span",53),i.Qb()),2&e){var n=t.$implicit;i.yb(1),i.mc("ngIf","editor"==n.creatorType)}}function UO(e,t){if(1&e&&(i.Rb(0,"div",36),i.Rb(1,"div",89),i.Rb(2,"p",90),i.Kc(3," Editor "),i.Qb(),i.Qb(),i.Rb(4,"div",91),i.Ic(5,BO,2,1,"span",84),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(5),i.mc("ngForOf",n.selectedItem.data.creators)}}function HO(e,t){if(1&e&&(i.Rb(0,"div",36),i.Rb(1,"div",89),i.Rb(2,"p",90),i.Kc(3," Publication "),i.Qb(),i.Qb(),i.Rb(4,"div",91),i.Rb(5,"p",92),i.Kc(6),i.gc(7,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",i.hc(7,1,n.selectedItem.data.publicationTitle)," ")}}function KO(e,t){if(1&e&&(i.Rb(0,"div",36),i.Rb(1,"div",89),i.Rb(2,"p",90),i.Kc(3," Publisher "),i.Qb(),i.Qb(),i.Rb(4,"div",91),i.Rb(5,"p",92),i.Kc(6),i.gc(7,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",i.hc(7,1,n.selectedItem.data.publisher)," ")}}function qO(e,t){if(1&e&&(i.Rb(0,"div",36),i.Rb(1,"div",89),i.Rb(2,"p",90),i.Kc(3," Issue "),i.Qb(),i.Qb(),i.Rb(4,"div",91),i.Rb(5,"p",92),i.Kc(6),i.gc(7,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",i.hc(7,1,n.selectedItem.data.issue)," ")}}function $O(e,t){if(1&e&&(i.Rb(0,"div",36),i.Rb(1,"div",89),i.Rb(2,"p",90),i.Kc(3," Pages "),i.Qb(),i.Qb(),i.Rb(4,"div",91),i.Rb(5,"p",92),i.Kc(6),i.gc(7,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",i.hc(7,1,n.selectedItem.data.pages)," ")}}function WO(e,t){if(1&e&&(i.Rb(0,"div",36),i.Rb(1,"div",89),i.Rb(2,"p",90),i.Kc(3," Place "),i.Qb(),i.Qb(),i.Rb(4,"div",91),i.Rb(5,"p",92),i.Kc(6),i.gc(7,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",i.hc(7,1,n.selectedItem.data.place)," ")}}function GO(e,t){if(1&e&&(i.Rb(0,"div",36),i.Rb(1,"div",89),i.Rb(2,"p",90),i.Kc(3," Date "),i.Qb(),i.Qb(),i.Rb(4,"div",91),i.Rb(5,"p",92),i.Kc(6),i.gc(7,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",i.hc(7,1,n.selectedItem.data.date)," ")}}function YO(e,t){if(1&e&&(i.Rb(0,"div",36),i.Rb(1,"div",89),i.Rb(2,"p",90),i.Kc(3," Journal Abbr "),i.Qb(),i.Qb(),i.Rb(4,"div",91),i.Rb(5,"p",92),i.Kc(6),i.gc(7,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",i.hc(7,1,n.selectedItem.data.journalAbbreviation)," ")}}function XO(e,t){if(1&e&&(i.Rb(0,"div",36),i.Rb(1,"div",89),i.Rb(2,"p",90),i.Rb(3,"a",93),i.Kc(4,"DOI "),i.Mb(5,"i",94),i.Qb(),i.Qb(),i.Qb(),i.Rb(6,"div",91),i.Rb(7,"p",92),i.Kc(8),i.gc(9,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(3),i.nc("href","https://doi.org/"+n.selectedItem.data.DOI,i.Bc),i.yb(5),i.Mc(" ",i.hc(9,2,n.selectedItem.data.DOI)," ")}}function ZO(e,t){if(1&e&&(i.Rb(0,"div",36),i.Rb(1,"div",89),i.Rb(2,"p",90),i.Kc(3," ISSN "),i.Qb(),i.Qb(),i.Rb(4,"div",91),i.Rb(5,"p",92),i.Kc(6),i.gc(7,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",i.hc(7,1,n.selectedItem.data.ISSN)," ")}}function JO(e,t){if(1&e&&(i.Rb(0,"div",36),i.Rb(1,"div",89),i.Rb(2,"p",90),i.Rb(3,"a",93),i.Kc(4,"URL "),i.Mb(5,"i",94),i.Qb(),i.Qb(),i.Qb(),i.Rb(6,"div",91),i.Rb(7,"p",92),i.Kc(8),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(3),i.nc("href",n.selectedItem.data.url,i.Bc),i.yb(5),i.Mc(" ",n.selectedItem.data.url," ")}}function ex(e,t){if(1&e&&(i.Rb(0,"div",36),i.Rb(1,"div",89),i.Rb(2,"p",90),i.Kc(3," Accessed "),i.Qb(),i.Qb(),i.Rb(4,"div",91),i.Rb(5,"p",92),i.Kc(6),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",n.selectedItem.data.accessDate," ")}}function tx(e,t){if(1&e&&(i.Rb(0,"div"),i.Ic(1,FO,8,3,"div",88),i.Ic(2,QO,8,3,"div",88),i.Ic(3,zO,6,1,"div",88),i.Ic(4,UO,6,1,"div",88),i.Ic(5,HO,8,3,"div",88),i.Ic(6,KO,8,3,"div",88),i.Ic(7,qO,8,3,"div",88),i.Ic(8,$O,8,3,"div",88),i.Ic(9,WO,8,3,"div",88),i.Ic(10,GO,8,3,"div",88),i.Ic(11,YO,8,3,"div",88),i.Ic(12,XO,10,4,"div",88),i.Ic(13,ZO,8,3,"div",88),i.Ic(14,JO,9,2,"div",88),i.Ic(15,ex,7,1,"div",88),i.Qb()),2&e){var n=i.fc();i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.itemType&&null!=n.selectedItem.data.itemType),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.title&&null!=n.selectedItem.data.title),i.yb(1),i.mc("ngIf",null!=n.selectedItem.data.creators&&n.selectedItem.data.creators.length>0&&n.checkIfCreatorExist(n.selectedItem.data.creators)),i.yb(1),i.mc("ngIf",null!=n.selectedItem.data.creators&&n.selectedItem.data.creators.length>0),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.publicationTitle&&null!=n.selectedItem.data.publicationTitle),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.publisher&&null!=n.selectedItem.data.publisher),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.issue&&null!=n.selectedItem.data.issue),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.pages&&null!=n.selectedItem.data.pages),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.place&&null!=n.selectedItem.data.place),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.date&&n.selectedItem.data.pages!=n.date),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.journalAbbreviation&&null!=n.selectedItem.data.journalAbbreviation),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.DOI&&null!=n.selectedItem.data.DOI),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.ISSN&&null!=n.selectedItem.data.ISSN),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.url&&null!=n.selectedItem.data.url),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.accessDate&&null!=n.selectedItem.data.accessDate)}}function nx(e,t){1&e&&(i.Rb(0,"div"),i.Rb(1,"div",36),i.Rb(2,"div",86),i.Rb(3,"p",87),i.Kc(4," No item selected "),i.Qb(),i.Qb(),i.Qb(),i.Qb())}function ix(e,t){1&e&&(i.Rb(0,"div"),i.Rb(1,"div",36),i.Rb(2,"div",86),i.Rb(3,"p",87),i.Kc(4," No info "),i.Qb(),i.Qb(),i.Qb(),i.Qb())}function ox(e,t){if(1&e&&(i.Rb(0,"div"),i.Rb(1,"p",95),i.Kc(2," Abstract "),i.Qb(),i.Rb(3,"p",96),i.Kc(4),i.Qb(),i.Qb()),2&e){var n=i.fc();i.yb(4),i.Mc(" ",n.selectedItem.data.abstractNote," ")}}var rx,ax,sx,cx,lx,ux=function(){return{switch:!1}},fx=((ax=function(){function e(t,n,i,o,r){_classCallCheck(this,e),this.lexicalService=t,this.biblioService=n,this.expand=i,this.rend=o,this.toastr=r,this.lock=0,this.exp_trig="",this.isLexicalEntry=!1,this.isForm=!1,this.isSense=!1,this.isLexicalConcept=!1,this.searchIconSpinner=!1,this.goBack=!1,this.isEtymology=!1,this.bibliography=[],this.start=0,this.sortField="title",this.direction="asc",this.memorySort={field:"",direction:""},this.queryTitle="",this.queryMode="titleCreatorYear",this.searchSubject=new wc.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.lexicalService.etymologyData$.subscribe(function(t){e.object!=t&&(e.etymologyData=null,e.isForm=!1,e.isLexicalConcept=!1,e.isLexicalEntry=!1),e.object=t,null!=e.object&&(e.creator=e.object.etymology.creator,e.revisor=e.object.revisor,e.etymologyData=t,e.isEtymology=!0,setTimeout(function(){$("#etymologyTabModal").modal("hide"),$(".modal-backdrop").remove();var e=setInterval(function(t){try{$("#etymologyTabModal").modal("hide"),$("#etymologyTabModal").is(":visible")||clearInterval(e)}catch(n){console.log(n)}},10)},500))}),this.expand.expEdit$.subscribe(function(t){setTimeout(function(){if(t)e.expand.isEditTabExpanded(),e.expand.isEpigraphyTabExpanded()?(e.rend.setStyle(e.expander_body.nativeElement,"height","calc(50vh - 12.5rem)"),e.rend.setStyle(e.expander_body.nativeElement,"max-height","calc(50vh - 12.5rem)"),e.exp_trig="in"):(e.exp_trig="in",e.rend.setStyle(e.expander_body.nativeElement,"height","calc(100vh - 17rem)"),e.rend.setStyle(e.expander_body.nativeElement,"max-height","calc(100vh - 17rem)"));else{if(null==t)return;e.rend.setStyle(e.expander_body.nativeElement,"height","calc(50vh - 12.5rem)"),e.rend.setStyle(e.expander_body.nativeElement,"max-height","calc(50vh - 12.5rem)"),e.exp_trig="out"}},100)}),this.expand.expEpigraphy$.subscribe(function(t){setTimeout(function(){if(t)e.exp_trig="in",e.rend.setStyle(e.expander_body.nativeElement,"height","calc(50vh - 12.5rem)"),e.rend.setStyle(e.expander_body.nativeElement,"max-height","calc(50vh - 12.5rem)");else{if(null==t)return;e.rend.setStyle(e.expander_body.nativeElement,"max-height","calc(50vh - 12.5rem)"),e.exp_trig="out"}},100)}),this.lexicalService.spinnerAction$.subscribe(function(t){e.searchIconSpinner="on"==t},function(e){}),this.searchSubject.pipe(Object(ou.a)(1e3)).subscribe(function(t){e.queryTitle=t.query,e.queryMode=t.queryMode?"everything":"titleCreatorYear",e.searchBibliography(e.queryTitle,e.queryMode)}),$("#biblioModalEtym").modal("show"),$(".modal-backdrop").appendTo(".ui-modal"),$("#biblioModalEtym").modal({backdrop:"static",keyboard:!1}),$(".modal-backdrop").css("height","inherit"),$("body").removeClass("modal-open"),$("body").css("padding-right",""),this.biblioService.bootstrapData(this.start,this.sortField,this.direction).subscribe(function(t){e.memorySort={field:e.sortField,direction:e.direction},e.bibliography=t,e.bibliography.forEach(function(e){e.selected=!1}),$("#biblioModalEtym").modal("hide"),$(".modal-backdrop").remove()},function(e){console.log(e)})}},{key:"deleteEtymology",value:function(){var e=this;this.searchIconSpinner=!0;var t=this.object.etymology.etymologyInstanceName;this.lexicalService.deleteEtymology(t).subscribe(function(n){e.searchIconSpinner=!1,e.lexicalService.deleteRequest(e.object),e.lexicalEntryData=null,e.isLexicalEntry=!1,e.object=null,e.lexicalService.refreshLangTable(),e.lexicalService.refreshFilter({request:!0}),e.lexicalService.sendToCoreTab(null),e.lexicalService.sendToRightTab(null),e.biblioService.sendDataToBibliographyPanel(null),e.toastr.success(t+" deleted correctly","",{timeOut:5e3})},function(t){e.searchIconSpinner=!1,e.toastr.error(t.error,"Error",{timeOut:5e3})})}},{key:"addNewEtymology",value:function(){var e=this;this.searchIconSpinner=!0,this.object.request="etymology";var t=this.object.parentNodeInstanceName;this.object.lexicalEntryInstanceName=t,this.object.request="etymology",console.log(this.object,t),this.lexicalService.createNewEtymology(t).subscribe(function(t){console.log(t),t.label="Etymology of: "+e.object.parentNodeLabel,t.flagAuthor=t.creator!=e.object.creator,e.lexicalService.addSubElementRequest({lex:e.object,data:t}),e.searchIconSpinner=!1,e.toastr.success(t.etymologyInstanceName+" added correctly","",{timeOut:5e3})},function(t){console.log(t),e.searchIconSpinner=!1})}},{key:"showBiblioModal",value:function(){this.modal.show()}},{key:"checkIfCreatorExist",value:function(e){return e.some(function(e){return"author"===e.creatorType})}},{key:"searchBibliography",value:function(e,t){var n=this;this.start=0,this.selectedItem=null,$("#biblioModalEtym").modal("show"),$(".modal-backdrop").appendTo(".table-body"),$("#biblioModalEtym").modal({backdrop:"static",keyboard:!1}),$("body").removeClass("modal-open"),$("body").css("padding-right",""),console.log(e,t),this.tableBody.nativeElement.scrollTop=0,""!=this.queryTitle?this.biblioService.filterBibliography(this.start,this.sortField,this.direction,this.queryTitle,this.queryMode).subscribe(function(e){console.log(e),n.bibliography=[],e.forEach(function(e){n.bibliography.push(e)}),setTimeout(function(){$("#biblioModalEtym").modal("hide"),$(".modal-backdrop").remove()},100)},function(e){console.log(e)}):this.biblioService.filterBibliography(this.start,this.sortField,this.direction,this.queryTitle,this.queryMode).subscribe(function(e){console.log(e),n.bibliography=[],e.forEach(function(e){n.bibliography.push(e)}),$("#biblioModalEtym").modal("hide"),$(".modal-backdrop").remove()},function(e){console.log(e)})}},{key:"triggerSearch",value:function(e,t,n){"Control"!=e.key&&"Shift"!=e.key&&"Alt"!=e.key&&this.searchSubject.next({query:t,queryMode:n})}},{key:"onScrollDown",value:function(){var e=this;$("#biblioModalEtym").modal("show"),$(".modal-backdrop").appendTo(".table-body"),$("#biblioModalEtym").modal({backdrop:"static",keyboard:!1}),$(".modal-backdrop").appendTo(".table-body"),$("body").removeClass("modal-open"),$("body").css("padding-right",""),this.start+=25,""!=this.queryTitle?this.biblioService.filterBibliography(this.start,this.sortField,this.direction,this.queryTitle,this.queryMode).subscribe(function(t){console.log(t),$("#biblioModalEtym").modal("hide"),$(".modal-backdrop").remove(),t.forEach(function(t){e.bibliography.push(t)})},function(e){console.log(e)}):this.biblioService.filterBibliography(this.start,this.sortField,this.direction,this.queryTitle,this.queryMode).subscribe(function(t){t.forEach(function(t){e.bibliography.push(t)}),$("#biblioModalEtym").modal("hide"),$(".modal-backdrop").remove()},function(e){console.log(e)})}},{key:"selectItem",value:function(e,t){var n=this;this.bibliography.forEach(function(e){return e.key==t.key?(e.selected=!e.selected,n.selectedItem=e.selected?e:null,!0):(e.selected=!1,!1)})}},{key:"sortBibliography",value:function(e,t){var n=this;this.memorySort.field==t?"asc"==this.direction?(this.direction="desc",this.memorySort.direction="desc"):(this.direction="asc",this.memorySort.direction="asc"):(this.sortField=t,this.direction="asc",this.memorySort={field:this.sortField,direction:this.direction}),$("#biblioModalEtym").modal("show"),$(".modal-backdrop").appendTo(".table-body"),$("#biblioModalEtym").modal({backdrop:"static",keyboard:!1}),$(".modal-backdrop").appendTo(".table-body"),$("body").removeClass("modal-open"),$("body").css("padding-right",""),this.start=0,this.tableBody.nativeElement.scrollTop=0,this.biblioService.filterBibliography(this.start,this.sortField,this.direction,this.queryTitle,this.queryMode).subscribe(function(e){console.log(e),n.bibliography=[],$("#biblioModalEtym").modal("hide"),$(".modal-backdrop").remove(),e.forEach(function(e){n.bibliography.push(e)})},function(e){console.log(e)})}},{key:"addNewForm",value:function(){var e=this;this.searchIconSpinner=!0,this.object.request="form";var t=this.object.parentNodeInstanceName;this.object.request="form",this.object.lexicalEntryInstanceName=t,this.lexicalService.createNewForm(t).subscribe(function(t){t.flagAuthor=t.creator!=e.object.creator,e.lexicalService.addSubElementRequest({lex:e.object,data:t}),e.searchIconSpinner=!1,e.toastr.success(t.formInstanceName+" added correctly","",{timeOut:5e3})},function(t){e.searchIconSpinner=!1,e.toastr.error("Something goes wrong","Error",{timeOut:5e3})})}},{key:"addNewSense",value:function(){var e=this;this.searchIconSpinner=!0,this.object.request="sense";var t=this.object.parentNodeInstanceName;this.object.lexicalEntryInstanceName=t,this.object.request="sense",console.log(this.object),this.lexicalService.createNewSense(t).subscribe(function(t){t.flagAuthor=t.creator!=e.object.creator,e.lexicalService.addSubElementRequest({lex:e.object,data:t}),e.searchIconSpinner=!1,e.toastr.success(t.senseInstanceName+" added correctly","",{timeOut:5e3})},function(t){e.searchIconSpinner=!1,e.toastr.error(t.error,"Error",{timeOut:5e3})})}},{key:"addBibliographyItem",value:function(e){var t=this;$("#biblioModalEtym").modal("show"),$(".modal-backdrop").appendTo(".ui-modal"),$("#biblioModalEtym").modal({backdrop:"static",keyboard:!1}),$(".modal-backdrop").css("height","inherit"),$("body").removeClass("modal-open"),$("body").css("padding-right","");var n=this.object.etymology.etymologyInstanceName;if(console.log(this.object),null!=e){var i,o=null!=e.data.key?e.data.key:"",r=null!=e.data.title?e.data.title:"";e.data.creators.forEach(function(e){return"author"==e.creatorType&&(i=e.lastName+" "+e.firstName,!0)});var a={id:o,title:r,author:i=null!=i?i:"",date:null!=e.data.date?e.data.date:"",url:null!=e.data.url?e.data.url:"",seeAlsoLink:""};console.log(n,a),this.lexicalService.addBibliographyData(n,a).subscribe(function(e){setTimeout(function(){$("#biblioModalEtym").modal("hide"),$(".modal-backdrop").remove(),t.toastr.success("Item added, check bibliography panel","",{timeOut:5e3}),t.biblioService.triggerPanel(e),setTimeout(function(){t.modal.hide()},10)},300),t.biblioService.sendDataToBibliographyPanel(e)},function(e){console.log(e),t.toastr.error(e.error,"Error",{timeOut:5e3}),setTimeout(function(){$("#biblioModalEtym").modal("hide"),$(".modal-backdrop").remove()},300)})}}},{key:"onCloseModal",value:function(){var e=this;this.selectedItem=null,this.start=0,this.sortField="title",this.direction="asc",this.tableBody.nativeElement.scrollTop=0,this.memorySort={field:this.sortField,direction:this.direction},this.biblioService.bootstrapData(this.start,this.sortField,this.direction).subscribe(function(t){e.bibliography=t,e.bibliography.forEach(function(e){e.selected=!1})},function(e){console.log(e)})}}]),e}()).\u0275fac=function(e){return new(e||ax)(i.Lb(sp.a),i.Lb(cp),i.Lb(up),i.Lb(i.E),i.Lb(Pu.b))},ax.\u0275cmp=i.Fb({type:ax,selectors:[["app-etymology-tab"]],viewQuery:function(e,t){var n;1&e&&(i.Pc(aO,!0),i.Pc(sO,!0),i.Pc(cO,!0)),2&e&&(i.uc(n=i.cc())&&(t.expander_body=n.first),i.uc(n=i.cc())&&(t.modal=n.first),i.uc(n=i.cc())&&(t.tableBody=n.first))},inputs:{etymologyData:"etymologyData"},decls:100,vars:31,consts:[["id","cardsAccordion",1,"accordion",3,"hidden"],[1,"card","my-2"],[1,"card-header","p-0"],[1,"mb-0","w-100","d-flex","justify-content-between","align-self-center"],["class","btn",4,"ngIf"],["class","spinner-border spinner-border-sm m-1","role","status",4,"ngIf"],[1,"btn","btn-link",3,"click"],[1,"fa","fa-trash"],[1,"card-body","etym-tab-body"],["expander",""],["id","etymologyTabModal","role","dialog",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[3,"etymData"],[1,"card-footer","text-muted","p-0"],[1,"w-100","d-flex","justify-content-between","align-items-center"],[1,"pl-2"],[1,"btn-group","dropup","dropleft"],["type","button","id","dropdownAddLemma","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-success"],[1,"fas","fa-plus"],["aria-labelledby","dropdownAddLemma",1,"dropdown-menu","dropdown-menu-right"],["title","add new form",1,"dropdown-item",3,"click"],[1,"dropdown-item",3,"click"],[1,"biblio_modal",3,"backdrop","inViewport","closeModal"],["addBibliography",""],[1,"app-modal-header"],["src","../../../../../../assets/images/zotero_logo.png"],[1,"ml-2","biblio-header-title"],[1,"app-modal-body"],[1,"w-25","pt-1","pb-1"],["class","input-group mb-3",4,"ngIf"],[1,"container-fluid"],[1,"row"],[1,"col-md-8","pl-0"],[1,"table-responsive","table-body"],["id","biblioModalEtym","role","dialog",1,"modal","fade"],[1,"table","table-striped","table-hover",3,"hidden"],["scope","col",2,"width","50%","cursor","pointer",3,"click"],[1,"float-right"],["class","fas fa-sort-up",4,"ngIf"],["class","fas fa-sort-down",4,"ngIf"],["scope","col",2,"width","30%","cursor","pointer",3,"click"],["scope","col",2,"width","20%","cursor","pointer",3,"click"],["infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],["table_body",""],["style","cursor: pointer;",3,"ngClass","click",4,"ngFor","ngForOf"],["class","font-italic text-muted no-results",4,"ngIf"],[1,"col-md-4",2,"font-size","14px"],[1,"col-md-12","item-description",2,"height","calc(100vh - 37rem)","overflow","auto","font-size","13px"],[4,"ngIf"],[1,"col-md-12",2,"height","calc(40vh - 10rem)","overflow","auto","font-size","13px"],[1,"col-md-12","d-flex","justify-content-end"],[1,"btn","btn-secondary","w-25",3,"disabled","click"],[1,"app-modal-footer"],[1,"btn"],["role","status",1,"spinner-border","spinner-border-sm","m-1"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-outline-secondary","dropdown-toggle"],[1,"fa","fa-search"],[1,"dropdown-menu"],[1,"dropdown-item",2,"cursor","pointer",3,"click"],["type","text","aria-label","Text input with dropdown button",1,"form-control",2,"font-size","12px",3,"placeholder","keyup"],["searchBiblio",""],[1,"fas","fa-sort-up"],[1,"fas","fa-sort-down"],[2,"cursor","pointer",3,"ngClass","click"],[2,"width","50%"],["class","pl-1 pr-1",4,"ngIf"],["class","font-italic",4,"ngIf"],[2,"width","30%"],[2,"width","20%"],[1,"pl-1","pr-1"],[1,"fas","fa-book"],[1,"fas","fa-book-open"],[1,"far","fa-newspaper"],[1,"far","fa-clipboard"],[1,"fas","fa-paperclip"],[1,"fas","fa-chalkboard-teacher"],[1,"font-italic"],[4,"ngFor","ngForOf"],[1,"font-italic","text-muted","no-results"],[1,"col-md-12"],[1,"text-muted","text-center","align-middle","mb-1","font-italic"],["class","row",4,"ngIf"],[1,"col-md-4","left",2,"text-align","right"],[1,"text-muted","font-weight-bold","mb-1"],[1,"col-md-8","right",2,"text-align","left"],[1,"font-weight-normal","mb-1"],["target","_blank",1,"text-muted",3,"href"],[1,"fas","fa-external-link-alt"],[1,"text-muted","font-weight-bold"],[1,"font-weight-normal"]],template:function(e,t){1&e&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Rb(2,"div",2),i.Rb(3,"h5",3),i.Rb(4,"div"),i.Ic(5,lO,3,5,"span",4),i.Qb(),i.Rb(6,"div"),i.Ic(7,uO,3,0,"div",5),i.Rb(8,"button",6),i.bc("click",function(){return t.deleteEtymology()}),i.Mb(9,"i",7),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(10,"div",8,9),i.Rb(12,"div",10),i.Rb(13,"div",11),i.Rb(14,"div",12),i.Rb(15,"div",13),i.Rb(16,"div",14),i.Rb(17,"div",15),i.Rb(18,"span",16),i.Kc(19,"Loading..."),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Mb(20,"app-etymology-form",17),i.Qb(),i.Rb(21,"div",18),i.Rb(22,"div",19),i.Rb(23,"div"),i.Rb(24,"span",20),i.Kc(25),i.gc(26,"date"),i.Qb(),i.Qb(),i.Rb(27,"div",21),i.Rb(28,"button",22),i.Mb(29,"i",23),i.Qb(),i.Rb(30,"div",24),i.Rb(31,"button",25),i.bc("click",function(){return t.addNewForm()}),i.Kc(32,"Add Form"),i.Qb(),i.Rb(33,"button",26),i.bc("click",function(){return t.addNewSense()}),i.Kc(34,"Add Sense"),i.Qb(),i.Rb(35,"button",26),i.bc("click",function(){return t.addNewEtymology()}),i.Kc(36,"Add Etymology"),i.Qb(),i.Rb(37,"button",26),i.bc("click",function(){return t.showBiblioModal()}),i.Kc(38,"Add Bibliography"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(39,"app-modal",27,28),i.bc("closeModal",function(){return t.onCloseModal()}),i.Pb(41,29),i.Mb(42,"img",30),i.Rb(43,"span",31),i.Kc(44,"Library: PRIN Italia Antica"),i.Qb(),i.Ob(),i.Pb(45,32),i.Rb(46,"div",33),i.Ic(47,fO,11,5,"div",34),i.Qb(),i.Rb(48,"div",35),i.Rb(49,"div",36),i.Rb(50,"div",37),i.Rb(51,"div",38),i.Rb(52,"div",39),i.Rb(53,"div",11),i.Rb(54,"div",12),i.Rb(55,"div",13),i.Rb(56,"div",14),i.Rb(57,"div",15),i.Rb(58,"span",16),i.Kc(59,"Loading..."),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(60,"table",40),i.Rb(61,"thead"),i.Rb(62,"tr"),i.Rb(63,"th",41),i.bc("click",function(e){return t.sortBibliography(e,"title")}),i.Rb(64,"span"),i.Kc(65,"Title"),i.Qb(),i.Rb(66,"span",42),i.Ic(67,dO,1,0,"i",43),i.Ic(68,hO,1,0,"i",44),i.Qb(),i.Qb(),i.Rb(69,"th",45),i.bc("click",function(e){return t.sortBibliography(e,"creator")}),i.Rb(70,"span"),i.Kc(71,"Creator"),i.Qb(),i.Rb(72,"span",42),i.Ic(73,pO,1,0,"i",43),i.Ic(74,bO,1,0,"i",44),i.Qb(),i.Qb(),i.Rb(75,"th",46),i.bc("click",function(e){return t.sortBibliography(e,"date")}),i.Rb(76,"span"),i.Kc(77,"Date"),i.Qb(),i.Rb(78,"span",42),i.Ic(79,gO,1,0,"i",43),i.Ic(80,mO,1,0,"i",44),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(81,"tbody",47,48),i.bc("scrolled",function(){return t.onScrollDown()}),i.Ic(83,TO,16,13,"tr",49),i.Qb(),i.Qb(),i.Ic(84,DO,2,0,"p",50),i.Qb(),i.Qb(),i.Rb(85,"div",51),i.Rb(86,"div",36),i.Rb(87,"div",52),i.Ic(88,jO,5,0,"div",53),i.Ic(89,tx,16,15,"div",53),i.Qb(),i.Qb(),i.Rb(90,"div",36),i.Rb(91,"div",54),i.Ic(92,nx,5,0,"div",53),i.Ic(93,ix,5,0,"div",53),i.Ic(94,ox,5,1,"div",53),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(95,"div",36),i.Rb(96,"div",55),i.Rb(97,"button",56),i.bc("click",function(){return t.addBibliographyItem(t.selectedItem)}),i.Kc(98,"Save"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Ob(),i.Nb(99,57),i.Qb()),2&e&&(i.mc("hidden",null==t.object),i.yb(5),i.mc("ngIf",null!=t.object),i.yb(2),i.mc("ngIf",t.searchIconSpinner),i.yb(3),i.mc("@slideInOut",t.exp_trig),i.yb(10),i.mc("etymData",t.etymologyData),i.yb(5),i.Mc("LAST UPDATE ON ",i.ic(26,27,t.lastUpdateDate,"dd/MM/yyyy hh:mm:ss"),""),i.yb(14),i.mc("backdrop",!1)("inViewport",!0),i.yb(8),i.mc("ngIf",i.pc(30,ux)),i.yb(13),i.mc("hidden",0==t.bibliography.length),i.yb(7),i.mc("ngIf","asc"==t.direction&&"title"==t.sortField),i.yb(1),i.mc("ngIf","desc"==t.direction&&"title"==t.sortField),i.yb(5),i.mc("ngIf","asc"==t.direction&&"creator"==t.sortField),i.yb(1),i.mc("ngIf","desc"==t.direction&&"creator"==t.sortField),i.yb(5),i.mc("ngIf","asc"==t.direction&&"date"==t.sortField),i.yb(1),i.mc("ngIf","desc"==t.direction&&"date"==t.sortField),i.yb(1),i.mc("infiniteScrollDistance",.4)("infiniteScrollThrottle",150)("scrollWindow",!1),i.yb(2),i.mc("ngForOf",t.bibliography),i.yb(1),i.mc("ngIf",0==t.bibliography.length),i.yb(4),i.mc("ngIf",!t.selectedItem),i.yb(1),i.mc("ngIf",t.selectedItem),i.yb(3),i.mc("ngIf",!t.selectedItem),i.yb(1),i.mc("ngIf",t.selectedItem&&(""==t.selectedItem.data.abstractNote||null==t.selectedItem.data.abstractNote)),i.yb(1),i.mc("ngIf",t.selectedItem&&""!=t.selectedItem.data.abstractNote&&null!=t.selectedItem.data.abstractNote),i.yb(3),i.mc("disabled",!t.selectedItem))},directives:[a.n,rO,Rp,Ws,a.m,a.l],pipes:[a.d,a.u],styles:[".btn[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{font-size:12px}.card-header[_ngcontent-%COMP%]{padding:5px 18px}.card-footer[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]{background-color:#dee2e6}.card-body[_ngcontent-%COMP%]{max-height:calc(50vh - 12.5rem);min-height:calc(50vh - 12.5rem);overflow:auto}.btn-group[_ngcontent-%COMP%] > .btn-group[_ngcontent-%COMP%]:not(:last-child) > .btn[_ngcontent-%COMP%], .btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:not(:last-child):not(.dropdown-toggle){border-top-right-radius:.25rem!important;border-bottom-right-radius:.25rem!important}.biblio_modal[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]{font-size:12px}.biblio_modal[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .biblio_modal[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.55rem}.biblio_modal[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{display:block;height:calc(100vh - 29rem);overflow:auto}.biblio_modal[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:16px!important}.biblio_modal[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .biblio_modal[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed}.biblio_modal[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{background-color:rgba(91,155,213,.5098039215686274)}.biblio_modal[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{position:relative}.biblio_modal[_ngcontent-%COMP%]   table.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:rgba(91,155,213,.5098039215686274)}.biblio_modal[_ngcontent-%COMP%]   .disable_click_fire[_ngcontent-%COMP%]{pointer-events:none}.biblio_modal[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]{height:calc(100vh - 25rem)}"],data:{animation:[Object(Ug.j)("slideInOut",[Object(Ug.g)("in",Object(Ug.h)({height:"calc(100vh - 17rem)"})),Object(Ug.g)("out",Object(Ug.h)({height:"calc(50vh - 12.5rem)"})),Object(Ug.i)("in => out",Object(Ug.e)("400ms ease-in-out")),Object(Ug.i)("out => in",Object(Ug.e)("400ms ease-in-out"))])]}}),ax),dx=((rx=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||rx)},rx.\u0275cmp=i.Fb({type:rx,selectors:[["app-dictionary-tab"]],decls:34,vars:0,consts:[[1,"card","container-fluid"],[1,"card-body","row"],[1,"col-md-12","text-right"],["href","#"],[1,"fa","fa-unlock","fa-2x"],[1,"row"],[1,"col-md-12","dictionary-body"]],template:function(e,t){1&e&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Rb(2,"div",2),i.Rb(3,"a",3),i.Mb(4,"i",4),i.Qb(),i.Qb(),i.Qb(),i.Rb(5,"div",5),i.Rb(6,"div",6),i.Rb(7,"ul"),i.Rb(8,"li"),i.Kc(9,"Lorem ipsum dolor sit amet, consectetuer adipiscing elit."),i.Qb(),i.Rb(10,"li"),i.Kc(11,"Aliquam tincidunt mauris eu risus."),i.Qb(),i.Rb(12,"li"),i.Kc(13,"Vestibulum auctor dapibus neque."),i.Qb(),i.Rb(14,"li"),i.Kc(15,"Nunc dignissim risus id metus."),i.Qb(),i.Rb(16,"li"),i.Kc(17,"Cras ornare tristique elit."),i.Qb(),i.Rb(18,"li"),i.Kc(19,"Vivamus vestibulum ntulla nec ante."),i.Qb(),i.Rb(20,"li"),i.Kc(21,"Praesent placerat risus quis eros."),i.Qb(),i.Rb(22,"li"),i.Kc(23,"Fusce pellentesque suscipit nibh."),i.Qb(),i.Rb(24,"li"),i.Kc(25,"Integer vitae libero ac risus egestas placerat."),i.Qb(),i.Rb(26,"li"),i.Kc(27,"Vestibulum commodo felis quis tortor."),i.Qb(),i.Rb(28,"li"),i.Kc(29,"Ut aliquam sollicitudin leo."),i.Qb(),i.Rb(30,"li"),i.Kc(31,"Cras iaculis ultricies nulla."),i.Qb(),i.Rb(32,"li"),i.Kc(33,"Donec quis dui at dolor tempor interdum."),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb())},styles:[".fa[_ngcontent-%COMP%]{font-size:20px}ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{font-size:12px}.dictionary-body[_ngcontent-%COMP%]{max-height:31vh;overflow-y:auto}"]}),rx),hx=["navtabs"],px=["navcontent"],bx=function(e){return{disabled:e}},gx=((lx=function(){function e(t,n){_classCallCheck(this,e),this.lexicalService=t,this.exp=n,this.showTrigger=!1,this.hideEtymology=!0,this.hideDecomp=!0,this.hideDictionary=!0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.object=null,this.exp.openEdit$.subscribe(function(e){e&&setTimeout(function(){document.querySelectorAll("#text-dettaglio").forEach(function(e){e.classList.contains("show")||e.classList.add("show")}),document.querySelectorAll('a[data-target="#text-dettaglio"]').forEach(function(e){e.classList.contains("collapsed")&&e.classList.remove("collapsed")})},100)}),this.lexicalService.coreData$.subscribe(function(t){null!=t&&(null!=t.lexicalEntryInstanceName||null!=t.formInstanceName||null!=t.senseInstanceName||null!=t.etymologyInstanceName?setTimeout(function(){var n=e.navtabs.nativeElement.querySelectorAll("a");e.object=t,n.forEach(function(t){"Core"==t.text?(t.classList.add("active"),e.hideDecomp=!0,e.hideEtymology=!0):t.classList.remove("active")}),e.navcontent.nativeElement.querySelectorAll(".tab-pane").forEach(function(e){"core"==e.id?(e.classList.add("active"),e.classList.add("show")):(e.classList.remove("active"),e.classList.remove("show"))})},100):e.object=null)}),this.lexicalService.decompData$.subscribe(function(t){null!=t?setTimeout(function(){var n=e.navtabs.nativeElement.querySelectorAll("a");e.object=t,n.forEach(function(t){"Decomposition"==t.text?(t.classList.add("active"),e.hideDecomp=!1,e.hideEtymology=!0):t.classList.remove("active")}),e.navcontent.nativeElement.querySelectorAll(".tab-pane").forEach(function(e){"decomposition"==e.id?(e.classList.add("active"),e.classList.add("show")):(e.classList.remove("active"),e.classList.remove("show"))})},100):e.object=null}),this.lexicalService.etymologyData$.subscribe(function(t){null!=t&&(null!=t.etymology.etymologyInstanceName?(e.object=t,e.navtabs.nativeElement.querySelectorAll("a").forEach(function(t){"Etymology"==t.text?(t.classList.add("active"),e.hideEtymology=!1,e.hideDecomp=!0):t.classList.remove("active")}),e.navcontent.nativeElement.querySelectorAll(".tab-pane").forEach(function(e){"etymology"==e.id?(e.classList.add("active"),e.classList.add("show")):(e.classList.remove("active"),e.classList.remove("show"))})):e.object=null)})}},{key:"triggerExpansionEdit",value:function(){var e=this;setTimeout(function(){e.exp.isEditTabOpen()&&!e.exp.isEpigraphyTabOpen()?e.exp.isEditTabExpanded()&&!e.exp.isEpigraphyTabExpanded()&&(e.exp.openCollapseEdit(),e.exp.expandCollapseEdit()):e.exp.isEditTabOpen()||e.exp.isEpigraphyTabOpen()?e.exp.isEditTabOpen()&&e.exp.isEpigraphyTabOpen()?(e.exp.openCollapseEdit(),e.exp.expandCollapseEpigraphy(!0)):!e.exp.isEditTabOpen()&&e.exp.isEpigraphyTabOpen()&&!e.exp.isEditTabExpanded()&&e.exp.isEpigraphyTabExpanded()&&(e.exp.expandCollapseEpigraphy(!1),e.exp.openCollapseEdit(!0)):e.exp.isEditTabExpanded()||e.exp.isEpigraphyTabExpanded()||(e.exp.openCollapseEdit(),e.exp.expandCollapseEdit())},200)}}]),e}()).\u0275fac=function(e){return new(e||lx)(i.Lb(sp.a),i.Lb(up))},lx.\u0275cmp=i.Fb({type:lx,selectors:[["app-edit-detail"]],viewQuery:function(e,t){var n;1&e&&(i.Pc(hx,!0),i.Pc(px,!0)),2&e&&(i.uc(n=i.cc())&&(t.navtabs=n.first),i.uc(n=i.cc())&&(t.navcontent=n.first))},decls:31,vars:6,consts:[[1,"card"],[1,"card-header"],["id","editDictTab","role","tablist",1,"nav","nav-tabs",3,"ngClass"],["navtabs",""],[1,"nav-item"],["id","core-tab","data-toggle","tab","href","#core","role","tab","aria-controls","core","aria-selected","true",1,"nav-link"],[1,"nav-item",3,"hidden"],["id","decomposition-tab","data-toggle","tab","href","#decomposition","role","tab","aria-controls","decomposition","aria-selected","true",1,"nav-link"],["id","etymology-tab","data-toggle","tab","href","#etymology","role","tab","aria-controls","etymology","aria-selected","true",1,"nav-link"],["id","dictionary-tab","data-toggle","tab","href","#dictionary","role","tab","aria-controls","dictionary","aria-selected","false",1,"nav-link"],[1,"ml-auto","mb-0"],["data-toggle","collapse","data-target","#text-dettaglio","aria-expanded","false","aria-controls","text-dettaglio",1,"btn","btn-link","w-100","d-flex","align-self-center",3,"click"],[1,"fa","ml-auto"],["id","text-dettaglio","aria-labelledby","headingOne",1,"collapse","show"],[1,"card-body"],["id","tab-content",1,"tab-content"],["navcontent",""],["id","core","role","tabpanel","aria-labelledby","core-tab",1,"tab-pane","fade"],["id","decomposition","role","tabpanel","aria-labelledby","decomposition-tab",1,"tab-pane","fade"],["id","etymology","role","tabpanel","aria-labelledby","etymology-tab",1,"tab-pane","fade"],["id","dictionary","role","tabpanel","aria-labelledby","dictionary-tab",1,"tab-pane","fade"]],template:function(e,t){1&e&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Rb(2,"ul",2,3),i.Rb(4,"li",4),i.Rb(5,"a",5),i.Kc(6,"Core"),i.Qb(),i.Qb(),i.Rb(7,"li",6),i.Rb(8,"a",7),i.Kc(9,"Decomposition"),i.Qb(),i.Qb(),i.Rb(10,"li",6),i.Rb(11,"a",8),i.Kc(12,"Etymology"),i.Qb(),i.Qb(),i.Rb(13,"li",6),i.Rb(14,"a",9),i.Kc(15,"Dictionary"),i.Qb(),i.Qb(),i.Rb(16,"h5",10),i.Rb(17,"a",11),i.bc("click",function(){return t.triggerExpansionEdit()}),i.Mb(18,"i",12),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(19,"div",13),i.Rb(20,"div",14),i.Rb(21,"div",15,16),i.Rb(23,"div",17),i.Mb(24,"app-core-tab"),i.Qb(),i.Rb(25,"div",18),i.Mb(26,"app-decomposition-tab"),i.Qb(),i.Rb(27,"div",19),i.Mb(28,"app-etymology-tab"),i.Qb(),i.Rb(29,"div",20),i.Mb(30,"app-dictionary-tab"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb()),2&e&&(i.yb(2),i.mc("ngClass",i.qc(4,bx,null===t.object)),i.yb(5),i.mc("hidden",t.hideDecomp),i.yb(3),i.mc("hidden",t.hideEtymology),i.yb(3),i.mc("hidden",t.hideDictionary))},directives:[a.l,rk,jk,fx,dx],styles:['@charset "UTF-8";.nav-item[_ngcontent-%COMP%]{font-size:12px}.nav-tabs[_ngcontent-%COMP%]{border-bottom:none}.card-header[_ngcontent-%COMP%]{padding:0}.disabled[_ngcontent-%COMP%]{pointer-events:none}.disabled[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%], .disabled[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#aeaeae}[data-toggle=collapse][_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"\uf146"}[data-toggle=collapse].collapsed[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"\uf0fe"}.fa[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{text-decoration:none;font-size:12px}.fa[_ngcontent-%COMP%]{margin-top:2px}']}),lx),mx=((cx=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||cx)},cx.\u0275cmp=i.Fb({type:cx,selectors:[["app-text-detail"]],decls:3,vars:0,consts:[["id","epigraphy-accordion"]],template:function(e,t){1&e&&(i.Rb(0,"div",0),i.Mb(1,"app-epigraphy-detail"),i.Mb(2,"app-edit-detail"),i.Qb())},directives:[Sv,gx],styles:[".btn[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]{font-size:14px}"]}),cx),vx=((sx=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||sx)},sx.\u0275cmp=i.Fb({type:sx,selectors:[["app-lexicon-panel"]],decls:6,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-4","p-1"],[1,"col-md-8","p-1"]],template:function(e,t){1&e&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Rb(2,"div",2),i.Mb(3,"app-document-system-tree"),i.Qb(),i.Rb(4,"div",3),i.Mb(5,"app-text-detail"),i.Qb(),i.Qb(),i.Qb())},directives:[Bg,mx],styles:[".container-fluid[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.card-header[_ngcontent-%COMP%]{padding:5px 18px;font-size:18px}"]}),sx);function yx(e,t){if(1&e){var n=i.Sb();i.Rb(0,"angular-editor",8),i.bc("ngModelChange",function(e){return i.zc(n),i.fc().noteData=e})("keyup",function(e){return i.zc(n),i.fc().onChanges(e)}),i.Qb()}if(2&e){var o=i.fc();i.mc("placeholder","Enter text here...")("ngModel",o.noteData)("config",o.editorConfig)}}var _x,Cx=((_x=function(){function e(t,n){_classCallCheck(this,e),this.lexicalService=t,this.toastr=n,this.subject=new wc.a,this.editorConfig={editable:!0,spellcheck:!0,height:"auto",minHeight:"0",maxHeight:"150px",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}],uploadUrl:"v1/image",uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",toolbarHiddenButtons:[["undo","redo","strikeThrough","justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent","insertUnorderedList","insertOrderedList","heading","fontName"],["fontSize","textColor","backgroundColor","customClasses","link","unlink","insertImage","insertVideo","insertHorizontalRule","toggleEditorMode"]]}}return _createClass(e,[{key:"keyEvent",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"ngOnInit",value:function(){var e=this;this.editorConfig.editable=!1,this.subject.pipe(Object(ou.a)(1e3)).subscribe(function(t){null!=e.noteData&&(e.lexicalService.spinnerAction("on"),console.log(e.object),null!=e.object.lexicalEntryInstanceName?e.lexicalService.updateLexicalEntry(e.object.lexicalEntryInstanceName,{relation:"note",value:t}).subscribe(function(n){n.request=0,n.new_note=t,e.lexicalService.refreshAfterEdit(n),e.lexicalService.spinnerAction("off"),e.toastr.success("Note updated","",{timeOut:5e3})},function(n){var i=e.object;i.request=0,i.new_note=t,e.lexicalService.refreshAfterEdit(i),e.lexicalService.updateCoreCard({lastUpdate:n.error.text}),e.lexicalService.spinnerAction("off"),e.toastr.success("Note updated","",{timeOut:5e3})}):null!=e.object.formInstanceName?e.lexicalService.updateForm(e.object.formInstanceName,{relation:"note",value:t}).subscribe(function(n){n.request=0,n.new_note=t,e.lexicalService.refreshAfterEdit(n),e.lexicalService.spinnerAction("off"),e.toastr.success("Note updated","",{timeOut:5e3})},function(n){var i=e.object;i.request=0,i.new_note=t,e.lexicalService.refreshAfterEdit(i),e.lexicalService.updateCoreCard({lastUpdate:n.error.text}),e.lexicalService.spinnerAction("off"),e.toastr.success("Note updated","",{timeOut:5e3})}):null!=e.object.senseInstanceName?e.lexicalService.updateSense(e.object.senseInstanceName,{relation:"note",value:t}).subscribe(function(n){n.request=0,n.new_note=t,e.lexicalService.refreshAfterEdit(n),e.lexicalService.spinnerAction("off"),e.toastr.success("Note updated","",{timeOut:5e3})},function(n){var i=e.object;i.request=0,i.new_note=t,e.lexicalService.refreshAfterEdit(i),e.lexicalService.updateCoreCard({lastUpdate:n.error.text}),e.lexicalService.spinnerAction("off"),e.toastr.success("Note updated","",{timeOut:5e3})}):null!=e.object.etymologyInstanceName&&e.lexicalService.updateEtymology(e.object.etymologyInstanceName,{relation:"note",value:t}).subscribe(function(n){n.request=0,n.new_note=t,e.lexicalService.refreshAfterEdit(n),e.lexicalService.spinnerAction("off"),e.toastr.success("Note updated","",{timeOut:5e3})},function(n){var i=e.object;i.request=0,i.new_note=t,e.lexicalService.refreshAfterEdit(i),e.lexicalService.updateCoreCard({lastUpdate:n.error.text}),e.lexicalService.spinnerAction("off"),e.toastr.success("Note updated","",{timeOut:5e3})}))}),this.lexicalService.deleteReq$.subscribe(function(t){e.editorConfig.editable=!1,e.noteData=null,e.object=null})}},{key:"ngOnChanges",value:function(e){null==e.noteData.currentValue?(this.editorConfig.editable=!1,this.noteData=null,this.object=null):(this.editorConfig.editable=!0,this.noteData=e.noteData.currentValue.note,this.object=e.noteData.currentValue)}},{key:"onChanges",value:function(e){"Control"!=e.key&&"Alt"!=e.key&&"Shift"!=e.key&&this.subject.next(this.noteData)}}]),e}()).\u0275fac=function(e){return new(e||_x)(i.Lb(sp.a),i.Lb(Pu.b))},_x.\u0275cmp=i.Fb({type:_x,selectors:[["app-note-panel"]],hostBindings:function(e,t){1&e&&i.bc("keyup",function(e){return t.keyEvent(e)},!1,i.yc)},inputs:{noteData:"noteData"},features:[i.wb],decls:9,vars:1,consts:[[1,"card"],["id","noteHeading",1,"card-header"],[1,"mb-0"],["data-toggle","collapse","data-target","#noteCollapse","aria-expanded","true","aria-controls","noteCollapse",1,"btn","btn-link","w-100","d-flex","align-self-center","collapsed"],[1,"fa","ml-auto"],["id","noteCollapse","aria-labelledby","noteHeading",1,"collapse"],[1,"card-body"],["readonly","",3,"placeholder","ngModel","config","ngModelChange","keyup",4,"ngIf"],["readonly","",3,"placeholder","ngModel","config","ngModelChange","keyup"]],template:function(e,t){1&e&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Rb(2,"h5",2),i.Rb(3,"a",3),i.Kc(4," Note Panel"),i.Mb(5,"i",4),i.Qb(),i.Qb(),i.Qb(),i.Rb(6,"div",5),i.Rb(7,"div",6),i.Ic(8,yx,1,3,"angular-editor",7),i.Qb(),i.Qb(),i.Qb()),2&e&&(i.yb(8),i.mc("ngIf",null!=t.noteData))},directives:[a.n,yc,vs.n,vs.q],styles:['@charset "UTF-8";.btn[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{font-size:12px}.card-header[_ngcontent-%COMP%]{padding:0}[data-toggle=collapse][_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"\uf146"}[data-toggle=collapse].collapsed[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"\uf0fe"}a[_ngcontent-%COMP%]{text-decoration:none!important}.fa[_ngcontent-%COMP%]{margin-top:2px}']}),_x),kx=n("zqZ1");function Ox(e,t){if(1&e&&(i.Rb(0,"span"),i.Kc(1),i.Qb()),2&e){var n=i.fc();i.yb(1),i.Mc("\xa0(",n.countElement,")")}}function xx(e,t){1&e&&i.Mb(0,"i",41)}function wx(e,t){1&e&&i.Mb(0,"i",42)}function Mx(e,t){if(1&e&&(i.Rb(0,"a",37),i.Rb(1,"span",43),i.Mb(2,"i",44),i.Qb(),i.Qb()),2&e){var n=i.fc(2).index,o=i.fc(2);i.mc("href",o.bibliographyData[n].url,i.Bc)}}function Px(e,t){if(1&e){var n=i.Sb();i.Rb(0,"span",32),i.Rb(1,"span"),i.Rb(2,"a",33),i.bc("click",function(){i.zc(n);var e=i.fc(),t=e.$implicit,o=e.index;return i.fc(2).synchronizeBibliography(t.get("id").value,o)}),i.Rb(3,"span",34),i.Ic(4,xx,1,0,"i",35),i.Ic(5,wx,1,0,"i",36),i.Qb(),i.Qb(),i.Qb(),i.Rb(6,"span"),i.Rb(7,"a",37),i.Rb(8,"span",38),i.Mb(9,"i",39),i.Qb(),i.Qb(),i.Qb(),i.Rb(10,"span"),i.Ic(11,Mx,3,1,"a",40),i.Qb(),i.Qb()}if(2&e){var o=i.fc().index,r=i.fc(2);i.yb(4),i.mc("ngIf",!r.loadingSynchro[o]),i.yb(1),i.mc("ngIf",r.loadingSynchro[o]),i.yb(2),i.oc("href","https://www.zotero.org/groups/2552746/prin_italia_antica/items/",r.bibliographyData[o].id,"/library",i.Bc),i.yb(4),i.mc("ngIf",""!=r.bibliographyData[o].url)}}function Ex(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div"),i.Rb(1,"div",13),i.Rb(2,"div",14),i.Rb(3,"div",15),i.Rb(4,"div",0),i.Rb(5,"a",16),i.Rb(6,"span",17),i.Rb(7,"b"),i.Kc(8),i.gc(9,"slice"),i.Qb(),i.Qb(),i.Qb(),i.Ic(10,Px,12,4,"span",18),i.Rb(11,"a",19),i.bc("click",function(){i.zc(n);var e=t.index;return i.fc(2).removeItem(e)}),i.Rb(12,"span",20),i.Mb(13,"i",21),i.Qb(),i.Qb(),i.Rb(14,"div",22),i.Rb(15,"div",7),i.Rb(16,"div",23),i.Rb(17,"label",24),i.Kc(18,"Title:"),i.Qb(),i.Rb(19,"div",25),i.Mb(20,"input",26),i.Qb(),i.Qb(),i.Rb(21,"div",23),i.Rb(22,"label",24),i.Kc(23,"Author:"),i.Qb(),i.Rb(24,"div",25),i.Mb(25,"input",27),i.Qb(),i.Qb(),i.Rb(26,"div",23),i.Rb(27,"label",24),i.Kc(28,"Date:"),i.Qb(),i.Rb(29,"div",25),i.Mb(30,"input",28),i.Qb(),i.Qb(),i.Rb(31,"div",29),i.Rb(32,"label",24),i.Kc(33,"Note:"),i.Qb(),i.Rb(34,"div",25),i.Rb(35,"textarea",30),i.bc("keyup",function(e){i.zc(n);var o=t.index;return i.fc(2).debounceKeyup(e,o,"note")}),i.Qb(),i.Qb(),i.Qb(),i.Rb(36,"div",29),i.Rb(37,"label",24),i.Kc(38,"Page(s):"),i.Qb(),i.Rb(39,"div",25),i.Rb(40,"textarea",31),i.bc("keyup",function(e){i.zc(n);var o=t.index;return i.fc(2).debounceKeyup(e,o,"label")}),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb()}if(2&e){var o=t.$implicit,r=t.index,a=i.fc(2);i.yb(1),i.mc("formGroupName",r),i.yb(4),i.zb("data-target","#collapse-"+r)("aria-controls","#collapse-"+r),i.yb(3),i.Oc("",o.get("author").value," - ",o.get("date").value," (",null!=o.get("title").value?i.jc(9,8,o.get("title").value,0,10)+"...":"",")"),i.yb(2),i.mc("ngIf",null!=a.bibliographyData),i.yb(4),i.mc("id","collapse-"+r)}}function Sx(e,t){if(1&e&&(i.Rb(0,"form",10),i.Rb(1,"div",11),i.Ic(2,Ex,41,12,"div",12),i.Qb(),i.Qb()),2&e){var n=i.fc();i.mc("formGroup",n.bibliographyForm),i.yb(2),i.mc("ngForOf",n.bibliographyForm.controls.bibliography.controls)}}var Rx,Ix,Ax=((Rx=function(){function e(t,n,i,o){_classCallCheck(this,e),this.lexicalService=t,this.biblioService=n,this.formBuilder=i,this.toastr=o,this.countElement=0,this.loadingSynchro=[],this.bibliographyForm=new vs.h({bibliography:new vs.c([this.createBibliography()])}),this.memoryNote=[],this.memoryTextualRef=[],this.subject=new wc.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.bibliographyForm=this.formBuilder.group({bibliography:this.formBuilder.array([])}),this.biblioService.addBiblioReq$.subscribe(function(t){if(null!=t){var n=null!=t.id?t.id:"",i=null!=t.title?t.title:"",o=null!=t.author?t.author:"",r=null!=t.date?t.date:"",a=null!=t.note?t.note:"",s=null!=t.textualReference?t.textualReference:"";e.bibliographyData.push(t),e.addBibliographyElement(n,i,o,r,a,s),e.memoryNote.push(a),e.memoryTextualRef.push(s),e.countElement++}else e.object=null,e.bibliographyData=null}),this.subject.pipe(Object(ou.a)(1e3)).subscribe(function(t){e.onChanges(t)})}},{key:"ngOnChanges",value:function(e){var t=this;null!=e.biblioData.currentValue?(this.object=e.biblioData.currentValue,this.bibliographyData=[],this.countElement=0,this.memoryNote=[],this.memoryTextualRef=[],this.biblioArray=this.bibliographyForm.get("bibliography"),this.biblioArray.clear(),null!=this.object.lexicalEntryInstanceName?this.lexicalService.getBibliographyData(this.object.lexicalEntryInstanceName).subscribe(function(e){if(console.log(e),e!=[]){var n=0;e.forEach(function(e){t.bibliographyData.push(e),t.addBibliographyElement(e.id,e.title,e.author,e.date,e.note,e.textualReference),t.memoryNote[n]=e.note,t.memoryTextualRef[n]=e.textualReference,n++,t.countElement++})}},function(e){t.toastr.error(e.error,"Error",{timeOut:5e3})}):null!=this.object.formInstanceName?this.lexicalService.getBibliographyData(this.object.formInstanceName).subscribe(function(e){console.log(e);var n=0;e.forEach(function(e){t.bibliographyData.push(e),t.addBibliographyElement(e.id,e.title,e.author,e.date,e.note,e.textualReference),t.memoryNote[n]=e.note,t.memoryTextualRef[n]=e.textualReference,n++,t.countElement++}),t.bibliographyData.parentNodeLabel=t.object.form,t.bibliographyData.formInstanceName=t.object.formInstanceName},function(e){t.toastr.error(e.error,"Error",{timeOut:5e3}),console.log(e)}):null!=this.object.senseInstanceName?this.lexicalService.getBibliographyData(this.object.senseInstanceName).subscribe(function(e){console.log(e);var n=0;e.forEach(function(e){t.bibliographyData.push(e),t.addBibliographyElement(e.id,e.title,e.author,e.date,e.note,e.textualReference),t.memoryNote[n]=e.note,t.memoryTextualRef[n]=e.textualReference,n++,t.countElement++}),t.bibliographyData.parentNodeLabel=t.object.sense,t.bibliographyData.senseInstanceName=t.object.senseInstanceName},function(e){t.toastr.error(e.error,"Error",{timeOut:5e3}),console.log(e)}):null!=this.object.etymologyInstanceName&&this.lexicalService.getBibliographyData(this.object.etymologyInstanceName).subscribe(function(e){console.log(e);var n=0;e.forEach(function(e){t.bibliographyData.push(e),t.addBibliographyElement(e.id,e.title,e.author,e.date,e.note,e.textualReference),t.memoryNote[n]=e.note,t.memoryTextualRef[n]=e.textualReference,n++,t.countElement++}),t.bibliographyData.parentNodeLabel=t.object.etymology,t.bibliographyData.etymologyInstanceName=t.object.etymologyInstanceName},function(e){t.toastr.error(e.error,"Error",{timeOut:5e3}),console.log(e)})):(this.countElement=0,this.bibliographyData=null)}},{key:"debounceKeyup",value:function(e,t,n){this.lexicalService.spinnerAction("on"),this.subject.next({evt:e,index:t,field:n})}},{key:"onChanges",value:function(e){var t=this,n="";if(console.log(e),null!=e){var i=e.evt.target.value,o=null==e?void 0:e.index,r="";"note"==(n=e.field)?r=this.memoryNote[o]:"label"==n&&(r=this.memoryTextualRef[o]);var a,s=this.bibliographyData[o].bibliographyInstanceName;a=""==r?{type:"bibliography",relation:n,value:i}:{type:"bibliography",relation:n,value:i,currentValue:r},console.log(this.biblioArray.at(o)),console.log(a),this.lexicalService.updateGenericRelation(s,a).subscribe(function(e){console.log(e),t.lexicalService.spinnerAction("off"),t.lexicalService.updateCoreCard(t.object),t.toastr.success("Bibliography item updated","",{timeOut:5e3})},function(e){console.log(e),t.lexicalService.updateCoreCard({lastUpdate:e.error.text}),t.lexicalService.spinnerAction("off"),200==e.status?t.toastr.success("Bibliography item updated","",{timeOut:5e3}):t.toastr.error(e.error,"Error",{timeOut:5e3})}),"note"==n?this.memoryNote[o]=i:"label"==n&&(this.memoryTextualRef[o]=i)}}},{key:"removeItem",value:function(e){var t=this;this.biblioArray=this.bibliographyForm.get("bibliography"),this.countElement--,this.lexicalService.removeBibliographyItem(this.bibliographyData[e].bibliographyInstanceName).subscribe(function(e){console.log(e),t.lexicalService.updateCoreCard(t.object),t.toastr.success("Element removed","",{timeOut:5e3})},function(e){t.lexicalService.updateCoreCard({lastUpdate:e.error.text}),t.toastr.error(e.error,"Error",{timeOut:5e3})}),this.biblioArray.removeAt(e),this.bibliographyData.splice(e,1),this.memoryNote.splice(e,1),this.memoryTextualRef.splice(e,1)}},{key:"addBibliographyElement",value:function(e,t,n,i,o,r){this.biblioArray=this.bibliographyForm.get("bibliography"),this.biblioArray.push(null==t?this.createBibliography():this.createBibliography(e,t,n,i,o,r))}},{key:"createBibliography",value:function(e,t,n,i,o,r){return this.formBuilder.group(null==t?{id:new vs.f(null),title:new vs.f(null),author:new vs.f(null),date:new vs.f(null),note:new vs.f(null),textualReference:new vs.f(null)}:{id:new vs.f(e),title:new vs.f(t),author:new vs.f(n),date:new vs.f(i),note:new vs.f(o),textualReference:new vs.f(r)})}},{key:"synchronizeBibliography",value:function(e,t){var n=this;console.log(e),this.loadingSynchro[t]=!0;var i="";null!=this.object.lexicalEntryInstanceName&&null==this.object.senseInstanceName?(console.log(1),i=this.object.lexicalEntryInstanceName):null!=this.object.formInstanceName?(i=this.object.formInstanceName,console.log(2)):null!=this.object.senseInstanceName?(i=this.object.senseInstanceName,console.log(3)):null!=this.object.etymologyInstanceName&&(i=this.object.etymologyInstanceName),this.lexicalService.synchronizeBibliographyItem(i,e).pipe(Object(ou.a)(500)).subscribe(function(e){console.log(e),n.loadingSynchro[t]=!1},function(i){console.log(i),200==i.status&&(n.lexicalService.updateCoreCard({lastUpdate:i.error.text}),n.toastr.success("Item n\xb0"+e+" synchronized","")),n.loadingSynchro[t]=!1})}}]),e}()).\u0275fac=function(e){return new(e||Rx)(i.Lb(sp.a),i.Lb(cp),i.Lb(vs.e),i.Lb(Pu.b))},Rx.\u0275cmp=i.Fb({type:Rx,selectors:[["app-bibliography-panel"]],inputs:{biblioData:"biblioData"},features:[i.wb],decls:11,vars:2,consts:[[1,"card"],["id","bibliographyHeading",1,"card-header"],[1,"mb-0"],["data-toggle","collapse","data-target","#bibliographyCollapse","aria-expanded","true","aria-controls","bibliographyCollapse",1,"btn","btn-link","w-100","d-flex","align-self-center","collapsed"],[4,"ngIf"],[1,"fa","ml-auto"],["id","bibliographyCollapse","aria-labelledby","bibliographyHeading",1,"collapse"],[1,"card-body"],["id","accordion"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["formArrayName","bibliography"],[4,"ngFor","ngForOf"],[3,"formGroupName"],[1,"form-group","row","ml-2","mt-3","mr-2"],[1,"input-group","col-xl-12","p-0"],["data-toggle","collapse","aria-expanded","true",1,"biblioCollapse"],[1,"text-id","pointer"],["class","icons-container",4,"ngIf"],[1,"pointer",3,"click"],[1,"trash-icon"],[1,"fa","fa-trash","text-danger"],["data-parent","#accordion",1,"collapse",3,"id"],[1,"form-group","row","ml-2","mr-2","mb-0"],["for","inputLabel",1,"col-lg-4","col-form-label"],[1,"input-group","col-lg-8","pl-0"],["id","title","formControlName","title","name","title","type","text","placeholder","","disabled","",1,"form-control"],["id","author","formControlName","author","name","author","type","text","placeholder","","disabled","",1,"form-control"],["id","date","formControlName","date","name","date","type","text","placeholder","","disabled","",1,"form-control"],[1,"form-group","row","ml-2","mr-2"],["formControlName","note","name","note",1,"form-control",2,"resize","none",3,"keyup"],["formControlName","textualReference","name","textualReference",1,"form-control",2,"resize","none",3,"keyup"],[1,"icons-container"],["target","_blank",1,"pointer","text-primary",3,"click"],[1,"synchro-icon"],["class","fas fa-sync-alt",4,"ngIf"],["class","fas fa-sync fa-spin",4,"ngIf"],["target","_blank",1,"pointer","text-primary",3,"href"],[1,"external-icon"],[1,"fas","fa-external-link-alt"],["target","_blank","class","pointer text-primary",3,"href",4,"ngIf"],[1,"fas","fa-sync-alt"],[1,"fas","fa-sync","fa-spin"],[1,"download-icon"],[1,"fas","fa-download"]],template:function(e,t){1&e&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Rb(2,"h5",2),i.Rb(3,"a",3),i.Kc(4," Bibliography Panel "),i.Ic(5,Ox,2,1,"span",4),i.Mb(6,"i",5),i.Qb(),i.Qb(),i.Qb(),i.Rb(7,"div",6),i.Rb(8,"div",7),i.Rb(9,"div",8),i.Ic(10,Sx,3,2,"form",9),i.Qb(),i.Qb(),i.Qb(),i.Qb()),2&e&&(i.yb(5),i.mc("ngIf",t.countElement>0),i.yb(5),i.mc("ngIf",null!=t.object))},directives:[a.n,vs.z,vs.o,vs.i,vs.d,a.m,vs.j,vs.b,vs.n,vs.g],pipes:[a.t],styles:['@charset "UTF-8";.btn[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{font-size:12px}.card-header[_ngcontent-%COMP%]{padding:0}[data-toggle=collapse][_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"\uf146"}[data-toggle=collapse].collapsed[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"\uf0fe"}a[_ngcontent-%COMP%]{text-decoration:none!important}.fa[_ngcontent-%COMP%]{margin-top:2px}.form-control[_ngcontent-%COMP%]{font-size:11px;height:22px}textarea.form-control[_ngcontent-%COMP%]{height:auto}.card[_ngcontent-%COMP%]{width:100%}.card-body[_ngcontent-%COMP%]{padding:.5rem 0 0!important}.biblioCollapse[_ngcontent-%COMP%]{height:18px!important}.collapse-icon[_ngcontent-%COMP%]{position:absolute;right:4px;top:-16px;background:#fff;text-align:center;color:#212529;padding:5px;font-size:16px}.dropdown-item[_ngcontent-%COMP%]{font-size:12px}.disabled[_ngcontent-%COMP%]{color:#dfdfdf;pointer-events:none}.row[_ngcontent-%COMP%]{align-items:center}.btn[_ngcontent-%COMP%]{height:38px;border-radius:.25rem!important}.btn[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{font-size:12px}.btn[_ngcontent-%COMP%]{height:32px}.form-check-input[_ngcontent-%COMP%]{margin-top:.55rem}#accordion[_ngcontent-%COMP%]{width:100%}.rotate[_ngcontent-%COMP%]{-webkit-animation:rotation 2s linear infinite}.download-icon[_ngcontent-%COMP%], .synchro-icon[_ngcontent-%COMP%]{right:52px}.download-icon[_ngcontent-%COMP%], .external-icon[_ngcontent-%COMP%], .synchro-icon[_ngcontent-%COMP%]{position:absolute;top:-14px;background:#fff;text-align:center;color:#212529;padding:5px;font-size:14px}.external-icon[_ngcontent-%COMP%]{right:28px}.trash-icon[_ngcontent-%COMP%]{right:6px;top:-14px;padding:5px;font-size:14px}.text-id[_ngcontent-%COMP%], .trash-icon[_ngcontent-%COMP%]{position:absolute;background:#fff;text-align:center;color:#212529}.text-id[_ngcontent-%COMP%]{left:10px;top:-12px;padding:5px 10px;font-size:12px}.badge[_ngcontent-%COMP%]{font-size:11px}.pointer[_ngcontent-%COMP%]{cursor:pointer}.resizeNgSelect[_ngcontent-%COMP%]{width:15%}']}),Rx),Tx=["formPanelModal"],Dx=((Ix=function(){function e(t){_classCallCheck(this,e),this.annotatorService=t}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"triggerFormPanel",value:function(e){var t=this;setTimeout(function(){t.formPanelModal.show()},100)}},{key:"onCloseModal",value:function(e){this.annotatorService.closePanelForm(e),console.log(this.annotatorService.getAllPanelForms())}}]),e}()).\u0275fac=function(e){return new(e||Ix)(i.Lb(dp))},Ix.\u0275cmp=i.Fb({type:Ix,selectors:[["app-form-panel"]],viewQuery:function(e,t){var n;1&e&&i.Pc(Tx,!0),2&e&&i.uc(n=i.cc())&&(t.formPanelModal=n.first)},decls:6,vars:5,consts:[[1,"panelFormData",2,"top","10%",3,"maximizable","inViewport","backdrop","closeModal"],["formPanelModal",""],[1,"app-modal-header"],[1,"app-modal-body"],[3,"formData"]],template:function(e,t){1&e&&(i.Rb(0,"app-modal",0,1),i.bc("closeModal",function(){return t.onCloseModal(t.id)}),i.Pb(2,2),i.Kc(3),i.Ob(),i.Pb(4,3),i.Mb(5,"app-form-core-form",4),i.Ob(),i.Qb()),2&e&&(i.mc("maximizable",!1)("inViewport",!0)("backdrop",!1),i.yb(3),i.Lc(t.label),i.yb(2),i.mc("formData",t.formData))},directives:[Rp,Jy],styles:[".row[_ngcontent-%COMP%]{align-items:center}.btn[_ngcontent-%COMP%]{height:38px;border-radius:.25rem}.btn[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{font-size:12px}.form-check-input[_ngcontent-%COMP%]{margin-top:0}.card[_ngcontent-%COMP%]{margin-top:20px;padding-top:20px;width:100%}"]}),Ix),jx=["addBibliographyAttestation"],Fx=["table_body"],Qx=["accordion"],Lx=["formPanel"];function Nx(e,t){if(1&e&&(i.Rb(0,"label",60),i.Kc(1),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(1),i.Mc("",null==n?null:n.key,":")}}function zx(e,t){1&e&&(i.Rb(0,"label",60),i.Kc(1,"form:"),i.Qb())}function Vx(e,t){if(1&e&&(i.Rb(0,"span",70),i.Kc(1),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(1),i.Lc(null==n?null:n.value)}}function Bx(e,t){if(1&e){var n=i.Sb();i.Rb(0,"input",71,72),i.bc("keyup",function(e){i.zc(n);var t=i.vc(1),o=i.fc().$implicit,r=i.fc().$implicit;return i.fc(2).triggerUpdateAttestation(e,t.value,null==o?null:o.key,r)}),i.Qb()}if(2&e){var o=i.fc().$implicit;i.mc("value",null==o?null:o.value)}}function Ux(e,t){if(1&e){var n=i.Sb();i.Rb(0,"input",73,74),i.bc("keyup",function(e){i.zc(n);var t=i.vc(1),o=i.fc().$implicit,r=i.fc().$implicit;return i.fc(2).triggerUpdateAttestation(e,t.value,null==o?null:o.key,r)})("change",function(e){i.zc(n);var t=i.vc(1),o=i.fc().$implicit,r=i.fc().$implicit;return i.fc(2).triggerUpdateAttestation(e,t.value,null==o?null:o.key,r)}),i.Qb()}if(2&e){var o=i.fc().$implicit;i.mc("value",null==o?null:o.value)}}function Hx(e,t){if(1&e){var n=i.Sb();i.Rb(0,"textarea",75,76),i.bc("keyup",function(e){i.zc(n);var t=i.vc(1),o=i.fc().$implicit,r=i.fc().$implicit;return i.fc(2).triggerUpdateAttestation(e,t.value,null==o?null:o.key,r)}),i.Kc(2),i.Qb()}if(2&e){var o=i.fc().$implicit;i.yb(2),i.Lc(null==o?null:o.value)}}function Kx(e,t){if(1&e&&(i.Rb(0,"div",59),i.Ic(1,Nx,2,1,"label",65),i.Ic(2,zx,2,0,"label",65),i.Rb(3,"div",66),i.Ic(4,Vx,2,1,"span",62),i.Ic(5,Bx,2,1,"input",67),i.Ic(6,Ux,2,1,"input",68),i.Ic(7,Hx,3,1,"textarea",69),i.Qb(),i.Qb()),2&e){var n=t.$implicit;i.yb(1),i.mc("ngIf","bibliography"!=(null==n?null:n.key)&&"validity"!=(null==n?null:n.key)&&"node_id"!=(null==n?null:n.key)&&"form_id"!=(null==n?null:n.key)&&"creator"!=(null==n?null:n.key)&&"timestamp"!=(null==n?null:n.key)&&"label"!=(null==n?null:n.key)),i.yb(1),i.mc("ngIf","label"==(null==n?null:n.key)),i.yb(2),i.mc("ngIf","label"==(null==n?null:n.key)||"leiden"==(null==n?null:n.key)),i.yb(1),i.mc("ngIf","creator"!=(null==n?null:n.key)&&"label"!=(null==n?null:n.key)&&"note"!=(null==n?null:n.key)&&"timestamp"!=(null==n?null:n.key)&&"node_id"!=(null==n?null:n.key)&&"form_id"!=(null==n?null:n.key)&&"confidence"!=(null==n?null:n.key)&&"bibliography"!=(null==n?null:n.key)&&"validity"!=(null==n?null:n.key)&&"leiden"!=(null==n?null:n.key)),i.yb(1),i.mc("ngIf","confidence"==(null==n?null:n.key)),i.yb(1),i.mc("ngIf","note"==(null==n?null:n.key))}}function qx(e,t){1&e&&(i.Rb(0,"span",70),i.Kc(1," No bibliography "),i.Qb())}function $x(e,t){if(1&e&&(i.Rb(0,"span",70),i.Kc(1),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(1),i.Mc(" ",null==n||null==n.attributes?null:n.attributes.bibliography.length," item(s) ")}}function Wx(e,t){if(1&e&&(i.Rb(0,"b"),i.Kc(1),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(1),i.Nc("",n.lastName," ",n.firstName," ")}}function Gx(e,t){if(1&e&&(i.Rb(0,"span"),i.Ic(1,Wx,2,2,"b",8),i.Qb()),2&e){var n=t.$implicit;i.yb(1),i.mc("ngIf","author"==n.creatorType)}}function Yx(e,t){if(1&e&&(i.Rb(0,"a",98),i.Rb(1,"span",102),i.Mb(2,"i",103),i.Qb(),i.Qb()),2&e){var n=i.fc(2).$implicit;i.mc("href",n.url,i.Bc)}}function Xx(e,t){if(1&e&&(i.Rb(0,"span",97),i.Rb(1,"span"),i.Rb(2,"a",98),i.Rb(3,"span",99),i.Mb(4,"i",100),i.Qb(),i.Qb(),i.Qb(),i.Rb(5,"span"),i.Ic(6,Yx,3,1,"a",101),i.Qb(),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(2),i.oc("href","https://www.zotero.org/groups/2552746/prin_italia_antica/items/",n.key,"/library",i.Bc),i.yb(4),i.mc("ngIf",""!=n.url)}}function Zx(e,t){if(1&e&&(i.Rb(0,"span",104),i.Mb(1,"input",105),i.Qb()),2&e){var n=t.$implicit;i.yb(1),i.mc("value",n.firstName+" "+n.lastName)}}function Jx(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",78),i.Rb(1,"div",79),i.Rb(2,"div",80),i.Rb(3,"div",0),i.Rb(4,"a",81),i.Rb(5,"span",82),i.Ic(6,Gx,2,1,"span",83),i.Rb(7,"b"),i.Kc(8),i.gc(9,"slice"),i.Qb(),i.Qb(),i.Qb(),i.Ic(10,Xx,7,2,"span",84),i.Rb(11,"a",51),i.bc("click",function(){i.zc(n);var e=t.index,o=i.fc(2).$implicit;return i.fc(2).removeItem(o,e)}),i.Rb(12,"span",54),i.Mb(13,"i",85),i.Qb(),i.Qb(),i.Rb(14,"div",56),i.Rb(15,"div",86),i.Rb(16,"div",59),i.Rb(17,"label",87),i.Kc(18,"Title:"),i.Qb(),i.Rb(19,"div",88),i.Mb(20,"input",89),i.Qb(),i.Qb(),i.Rb(21,"div",59),i.Rb(22,"label",87),i.Kc(23,"Author:"),i.Qb(),i.Rb(24,"div",88),i.Ic(25,Zx,2,1,"span",90),i.Qb(),i.Qb(),i.Rb(26,"div",59),i.Rb(27,"label",87),i.Kc(28,"Date:"),i.Qb(),i.Rb(29,"div",88),i.Mb(30,"input",91),i.Qb(),i.Qb(),i.Rb(31,"div",92),i.Rb(32,"label",87),i.Kc(33,"Note:"),i.Qb(),i.Rb(34,"div",88),i.Rb(35,"textarea",93,94),i.bc("keyup",function(){i.zc(n);var e=t.index,o=i.vc(36),r=i.fc(2).$implicit;return i.fc(2).debounceKeyup(o.value,r,e,"note")}),i.Qb(),i.Qb(),i.Qb(),i.Rb(37,"div",92),i.Rb(38,"label",87),i.Kc(39,"TextualRef:"),i.Qb(),i.Rb(40,"div",88),i.Rb(41,"textarea",95,96),i.bc("keyup",function(){i.zc(n);var e=t.index,o=i.vc(42),r=i.fc(2).$implicit;return i.fc(2).debounceKeyup(o.value,r,e,"textualRef")}),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb()}if(2&e){var o=t.$implicit,r=t.index,a=i.fc(2).$implicit;i.yb(4),i.zb("data-target","#attestation_biblio_collapse-"+(null==a?null:a.id)+"-"+r)("aria-controls","#attestation_biblio_collapse-"+(null==a?null:a.id)+"-"+r),i.yb(2),i.mc("ngForOf",o.creators),i.yb(2),i.Mc("- (",null!=o.title?i.jc(9,11,o.title,0,10)+"...":"",")"),i.yb(2),i.mc("ngIf",null!=o),i.yb(4),i.mc("id","attestation_biblio_collapse-"+(null==a?null:a.id)+"-"+r),i.yb(6),i.mc("value",null==o?null:o.title),i.yb(5),i.mc("ngForOf",o.creators),i.yb(5),i.mc("value",o.date),i.yb(5),i.mc("value",o.note),i.yb(6),i.mc("value",o.textualRef)}}function ew(e,t){if(1&e&&(i.Rb(0,"div"),i.Ic(1,Jx,43,15,"div",77),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(1),i.mc("ngForOf",null==n?null:n.attributes.bibliography)}}function tw(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",47),i.Rb(1,"a",48),i.bc("click",function(){i.zc(n);var e=t.$implicit,o=t.index;return i.fc(2).getForm(null==e?null:e.attributes.form_id,o)}),i.Rb(2,"span",49),i.Rb(3,"b",50),i.Kc(4),i.Qb(),i.Qb(),i.Qb(),i.Rb(5,"a",51),i.bc("click",function(){i.zc(n);var e=t.$implicit,o=i.fc(2);return o.loadFormData(null==e?null:e.id,null==e?null:e.attributes.form_id,o.fileId)}),i.Rb(6,"span",52),i.Mb(7,"i",53),i.Qb(),i.Qb(),i.Rb(8,"a",51),i.bc("click",function(){i.zc(n);var e=t.index,o=t.$implicit;return i.fc(2).cancelAttestation(e,null==o?null:o.id,null==o?null:o.attributes.node_id)}),i.Rb(9,"span",54),i.Mb(10,"i",55),i.Qb(),i.Qb(),i.Rb(11,"div",56),i.Rb(12,"div",57),i.Ic(13,Kx,8,6,"div",58),i.gc(14,"keyvalue"),i.Rb(15,"div",59),i.Rb(16,"label",60),i.Kc(17,"bibliography:"),i.Qb(),i.Rb(18,"div",61),i.Ic(19,qx,2,0,"span",62),i.Ic(20,$x,2,1,"span",62),i.Rb(21,"button",63),i.bc("click",function(){i.zc(n);var e=t.$implicit;return i.fc(2).showBiblioModal(e)}),i.Mb(22,"i",64),i.Qb(),i.Qb(),i.Qb(),i.Ic(23,ew,2,1,"div",8),i.Qb(),i.Qb(),i.Qb()}if(2&e){var o=t.$implicit,r=t.index,a=i.fc(2);i.yb(1),i.zb("data-target","#attestation_collapse-"+r)("aria-controls","#attestation_collapse-"+r),i.yb(3),i.Nc("",a.fileId," - ",null!=(null==o?null:o.attributes.label)?null==o?null:o.attributes.label:"",""),i.yb(7),i.mc("id","attestation_collapse-"+r),i.yb(2),i.mc("ngForOf",i.hc(14,9,null==o?null:o.attributes)),i.yb(6),i.mc("ngIf",0==(null==o?null:o.attributes.bibliography.length)),i.yb(1),i.mc("ngIf",0!=(null==o?null:o.attributes.bibliography.length)),i.yb(3),i.mc("ngIf",(null==o?null:o.attributes.bibliography.length)>0)}}function nw(e,t){if(1&e&&(i.Rb(0,"div"),i.Ic(1,tw,24,11,"div",46),i.Qb()),2&e){var n=i.fc();i.yb(1),i.mc("ngForOf",n.formData)}}function iw(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",106),i.Rb(1,"div",107),i.Rb(2,"button",108),i.Mb(3,"i",109),i.Qb(),i.Rb(4,"div",110),i.Rb(5,"a",111),i.bc("click",function(){i.zc(n);var e=t.$implicit,o=i.vc(10),r=i.fc();return e.switch=!1,r.searchBibliography(o.value,e.switch)}),i.Kc(6,"Normal"),i.Qb(),i.Rb(7,"a",111),i.bc("click",function(){i.zc(n);var e=t.$implicit,o=i.vc(10),r=i.fc();return e.switch=!0,r.searchBibliography(o.value,e.switch)}),i.Kc(8,"Full Text"),i.Qb(),i.Qb(),i.Qb(),i.Rb(9,"input",112,113),i.bc("keyup",function(e){i.zc(n);var o=t.$implicit,r=i.vc(10);return i.fc().triggerSearch(e,r.value,o.switch)}),i.Qb(),i.Qb()}if(2&e){var o=t.$implicit;i.yb(5),i.Db("disable_click_fire",!o.switch),i.yb(2),i.Db("disable_click_fire",o.switch),i.yb(2),i.mc("placeholder",o.switch?"Title, creator, year + Full Text":"Title, creator, year")}}function ow(e,t){1&e&&i.Mb(0,"i",114)}function rw(e,t){1&e&&i.Mb(0,"i",115)}function aw(e,t){1&e&&i.Mb(0,"i",114)}function sw(e,t){1&e&&i.Mb(0,"i",115)}function cw(e,t){1&e&&i.Mb(0,"i",114)}function lw(e,t){1&e&&i.Mb(0,"i",115)}function uw(e,t){1&e&&(i.Rb(0,"span",122),i.Mb(1,"i",123),i.Qb())}function fw(e,t){1&e&&(i.Rb(0,"span",122),i.Mb(1,"i",124),i.Qb())}function dw(e,t){1&e&&(i.Rb(0,"span",122),i.Mb(1,"i",125),i.Qb())}function hw(e,t){1&e&&(i.Rb(0,"span",122),i.Mb(1,"i",126),i.Qb())}function pw(e,t){1&e&&(i.Rb(0,"span",122),i.Mb(1,"i",127),i.Qb())}function bw(e,t){1&e&&(i.Rb(0,"span",122),i.Mb(1,"i",128),i.Qb())}function gw(e,t){if(1&e&&(i.Rb(0,"span"),i.Kc(1),i.gc(2,"titlecase"),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(1),i.Lc(i.hc(2,1,n.data.title))}}function mw(e,t){1&e&&(i.Rb(0,"span",129),i.Kc(1,"No title"),i.Qb())}function vw(e,t){if(1&e&&(i.Rb(0,"span"),i.Kc(1),i.gc(2,"titlecase"),i.gc(3,"titlecase"),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(1),i.Nc(" ",i.hc(2,2,n.lastName)," ",i.hc(3,4,n.firstName)," ")}}function yw(e,t){if(1&e&&(i.Rb(0,"span"),i.Ic(1,vw,4,6,"span",8),i.Qb()),2&e){var n=t.$implicit;i.yb(1),i.mc("ngIf","author"==n.creatorType)}}function _w(e,t){1&e&&(i.Rb(0,"span",129),i.Kc(1,"No data"),i.Qb())}function Cw(e,t){if(1&e&&(i.Rb(0,"span"),i.Ic(1,yw,2,1,"span",83),i.Ic(2,_w,2,0,"span",119),i.Qb()),2&e){var n=i.fc().$implicit,o=i.fc();i.yb(1),i.mc("ngForOf",n.data.creators),i.yb(1),i.mc("ngIf",!o.checkIfCreatorExist(n.data.creators))}}function kw(e,t){1&e&&(i.Rb(0,"span",129),i.Kc(1,"No data"),i.Qb())}function Ow(e,t){if(1&e&&(i.Rb(0,"span"),i.Kc(1),i.gc(2,"titlecase"),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(1),i.Mc(" ",i.hc(2,1,n.data.date)," ")}}function xw(e,t){1&e&&(i.Rb(0,"span",129),i.Kc(1," No info "),i.Qb())}function ww(e,t){if(1&e){var n=i.Sb();i.Rb(0,"tr",116),i.bc("click",function(e){i.zc(n);var o=t.$implicit;return i.fc().selectItem(e,o)}),i.Rb(1,"td",117),i.Ic(2,uw,2,0,"span",118),i.Ic(3,fw,2,0,"span",118),i.Ic(4,dw,2,0,"span",118),i.Ic(5,hw,2,0,"span",118),i.Ic(6,pw,2,0,"span",118),i.Ic(7,bw,2,0,"span",118),i.Ic(8,gw,3,3,"span",8),i.Ic(9,mw,2,0,"span",119),i.Qb(),i.Rb(10,"td",120),i.Ic(11,Cw,3,2,"span",8),i.Ic(12,kw,2,0,"span",119),i.Qb(),i.Rb(13,"td",121),i.Ic(14,Ow,3,3,"span",8),i.Ic(15,xw,2,0,"span",119),i.Qb(),i.Qb()}if(2&e){var o=t.$implicit;i.mc("ngClass",null!=o&&o.selected?"selected":""),i.yb(2),i.mc("ngIf","book"==o.data.itemType),i.yb(1),i.mc("ngIf","bookSection"==o.data.itemType),i.yb(1),i.mc("ngIf","journalArticle"==o.data.itemType),i.yb(1),i.mc("ngIf","note"==o.data.itemType),i.yb(1),i.mc("ngIf","attachment"==o.data.itemType),i.yb(1),i.mc("ngIf","conferencePaper"==o.data.itemType),i.yb(1),i.mc("ngIf",null!=o.data.title&&""!=o.data.title),i.yb(1),i.mc("ngIf",null==o.data.title||""==o.data.title),i.yb(2),i.mc("ngIf",null!=o.data.creators),i.yb(1),i.mc("ngIf",null==o.data.creators),i.yb(2),i.mc("ngIf",null!=o.data.date&&""!=o.data.date),i.yb(1),i.mc("ngIf",null==o.data.date||""==o.data.date)}}function Mw(e,t){1&e&&(i.Rb(0,"p",130),i.Kc(1,"No results"),i.Qb())}function Pw(e,t){1&e&&(i.Rb(0,"div"),i.Rb(1,"div",18),i.Rb(2,"div",131),i.Rb(3,"p",132),i.Kc(4," No item selected "),i.Qb(),i.Qb(),i.Qb(),i.Qb())}function Ew(e,t){if(1&e&&(i.Rb(0,"div",18),i.Rb(1,"div",134),i.Rb(2,"p",135),i.Kc(3," Item type "),i.Qb(),i.Qb(),i.Rb(4,"div",136),i.Rb(5,"p",137),i.Kc(6),i.gc(7,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",i.hc(7,1,n.selectedItem.data.itemType)," ")}}function Sw(e,t){if(1&e&&(i.Rb(0,"div",18),i.Rb(1,"div",134),i.Rb(2,"p",135),i.Kc(3," Title "),i.Qb(),i.Qb(),i.Rb(4,"div",136),i.Rb(5,"p",137),i.Kc(6),i.gc(7,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",i.hc(7,1,n.selectedItem.data.title)," ")}}function Rw(e,t){if(1&e&&(i.Rb(0,"span"),i.Rb(1,"p",137),i.Kc(2),i.gc(3,"titlecase"),i.gc(4,"titlecase"),i.Qb(),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(2),i.Nc(" ",i.hc(3,2,n.firstName)," ",i.hc(4,4,n.lastName)," ")}}function Iw(e,t){if(1&e&&(i.Rb(0,"span"),i.Ic(1,Rw,5,6,"span",8),i.Qb()),2&e){var n=t.$implicit;i.yb(1),i.mc("ngIf","author"==n.creatorType)}}function Aw(e,t){if(1&e&&(i.Rb(0,"div",18),i.Rb(1,"div",134),i.Rb(2,"p",135),i.Kc(3," Author "),i.Qb(),i.Qb(),i.Rb(4,"div",136),i.Ic(5,Iw,2,1,"span",83),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(5),i.mc("ngForOf",n.selectedItem.data.creators)}}function Tw(e,t){if(1&e&&(i.Rb(0,"span"),i.Rb(1,"p",137),i.Kc(2),i.gc(3,"titlecase"),i.gc(4,"titlecase"),i.Qb(),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(2),i.Nc(" ",i.hc(3,2,n.firstName)," ",i.hc(4,4,n.lastName)," ")}}function Dw(e,t){if(1&e&&(i.Rb(0,"span"),i.Ic(1,Tw,5,6,"span",8),i.Qb()),2&e){var n=t.$implicit;i.yb(1),i.mc("ngIf","editor"==n.creatorType)}}function jw(e,t){if(1&e&&(i.Rb(0,"div",18),i.Rb(1,"div",134),i.Rb(2,"p",135),i.Kc(3," Editor "),i.Qb(),i.Qb(),i.Rb(4,"div",136),i.Ic(5,Dw,2,1,"span",83),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(5),i.mc("ngForOf",n.selectedItem.data.creators)}}function Fw(e,t){if(1&e&&(i.Rb(0,"div",18),i.Rb(1,"div",134),i.Rb(2,"p",135),i.Kc(3," Publication "),i.Qb(),i.Qb(),i.Rb(4,"div",136),i.Rb(5,"p",137),i.Kc(6),i.gc(7,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",i.hc(7,1,n.selectedItem.data.publicationTitle)," ")}}function Qw(e,t){if(1&e&&(i.Rb(0,"div",18),i.Rb(1,"div",134),i.Rb(2,"p",135),i.Kc(3," Publisher "),i.Qb(),i.Qb(),i.Rb(4,"div",136),i.Rb(5,"p",137),i.Kc(6),i.gc(7,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",i.hc(7,1,n.selectedItem.data.publisher)," ")}}function Lw(e,t){if(1&e&&(i.Rb(0,"div",18),i.Rb(1,"div",134),i.Rb(2,"p",135),i.Kc(3," Issue "),i.Qb(),i.Qb(),i.Rb(4,"div",136),i.Rb(5,"p",137),i.Kc(6),i.gc(7,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",i.hc(7,1,n.selectedItem.data.issue)," ")}}function Nw(e,t){if(1&e&&(i.Rb(0,"div",18),i.Rb(1,"div",134),i.Rb(2,"p",135),i.Kc(3," Pages "),i.Qb(),i.Qb(),i.Rb(4,"div",136),i.Rb(5,"p",137),i.Kc(6),i.gc(7,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",i.hc(7,1,n.selectedItem.data.pages)," ")}}function zw(e,t){if(1&e&&(i.Rb(0,"div",18),i.Rb(1,"div",134),i.Rb(2,"p",135),i.Kc(3," Place "),i.Qb(),i.Qb(),i.Rb(4,"div",136),i.Rb(5,"p",137),i.Kc(6),i.gc(7,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",i.hc(7,1,n.selectedItem.data.place)," ")}}function Vw(e,t){if(1&e&&(i.Rb(0,"div",18),i.Rb(1,"div",134),i.Rb(2,"p",135),i.Kc(3," Date "),i.Qb(),i.Qb(),i.Rb(4,"div",136),i.Rb(5,"p",137),i.Kc(6),i.gc(7,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",i.hc(7,1,n.selectedItem.data.date)," ")}}function Bw(e,t){if(1&e&&(i.Rb(0,"div",18),i.Rb(1,"div",134),i.Rb(2,"p",135),i.Kc(3," Journal Abbr "),i.Qb(),i.Qb(),i.Rb(4,"div",136),i.Rb(5,"p",137),i.Kc(6),i.gc(7,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",i.hc(7,1,n.selectedItem.data.journalAbbreviation)," ")}}function Uw(e,t){if(1&e&&(i.Rb(0,"div",18),i.Rb(1,"div",134),i.Rb(2,"p",135),i.Rb(3,"a",138),i.Kc(4,"DOI "),i.Mb(5,"i",100),i.Qb(),i.Qb(),i.Qb(),i.Rb(6,"div",136),i.Rb(7,"p",137),i.Kc(8),i.gc(9,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(3),i.nc("href","https://doi.org/"+n.selectedItem.data.DOI,i.Bc),i.yb(5),i.Mc(" ",i.hc(9,2,n.selectedItem.data.DOI)," ")}}function Hw(e,t){if(1&e&&(i.Rb(0,"div",18),i.Rb(1,"div",134),i.Rb(2,"p",135),i.Kc(3," ISSN "),i.Qb(),i.Qb(),i.Rb(4,"div",136),i.Rb(5,"p",137),i.Kc(6),i.gc(7,"titlecase"),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",i.hc(7,1,n.selectedItem.data.ISSN)," ")}}function Kw(e,t){if(1&e&&(i.Rb(0,"div",18),i.Rb(1,"div",134),i.Rb(2,"p",135),i.Rb(3,"a",138),i.Kc(4,"URL "),i.Mb(5,"i",100),i.Qb(),i.Qb(),i.Qb(),i.Rb(6,"div",136),i.Rb(7,"p",137),i.Kc(8),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(3),i.nc("href",n.selectedItem.data.url,i.Bc),i.yb(5),i.Mc(" ",n.selectedItem.data.url," ")}}function qw(e,t){if(1&e&&(i.Rb(0,"div",18),i.Rb(1,"div",134),i.Rb(2,"p",135),i.Kc(3," Accessed "),i.Qb(),i.Qb(),i.Rb(4,"div",136),i.Rb(5,"p",137),i.Kc(6),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Mc(" ",n.selectedItem.data.accessDate," ")}}function $w(e,t){if(1&e&&(i.Rb(0,"div"),i.Ic(1,Ew,8,3,"div",133),i.Ic(2,Sw,8,3,"div",133),i.Ic(3,Aw,6,1,"div",133),i.Ic(4,jw,6,1,"div",133),i.Ic(5,Fw,8,3,"div",133),i.Ic(6,Qw,8,3,"div",133),i.Ic(7,Lw,8,3,"div",133),i.Ic(8,Nw,8,3,"div",133),i.Ic(9,zw,8,3,"div",133),i.Ic(10,Vw,8,3,"div",133),i.Ic(11,Bw,8,3,"div",133),i.Ic(12,Uw,10,4,"div",133),i.Ic(13,Hw,8,3,"div",133),i.Ic(14,Kw,9,2,"div",133),i.Ic(15,qw,7,1,"div",133),i.Qb()),2&e){var n=i.fc();i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.itemType&&null!=n.selectedItem.data.itemType),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.title&&null!=n.selectedItem.data.title),i.yb(1),i.mc("ngIf",null!=n.selectedItem.data.creators&&n.selectedItem.data.creators.length>0&&n.checkIfCreatorExist(n.selectedItem.data.creators)),i.yb(1),i.mc("ngIf",null!=n.selectedItem.data.creators&&n.selectedItem.data.creators.length>0),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.publicationTitle&&null!=n.selectedItem.data.publicationTitle),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.publisher&&null!=n.selectedItem.data.publisher),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.issue&&null!=n.selectedItem.data.issue),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.pages&&null!=n.selectedItem.data.pages),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.place&&null!=n.selectedItem.data.place),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.date&&n.selectedItem.data.pages!=n.date),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.journalAbbreviation&&null!=n.selectedItem.data.journalAbbreviation),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.DOI&&null!=n.selectedItem.data.DOI),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.ISSN&&null!=n.selectedItem.data.ISSN),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.url&&null!=n.selectedItem.data.url),i.yb(1),i.mc("ngIf",""!=n.selectedItem.data.accessDate&&null!=n.selectedItem.data.accessDate)}}function Ww(e,t){1&e&&(i.Rb(0,"div"),i.Rb(1,"div",18),i.Rb(2,"div",131),i.Rb(3,"p",132),i.Kc(4," No item selected "),i.Qb(),i.Qb(),i.Qb(),i.Qb())}function Gw(e,t){1&e&&(i.Rb(0,"div"),i.Rb(1,"div",18),i.Rb(2,"div",131),i.Rb(3,"p",132),i.Kc(4," No info "),i.Qb(),i.Qb(),i.Qb(),i.Qb())}function Yw(e,t){if(1&e&&(i.Rb(0,"div"),i.Rb(1,"p",139),i.Kc(2," Abstract "),i.Qb(),i.Rb(3,"p",140),i.Kc(4),i.Qb(),i.Qb()),2&e){var n=i.fc();i.yb(4),i.Mc(" ",n.selectedItem.data.abstractNote," ")}}function Xw(e,t){}var Zw,Jw=function(){return{switch:!1}},eM=((Zw=function(){function e(t,n,i,o,r,a){_classCallCheck(this,e),this.toastr=t,this.biblioService=n,this.expander=i,this.annotatorService=o,this.lexicalService=r,this.factory=a,this.bibliography=[],this.typesData=[],this.update_anno_subject=new wc.a,this.update_biblio_anno_subject=new wc.a,this.searchSubject=new wc.a,this.start=0,this.sortField="title",this.direction="asc",this.memorySort={field:"",direction:""},this.queryTitle="",this.queryMode="titleCreatorYear",this.arrayPanelFormsData={},this.arrayComponents=[],this.typeDesc="",this.staticOtherDef=[],this.labelData=[],this.bind=this,this.formData=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.lexicalService.getFormTypes().subscribe(function(t){e.typesData=t},function(e){}),this.annotatorService.getIdText$.subscribe(function(t){console.log(t),e.fileId=t},function(e){console.log(e)}),this.update_anno_subject.pipe(Object(ou.a)(1e3)).subscribe(function(t){null!=t&&e.updateAnnotation(t)}),this.update_biblio_anno_subject.pipe(Object(ou.a)(1e3)).subscribe(function(t){null!=t&&e.updateBiblioAnnotation(t)}),this.biblioService.bootstrapData(this.start,this.sortField,this.direction).subscribe(function(t){e.memorySort={field:e.sortField,direction:e.direction},e.bibliography=t,e.bibliography.forEach(function(e){e.selected=!1}),$("#biblioModalAnnotation").modal("hide"),$(".modal-backdrop").remove()},function(e){console.log(e)}),this.searchSubject.pipe(Object(ou.a)(1e3)).subscribe(function(t){e.queryTitle=t.query,e.queryMode=t.queryMode?"everything":"titleCreatorYear",e.searchBibliography(e.queryTitle,e.queryMode)})}},{key:"ngOnChanges",value:function(e){var t=this;console.log(e),null!=e.attestationData.currentValue?setTimeout(function(){e.attestationData.currentValue!=t.formData&&(t.formData=[],t.selectedItem=null,t.selectedAnnotation=null,t.typeDesc="",t.staticOtherDef=[],t.labelData=[]),t.formData=e.attestationData.currentValue,console.log(t.formData),0==t.formData.length&&(t.lexicalService.triggerAttestationPanel(!1),t.typeDesc="",t.staticOtherDef=[],t.labelData=[])},10):(this.formData=[],this.typeDesc="",this.staticOtherDef=[],this.labelData=[],this.selectedItem=null,this.selectedAnnotation=null)}},{key:"cancelAttestation",value:function(e,t,n){var i=this;this.formData.splice(e,1),this.annotatorService.deleteAnnotationRequest(t,n),this.annotatorService.deleteAnnotation(t).subscribe(function(e){console.log(e),i.toastr.success("Attestation deleted correctly","Info",{timeOut:5e3}),i.annotatorService.closePanelForm(t),i.arrayComponents.length>0&&i.arrayComponents.forEach(function(e){e.instance.id==t&&setTimeout(function(){e.instance.formPanelModal.hide()},100)})},function(e){console.log(e),i.toastr.error("Error on deleting attestation","Error",{timeOut:5e3})}),0==this.formData.length&&this.lexicalService.triggerAttestationPanel(!1)}},{key:"triggerUpdateAttestation",value:function(e,t,n,i){this.update_anno_subject.next({event:e,newValue:t,propKey:n,annotation:i})}},{key:"debounceKeyup",value:function(e,t,n,i){this.update_biblio_anno_subject.next({v:e,a:t,i:n,f:i})}},{key:"updateAnnotation",value:function(e){var t=this;if(null!=e){var n=null==e?void 0:e.annotation;n.attributes[null==e?void 0:e.propKey]=null==e?void 0:e.newValue,this.annotatorService.updateAnnotation(n).subscribe(function(e){console.log(e),t.toastr.success("Attestation updated correctly","Info",{timeOut:5e3})},function(e){console.log(e),t.toastr.error("Error on updating attestation","Error",{timeOut:5e3})})}}},{key:"updateBiblioAnnotation",value:function(e){var t=this;if(null!=e){console.log(e);var n=null==e?void 0:e.a.id,i=null==e?void 0:e.v,o=null==e?void 0:e.i,r=null==e?void 0:e.f;this.formData.forEach(function(e){e.id==n&&(e.attributes.bibliography[o][r]=i)});var a=null==e?void 0:e.a;console.log(a),this.annotatorService.updateAnnotation(a).subscribe(function(e){console.log(e),t.toastr.success("Attestation updated correctly","Info",{timeOut:5e3})},function(e){console.log(e),t.toastr.error("Error on updating attestation","Error",{timeOut:5e3})})}}},{key:"getForm",value:function(e,t){var n=this;setTimeout(function(){console.log("#attestation_collapse-"+t);var i=n.accordion.nativeElement.querySelectorAll("#attestation_collapse-"+t)[0];i.classList.contains("show")?n.lexicalService.getFormData(e,"core").subscribe(function(e){console.log(e),n.lexicalService.triggerLexicalEntryTree({request:!0,data:e}),n.lexicalService.sendToEtymologyTab(null),n.lexicalService.sendToRightTab(e),n.expander.isEpigraphyTabOpen()&&!n.expander.isEditTabOpen()&&n.expander.isEpigraphyTabExpanded()&&!n.expander.isEditTabExpanded()&&(n.expander.openCollapseEdit(!0),n.expander.expandCollapseEpigraphy(!1)),document.querySelectorAll("#text-dettaglio").forEach(function(e){e.classList.contains("show")||e.classList.add("show")})},function(e){console.log(e)}):console.log("non fai partire ricerca"),console.log(i)},500)}},{key:"showBiblioModal",value:function(e){this.selectedAnnotation=e,this.modal.show()}},{key:"checkIfCreatorExist",value:function(e){return e.some(function(e){return"author"===e.creatorType})}},{key:"selectItem",value:function(e,t){var n=this;this.bibliography.forEach(function(e){return e.key==t.key?(e.selected=!e.selected,n.selectedItem=e.selected?e:null,!0):(e.selected=!1,!1)})}},{key:"onCloseModal",value:function(){var e=this;this.selectedItem=null,this.start=0,this.sortField="title",this.direction="asc",this.tableBody.nativeElement.scrollTop=0,this.memorySort={field:this.sortField,direction:this.direction},this.biblioService.bootstrapData(this.start,this.sortField,this.direction).subscribe(function(t){e.bibliography=t,e.bibliography.forEach(function(e){e.selected=!1})},function(e){console.log(e)})}},{key:"onScrollDown",value:function(){var e=this;$("#biblioModalAnnotation").modal("show"),$(".modal-backdrop").appendTo(".table-body"),$("#biblioModalAnnotation").modal({backdrop:"static",keyboard:!1}),$(".modal-backdrop").appendTo(".table-body"),$("body").removeClass("modal-open"),$("body").css("padding-right",""),this.start+=25,""!=this.queryTitle?this.biblioService.filterBibliography(this.start,this.sortField,this.direction,this.queryTitle,this.queryMode).subscribe(function(t){console.log(t),$("#biblioModalAnnotation").modal("hide"),$(".modal-backdrop").remove(),t.forEach(function(t){e.bibliography.push(t)})},function(e){console.log(e)}):this.biblioService.filterBibliography(this.start,this.sortField,this.direction,this.queryTitle,this.queryMode).subscribe(function(t){t.forEach(function(t){e.bibliography.push(t)}),$("#biblioModalAnnotation").modal("hide"),$(".modal-backdrop").remove()},function(e){console.log(e)})}},{key:"addBibliographyItem",value:function(e){var t=this;if($("#biblioModalAnnotation").modal("show"),$(".modal-backdrop").appendTo(".ui-modal"),$("#biblioModalAnnotation").modal({backdrop:"static",keyboard:!1}),$(".modal-backdrop").css("height","inherit"),$("body").removeClass("modal-open"),$("body").css("padding-right",""),null!=e){var n;e.data.creators.forEach(function(e){return"author"==e.creatorType&&(n=e.lastName+" "+e.firstName,!0)}),n=null!=n?n:"",e.data.note="",e.data.textualRef="",console.log(e,this.selectedAnnotation),this.modal.hide();var i=this.selectedAnnotation.id;this.formData.forEach(function(t){var n;t.id==i&&(console.log(t),null===(n=null==t?void 0:t.attributes)||void 0===n||n.bibliography.push(null==e?void 0:e.data))}),this.annotatorService.updateAnnotation(this.selectedAnnotation).subscribe(function(e){console.log(e),$("#biblioModalAnnotation").modal("hide"),$(".modal-backdrop").remove(),t.modal.hide(),t.toastr.success("Item added correctly","Info",{timeOut:5e3})},function(e){console.log(e),$("#biblioModalAnnotation").modal("hide"),$(".modal-backdrop").remove(),t.modal.hide(),t.toastr.error("Error on adding item","Info",{timeOut:5e3})})}}},{key:"sortBibliography",value:function(e,t){var n=this;this.memorySort.field==t?"asc"==this.direction?(this.direction="desc",this.memorySort.direction="desc"):(this.direction="asc",this.memorySort.direction="asc"):(this.sortField=t,this.direction="asc",this.memorySort={field:this.sortField,direction:this.direction}),$("#biblioModalAnnotation").modal("show"),$(".modal-backdrop").appendTo(".table-body"),$("#biblioModalAnnotation").modal({backdrop:"static",keyboard:!1}),$(".modal-backdrop").appendTo(".table-body"),$("body").removeClass("modal-open"),$("body").css("padding-right",""),this.start=0,this.tableBody.nativeElement.scrollTop=0,this.biblioService.filterBibliography(this.start,this.sortField,this.direction,this.queryTitle,this.queryMode).subscribe(function(e){console.log(e),n.bibliography=[],$("#biblioModalAnnotation").modal("hide"),$(".modal-backdrop").remove(),e.forEach(function(e){n.bibliography.push(e)})},function(e){console.log(e)})}},{key:"removeItem",value:function(e,t){var n=this;console.log(e,t),this.formData.forEach(function(n){(null==e?void 0:e.id)==n.id&&n.attributes.bibliography.splice(t,1)}),this.annotatorService.updateAnnotation(e).subscribe(function(e){console.log(e),n.toastr.success("Attestation removed correctly","Info",{timeOut:5e3})},function(e){console.log(e),n.toastr.error("Error on removing attestation","Error",{timeOut:5e3})}),console.log(this.formData,e)}},{key:"triggerSearch",value:function(e,t,n){"Control"!=e.key&&"Shift"!=e.key&&"Alt"!=e.key&&this.searchSubject.next({query:t,queryMode:n})}},{key:"searchBibliography",value:function(e,t){var n=this;this.start=0,this.selectedItem=null,$("#biblioModalAnnotation").modal("show"),$(".modal-backdrop").appendTo(".table-body"),$("#biblioModalAnnotation").modal({backdrop:"static",keyboard:!1}),$("body").removeClass("modal-open"),$("body").css("padding-right",""),this.tableBody.nativeElement.scrollTop=0,this.biblioService.filterBibliography(this.start,this.sortField,this.direction,this.queryTitle,this.queryMode).subscribe(function(e){console.log(e),n.bibliography=[],e.forEach(function(e){n.bibliography.push(e)}),$("#biblioModalAnnotation").modal("hide"),$(".modal-backdrop").remove()},function(e){console.log(e)})}},{key:"loadFormData",value:function(e,t,n){var i=this;console.log(e),null==this.annotatorService.getPanelForm(e)&&this.lexicalService.getFormData(t,"core").subscribe(function(o){if(console.log(o),null!=o){i.annotatorService.newPanelForm(e);var r=i.factory.resolveComponentFactory(Dx),a=i.vc.createComponent(r);i.arrayComponents.push(a),a.instance.label=n+" - "+o.label[0].propertyValue,a.instance.formId=t,a.instance.id=e,a.instance.formData=o,a.instance.triggerFormPanel()}},function(e){console.log(e)})}}]),e}()).\u0275fac=function(e){return new(e||Zw)(i.Lb(Pu.b),i.Lb(cp),i.Lb(up),i.Lb(dp),i.Lb(sp.a),i.Lb(i.j))},Zw.\u0275cmp=i.Fb({type:Zw,selectors:[["app-attestation-panel"]],viewQuery:function(e,t){var n;1&e&&(i.Pc(jx,!0),i.Pc(Fx,!0),i.Pc(Qx,!0),i.Pc(Lx,!0,i.P)),2&e&&(i.uc(n=i.cc())&&(t.modal=n.first),i.uc(n=i.cc())&&(t.tableBody=n.first),i.uc(n=i.cc())&&(t.accordion=n.first),i.uc(n=i.cc())&&(t.vc=n.first))},inputs:{attestationData:"attestationData"},features:[i.wb],decls:73,vars:23,consts:[[1,"card"],["id","attestationHeading",1,"card-header"],[1,"mb-0"],["data-toggle","collapse","data-target","#attestationCollapse","aria-expanded","true","aria-controls","attestationCollapse",1,"btn","btn-link","w-100","d-flex","align-self-center","collapsed"],[1,"fa","ml-auto"],["id","attestationCollapse","aria-labelledby","attestationHeading",1,"collapse"],["accordion",""],[1,"card-body"],[4,"ngIf"],[1,"biblio_modal",3,"backdrop","inViewport","closeModal"],["addBibliographyAttestation",""],[1,"app-modal-header"],["src","../../../../../../assets/images/zotero_logo.png"],[1,"ml-2","biblio-header-title"],[1,"app-modal-body"],[1,"w-25","pt-1","pb-1"],["class","input-group mb-3",4,"ngIf"],[1,"container-fluid"],[1,"row"],[1,"col-md-8","pl-0"],[1,"table-responsive","table-body"],["id","biblioModalAnnotation","role","dialog",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"table","table-striped","table-hover",3,"hidden"],["scope","col",2,"width","50%","cursor","pointer",3,"click"],[1,"float-right"],["class","fas fa-sort-up",4,"ngIf"],["class","fas fa-sort-down",4,"ngIf"],["scope","col",2,"width","30%","cursor","pointer",3,"click"],["scope","col",2,"width","20%","cursor","pointer",3,"click"],["infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],["table_body",""],["style","cursor: pointer;",3,"ngClass","click",4,"ngFor","ngForOf"],["class","font-italic text-muted no-results",4,"ngIf"],[1,"col-md-4",2,"font-size","14px"],[1,"col-md-12","item-description",2,"height","calc(100vh - 37rem)","overflow","auto","font-size","13px"],[1,"col-md-12",2,"height","calc(40vh - 10rem)","overflow","auto","font-size","13px"],[1,"col-md-12","d-flex","justify-content-end"],[1,"btn","btn-secondary","w-25",3,"disabled","click"],[1,"app-modal-footer"],["formPanel",""],["class","card mb-4 pt-4",4,"ngFor","ngForOf"],[1,"card","mb-4","pt-4"],["data-toggle","collapse","aria-expanded","true",1,"attestationCollapse",3,"click"],[1,"text-id","pointer"],[1,"badge","badge-primary"],[1,"pointer",3,"click"],["container","body","placement","top","ngbTooltip","Open in new panel",1,"external-icon"],[1,"fa","fa-external-link-alt"],[1,"trash-icon"],[1,"fa","fa-trash"],[1,"collapse",3,"id"],[1,"card-body",2,"max-height","20rem","overflow","auto"],["class","form-group row ml-2 mr-2 mb-0",4,"ngFor","ngForOf"],[1,"form-group","row","ml-2","mr-2","mb-0"],["for","inputLabel",1,"col-lg-4","pl-0","pr-0","col-form-label"],[1,"input-group","col-lg-8","pl-0","pr-0","justify-content-between"],["class","font-italic overflow-auto p-1",4,"ngIf"],["title","Add new bibliography item",1,"btn","btn-success","rounded-circle",2,"width","20px","height","20px","padding","0%","border-radius","15px !important",3,"click"],[1,"fas","fa-plus"],["for","inputLabel","class","col-lg-4 pl-0 pr-0 col-form-label",4,"ngIf"],[1,"input-group","col-lg-8","pl-0","pr-0"],["id","attributes","name","attributes","type","text","class","form-control","placeholder","No info",3,"value","keyup",4,"ngIf"],["id","attributes","name","attributes","type","number","min","0","max","1","step","0.1","class","form-control","placeholder","No info",3,"value","keyup","change",4,"ngIf"],["id","attributes","name","attributes","type","text","class","form-control","placeholder","No info","style","resize: none;",3,"keyup",4,"ngIf"],[1,"font-italic","overflow-auto","p-1"],["id","attributes","name","attributes","type","text","placeholder","No info",1,"form-control",3,"value","keyup"],["sub_property",""],["id","attributes","name","attributes","type","number","min","0","max","1","step","0.1","placeholder","No info",1,"form-control",3,"value","keyup","change"],["confidence",""],["id","attributes","name","attributes","type","text","placeholder","No info",1,"form-control",2,"resize","none",3,"keyup"],["text_area",""],["class","form-group row ml-2 mt-3 mb-1  mr-2",4,"ngFor","ngForOf"],[1,"form-group","row","ml-2","mt-3","mb-1","mr-2"],[1,"input-group","col-xl-12","p-0"],["id","accordion"],["data-toggle","collapse","aria-expanded","true",1,"biblioCollapse"],[1,"text-id","pointer",2,"z-index","0"],[4,"ngFor","ngForOf"],["class","icons-container",4,"ngIf"],[1,"fa","fa-trash","text-danger"],[1,"card-body","mt-2"],["for","inputLabel",1,"col-lg-4","px-0","col-form-label"],[1,"input-group","col-lg-8","pl-0"],["id","title","name","title","type","text","placeholder","","disabled","",1,"form-control",3,"value"],["class","pb-1",4,"ngFor","ngForOf"],["id","date","name","date","type","text","placeholder","","disabled","",1,"form-control",3,"value"],[1,"form-group","row","ml-2","mr-2"],["name","note",1,"form-control",2,"resize","none",3,"value","keyup"],["note_item_biblio_anno",""],["name","textualReference",1,"form-control",2,"resize","none",3,"value","keyup"],["txtref_item_biblio_anno",""],[1,"icons-container"],["target","_blank",1,"pointer","text-primary",3,"href"],[1,"external-icon"],[1,"fas","fa-external-link-alt"],["target","_blank","class","pointer text-primary",3,"href",4,"ngIf"],[1,"download-icon"],[1,"fas","fa-download"],[1,"pb-1"],["id","author","name","author","type","text","placeholder","","disabled","",1,"form-control",3,"value"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-outline-secondary","dropdown-toggle"],[1,"fa","fa-search"],[1,"dropdown-menu"],[1,"dropdown-item",2,"cursor","pointer",3,"click"],["type","text","aria-label","Text input with dropdown button",1,"form-control",2,"font-size","12px",3,"placeholder","keyup"],["searchBiblio",""],[1,"fas","fa-sort-up"],[1,"fas","fa-sort-down"],[2,"cursor","pointer",3,"ngClass","click"],[2,"width","50%"],["class","pl-1 pr-1",4,"ngIf"],["class","font-italic",4,"ngIf"],[2,"width","30%"],[2,"width","20%"],[1,"pl-1","pr-1"],[1,"fas","fa-book"],[1,"fas","fa-book-open"],[1,"far","fa-newspaper"],[1,"far","fa-clipboard"],[1,"fas","fa-paperclip"],[1,"fas","fa-chalkboard-teacher"],[1,"font-italic"],[1,"font-italic","text-muted","no-results"],[1,"col-md-12"],[1,"text-muted","text-center","align-middle","mb-1","font-italic"],["class","row",4,"ngIf"],[1,"col-md-4","left",2,"text-align","right"],[1,"text-muted","font-weight-bold","mb-1"],[1,"col-md-8","right",2,"text-align","left"],[1,"font-weight-normal","mb-1"],["target","_blank",1,"text-muted",3,"href"],[1,"text-muted","font-weight-bold"],[1,"font-weight-normal"]],template:function(e,t){1&e&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Rb(2,"h5",2),i.Rb(3,"a",3),i.Kc(4," Attestation Panel"),i.Mb(5,"i",4),i.Qb(),i.Qb(),i.Qb(),i.Rb(6,"div",5,6),i.Rb(8,"div",7),i.Ic(9,nw,2,1,"div",8),i.Qb(),i.Qb(),i.Qb(),i.Rb(10,"app-modal",9,10),i.bc("closeModal",function(){return t.onCloseModal()}),i.Pb(12,11),i.Mb(13,"img",12),i.Rb(14,"span",13),i.Kc(15,"Library: PRIN Italia Antica"),i.Qb(),i.Ob(),i.Pb(16,14),i.Rb(17,"div",15),i.Ic(18,iw,11,5,"div",16),i.Qb(),i.Rb(19,"div",17),i.Rb(20,"div",18),i.Rb(21,"div",19),i.Rb(22,"div",20),i.Rb(23,"div",21),i.Rb(24,"div",22),i.Rb(25,"div",23),i.Rb(26,"div",24),i.Rb(27,"div",25),i.Rb(28,"div",26),i.Rb(29,"span",27),i.Kc(30,"Loading..."),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(31,"table",28),i.Rb(32,"thead"),i.Rb(33,"tr"),i.Rb(34,"th",29),i.bc("click",function(e){return t.sortBibliography(e,"title")}),i.Rb(35,"span"),i.Kc(36,"Title"),i.Qb(),i.Rb(37,"span",30),i.Ic(38,ow,1,0,"i",31),i.Ic(39,rw,1,0,"i",32),i.Qb(),i.Qb(),i.Rb(40,"th",33),i.bc("click",function(e){return t.sortBibliography(e,"creator")}),i.Rb(41,"span"),i.Kc(42,"Creator"),i.Qb(),i.Rb(43,"span",30),i.Ic(44,aw,1,0,"i",31),i.Ic(45,sw,1,0,"i",32),i.Qb(),i.Qb(),i.Rb(46,"th",34),i.bc("click",function(e){return t.sortBibliography(e,"date")}),i.Rb(47,"span"),i.Kc(48,"Date"),i.Qb(),i.Rb(49,"span",30),i.Ic(50,cw,1,0,"i",31),i.Ic(51,lw,1,0,"i",32),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(52,"tbody",35,36),i.bc("scrolled",function(){return t.onScrollDown()}),i.Ic(54,ww,16,13,"tr",37),i.Qb(),i.Qb(),i.Ic(55,Mw,2,0,"p",38),i.Qb(),i.Qb(),i.Rb(56,"div",39),i.Rb(57,"div",18),i.Rb(58,"div",40),i.Ic(59,Pw,5,0,"div",8),i.Ic(60,$w,16,15,"div",8),i.Qb(),i.Qb(),i.Rb(61,"div",18),i.Rb(62,"div",41),i.Ic(63,Ww,5,0,"div",8),i.Ic(64,Gw,5,0,"div",8),i.Ic(65,Yw,5,1,"div",8),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(66,"div",18),i.Rb(67,"div",42),i.Rb(68,"button",43),i.bc("click",function(){return t.addBibliographyItem(t.selectedItem)}),i.Kc(69,"Save"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Ob(),i.Nb(70,44),i.Qb(),i.Ic(71,Xw,0,0,"ng-template",null,45,i.Jc)),2&e&&(i.yb(9),i.mc("ngIf",null!=t.formData),i.yb(1),i.mc("backdrop",!1)("inViewport",!0),i.yb(8),i.mc("ngIf",i.pc(22,Jw)),i.yb(13),i.mc("hidden",0==t.bibliography.length),i.yb(7),i.mc("ngIf","asc"==t.direction&&"title"==t.sortField),i.yb(1),i.mc("ngIf","desc"==t.direction&&"title"==t.sortField),i.yb(5),i.mc("ngIf","asc"==t.direction&&"creator"==t.sortField),i.yb(1),i.mc("ngIf","desc"==t.direction&&"creator"==t.sortField),i.yb(5),i.mc("ngIf","asc"==t.direction&&"date"==t.sortField),i.yb(1),i.mc("ngIf","desc"==t.direction&&"date"==t.sortField),i.yb(1),i.mc("infiniteScrollDistance",.4)("infiniteScrollThrottle",150)("scrollWindow",!1),i.yb(2),i.mc("ngForOf",t.bibliography),i.yb(1),i.mc("ngIf",0==t.bibliography.length),i.yb(4),i.mc("ngIf",!t.selectedItem),i.yb(1),i.mc("ngIf",t.selectedItem),i.yb(3),i.mc("ngIf",!t.selectedItem),i.yb(1),i.mc("ngIf",t.selectedItem&&(""==t.selectedItem.data.abstractNote||null==t.selectedItem.data.abstractNote)),i.yb(1),i.mc("ngIf",t.selectedItem&&""!=t.selectedItem.data.abstractNote&&null!=t.selectedItem.data.abstractNote),i.yb(3),i.mc("disabled",!t.selectedItem))},directives:[a.n,Rp,Ws,a.m,Hg.f,a.l],pipes:[a.h,a.t,a.u],styles:['@charset "UTF-8";.btn[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{font-size:12px}.card-header[_ngcontent-%COMP%]{padding:0}[data-toggle=collapse][_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"\uf146"}[data-toggle=collapse].collapsed[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"\uf0fe"}a[_ngcontent-%COMP%]{text-decoration:none!important}.fa[_ngcontent-%COMP%]{margin-top:2px}.row[_ngcontent-%COMP%]{align-items:baseline}[id^=attestation_collapse-][_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{font-size:11px;height:22px}[id^=attestation_collapse-][_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{height:auto!important}.card[_ngcontent-%COMP%]{width:100%}.card-body[_ngcontent-%COMP%]{padding:.5rem 0 0;max-height:32rem;overflow:auto}#attestationCollapse[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1rem!important}#attestationCollapse[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:.5rem!important}.biblioCollapse[_ngcontent-%COMP%]{height:18px!important}.collapse-icon[_ngcontent-%COMP%]{position:absolute;right:4px;top:-16px;background:#fff;text-align:center;color:#212529;padding:5px;font-size:16px}.dropdown-item[_ngcontent-%COMP%]{font-size:12px}.disabled[_ngcontent-%COMP%]{color:#dfdfdf;pointer-events:none}.btn[_ngcontent-%COMP%]{height:38px;border-radius:.25rem!important}#addBibliographyAttestation[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{font-size:12px;height:unset}.btn[_ngcontent-%COMP%]{font-size:12px;height:32px}.form-check-input[_ngcontent-%COMP%]{margin-top:.55rem}#accordion[_ngcontent-%COMP%]{width:100%}.rotate[_ngcontent-%COMP%]{-webkit-animation:rotation 2s linear infinite}.download-icon[_ngcontent-%COMP%], .synchro-icon[_ngcontent-%COMP%]{right:52px}.download-icon[_ngcontent-%COMP%], .external-icon[_ngcontent-%COMP%], .synchro-icon[_ngcontent-%COMP%]{position:absolute;top:-14px;background:#fff;text-align:center;color:#212529;padding:5px;font-size:14px}.external-icon[_ngcontent-%COMP%]{right:28px;z-index:1}.trash-icon[_ngcontent-%COMP%]{right:6px;top:-14px;text-align:center;color:#dc3545!important;padding:5px;font-size:14px}.text-id[_ngcontent-%COMP%], .trash-icon[_ngcontent-%COMP%]{position:absolute;background:#fff;z-index:1}.text-id[_ngcontent-%COMP%]{left:10px;top:-12px;text-align:left;color:#212529;padding:5px 10px;font-size:12px}.badge[_ngcontent-%COMP%]{font-size:11px}.pointer[_ngcontent-%COMP%]{cursor:pointer}.resizeNgSelect[_ngcontent-%COMP%]{width:15%}.biblio_modal[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-size:12px}.biblio_modal[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .biblio_modal[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.55rem}.biblio_modal[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{display:block;height:calc(100vh - 29rem);overflow:auto}.biblio_modal[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:16px!important}.biblio_modal[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .biblio_modal[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed}.biblio_modal[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{background-color:rgba(91,155,213,.5098039215686274)}.biblio_modal[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{position:relative}.biblio_modal[_ngcontent-%COMP%]   table.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:rgba(91,155,213,.5098039215686274)}.biblio_modal[_ngcontent-%COMP%]   .disable_click_fire[_ngcontent-%COMP%]{pointer-events:none}.biblio_modal[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]{height:calc(100vh - 25rem)}.panelFormData[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{align-items:center}.panelFormData[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{height:38px;border-radius:.25rem}.panelFormData[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{font-size:12px}.panelFormData[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:12px;height:32px}.panelFormData[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{margin-top:0}.panelFormData[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-top:20px;padding-top:20px;width:100%}.panelFormData[_ngcontent-%COMP%]   #accordion[_ngcontent-%COMP%]{width:100%}.panelFormData[_ngcontent-%COMP%]   .text-id[_ngcontent-%COMP%]{left:10px;top:-12px;padding:5px 10px;font-size:12px}.panelFormData[_ngcontent-%COMP%]   .collapse-icon[_ngcontent-%COMP%], .panelFormData[_ngcontent-%COMP%]   .text-id[_ngcontent-%COMP%]{position:absolute;background:#fff;text-align:center;color:#212529}.panelFormData[_ngcontent-%COMP%]   .collapse-icon[_ngcontent-%COMP%]{right:4px;top:-16px;padding:5px;font-size:16px}.panelFormData[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:11px}.panelFormData[_ngcontent-%COMP%]   .pointer[_ngcontent-%COMP%]{cursor:pointer}.panelFormData[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background-color:#fff;border:none}.panelFormData[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:not(:last-child){border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.panelFormData[_ngcontent-%COMP%]   .no_pointer[_ngcontent-%COMP%]{pointer-events:none}.panelFormData[_ngcontent-%COMP%]   .no_pointer[_ngcontent-%COMP%]   .collapse-icon[_ngcontent-%COMP%]{color:#8c8c8c}']}),Zw);function tM(e,t){1&e&&(i.Rb(0,"ul",9),i.Rb(1,"li",10),i.Rb(2,"a",11),i.Kc(3,"Edition"),i.Qb(),i.Qb(),i.Rb(4,"li"),i.Rb(5,"a",12),i.Kc(6,"Epigraphy"),i.Qb(),i.Qb(),i.Rb(7,"li"),i.Rb(8,"a",13),i.Kc(9,"Text"),i.Qb(),i.Qb(),i.Qb())}function nM(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Title:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Rb(5,"span"),i.Kc(6),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Lc(n.object.title)}}function iM(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Id:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Rb(5,"span"),i.Kc(6),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Lc(n.object["element-id"])}}function oM(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Editor:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Rb(5,"span"),i.Kc(6),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Lc(n.object.editor)}}function rM(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Authority:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Rb(5,"span"),i.Kc(6),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Lc(n.object.authority)}}function aM(e,t){if(1&e&&(i.Rb(0,"a",29),i.Kc(1),i.Qb()),2&e){var n=i.fc().$implicit;i.mc("href",null==n?null:n.value,i.Bc),i.yb(1),i.Lc(null==n?null:n.value)}}function sM(e,t){if(1&e&&(i.Rb(0,"span"),i.Kc(1),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(1),i.Lc(null==n?null:n.value)}}function cM(e,t){if(1&e&&(i.Rb(0,"div",26),i.Ic(1,aM,2,2,"a",27),i.Ic(2,sM,2,1,"span",28),i.Qb()),2&e){var n=t.$implicit,o=i.fc(3);i.yb(1),i.mc("ngIf",o.isLink(null==n?null:n.value)),i.yb(1),i.mc("ngIf",!o.isLink(null==n?null:n.value))}}function lM(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"License:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Ic(5,cM,3,2,"div",25),i.gc(6,"keyvalue"),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(5),i.mc("ngForOf",i.hc(6,1,n.object.license))}}function uM(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"ItAnt ID:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Rb(5,"span"),i.Kc(6),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Lc(n.object.itAnt_ID)}}function fM(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Inscription Title:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Rb(5,"span"),i.Kc(6),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Lc(n.object.inscriptionTitle)}}function dM(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Inscription Type:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Rb(5,"span"),i.Kc(6),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Lc(n.object.inscriptionType)}}function hM(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Summary:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Rb(5,"span"),i.Kc(6),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Lc(n.object.summary)}}function pM(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Trismegistos ID:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Rb(5,"a",29),i.Kc(6),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(5),i.mc("href","//"+(null==n.object||null==n.object.trismegistos?null:n.object.trismegistos.trismegistosID_url),i.Bc),i.yb(1),i.Mc(" ",null==n.object||null==n.object.trismegistos?null:n.object.trismegistos.trismegistosID," ")}}function bM(e,t){if(1&e&&(i.Rb(0,"p",31),i.Rb(1,"a",29),i.Kc(2),i.Qb(),i.Qb()),2&e){var n=t.$implicit;i.yb(1),i.mc("href",n.traditionalID_URL,i.Bc),i.yb(1),i.Mc(" ",n.traditionalID," ")}}function gM(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Traditional IDs:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Ic(5,bM,3,2,"p",30),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(5),i.mc("ngForOf",n.object.traditionalIDs)}}function mM(e,t){if(1&e&&(i.Rb(0,"a",29),i.Kc(1),i.Qb()),2&e){var n=i.fc(3);i.mc("href",null==n.object||null==n.object.originalPlace?null:n.object.originalPlace.ancientNameUrl,i.Bc),i.yb(1),i.Mc(" ",null==n.object||null==n.object.originalPlace?null:n.object.originalPlace.ancientName," ")}}function vM(e,t){if(1&e&&(i.Rb(0,"span"),i.Kc(1),i.Qb()),2&e){var n=i.fc(3);i.yb(1),i.Mc(" ",null==n.object||null==n.object.originalPlace?null:n.object.originalPlace.ancientName," ")}}function yM(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Original Place:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Ic(5,mM,2,2,"a",27),i.Ic(6,vM,2,1,"span",28),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(5),i.mc("ngIf",""!=(null==n.object||null==n.object.originalPlace?null:n.object.originalPlace.ancientNameUrl)),i.yb(1),i.mc("ngIf",""==(null==n.object||null==n.object.originalPlace?null:n.object.originalPlace.ancientNameUrl))}}function _M(e,t){if(1&e&&(i.Rb(0,"a",29),i.Kc(1),i.Qb()),2&e){var n=i.fc(3);i.mc("href",null==n.object||null==n.object.support?null:n.object.support.objectType_conceptUrl,i.Bc),i.yb(1),i.Mc(" ",null==n.object||null==n.object.support?null:n.object.support.objectType," ")}}function CM(e,t){if(1&e&&(i.Rb(0,"span"),i.Kc(1),i.Qb()),2&e){var n=i.fc(3);i.yb(1),i.Lc(null==n.object||null==n.object.support?null:n.object.support.objectType)}}function kM(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Original Type:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Ic(5,_M,2,2,"a",27),i.Ic(6,CM,2,1,"span",28),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(5),i.mc("ngIf",""!=(null==n.object||null==n.object.support?null:n.object.support.objectType_conceptUrl)),i.yb(1),i.mc("ngIf",""==(null==n.object||null==n.object.support?null:n.object.support.objectType_conceptUrl))}}function OM(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Condition:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Rb(5,"span"),i.Kc(6),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Lc(n.object.condition)}}function xM(e,t){if(1&e&&(i.Rb(0,"a",29),i.Kc(1),i.Qb()),2&e){var n=i.fc(3);i.mc("href",null==n.object||null==n.object.conservationInstitution?null:n.object.conservationInstitution.URL,i.Bc),i.yb(1),i.Mc(" ",null==n.object||null==n.object.conservationInstitution?null:n.object.conservationInstitution.name,"")}}function wM(e,t){if(1&e&&(i.Rb(0,"span"),i.Kc(1),i.Qb()),2&e){var n=i.fc(3);i.yb(1),i.Mc(" ",null==n.object||null==n.object.conservationInstitution?null:n.object.conservationInstitution.name," ")}}function MM(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Conservation Institution:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Ic(5,xM,2,2,"a",27),i.Ic(6,wM,2,1,"span",28),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(5),i.mc("ngIf",""!=(null==n.object||null==n.object.conservationInstitution?null:n.object.conservationInstitution.URL)),i.yb(1),i.mc("ngIf",""==(null==n.object||null==n.object.conservationInstitution?null:n.object.conservationInstitution.URL))}}function PM(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Date of Origin:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Rb(5,"span"),i.Kc(6),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Lc(n.object.dateOfOrigin)}}function EM(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Date of Origin not Before:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Rb(5,"span"),i.Kc(6),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Lc(n.object.dateOfOriginNotBefore)}}function SM(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Date of Origin not After:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Rb(5,"span"),i.Kc(6),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Lc(n.object.dateOfOriginNotAfter)}}function RM(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Dating Certainty:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Rb(5,"span"),i.Kc(6),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Lc(n.object.datingCertainty)}}function IM(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Decoration:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Rb(5,"span"),i.Kc(6),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Lc(n.object.decoration)}}function AM(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Detailed Find Spot:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Rb(5,"span"),i.Kc(6),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Lc(n.object.detailedFindSpot)}}function TM(e,t){if(1&e&&(i.Rb(0,"span"),i.Kc(1),i.Qb()),2&e){var n=i.fc(2).$implicit;i.yb(1),i.Lc(null==n?null:n.value)}}function DM(e,t){if(1&e&&(i.Rb(0,"a",29),i.Kc(1),i.Qb()),2&e){var n=i.fc(2).$implicit;i.mc("href",null==n?null:n.value,i.Bc),i.yb(1),i.Lc(null==n?null:n.value)}}function jM(e,t){if(1&e&&(i.Rb(0,"p"),i.Rb(1,"span",33),i.Kc(2),i.Qb(),i.Ic(3,TM,2,1,"span",28),i.Ic(4,DM,2,2,"a",27),i.Qb()),2&e){var n=i.fc().$implicit,o=i.fc(3);i.yb(2),i.Mc("",null==n?null:n.key,":"),i.yb(1),i.mc("ngIf",!o.isLink(null==n?null:n.value)),i.yb(1),i.mc("ngIf",o.isLink(null==n?null:n.value))}}function FM(e,t){if(1&e&&(i.Rb(0,"span"),i.Ic(1,jM,5,3,"p",28),i.Qb()),2&e){var n=t.$implicit;i.yb(1),i.mc("ngIf",""!=(null==n?null:n.value))}}function QM(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Discovery Year:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Ic(5,FM,2,1,"span",32),i.gc(6,"keyvalue"),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(5),i.mc("ngForOf",i.hc(6,1,null==n.object?null:n.object.discoveryYear))}}function LM(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Layout Notes:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Rb(5,"span"),i.Kc(6),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Lc(n.object.layoutNotes)}}function NM(e,t){if(1&e&&(i.Rb(0,"a",29),i.Kc(1),i.Qb()),2&e){var n=i.fc(3);i.mc("href",null==n.object?null:n.object.modernFindSpotNameUri,i.Bc),i.yb(1),i.Mc(" ",null==n.object?null:n.object.modernFindSpotName,"")}}function zM(e,t){if(1&e&&(i.Rb(0,"span"),i.Kc(1),i.Qb()),2&e){var n=i.fc(3);i.yb(1),i.Mc(" ",null==n.object||null==n.object.modernFindSpotName?null:n.object.modernFindSpotName.name," ")}}function VM(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Modern Findspot Name:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Ic(5,NM,2,2,"a",27),i.Ic(6,zM,2,1,"span",28),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(5),i.mc("ngIf",""!=(null==n.object||null==n.object.modernFindSpotName?null:n.object.modernFindSpotName.URL)),i.yb(1),i.mc("ngIf",""==(null==n.object?null:n.object.modernFindSpotName))}}function BM(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Opistography:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Rb(5,"span"),i.Kc(6),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Lc(n.object.opistography)}}function UM(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Paleographic Notes:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Rb(5,"span"),i.Kc(6),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Lc(n.object.paleographicNotes)}}function HM(e,t){if(1&e&&(i.Rb(0,"a",29),i.Kc(1),i.Qb()),2&e){var n=i.fc(3);i.mc("href",null==n.object||null==n.object.settlement?null:n.object.settlement.placeOfConservationExternalReference,i.Bc),i.yb(1),i.Mc(" ",null==n.object||null==n.object.settlement?null:n.object.settlement.placeOfConservation,"")}}function KM(e,t){if(1&e&&(i.Rb(0,"span"),i.Kc(1),i.Qb()),2&e){var n=i.fc(3);i.yb(1),i.Mc(" ",null==n.object||null==n.object.settlement?null:n.object.settlement.placeOfConservation," ")}}function qM(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Settlement:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Ic(5,HM,2,2,"a",27),i.Ic(6,KM,2,1,"span",28),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(5),i.mc("ngIf",""!=(null==n.object||null==n.object.settlement?null:n.object.settlement.placeOfConservationExternalReference)),i.yb(1),i.mc("ngIf",""==(null==n.object||null==n.object.settlement?null:n.object.settlement.placeOfConservationExternalReference))}}function $M(e,t){if(1&e&&(i.Rb(0,"a",29),i.Kc(1),i.Qb()),2&e){var n=i.fc(3);i.mc("href",null==n.object||null==n.object.support?null:n.object.support.material_conceptUrl,i.Bc),i.yb(1),i.Mc(" ",null==n.object||null==n.object.support?null:n.object.support.material,"")}}function WM(e,t){if(1&e&&(i.Rb(0,"span"),i.Kc(1),i.Qb()),2&e){var n=i.fc(3);i.yb(1),i.Mc(" ",null==n.object||null==n.object.support?null:n.object.support.material," ")}}function GM(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Material:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Ic(5,$M,2,2,"a",27),i.Ic(6,WM,2,1,"span",28),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(5),i.mc("ngIf",""!=(null==n.object||null==n.object.support?null:n.object.support.material_conceptUrl)),i.yb(1),i.mc("ngIf",""==(null==n.object||null==n.object.support?null:n.object.support.material_conceptUrl))}}function YM(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Autopsy:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Rb(5,"span"),i.Kc(6),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Lc(n.object.autopsy)}}function XM(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Autopsy Author:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Rb(5,"span"),i.Kc(6),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Lc(n.object.autopsyAuthor)}}function ZM(e,t){if(1&e&&(i.Rb(0,"a",29),i.Kc(1),i.Qb()),2&e){var n=i.fc(2).$implicit;i.mc("href",null==n?null:n.source,i.Bc),i.yb(1),i.Lc(null==n?null:n.ident)}}function JM(e,t){if(1&e&&(i.Rb(0,"p"),i.Ic(1,ZM,2,2,"a",27),i.Qb()),2&e){var n=i.fc().$implicit,o=i.fc(3);i.yb(1),i.mc("ngIf",o.isLink(null==n?null:n.source))}}function eP(e,t){if(1&e&&(i.Rb(0,"span"),i.Ic(1,JM,2,1,"p",28),i.Qb()),2&e){var n=t.$implicit;i.yb(1),i.mc("ngIf",""!=(null==n?null:n.source))}}function tP(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Language:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Ic(5,eP,2,1,"span",32),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(5),i.mc("ngForOf",null==n.object?null:n.object.language)}}function nP(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Ductus:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Rb(5,"span"),i.Kc(6),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Lc(null==n.object.bodytextpart?null:n.object.bodytextpart.ductus)}}function iP(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Word Division Type:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Rb(5,"span"),i.Kc(6),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Lc(n.object.wordDivisionType)}}function oP(e,t){if(1&e&&(i.Rb(0,"div",22),i.Rb(1,"div",23),i.Rb(2,"b"),i.Kc(3,"Writing System:"),i.Qb(),i.Qb(),i.Rb(4,"div",24),i.Rb(5,"span"),i.Kc(6),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc(2);i.yb(6),i.Lc(n.object.writingSystem)}}function rP(e,t){if(1&e&&(i.Rb(0,"div",14),i.Rb(1,"div",15),i.Rb(2,"div",16),i.Rb(3,"span",17),i.Kc(4,"EDITION"),i.Qb(),i.Rb(5,"div",6),i.Rb(6,"div",18),i.Ic(7,nM,7,1,"div",19),i.Ic(8,iM,7,1,"div",19),i.Ic(9,oM,7,1,"div",19),i.Ic(10,rM,7,1,"div",19),i.Ic(11,lM,7,3,"div",19),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(12,"div",20),i.Rb(13,"div",16),i.Rb(14,"span",17),i.Kc(15,"EPIGRAPHY"),i.Qb(),i.Rb(16,"div",6),i.Rb(17,"div",18),i.Ic(18,uM,7,1,"div",19),i.Ic(19,fM,7,1,"div",19),i.Ic(20,dM,7,1,"div",19),i.Ic(21,hM,7,1,"div",19),i.Ic(22,pM,7,2,"div",19),i.Ic(23,gM,6,1,"div",19),i.Ic(24,yM,7,2,"div",19),i.Ic(25,kM,7,2,"div",19),i.Ic(26,OM,7,1,"div",19),i.Ic(27,MM,7,2,"div",19),i.Ic(28,PM,7,1,"div",19),i.Ic(29,EM,7,1,"div",19),i.Ic(30,SM,7,1,"div",19),i.Ic(31,RM,7,1,"div",19),i.Ic(32,IM,7,1,"div",19),i.Ic(33,AM,7,1,"div",19),i.Ic(34,QM,7,3,"div",19),i.Ic(35,LM,7,1,"div",19),i.Ic(36,VM,7,2,"div",19),i.Ic(37,BM,7,1,"div",19),i.Ic(38,UM,7,1,"div",19),i.Ic(39,qM,7,2,"div",19),i.Ic(40,GM,7,2,"div",19),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(41,"div",21),i.Rb(42,"div",16),i.Rb(43,"span",17),i.Kc(44,"TEXT"),i.Qb(),i.Rb(45,"div",6),i.Rb(46,"div",18),i.Ic(47,YM,7,1,"div",19),i.Ic(48,XM,7,1,"div",19),i.Ic(49,tP,6,1,"div",19),i.Ic(50,nP,7,1,"div",19),i.Ic(51,iP,7,1,"div",19),i.Ic(52,oP,7,1,"div",19),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb()),2&e){var n=i.fc();i.yb(7),i.mc("ngIf",null!=n.object.title||""!=(null==n.object?null:n.object.title)),i.yb(1),i.mc("ngIf",null!=n.object["element-id"]||""!=n.object["element-id"]),i.yb(1),i.mc("ngIf",null!=n.object.editor||""!=(null==n.object?null:n.object.editor)),i.yb(1),i.mc("ngIf",null!=n.object.authority||""!=(null==n.object?null:n.object.authority)),i.yb(1),i.mc("ngIf",null!=n.object.license||""!=(null==n.object?null:n.object.license)),i.yb(7),i.mc("ngIf",null!=(null==n.object?null:n.object.itAnt_ID)&&""!=(null==n.object?null:n.object.itAnt_ID)),i.yb(1),i.mc("ngIf",null!=(null==n.object?null:n.object.inscriptionTitle)&&""!=(null==n.object?null:n.object.inscriptionTitle)),i.yb(1),i.mc("ngIf",null!=(null==n.object?null:n.object.inscriptionType)&&""!=(null==n.object?null:n.object.inscriptionType)),i.yb(1),i.mc("ngIf",null!=(null==n.object?null:n.object.summary)&&""!=(null==n.object?null:n.object.summary)),i.yb(1),i.mc("ngIf",null!=(null==n.object||null==n.object.trismegistos?null:n.object.trismegistos.trismegistosID_url)),i.yb(1),i.mc("ngIf",null!=(null==n.object?null:n.object.traditionalIDs)&&""!=(null==n.object?null:n.object.traditionalIDs)),i.yb(1),i.mc("ngIf",null!=(null==n.object?null:n.object.originalPlace)&&""!=(null==n.object?null:n.object.originalPlace)),i.yb(1),i.mc("ngIf",null!=(null==n.object||null==n.object.support?null:n.object.support.objectType_conceptUrl)&&""!=(null==n.object||null==n.object.support?null:n.object.support.objectType_conceptUrl)),i.yb(1),i.mc("ngIf",null!=(null==n.object?null:n.object.condition)&&""!=(null==n.object?null:n.object.condition)),i.yb(1),i.mc("ngIf",null!=(null==n.object?null:n.object.conservationInstitution)&&""!=(null==n.object?null:n.object.conservationInstitution)),i.yb(1),i.mc("ngIf",null!=(null==n.object?null:n.object.dateOfOrigin)&&""!=(null==n.object?null:n.object.dateOfOrigin)),i.yb(1),i.mc("ngIf",null!=(null==n.object?null:n.object.dateOfOriginNotBefore)&&""!=(null==n.object?null:n.object.dateOfOriginNotBefore)),i.yb(1),i.mc("ngIf",null!=(null==n.object?null:n.object.dateOfOriginNotAfter)&&""!=(null==n.object?null:n.object.dateOfOriginNotAfter)),i.yb(1),i.mc("ngIf",null!=(null==n.object?null:n.object.datingCertainty)&&""!=(null==n.object?null:n.object.datingCertainty)),i.yb(1),i.mc("ngIf",null!=(null==n.object?null:n.object.decoration)&&""!=(null==n.object?null:n.object.decoration)),i.yb(1),i.mc("ngIf",null!=(null==n.object?null:n.object.detailedFindSpot)&&""!=(null==n.object?null:n.object.detailedFindSpot)),i.yb(1),i.mc("ngIf",null!=(null==n.object?null:n.object.discoveryYear)),i.yb(1),i.mc("ngIf",null!=(null==n.object?null:n.object.layoutNotes)&&""!=(null==n.object?null:n.object.layoutNotes)),i.yb(1),i.mc("ngIf",null!=(null==n.object?null:n.object.modernFindSpotName)&&""!=(null==n.object?null:n.object.modernFindSpotName)),i.yb(1),i.mc("ngIf",null!=(null==n.object?null:n.object.opistography)&&""!=(null==n.object?null:n.object.opistography)),i.yb(1),i.mc("ngIf",null!=(null==n.object?null:n.object.paleographicNotes)&&""!=(null==n.object?null:n.object.paleographicNotes)),i.yb(1),i.mc("ngIf",null!=(null==n.object?null:n.object.settlement)&&""!=(null==n.object?null:n.object.settlement)),i.yb(1),i.mc("ngIf",null!=(null==n.object||null==n.object.support?null:n.object.support.material_conceptUrl)&&""!=(null==n.object||null==n.object.support?null:n.object.support.material_conceptUrl)),i.yb(7),i.mc("ngIf",null!=(null==n.object?null:n.object.autopsy)&&""!=(null==n.object?null:n.object.autopsy)),i.yb(1),i.mc("ngIf",null!=(null==n.object?null:n.object.autopsyAuthor)&&""!=(null==n.object?null:n.object.autopsyAuthor)),i.yb(1),i.mc("ngIf",null!=(null==n.object?null:n.object.language)),i.yb(1),i.mc("ngIf",null!=(null==n.object||null==n.object.bodytextpart?null:n.object.bodytextpart.ductus)&&""!=(null==n.object||null==n.object.bodytextpart?null:n.object.bodytextpart.ductus)),i.yb(1),i.mc("ngIf",null!=(null==n.object?null:n.object.wordDivisionType)&&""!=(null==n.object?null:n.object.wordDivisionType)),i.yb(1),i.mc("ngIf",null!=(null==n.object?null:n.object.writingSystem)&&""!=(null==n.object?null:n.object.writingSystem))}}var aP,sP,cP=((aP=function(){function e(t){_classCallCheck(this,e),this.documentService=t}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(e){console.log(e),null!=e.metadataData.currentValue?(this.object=e.metadataData.currentValue,e.metadataData.currentValue!=this.object&&(this.object=null),this.object=e.metadataData.currentValue):(this.object=null,this.documentService.triggerMetadataPanel(!1))}},{key:"isArray",value:function(e){return Array.isArray(e)}},{key:"isNumber",value:function(e){return"number"==typeof e}},{key:"isObject",value:function(e){return"object"==typeof e&&!Array.isArray(e)}},{key:"isLink",value:function(e){return e.match(/((http|https):\/\/)(([\w.-]*)\.([\w]*))/)}}]),e}()).\u0275fac=function(e){return new(e||aP)(i.Lb(ap))},aP.\u0275cmp=i.Fb({type:aP,selectors:[["app-metadata-panel"]],inputs:{metadataData:"metadataData"},features:[i.wb],decls:10,vars:2,consts:[[1,"card"],["id","metadataHeading",1,"card-header"],[1,"mb-0"],["data-toggle","collapse","data-target","#metadataCollapse","aria-expanded","true","aria-controls","metadataCollapse",1,"btn","btn-link","w-100","d-flex","align-self-center","collapsed"],[1,"fa","ml-auto"],["id","metadataCollapse","aria-labelledby","metadataHeading",1,"collapse"],[1,"card-body"],["class","nav nav-tabs","id","myTab","role","tablist",4,"ngIf"],["class","tab-content","id","myTabContent",4,"ngIf"],["id","myTab","role","tablist",1,"nav","nav-tabs"],[1,"nav-item"],["id","edition-tab","data-toggle","tab","href","#edition","role","tab","aria-controls","edition","aria-selected","true",1,"nav-link","active"],["id","epigraphy-tab","data-toggle","tab","href","#epigraphy_metadata","role","tab","aria-controls","epigraphy_metadata","aria-selected","false",1,"nav-link"],["id","other-tab","data-toggle","tab","href","#other_metadata","role","tab","aria-controls","other_metadata","aria-selected","false",1,"nav-link"],["id","myTabContent",1,"tab-content"],["id","edition","role","tabpanel","aria-labelledby","file-tab",1,"tab-pane","fade","show","active"],[1,"card","epi_body"],[1,"text-id"],[1,"container"],["class","row",4,"ngIf"],["id","epigraphy_metadata","role","tabpanel","aria-labelledby","epigraphy-tab",1,"tab-pane","fade"],["id","other_metadata","role","tabpanel","aria-labelledby","other-tab",1,"tab-pane","fade"],[1,"row"],[1,"col-xl-4","col-lg-12","p-1"],[1,"col-xl-8","col-lg-12","p-1"],["class","col-12 p-0",4,"ngFor","ngForOf"],[1,"col-12","p-0"],["target","_blank",3,"href",4,"ngIf"],[4,"ngIf"],["target","_blank",3,"href"],["class","m-0",4,"ngFor","ngForOf"],[1,"m-0"],[4,"ngFor","ngForOf"],[1,"text-italic"]],template:function(e,t){1&e&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Rb(2,"h5",2),i.Rb(3,"a",3),i.Kc(4," Metadata Panel"),i.Mb(5,"i",4),i.Qb(),i.Qb(),i.Qb(),i.Rb(6,"div",5),i.Rb(7,"div",6),i.Ic(8,tM,10,0,"ul",7),i.Ic(9,rP,53,34,"div",8),i.Qb(),i.Qb(),i.Qb()),2&e&&(i.yb(8),i.mc("ngIf",null!=t.object),i.yb(1),i.mc("ngIf",null!=t.object))},directives:[a.n,a.m],pipes:[a.h],styles:['@charset "UTF-8";.btn[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{font-size:12px}.card-header[_ngcontent-%COMP%]{padding:0}[data-toggle=collapse][_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"\uf146"}[data-toggle=collapse].collapsed[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"\uf0fe"}a[_ngcontent-%COMP%]{text-decoration:none!important}.fa[_ngcontent-%COMP%]{margin-top:2px}.epi_body[_ngcontent-%COMP%], .file_body[_ngcontent-%COMP%]{margin-top:20px;padding-top:20px}.epi_body[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%], .file_body[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{min-height:21rem;max-height:21rem;overflow:auto}.text-id[_ngcontent-%COMP%]{position:absolute;left:10px;top:-12px;background:#fff;text-align:center;color:#212529;padding:5px 10px;font-size:12px}.edit-icon[_ngcontent-%COMP%]{right:28px}.edit-icon[_ngcontent-%COMP%], .trash-icon[_ngcontent-%COMP%]{position:absolute;top:-16px;background:#fff;text-align:center;color:#212529;padding:5px;font-size:16px}.trash-icon[_ngcontent-%COMP%]{right:4px}.badge[_ngcontent-%COMP%]{font-size:11px}.pointer[_ngcontent-%COMP%]{word-break:break-all;cursor:pointer}table[_ngcontent-%COMP%]{table-layout:fixed!important}']}),aP),lP=["accordion"],uP=((sP=function(){function e(t,n,i){_classCallCheck(this,e),this.documentService=t,this.lexicalService=n,this.biblioService=i,this.notes="",this.link=[],this.bibliography=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.lexicalService.triggerNotePanel$.subscribe(function(t){setTimeout(function(){if(null!=t)if(t){var n=e.accordion.nativeElement.querySelectorAll('a[data-target="#noteCollapse"]'),i=e.accordion.nativeElement.querySelectorAll('div[aria-labelledby="noteHeading"]'),o=e.accordion.nativeElement.querySelectorAll('[id^="collapse-"]');n.forEach(function(e){e.classList.contains("collapsed")&&e.classList.remove("collapsed")}),i.forEach(function(e){e.classList.contains("show")||e.classList.add("show")}),o.forEach(function(e){e==o[o.length-1]?e.classList.add("show"):e.classList.remove("show")})}else setTimeout(function(){e.accordion.nativeElement.querySelectorAll('a[data-target="#noteCollapse"]').forEach(function(e){e.classList.add("collapsed")}),e.accordion.nativeElement.querySelectorAll('div[aria-labelledby="noteHeading"]').forEach(function(e){console.log(e),e.classList.contains("show")&&e.classList.remove("show")})},100)},100)}),this.lexicalService.triggerAttestationPanel$.subscribe(function(t){setTimeout(function(){if(null!=t)if(t){var n=e.accordion.nativeElement.querySelectorAll('a[data-target="#attestationCollapse"]'),i=e.accordion.nativeElement.querySelectorAll('div[aria-labelledby="attestationHeading"]');e.accordion.nativeElement.querySelectorAll('[id^="collapse-"'),n.forEach(function(e){e.classList.contains("collapsed")&&e.classList.remove("collapsed")}),i.forEach(function(e){e.classList.contains("show")||e.classList.add("show")})}else setTimeout(function(){e.accordion.nativeElement.querySelectorAll('a[data-target="#attestationCollapse"]').forEach(function(e){e.classList.add("collapsed")}),e.accordion.nativeElement.querySelectorAll('div[aria-labelledby="attestationHeading"]').forEach(function(e){e.classList.contains("show")&&e.classList.remove("show")})},100)},100)}),this.biblioService.triggerPanel$.subscribe(function(t){if(null!=t){var n=e.accordion.nativeElement.querySelectorAll('a[data-target="#bibliographyCollapse"]'),i=e.accordion.nativeElement.querySelectorAll('div[aria-labelledby="bibliographyHeading"]'),o=e.accordion.nativeElement.querySelectorAll('[id^="collapse-"');n.forEach(function(e){e.classList.contains("collapsed")&&e.classList.remove("collapsed")}),i.forEach(function(e){e.classList.contains("show")||e.classList.add("show")}),o.forEach(function(e){e==o[o.length-1]?e.classList.add("show"):e.classList.remove("show")})}}),this.lexicalService.attestationPanelData$.subscribe(function(t){e.attestation=null!=t?Array.isArray(t)?t:[t]:null}),this.documentService.metadataData$.subscribe(function(t){console.log(t),e.metadata=null!=t?t:null}),this.metadata_subscr=this.documentService.triggerMetadataPanel$.subscribe(function(t){setTimeout(function(){if(console.log(t),null!=t)if(t){var n=e.accordion.nativeElement.querySelectorAll('a[data-target="#metadataCollapse"]'),i=e.accordion.nativeElement.querySelectorAll('div[aria-labelledby="metadataHeading"]'),o=e.accordion.nativeElement.querySelectorAll('[id^="collapse-"');n.forEach(function(e){e.classList.contains("collapsed")&&e.classList.remove("collapsed")}),i.forEach(function(e){e.classList.contains("show")||e.classList.add("show")}),o.forEach(function(e){e==o[o.length-1]?e.classList.add("show"):e.classList.remove("show")})}else setTimeout(function(){e.accordion.nativeElement.querySelectorAll('a[data-target="#metadataCollapse"]').forEach(function(e){e.classList.add("collapsed")}),e.accordion.nativeElement.querySelectorAll('div[aria-labelledby="metadataHeading"]').forEach(function(e){e.classList.contains("show")&&e.classList.remove("show")})},100)},100)}),this.lexicalService.rightPanelData$.subscribe(function(t){e.object=t,null!=e.object?null!=e.object.etymology?(e.notes=e.object.etymology,e.link=e.object.etymology,e.bibliography=e.object.etymology):(e.notes=e.object,e.link=e.object,e.bibliography=e.object):(e.notes=null,e.link=null,e.bibliography=null)})}},{key:"ngOnDestroy",value:function(){this.metadata_subscr.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||sP)(i.Lb(ap),i.Lb(sp.a),i.Lb(cp))},sP.\u0275cmp=i.Fb({type:sP,selectors:[["app-lexicon-page"]],viewQuery:function(e,t){var n;1&e&&i.Pc(lP,!0),2&e&&i.uc(n=i.cc())&&(t.accordion=n.first)},decls:13,vars:5,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-9"],[1,"col-md-3"],[1,"container-fluid","p-1"],["id","accordion"],["accordion",""],[3,"noteData"],[3,"linkData"],["id","bibliographyPanel",3,"biblioData"],[3,"attestationData"],[3,"metadataData"]],template:function(e,t){1&e&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Rb(2,"div",2),i.Mb(3,"app-lexicon-panel"),i.Qb(),i.Rb(4,"div",3),i.Rb(5,"div",4),i.Rb(6,"div",5,6),i.Mb(8,"app-note-panel",7),i.Mb(9,"app-link-panel",8),i.Mb(10,"app-bibliography-panel",9),i.Mb(11,"app-attestation-panel",10),i.Mb(12,"app-metadata-panel",11),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb()),2&e&&(i.yb(8),i.mc("noteData",t.notes),i.yb(1),i.mc("linkData",t.link),i.yb(1),i.mc("biblioData",t.bibliography),i.yb(1),i.mc("attestationData",t.attestation),i.yb(1),i.mc("metadataData",t.metadata))},directives:[vx,Cx,kx.a,Ax,eM,cP],styles:[".col-md-3[_ngcontent-%COMP%]{padding-left:0;padding-right:0}#accordion[_ngcontent-%COMP%]{max-height:calc(100vh - 4rem);overflow-y:auto;overflow-x:hidden}"]}),sP);function fP(e,t){return function(n){var i=n.controls[t];i.errors&&!i.errors.confirmedValidator||i.setErrors(n.controls[e].value!==i.value?{confirmedValidator:!0}:null)}}var dP=["user_list"],hP=["button_create"];function pP(e,t){1&e&&i.Mb(0,"i",51)}function bP(e,t){1&e&&i.Mb(0,"i",52)}function gP(e,t){if(1&e&&(i.Rb(0,"span",47),i.Rb(1,"div",48),i.Ic(2,pP,1,0,"i",49),i.Ic(3,bP,1,0,"i",50),i.Qb(),i.Qb()),2&e){var n=i.fc().$implicit;i.yb(2),i.mc("ngIf",n.ADMIN),i.yb(1),i.mc("ngIf",n.USER)}}function mP(e,t){if(1&e){var n=i.Sb();i.Rb(0,"a",45),i.bc("click",function(){i.zc(n);var e=t.$implicit;return i.fc().userDetail(e.id)}),i.Kc(1),i.Ic(2,gP,4,2,"span",46),i.Qb()}if(2&e){var o=t.$implicit;i.yb(1),i.Mc(" ",o.username," "),i.yb(1),i.mc("ngIf",null!=o.haveRoles)}}function vP(e,t){1&e&&(i.Rb(0,"div",23),i.Rb(1,"label",24),i.Kc(2,"ID:"),i.Qb(),i.Rb(3,"div",25),i.Mb(4,"input",53),i.Qb(),i.Qb())}function yP(e,t){1&e&&i.Mb(0,"input",54)}function _P(e,t){1&e&&i.Mb(0,"input",55)}function CP(e,t){1&e&&(i.Rb(0,"div",56),i.Kc(1," Please insert at least 4 characters "),i.Qb())}function kP(e,t){1&e&&(i.Rb(0,"div",56),i.Kc(1," Please, insert a valid email address. "),i.Qb())}function OP(e,t){1&e&&(i.Rb(0,"div",56),i.Kc(1," Please, insert at least 8 characters. "),i.Qb())}function xP(e,t){1&e&&(i.Rb(0,"div",56),i.Kc(1," Password not matching. "),i.Qb())}function wP(e,t){if(1&e&&(i.Rb(0,"ng-option",57),i.Kc(1),i.Qb()),2&e){var n=t.$implicit;i.mc("value",n.name),i.yb(1),i.Lc(n.name)}}function MP(e,t){if(1&e){var n=i.Sb();i.Rb(0,"button",58),i.bc("click",function(){i.zc(n);var e=i.fc(),t=i.vc(81);return e.open(t)}),i.Kc(1,"Delete User"),i.Qb()}}function PP(e,t){if(1&e){var n=i.Sb();i.Rb(0,"button",59),i.bc("click",function(){return i.zc(n),i.fc().registerUser()}),i.Mb(1,"i",60),i.Kc(2," Register "),i.Qb()}if(2&e){var o=i.fc();i.mc("disabled",o.userDetailForm.invalid||o.userDetailForm.pristine)}}function EP(e,t){if(1&e){var n=i.Sb();i.Rb(0,"button",59),i.bc("click",function(){return i.zc(n),i.fc().updateUser()}),i.Mb(1,"i",60),i.Kc(2," Update "),i.Qb()}if(2&e){var o=i.fc();i.mc("disabled",o.userDetailForm.invalid||o.userDetailForm.pristine)}}function SP(e,t){if(1&e){var n=i.Sb();i.Rb(0,"div",61),i.Rb(1,"h4",62),i.Kc(2,"Wizard"),i.Qb(),i.Rb(3,"button",63),i.bc("click",function(){return t.$implicit.dismiss("Cross click")}),i.Rb(4,"span",64),i.Kc(5,"\xd7"),i.Qb(),i.Qb(),i.Qb(),i.Rb(6,"div",65),i.Kc(7," Are you sure to delete this user? "),i.Qb(),i.Rb(8,"div",66),i.Rb(9,"button",67),i.Kc(10,"No"),i.Qb(),i.Rb(11,"button",68),i.bc("click",function(){return i.zc(n),i.fc().deleteUser()}),i.Kc(12,"Yes"),i.Qb(),i.Qb()}}var RP,IP,AP,TP,DP,jP=((AP=function(){function e(t,n,i,o,r){_classCallCheck(this,e),this.httpClient=t,this.auth=n,this.formBuilder=i,this.modalService=o,this.keycloakService=r,this.message="",this.users=[],this.isPopulated=!1,this.creationRequest=!1,this.itsMe=null,this.selectedRoles=[],this.filterSelectedRoles=[],this.roles=[],this.userDetailForm=new vs.h({id:new vs.f(null),username:new vs.f(null,vs.x.required),email:new vs.f(null,vs.x.required),password:new vs.f(null),repeat_password:new vs.f(null),roles:new vs.c([]),enabled:new vs.f(null,vs.x.required)}),this.search_subject=new wc.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.userDetailForm=this.formBuilder.group({id:new vs.f(null),username:new vs.f(null,[vs.x.required,vs.x.minLength(3)]),email:new vs.f(null,[vs.x.required,vs.x.minLength(3),vs.x.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]),password:new vs.f(null,[vs.x.required,vs.x.minLength(8)]),repeat_password:new vs.f(null,[vs.x.required]),roles:[],enabled:new vs.f(!1,[vs.x.required])},{validator:fP("password","repeat_password")}),this.auth.getClientsInfo().subscribe(function(t){null!=t&&Array.isArray(t)&&t.forEach(function(t){"princlient"==t.clientId&&(e.idClient=t.id)})},function(e){console.log(e)});var t=setInterval(function(n){try{null!=e.idClient?(e.auth.getAllClientsRoles(e.idClient).subscribe(function(t){var n=[];t.forEach(function(e,t){e.name.toUpperCase()==e.name&&n.push({name:e.name,id:e.id})}),console.log(n),n.forEach(function(t,n){e.roles.push({id:n,name:t.name,role_id:t.id})}),e.getUsersByRole(n)},function(e){console.log(e)}),clearInterval(t)):clearInterval(t)}catch(i){console.log(i)}},500);this.auth.searchUser().subscribe(function(t){null!=t&&Array.from(t).forEach(function(t){null!=t.username&&"prinadmin"!=t.username&&e.users.push(t)})},function(e){console.log(e)}),this.search_subject.pipe(Object(ou.a)(1e3)).subscribe(function(t){e.searchUsers(t)})}},{key:"ngOnChanges",value:function(e){console.log(e)}},{key:"getUsersByRole",value:function(e){var t=this;e.forEach(function(e){t.auth.getUsersByRole(t.idClient,e.name).subscribe(function(n){n.forEach(function(n){t.users.filter(function(t){t.id==n.id&&(t[e.name]=!0,t.haveRoles=!0)})})},function(e){console.log(e)})})}},{key:"searchUsers",value:function(e){var t=this;this.auth.searchUser(e).subscribe(function(e){t.users=e;var n=[];t.roles.forEach(function(e){n.push(e.name)}),t.getUsersByRole(n)},function(e){console.log(e)})}},{key:"triggerSearch",value:function(e){null!=e&&this.search_subject.next(e.target.value)}},{key:"userDetail",value:function(e){var t=this;null!=e&&(this.selected_idUser=e,this.button_create.nativeElement.classList.remove("active"),this.auth.getUserInfo(e).subscribe(function(e){t.auth.getUserRoles(t.selected_idUser,t.idClient).subscribe(function(n){if(null!=n&&Array.isArray(n)){var i=n.filter(function(e){return e.name.toUpperCase()===e.name}),o=e.id,r=e.username,a=i.map(function(e){return e.name}),s=e.enabled,c=e.email;console.log("RUOLI",a),t.populateForm(o,r,c,a,s)}},function(e){console.log(e)})},function(e){console.log(e)}))}},{key:"populateForm",value:function(e,t,n,i,o){var r=this;this.userDetailForm=this.formBuilder.group({id:new vs.f(e),username:new vs.f(t,[vs.x.required,vs.x.minLength(3)]),email:new vs.f(n,[vs.x.required,vs.x.minLength(3),vs.x.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]),password:new vs.f(null),repeat_password:new vs.f(null),roles:[],enabled:new vs.f(o,[vs.x.required])},{validator:fP("password","repeat_password")}),this.selectedRoles=i,this.creationRequest=!1,this.isPopulated=!0,setTimeout(function(){r.initialValue=r.userDetailForm.value},500),this.itsMe=this.auth.getLoggedUser().sub==this.selected_idUser}},{key:"markAsTouched",value:function(){this.userDetailForm.markAsTouched()}},{key:"updateUser",value:function(){var e=this;if(this.userDetailForm.valid&&JSON.stringify(this.initialValue)!=JSON.stringify(this.userDetailForm.value)){var t={enabled:this.userDetailForm.get("enabled").value,email:this.userDetailForm.get("email").value,username:this.userDetailForm.get("username").value};console.log(t),this.auth.updateUser(this.selected_idUser,t).subscribe(function(t){if(console.log(t),JSON.stringify(e.initialValue.roles)!=JSON.stringify(e.userDetailForm.get("roles").value)){var n=e.initialValue.roles,i=e.userDetailForm.get("roles").value,o=i.filter(function(e){return!n.includes(e)}),r=n.filter(function(e){return!i.includes(e)});console.log(o,r),0!=o.length?o.forEach(function(t){var n=[],i={};e.roles.forEach(function(o){t==o.name&&(i={id:o.role_id,name:o.name},n.push(i),console.log(n),e.auth.assignRolesToUser(e.selected_idUser,e.idClient,n).subscribe(function(t){console.log(t),e.users.forEach(function(t){t.id==e.selected_idUser&&(t[i.name]=!0,t.haveRoles=!0)}),e.userDetail(e.selected_idUser)},function(e){console.log(e)}),n=[])})}):0!=r.length&&r.forEach(function(t){var n=[],i={};e.roles.forEach(function(o){t==o.name&&(i={id:o.role_id,name:o.name},n.push(i),console.log(n),e.auth.deleteRolesToUser(e.selected_idUser,e.idClient,n).subscribe(function(t){console.log(t),e.users.forEach(function(t){t.id==e.selected_idUser&&(t[i.name]=!1,t.haveRoles=!1)}),e.userDetail(e.selected_idUser)},function(e){console.log(e)}),n=[])})})}},function(e){console.log(e)})}else alert("No update. There are same info")}},{key:"registerUser",value:function(){var e=this;if(console.log(this.userDetailForm),this.userDetailForm.valid){var t={enabled:this.userDetailForm.get("enabled").value,email:this.userDetailForm.get("email").value,username:this.userDetailForm.get("username").value,credentials:[{type:"password",value:this.userDetailForm.get("password").value,temporary:!1}]};console.log(t),this.auth.createUser(t).subscribe(function(t){console.log(t),e.auth.getUserByUsername(e.userDetailForm.get("username").value).subscribe(function(t){console.log(t),null!=t&&(e.cleanActiveLinks(),t.forEach(function(t){e.selectedRoles.length>0&&e.selectedRoles.forEach(function(n){var i=[],o={};e.roles.forEach(function(e){n==e.name&&(o={id:e.role_id,name:e.name},i.push(o))}),console.log(i),e.auth.assignRolesToUser(t.id,e.idClient,i).subscribe(function(n){console.log(n),e.users.forEach(function(e){e.id==t.id&&(e[o.name]=!0,e.haveRoles=!0)})},function(e){console.log(e)})}),e.users.push(t),e.userDetail(t.id),setTimeout(function(){e.activeNewUserLink(e.userDetailForm.get("username").value)},100)}))},function(e){console.log(e)})},function(e){console.log(e)})}}},{key:"resetForm",value:function(){this.userDetailForm.reset(),this.userDetailForm.markAsUntouched(),this.userDetailForm.markAsPristine()}},{key:"deleteUser",value:function(){var e=this;console.log(this.selected_idUser),this.auth.deleteUser(this.selected_idUser).subscribe(function(t){console.log(t);var n=e.users.filter(function(t){return t.id!=e.selected_idUser});e.users=n,e.cleanActiveLinks(),e.userDetailForm.reset(),e.isPopulated=!1,e.creationRequest=!1,e.modalRef.close()},function(e){console.log(e)})}},{key:"createNewUser",value:function(){this.cleanActiveLinks(),this.selected_idUser=null,this.temporaryId=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=t.length,i=0;i<9;i++)e+=t.charAt(Math.floor(Math.random()*n));e+="-";for(var o=0;o<5;o++)e+=t.charAt(Math.floor(Math.random()*n));e+="-";for(var r=0;r<5;r++)e+=t.charAt(Math.floor(Math.random()*n));e+="-";for(var a=0;a<13;a++)e+=t.charAt(Math.floor(Math.random()*n));return e}(),this.userDetailForm=this.formBuilder.group({id:new vs.f(this.temporaryId),username:new vs.f(null,[vs.x.required,vs.x.minLength(3)]),email:new vs.f(null,[vs.x.required,vs.x.minLength(3),vs.x.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]),password:new vs.f(null,[vs.x.required,vs.x.minLength(8)]),repeat_password:new vs.f(null,[vs.x.required]),roles:[],enabled:new vs.f(!1,[vs.x.required])},{validator:fP("password","repeat_password")}),this.creationRequest=!0,this.isPopulated=!0,this.selectedRoles=[],this.itsMe=!1}},{key:"cleanActiveLinks",value:function(){this.user_list.nativeElement.querySelectorAll("a").forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")})}},{key:"activeNewUserLink",value:function(e){this.user_list.nativeElement.querySelectorAll("a").forEach(function(t){t.innerText==e&&t.classList.add("active")})}},{key:"findInvalidControls",value:function(){var e=[],t=this.userDetailForm.controls;for(var n in t)t[n].invalid&&e.push(n);return e}},{key:"open",value:function(e){this.modalRef=this.modalService.open(e)}}]),e}()).\u0275fac=function(e){return new(e||AP)(i.Lb(Ys.b),i.Lb(Kg.a),i.Lb(vs.e),i.Lb(Hg.a),i.Lb(Ru.d))},AP.\u0275cmp=i.Fb({type:AP,selectors:[["app-profiles-table"]],viewQuery:function(e,t){var n;1&e&&(i.Pc(dP,!0),i.Pc(hP,!0)),2&e&&(i.uc(n=i.cc())&&(t.user_list=n.first),i.uc(n=i.cc())&&(t.button_create=n.first))},inputs:{isNotTheSameId:"isNotTheSameId"},features:[i.wb],decls:82,vars:20,consts:[[1,"row","h-100"],[1,"col-lg-3","pb-3"],[1,"card","h-100"],[1,"card-header","d-flex","justify-content-between"],[1,"d-flex","align-items-center"],["type","button","data-toggle","list","href","#user-detail","role","tab","aria-controls","home",1,"btn","btn-primary","btn-sm",3,"click"],["button_create",""],[1,"fas","fa-plus-square"],[1,"card-body"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text","bg-transparent","border-right-0"],[1,"fa","fa-search"],["type","text","id","example-search-input",1,"form-control","py-2","border-left-0","border",3,"keyup"],["id","list-tab","role","tablist",1,"list-group","mt-2","user-list"],["user_list",""],["class","list-group-item list-group-item-action d-flex justify-content-between align-items-center","id","users-list","data-toggle","list","href","#user-detail","role","tab","aria-controls","home",3,"click",4,"ngFor","ngForOf"],[1,"card-footer","text-muted"],[1,"col-lg-9","pb-3",3,"hidden"],["id","nav-tabContent",1,"tab-content","h-100"],["id","user-detail","role","tabpanel","aria-labelledby","users-list",1,"tab-pane","fade","h-100"],[1,"h-100","d-flex","flex-column",3,"formGroup"],["class","form-group row ml-2 mt-3 mr-2",4,"ngIf"],[1,"form-group","row","ml-2","mt-3","mr-2"],["for","inputLabel",1,"col-lg-3","col-form-label"],[1,"input-group","col-lg-9"],["id","username","formControlName","username","name","username","type","text","class","form-control","placeholder","","disabled","",4,"ngIf"],["id","username","formControlName","username","name","username","type","text","class","form-control","placeholder","",4,"ngIf"],["class","invalid-feedback","style","display: block;",4,"ngIf"],["id","email","formControlName","email","name","email","type","text","placeholder","",1,"form-control"],["id","password","formControlName","password","name","password","type","password","placeholder","",1,"form-control"],["id","repeat_password","formControlName","repeat_password","name","repeat_password","type","password","placeholder","",1,"form-control"],["formControlName","roles",3,"multiple","ngModel","change","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"custom-control","custom-switch","col-lg-9",2,"padding-left","3.25rem !important"],["type","checkbox","id","customSwitch1","formControlName","enabled","name","enabled",1,"custom-control-input"],["for","customSwitch1",1,"custom-control-label"],[1,"form-group","row","ml-2","mt-auto","mr-2"],[1,"col-lg-3"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],[1,"card-footer","text-muted","d-flex","justify-content-end"],["class","btn btn-primary mr-2",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"disabled","click"],[1,"fas","fa-times"],["deleteModal",""],["id","users-list","data-toggle","list","href","#user-detail","role","tab","aria-controls","home",1,"list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center",3,"click"],["class","badge badge-primary badge-pill",4,"ngIf"],[1,"badge","badge-primary","badge-pill"],[1,"d-flex","justify-content-between","align-items-center"],["class","fas fa-crown m-2",4,"ngIf"],["class","fas fa-user m-2",4,"ngIf"],[1,"fas","fa-crown","m-2"],[1,"fas","fa-user","m-2"],["id","id","formControlName","id","name","id","type","text","placeholder","","disabled","",1,"form-control"],["id","username","formControlName","username","name","username","type","text","placeholder","","disabled","",1,"form-control"],["id","username","formControlName","username","name","username","type","text","placeholder","",1,"form-control"],[1,"invalid-feedback",2,"display","block"],[3,"value"],["type","button",1,"btn","btn-danger",3,"click"],[1,"btn","btn-primary","mr-2",3,"disabled","click"],[1,"fas","fa-save"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,t){1&e&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Rb(2,"div",2),i.Rb(3,"div",3),i.Rb(4,"div",4),i.Kc(5," Users "),i.Qb(),i.Rb(6,"button",5,6),i.bc("click",function(){return t.createNewUser()}),i.Mb(8,"i",7),i.Kc(9," Create"),i.Qb(),i.Qb(),i.Rb(10,"div",8),i.Rb(11,"div",9),i.Rb(12,"span",10),i.Rb(13,"div",11),i.Mb(14,"i",12),i.Qb(),i.Qb(),i.Rb(15,"input",13),i.bc("keyup",function(e){return t.triggerSearch(e)}),i.Qb(),i.Qb(),i.Rb(16,"div",14,15),i.Ic(18,mP,3,2,"a",16),i.Qb(),i.Qb(),i.Rb(19,"div",17),i.Kc(20," 2 days ago "),i.Qb(),i.Qb(),i.Qb(),i.Rb(21,"div",18),i.Rb(22,"div",2),i.Rb(23,"div",3),i.Rb(24,"div",4),i.Kc(25," User details "),i.Qb(),i.Qb(),i.Rb(26,"div",8),i.Rb(27,"div",19),i.Rb(28,"div",20),i.Rb(29,"form",21),i.Ic(30,vP,5,0,"div",22),i.Rb(31,"div",23),i.Rb(32,"label",24),i.Kc(33,"Username:"),i.Qb(),i.Rb(34,"div",25),i.Ic(35,yP,1,0,"input",26),i.Ic(36,_P,1,0,"input",27),i.Ic(37,CP,2,0,"div",28),i.Qb(),i.Qb(),i.Rb(38,"div",23),i.Rb(39,"label",24),i.Kc(40,"Email:"),i.Qb(),i.Rb(41,"div",25),i.Mb(42,"input",29),i.Ic(43,kP,2,0,"div",28),i.Qb(),i.Qb(),i.Rb(44,"div",23),i.Rb(45,"label",24),i.Kc(46,"Password:"),i.Qb(),i.Rb(47,"div",25),i.Mb(48,"input",30),i.Ic(49,OP,2,0,"div",28),i.Qb(),i.Qb(),i.Rb(50,"div",23),i.Rb(51,"label",24),i.Kc(52,"Repeat password:"),i.Qb(),i.Rb(53,"div",25),i.Mb(54,"input",31),i.Ic(55,xP,2,0,"div",28),i.Qb(),i.Qb(),i.Rb(56,"div",23),i.Rb(57,"label",24),i.Kc(58,"Roles:"),i.Qb(),i.Rb(59,"div",25),i.Rb(60,"ng-select",32),i.bc("change",function(){return t.markAsTouched()})("ngModelChange",function(e){return t.selectedRoles=e}),i.Ic(61,wP,2,2,"ng-option",33),i.Qb(),i.Qb(),i.Qb(),i.Rb(62,"div",23),i.Rb(63,"label",24),i.Kc(64,"Enabled:"),i.Qb(),i.Rb(65,"div",34),i.Mb(66,"input",35),i.Mb(67,"label",36),i.Qb(),i.Qb(),i.Rb(68,"div",37),i.Rb(69,"div",38),i.Ic(70,MP,2,0,"button",39),i.Qb(),i.Qb(),i.Rb(71,"div"),i.Kc(72),i.gc(73,"json"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(74,"div",40),i.Ic(75,PP,3,1,"button",41),i.Ic(76,EP,3,1,"button",41),i.Rb(77,"button",42),i.bc("click",function(){return t.resetForm()}),i.Mb(78,"i",43),i.Kc(79," Cancel"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Ic(80,SP,13,0,"ng-template",null,44,i.Jc)),2&e&&(i.yb(18),i.mc("ngForOf",t.users),i.yb(3),i.mc("hidden",!t.isPopulated),i.yb(8),i.mc("formGroup",t.userDetailForm),i.yb(1),i.mc("ngIf",!t.creationRequest),i.yb(5),i.mc("ngIf",!t.creationRequest),i.yb(1),i.mc("ngIf",t.creationRequest),i.yb(1),i.mc("ngIf",t.userDetailForm.get("username").invalid),i.yb(6),i.mc("ngIf",t.userDetailForm.get("email").invalid),i.yb(6),i.mc("ngIf",t.userDetailForm.get("password").invalid),i.yb(6),i.mc("ngIf",t.userDetailForm.get("repeat_password").invalid),i.yb(5),i.mc("multiple",!0)("ngModel",t.selectedRoles),i.yb(1),i.mc("ngForOf",t.roles),i.yb(9),i.mc("ngIf",!t.creationRequest&&!t.itsMe),i.yb(2),i.Mc(" ",i.hc(73,18,t.userDetailForm.value)," "),i.yb(3),i.mc("ngIf",t.creationRequest),i.yb(1),i.mc("ngIf",!t.creationRequest),i.yb(1),i.mc("disabled",!t.creationRequest||!t.userDetailForm.touched))},directives:[a.m,vs.z,vs.o,vs.i,a.n,vs.b,vs.n,vs.g,kc.a,vs.a,kc.d],pipes:[a.g],styles:[".user-list[_ngcontent-%COMP%]{overflow:auto;max-height:74vh}"]}),AP),FP=((IP=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||IP)},IP.\u0275cmp=i.Fb({type:IP,selectors:[["app-profile-page"]],decls:4,vars:0,consts:[[1,"container-fluid","profile-page"],[1,"row","h-100"],[1,"col-md-12"]],template:function(e,t){1&e&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Rb(2,"div",2),i.Mb(3,"app-profiles-table"),i.Qb(),i.Qb(),i.Qb())},directives:[jP],styles:[".profile-page[_ngcontent-%COMP%]{height:95vh;padding-top:15px}"]}),IP),QP=((RP=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(){console.warn("Your order has been submitted")}}]),e}()).\u0275fac=function(e){return new(e||RP)},RP.\u0275cmp=i.Fb({type:RP,selectors:[["app-data-search-form"]],decls:197,vars:0,consts:[[1,"h-100","d-flex","flex-column",3,"ngSubmit"],[1,"card"],["id","headingOne",1,"card-header"],[1,"mb-0"],["aria-expanded","true",1,"btn"],["aria-labelledby","headingOne","data-parent","#search-accordion",1,"collapse","show"],[1,"card-body"],[1,"form-row"],[1,"form-group","col-md-8"],["for","fullTextInput"],["type","text","id","fullTextInput","placeholder","",1,"form-control"],["for","selectFullText"],["id","selectFullText",1,"form-control"],["id","search-accordion"],["id","generalDataHeading",1,"card-header"],["data-toggle","collapse","data-target","#generalDataCollapse","aria-expanded","false","aria-controls","generalDataCollapse",1,"btn","btn-link","collapsed"],[1,"fa"],["id","generalDataCollapse","aria-labelledby","generalDataHeading","data-parent","#search-accordion",1,"collapse"],[1,"card-body","form-row"],[1,"form-group","col-md-6"],["for","idText"],["type","text","id","idText","placeholder","",1,"form-control"],["for","titleInput"],["type","text","id","titleInput","placeholder","",1,"form-control"],["for","selectTitle"],["id","selectTitle",1,"form-control"],["id","supportHeading",1,"card-header"],["data-toggle","collapse","data-target","#supportCollapse","aria-expanded","false","aria-controls","supportCollapse",1,"btn","btn-link","collapsed"],["id","supportCollapse","aria-labelledby","supportHeading","data-parent","#search-accordion",1,"collapse"],[1,"row"],["for","inscriptionType"],["id","inscriptionType",1,"form-control"],["for","objectType"],["id","objectType",1,"form-control"],["for","ancientPlaceName"],["type","text","id","ancientPlaceName","placeholder","",1,"form-control"],["for","modernPlaceName"],["type","text","id","modernPlaceName","placeholder","",1,"form-control"],["id","bibliographyHeading",1,"card-header"],["data-toggle","collapse","data-target","#bibliographyCollapse","aria-expanded","false","aria-controls","bibliographyCollapse",1,"btn","btn-link","collapsed"],["id","bibliographyCollapse","aria-labelledby","bibliographyHeading","data-parent","#search-accordion",1,"collapse"],["for","authorSelect"],["id","authorSelect",1,"form-control"],["for","publicationYear"],["type","number","id","publicationYear","placeholder","1900",1,"form-control"],["id","chronologyHeading",1,"card-header"],["data-toggle","collapse","data-target","#chronologyCollapse","aria-expanded","false","aria-controls","chronologyCollapse",1,"btn","btn-link","collapsed"],["id","chronologyCollapse","aria-labelledby","chronologyHeading","data-parent","#search-accordion",1,"collapse"],[1,"form-group"],[1,"form-check"],["type","checkbox","id","intervalDate","onchange","document.getElementById('toDate').disabled = !this.checked;",1,"form-check-input"],["for","intervalDate",1,"form-check-label"],[1,"form-group","mb-2"],["for","fromDate"],["type","number","id","fromDate","placeholder","-100",1,"form-control"],["for","toDate"],["type","number","id","toDate","placeholder","100","disabled","",1,"form-control"],["id","textHeading",1,"card-header"],["data-toggle","collapse","data-target","#textCollapse","aria-expanded","false","aria-controls","textCollapse",1,"btn","btn-link","collapsed"],["id","textCollapse","aria-labelledby","textHeading","data-parent","#search-accordion",1,"collapse"],[1,"form-row","align-items-center"],[1,"col-sm-6","my-1"],["for","searchText",1,"sr-only"],["type","text","id","searchText","placeholder","Cerca nel testo",1,"form-control"],[1,"custom-control","custom-switch","custom-switch-lg"],["type","checkbox","id","transliteratorSwitcher",1,"custom-control-input"],["for","transliteratorSwitcher",1,"custom-control-label"],[1,"col-sm-6","my-2"],["for","editionSelect",1,"sr-only"],["id","editionSelect",1,"form-control"],[1,"col-md-4","col-sm-12"],["for","langSelect"],["id","langSelect",1,"form-control"],["for","alfaSelect"],["id","alfaSelect",1,"form-control"],["for","ducSelect"],["id","ducSelect",1,"form-control"],[1,"h-100","mb-3",2,"border","none"],[1,"h-100"],[1,"form-row","align-items-end","h-100"],[1,"col-sm-2"],[1,"col-sm-4"],["type","reset","value","Reset",1,"btn","btn-danger","btn-block"],[1,"fa","fa-eraser"],["type","submit","value","Submit",1,"btn","btn-primary","btn-block"],[1,"fa","fa-search"]],template:function(e,t){1&e&&(i.Rb(0,"form",0),i.bc("ngSubmit",function(){return t.onSubmit()}),i.Rb(1,"div",1),i.Rb(2,"div",2),i.Rb(3,"h5",3),i.Rb(4,"a",4),i.Kc(5," Ricerca Full-Text "),i.Qb(),i.Qb(),i.Qb(),i.Rb(6,"div",5),i.Rb(7,"div",6),i.Rb(8,"div",7),i.Rb(9,"div",8),i.Rb(10,"label",9),i.Kc(11,"Testo: "),i.Qb(),i.Mb(12,"input",10),i.Qb(),i.Qb(),i.Rb(13,"div",7),i.Rb(14,"div",8),i.Rb(15,"label",11),i.Kc(16,"Cerca le schede che contengono:"),i.Qb(),i.Rb(17,"select",12),i.Rb(18,"option"),i.Kc(19,"Tutte le parole"),i.Qb(),i.Rb(20,"option"),i.Kc(21,"Una qualsiasi delle parole"),i.Qb(),i.Rb(22,"option"),i.Kc(23,"La frase esatta"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(24,"div",13),i.Rb(25,"div",1),i.Rb(26,"div",14),i.Rb(27,"h5",3),i.Rb(28,"a",15),i.Mb(29,"i",16),i.Kc(30,"\xa0Dati generali "),i.Qb(),i.Qb(),i.Qb(),i.Rb(31,"div",17),i.Rb(32,"div",18),i.Rb(33,"div",19),i.Rb(34,"label",20),i.Kc(35,"Identificativo:"),i.Qb(),i.Mb(36,"input",21),i.Qb(),i.Rb(37,"div",19),i.Rb(38,"label",22),i.Kc(39,"Titolo: "),i.Qb(),i.Mb(40,"input",23),i.Qb(),i.Rb(41,"div",8),i.Rb(42,"label",24),i.Kc(43,"Cerca le schede che contengono:"),i.Qb(),i.Rb(44,"select",25),i.Rb(45,"option"),i.Kc(46,"Tutte le parole"),i.Qb(),i.Rb(47,"option"),i.Kc(48,"Una qualsiasi delle parole"),i.Qb(),i.Rb(49,"option"),i.Kc(50,"La frase esatta"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(51,"div",1),i.Rb(52,"div",26),i.Rb(53,"h5",3),i.Rb(54,"a",27),i.Mb(55,"i",16),i.Kc(56,"\xa0Supporto "),i.Qb(),i.Qb(),i.Qb(),i.Rb(57,"div",28),i.Rb(58,"div",6),i.Rb(59,"div",29),i.Rb(60,"div",8),i.Rb(61,"label",30),i.Kc(62,"Tipo di iscrizione: "),i.Qb(),i.Rb(63,"select",31),i.Rb(64,"option"),i.Kc(65,"Funeraria"),i.Qb(),i.Rb(66,"option"),i.Kc(67,"Ode"),i.Qb(),i.Rb(68,"option"),i.Kc(69,"Mercantile"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(70,"div",29),i.Rb(71,"div",8),i.Rb(72,"label",32),i.Kc(73,"Tipo di oggetto: "),i.Qb(),i.Rb(74,"select",33),i.Rb(75,"option"),i.Kc(76,"Marmo"),i.Qb(),i.Rb(77,"option"),i.Kc(78,"Papiro"),i.Qb(),i.Rb(79,"option"),i.Kc(80,"Pietra"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(81,"div",29),i.Rb(82,"div",8),i.Rb(83,"label",34),i.Kc(84,"Luogo di rinvenimento (nome antico): "),i.Qb(),i.Mb(85,"input",35),i.Qb(),i.Qb(),i.Rb(86,"div",29),i.Rb(87,"div",8),i.Rb(88,"label",36),i.Kc(89,"Luogo di rinvenimento (nome moderno): "),i.Qb(),i.Mb(90,"input",37),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(91,"div",1),i.Rb(92,"div",38),i.Rb(93,"h5",3),i.Rb(94,"a",39),i.Mb(95,"i",16),i.Kc(96,"\xa0Bibliografia "),i.Qb(),i.Qb(),i.Qb(),i.Rb(97,"div",40),i.Rb(98,"div",6),i.Rb(99,"div",29),i.Rb(100,"div",8),i.Rb(101,"label",41),i.Kc(102,"Autore: "),i.Qb(),i.Rb(103,"select",42),i.Rb(104,"option"),i.Kc(105,"..."),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(106,"div",29),i.Rb(107,"div",8),i.Rb(108,"label",22),i.Kc(109,"Titolo: "),i.Qb(),i.Mb(110,"input",23),i.Qb(),i.Qb(),i.Rb(111,"div",29),i.Rb(112,"div",8),i.Rb(113,"label",43),i.Kc(114,"Anno pubblicazione:\xa0\xa0\xa0\xa0"),i.Qb(),i.Mb(115,"input",44),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(116,"div",1),i.Rb(117,"div",45),i.Rb(118,"h5",3),i.Rb(119,"a",46),i.Mb(120,"i",16),i.Kc(121,"\xa0Cronologia "),i.Qb(),i.Qb(),i.Qb(),i.Rb(122,"div",47),i.Rb(123,"div",6),i.Rb(124,"div",48),i.Rb(125,"div",49),i.Mb(126,"input",50),i.Rb(127,"label",51),i.Kc(128," Intervallo "),i.Qb(),i.Qb(),i.Qb(),i.Rb(129,"div",52),i.Rb(130,"label",53),i.Kc(131,"Da:\xa0\xa0\xa0\xa0"),i.Qb(),i.Mb(132,"input",54),i.Qb(),i.Rb(133,"div",52),i.Rb(134,"label",55),i.Kc(135,"A:\xa0\xa0\xa0\xa0"),i.Qb(),i.Mb(136,"input",56),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(137,"div",1),i.Rb(138,"div",57),i.Rb(139,"h5",3),i.Rb(140,"a",58),i.Mb(141,"i",16),i.Kc(142,"\xa0Testo "),i.Qb(),i.Qb(),i.Qb(),i.Rb(143,"div",59),i.Rb(144,"div",6),i.Rb(145,"div",60),i.Rb(146,"div",61),i.Rb(147,"label",62),i.Kc(148,"Testo:"),i.Qb(),i.Mb(149,"input",63),i.Qb(),i.Rb(150,"div",61),i.Rb(151,"div",64),i.Mb(152,"input",65),i.Rb(153,"label",66),i.Kc(154,"Greek char"),i.Qb(),i.Qb(),i.Qb(),i.Rb(155,"div",67),i.Rb(156,"label",68),i.Kc(157,"Example select"),i.Qb(),i.Rb(158,"select",69),i.Rb(159,"option"),i.Kc(160,"Diplomatica"),i.Qb(),i.Rb(161,"option"),i.Kc(162,"Interpretativa"),i.Qb(),i.Rb(163,"option"),i.Kc(164,"Entrambe"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(165,"div",60),i.Rb(166,"div",70),i.Rb(167,"label",71),i.Kc(168,"Lingua"),i.Qb(),i.Rb(169,"select",72),i.Rb(170,"option"),i.Kc(171,"..."),i.Qb(),i.Qb(),i.Qb(),i.Rb(172,"div",70),i.Rb(173,"label",73),i.Kc(174,"Alfabeto"),i.Qb(),i.Rb(175,"select",74),i.Rb(176,"option"),i.Kc(177,"..."),i.Qb(),i.Qb(),i.Qb(),i.Rb(178,"div",70),i.Rb(179,"label",75),i.Kc(180,"Ductus"),i.Qb(),i.Rb(181,"select",76),i.Rb(182,"option"),i.Kc(183,"..."),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(184,"div",77),i.Rb(185,"div",78),i.Rb(186,"div",79),i.Mb(187,"div",80),i.Rb(188,"div",81),i.Rb(189,"button",82),i.Mb(190,"i",83),i.Kc(191," Reset"),i.Qb(),i.Qb(),i.Rb(192,"div",81),i.Rb(193,"button",84),i.Mb(194,"i",85),i.Kc(195," Cerca"),i.Qb(),i.Qb(),i.Mb(196,"div",80),i.Qb(),i.Qb(),i.Qb(),i.Qb())},directives:[vs.z,vs.o,vs.p,vs.r,vs.y],styles:['@charset "UTF-8";[data-toggle=collapse][_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"\uf146"}[data-toggle=collapse].collapsed[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"\uf0fe"}.card-header[_ngcontent-%COMP%]{border-bottom:0}.btn[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{font-size:12px}.card-body[_ngcontent-%COMP%]{max-height:25vh;overflow-y:auto}.custom-control-label[_ngcontent-%COMP%]:before{top:0}.custom-switch[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]:after{top:calc(.25rem + -2px)}']}),RP),LP=[{path:"",redirectTo:"lexicon",pathMatch:"full"},{path:"lexicon",component:uP,canActivate:[rp],data:{roles:["USER"]}},{path:"user",component:FP,canActivate:[rp],data:{roles:["ADMIN"]}},{path:"search",component:(TP=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),TP.\u0275fac=function(e){return new(e||TP)},TP.\u0275cmp=i.Fb({type:TP,selectors:[["app-search-page"]],decls:6,vars:0,consts:[[1,"container-fluid"],[1,"row","justify-content-center"],[1,"col-md-3","d-flex"],[1,"w-100"],[1,"col-md-9"]],template:function(e,t){1&e&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Rb(2,"div",2),i.Mb(3,"br"),i.Mb(4,"app-data-search-form",3),i.Qb(),i.Mb(5,"div",4),i.Qb(),i.Qb())},directives:[QP],styles:[".col-md-3[_ngcontent-%COMP%]{height:95vh;max-height:95vh;padding:0}"]}),TP)},{path:"**",component:uP}],NP=((DP=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:DP}),DP.\u0275inj=i.Ib({factory:function(e){return new(e||DP)},imports:[[Hh.forRoot(LP)],Hh]}),DP);function zP(e,t){1&e&&(i.Rb(0,"li",23),i.Rb(1,"a",24),i.Mb(2,"i",25),i.Rb(3,"span",17),i.Kc(4,"User Admin"),i.Qb(),i.Qb(),i.Qb())}var VP,BP,UP=((BP=function(){function e(t,n,i,o){var r=this;_classCallCheck(this,e),this.route=t,this.router=n,this.keycloakService=i,this.auth=o,this.isAdmin=function(){console.log(r.userRoles.some(function(e){return"ADMIN"==e}))}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;null!=this.auth.getLoggedUser().preferred_username&&(this.username=this.auth.getLoggedUser().preferred_username),this.userRoles=this.auth.getCurrentUserRole(),this.keycloakService.keycloakEvents$.subscribe({next:function(t){t.type==Ru.c.OnTokenExpired&&e.keycloakService.updateToken(20)}})}},{key:"logout",value:function(){this.auth.logout()}}]),e}()).\u0275fac=function(e){return new(e||BP)(i.Lb(nd),i.Lb(xh),i.Lb(Ru.d),i.Lb(Kg.a))},BP.\u0275cmp=i.Fb({type:BP,selectors:[["app-navbar"]],decls:33,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],[1,"d-flex-md","d-flex-xs","d-lg-none"],[1,"navbar-nav","flex-row"],[1,"dropdown","mr-2"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-light","dropdown-toggle"],["src","https://s3.eu-central-1.amazonaws.com/bootstrapbaymisc/blog/24_days_bootstrap/fox.jpg","width","24","height","24",1,"rounded-circle"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],[1,"dropdown-item"],["aria-hidden","true",1,"fa","fa-power-off",3,"click"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],["class","nav-item d-flex align-items-center",4,"ngIf"],[1,"nav-item"],["routerLink","lexicon","routerLinkActive","active",1,"nav-link"],[1,"fa","fa-edit"],[1,"d-flex-xs","d-lg-none","ml-2"],["routerLink","search","routerLinkActive","active",1,"nav-link","disabled"],["aria-hidden","true",1,"fa","fa-search"],[1,"navbar-nav","ml-auto","d-none","d-xs-none","d-sm-none","d-lg-flex","align-items-center"],[1,"dropdown-item","pointer",3,"click"],["aria-hidden","true",1,"fa","fa-power-off"],[1,"nav-item","d-flex","align-items-center"],["routerLink","user","routerLinkActive","active",1,"nav-link"],[1,"fa","fa-user"]],template:function(e,t){1&e&&(i.Rb(0,"nav",0),i.Rb(1,"button",1),i.Mb(2,"span",2),i.Qb(),i.Rb(3,"div",3),i.Rb(4,"ul",4),i.Rb(5,"div",5),i.Rb(6,"button",6),i.Mb(7,"img",7),i.Qb(),i.Rb(8,"div",8),i.Rb(9,"a",9),i.Rb(10,"i",10),i.bc("click",function(){return t.logout()}),i.Qb(),i.Kc(11," Logout"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(12,"div",11),i.Rb(13,"ul",12),i.Ic(14,zP,5,0,"li",13),i.Rb(15,"li",14),i.Rb(16,"a",15),i.Mb(17,"i",16),i.Rb(18,"span",17),i.Kc(19,"Lexicon Editor"),i.Qb(),i.Qb(),i.Qb(),i.Rb(20,"li",14),i.Rb(21,"a",18),i.Mb(22,"i",19),i.Rb(23,"span",17),i.Kc(24,"Search Page"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(25,"ul",20),i.Rb(26,"div",5),i.Rb(27,"button",6),i.Kc(28),i.Qb(),i.Rb(29,"div",8),i.Rb(30,"a",21),i.bc("click",function(){return t.logout()}),i.Mb(31,"i",22),i.Kc(32," Logout"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb()),2&e&&(i.yb(14),i.mc("ngIf",t.isAdmin),i.yb(14),i.Mc(" ",t.username," "))},directives:[Hg.c,a.n,Mh,Ah],styles:["@media (min-width:992px){nav[_ngcontent-%COMP%]{height:5vh}}nav[_ngcontent-%COMP%]{font-size:18px}.dropdown-menu[_ngcontent-%COMP%]{left:-90px}.dropdown-toggle[_ngcontent-%COMP%]:after{font-size:14px}.pointer[_ngcontent-%COMP%]{cursor:pointer}"]}),BP),HP=((VP=function e(){_classCallCheck(this,e),this.title="epilexo"}).\u0275fac=function(e){return new(e||VP)},VP.\u0275cmp=i.Fb({type:VP,selectors:[["app-root"]],decls:2,vars:0,template:function(e,t){1&e&&(i.Mb(0,"app-navbar"),i.Mb(1,"router-outlet"))},directives:[UP,Th],styles:[""]}),VP);function KP(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function qP(e){switch(e.length){case 0:return new Ug.d;case 1:return e[0];default:return new Ug.k(e)}}function $P(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],c=-1,l=null;if(i.forEach(function(e){var n=e.offset,i=n==c,u=i&&l||{};Object.keys(e).forEach(function(n){var i=n,s=e[n];if("offset"!==n)switch(i=t.normalizePropertyName(i,a),s){case Ug.l:s=o[n];break;case Ug.a:s=r[n];break;default:s=t.normalizeStyleValue(n,i,s,a)}u[i]=s}),i||s.push(u),l=u,c=n}),a.length){var u="\n - ";throw new Error("Unable to animate due to the following errors:".concat(u).concat(a.join(u)))}return s}function WP(e,t,n,i){switch(t){case"start":e.onStart(function(){return i(n&&GP(n,"start",e))});break;case"done":e.onDone(function(){return i(n&&GP(n,"done",e))});break;case"destroy":e.onDestroy(function(){return i(n&&GP(n,"destroy",e))})}}function GP(e,t,n){var i=n.totalTime,o=YP(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==i?e.totalTime:i,!!n.disabled),r=e._data;return null!=r&&(o._data=r),o}function YP(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:i,phaseName:o,totalTime:r,disabled:!!a}}function XP(e,t,n){var i;return e instanceof Map?(i=e.get(t))||e.set(t,i=n):(i=e[t])||(i=e[t]=n),i}function ZP(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var JP=function(e,t){return!1},eE=function(e,t){return!1},tE=function(e,t,n){return[]},nE=KP();(nE||"undefined"!=typeof Element)&&(JP=function(e,t){return e.contains(t)},eE=function(){if(nE||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:eE}(),tE=function(e,t,n){var i=[];if(n)for(var o=e.querySelectorAll(t),r=0;r<o.length;r++)i.push(o[r]);else{var a=e.querySelector(t);a&&i.push(a)}return i});var iE=null,oE=!1;function rE(e){iE||(iE=("undefined"!=typeof document?document.body:null)||{},oE=!!iE.style&&"WebkitAppearance"in iE.style);var t=!0;return iE.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(!(t=e in iE.style)&&oE)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in iE.style),t}var aE=eE,sE=JP,cE=tE;function lE(e){var t={};return Object.keys(e).forEach(function(n){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=e[n]}),t}var uE,fE=((uE=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return rE(e)}},{key:"matchesElement",value:function(e,t){return aE(e,t)}},{key:"containsElement",value:function(e,t){return sE(e,t)}},{key:"query",value:function(e,t,n){return cE(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,i,o){return new Ug.d(n,i)}}]),e}()).\u0275fac=function(e){return new(e||uE)},uE.\u0275prov=i.Hb({token:uE,factory:uE.\u0275fac}),uE),dE=function(){var e=function e(){_classCallCheck(this,e)};return e.NOOP=new fE,e}();function hE(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:pE(parseFloat(t[1]),t[2])}function pE(e,t){switch(t){case"s":return 1e3*e;default:return e}}function bE(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var i,o=0,r="";if("string"==typeof e){var a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};i=pE(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(o=pE(parseFloat(s),a[4]));var c=a[5];c&&(r=c)}else i=e;if(!n){var l=!1,u=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),l=!0),o<0&&(t.push("Delay values below 0 are not allowed for this animation step."),l=!0),l&&t.splice(u,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:i,delay:o,easing:r}}(e,t,n)}function gE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach(function(n){t[n]=e[n]}),t}function mE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var i in e)n[i]=e[i];else gE(e,n);return n}function vE(e,t,n){return n?t+":"+n+";":""}function yE(e){for(var t="",n=0;n<e.style.length;n++){var i=e.style.item(n);t+=vE(0,i,e.style.getPropertyValue(i))}for(var o in e.style)e.style.hasOwnProperty(o)&&!o.startsWith("_")&&(t+=vE(0,o.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[o]));e.setAttribute("style",t)}function _E(e,t,n){e.style&&(Object.keys(t).forEach(function(i){var o=EE(i);n&&!n.hasOwnProperty(i)&&(n[i]=e.style[o]),e.style[o]=t[i]}),KP()&&yE(e))}function CE(e,t){e.style&&(Object.keys(t).forEach(function(t){var n=EE(t);e.style[n]=""}),KP()&&yE(e))}function kE(e){return Array.isArray(e)?1==e.length?e[0]:Object(Ug.f)(e):e}var OE=new RegExp("{{\\s*(.+?)\\s*}}","g");function xE(e){var t=[];if("string"==typeof e){for(var n;n=OE.exec(e);)t.push(n[1]);OE.lastIndex=0}return t}function wE(e,t,n){var i=e.toString(),o=i.replace(OE,function(e,i){var o=t[i];return t.hasOwnProperty(i)||(n.push("Please provide a value for the animation param "+i),o=""),o.toString()});return o==i?e:o}function ME(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var PE=/-+([a-z0-9])/g;function EE(e){return e.replace(PE,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()})}function SE(e,t){return 0===e||0===t}function RE(e,t,n){var i=Object.keys(n);if(i.length&&t.length){var o=t[0],r=[];if(i.forEach(function(e){o.hasOwnProperty(e)||r.push(e),o[e]=n[e]}),r.length)for(var a=function(){var n=t[s];r.forEach(function(t){n[t]=AE(e,t)})},s=1;s<t.length;s++)a()}return t}function IE(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function AE(e,t){return window.getComputedStyle(e)[t]}var TE=new Set(["true","1"]),DE=new Set(["false","0"]);function jE(e,t){var n=TE.has(e)||DE.has(e),i=TE.has(t)||DE.has(t);return function(o,r){var a="*"==e||e==o,s="*"==t||t==r;return!a&&n&&"boolean"==typeof o&&(a=o?TE.has(e):DE.has(e)),!s&&i&&"boolean"==typeof r&&(s=r?TE.has(t):DE.has(t)),a&&s}}var FE=new RegExp("s*:selfs*,?","g");function QE(e,t,n){return new LE(e).build(t,n)}var LE=function(){function e(t){_classCallCheck(this,e),this._driver=t}return _createClass(e,[{key:"build",value:function(e,t){var n=new NE(t);return this._resetContextStyleTimingState(n),IE(this,kE(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,i=t.queryCount=0,o=t.depCount=0,r=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(function(e){if(n._resetContextStyleTimingState(t),0==e.type){var s=e,c=s.name;c.toString().split(/\s*,\s*/).forEach(function(e){s.name=e,r.push(n.visitState(s,t))}),s.name=c}else if(1==e.type){var l=n.visitTransition(e,t);i+=l.queryCount,o+=l.depCount,a.push(l)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:r,transitions:a,queryCount:i,depCount:o,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){var o=new Set,r=i||{};if(n.styles.forEach(function(e){if(zE(e)){var t=e;Object.keys(t).forEach(function(e){xE(t[e]).forEach(function(e){r.hasOwnProperty(e)||o.add(e)})})}}),o.size){var a=ME(o.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:e.name,style:n,options:i?{params:i}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n,i,o,r=IE(this,kE(e.animation),t);return{type:1,matchers:(n=e.expr,i=t.errors,o=[],"string"==typeof n?n.split(/\s*,\s*/).forEach(function(e){return function(e,t,n){if(":"==e[0]){var i=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof i)return void t.push(i);e=i}var o=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var r=o[1],a=o[2],s=o[3];t.push(jE(r,s)),"<"!=a[0]||"*"==r&&"*"==s||t.push(jE(s,r))}(e,o,i)}):o.push(n),o),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:VE(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map(function(e){return IE(n,e,t)}),options:VE(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,i=t.currentTime,o=0,r=e.steps.map(function(e){t.currentTime=i;var r=IE(n,e,t);return o=Math.max(o,t.currentTime),r});return t.currentTime=o,{type:3,steps:r,options:VE(e.options)}}},{key:"visitAnimate",value:function(e,t){var n,i=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return BE(bE(e,t).duration,0,"");var i=e;if(i.split(/\s+/).some(function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)})){var o=BE(0,0,"");return o.dynamic=!0,o.strValue=i,o}return BE((n=n||bE(i,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;var o=e.styles?e.styles:Object(Ug.h)({});if(5==o.type)n=this.visitKeyframes(o,t);else{var r=e.styles,a=!1;if(!r){a=!0;var s={};i.easing&&(s.easing=i.easing),r=Object(Ug.h)(s)}t.currentTime+=i.duration+i.delay;var c=this.visitStyle(r,t);c.isEmptyStep=a,n=c}return t.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach(function(e){"string"==typeof e?e==Ug.a?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)}):n.push(e.styles);var i=!1,o=null;return n.forEach(function(e){if(zE(e)){var t=e,n=t.easing;if(n&&(o=n,delete t.easing),!i)for(var r in t)if(t[r].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:o,offset:e.offset,containsDynamicStyles:i,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,i=t.currentAnimateTimings,o=t.currentTime,r=t.currentTime;i&&r>0&&(r-=i.duration+i.delay),e.styles.forEach(function(e){"string"!=typeof e&&Object.keys(e).forEach(function(i){if(n._driver.validateStyleProperty(i)){var a,s,c,l,u,f=t.collectedStyles[t.currentQuerySelector],d=f[i],h=!0;d&&(r!=o&&r>=d.startTime&&o<=d.endTime&&(t.errors.push('The CSS property "'.concat(i,'" that exists between the times of "').concat(d.startTime,'ms" and "').concat(d.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(r,'ms" and "').concat(o,'ms"')),h=!1),r=d.startTime),h&&(f[i]={startTime:r,endTime:o}),t.options&&(a=e[i],s=t.options,c=t.errors,l=s.params||{},(u=xE(a)).length&&u.forEach(function(e){l.hasOwnProperty(e)||c.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))}))}else t.errors.push('The provided animation property "'.concat(i,'" is not a supported CSS property for animations'))})})}},{key:"visitKeyframes",value:function(e,t){var n=this,i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),i;var o=0,r=[],a=!1,s=!1,c=0,l=e.steps.map(function(e){var i=n._makeStyleAst(e,t),l=null!=i.offset?i.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach(function(e){if(zE(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}});else if(zE(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(i.styles),u=0;return null!=l&&(o++,u=i.offset=l),s=s||u<0||u>1,a=a||u<c,c=u,r.push(u),i});s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");var u=e.steps.length,f=0;o>0&&o<u?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==o&&(f=1/(u-1));var d=u-1,h=t.currentTime,p=t.currentAnimateTimings,b=p.duration;return l.forEach(function(e,o){var a=f>0?o==d?1:f*o:r[o],s=a*b;t.currentTime=h+p.delay+s,p.duration=s,n._validateStyleAst(e,t),e.offset=a,i.styles.push(e)}),i}},{key:"visitReference",value:function(e,t){return{type:8,animation:IE(this,kE(e.animation),t),options:VE(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:VE(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:VE(e.options)}}},{key:"visitQuery",value:function(e,t){var n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;var o=_slicedToArray(function(e){var t=!!e.split(/\s*,\s*/).find(function(e){return":self"==e});return t&&(e=e.replace(FE,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,function(e){return".ng-trigger-"+e.substr(1)}).replace(/:animating/g,".ng-animating"),t]}(e.selector),2),r=o[0],a=o[1];t.currentQuerySelector=n.length?n+" "+r:r,XP(t.collectedStyles,t.currentQuerySelector,{});var s=IE(this,kE(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:s,originalSelector:e.selector,options:VE(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:bE(e.timings,t.errors,!0);return{type:12,animation:IE(this,kE(e.animation),t),timings:n,options:null}}}]),e}(),NE=function e(t){_classCallCheck(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function zE(e){return!Array.isArray(e)&&"object"==typeof e}function VE(e){var t;return e?(e=gE(e)).params&&(e.params=(t=e.params)?gE(t):null):e={},e}function BE(e,t,n){return{duration:e,delay:t,easing:n}}function UE(e,t,n,i,o,r){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:o,delay:r,totalTime:o+r,easing:a,subTimeline:s}}var HE=function(){function e(){_classCallCheck(this,e),this._map=new Map}return _createClass(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,i=this._map.get(e);i||this._map.set(e,i=[]),(n=i).push.apply(n,_toConsumableArray(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),KE=new RegExp(":enter","g"),qE=new RegExp(":leave","g");function $E(e,t,n,i,o){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new WE).buildKeyframes(e,t,n,i,o,r,a,s,c,l)}var WE=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"buildKeyframes",value:function(e,t,n,i,o,r,a,s,c){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];c=c||new HE;var u=new YE(e,t,c,i,o,l,[]);u.options=s,u.currentTimeline.setStyles([r],null,u.errors,s),IE(this,n,u);var f=u.timelines.filter(function(e){return e.containsAnimation()});if(f.length&&Object.keys(a).length){var d=f[f.length-1];d.allowOnlyTimelineStyles()||d.setStyles([a],null,u.errors,s)}return f.length?f.map(function(e){return e.buildKeyframes()}):[UE(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,r=this._visitSubInstructions(n,i,i.options);o!=r&&t.transformIntoNewTimeline(r)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var i=t.currentTimeline.currentTime,o=null!=n.duration?hE(n.duration):null,r=null!=n.delay?hE(n.delay):null;return 0!==o&&e.forEach(function(e){var n=t.appendInstructionToTimeline(e,o,r);i=Math.max(i,n.duration+n.delay)}),i}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),IE(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,i=t.subContextCount,o=t,r=e.options;if(r&&(r.params||r.delay)&&((o=t.createSubContext(r)).transformIntoNewTimeline(),null!=r.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=GE);var a=hE(r.delay);o.delayNextStep(a)}e.steps.length&&(e.steps.forEach(function(e){return IE(n,e,o)}),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>i&&o.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,i=[],o=t.currentTimeline.currentTime,r=e.options&&e.options.delay?hE(e.options.delay):0;e.steps.forEach(function(a){var s=t.createSubContext(e.options);r&&s.delayNextStep(r),IE(n,a,s),o=Math.max(o,s.currentTimeline.currentTime),i.push(s.currentTimeline)}),i.forEach(function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)}),t.transformIntoNewTimeline(o),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return bE(t.params?wE(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());var o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(n.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();var o=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(o):n.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,i=t.currentTimeline.duration,o=n.duration,r=t.createSubContext().currentTimeline;r.easing=n.easing,e.styles.forEach(function(e){r.forwardTime((e.offset||0)*o),r.setStyles(e.styles,e.easing,t.errors,t.options),r.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(r),t.transformIntoNewTimeline(i+o),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,i=t.currentTimeline.currentTime,o=e.options||{},r=o.delay?hE(o.delay):0;r&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=GE);var a=i,s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,t.errors);t.currentQueryTotal=s.length;var c=null;s.forEach(function(i,o){t.currentQueryIndex=o;var s=t.createSubContext(e.options,i);r&&s.delayNextStep(r),i===t.element&&(c=s.currentTimeline),IE(n,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,i=t.currentTimeline,o=e.timings,r=Math.abs(o.duration),a=r*(t.currentQueryTotal-1),s=r*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var c=t.currentTimeline;s&&c.delayNextStep(s);var l=c.currentTime;IE(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-l+(i.startTime-n.currentTimeline.startTime)}}]),e}(),GE={},YE=function(){function e(t,n,i,o,r,a,s,c){_classCallCheck(this,e),this._driver=t,this.element=n,this.subInstructions=i,this._enterClassName=o,this._leaveClassName=r,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=GE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new XE(this._driver,n,0),s.push(this.currentTimeline)}return _createClass(e,[{key:"updateOptions",value:function(e,t){var n=this;if(e){var i=e,o=this.options;null!=i.duration&&(o.duration=hE(i.duration)),null!=i.delay&&(o.delay=hE(i.delay));var r=i.params;if(r){var a=o.params;a||(a=this.options.params={}),Object.keys(r).forEach(function(e){t&&a.hasOwnProperty(e)||(a[e]=wE(r[e],a,n.errors))})}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach(function(e){n[e]=t[e]})}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,o=n||this.element,r=new e(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=GE,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},o=new ZE(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,i,o,r){var a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(KE,"."+this._enterClassName)).replace(qE,"."+this._leaveClassName);var s=this._driver.query(this.element,e,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),a.push.apply(a,_toConsumableArray(s))}return o||0!=a.length||r.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),a}},{key:"params",get:function(){return this.options.params}}]),e}(),XE=function(){function e(t,n,i,o){_classCallCheck(this,e),this._driver=t,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(function(e){t._backFill[e]=t._globalTimelineStyles[e]||Ug.a,t._currentKeyframe[e]=Ug.a}),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,i){var o=this;t&&(this._previousKeyframe.easing=t);var r=i&&i.params||{},a=function(e,t){var n,i={};return e.forEach(function(e){"*"===e?(n=n||Object.keys(t)).forEach(function(e){i[e]=Ug.a}):mE(e,!1,i)}),i}(e,this._globalTimelineStyles);Object.keys(a).forEach(function(e){var t=wE(a[e],r,n);o._pendingStyles[e]=t,o._localTimelineStyles.hasOwnProperty(e)||(o._backFill[e]=o._globalTimelineStyles.hasOwnProperty(e)?o._globalTimelineStyles[e]:Ug.a),o._updateStyle(e,t)})}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){e._currentKeyframe[n]=t[n]}),Object.keys(this._localTimelineStyles).forEach(function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])}))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach(function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)})}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach(function(n){var i=t._styleSummary[n],o=e._styleSummary[n];(!i||o.time>i.time)&&t._updateStyle(n,o.value)})}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration,o=[];this._keyframes.forEach(function(r,a){var s=mE(r,!0);Object.keys(s).forEach(function(e){var i=s[e];i==Ug.l?t.add(e):i==Ug.a&&n.add(e)}),i||(s.offset=a/e.duration),o.push(s)});var r=t.size?ME(t.values()):[],a=n.size?ME(n.values()):[];if(i){var s=o[0],c=gE(s);s.offset=0,c.offset=1,o=[s,c]}return UE(this.element,o,r,a,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}}]),e}(),ZE=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,r,a,s){var c,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,n),(c=t.call(this,e,i,s.delay)).element=i,c.keyframes=o,c.preStyleProps=r,c.postStyleProps=a,c._stretchStartingKeyframe=l,c.timings={duration:s.duration,delay:s.delay,easing:s.easing},c}return _createClass(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,i=t.duration,o=t.easing;if(this._stretchStartingKeyframe&&n){var r=[],a=i+n,s=n/a,c=mE(e[0],!1);c.offset=0,r.push(c);var l=mE(e[0],!1);l.offset=JE(s),r.push(l);for(var u=e.length-1,f=1;f<=u;f++){var d=mE(e[f],!1);d.offset=JE((n+d.offset*i)/a),r.push(d)}i=a,n=0,o="",e=r}return UE(this.element,e,this.preStyleProps,this.postStyleProps,i,n,o,!0)}}]),n}(XE);function JE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var eS,tS,nS=function e(){_classCallCheck(this,e)},iS=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"normalizePropertyName",value:function(e,t){return EE(e)}},{key:"normalizeStyleValue",value:function(e,t,n,i){var o="",r=n.toString().trim();if(oS[t]&&0!==n&&"0"!==n)if("number"==typeof n)o="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return r+o}}]),n}(nS),oS=(eS="width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","),tS={},eS.forEach(function(e){return tS[e]=!0}),tS);function rS(e,t,n,i,o,r,a,s,c,l,u,f,d){return{type:0,element:e,triggerName:t,isRemovalTransition:o,fromState:n,fromStyles:r,toState:i,toStyles:a,timelines:s,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:f,errors:d}}var aS={},sS=function(){function e(t,n,i){_classCallCheck(this,e),this._triggerName=t,this.ast=n,this._stateStyles=i}return _createClass(e,[{key:"match",value:function(e,t,n,i){return function(e,t,n,i,o){return e.some(function(e){return e(t,n,i,o)})}(this.ast.matchers,e,t,n,i)}},{key:"buildStyles",value:function(e,t,n){var i=this._stateStyles["*"],o=this._stateStyles[e],r=i?i.buildStyles(t,n):{};return o?o.buildStyles(t,n):r}},{key:"build",value:function(e,t,n,i,o,r,a,s,c,l){var u=[],f=this.ast.options&&this.ast.options.params||aS,d=this.buildStyles(n,a&&a.params||aS,u),h=s&&s.params||aS,p=this.buildStyles(i,h,u),b=new Set,g=new Map,m=new Map,v="void"===i,y={params:Object.assign(Object.assign({},f),h)},_=l?[]:$E(e,t,this.ast.animation,o,r,d,p,y,c,u),C=0;if(_.forEach(function(e){C=Math.max(e.duration+e.delay,C)}),u.length)return rS(t,this._triggerName,n,i,v,d,p,[],[],g,m,C,u);_.forEach(function(e){var n=e.element,i=XP(g,n,{});e.preStyleProps.forEach(function(e){return i[e]=!0});var o=XP(m,n,{});e.postStyleProps.forEach(function(e){return o[e]=!0}),n!==t&&b.add(n)});var k=ME(b.values());return rS(t,this._triggerName,n,i,v,d,p,_,k,g,m,C)}}]),e}(),cS=function(){function e(t,n){_classCallCheck(this,e),this.styles=t,this.defaultParams=n}return _createClass(e,[{key:"buildStyles",value:function(e,t){var n={},i=gE(this.defaultParams);return Object.keys(e).forEach(function(t){var n=e[t];null!=n&&(i[t]=n)}),this.styles.styles.forEach(function(e){if("string"!=typeof e){var o=e;Object.keys(o).forEach(function(e){var r=o[e];r.length>1&&(r=wE(r,i,t)),n[e]=r})}}),n}}]),e}(),lS=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.name=t,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach(function(e){i.states[e.name]=new cS(e.style,e.options&&e.options.params||{})}),uS(this.states,"true","1"),uS(this.states,"false","0"),n.transitions.forEach(function(e){i.transitionFactories.push(new sS(t,e,i.states))}),this.fallbackTransition=new sS(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(e,[{key:"matchTransition",value:function(e,t,n,i){return this.transitionFactories.find(function(o){return o.match(e,t,n,i)})||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),e}();function uS(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var fS=new HE,dS=function(){function e(t,n,i){_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}return _createClass(e,[{key:"register",value:function(e,t){var n=[],i=QE(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[e]=i}},{key:"_buildPlayer",value:function(e,t,n){var i=e.element,o=$P(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[],a=this._animations[e],s=new Map;if(a?(n=$E(this._driver,t,a,"ng-enter","ng-leave",{},{},o,fS,r)).forEach(function(e){var t=XP(s,e.element,{});e.postStyleProps.forEach(function(e){return t[e]=null})}):(r.push("The requested animation doesn't exist or has already been destroyed"),n=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));s.forEach(function(e,t){Object.keys(e).forEach(function(n){e[n]=i._driver.computeStyle(t,n,Ug.a)})});var c=qP(n.map(function(e){var t=s.get(e.element);return i._buildPlayer(e,{},t)}));return this._playersById[e]=c,c.onDestroy(function(){return i.destroy(e)}),this.players.push(c),c}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t}},{key:"listen",value:function(e,t,n,i){var o=YP(t,"","","");return WP(this._getPlayer(e),n,o,i),function(){}}},{key:"command",value:function(e,t,n,i){if("register"!=n)if("create"!=n){var o=this._getPlayer(e);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,i[0]||{});else this.register(e,i[0])}}]),e}(),hS=[],pS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bS={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},gS=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,e),this.namespaceId=n;var i,o=t&&t.hasOwnProperty("value");if(this.value=null!=(i=o?t.value:t)?i:null,o){var r=gE(t);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}return _createClass(e,[{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach(function(e){null==n[e]&&(n[e]=t[e])})}}},{key:"params",get:function(){return this.options.params}}]),e}(),mS=new gS("void"),vS=function(){function e(t,n,i){_classCallCheck(this,e),this.id=t,this.hostElement=n,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,wS(n,this._hostClassName)}return _createClass(e,[{key:"listen",value:function(e,t,n,i){var o,r=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=(o=n)&&"done"!=o)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var a=XP(this._elementListeners,e,[]),s={name:t,phase:n,callback:i};a.push(s);var c=XP(this._engine.statesByElement,e,{});return c.hasOwnProperty(t)||(wS(e,"ng-trigger"),wS(e,"ng-trigger-"+t),c[t]=mS),function(){r._engine.afterFlush(function(){var e=a.indexOf(s);e>=0&&a.splice(e,1),r._triggers[t]||delete c[t]})}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var i=this,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=this._getTrigger(t),a=new _S(this.id,t,e),s=this._engine.statesByElement.get(e);s||(wS(e,"ng-trigger"),wS(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,s={}));var c=s[t],l=new gS(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),s[t]=l,c||(c=mS),"void"===l.value||c.value!==l.value){var u=XP(this._engine.playersByElement,e,[]);u.forEach(function(e){e.namespaceId==i.id&&e.triggerName==t&&e.queued&&e.destroy()});var f=r.matchTransition(c.value,l.value,e,l.params),d=!1;if(!f){if(!o)return;f=r.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:c,toState:l,player:a,isFallbackTransition:d}),d||(wS(e,"ng-animate-queued"),a.onStart(function(){MS(e,"ng-animate-queued")})),a.onDone(function(){var t=i.players.indexOf(a);t>=0&&i.players.splice(t,1);var n=i._engine.playersByElement.get(e);if(n){var o=n.indexOf(a);o>=0&&n.splice(o,1)}}),this.players.push(a),u.push(a),a}if(!function(e,t){var n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(var o=0;o<n.length;o++){var r=n[o];if(!t.hasOwnProperty(r)||e[r]!==t[r])return!1}return!0}(c.params,l.params)){var h=[],p=r.matchStyles(c.value,c.params,h),b=r.matchStyles(l.value,l.params,h);h.length?this._engine.reportError(h):this._engine.afterFlush(function(){CE(e,p),_E(e,b)})}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach(function(t,n){delete t[e]}),this._elementListeners.forEach(function(n,i){t._elementListeners.set(i,n.filter(function(t){return t.name!=e}))})}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach(function(e){return e.destroy()}),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this,i=this._engine.driver.query(e,".ng-trigger",!0);i.forEach(function(e){if(!e.__ng_removed){var i=n._engine.fetchNamespacesByElement(e);i.size?i.forEach(function(n){return n.triggerLeaveAnimation(e,t,!1,!0)}):n.clearElementCache(e)}}),this._engine.afterFlushAnimationsDone(function(){return i.forEach(function(e){return n.clearElementCache(e)})})}},{key:"triggerLeaveAnimation",value:function(e,t,n,i){var o=this,r=this._engine.statesByElement.get(e);if(r){var a=[];if(Object.keys(r).forEach(function(t){if(o._triggers[t]){var n=o.trigger(e,t,"void",i);n&&a.push(n)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&qP(a).onDone(function(){return o._engine.processLeaveNode(e)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e);if(n){var i=new Set;n.forEach(function(n){var o=n.name;if(!i.has(o)){i.add(o);var r=t._triggers[o].fallbackTransition,a=t._engine.statesByElement.get(e)[o]||mS,s=new gS("void"),c=new _S(t.id,o,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:o,transition:r,fromState:a,toState:s,player:c,isFallbackTransition:!0})}})}}},{key:"removeNode",value:function(e,t){var n=this,i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var o=!1;if(i.totalAnimations){var r=i.players.length?i.playersByQueriedElement.get(e):[];if(r&&r.length)o=!0;else for(var a=e;a=a.parentNode;)if(i.statesByElement.get(a)){o=!0;break}}if(this.prepareLeaveAnimationListeners(e),o)i.markElementAsRemoved(this.id,e,!1,t);else{var s=e.__ng_removed;s&&s!==pS||(i.afterFlush(function(){return n.clearElementCache(e)}),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){wS(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach(function(i){var o=i.player;if(!o.destroyed){var r=i.element,a=t._elementListeners.get(r);a&&a.forEach(function(t){if(t.name==i.triggerName){var n=YP(r,i.triggerName,i.fromState.value,i.toState.value);n._data=e,WP(i.player,t.phase,n,t.callback)}}),o.markedForDestroy?t._engine.afterFlush(function(){o.destroy()}):n.push(i)}}),this._queue=[],n.sort(function(e,n){var i=e.transition.ast.depCount,o=n.transition.ast.depCount;return 0==i||0==o?i-o:t._engine.driver.containsElement(e.element,n.element)?1:-1})}},{key:"destroy",value:function(e){this.players.forEach(function(e){return e.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(function(t){return t.element===e})||t}}]),e}(),yS=function(){function e(t,n,i){_classCallCheck(this,e),this.bodyNode=t,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return _createClass(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"createNamespace",value:function(e,t){var n=new vS(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var i=!1,o=n;o>=0;o--)if(this.driver.containsElement(this._namespaceList[o].hostElement,t)){this._namespaceList.splice(o+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var i=this._fetchNamespace(e);this.afterFlush(function(){n.namespacesByHostElement.delete(i.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(i);t>=0&&n._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(function(){return i.destroy(t)})}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var i=Object.keys(n),o=0;o<i.length;o++){var r=n[i[o]].namespaceId;if(r){var a=this._fetchNamespace(r);a&&t.add(a)}}return t}},{key:"trigger",value:function(e,t,n,i){if(CS(t)){var o=this._fetchNamespace(e);if(o)return o.trigger(t,n,i),!0}return!1}},{key:"insertNode",value:function(e,t,n,i){if(CS(t)){var o=t.__ng_removed;if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;var r=this.collectedLeaveElements.indexOf(t);r>=0&&this.collectedLeaveElements.splice(r,1)}if(e){var a=this._fetchNamespace(e);a&&a.insertNode(t,n)}i&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),wS(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),MS(e,"ng-animate-disabled"))}},{key:"removeNode",value:function(e,t,n,i){if(CS(t)){var o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),n){var r=this.namespacesByHostElement.get(t);r&&r.id!==e&&r.removeNode(t,i)}}else this._onRemovalComplete(t,i)}},{key:"markElementAsRemoved",value:function(e,t,n,i){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,i,o){return CS(t)?this._fetchNamespace(e).listen(t,n,i,o):function(){}}},{key:"_buildInstruction",value:function(e,t,n,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,o)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,".ng-trigger",!0);n.forEach(function(e){return t.destroyActiveAnimationsForElement(e)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,".ng-animating",!0)).forEach(function(e){return t.finishActiveQueriedAnimationOnElement(e)})}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach(function(e){e.queued?e.markedForDestroy=!0:e.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach(function(e){return e.finish()})}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise(function(t){if(e.players.length)return qP(e.players).onDone(function(){return t()});t()})}},{key:"processLeaveNode",value:function(e){var t=this,n=e.__ng_removed;if(n&&n.setForRemoval){if(e.__ng_removed=pS,n.namespaceId){this.destroyInnerAnimations(e);var i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(function(e){t.markElementAsDisabled(e,!1)})}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(t,n){return e._balanceNamespaceList(t,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var i=0;i<this.collectedEnterElements.length;i++)wS(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var o=[];try{n=this._flushAnimations(o,t)}finally{for(var r=0;r<o.length;r++)o[r]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(e){return e()}),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?qP(n).onDone(function(){s.forEach(function(e){return e()})}):s.forEach(function(e){return e()})}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}},{key:"_flushAnimations",value:function(e,t){var n=this,i=new HE,o=[],r=new Map,a=[],s=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(function(e){u.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),i=0;i<t.length;i++)u.add(t[i])});var f=this.bodyNode,d=Array.from(this.statesByElement.keys()),h=xS(d,this.collectedEnterElements),p=new Map,b=0;h.forEach(function(e,t){var n="ng-enter"+b++;p.set(t,n),e.forEach(function(e){return wS(e,n)})});for(var g=[],m=new Set,v=new Set,y=0;y<this.collectedLeaveElements.length;y++){var _=this.collectedLeaveElements[y],C=_.__ng_removed;C&&C.setForRemoval&&(g.push(_),m.add(_),C.hasAnimation?this.driver.query(_,".ng-star-inserted",!0).forEach(function(e){return m.add(e)}):v.add(_))}var k=new Map,O=xS(d,Array.from(m));O.forEach(function(e,t){var n="ng-leave"+b++;k.set(t,n),e.forEach(function(e){return wS(e,n)})}),e.push(function(){h.forEach(function(e,t){var n=p.get(t);e.forEach(function(e){return MS(e,n)})}),O.forEach(function(e,t){var n=k.get(t);e.forEach(function(e){return MS(e,n)})}),g.forEach(function(e){n.processLeaveNode(e)})});for(var x=[],w=[],M=this._namespaceList.length-1;M>=0;M--)this._namespaceList[M].drainQueuedTransitions(t).forEach(function(e){var t=e.player,r=e.element;if(x.push(t),n.collectedEnterElements.length){var u=r.__ng_removed;if(u&&u.setForMove)return void t.destroy()}var d=!f||!n.driver.containsElement(f,r),h=k.get(r),b=p.get(r),g=n._buildInstruction(e,i,b,h,d);if(g.errors&&g.errors.length)w.push(g);else{if(d)return t.onStart(function(){return CE(r,g.fromStyles)}),t.onDestroy(function(){return _E(r,g.toStyles)}),void o.push(t);if(e.isFallbackTransition)return t.onStart(function(){return CE(r,g.fromStyles)}),t.onDestroy(function(){return _E(r,g.toStyles)}),void o.push(t);g.timelines.forEach(function(e){return e.stretchStartingKeyframe=!0}),i.append(r,g.timelines),a.push({instruction:g,player:t,element:r}),g.queriedElements.forEach(function(e){return XP(s,e,[]).push(t)}),g.preStyleProps.forEach(function(e,t){var n=Object.keys(e);if(n.length){var i=c.get(t);i||c.set(t,i=new Set),n.forEach(function(e){return i.add(e)})}}),g.postStyleProps.forEach(function(e,t){var n=Object.keys(e),i=l.get(t);i||l.set(t,i=new Set),n.forEach(function(e){return i.add(e)})})}});if(w.length){var P=[];w.forEach(function(e){P.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach(function(e){return P.push("- ".concat(e,"\n"))})}),x.forEach(function(e){return e.destroy()}),this.reportError(P)}var E=new Map,S=new Map;a.forEach(function(e){var t=e.element;i.has(t)&&(S.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,E))}),o.forEach(function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(function(e){XP(E,t,[]).push(e),e.destroy()})});var R=g.filter(function(e){return SS(e,c,l)}),I=new Map;OS(I,this.driver,v,l,Ug.a).forEach(function(e){SS(e,c,l)&&R.push(e)});var A=new Map;h.forEach(function(e,t){OS(A,n.driver,new Set(e),c,Ug.l)}),R.forEach(function(e){var t=I.get(e),n=A.get(e);I.set(e,Object.assign(Object.assign({},t),n))});var T=[],D=[],j={};a.forEach(function(e){var t=e.element,a=e.player,s=e.instruction;if(i.has(t)){if(u.has(t))return a.onDestroy(function(){return _E(t,s.toStyles)}),a.disabled=!0,a.overrideTotalTime(s.totalTime),void o.push(a);var c=j;if(S.size>1){for(var l=t,f=[];l=l.parentNode;){var d=S.get(l);if(d){c=d;break}f.push(l)}f.forEach(function(e){return S.set(e,c)})}var h=n._buildAnimation(a.namespaceId,s,E,r,A,I);if(a.setRealPlayer(h),c===j)T.push(a);else{var p=n.playersByElement.get(c);p&&p.length&&(a.parentPlayer=qP(p)),o.push(a)}}else CE(t,s.fromStyles),a.onDestroy(function(){return _E(t,s.toStyles)}),D.push(a),u.has(t)&&o.push(a)}),D.forEach(function(e){var t=r.get(e.element);if(t&&t.length){var n=qP(t);e.setRealPlayer(n)}}),o.forEach(function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(var F=0;F<g.length;F++){var Q=g[F],L=Q.__ng_removed;if(MS(Q,"ng-leave"),!L||!L.hasAnimation){var N=[];if(s.size){var z=s.get(Q);z&&z.length&&N.push.apply(N,_toConsumableArray(z));for(var V=this.driver.query(Q,".ng-animating",!0),B=0;B<V.length;B++){var U=s.get(V[B]);U&&U.length&&N.push.apply(N,_toConsumableArray(U))}}var H=N.filter(function(e){return!e.destroyed});H.length?PS(this,Q,H):this.processLeaveNode(Q)}}return g.length=0,T.forEach(function(e){n.players.push(e),e.onDone(function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)}),e.play()}),T}},{key:"elementContainsData",value:function(e,t){var n=!1,i=t.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,i,o){var r=[];if(t){var a=this.playersByQueriedElement.get(e);a&&(r=a)}else{var s=this.playersByElement.get(e);if(s){var c=!o||"void"==o;s.forEach(function(e){e.queued||(c||e.triggerName==i)&&r.push(e)})}}return(n||i)&&(r=r.filter(function(e){return!(n&&n!=e.namespaceId||i&&i!=e.triggerName)})),r}},{key:"_beforeAnimationBuild",value:function(e,t,n){var i,o=this,r=t.element,a=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName,c=_createForOfIteratorHelper(t.timelines);try{var l=function(){var e=i.value.element,c=e!==r,l=XP(n,e,[]);o._getPreviousPlayers(e,c,a,s,t.toState).forEach(function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)})};for(c.s();!(i=c.n()).done;)l()}catch(u){c.e(u)}finally{c.f()}CE(r,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,i,o,r){var a=this,s=t.triggerName,c=t.element,l=[],u=new Set,f=new Set,d=t.timelines.map(function(t){var d=t.element;u.add(d);var h=d.__ng_removed;if(h&&h.removedBeforeQueried)return new Ug.d(t.duration,t.delay);var p,b,g=d!==c,m=(p=(n.get(d)||hS).map(function(e){return e.getRealPlayer()}),b=[],ES(p,b),b).filter(function(e){return!!e.element&&e.element===d}),v=o.get(d),y=r.get(d),_=$P(0,a._normalizer,0,t.keyframes,v,y),C=a._buildPlayer(t,_,m);if(t.subTimeline&&i&&f.add(d),g){var k=new _S(e,s,d);k.setRealPlayer(C),l.push(k)}return C});l.forEach(function(e){XP(a.playersByQueriedElement,e.element,[]).push(e),e.onDone(function(){return function(e,t,n){var i;if(e instanceof Map){if(i=e.get(t)){if(i.length){var o=i.indexOf(n);i.splice(o,1)}0==i.length&&e.delete(t)}}else if(i=e[t]){if(i.length){var r=i.indexOf(n);i.splice(r,1)}0==i.length&&delete e[t]}return i}(a.playersByQueriedElement,e.element,e)})}),u.forEach(function(e){return wS(e,"ng-animating")});var h=qP(d);return h.onDestroy(function(){u.forEach(function(e){return MS(e,"ng-animating")}),_E(c,t.toStyles)}),f.forEach(function(e){XP(i,e,[]).push(h)}),h}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Ug.d(e.duration,e.delay)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach(function(t){t.players.forEach(function(t){t.queued&&e.push(t)})}),e}}]),e}(),_S=function(){function e(t,n,i){_classCallCheck(this,e),this.namespaceId=t,this.triggerName=n,this.element=i,this._player=new Ug.d,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(function(n){t._queuedCallbacks[n].forEach(function(t){return WP(e,n,void 0,t)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart(function(){return n.triggerCallback("start")}),e.onDone(function(){return t.finish()}),e.onDestroy(function(){return t.destroy()})}},{key:"_queueEvent",value:function(e,t){XP(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function CS(e){return e&&1===e.nodeType}function kS(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function OS(e,t,n,i,o){var r=[];n.forEach(function(e){return r.push(kS(e))});var a=[];i.forEach(function(n,i){var r={};n.forEach(function(e){var n=r[e]=t.computeStyle(i,e,o);n&&0!=n.length||(i.__ng_removed=bS,a.push(i))}),e.set(i,r)});var s=0;return n.forEach(function(e){return kS(e,r[s++])}),a}function xS(e,t){var n=new Map;if(e.forEach(function(e){return n.set(e,[])}),0==t.length)return n;var i=new Set(t),o=new Map;function r(e){if(!e)return 1;var t=o.get(e);if(t)return t;var a=e.parentNode;return t=n.has(a)?a:i.has(a)?1:r(a),o.set(e,t),t}return t.forEach(function(e){var t=r(e);1!==t&&n.get(t).push(e)}),n}function wS(e,t){if(e.classList)e.classList.add(t);else{var n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function MS(e,t){if(e.classList)e.classList.remove(t);else{var n=e.$$classes;n&&delete n[t]}}function PS(e,t,n){qP(n).onDone(function(){return e.processLeaveNode(t)})}function ES(e,t){for(var n=0;n<e.length;n++){var i=e[n];i instanceof Ug.k?ES(i.players,t):t.push(i)}}function SS(e,t,n){var i=n.get(e);if(!i)return!1;var o=t.get(e);return o?i.forEach(function(e){return o.add(e)}):t.set(e,i),n.delete(e),!0}var RS=function(){function e(t,n,i){var o=this;_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new yS(t,n,i),this._timelineEngine=new dS(t,n,i),this._transitionEngine.onRemovalComplete=function(e,t){return o.onRemovalComplete(e,t)}}return _createClass(e,[{key:"registerTrigger",value:function(e,t,n,i,o){var r=e+"-"+i,a=this._triggerCache[r];if(!a){var s=[],c=QE(this._driver,o,s);if(s.length)throw new Error('The animation trigger "'.concat(i,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(e,t){return new lS(e,t)}(i,c),this._triggerCache[r]=a}this._transitionEngine.registerTrigger(t,i,a)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)}},{key:"onRemove",value:function(e,t,n,i){this._transitionEngine.removeNode(e,t,i||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,n,i){if("@"==n.charAt(0)){var o=_slicedToArray(ZP(n),2),r=o[0],a=o[1];this._timelineEngine.command(r,t,a,i)}else this._transitionEngine.trigger(e,t,n,i)}},{key:"listen",value:function(e,t,n,i,o){if("@"==n.charAt(0)){var r=_slicedToArray(ZP(n),2),a=r[0],s=r[1];return this._timelineEngine.listen(a,t,s,o)}return this._transitionEngine.listen(e,t,n,i,o)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),e}();function IS(e,t){var n=null,i=null;return Array.isArray(t)&&t.length?(n=TS(t[0]),t.length>1&&(i=TS(t[t.length-1]))):t&&(n=TS(t)),n||i?new AS(e,n,i):null}var AS=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this._element=t,this._startStyles=n,this._endStyles=i,this._state=0;var o=e.initialStylesByElement.get(t);o||e.initialStylesByElement.set(t,o={}),this._initialStyles=o}return _createClass(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&_E(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(_E(this._element,this._initialStyles),this._endStyles&&(_E(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(CE(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(CE(this._element,this._endStyles),this._endStyles=null),_E(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function TS(e){for(var t=null,n=Object.keys(e),i=0;i<n.length;i++){var o=n[i];DS(o)&&((t=t||{})[o]=e[o])}return t}function DS(e){return"display"===e||"position"===e}var jS=function(){function e(t,n,i,o,r,a,s){var c=this;_classCallCheck(this,e),this._element=t,this._name=n,this._duration=i,this._delay=o,this._easing=r,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return c._handleCallback(e)}}return _createClass(e,[{key:"apply",value:function(){var e,t,n;e=this._element,t="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=VS(e,"").trim()).length&&(function(e,t){for(var n=0;n<e.length;n++)e.charAt(n)}(n),t="".concat(n,", ").concat(t)),zS(e,"",t),NS(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){FS(this._element,this._name,"paused")}},{key:"resume",value:function(){FS(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=QS(this._element,this._name);this._position=e*this._duration,zS(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),NS(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var e,t,n,i;this._destroyed||(this._destroyed=!0,this.finish(),e=this._element,t=this._name,n=VS(e,"").split(","),(i=LS(n,t))>=0&&(n.splice(i,1),zS(e,"",n.join(","))))}}]),e}();function FS(e,t,n){zS(e,"PlayState",n,QS(e,t))}function QS(e,t){var n=VS(e,"");return n.indexOf(",")>0?LS(n.split(","),t):LS([n],t)}function LS(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function NS(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function zS(e,t,n,i){var o="animation"+t;if(null!=i){var r=e.style[o];if(r.length){var a=r.split(",");a[i]=n,n=a.join(",")}}e.style[o]=n}function VS(e,t){return e.style["animation"+t]||""}var BS=function(){function e(t,n,i,o,r,a,s,c){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.animationName=i,this._duration=o,this._delay=r,this._finalStyles=s,this._specialStyles=c,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=o+r,this._buildStyler()}return _createClass(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new jS(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return e.finish()})}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach(function(i){"offset"!=i&&(t[i]=n?e._finalStyles[i]:AE(e.element,i))})}this.currentSnapshot=t}}]),e}(),US=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this)).element=e,o._startingStyles={},o.__initialized=!1,o._styles=lE(i),o}return _createClass(n,[{key:"init",value:function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(function(t){e._startingStyles[t]=e.element.style[t]}),_get(_getPrototypeOf(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(function(t){return e.element.style.setProperty(t,e._styles[t])}),_get(_getPrototypeOf(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach(function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)}),this._startingStyles=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this))}}]),n}(Ug.d),HS=function(){function e(){_classCallCheck(this,e),this._count=0,this._head=document.querySelector("head")}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return rE(e)}},{key:"matchesElement",value:function(e,t){return aE(e,t)}},{key:"containsElement",value:function(e,t){return sE(e,t)}},{key:"query",value:function(e,t,n){return cE(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map(function(e){return lE(e)});var i="@keyframes ".concat(t," {\n"),o="";n.forEach(function(e){o=" ";var t=parseFloat(e.offset);i+="".concat(o).concat(100*t,"% {\n"),o+=" ",Object.keys(e).forEach(function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(i+="".concat(o,"animation-timing-function: ").concat(n,";\n")));default:return void(i+="".concat(o).concat(t,": ").concat(n,";\n"))}}),i+=o+"}\n"}),i+="}\n";var r=document.createElement("style");return r.textContent=i,r}},{key:"animate",value:function(e,t,n,i,o){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=r.filter(function(e){return e instanceof BS}),s={};SE(n,i)&&a.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return s[e]=t[e]})});var c=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach(function(e){Object.keys(e).forEach(function(n){"offset"!=n&&"easing"!=n&&(t[n]=e[n])})}),t}(t=RE(e,t,s));if(0==n)return new US(e,c);var l="gen_css_kf_"+this._count++,u=this.buildKeyframeElement(e,l,t);document.querySelector("head").appendChild(u);var f=IS(e,t),d=new BS(e,t,l,n,i,o,c,f);return d.onDestroy(function(){var e;(e=u).parentNode.removeChild(e)}),d}}]),e}(),KS=function(){function e(t,n,i,o){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.options=i,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",function(){return e._onFinish()})}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:AE(e.element,n))}),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),e}(),qS=function(){function e(){_classCallCheck(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test($S().toString()),this._cssKeyframesDriver=new HS}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return rE(e)}},{key:"matchesElement",value:function(e,t){return aE(e,t)}},{key:"containsElement",value:function(e,t){return sE(e,t)}},{key:"query",value:function(e,t,n){return cE(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,i,o){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,i,o,r);var s={duration:n,delay:i,fill:0==i?"both":"forwards"};o&&(s.easing=o);var c={},l=r.filter(function(e){return e instanceof KS});SE(n,i)&&l.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return c[e]=t[e]})});var u=IS(e,t=RE(e,t=t.map(function(e){return mE(e,!1)}),c));return new KS(e,t,s,u)}}]),e}();function $S(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var WS,GS=((WS=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,o){var r;return _classCallCheck(this,n),(r=t.call(this))._nextAnimationId=0,r._renderer=e.createRenderer(o.body,{id:"0",encapsulation:i.Q.None,styles:[],data:{animation:[]}}),r}return _createClass(n,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?Object(Ug.f)(e):e;return ZS(this._renderer,null,t,"register",[n]),new YS(t,this._renderer)}}]),n}(Ug.b)).\u0275fac=function(e){return new(e||WS)(i.Yb(i.F),i.Yb(a.c))},WS.\u0275prov=i.Hb({token:WS,factory:WS.\u0275fac}),WS),YS=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this))._id=e,o._renderer=i,o}return _createClass(n,[{key:"create",value:function(e,t){return new XS(this._id,e,t||{},this._renderer)}}]),n}(Ug.c),XS=function(){function e(t,n,i,o){_classCallCheck(this,e),this.id=t,this.element=n,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}return _createClass(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return ZS(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}]),e}();function ZS(e,t,n,i,o){return e.setProperty(t,"@@".concat(n,":").concat(i),o)}var JS,eR,tR,nR,iR=((JS=function(){function e(t,n,i){_classCallCheck(this,e),this.delegate=t,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return _createClass(e,[{key:"createRenderer",value:function(e,t){var n=this,i=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var o=this._rendererCache.get(i);return o||(o=new oR("",i,this.engine),this._rendererCache.set(i,o)),o}var r=t.id,a=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,e),t.data.animation.forEach(function t(i){Array.isArray(i)?i.forEach(t):n.engine.registerTrigger(r,a,e,i.name,i)}),new rR(this,a,i,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then(function(){e._microtaskId++})}},{key:"scheduleListenerCallback",value:function(e,t,n){var i=this;e>=0&&e<this._microtaskId?this._zone.run(function(){return t(n)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){i._zone.run(function(){i._animationCallbacksBuffer.forEach(function(e){var t=_slicedToArray(e,2);(0,t[0])(t[1])}),i._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}()).\u0275fac=function(e){return new(e||JS)(i.Yb(i.F),i.Yb(RS),i.Yb(i.z))},JS.\u0275prov=i.Hb({token:JS,factory:JS.\u0275fac}),JS),oR=function(){function e(t,n,i){_classCallCheck(this,e),this.namespaceId=t,this.delegate=n,this.engine=i,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return _createClass(e,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,i)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,i){this.delegate.setStyle(e,t,n,i)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}},{key:"data",get:function(){return this.delegate.data}}]),e}(),rR=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,r){var a;return _classCallCheck(this,n),(a=t.call(this,i,o,r)).factory=e,a.namespaceId=i,a}return _createClass(n,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){var i,o,r=this;if("@"==t.charAt(0)){var a,s=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),c=t.substr(1),l="";return"@"!=c.charAt(0)&&(o=(i=c).indexOf("."),c=(a=_slicedToArray([i.substring(0,o),i.substr(o+1)],2))[0],l=a[1]),this.engine.listen(this.namespaceId,s,c,l,function(e){r.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}]),n}(oR),aR=((eR=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o){return _classCallCheck(this,n),t.call(this,e.body,i,o)}return n}(RS)).\u0275fac=function(e){return new(e||eR)(i.Yb(a.c),i.Yb(dE),i.Yb(nS))},eR.\u0275prov=i.Hb({token:eR,factory:eR.\u0275fac}),eR),sR=[{provide:dE,useFactory:function(){return"function"==typeof $S()?new qS:new HS}},{provide:new i.q("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:Ug.b,useClass:GS},{provide:nS,useFactory:function(){return new iS}},{provide:RS,useClass:aR},{provide:i.F,useFactory:function(e,t,n){return new iR(e,t,n)},deps:[r.d,RS,i.z]}],cR=((nR=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:nR}),nR.\u0275inj=i.Ib({factory:function(e){return new(e||nR)},providers:sR,imports:[r.a]}),nR),lR=((tR=function e(){_classCallCheck(this,e)}).\u0275mod=i.Jb({type:tR,bootstrap:[HP]}),tR.\u0275inj=i.Ib({factory:function(e){return new(e||tR)},providers:[{provide:i.d,useFactory:Su,deps:[Ru.d],multi:!0},Kg.a],imports:[[Mu.forRoot({useBootstrap4:!0}),r.a,cR,NP,ms,Gs,Ys.c,Cc,kc.b,jp,Hg.b,vs.k,Ru.a,vs.u,Pu.a.forRoot()]]}),tR);i.Cc(Iv,[Rp,Oy],[]),o.a.production&&Object(i.S)(),r.c().bootstrapModule(lR).catch(function(e){return console.error(e)})},zn8P:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"},zqZ1:function zqZ1(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return LinkPanelComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),src_app_services_lexical_entries_lexical_entries_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("h2iL"),_angular_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("ofXK"),_see_also_see_also_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("rVq+"),_same_as_same_as_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("/XOW");function LinkPanelComponent_span_5_Template(e,t){if(1&e&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kc(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb()),2&e){var n=_angular_core__WEBPACK_IMPORTED_MODULE_0__.fc();_angular_core__WEBPACK_IMPORTED_MODULE_0__.yb(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mc("(",n.counterElement,")")}}function LinkPanelComponent_app_see_also_9_Template(e,t){if(1&e&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb(0,"app-see-also",10),2&e){var n=_angular_core__WEBPACK_IMPORTED_MODULE_0__.fc();_angular_core__WEBPACK_IMPORTED_MODULE_0__.mc("seeAlsoData",n.seeAlsoData)}}function LinkPanelComponent_app_same_as_10_Template(e,t){if(1&e&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb(0,"app-same-as",11),2&e){var n=_angular_core__WEBPACK_IMPORTED_MODULE_0__.fc();_angular_core__WEBPACK_IMPORTED_MODULE_0__.mc("sameAsData",n.sameAsData)}}var LinkPanelComponent=function(){var LinkPanelComponent=function(){function LinkPanelComponent(e){_classCallCheck(this,LinkPanelComponent),this.lexicalService=e,this.counterElement=0}return _createClass(LinkPanelComponent,[{key:"ngOnInit",value:function ngOnInit(){var _this598=this;this.lexicalService.refreshLinkCounter$.subscribe(function(data){console.log(data),null!=data&&(_this598.counterElement=eval(_this598.counterElement.toString()+data))},function(e){})}},{key:"ngOnChanges",value:function(e){var t=this;if(null!=e.linkData.currentValue){if(this.counterElement=0,this.object=e.linkData.currentValue,this.sameAsData=null,this.seeAlsoData=null,null!=this.object.lexicalEntryInstanceName){var n=this.object.lexicalEntryInstanceName;this.lexicalService.getLexEntryLinguisticRelation(n,"sameAs").subscribe(function(e){console.log(e,t.object),t.sameAsData={},t.sameAsData.array=e,t.sameAsData.parentNodeLabel=t.object.lexicalEntry,t.sameAsData.lexicalEntryInstanceName=t.object.lexicalEntryInstanceName,t.sameAsData.type=t.object.type},function(e){console.log(t.object),t.sameAsData={},t.sameAsData.array=[],t.sameAsData.parentNodeLabel=t.object.lexicalEntry,t.sameAsData.lexicalEntryInstanceName=t.object.lexicalEntryInstanceName,t.sameAsData.label=t.object.label,t.sameAsData.type=t.object.type,console.log(e)}),this.lexicalService.getLexEntryLinguisticRelation(n,"seeAlso").subscribe(function(e){console.log(e),t.seeAlsoData={},t.seeAlsoData.array=e,t.seeAlsoData.parentNodeLabel=t.object.lexicalEntry,t.seeAlsoData.lexicalEntryInstanceName=t.object.lexicalEntryInstanceName},function(e){t.seeAlsoData={},t.seeAlsoData.array=[],t.seeAlsoData.parentNodeLabel=t.object.lexicalEntry,t.seeAlsoData.lexicalEntryInstanceName=t.object.lexicalEntryInstanceName}),this.object.links.forEach(function(e){null!=e.type&&"Reference"==e.type&&e.elements.forEach(function(e){t.counterElement+=e.count})})}else if(null!=this.object.formInstanceName){var i=this.object.formInstanceName;this.lexicalService.getLexEntryLinguisticRelation(i,"sameAs").subscribe(function(e){t.sameAsData={},t.sameAsData.array=e,t.sameAsData.formInstanceName=t.object.formInstanceName},function(e){t.sameAsData={},t.sameAsData.array=[],t.sameAsData.formInstanceName=t.object.formInstanceName}),this.lexicalService.getLexEntryLinguisticRelation(i,"seeAlso").subscribe(function(e){t.seeAlsoData={},t.seeAlsoData.array=e,t.seeAlsoData.formInstanceName=t.object.formInstanceName},function(e){t.seeAlsoData={},t.seeAlsoData.array=[],t.seeAlsoData.formInstanceName=t.object.formInstanceName}),null!=this.object.links&&this.object.links.forEach(function(e){null!=e.type&&"Reference"==e.type&&e.elements.forEach(function(e){t.counterElement+=e.count})})}else if(null!=this.object.senseInstanceName){var o=this.object.senseInstanceName;this.lexicalService.getLexEntryLinguisticRelation(o,"sameAs").subscribe(function(e){t.sameAsData={},t.sameAsData.array=e,t.sameAsData.senseInstanceName=t.object.senseInstanceName},function(e){t.sameAsData={},t.sameAsData.array=[],t.sameAsData.senseInstanceName=t.object.senseInstanceName}),this.lexicalService.getLexEntryLinguisticRelation(o,"seeAlso").subscribe(function(e){t.seeAlsoData={},t.seeAlsoData.array=e,t.seeAlsoData.senseInstanceName=t.object.senseInstanceName},function(e){t.seeAlsoData={},t.seeAlsoData.array=[],t.seeAlsoData.senseInstanceName=t.object.senseInstanceName}),null!=this.object.links&&this.object.links.forEach(function(e){null!=e.type&&"Reference"==e.type&&e.elements.forEach(function(e){t.counterElement+=e.count})})}else if(null!=this.object.etymologyInstanceName){var r=this.object.etymologyInstanceName;this.lexicalService.getLexEntryLinguisticRelation(r,"sameAs").subscribe(function(e){t.sameAsData={},t.sameAsData.array=e,t.sameAsData.etymologyInstanceName=t.object.etymologyInstanceName},function(e){t.sameAsData={},t.sameAsData.array=[],t.sameAsData.etymologyInstanceName=t.object.etymologyInstanceName}),this.lexicalService.getLexEntryLinguisticRelation(r,"seeAlso").subscribe(function(e){t.seeAlsoData={},t.seeAlsoData.array=e,t.seeAlsoData.etymologyInstanceName=t.object.etymologyInstanceName},function(e){t.seeAlsoData={},t.seeAlsoData.array=[],t.seeAlsoData.etymologyInstanceName=t.object.etymologyInstanceName}),null!=this.object.links&&this.object.links.forEach(function(e){null!=e.type&&"Reference"==e.type&&e.elements.forEach(function(e){t.counterElement+=e.count})})}}else this.counterElement=0,this.sameAsData=null,this.seeAlsoData=null}}]),LinkPanelComponent}();return LinkPanelComponent.\u0275fac=function(e){return new(e||LinkPanelComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(src_app_services_lexical_entries_lexical_entries_service__WEBPACK_IMPORTED_MODULE_1__.a))},LinkPanelComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Fb({type:LinkPanelComponent,selectors:[["app-link-panel"]],inputs:{linkData:"linkData"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.wb],decls:11,vars:3,consts:[[1,"card"],["id","referenceHeading",1,"card-header"],[1,"mb-0"],["data-toggle","collapse","data-target","#referenceCollapse","aria-expanded","true","aria-controls","referenceCollapse",1,"btn","btn-link","w-100","d-flex","align-self-center","collapsed"],[4,"ngIf"],[1,"fa","ml-auto"],["id","referenceCollapse","aria-labelledby","referenceHeading",1,"collapse"],[1,"card-body"],[3,"seeAlsoData",4,"ngIf"],[3,"sameAsData",4,"ngIf"],[3,"seeAlsoData"],[3,"sameAsData"]],template:function(e,t){1&e&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(2,"h5",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(3,"a",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kc(4," Link Panel\xa0 "),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ic(5,LinkPanelComponent_span_5_Template,2,1,"span",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb(6,"i",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(7,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(8,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ic(9,LinkPanelComponent_app_see_also_9_Template,1,1,"app-see-also",8),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ic(10,LinkPanelComponent_app_same_as_10_Template,1,1,"app-same-as",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb()),2&e&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.yb(5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.mc("ngIf",t.counterElement>0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.yb(4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.mc("ngIf",null!=t.seeAlsoData),_angular_core__WEBPACK_IMPORTED_MODULE_0__.yb(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.mc("ngIf",null!=t.sameAsData))},directives:[_angular_common__WEBPACK_IMPORTED_MODULE_2__.n,_see_also_see_also_component__WEBPACK_IMPORTED_MODULE_3__.a,_same_as_same_as_component__WEBPACK_IMPORTED_MODULE_4__.a],styles:['@charset "UTF-8";.btn[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{font-size:12px}.card-header[_ngcontent-%COMP%]{padding:0}[data-toggle=collapse][_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"\uf146"}[data-toggle=collapse].collapsed[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"\uf0fe"}a[_ngcontent-%COMP%]{text-decoration:none!important}.fa[_ngcontent-%COMP%]{margin-top:2px}']}),LinkPanelComponent}()},zx2A:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c});var i=n("7o/Q"),o=n("HDdC"),r=n("SeVD"),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).parent=e,i}return _createClass(n,[{key:"_next",value:function(e){this.parent.notifyNext(e)}},{key:"_error",value:function(e){this.parent.notifyError(e),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(i.a),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyError",value:function(e){this.destination.error(e)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(i.a);function c(e,t){if(!t.closed)return e instanceof o.a?e.subscribe(t):Object(r.a)(e)(t)}}},[[0,0]]])})();